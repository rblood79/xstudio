@import './base.css';

@layer components {
  .react-aria-ListBox,
  .react-aria-GridList {
    display: flex;
    flex-direction: column;
    border: 1px solid var(--border-color);
    border-radius: var(--border-radius);
    background: var(--overlay-background);
    forced-color-adjust: none;
    width: 100%;
    outline: none;
    overflow: auto;
    max-height: var(--container-6xl);
    padding: var(--spacing);

    &[data-focus-visible] {
      outline: 2px solid var(--focus-ring-color);
      outline-offset: -1px;
    }
    &[data-focus-within] {
      outline: 1px solid var(--focus-ring-color);

    }
  }

  .react-aria-ListBoxItem,
  .react-aria-GridListItem {
    position: relative;

    gap: var(--gap);
    cursor: default;
    padding: var(--spacing) var(--spacing-md);
    border-radius: var(--border-radius);
    font-size: var(--text-sm);
    color: var(--text-color);

    &[data-focused] {
      outline: 0px solid;
      outline-offset: -2px;
      outline-color: var(--focus-ring-color);
    }

    &[data-selected] {
      background: var(--highlight-background);
      color: var(--highlight-foreground);
    }

    &[data-disabled] {
      color: var(--text-color-disabled);
    }
  }

  /* ========================================================================
   * Skeleton Placeholder System (공통)
   *
   * DataBinding 설정 전 상태에서 shimmer 애니메이션 표시
   * 지원 컴포넌트: ListBoxItem, GridListItem, SelectItem, ComboBoxItem, MenuItem, TagGroupItem
   * ======================================================================== */

  /* Skeleton shimmer animation (공통) */
  @keyframes skeleton-shimmer {
    0% {
      background-position: 200% 0;
    }
    100% {
      background-position: -200% 0;
    }
  }

  /* Skeleton line base styles */
  .skeleton-line {
    height: 14px;
    border-radius: var(--radius-xs);
    background: linear-gradient(
      90deg,
      var(--surface-container-high) 25%,
      var(--surface-container-highest) 50%,
      var(--surface-container-high) 75%
    );
    background-size: 200% 100%;
    animation: skeleton-shimmer 1.5s ease-in-out infinite;
  }

  .skeleton-line.title {
    width: 70%;
    height: 14px;
    margin-bottom: var(--spacing-2xs);
  }

  .skeleton-line.desc {
    width: 50%;
    height: 10px;
  }

  /* Common skeleton item styles */
  .react-aria-ListBoxItem.skeleton,
  .react-aria-GridListItem.skeleton,
  .react-aria-SelectItem.skeleton,
  .react-aria-ComboBoxItem.skeleton,
  .react-aria-MenuItem.skeleton,
  .react-aria-Tag.skeleton {
    pointer-events: none;
    user-select: none;
    display: flex;
    flex-direction: column;
    align-items: flex-start;
  }

  /* Visual variety for multiple skeleton items */
  .skeleton:nth-child(2) .skeleton-line.title {
    width: 85%;
  }
  .skeleton:nth-child(2) .skeleton-line.desc {
    width: 40%;
  }

  .skeleton:nth-child(3) .skeleton-line.title {
    width: 60%;
  }
  .skeleton:nth-child(3) .skeleton-line.desc {
    width: 55%;
  }

  .skeleton:nth-child(4) .skeleton-line.title {
    width: 75%;
  }
  .skeleton:nth-child(4) .skeleton-line.desc {
    width: 45%;
  }

  .skeleton:nth-child(5) .skeleton-line.title {
    width: 65%;
  }
  .skeleton:nth-child(5) .skeleton-line.desc {
    width: 35%;
  }
}
