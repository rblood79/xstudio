import{D as L,r as h,u,j as t,b as r,T as S,d as g,w as D,i as b,h as v,P as c,a as y,F as f,l as j,e as T,q as M,R as G,a7 as k,t as U,y as F,c as w,H as I,f as P,E as z}from"./index-H2303PXP.js";import{P as l}from"./labels-C7QIhqP9.js";import{P as N}from"./pointer-off-CqnX0kLE.js";import{B as V}from"./binary-BhdlqH5e.js";import{F as q}from"./focus-BDehpVIM.js";const Y=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],Z=L("target",Y),X=h.memo(function({elementId:i,currentProps:a,onUpdate:B}){const[p,E]=h.useState(null),A=u(e=>e.addElement),C=u(e=>e.currentPageId),x=u(e=>e.updateElementProps),_=u(e=>e.setElements),m=u(e=>e.elements),R=h.useMemo(()=>u.getState().elementsMap.get(i)?.customId||"",[i]);h.useEffect(()=>{E(null)},[i]);const s=(e,o)=>{const n={...a,[e]:o};B(n)},d=h.useMemo(()=>m.filter(e=>e.parent_id===i&&e.tag==="ToggleButton").sort((e,o)=>(e.order_num||0)-(o.order_num||0)),[m,i]);if(p&&p.parentId===i){const e=d[p.buttonIndex];return e?t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"properties-aria",children:[t.jsx(r,{label:l.CHILDREN,value:String(e.props.children||""),onChange:o=>{const n={...e.props,children:o};x(e.id,n)},icon:S}),t.jsx(g,{label:l.DISABLED,isSelected:!!e.props.isDisabled,onChange:o=>{const n={...e.props,isDisabled:o};x(e.id,n)},icon:N}),t.jsx("div",{className:"tab-actions",children:t.jsxs("button",{className:"control-button delete",onClick:async()=>{try{await(await v()).elements.delete(e.id);const n=m.filter(O=>O.id!==e.id);_(n),E(null)}catch(o){console.error("ToggleButton ÏÇ≠Ï†ú Ï§ë Ïò§Î•ò:",o)}},children:[t.jsx(D,{color:b.color,strokeWidth:b.strokeWidth,size:b.size}),"Delete This Button"]})})]}),t.jsx("div",{className:"tab-actions",children:t.jsx("button",{className:"control-button secondary",onClick:()=>E(null),children:"Back to ToggleButtonGroup Settings"})})]}):null}return t.jsxs(t.Fragment,{children:[t.jsx(c,{title:"Basic",children:t.jsx(y,{label:"ID",value:R,elementId:i,placeholder:"togglebuttongroup_1"})}),t.jsxs(c,{title:"Content",children:[t.jsx(r,{label:l.LABEL,value:String(a.label||""),onChange:e=>s("label",e),icon:S}),t.jsx(r,{label:l.DESCRIPTION,value:String(a.description||""),onChange:e=>s("description",e),icon:f}),t.jsx(r,{label:l.ERROR_MESSAGE,value:String(a.errorMessage||""),onChange:e=>s("errorMessage",e),icon:j})]}),t.jsxs(c,{title:"Design",children:[t.jsx(T,{label:l.VARIANT,value:String(a.variant||"default"),onChange:e=>s("variant",e),options:[{value:"default",label:l.TOGGLEBUTTON_VARIANT_DEFAULT},{value:"primary",label:l.TOGGLEBUTTON_VARIANT_PRIMARY},{value:"secondary",label:l.TOGGLEBUTTON_VARIANT_SECONDARY},{value:"surface",label:l.TOGGLEBUTTON_VARIANT_SURFACE}],icon:M}),t.jsx(T,{label:l.SIZE,value:String(a.size||"md"),onChange:e=>s("size",e),options:[{value:"sm",label:l.SIZE_SM},{value:"md",label:l.SIZE_MD},{value:"lg",label:l.SIZE_LG}],icon:G}),t.jsx(T,{label:l.ORIENTATION,value:String(a.orientation||"horizontal"),onChange:e=>s("orientation",e),options:[{value:"horizontal",label:l.ORIENTATION_HORIZONTAL},{value:"vertical",label:l.ORIENTATION_VERTICAL}],icon:k}),t.jsx(g,{label:l.INDICATOR,isSelected:a.indicator===!0,onChange:e=>{s("indicator",e)},icon:Z})]}),t.jsxs(c,{title:"State",children:[t.jsx(T,{label:l.SELECTION_MODE,value:String(a.selectionMode||"single"),onChange:e=>s("selectionMode",e),options:[{value:"single",label:l.SELECTION_MODE_SINGLE},{value:"multiple",label:l.SELECTION_MODE_MULTIPLE}],icon:V}),t.jsx(g,{label:l.REQUIRED,isSelected:!!a.isRequired,onChange:e=>s("isRequired",e),icon:U}),t.jsx(g,{label:l.INVALID,isSelected:!!a.isInvalid,onChange:e=>s("isInvalid",e),icon:j})]}),t.jsxs(c,{title:"Behavior",children:[t.jsx(g,{label:l.DISABLED,isSelected:!!a.isDisabled,onChange:e=>s("isDisabled",e),icon:N}),t.jsx(g,{label:l.AUTO_FOCUS,isSelected:!!a.autoFocus,onChange:e=>s("autoFocus",e),icon:q})]}),t.jsx(c,{title:"Form Integration",children:t.jsx(r,{label:l.NAME,value:String(a.name||""),onChange:e=>s("name",e||void 0),icon:F,placeholder:"togglebutton-group-name"})}),t.jsxs(c,{title:"Accessibility",children:[t.jsx(r,{label:l.ARIA_LABEL,value:String(a["aria-label"]||""),onChange:e=>s("aria-label",e||void 0),icon:w,placeholder:"Toggle button group label for screen readers"}),t.jsx(r,{label:l.ARIA_LABELLEDBY,value:String(a["aria-labelledby"]||""),onChange:e=>s("aria-labelledby",e||void 0),icon:I,placeholder:"label-element-id"}),t.jsx(r,{label:l.ARIA_DESCRIBEDBY,value:String(a["aria-describedby"]||""),onChange:e=>s("aria-describedby",e||void 0),icon:I,placeholder:"description-element-id"})]}),t.jsxs(c,{title:l.BUTTON_MANAGEMENT,children:[t.jsxs("div",{className:"tab-overview",children:[t.jsxs("p",{className:"tab-overview-text",children:["Total buttons: ",d.length||0]}),t.jsx("p",{className:"section-overview-help",children:"üí° Select individual buttons from list to edit text and state"})]}),d.length>0&&t.jsx("div",{className:"tabs-list",children:d.map((e,o)=>t.jsxs("div",{className:"tab-list-item",children:[t.jsx("span",{className:"tab-title",children:String(e.props.children||`Button ${o+1}`)}),t.jsx("button",{className:"tab-edit-button",onClick:()=>E({parentId:i,buttonIndex:o}),children:"Edit"})]},e.id))}),t.jsx("div",{className:"tab-actions",children:t.jsxs("button",{className:"control-button add",onClick:async()=>{try{const e={id:z.generateId(),page_id:C||"1",tag:"ToggleButton",props:{isSelected:!1,defaultSelected:!1,children:`Toggle ${(d.length||0)+1}`,style:{},className:""},parent_id:i,order_num:(d.length||0)+1},n=await(await v()).elements.insert(e);A(n),console.log("‚úÖ [IndexedDB] ÏÉà ToggleButton Ï∂îÍ∞ÄÎê®:",n)}catch(e){console.error("ToggleButton Ï∂îÍ∞Ä Ï§ë Ïò§Î•ò:",e)}},children:[t.jsx(P,{color:b.color,strokeWidth:b.strokeWidth,size:b.size}),l.ADD_TOGGLE_BUTTON]})})]})]})});export{X as ToggleButtonGroupEditor};
