import{r as l,u as d,aq as C,j as t,P as c,a as b,ar as v,b as x,F as E,T as N,e as I,t as k,J as q,as as w}from"./index-B9PwOwK_.js";const B=l.memo(function({elementId:n,currentProps:a,onUpdate:h}){const{customId:g,children:m}=l.useMemo(()=>{const e=d.getState().elementsMap,s=e.get(n),i=[];return e.forEach(o=>{o.parent_id===n&&i.push({id:o.id,tag:o.tag,customId:o.customId})}),i.sort((o,S)=>{const y=e.get(o.id),f=e.get(S.id);return(y?.order_num||0)-(f?.order_num||0)}),{customId:s?.customId||"",children:i}},[n]),p=C(e=>e.setSelectedElement),r=l.useCallback((e,s)=>{const i={...a,[e]:s};h(i)},[a,h]),j=l.useCallback(e=>{const s=d.getState().updateElement;s&&n&&s(n,{customId:e})},[n]),u=l.useCallback(e=>{const i=d.getState().elementsMap.get(e);i&&p({id:i.id,type:i.tag,properties:i.props})},[p]);return t.jsxs(t.Fragment,{children:[t.jsx(c,{title:"Basic",children:t.jsx(b,{label:"ID",value:g,elementId:n,onChange:j,placeholder:"slot_main"})}),t.jsxs(c,{title:"Slot Settings",icon:v,children:[t.jsx(x,{label:"Name",value:String(a.name||""),onChange:e=>r("name",e||"content"),placeholder:"content",icon:E,description:"Unique identifier (e.g., content, sidebar, navigation)"}),t.jsx(x,{label:"Description",value:String(a.description||""),onChange:e=>r("description",e||void 0),placeholder:"Main content area",icon:N,description:"Optional description for this slot"}),t.jsx(I,{label:"Required",isSelected:!!a.required,onChange:e=>r("required",e),icon:k,description:"Pages must provide content for this slot"})]}),t.jsx(c,{title:"Slot Content",icon:q,children:m.length===0?t.jsx("div",{className:"slot-children-preview",children:t.jsx("div",{className:"slot-children-empty",children:"No content in this slot yet"})}):t.jsx("div",{className:"slot-children-preview",children:m.map(e=>t.jsxs("div",{className:"slot-child-item",onClick:()=>u(e.id),role:"button",tabIndex:0,onKeyDown:s=>{(s.key==="Enter"||s.key===" ")&&u(e.id)},children:[t.jsx(w,{size:14,className:"slot-child-icon"}),t.jsx("span",{className:"slot-child-name",children:e.customId||e.tag}),t.jsx("span",{className:"slot-child-type",children:e.tag})]},e.id))})}),t.jsx(c,{title:"Usage Info",children:t.jsxs("div",{className:"slot-editor-info",children:[t.jsx("p",{className:"slot-editor-info-text",children:"Slots are placeholders in Layouts where Page content will be inserted."}),t.jsxs("ul",{className:"slot-editor-info-list",children:[t.jsx("li",{children:"Each Slot should have a unique name within the Layout"}),t.jsx("li",{children:"Common names: content, sidebar, header, footer, navigation"}),t.jsx("li",{children:"Required slots must be filled by all Pages using this Layout"})]})]})})]})});export{B as SlotEditor,B as default};
