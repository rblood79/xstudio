import{r as p,u as h,j as r,b as o,f as C,P as m,a as y,e as N,T as _,H as v,S as A,i as x,g as D,E as w,h as L}from"./index-BYIeUA-_.js";import{P as c}from"./labels-C7QIhqP9.js";import{P as k}from"./pointer-off-Ct7MW5ou.js";const Y=p.memo(function({elementId:t,currentProps:d,onUpdate:E}){const[u,g]=p.useState(null),{addElement:S,elements:l,currentPageId:f}=h(),B=l.find(e=>e.id===t),P=B?.customId||"",b=(e,a)=>{const s={...d,[e]:a};E(s)},n=p.useMemo(()=>l.filter(e=>e.parent_id===t&&e.tag==="Breadcrumb").sort((e,a)=>(e.order_num||0)-(a.order_num||0)),[l,t]);if(u&&u.parentId===t){const e=n[u.breadcrumbIndex];if(!e)return null;const a=e.props;return r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"properties-aria",children:[r.jsx(o,{label:c.TEXT,value:String(a.children||""),onChange:s=>{const i=h.getState().updateElementProps;i(e.id,{...a,children:s})},icon:C}),r.jsx(o,{label:"Href",value:String(a.href||""),onChange:s=>{const i=h.getState().updateElementProps;i(e.id,{...a,href:s})},placeholder:"/"})]}),r.jsx("div",{className:"tab-actions",children:r.jsx("button",{className:"control-button secondary",onClick:()=>g(null),children:"Back to Breadcrumbs Settings"})})]})}return r.jsxs(r.Fragment,{children:[r.jsx(m,{title:"Basic",children:r.jsx(y,{label:"ID",value:P,elementId:t,placeholder:"breadcrumbs_1"})}),r.jsx(m,{title:"Behavior",children:r.jsx(N,{label:c.DISABLED,isSelected:!!d.isDisabled,onChange:e=>b("isDisabled",e),icon:k})}),r.jsxs(m,{title:"Accessibility",children:[r.jsx(o,{label:c.ARIA_LABEL,value:String(d["aria-label"]||""),onChange:e=>b("aria-label",e||void 0),icon:_,placeholder:"Breadcrumb navigation for screen readers"}),r.jsx(o,{label:c.ARIA_LABELLEDBY,value:String(d["aria-labelledby"]||""),onChange:e=>b("aria-labelledby",e||void 0),icon:v,placeholder:"label-element-id"}),r.jsx(o,{label:c.ARIA_DESCRIBEDBY,value:String(d["aria-describedby"]||""),onChange:e=>b("aria-describedby",e||void 0),icon:v,placeholder:"description-element-id"})]}),r.jsxs(m,{title:"Breadcrumb Management",children:[r.jsxs("div",{className:"tab-overview",children:[r.jsxs("p",{className:"tab-overview-text",children:["Total breadcrumbs: ",n.length||0]}),r.jsx("p",{className:"section-overview-help",children:"ğŸ’¡ Click on individual breadcrumbs to edit text and href"})]}),n.length>0&&r.jsx("div",{className:"tabs-list",children:n.map((e,a)=>{const s=e.props;return r.jsxs("div",{className:"tab-list-item",children:[r.jsx("span",{className:"tab-title",children:String(s.children)||`Breadcrumb ${a+1}`}),r.jsx("button",{className:"tab-edit-button",onClick:()=>g({parentId:t,breadcrumbIndex:a}),children:"Edit"})]},e.id)})}),r.jsx("div",{className:"tab-actions",children:r.jsxs("button",{className:"control-button add",onClick:async()=>{try{const e=f||B?.page_id;if(!e){console.error("í˜ì´ì§€ IDë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤");return}const a=n.length||0,s=n.length>0?Math.max(...n.map(I=>I.order_num||0)):0,i={id:w.generateId(),customId:D("Breadcrumb",l),page_id:e,tag:"Breadcrumb",props:{children:`Breadcrumb ${a+1}`,href:"/"},parent_id:t,order_num:s+1},j=await(await L()).elements.insert(i);S(j),console.log("âœ… [IndexedDB] ìƒˆ Breadcrumb ì¶”ê°€ë¨:",j)}catch(e){console.error("Breadcrumb ì¶”ê°€ ì¤‘ ì˜¤ë¥˜:",e)}},children:[r.jsx(A,{color:x.color,strokeWidth:x.stroke,size:x.size}),"Add Breadcrumb"]})})]})]})});export{Y as BreadcrumbsEditor};
