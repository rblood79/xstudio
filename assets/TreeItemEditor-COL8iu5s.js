import{r as c,u as h,j as t,P as n,a as f,b as o,f as S,F as A,ac as y,e as B,T as L,H as b,aw as D,i as u,g as _,E as w,h as P}from"./index-DeDvoCpU.js";import{P as s}from"./labels-C7QIhqP9.js";import{B as R}from"./binary-BwHcH8nk.js";import{P as N}from"./pointer-off-CPJQi-Ad.js";const z=c.memo(function({elementId:r,currentProps:a,onUpdate:p}){const{addElement:v,elements:d}=h(),[m,E]=c.useState(""),T=d.find(e=>e.id===r)?.customId||"",i=(e,l)=>{const I={...a,[e]:l};p(I)},j=e=>{const l=h.getState().updateElement;l&&r&&l(r,{customId:e})};c.useEffect(()=>{const{currentPageId:e}=h.getState();e&&E(e)},[]);const g=c.useMemo(()=>d.filter(e=>e.parent_id===r&&e.tag==="TreeItem").sort((e,l)=>(e.order_num||0)-(l.order_num||0)),[d,r]),C=async()=>{try{if(!m){alert("íŽ˜ì´ì§€ IDë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤. íŽ˜ì´ì§€ë¥¼ ìƒˆë¡œê³ ì¹¨í•´ì£¼ì„¸ìš”.");return}const e=g.length||0,l={id:w.generateId(),customId:_("TreeItem",d),page_id:m,tag:"TreeItem",props:{title:`Child Item ${e+1}`,value:`Child Item ${e+1}`,children:"",isDisabled:!1},parent_id:r,order_num:e},x=await(await P()).elements.insert(l);v(x),console.log("âœ… [IndexedDB] ìƒˆ í•˜ìœ„ TreeItemì´ ì¶”ê°€ë¨:",x)}catch(e){console.error("Add Child TreeItem error:",e),alert("í•˜ìœ„ TreeItem ì¶”ê°€ ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤. ë‹¤ì‹œ ì‹œë„í•´ì£¼ì„¸ìš”.")}};return t.jsxs(t.Fragment,{children:[t.jsx(n,{title:"Basic",children:t.jsx(f,{label:"ID",value:T,elementId:r,onChange:j,placeholder:"treeitem_1"})}),t.jsxs(n,{title:"Content",children:[t.jsx(o,{label:s.TITLE,value:String(a.title||""),onChange:e=>i("title",e||void 0),icon:S}),t.jsx(o,{label:s.VALUE,value:String(a.value||""),onChange:e=>i("value",e||void 0),icon:R}),t.jsx(o,{label:s.TEXT_VALUE,value:String(a.textValue||""),onChange:e=>i("textValue",e||void 0),icon:A}),t.jsx(o,{label:s.HREF,value:String(a.href||""),onChange:e=>i("href",e||void 0),icon:y,placeholder:"https://example.com"})]}),t.jsx(n,{title:"Behavior",children:t.jsx(B,{label:s.DISABLED,isSelected:!!a.isDisabled,onChange:e=>i("isDisabled",e),icon:N})}),t.jsxs(n,{title:"Accessibility",children:[t.jsx(o,{label:s.ARIA_LABEL,value:String(a["aria-label"]||""),onChange:e=>i("aria-label",e||void 0),icon:L,placeholder:"Tree item label for screen readers"}),t.jsx(o,{label:s.ARIA_LABELLEDBY,value:String(a["aria-labelledby"]||""),onChange:e=>i("aria-labelledby",e||void 0),icon:b,placeholder:"label-element-id"}),t.jsx(o,{label:s.ARIA_DESCRIBEDBY,value:String(a["aria-describedby"]||""),onChange:e=>i("aria-describedby",e||void 0),icon:b,placeholder:"description-element-id"})]}),t.jsxs(n,{title:"Child TreeItems",children:[t.jsxs("div",{className:"tree-item-overview",children:[t.jsxs("p",{className:"tree-item-overview-text",children:["Child tree items: ",g.length||0]}),t.jsx("p",{className:"tree-item-overview-help",children:"ðŸ’¡ Select individual child tree items from layer tree to edit their properties"})]}),t.jsx("div",{className:"tree-item-actions",children:t.jsxs("button",{className:"control-button add",onClick:C,disabled:!m,children:[t.jsx(D,{color:u.color,strokeWidth:u.stroke,size:u.size}),"Add Child TreeItem"]})})]})]})});export{z as TreeItemEditor};
