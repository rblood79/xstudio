import{D as ne,r as s,u as oe,x as ce,j as a,P as b,a as de,b as o,T as J,F as he,l as be,e as v,as as ge,H as x,d as m,t as me,M as Ce,y as Se,c as ue,I as ve,J as xe,f as je,i as C,w as ye}from"./index-E3FmdX9_.js";import{P as t}from"./labels-C7QIhqP9.js";import{u as Ee}from"./useCollectionItemManager-CrHSN_yL.js";import{S as Me}from"./spell-check-2-5Gg36PtA.js";import{S as ke}from"./square-x-COhwPCzj.js";import{P as $}from"./pointer-off-CSZvabuv.js";import{P as De}from"./pen-off-CMdnDaj9.js";import{F as Ie}from"./focus-4MILWQea.js";import{B as fe}from"./binary-C01I_S05.js";const Ae=[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}],["path",{d:"M14 4h7",key:"3xa0d5"}],["path",{d:"M14 9h7",key:"1icrd9"}],["path",{d:"M14 15h7",key:"1mj8o2"}],["path",{d:"M14 20h7",key:"11slyb"}]],Le=ne("layout-list",Ae),qe=s.memo(function({elementId:d,currentProps:e,onUpdate:i}){const{children:c,selectedItemIndex:E,selectItem:M,deselectItem:y,addItem:k,deleteItem:D,updateItem:g}=Ee({elementId:d,childTag:"SelectItem",defaultItemProps:l=>({label:`Option ${l+1}`,value:`option${l+1}`})}),I=s.useMemo(()=>oe.getState().elementsMap.get(d)?.customId||"",[d]);s.useEffect(()=>{y()},[d,y]);const f=s.useCallback(l=>{i({...e,label:l||void 0})},[e,i]),A=s.useCallback(l=>{i({...e,description:l||void 0})},[e,i]),L=s.useCallback(l=>{i({...e,errorMessage:l||void 0})},[e,i]),B=s.useCallback(l=>{i({...e,placeholder:l||void 0})},[e,i]),O=s.useCallback(l=>{i({...e,selectedValue:l||void 0})},[e,i]),R=s.useCallback(l=>{i({...e,defaultSelectedKey:l||void 0})},[e,i]),N=s.useCallback(l=>{i({...e,disallowEmptySelection:l})},[e,i]),T=s.useCallback(l=>{i({...e,isRequired:l})},[e,i]),_=s.useCallback(l=>{i({...e,isDisabled:l})},[e,i]),F=s.useCallback(l=>{i({...e,isReadOnly:l})},[e,i]),V=s.useCallback(l=>{i({...e,autoFocus:l})},[e,i]),w=s.useCallback(l=>{i({...e,menuTrigger:l})},[e,i]),q=s.useCallback(l=>{i({...e,name:l||void 0})},[e,i]),K=s.useCallback(l=>{i({...e,validationBehavior:l})},[e,i]),Y=s.useCallback(l=>{i({...e,"aria-label":l||void 0})},[e,i]),H=s.useCallback(l=>{i({...e,"aria-labelledby":l||void 0})},[e,i]),W=s.useCallback(l=>{i({...e,"aria-describedby":l||void 0})},[e,i]),z=s.useCallback(l=>{i({...e,dataBinding:l||void 0})},[e,i]),G=s.useCallback(l=>{i({...e,selectionMode:l})},[e,i]),r=s.useCallback(l=>{i({...e,multipleDisplayMode:l})},[e,i]),Q=s.useCallback((l,n)=>{const h=c.find(u=>u.id===l);if(!h)return;const S={...h.props,label:n};g(l,S)},[c,g]),X=s.useCallback((l,n)=>{const h=c.find(u=>u.id===l);if(!h)return;const S={...h.props,value:n};g(l,S)},[c,g]),Z=s.useCallback((l,n)=>{const h=c.find(u=>u.id===l);if(!h)return;const S={...h.props,isDisabled:n};g(l,S)},[c,g]),p=s.useCallback(async l=>{try{const{error:n}=await ce.from("elements").delete().eq("id",l);if(n){console.error("SelectItem ì‚­ì œ ì—ëŸ¬:",n);return}D(l)}catch(n){console.error("SelectItem ì‚­ì œ ì¤‘ ì˜¤ë¥˜:",n)}},[D]),U=s.useMemo(()=>a.jsx(b,{title:"Basic",children:a.jsx(de,{label:"ID",value:I,elementId:d,placeholder:"select_1"})}),[I,d]),P=s.useMemo(()=>a.jsxs(b,{title:"Content",children:[a.jsx(o,{label:t.LABEL,value:String(e.label||""),onChange:f,icon:J}),a.jsx(o,{label:t.DESCRIPTION,value:String(e.description||""),onChange:A,icon:he}),a.jsx(o,{label:t.ERROR_MESSAGE,value:String(e.errorMessage||""),onChange:L,icon:be}),a.jsx(o,{label:t.PLACEHOLDER,value:String(e.placeholder||""),onChange:B,icon:Me})]}),[e.label,e.description,e.errorMessage,e.placeholder,f,A,L,B]),ee=s.useMemo(()=>a.jsxs(b,{title:"State",children:[a.jsx(v,{label:"Selection Mode",value:String(e.selectionMode||"single"),onChange:G,options:[{value:"single",label:"Single"},{value:"multiple",label:"Multiple"}],icon:ge}),e.selectionMode==="multiple"&&a.jsx(v,{label:"Display Mode",value:String(e.multipleDisplayMode||"count"),onChange:r,options:[{value:"count",label:'Count (e.g., "3 selected")'},{value:"list",label:'List (e.g., "A, B, C")'},{value:"custom",label:"Custom"}],icon:Le}),a.jsx(o,{label:t.VALUE,value:String(e.selectedValue||""),onChange:O,icon:x}),a.jsx(o,{label:t.DEFAULT_SELECTED_KEY,value:String(e.defaultSelectedKey||""),onChange:R,icon:x}),a.jsx(m,{label:t.DISALLOW_EMPTY_SELECTION,isSelected:!!e.disallowEmptySelection,onChange:N,icon:ke}),a.jsx(m,{label:t.REQUIRED,isSelected:!!e.isRequired,onChange:T,icon:me})]}),[e.selectionMode,e.multipleDisplayMode,e.selectedValue,e.defaultSelectedKey,e.disallowEmptySelection,e.isRequired,G,r,O,R,N,T]),le=s.useMemo(()=>a.jsxs(b,{title:"Behavior",children:[a.jsx(m,{label:t.DISABLED,isSelected:!!e.isDisabled,onChange:_,icon:$}),a.jsx(m,{label:t.READONLY,isSelected:!!e.isReadOnly,onChange:F,icon:De}),a.jsx(m,{label:t.AUTO_FOCUS,isSelected:!!e.autoFocus,onChange:V,icon:Ie}),a.jsx(v,{label:t.MENU_TRIGGER,value:String(e.menuTrigger||"click"),onChange:w,options:[{value:"click",label:t.CLICK},{value:"hover",label:t.HOVER}],icon:Ce})]}),[e.isDisabled,e.isReadOnly,e.autoFocus,e.menuTrigger,_,F,V,w]),ae=s.useMemo(()=>a.jsxs(b,{title:"Form Integration",children:[a.jsx(o,{label:t.NAME,value:String(e.name||""),onChange:q,icon:Se,placeholder:"select-name"}),a.jsx(v,{label:t.VALIDATION_BEHAVIOR,value:String(e.validationBehavior||"native"),onChange:K,options:[{value:"native",label:"Native"},{value:"aria",label:"ARIA"}]})]}),[e.name,e.validationBehavior,q,K]),ie=s.useMemo(()=>a.jsxs(b,{title:"Accessibility",children:[a.jsx(o,{label:t.ARIA_LABEL,value:String(e["aria-label"]||""),onChange:Y,icon:ue,placeholder:"Select label for screen readers"}),a.jsx(o,{label:t.ARIA_LABELLEDBY,value:String(e["aria-labelledby"]||""),onChange:H,icon:x,placeholder:"label-element-id"}),a.jsx(o,{label:t.ARIA_DESCRIBEDBY,value:String(e["aria-describedby"]||""),onChange:W,icon:x,placeholder:"description-element-id"})]}),[e,Y,H,W]),se=s.useMemo(()=>a.jsx(b,{title:"Data Binding",icon:ve,children:a.jsx(xe,{label:"ë°ì´í„° ì†ŒìŠ¤",value:e.dataBinding,onChange:z})}),[e.dataBinding,z]),te=s.useMemo(()=>a.jsxs(b,{title:t.ITEM_MANAGEMENT,children:[a.jsxs("div",{className:"tab-overview",children:[a.jsxs("p",{className:"tab-overview-text",children:["Total items: ",c.length||0]}),a.jsx("p",{className:"section-overview-help",children:"ðŸ’¡ Select individual items from list to edit properties"})]}),c.length>0&&a.jsx("div",{className:"tabs-list",children:c.map((l,n)=>a.jsxs("div",{className:"tab-list-item",children:[a.jsxs("span",{className:"tab-title",children:[String(l.props.label)||`Item ${n+1}`,e.selectedValue===l.props.value&&" âœ“"]}),a.jsx("button",{className:"tab-edit-button",onClick:()=>M(n),children:"Edit"})]},l.id))}),a.jsx("div",{className:"tab-actions",children:a.jsxs("button",{className:"control-button add",onClick:k,children:[a.jsx(je,{color:C.color,strokeWidth:C.strokeWidth,size:C.size}),"Add Item"]})})]}),[c,e.selectedValue,M,k]);if(E!==null){const l=c[E];return l?a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"properties-aria",children:[a.jsx(o,{label:t.LABEL,value:String(l.props.label||""),onChange:n=>Q(l.id,n),icon:J}),a.jsx(o,{label:t.VALUE,value:String(l.props.value||""),onChange:n=>X(l.id,n),icon:fe}),a.jsx(m,{label:t.DISABLED,isSelected:!!l.props.isDisabled,onChange:n=>Z(l.id,n),icon:$}),a.jsx("div",{className:"tab-actions",children:a.jsxs("button",{className:"control-button delete",onClick:()=>p(l.id),children:[a.jsx(ye,{color:C.color,strokeWidth:C.strokeWidth,size:C.size}),"Delete This Item"]})})]}),a.jsx("div",{className:"tab-actions",children:a.jsx("button",{className:"control-button secondary",onClick:y,children:t.CLOSE})})]}):null}return a.jsxs(a.Fragment,{children:[U,P,se,ee,le,ae,ie,te]})},(j,d)=>j.elementId===d.elementId&&JSON.stringify(j.currentProps)===JSON.stringify(d.currentProps));export{qe as SelectEditor};
