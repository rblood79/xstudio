/**
 * Translation System
 *
 * Contains translations for all supported locales
 */

import type { TranslationKeys, SupportedLocale } from './types';

/**
 * Korean translations
 */
const koKR: TranslationKeys = {
  common: {
    save: '저장',
    cancel: '취소',
    delete: '삭제',
    edit: '편집',
    add: '추가',
    remove: '제거',
    close: '닫기',
    open: '열기',
    loading: '로딩 중...',
    error: '오류',
    success: '성공',
    warning: '경고',
    info: '정보',
    confirm: '확인',
    back: '뒤로',
    next: '다음',
    previous: '이전',
    search: '검색',
    filter: '필터',
    clear: '지우기',
    reset: '초기화',
    apply: '적용',
    select: '선택',
    selectAll: '모두 선택',
    deselectAll: '모두 선택 해제',
  },
  builder: {
    title: 'XStudio 빌더',
    newProject: '새 프로젝트',
    openProject: '프로젝트 열기',
    saveProject: '프로젝트 저장',
    addElement: '요소 추가',
    deleteElement: '요소 삭제',
    duplicateElement: '요소 복제',
    undo: '실행 취소',
    redo: '다시 실행',
    preview: '미리보기',
    publish: '게시',
    settings: '설정',
  },
  components: {
    button: '버튼',
    input: '입력',
    select: '선택',
    checkbox: '체크박스',
    radio: '라디오',
    switch: '스위치',
    slider: '슬라이더',
    datePicker: '날짜 선택',
    timePicker: '시간 선택',
    colorPicker: '색상 선택',
    fileUpload: '파일 업로드',
    table: '테이블',
    form: '폼',
    dialog: '대화상자',
    modal: '모달',
    popover: '팝오버',
    tooltip: '툴팁',
    menu: '메뉴',
    tabs: '탭',
    accordion: '아코디언',
    card: '카드',
    badge: '배지',
    tag: '태그',
    progressBar: '진행 표시줄',
    meter: '미터',
    calendar: '캘린더',
    tree: '트리',
  },
  validation: {
    required: '필수 항목입니다',
    minLength: '최소 {min}자 이상이어야 합니다',
    maxLength: '최대 {max}자 이하여야 합니다',
    email: '유효한 이메일 주소를 입력하세요',
    url: '유효한 URL을 입력하세요',
    pattern: '올바른 형식이 아닙니다',
    min: '최소값은 {min}입니다',
    max: '최대값은 {max}입니다',
    invalidDate: '유효한 날짜를 입력하세요',
    invalidTime: '유효한 시간을 입력하세요',
    invalidNumber: '유효한 숫자를 입력하세요',
  },
  messages: {
    projectCreated: '프로젝트가 생성되었습니다',
    projectSaved: '프로젝트가 저장되었습니다',
    projectDeleted: '프로젝트가 삭제되었습니다',
    elementAdded: '요소가 추가되었습니다',
    elementDeleted: '요소가 삭제되었습니다',
    elementUpdated: '요소가 업데이트되었습니다',
    unsavedChanges: '저장되지 않은 변경사항이 있습니다',
    confirmDelete: '정말 삭제하시겠습니까?',
    confirmLeave: '변경사항이 저장되지 않았습니다. 페이지를 나가시겠습니까?',
    noResults: '검색 결과가 없습니다',
    loadingData: '데이터를 불러오는 중...',
    errorLoadingData: '데이터를 불러오는 중 오류가 발생했습니다',
  },
};

/**
 * English translations
 */
const enUS: TranslationKeys = {
  common: {
    save: 'Save',
    cancel: 'Cancel',
    delete: 'Delete',
    edit: 'Edit',
    add: 'Add',
    remove: 'Remove',
    close: 'Close',
    open: 'Open',
    loading: 'Loading...',
    error: 'Error',
    success: 'Success',
    warning: 'Warning',
    info: 'Info',
    confirm: 'Confirm',
    back: 'Back',
    next: 'Next',
    previous: 'Previous',
    search: 'Search',
    filter: 'Filter',
    clear: 'Clear',
    reset: 'Reset',
    apply: 'Apply',
    select: 'Select',
    selectAll: 'Select All',
    deselectAll: 'Deselect All',
  },
  builder: {
    title: 'XStudio Builder',
    newProject: 'New Project',
    openProject: 'Open Project',
    saveProject: 'Save Project',
    addElement: 'Add Element',
    deleteElement: 'Delete Element',
    duplicateElement: 'Duplicate Element',
    undo: 'Undo',
    redo: 'Redo',
    preview: 'Preview',
    publish: 'Publish',
    settings: 'Settings',
  },
  components: {
    button: 'Button',
    input: 'Input',
    select: 'Select',
    checkbox: 'Checkbox',
    radio: 'Radio',
    switch: 'Switch',
    slider: 'Slider',
    datePicker: 'Date Picker',
    timePicker: 'Time Picker',
    colorPicker: 'Color Picker',
    fileUpload: 'File Upload',
    table: 'Table',
    form: 'Form',
    dialog: 'Dialog',
    modal: 'Modal',
    popover: 'Popover',
    tooltip: 'Tooltip',
    menu: 'Menu',
    tabs: 'Tabs',
    accordion: 'Accordion',
    card: 'Card',
    badge: 'Badge',
    tag: 'Tag',
    progressBar: 'Progress Bar',
    meter: 'Meter',
    calendar: 'Calendar',
    tree: 'Tree',
  },
  validation: {
    required: 'This field is required',
    minLength: 'Must be at least {min} characters',
    maxLength: 'Must be at most {max} characters',
    email: 'Please enter a valid email address',
    url: 'Please enter a valid URL',
    pattern: 'Invalid format',
    min: 'Minimum value is {min}',
    max: 'Maximum value is {max}',
    invalidDate: 'Please enter a valid date',
    invalidTime: 'Please enter a valid time',
    invalidNumber: 'Please enter a valid number',
  },
  messages: {
    projectCreated: 'Project created successfully',
    projectSaved: 'Project saved successfully',
    projectDeleted: 'Project deleted successfully',
    elementAdded: 'Element added successfully',
    elementDeleted: 'Element deleted successfully',
    elementUpdated: 'Element updated successfully',
    unsavedChanges: 'You have unsaved changes',
    confirmDelete: 'Are you sure you want to delete this?',
    confirmLeave: 'You have unsaved changes. Do you want to leave this page?',
    noResults: 'No results found',
    loadingData: 'Loading data...',
    errorLoadingData: 'Error loading data',
  },
};

/**
 * Japanese translations
 */
const jaJP: TranslationKeys = {
  common: {
    save: '保存',
    cancel: 'キャンセル',
    delete: '削除',
    edit: '編集',
    add: '追加',
    remove: '削除',
    close: '閉じる',
    open: '開く',
    loading: '読み込み中...',
    error: 'エラー',
    success: '成功',
    warning: '警告',
    info: '情報',
    confirm: '確認',
    back: '戻る',
    next: '次へ',
    previous: '前へ',
    search: '検索',
    filter: 'フィルター',
    clear: 'クリア',
    reset: 'リセット',
    apply: '適用',
    select: '選択',
    selectAll: 'すべて選択',
    deselectAll: 'すべて選択解除',
  },
  builder: {
    title: 'XStudio ビルダー',
    newProject: '新しいプロジェクト',
    openProject: 'プロジェクトを開く',
    saveProject: 'プロジェクトを保存',
    addElement: '要素を追加',
    deleteElement: '要素を削除',
    duplicateElement: '要素を複製',
    undo: '元に戻す',
    redo: 'やり直す',
    preview: 'プレビュー',
    publish: '公開',
    settings: '設定',
  },
  components: {
    button: 'ボタン',
    input: '入力',
    select: '選択',
    checkbox: 'チェックボックス',
    radio: 'ラジオ',
    switch: 'スイッチ',
    slider: 'スライダー',
    datePicker: '日付選択',
    timePicker: '時間選択',
    colorPicker: '色選択',
    fileUpload: 'ファイルアップロード',
    table: 'テーブル',
    form: 'フォーム',
    dialog: 'ダイアログ',
    modal: 'モーダル',
    popover: 'ポップオーバー',
    tooltip: 'ツールチップ',
    menu: 'メニュー',
    tabs: 'タブ',
    accordion: 'アコーディオン',
    card: 'カード',
    badge: 'バッジ',
    tag: 'タグ',
    progressBar: 'プログレスバー',
    meter: 'メーター',
    calendar: 'カレンダー',
    tree: 'ツリー',
  },
  validation: {
    required: 'この項目は必須です',
    minLength: '{min}文字以上である必要があります',
    maxLength: '{max}文字以下である必要があります',
    email: '有効なメールアドレスを入力してください',
    url: '有効なURLを入力してください',
    pattern: '無効な形式です',
    min: '最小値は{min}です',
    max: '最大値は{max}です',
    invalidDate: '有効な日付を入力してください',
    invalidTime: '有効な時間を入力してください',
    invalidNumber: '有効な数値を入力してください',
  },
  messages: {
    projectCreated: 'プロジェクトが作成されました',
    projectSaved: 'プロジェクトが保存されました',
    projectDeleted: 'プロジェクトが削除されました',
    elementAdded: '要素が追加されました',
    elementDeleted: '要素が削除されました',
    elementUpdated: '要素が更新されました',
    unsavedChanges: '保存されていない変更があります',
    confirmDelete: '本当に削除しますか？',
    confirmLeave: '保存されていない変更があります。ページを離れますか？',
    noResults: '検索結果がありません',
    loadingData: 'データを読み込んでいます...',
    errorLoadingData: 'データの読み込み中にエラーが発生しました',
  },
};

/**
 * Chinese (Simplified) translations
 */
const zhCN: TranslationKeys = {
  common: {
    save: '保存',
    cancel: '取消',
    delete: '删除',
    edit: '编辑',
    add: '添加',
    remove: '移除',
    close: '关闭',
    open: '打开',
    loading: '加载中...',
    error: '错误',
    success: '成功',
    warning: '警告',
    info: '信息',
    confirm: '确认',
    back: '返回',
    next: '下一步',
    previous: '上一步',
    search: '搜索',
    filter: '筛选',
    clear: '清除',
    reset: '重置',
    apply: '应用',
    select: '选择',
    selectAll: '全选',
    deselectAll: '取消全选',
  },
  builder: {
    title: 'XStudio 构建器',
    newProject: '新建项目',
    openProject: '打开项目',
    saveProject: '保存项目',
    addElement: '添加元素',
    deleteElement: '删除元素',
    duplicateElement: '复制元素',
    undo: '撤销',
    redo: '重做',
    preview: '预览',
    publish: '发布',
    settings: '设置',
  },
  components: {
    button: '按钮',
    input: '输入',
    select: '选择',
    checkbox: '复选框',
    radio: '单选框',
    switch: '开关',
    slider: '滑块',
    datePicker: '日期选择器',
    timePicker: '时间选择器',
    colorPicker: '颜色选择器',
    fileUpload: '文件上传',
    table: '表格',
    form: '表单',
    dialog: '对话框',
    modal: '模态框',
    popover: '弹出框',
    tooltip: '提示框',
    menu: '菜单',
    tabs: '标签页',
    accordion: '手风琴',
    card: '卡片',
    badge: '徽章',
    tag: '标签',
    progressBar: '进度条',
    meter: '仪表',
    calendar: '日历',
    tree: '树形',
  },
  validation: {
    required: '此项为必填项',
    minLength: '至少需要{min}个字符',
    maxLength: '最多{max}个字符',
    email: '请输入有效的电子邮件地址',
    url: '请输入有效的URL',
    pattern: '格式无效',
    min: '最小值为{min}',
    max: '最大值为{max}',
    invalidDate: '请输入有效的日期',
    invalidTime: '请输入有效的时间',
    invalidNumber: '请输入有效的数字',
  },
  messages: {
    projectCreated: '项目创建成功',
    projectSaved: '项目保存成功',
    projectDeleted: '项目删除成功',
    elementAdded: '元素添加成功',
    elementDeleted: '元素删除成功',
    elementUpdated: '元素更新成功',
    unsavedChanges: '您有未保存的更改',
    confirmDelete: '确定要删除吗？',
    confirmLeave: '您有未保存的更改。确定要离开此页面吗？',
    noResults: '未找到结果',
    loadingData: '正在加载数据...',
    errorLoadingData: '加载数据时出错',
  },
};

/**
 * All translations map
 */
export const translations: Record<SupportedLocale, TranslationKeys> = {
  'ko-KR': koKR,
  'en-US': enUS,
  'ja-JP': jaJP,
  'zh-CN': zhCN,
};

/**
 * Get translation for a key
 */
export function getTranslation(locale: SupportedLocale, key: string): string {
  const keys = key.split('.');
  let value: unknown = translations[locale];

  for (const k of keys) {
    if (typeof value === 'object' && value !== null && k in value) {
      value = (value as Record<string, unknown>)[k];
    } else {
      return key; // Return key if translation not found
    }
  }

  return typeof value === 'string' ? value : key;
}

/**
 * Replace placeholders in translation string
 * Example: replacePlaceholders("Hello {name}", { name: "World" }) => "Hello World"
 */
export function replacePlaceholders(
  text: string,
  params: Record<string, string | number>
): string {
  return text.replace(/\{(\w+)\}/g, (match, key) => {
    return key in params ? String(params[key]) : match;
  });
}
