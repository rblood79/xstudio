const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/AutocompleteEditor-BZgE6lwO.js","assets/labels-C7QIhqP9.js","assets/pointer-off-CY0zEkfL.js","assets/focus-TZGj-lPU.js","assets/BadgeEditor-Cakag-XD.js","assets/parentheses-DOajE7hz.js","assets/circle-BvYO1DjR.js","assets/BreadcrumbEditor-8SxzrHB7.js","assets/BreadcrumbsEditor-DhWPCUdH.js","assets/ButtonEditor-CqQe3y6Q.js","assets/CalendarEditor-BG_h-FsB.js","assets/pen-off-CXscHUps.js","assets/CardEditor-BB9Pm6Lc.js","assets/arrow-up-down-DiNsLTfL.js","assets/eye-off-8gxvsL5V.js","assets/CellEditor-CQn-qBLg.js","assets/CheckboxEditor-COWq08Mo.js","assets/minus-DtYoxSjO.js","assets/CheckboxGroupEditor-DOFYxVkI.js","assets/ratio-D4_gTTmG.js","assets/ColorAreaEditor-B8iI1Cd1.js","assets/move-CCte0tPB.js","assets/ColorFieldEditor-CEP135RM.js","assets/ColorPickerEditor-BWbQ2dAd.js","assets/ColorSliderEditor-DspYjHRU.js","assets/ColorSwatchEditor-CO5nvtlX.js","assets/ColorSwatchPickerEditor-BioUGBd9.js","assets/ColorWheelEditor-BklSU7dj.js","assets/ColumnEditor-BBvNlSb5.js","assets/ColumnGroupEditor-oVrztwgo.js","assets/ComboBoxEditor-sQjhEl2w.js","assets/useCollectionItemManager-DGwOIOaQ.js","assets/binary-BiZUuhmE.js","assets/ComboBoxItemEditor-BPLl0SWE.js","assets/DateFieldEditor-BB3Y1Cdw.js","assets/DatePickerEditor-DbHlxAal.js","assets/DateRangePickerEditor-Bvg2nqRi.js","assets/DialogEditor-BYc4FTOe.js","assets/DisclosureEditor-B_eP-kHc.js","assets/DisclosureGroupEditor-Biepye_7.js","assets/DropZoneEditor-Bmt8WbGW.js","assets/FieldEditor-CeUkpOHv.js","assets/FileTriggerEditor-1hHOd_Js.js","assets/FormEditor-BInLYhHx.js","assets/GridListEditor-C4ZyPHp5.js","assets/square-x-ZpFw5xX6.js","assets/GridListItemEditor-HlUIqe49.js","assets/GroupEditor-D9dVmdvs.js","assets/LayoutBodyEditor-CTfSkaII.js","assets/LayoutSlugEditor-DWCtQyUT.js","assets/slugValidator-DYMUhltT.js","assets/LayoutBodyEditor-BpWL5bwL.css","assets/LinkEditor-BBn0X8Em.js","assets/ListBoxEditor-1ennoFab.js","assets/ListBoxItemEditor-DKbG7no_.js","assets/MenuEditor-Dw47VwwL.js","assets/MenuItemEditor-Kae4v0ZS.js","assets/MeterEditor-BACXpItw.js","assets/dollar-sign-lmCzp1ZK.js","assets/ModalEditor-Blge-asV.js","assets/NumberFieldEditor-MI-rh8lm.js","assets/spell-check-2-Dwqbjmqq.js","assets/PageBodyEditor-BmJpS5G7.js","assets/PageLayoutSelector-D0_5XzTx.js","assets/PageParentSelector-BkugJBXK.js","assets/folder-tree-CyJMwo34.js","assets/PanelEditor-Col9Yj_8.js","assets/PopoverEditor-BS20L2WD.js","assets/map-pin-Ci9KBf6Y.js","assets/ProgressBarEditor-Ck5MnqXg.js","assets/RadioEditor-BioPIn0D.js","assets/check-check-BiRJEMoQ.js","assets/RadioGroupEditor-mF1D02p2.js","assets/RangeCalendarEditor-BF3EsUCN.js","assets/ResponsiveVisibilityEditor-CfwiMSg4.js","assets/RowEditor-vviPgynF.js","assets/SearchFieldEditor-DcT34tII.js","assets/SelectEditor-B_Dlabp_.js","assets/SelectItemEditor-CPM2cy9b.js","assets/SeparatorEditor-CP0rJmQB.js","assets/SliderEditor-B8Yz9-EE.js","assets/SwitchEditor-bKSRrQSZ.js","assets/TabEditor-B5HKJqDG.js","assets/TableBodyEditor-umtJwH1O.js","assets/TableEditor-BlZGn8kl.js","assets/TableEditor-CPvubtIO.css","assets/TableHeaderEditor-BXDuDcEN.js","assets/TabsEditor-bojAlh0E.js","assets/TagEditor-BpKJjUYt.js","assets/TagGroupEditor-CbB9e3FJ.js","assets/TailSwatchEditor-DS3LGL0H.js","assets/TextFieldEditor-fm-RjDwf.js","assets/TimeFieldEditor-oJQu26bC.js","assets/ToastEditor-DjRqsMpg.js","assets/ToggleButtonEditor-D6CIyf__.js","assets/ToggleButtonGroupEditor-DNjQdm9B.js","assets/ToolbarEditor-DXUhYVPD.js","assets/TooltipEditor-C26Y1nq-.js","assets/TreeEditor-C1evsj_j.js","assets/TreeItemEditor-B0ET_vmm.js","assets/browserAll-DaANnzYl.js","assets/webworkerAll-BD40Yx_A.js","assets/colorToUniform-BXaCBwVl.js","assets/WebGPURenderer-B8zTwQBX.js","assets/SharedSystems-xVO9Yw7M.js","assets/WebGLRenderer-C5e7b4cn.js"])))=>i.map(i=>d[i]);
(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var p2=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function G0(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var JM={exports:{}},WS={};var m7;function Mge(){if(m7)return WS;m7=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,i,s){var o=null;if(s!==void 0&&(o=""+s),i.key!==void 0&&(o=""+i.key),"key"in i){s={};for(var a in i)a!=="key"&&(s[a]=i[a])}else s=i;return i=s.ref,{$$typeof:t,type:r,key:o,ref:i!==void 0?i:null,props:s}}return WS.Fragment=e,WS.jsx=n,WS.jsxs=n,WS}var A7;function kge(){return A7||(A7=1,JM.exports=Mge()),JM.exports}var h=kge(),ZM={exports:{}},Dr={};var y7;function Pge(){if(y7)return Dr;y7=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),o=Symbol.for("react.context"),a=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),c=Symbol.for("react.lazy"),d=Symbol.for("react.activity"),f=Symbol.iterator;function p(Y){return Y===null||typeof Y!="object"?null:(Y=f&&Y[f]||Y["@@iterator"],typeof Y=="function"?Y:null)}var m={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,y={};function A(Y,Z,ee){this.props=Y,this.context=Z,this.refs=y,this.updater=ee||m}A.prototype.isReactComponent={},A.prototype.setState=function(Y,Z){if(typeof Y!="object"&&typeof Y!="function"&&Y!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,Y,Z,"setState")},A.prototype.forceUpdate=function(Y){this.updater.enqueueForceUpdate(this,Y,"forceUpdate")};function C(){}C.prototype=A.prototype;function E(Y,Z,ee){this.props=Y,this.context=Z,this.refs=y,this.updater=ee||m}var I=E.prototype=new C;I.constructor=E,v(I,A.prototype),I.isPureReactComponent=!0;var D=Array.isArray;function T(){}var M={H:null,A:null,T:null,S:null},P=Object.prototype.hasOwnProperty;function k(Y,Z,ee){var ie=ee.ref;return{$$typeof:t,type:Y,key:Z,ref:ie!==void 0?ie:null,props:ee}}function L(Y,Z){return k(Y.type,Z,Y.props)}function $(Y){return typeof Y=="object"&&Y!==null&&Y.$$typeof===t}function z(Y){var Z={"=":"=0",":":"=2"};return"$"+Y.replace(/[=:]/g,function(ee){return Z[ee]})}var j=/\/+/g;function H(Y,Z){return typeof Y=="object"&&Y!==null&&Y.key!=null?z(""+Y.key):Z.toString(36)}function W(Y){switch(Y.status){case"fulfilled":return Y.value;case"rejected":throw Y.reason;default:switch(typeof Y.status=="string"?Y.then(T,T):(Y.status="pending",Y.then(function(Z){Y.status==="pending"&&(Y.status="fulfilled",Y.value=Z)},function(Z){Y.status==="pending"&&(Y.status="rejected",Y.reason=Z)})),Y.status){case"fulfilled":return Y.value;case"rejected":throw Y.reason}}throw Y}function O(Y,Z,ee,ie,ue){var ae=typeof Y;(ae==="undefined"||ae==="boolean")&&(Y=null);var de=!1;if(Y===null)de=!0;else switch(ae){case"bigint":case"string":case"number":de=!0;break;case"object":switch(Y.$$typeof){case t:case e:de=!0;break;case c:return de=Y._init,O(de(Y._payload),Z,ee,ie,ue)}}if(de)return ue=ue(Y),de=ie===""?"."+H(Y,0):ie,D(ue)?(ee="",de!=null&&(ee=de.replace(j,"$&/")+"/"),O(ue,Z,ee,"",function(we){return we})):ue!=null&&($(ue)&&(ue=L(ue,ee+(ue.key==null||Y&&Y.key===ue.key?"":(""+ue.key).replace(j,"$&/")+"/")+de)),Z.push(ue)),1;de=0;var ge=ie===""?".":ie+":";if(D(Y))for(var _e=0;_e<Y.length;_e++)ie=Y[_e],ae=ge+H(ie,_e),de+=O(ie,Z,ee,ae,ue);else if(_e=p(Y),typeof _e=="function")for(Y=_e.call(Y),_e=0;!(ie=Y.next()).done;)ie=ie.value,ae=ge+H(ie,_e++),de+=O(ie,Z,ee,ae,ue);else if(ae==="object"){if(typeof Y.then=="function")return O(W(Y),Z,ee,ie,ue);throw Z=String(Y),Error("Objects are not valid as a React child (found: "+(Z==="[object Object]"?"object with keys {"+Object.keys(Y).join(", ")+"}":Z)+"). If you meant to render a collection of children, use an array instead.")}return de}function G(Y,Z,ee){if(Y==null)return Y;var ie=[],ue=0;return O(Y,ie,"","",function(ae){return Z.call(ee,ae,ue++)}),ie}function q(Y){if(Y._status===-1){var Z=Y._result;Z=Z(),Z.then(function(ee){(Y._status===0||Y._status===-1)&&(Y._status=1,Y._result=ee)},function(ee){(Y._status===0||Y._status===-1)&&(Y._status=2,Y._result=ee)}),Y._status===-1&&(Y._status=0,Y._result=Z)}if(Y._status===1)return Y._result.default;throw Y._result}var J=typeof reportError=="function"?reportError:function(Y){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Z=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof Y=="object"&&Y!==null&&typeof Y.message=="string"?String(Y.message):String(Y),error:Y});if(!window.dispatchEvent(Z))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",Y);return}console.error(Y)},te={map:G,forEach:function(Y,Z,ee){G(Y,function(){Z.apply(this,arguments)},ee)},count:function(Y){var Z=0;return G(Y,function(){Z++}),Z},toArray:function(Y){return G(Y,function(Z){return Z})||[]},only:function(Y){if(!$(Y))throw Error("React.Children.only expected to receive a single React element child.");return Y}};return Dr.Activity=d,Dr.Children=te,Dr.Component=A,Dr.Fragment=n,Dr.Profiler=i,Dr.PureComponent=E,Dr.StrictMode=r,Dr.Suspense=l,Dr.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=M,Dr.__COMPILER_RUNTIME={__proto__:null,c:function(Y){return M.H.useMemoCache(Y)}},Dr.cache=function(Y){return function(){return Y.apply(null,arguments)}},Dr.cacheSignal=function(){return null},Dr.cloneElement=function(Y,Z,ee){if(Y==null)throw Error("The argument must be a React element, but you passed "+Y+".");var ie=v({},Y.props),ue=Y.key;if(Z!=null)for(ae in Z.key!==void 0&&(ue=""+Z.key),Z)!P.call(Z,ae)||ae==="key"||ae==="__self"||ae==="__source"||ae==="ref"&&Z.ref===void 0||(ie[ae]=Z[ae]);var ae=arguments.length-2;if(ae===1)ie.children=ee;else if(1<ae){for(var de=Array(ae),ge=0;ge<ae;ge++)de[ge]=arguments[ge+2];ie.children=de}return k(Y.type,ue,ie)},Dr.createContext=function(Y){return Y={$$typeof:o,_currentValue:Y,_currentValue2:Y,_threadCount:0,Provider:null,Consumer:null},Y.Provider=Y,Y.Consumer={$$typeof:s,_context:Y},Y},Dr.createElement=function(Y,Z,ee){var ie,ue={},ae=null;if(Z!=null)for(ie in Z.key!==void 0&&(ae=""+Z.key),Z)P.call(Z,ie)&&ie!=="key"&&ie!=="__self"&&ie!=="__source"&&(ue[ie]=Z[ie]);var de=arguments.length-2;if(de===1)ue.children=ee;else if(1<de){for(var ge=Array(de),_e=0;_e<de;_e++)ge[_e]=arguments[_e+2];ue.children=ge}if(Y&&Y.defaultProps)for(ie in de=Y.defaultProps,de)ue[ie]===void 0&&(ue[ie]=de[ie]);return k(Y,ae,ue)},Dr.createRef=function(){return{current:null}},Dr.forwardRef=function(Y){return{$$typeof:a,render:Y}},Dr.isValidElement=$,Dr.lazy=function(Y){return{$$typeof:c,_payload:{_status:-1,_result:Y},_init:q}},Dr.memo=function(Y,Z){return{$$typeof:u,type:Y,compare:Z===void 0?null:Z}},Dr.startTransition=function(Y){var Z=M.T,ee={};M.T=ee;try{var ie=Y(),ue=M.S;ue!==null&&ue(ee,ie),typeof ie=="object"&&ie!==null&&typeof ie.then=="function"&&ie.then(T,J)}catch(ae){J(ae)}finally{Z!==null&&ee.types!==null&&(Z.types=ee.types),M.T=Z}},Dr.unstable_useCacheRefresh=function(){return M.H.useCacheRefresh()},Dr.use=function(Y){return M.H.use(Y)},Dr.useActionState=function(Y,Z,ee){return M.H.useActionState(Y,Z,ee)},Dr.useCallback=function(Y,Z){return M.H.useCallback(Y,Z)},Dr.useContext=function(Y){return M.H.useContext(Y)},Dr.useDebugValue=function(){},Dr.useDeferredValue=function(Y,Z){return M.H.useDeferredValue(Y,Z)},Dr.useEffect=function(Y,Z){return M.H.useEffect(Y,Z)},Dr.useEffectEvent=function(Y){return M.H.useEffectEvent(Y)},Dr.useId=function(){return M.H.useId()},Dr.useImperativeHandle=function(Y,Z,ee){return M.H.useImperativeHandle(Y,Z,ee)},Dr.useInsertionEffect=function(Y,Z){return M.H.useInsertionEffect(Y,Z)},Dr.useLayoutEffect=function(Y,Z){return M.H.useLayoutEffect(Y,Z)},Dr.useMemo=function(Y,Z){return M.H.useMemo(Y,Z)},Dr.useOptimistic=function(Y,Z){return M.H.useOptimistic(Y,Z)},Dr.useReducer=function(Y,Z,ee){return M.H.useReducer(Y,Z,ee)},Dr.useRef=function(Y){return M.H.useRef(Y)},Dr.useState=function(Y){return M.H.useState(Y)},Dr.useSyncExternalStore=function(Y,Z,ee){return M.H.useSyncExternalStore(Y,Z,ee)},Dr.useTransition=function(){return M.H.useTransition()},Dr.version="19.2.3",Dr}var v7;function qE(){return v7||(v7=1,ZM.exports=Pge()),ZM.exports}var x=qE();const xe=G0(x);var e5={exports:{}},qS={},t5={exports:{}},n5={};var b7;function Rge(){return b7||(b7=1,(function(t){function e(O,G){var q=O.length;O.push(G);e:for(;0<q;){var J=q-1>>>1,te=O[J];if(0<i(te,G))O[J]=G,O[q]=te,q=J;else break e}}function n(O){return O.length===0?null:O[0]}function r(O){if(O.length===0)return null;var G=O[0],q=O.pop();if(q!==G){O[0]=q;e:for(var J=0,te=O.length,Y=te>>>1;J<Y;){var Z=2*(J+1)-1,ee=O[Z],ie=Z+1,ue=O[ie];if(0>i(ee,q))ie<te&&0>i(ue,ee)?(O[J]=ue,O[ie]=q,J=ie):(O[J]=ee,O[Z]=q,J=Z);else if(ie<te&&0>i(ue,q))O[J]=ue,O[ie]=q,J=ie;else break e}}return G}function i(O,G){var q=O.sortIndex-G.sortIndex;return q!==0?q:O.id-G.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],c=1,d=null,f=3,p=!1,m=!1,v=!1,y=!1,A=typeof setTimeout=="function"?setTimeout:null,C=typeof clearTimeout=="function"?clearTimeout:null,E=typeof setImmediate<"u"?setImmediate:null;function I(O){for(var G=n(u);G!==null;){if(G.callback===null)r(u);else if(G.startTime<=O)r(u),G.sortIndex=G.expirationTime,e(l,G);else break;G=n(u)}}function D(O){if(v=!1,I(O),!m)if(n(l)!==null)m=!0,T||(T=!0,z());else{var G=n(u);G!==null&&W(D,G.startTime-O)}}var T=!1,M=-1,P=5,k=-1;function L(){return y?!0:!(t.unstable_now()-k<P)}function $(){if(y=!1,T){var O=t.unstable_now();k=O;var G=!0;try{e:{m=!1,v&&(v=!1,C(M),M=-1),p=!0;var q=f;try{t:{for(I(O),d=n(l);d!==null&&!(d.expirationTime>O&&L());){var J=d.callback;if(typeof J=="function"){d.callback=null,f=d.priorityLevel;var te=J(d.expirationTime<=O);if(O=t.unstable_now(),typeof te=="function"){d.callback=te,I(O),G=!0;break t}d===n(l)&&r(l),I(O)}else r(l);d=n(l)}if(d!==null)G=!0;else{var Y=n(u);Y!==null&&W(D,Y.startTime-O),G=!1}}break e}finally{d=null,f=q,p=!1}G=void 0}}finally{G?z():T=!1}}}var z;if(typeof E=="function")z=function(){E($)};else if(typeof MessageChannel<"u"){var j=new MessageChannel,H=j.port2;j.port1.onmessage=$,z=function(){H.postMessage(null)}}else z=function(){A($,0)};function W(O,G){M=A(function(){O(t.unstable_now())},G)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(O){O.callback=null},t.unstable_forceFrameRate=function(O){0>O||125<O?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<O?Math.floor(1e3/O):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_next=function(O){switch(f){case 1:case 2:case 3:var G=3;break;default:G=f}var q=f;f=G;try{return O()}finally{f=q}},t.unstable_requestPaint=function(){y=!0},t.unstable_runWithPriority=function(O,G){switch(O){case 1:case 2:case 3:case 4:case 5:break;default:O=3}var q=f;f=O;try{return G()}finally{f=q}},t.unstable_scheduleCallback=function(O,G,q){var J=t.unstable_now();switch(typeof q=="object"&&q!==null?(q=q.delay,q=typeof q=="number"&&0<q?J+q:J):q=J,O){case 1:var te=-1;break;case 2:te=250;break;case 5:te=1073741823;break;case 4:te=1e4;break;default:te=5e3}return te=q+te,O={id:c++,callback:G,priorityLevel:O,startTime:q,expirationTime:te,sortIndex:-1},q>J?(O.sortIndex=q,e(u,O),n(l)===null&&O===n(u)&&(v?(C(M),M=-1):v=!0,W(D,q-J))):(O.sortIndex=te,e(l,O),m||p||(m=!0,T||(T=!0,z()))),O},t.unstable_shouldYield=L,t.unstable_wrapCallback=function(O){var G=f;return function(){var q=f;f=G;try{return O.apply(this,arguments)}finally{f=q}}}})(n5)),n5}var x7;function Nge(){return x7||(x7=1,t5.exports=Rge()),t5.exports}var r5={exports:{}},Tu={};var C7;function Lge(){if(C7)return Tu;C7=1;var t=qE();function e(l){var u="https://react.dev/errors/"+l;if(1<arguments.length){u+="?args[]="+encodeURIComponent(arguments[1]);for(var c=2;c<arguments.length;c++)u+="&args[]="+encodeURIComponent(arguments[c])}return"Minified React error #"+l+"; visit "+u+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},i=Symbol.for("react.portal");function s(l,u,c){var d=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:d==null?null:""+d,children:l,containerInfo:u,implementation:c}}var o=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function a(l,u){if(l==="font")return"";if(typeof u=="string")return u==="use-credentials"?u:""}return Tu.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Tu.createPortal=function(l,u){var c=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!u||u.nodeType!==1&&u.nodeType!==9&&u.nodeType!==11)throw Error(e(299));return s(l,u,null,c)},Tu.flushSync=function(l){var u=o.T,c=r.p;try{if(o.T=null,r.p=2,l)return l()}finally{o.T=u,r.p=c,r.d.f()}},Tu.preconnect=function(l,u){typeof l=="string"&&(u?(u=u.crossOrigin,u=typeof u=="string"?u==="use-credentials"?u:"":void 0):u=null,r.d.C(l,u))},Tu.prefetchDNS=function(l){typeof l=="string"&&r.d.D(l)},Tu.preinit=function(l,u){if(typeof l=="string"&&u&&typeof u.as=="string"){var c=u.as,d=a(c,u.crossOrigin),f=typeof u.integrity=="string"?u.integrity:void 0,p=typeof u.fetchPriority=="string"?u.fetchPriority:void 0;c==="style"?r.d.S(l,typeof u.precedence=="string"?u.precedence:void 0,{crossOrigin:d,integrity:f,fetchPriority:p}):c==="script"&&r.d.X(l,{crossOrigin:d,integrity:f,fetchPriority:p,nonce:typeof u.nonce=="string"?u.nonce:void 0})}},Tu.preinitModule=function(l,u){if(typeof l=="string")if(typeof u=="object"&&u!==null){if(u.as==null||u.as==="script"){var c=a(u.as,u.crossOrigin);r.d.M(l,{crossOrigin:c,integrity:typeof u.integrity=="string"?u.integrity:void 0,nonce:typeof u.nonce=="string"?u.nonce:void 0})}}else u==null&&r.d.M(l)},Tu.preload=function(l,u){if(typeof l=="string"&&typeof u=="object"&&u!==null&&typeof u.as=="string"){var c=u.as,d=a(c,u.crossOrigin);r.d.L(l,c,{crossOrigin:d,integrity:typeof u.integrity=="string"?u.integrity:void 0,nonce:typeof u.nonce=="string"?u.nonce:void 0,type:typeof u.type=="string"?u.type:void 0,fetchPriority:typeof u.fetchPriority=="string"?u.fetchPriority:void 0,referrerPolicy:typeof u.referrerPolicy=="string"?u.referrerPolicy:void 0,imageSrcSet:typeof u.imageSrcSet=="string"?u.imageSrcSet:void 0,imageSizes:typeof u.imageSizes=="string"?u.imageSizes:void 0,media:typeof u.media=="string"?u.media:void 0})}},Tu.preloadModule=function(l,u){if(typeof l=="string")if(u){var c=a(u.as,u.crossOrigin);r.d.m(l,{as:typeof u.as=="string"&&u.as!=="script"?u.as:void 0,crossOrigin:c,integrity:typeof u.integrity=="string"?u.integrity:void 0})}else r.d.m(l)},Tu.requestFormReset=function(l){r.d.r(l)},Tu.unstable_batchedUpdates=function(l,u){return l(u)},Tu.useFormState=function(l,u,c){return o.H.useFormState(l,u,c)},Tu.useFormStatus=function(){return o.H.useHostTransitionStatus()},Tu.version="19.2.3",Tu}var E7;function RY(){if(E7)return r5.exports;E7=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),r5.exports=Lge(),r5.exports}var S7;function Fge(){if(S7)return qS;S7=1;var t=Nge(),e=qE(),n=RY();function r(g){var b="https://react.dev/errors/"+g;if(1<arguments.length){b+="?args[]="+encodeURIComponent(arguments[1]);for(var _=2;_<arguments.length;_++)b+="&args[]="+encodeURIComponent(arguments[_])}return"Minified React error #"+g+"; visit "+b+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(g){return!(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)}function s(g){var b=g,_=g;if(g.alternate)for(;b.return;)b=b.return;else{g=b;do b=g,(b.flags&4098)!==0&&(_=b.return),g=b.return;while(g)}return b.tag===3?_:null}function o(g){if(g.tag===13){var b=g.memoizedState;if(b===null&&(g=g.alternate,g!==null&&(b=g.memoizedState)),b!==null)return b.dehydrated}return null}function a(g){if(g.tag===31){var b=g.memoizedState;if(b===null&&(g=g.alternate,g!==null&&(b=g.memoizedState)),b!==null)return b.dehydrated}return null}function l(g){if(s(g)!==g)throw Error(r(188))}function u(g){var b=g.alternate;if(!b){if(b=s(g),b===null)throw Error(r(188));return b!==g?null:g}for(var _=g,R=b;;){var Q=_.return;if(Q===null)break;var K=Q.alternate;if(K===null){if(R=Q.return,R!==null){_=R;continue}break}if(Q.child===K.child){for(K=Q.child;K;){if(K===_)return l(Q),g;if(K===R)return l(Q),b;K=K.sibling}throw Error(r(188))}if(_.return!==R.return)_=Q,R=K;else{for(var oe=!1,ye=Q.child;ye;){if(ye===_){oe=!0,_=Q,R=K;break}if(ye===R){oe=!0,R=Q,_=K;break}ye=ye.sibling}if(!oe){for(ye=K.child;ye;){if(ye===_){oe=!0,_=K,R=Q;break}if(ye===R){oe=!0,R=K,_=Q;break}ye=ye.sibling}if(!oe)throw Error(r(189))}}if(_.alternate!==R)throw Error(r(190))}if(_.tag!==3)throw Error(r(188));return _.stateNode.current===_?g:b}function c(g){var b=g.tag;if(b===5||b===26||b===27||b===6)return g;for(g=g.child;g!==null;){if(b=c(g),b!==null)return b;g=g.sibling}return null}var d=Object.assign,f=Symbol.for("react.element"),p=Symbol.for("react.transitional.element"),m=Symbol.for("react.portal"),v=Symbol.for("react.fragment"),y=Symbol.for("react.strict_mode"),A=Symbol.for("react.profiler"),C=Symbol.for("react.consumer"),E=Symbol.for("react.context"),I=Symbol.for("react.forward_ref"),D=Symbol.for("react.suspense"),T=Symbol.for("react.suspense_list"),M=Symbol.for("react.memo"),P=Symbol.for("react.lazy"),k=Symbol.for("react.activity"),L=Symbol.for("react.memo_cache_sentinel"),$=Symbol.iterator;function z(g){return g===null||typeof g!="object"?null:(g=$&&g[$]||g["@@iterator"],typeof g=="function"?g:null)}var j=Symbol.for("react.client.reference");function H(g){if(g==null)return null;if(typeof g=="function")return g.$$typeof===j?null:g.displayName||g.name||null;if(typeof g=="string")return g;switch(g){case v:return"Fragment";case A:return"Profiler";case y:return"StrictMode";case D:return"Suspense";case T:return"SuspenseList";case k:return"Activity"}if(typeof g=="object")switch(g.$$typeof){case m:return"Portal";case E:return g.displayName||"Context";case C:return(g._context.displayName||"Context")+".Consumer";case I:var b=g.render;return g=g.displayName,g||(g=b.displayName||b.name||"",g=g!==""?"ForwardRef("+g+")":"ForwardRef"),g;case M:return b=g.displayName||null,b!==null?b:H(g.type)||"Memo";case P:b=g._payload,g=g._init;try{return H(g(b))}catch{}}return null}var W=Array.isArray,O=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,G=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,q={pending:!1,data:null,method:null,action:null},J=[],te=-1;function Y(g){return{current:g}}function Z(g){0>te||(g.current=J[te],J[te]=null,te--)}function ee(g,b){te++,J[te]=g.current,g.current=b}var ie=Y(null),ue=Y(null),ae=Y(null),de=Y(null);function ge(g,b){switch(ee(ae,b),ee(ue,g),ee(ie,null),b.nodeType){case 9:case 11:g=(g=b.documentElement)&&(g=g.namespaceURI)?Ab(g):0;break;default:if(g=b.tagName,b=b.namespaceURI)b=Ab(b),g=Bu(b,g);else switch(g){case"svg":g=1;break;case"math":g=2;break;default:g=0}}Z(ie),ee(ie,g)}function _e(){Z(ie),Z(ue),Z(ae)}function we(g){g.memoizedState!==null&&ee(de,g);var b=ie.current,_=Bu(b,g.type);b!==_&&(ee(ue,g),ee(ie,_))}function ke(g){ue.current===g&&(Z(ie),Z(ue)),de.current===g&&(Z(de),ry._currentValue=q)}var Fe,Ee;function Me(g){if(Fe===void 0)try{throw Error()}catch(_){var b=_.stack.trim().match(/\n( *(at )?)/);Fe=b&&b[1]||"",Ee=-1<_.stack.indexOf(`
    at`)?" (<anonymous>)":-1<_.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Fe+g+Ee}var Ue=!1;function Ge(g,b){if(!g||Ue)return"";Ue=!0;var _=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var R={DetermineComponentFrameRoot:function(){try{if(b){var $t=function(){throw Error()};if(Object.defineProperty($t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct($t,[])}catch(bt){var ft=bt}Reflect.construct(g,[],$t)}else{try{$t.call()}catch(bt){ft=bt}g.call($t.prototype)}}else{try{throw Error()}catch(bt){ft=bt}($t=g())&&typeof $t.catch=="function"&&$t.catch(function(){})}}catch(bt){if(bt&&ft&&typeof bt.stack=="string")return[bt.stack,ft.stack]}return[null,null]}};R.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var Q=Object.getOwnPropertyDescriptor(R.DetermineComponentFrameRoot,"name");Q&&Q.configurable&&Object.defineProperty(R.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var K=R.DetermineComponentFrameRoot(),oe=K[0],ye=K[1];if(oe&&ye){var Ne=oe.split(`
`),lt=ye.split(`
`);for(Q=R=0;R<Ne.length&&!Ne[R].includes("DetermineComponentFrameRoot");)R++;for(;Q<lt.length&&!lt[Q].includes("DetermineComponentFrameRoot");)Q++;if(R===Ne.length||Q===lt.length)for(R=Ne.length-1,Q=lt.length-1;1<=R&&0<=Q&&Ne[R]!==lt[Q];)Q--;for(;1<=R&&0<=Q;R--,Q--)if(Ne[R]!==lt[Q]){if(R!==1||Q!==1)do if(R--,Q--,0>Q||Ne[R]!==lt[Q]){var Dt=`
`+Ne[R].replace(" at new "," at ");return g.displayName&&Dt.includes("<anonymous>")&&(Dt=Dt.replace("<anonymous>",g.displayName)),Dt}while(1<=R&&0<=Q);break}}}finally{Ue=!1,Error.prepareStackTrace=_}return(_=g?g.displayName||g.name:"")?Me(_):""}function ut(g,b){switch(g.tag){case 26:case 27:case 5:return Me(g.type);case 16:return Me("Lazy");case 13:return g.child!==b&&b!==null?Me("Suspense Fallback"):Me("Suspense");case 19:return Me("SuspenseList");case 0:case 15:return Ge(g.type,!1);case 11:return Ge(g.type.render,!1);case 1:return Ge(g.type,!0);case 31:return Me("Activity");default:return""}}function ve(g){try{var b="",_=null;do b+=ut(g,_),_=g,g=g.return;while(g);return b}catch(R){return`
Error generating stack: `+R.message+`
`+R.stack}}var $e=Object.prototype.hasOwnProperty,gt=t.unstable_scheduleCallback,it=t.unstable_cancelCallback,ot=t.unstable_shouldYield,le=t.unstable_requestPaint,se=t.unstable_now,Se=t.unstable_getCurrentPriorityLevel,De=t.unstable_ImmediatePriority,Be=t.unstable_UserBlockingPriority,ze=t.unstable_NormalPriority,kt=t.unstable_LowPriority,Et=t.unstable_IdlePriority,zt=t.log,Mt=t.unstable_setDisableYieldValue,at=null,At=null;function Pt(g){if(typeof zt=="function"&&Mt(g),At&&typeof At.setStrictMode=="function")try{At.setStrictMode(at,g)}catch{}}var wt=Math.clz32?Math.clz32:Oe,Lt=Math.log,un=Math.LN2;function Oe(g){return g>>>=0,g===0?32:31-(Lt(g)/un|0)|0}var Wt=256,Vt=262144,Xt=4194304;function It(g){var b=g&42;if(b!==0)return b;switch(g&-g){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return g&261888;case 262144:case 524288:case 1048576:case 2097152:return g&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return g&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return g}}function St(g,b,_){var R=g.pendingLanes;if(R===0)return 0;var Q=0,K=g.suspendedLanes,oe=g.pingedLanes;g=g.warmLanes;var ye=R&134217727;return ye!==0?(R=ye&~K,R!==0?Q=It(R):(oe&=ye,oe!==0?Q=It(oe):_||(_=ye&~g,_!==0&&(Q=It(_))))):(ye=R&~K,ye!==0?Q=It(ye):oe!==0?Q=It(oe):_||(_=R&~g,_!==0&&(Q=It(_)))),Q===0?0:b!==0&&b!==Q&&(b&K)===0&&(K=Q&-Q,_=b&-b,K>=_||K===32&&(_&4194048)!==0)?b:Q}function qt(g,b){return(g.pendingLanes&~(g.suspendedLanes&~g.pingedLanes)&b)===0}function ct(g,b){switch(g){case 1:case 2:case 4:case 8:case 64:return b+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return b+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Bt(){var g=Xt;return Xt<<=1,(Xt&62914560)===0&&(Xt=4194304),g}function Rt(g){for(var b=[],_=0;31>_;_++)b.push(g);return b}function Ht(g,b){g.pendingLanes|=b,b!==268435456&&(g.suspendedLanes=0,g.pingedLanes=0,g.warmLanes=0)}function Vn(g,b,_,R,Q,K){var oe=g.pendingLanes;g.pendingLanes=_,g.suspendedLanes=0,g.pingedLanes=0,g.warmLanes=0,g.expiredLanes&=_,g.entangledLanes&=_,g.errorRecoveryDisabledLanes&=_,g.shellSuspendCounter=0;var ye=g.entanglements,Ne=g.expirationTimes,lt=g.hiddenUpdates;for(_=oe&~_;0<_;){var Dt=31-wt(_),$t=1<<Dt;ye[Dt]=0,Ne[Dt]=-1;var ft=lt[Dt];if(ft!==null)for(lt[Dt]=null,Dt=0;Dt<ft.length;Dt++){var bt=ft[Dt];bt!==null&&(bt.lane&=-536870913)}_&=~$t}R!==0&&In(g,R,0),K!==0&&Q===0&&g.tag!==0&&(g.suspendedLanes|=K&~(oe&~b))}function In(g,b,_){g.pendingLanes|=b,g.suspendedLanes&=~b;var R=31-wt(b);g.entangledLanes|=b,g.entanglements[R]=g.entanglements[R]|1073741824|_&261930}function rn(g,b){var _=g.entangledLanes|=b;for(g=g.entanglements;_;){var R=31-wt(_),Q=1<<R;Q&b|g[R]&b&&(g[R]|=b),_&=~Q}}function ln(g,b){var _=b&-b;return _=(_&42)!==0?1:nr(_),(_&(g.suspendedLanes|b))!==0?0:_}function nr(g){switch(g){case 2:g=1;break;case 8:g=4;break;case 32:g=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:g=128;break;case 268435456:g=134217728;break;default:g=0}return g}function yr(g){return g&=-g,2<g?8<g?(g&134217727)!==0?32:268435456:8:2}function zr(){var g=G.p;return g!==0?g:(g=window.event,g===void 0?32:l2(g.type))}function ii(g,b){var _=G.p;try{return G.p=g,b()}finally{G.p=_}}var Or=Math.random().toString(36).slice(2),Wn="__reactFiber$"+Or,Hi="__reactProps$"+Or,fs="__reactContainer$"+Or,ua="__reactEvents$"+Or,ul="__reactListeners$"+Or,Tc="__reactHandles$"+Or,Vu="__reactResources$"+Or,Nl="__reactMarker$"+Or;function au(g){delete g[Wn],delete g[Hi],delete g[ua],delete g[ul],delete g[Tc]}function Vi(g){var b=g[Wn];if(b)return b;for(var _=g.parentNode;_;){if(b=_[fs]||_[Wn]){if(_=b.alternate,b.child!==null||_!==null&&_.child!==null)for(g=V4(g);g!==null;){if(_=g[Wn])return _;g=V4(g)}return b}g=_,_=g.parentNode}return null}function si(g){if(g=g[Wn]||g[fs]){var b=g.tag;if(b===5||b===6||b===13||b===31||b===26||b===27||b===3)return g}return null}function ca(g){var b=g.tag;if(b===5||b===26||b===27||b===6)return g.stateNode;throw Error(r(33))}function xo(g){var b=g[Vu];return b||(b=g[Vu]={hoistableStyles:new Map,hoistableScripts:new Map}),b}function me(g){g[Nl]=!0}var He=new Set,dt={};function tt(g,b){Xe(g,b),Xe(g+"Capture",b)}function Xe(g,b){for(dt[g]=b,g=0;g<b.length;g++)He.add(b[g])}var sn=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),cn={},tn={};function hn(g){return $e.call(tn,g)?!0:$e.call(cn,g)?!1:sn.test(g)?tn[g]=!0:(cn[g]=!0,!1)}function bn(g,b,_){if(hn(b))if(_===null)g.removeAttribute(b);else{switch(typeof _){case"undefined":case"function":case"symbol":g.removeAttribute(b);return;case"boolean":var R=b.toLowerCase().slice(0,5);if(R!=="data-"&&R!=="aria-"){g.removeAttribute(b);return}}g.setAttribute(b,""+_)}}function he(g,b,_){if(_===null)g.removeAttribute(b);else{switch(typeof _){case"undefined":case"function":case"symbol":case"boolean":g.removeAttribute(b);return}g.setAttribute(b,""+_)}}function pe(g,b,_,R){if(R===null)g.removeAttribute(_);else{switch(typeof R){case"undefined":case"function":case"symbol":case"boolean":g.removeAttribute(_);return}g.setAttributeNS(b,_,""+R)}}function Ie(g){switch(typeof g){case"bigint":case"boolean":case"number":case"string":case"undefined":return g;case"object":return g;default:return""}}function Le(g){var b=g.type;return(g=g.nodeName)&&g.toLowerCase()==="input"&&(b==="checkbox"||b==="radio")}function Ke(g,b,_){var R=Object.getOwnPropertyDescriptor(g.constructor.prototype,b);if(!g.hasOwnProperty(b)&&typeof R<"u"&&typeof R.get=="function"&&typeof R.set=="function"){var Q=R.get,K=R.set;return Object.defineProperty(g,b,{configurable:!0,get:function(){return Q.call(this)},set:function(oe){_=""+oe,K.call(this,oe)}}),Object.defineProperty(g,b,{enumerable:R.enumerable}),{getValue:function(){return _},setValue:function(oe){_=""+oe},stopTracking:function(){g._valueTracker=null,delete g[b]}}}}function pt(g){if(!g._valueTracker){var b=Le(g)?"checked":"value";g._valueTracker=Ke(g,b,""+g[b])}}function Ct(g){if(!g)return!1;var b=g._valueTracker;if(!b)return!0;var _=b.getValue(),R="";return g&&(R=Le(g)?g.checked?"true":"false":g.value),g=R,g!==_?(b.setValue(g),!0):!1}function nt(g){if(g=g||(typeof document<"u"?document:void 0),typeof g>"u")return null;try{return g.activeElement||g.body}catch{return g.body}}var Ft=/[\n"\\]/g;function xt(g){return g.replace(Ft,function(b){return"\\"+b.charCodeAt(0).toString(16)+" "})}function Jt(g,b,_,R,Q,K,oe,ye){g.name="",oe!=null&&typeof oe!="function"&&typeof oe!="symbol"&&typeof oe!="boolean"?g.type=oe:g.removeAttribute("type"),b!=null?oe==="number"?(b===0&&g.value===""||g.value!=b)&&(g.value=""+Ie(b)):g.value!==""+Ie(b)&&(g.value=""+Ie(b)):oe!=="submit"&&oe!=="reset"||g.removeAttribute("value"),b!=null?Un(g,oe,Ie(b)):_!=null?Un(g,oe,Ie(_)):R!=null&&g.removeAttribute("value"),Q==null&&K!=null&&(g.defaultChecked=!!K),Q!=null&&(g.checked=Q&&typeof Q!="function"&&typeof Q!="symbol"),ye!=null&&typeof ye!="function"&&typeof ye!="symbol"&&typeof ye!="boolean"?g.name=""+Ie(ye):g.removeAttribute("name")}function En(g,b,_,R,Q,K,oe,ye){if(K!=null&&typeof K!="function"&&typeof K!="symbol"&&typeof K!="boolean"&&(g.type=K),b!=null||_!=null){if(!(K!=="submit"&&K!=="reset"||b!=null)){pt(g);return}_=_!=null?""+Ie(_):"",b=b!=null?""+Ie(b):_,ye||b===g.value||(g.value=b),g.defaultValue=b}R=R??Q,R=typeof R!="function"&&typeof R!="symbol"&&!!R,g.checked=ye?g.checked:!!R,g.defaultChecked=!!R,oe!=null&&typeof oe!="function"&&typeof oe!="symbol"&&typeof oe!="boolean"&&(g.name=oe),pt(g)}function Un(g,b,_){b==="number"&&nt(g.ownerDocument)===g||g.defaultValue===""+_||(g.defaultValue=""+_)}function jr(g,b,_,R){if(g=g.options,b){b={};for(var Q=0;Q<_.length;Q++)b["$"+_[Q]]=!0;for(_=0;_<g.length;_++)Q=b.hasOwnProperty("$"+g[_].value),g[_].selected!==Q&&(g[_].selected=Q),Q&&R&&(g[_].defaultSelected=!0)}else{for(_=""+Ie(_),b=null,Q=0;Q<g.length;Q++){if(g[Q].value===_){g[Q].selected=!0,R&&(g[Q].defaultSelected=!0);return}b!==null||g[Q].disabled||(b=g[Q])}b!==null&&(b.selected=!0)}}function _n(g,b,_){if(b!=null&&(b=""+Ie(b),b!==g.value&&(g.value=b),_==null)){g.defaultValue!==b&&(g.defaultValue=b);return}g.defaultValue=_!=null?""+Ie(_):""}function Nr(g,b,_,R){if(b==null){if(R!=null){if(_!=null)throw Error(r(92));if(W(R)){if(1<R.length)throw Error(r(93));R=R[0]}_=R}_==null&&(_=""),b=_}_=Ie(b),g.defaultValue=_,R=g.textContent,R===_&&R!==""&&R!==null&&(g.value=R),pt(g)}function Qr(g,b){if(b){var _=g.firstChild;if(_&&_===g.lastChild&&_.nodeType===3){_.nodeValue=b;return}}g.textContent=b}var Ji=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ci(g,b,_){var R=b.indexOf("--")===0;_==null||typeof _=="boolean"||_===""?R?g.setProperty(b,""):b==="float"?g.cssFloat="":g[b]="":R?g.setProperty(b,_):typeof _!="number"||_===0||Ji.has(b)?b==="float"?g.cssFloat=_:g[b]=(""+_).trim():g[b]=_+"px"}function Mc(g,b,_){if(b!=null&&typeof b!="object")throw Error(r(62));if(g=g.style,_!=null){for(var R in _)!_.hasOwnProperty(R)||b!=null&&b.hasOwnProperty(R)||(R.indexOf("--")===0?g.setProperty(R,""):R==="float"?g.cssFloat="":g[R]="");for(var Q in b)R=b[Q],b.hasOwnProperty(Q)&&_[Q]!==R&&Ci(g,Q,R)}else for(var K in b)b.hasOwnProperty(K)&&Ci(g,K,b[K])}function Yo(g){if(g.indexOf("-")===-1)return!1;switch(g){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var mv=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Av=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Jp(g){return Av.test(""+g)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":g}function kc(){}var hm=null;function tA(g){return g=g.target||g.srcElement||window,g.correspondingUseElement&&(g=g.correspondingUseElement),g.nodeType===3?g.parentNode:g}var ph=null,gh=null;function yv(g){var b=si(g);if(b&&(g=b.stateNode)){var _=g[Hi]||null;e:switch(g=b.stateNode,b.type){case"input":if(Jt(g,_.value,_.defaultValue,_.defaultValue,_.checked,_.defaultChecked,_.type,_.name),b=_.name,_.type==="radio"&&b!=null){for(_=g;_.parentNode;)_=_.parentNode;for(_=_.querySelectorAll('input[name="'+xt(""+b)+'"][type="radio"]'),b=0;b<_.length;b++){var R=_[b];if(R!==g&&R.form===g.form){var Q=R[Hi]||null;if(!Q)throw Error(r(90));Jt(R,Q.value,Q.defaultValue,Q.defaultValue,Q.checked,Q.defaultChecked,Q.type,Q.name)}}for(b=0;b<_.length;b++)R=_[b],R.form===g.form&&Ct(R)}break e;case"textarea":_n(g,_.value,_.defaultValue);break e;case"select":b=_.value,b!=null&&jr(g,!!_.multiple,b,!1)}}}var nA=!1;function vv(g,b,_){if(nA)return g(b,_);nA=!0;try{var R=g(b);return R}finally{if(nA=!1,(ph!==null||gh!==null)&&(be(),ph&&(b=ph,g=gh,gh=ph=null,yv(b),g)))for(b=0;b<g.length;b++)yv(g[b])}}function wd(g,b){var _=g.stateNode;if(_===null)return null;var R=_[Hi]||null;if(R===null)return null;_=R[b];e:switch(b){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(R=!R.disabled)||(g=g.type,R=!(g==="button"||g==="input"||g==="select"||g==="textarea")),g=!R;break e;default:g=!1}if(g)return null;if(_&&typeof _!="function")throw Error(r(231,b,typeof _));return _}var Pc=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),rA=!1;if(Pc)try{var fm={};Object.defineProperty(fm,"passive",{get:function(){rA=!0}}),window.addEventListener("test",fm,fm),window.removeEventListener("test",fm,fm)}catch{rA=!1}var mh=null,iA=null,Ai=null;function $i(){if(Ai)return Ai;var g,b=iA,_=b.length,R,Q="value"in mh?mh.value:mh.textContent,K=Q.length;for(g=0;g<_&&b[g]===Q[g];g++);var oe=_-g;for(R=1;R<=oe&&b[_-R]===Q[K-R];R++);return Ai=Q.slice(g,1<R?1-R:void 0)}function kf(g){var b=g.keyCode;return"charCode"in g?(g=g.charCode,g===0&&b===13&&(g=13)):g=b,g===10&&(g=13),32<=g||g===13?g:0}function pm(){return!0}function bv(){return!1}function da(g){function b(_,R,Q,K,oe){this._reactName=_,this._targetInst=Q,this.type=R,this.nativeEvent=K,this.target=oe,this.currentTarget=null;for(var ye in g)g.hasOwnProperty(ye)&&(_=g[ye],this[ye]=_?_(K):K[ye]);return this.isDefaultPrevented=(K.defaultPrevented!=null?K.defaultPrevented:K.returnValue===!1)?pm:bv,this.isPropagationStopped=bv,this}return d(b.prototype,{preventDefault:function(){this.defaultPrevented=!0;var _=this.nativeEvent;_&&(_.preventDefault?_.preventDefault():typeof _.returnValue!="unknown"&&(_.returnValue=!1),this.isDefaultPrevented=pm)},stopPropagation:function(){var _=this.nativeEvent;_&&(_.stopPropagation?_.stopPropagation():typeof _.cancelBubble!="unknown"&&(_.cancelBubble=!0),this.isPropagationStopped=pm)},persist:function(){},isPersistent:pm}),b}var Ah={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(g){return g.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},gm=da(Ah),lu=d({},Ah,{view:0,detail:0}),sA=da(lu),no,Pf,uu,Zp=d({},lu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Rf,button:0,buttons:0,relatedTarget:function(g){return g.relatedTarget===void 0?g.fromElement===g.srcElement?g.toElement:g.fromElement:g.relatedTarget},movementX:function(g){return"movementX"in g?g.movementX:(g!==uu&&(uu&&g.type==="mousemove"?(no=g.screenX-uu.screenX,Pf=g.screenY-uu.screenY):Pf=no=0,uu=g),no)},movementY:function(g){return"movementY"in g?g.movementY:Pf}}),oA=da(Zp),Gi=d({},Zp,{dataTransfer:0}),xv=da(Gi),Cv=d({},lu,{relatedTarget:0}),mm=da(Cv),Ev=d({},Ah,{animationName:0,elapsedTime:0,pseudoElement:0}),Sv=da(Ev),eg=d({},Ah,{clipboardData:function(g){return"clipboardData"in g?g.clipboardData:window.clipboardData}}),Ua=da(eg),gC=d({},Ah,{data:0}),cl=da(gC),mC={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},aA={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Rc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Am(g){var b=this.nativeEvent;return b.getModifierState?b.getModifierState(g):(g=Rc[g])?!!b[g]:!1}function Rf(){return Am}var is=d({},lu,{key:function(g){if(g.key){var b=mC[g.key]||g.key;if(b!=="Unidentified")return b}return g.type==="keypress"?(g=kf(g),g===13?"Enter":String.fromCharCode(g)):g.type==="keydown"||g.type==="keyup"?aA[g.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Rf,charCode:function(g){return g.type==="keypress"?kf(g):0},keyCode:function(g){return g.type==="keydown"||g.type==="keyup"?g.keyCode:0},which:function(g){return g.type==="keypress"?kf(g):g.type==="keydown"||g.type==="keyup"?g.keyCode:0}}),Nc=da(is),lA=d({},Zp,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),uA=da(lA),cA=d({},lu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Rf}),_d=da(cA),wv=d({},Ah,{propertyName:0,elapsedTime:0,pseudoElement:0}),bS=da(wv),_v=d({},Zp,{deltaX:function(g){return"deltaX"in g?g.deltaX:"wheelDeltaX"in g?-g.wheelDeltaX:0},deltaY:function(g){return"deltaY"in g?g.deltaY:"wheelDeltaY"in g?-g.wheelDeltaY:"wheelDelta"in g?-g.wheelDelta:0},deltaZ:0,deltaMode:0}),Gu=da(_v),dl=d({},Ah,{newState:0,oldState:0}),Iv=da(dl),dA=[9,13,27,32],yh=Pc&&"CompositionEvent"in window,Lc=null;Pc&&"documentMode"in document&&(Lc=document.documentMode);var Id=Pc&&"TextEvent"in window&&!Lc,$o=Pc&&(!yh||Lc&&8<Lc&&11>=Lc),ym=" ",vm=!1;function tg(g,b){switch(g){case"keyup":return dA.indexOf(b.keyCode)!==-1;case"keydown":return b.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ng(g){return g=g.detail,typeof g=="object"&&"data"in g?g.data:null}var Bd=!1;function ha(g,b){switch(g){case"compositionend":return ng(b);case"keypress":return b.which!==32?null:(vm=!0,ym);case"textInput":return g=b.data,g===ym&&vm?null:g;default:return null}}function hA(g,b){if(Bd)return g==="compositionend"||!yh&&tg(g,b)?(g=$i(),Ai=iA=mh=null,Bd=!1,g):null;switch(g){case"paste":return null;case"keypress":if(!(b.ctrlKey||b.altKey||b.metaKey)||b.ctrlKey&&b.altKey){if(b.char&&1<b.char.length)return b.char;if(b.which)return String.fromCharCode(b.which)}return null;case"compositionend":return $o&&b.locale!=="ko"?null:b.data;default:return null}}var Xo={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function fA(g){var b=g&&g.nodeName&&g.nodeName.toLowerCase();return b==="input"?!!Xo[g.type]:b==="textarea"}function bm(g,b,_,R){ph?gh?gh.push(R):gh=[R]:ph=R,b=fb(b,"onChange"),0<b.length&&(_=new gm("onChange","change",null,_,R),g.push({event:_,listeners:b}))}var rg=null,ig=null;function Bv(g){L4(g,0)}function sg(g){var b=ca(g);if(Ct(b))return g}function Dv(g,b){if(g==="change")return b}var Fc=!1;if(Pc){var Nf;if(Pc){var ps="oninput"in document;if(!ps){var pA=document.createElement("div");pA.setAttribute("oninput","return;"),ps=typeof pA.oninput=="function"}Nf=ps}else Nf=!1;Fc=Nf&&(!document.documentMode||9<document.documentMode)}function Tv(){rg&&(rg.detachEvent("onpropertychange",$c),ig=rg=null)}function $c(g){if(g.propertyName==="value"&&sg(ig)){var b=[];bm(b,ig,g,tA(g)),vv(Bv,b)}}function vh(g,b,_){g==="focusin"?(Tv(),rg=b,ig=_,rg.attachEvent("onpropertychange",$c)):g==="focusout"&&Tv()}function bh(g){if(g==="selectionchange"||g==="keyup"||g==="keydown")return sg(ig)}function AC(g,b){if(g==="click")return sg(b)}function yC(g,b){if(g==="input"||g==="change")return sg(b)}function cu(g,b){return g===b&&(g!==0||1/g===1/b)||g!==g&&b!==b}var Jr=typeof Object.is=="function"?Object.is:cu;function Lf(g,b){if(Jr(g,b))return!0;if(typeof g!="object"||g===null||typeof b!="object"||b===null)return!1;var _=Object.keys(g),R=Object.keys(b);if(_.length!==R.length)return!1;for(R=0;R<_.length;R++){var Q=_[R];if(!$e.call(b,Q)||!Jr(g[Q],b[Q]))return!1}return!0}function Mv(g){for(;g&&g.firstChild;)g=g.firstChild;return g}function kv(g,b){var _=Mv(g);g=0;for(var R;_;){if(_.nodeType===3){if(R=g+_.textContent.length,g<=b&&R>=b)return{node:_,offset:b-g};g=R}e:{for(;_;){if(_.nextSibling){_=_.nextSibling;break e}_=_.parentNode}_=void 0}_=Mv(_)}}function gA(g,b){return g&&b?g===b?!0:g&&g.nodeType===3?!1:b&&b.nodeType===3?gA(g,b.parentNode):"contains"in g?g.contains(b):g.compareDocumentPosition?!!(g.compareDocumentPosition(b)&16):!1:!1}function mA(g){g=g!=null&&g.ownerDocument!=null&&g.ownerDocument.defaultView!=null?g.ownerDocument.defaultView:window;for(var b=nt(g.document);b instanceof g.HTMLIFrameElement;){try{var _=typeof b.contentWindow.location.href=="string"}catch{_=!1}if(_)g=b.contentWindow;else break;b=nt(g.document)}return b}function og(g){var b=g&&g.nodeName&&g.nodeName.toLowerCase();return b&&(b==="input"&&(g.type==="text"||g.type==="search"||g.type==="tel"||g.type==="url"||g.type==="password")||b==="textarea"||g.contentEditable==="true")}var Ff=Pc&&"documentMode"in document&&11>=document.documentMode,Ve=null,_t=null,yt=null,an=!1;function rr(g,b,_){var R=_.window===_?_.document:_.nodeType===9?_:_.ownerDocument;an||Ve==null||Ve!==nt(R)||(R=Ve,"selectionStart"in R&&og(R)?R={start:R.selectionStart,end:R.selectionEnd}:(R=(R.ownerDocument&&R.ownerDocument.defaultView||window).getSelection(),R={anchorNode:R.anchorNode,anchorOffset:R.anchorOffset,focusNode:R.focusNode,focusOffset:R.focusOffset}),yt&&Lf(yt,R)||(yt=R,R=fb(_t,"onSelect"),0<R.length&&(b=new gm("onSelect","select",null,b,_),g.push({event:b,listeners:R}),b.target=Ve)))}function Lr(g,b){var _={};return _[g.toLowerCase()]=b.toLowerCase(),_["Webkit"+g]="webkit"+b,_["Moz"+g]="moz"+b,_}var bs={animationend:Lr("Animation","AnimationEnd"),animationiteration:Lr("Animation","AnimationIteration"),animationstart:Lr("Animation","AnimationStart"),transitionrun:Lr("Transition","TransitionRun"),transitionstart:Lr("Transition","TransitionStart"),transitioncancel:Lr("Transition","TransitionCancel"),transitionend:Lr("Transition","TransitionEnd")},Ei={},Jo={};Pc&&(Jo=document.createElement("div").style,"AnimationEvent"in window||(delete bs.animationend.animation,delete bs.animationiteration.animation,delete bs.animationstart.animation),"TransitionEvent"in window||delete bs.transitionend.transition);function xh(g){if(Ei[g])return Ei[g];if(!bs[g])return g;var b=bs[g],_;for(_ in b)if(b.hasOwnProperty(_)&&_ in Jo)return Ei[g]=b[_];return g}var gs=xh("animationend"),ag=xh("animationiteration"),zc=xh("animationstart"),Ku=xh("transitionrun"),Wu=xh("transitionstart"),lg=xh("transitioncancel"),yi=xh("transitionend"),Dd=new Map,xm="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");xm.push("scrollEnd");function Co(g,b){Dd.set(g,b),tt(b,[g])}var Ch=typeof reportError=="function"?reportError:function(g){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var b=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof g=="object"&&g!==null&&typeof g.message=="string"?String(g.message):String(g),error:g});if(!window.dispatchEvent(b))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",g);return}console.error(g)},zo=[],$f=0,zf=0;function Ha(){for(var g=$f,b=zf=$f=0;b<g;){var _=zo[b];zo[b++]=null;var R=zo[b];zo[b++]=null;var Q=zo[b];zo[b++]=null;var K=zo[b];if(zo[b++]=null,R!==null&&Q!==null){var oe=R.pending;oe===null?Q.next=Q:(Q.next=oe.next,oe.next=Q),R.pending=Q}K!==0&&Cm(_,Q,K)}}function Eh(g,b,_,R){zo[$f++]=g,zo[$f++]=b,zo[$f++]=_,zo[$f++]=R,zf|=R,g.lanes|=R,g=g.alternate,g!==null&&(g.lanes|=R)}function Of(g,b,_,R){return Eh(g,b,_,R),jf(g)}function qu(g,b){return Eh(g,null,null,b),jf(g)}function Cm(g,b,_){g.lanes|=_;var R=g.alternate;R!==null&&(R.lanes|=_);for(var Q=!1,K=g.return;K!==null;)K.childLanes|=_,R=K.alternate,R!==null&&(R.childLanes|=_),K.tag===22&&(g=K.stateNode,g===null||g._visibility&1||(Q=!0)),g=K,K=K.return;return g.tag===3?(K=g.stateNode,Q&&b!==null&&(Q=31-wt(_),g=K.hiddenUpdates,R=g[Q],R===null?g[Q]=[b]:R.push(b),b.lane=_|536870912),K):null}function jf(g){if(50<lp)throw lp=0,up=null,Error(r(185));for(var b=g.return;b!==null;)g=b,b=g.return;return g.tag===3?g.stateNode:null}var Yu={};function Pv(g,b,_,R){this.tag=g,this.key=_,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=b,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=R,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Eo(g,b,_,R){return new Pv(g,b,_,R)}function Hs(g){return g=g.prototype,!(!g||!g.isReactComponent)}function Ll(g,b){var _=g.alternate;return _===null?(_=Eo(g.tag,b,g.key,g.mode),_.elementType=g.elementType,_.type=g.type,_.stateNode=g.stateNode,_.alternate=g,g.alternate=_):(_.pendingProps=b,_.type=g.type,_.flags=0,_.subtreeFlags=0,_.deletions=null),_.flags=g.flags&65011712,_.childLanes=g.childLanes,_.lanes=g.lanes,_.child=g.child,_.memoizedProps=g.memoizedProps,_.memoizedState=g.memoizedState,_.updateQueue=g.updateQueue,b=g.dependencies,_.dependencies=b===null?null:{lanes:b.lanes,firstContext:b.firstContext},_.sibling=g.sibling,_.index=g.index,_.ref=g.ref,_.refCleanup=g.refCleanup,_}function fa(g,b){g.flags&=65011714;var _=g.alternate;return _===null?(g.childLanes=0,g.lanes=b,g.child=null,g.subtreeFlags=0,g.memoizedProps=null,g.memoizedState=null,g.updateQueue=null,g.dependencies=null,g.stateNode=null):(g.childLanes=_.childLanes,g.lanes=_.lanes,g.child=_.child,g.subtreeFlags=0,g.deletions=null,g.memoizedProps=_.memoizedProps,g.memoizedState=_.memoizedState,g.updateQueue=_.updateQueue,g.type=_.type,b=_.dependencies,g.dependencies=b===null?null:{lanes:b.lanes,firstContext:b.firstContext}),g}function Em(g,b,_,R,Q,K){var oe=0;if(R=g,typeof g=="function")Hs(g)&&(oe=1);else if(typeof g=="string")oe=UM(g,_,ie.current)?26:g==="html"||g==="head"||g==="body"?27:5;else e:switch(g){case k:return g=Eo(31,_,b,Q),g.elementType=k,g.lanes=K,g;case v:return Td(_.children,Q,K,b);case y:oe=8,Q|=24;break;case A:return g=Eo(12,_,b,Q|2),g.elementType=A,g.lanes=K,g;case D:return g=Eo(13,_,b,Q),g.elementType=D,g.lanes=K,g;case T:return g=Eo(19,_,b,Q),g.elementType=T,g.lanes=K,g;default:if(typeof g=="object"&&g!==null)switch(g.$$typeof){case E:oe=10;break e;case C:oe=9;break e;case I:oe=11;break e;case M:oe=14;break e;case P:oe=16,R=null;break e}oe=29,_=Error(r(130,g===null?"null":typeof g,"")),R=null}return b=Eo(oe,_,b,Q),b.elementType=g,b.type=R,b.lanes=K,b}function Td(g,b,_,R){return g=Eo(7,g,R,b),g.lanes=_,g}function Qf(g,b,_){return g=Eo(6,g,null,b),g.lanes=_,g}function Sm(g){var b=Eo(18,null,null,0);return b.stateNode=g,b}function Fl(g,b,_){return b=Eo(4,g.children!==null?g.children:[],g.key,b),b.lanes=_,b.stateNode={containerInfo:g.containerInfo,pendingChildren:null,implementation:g.implementation},b}var Rv=new WeakMap;function Va(g,b){if(typeof g=="object"&&g!==null){var _=Rv.get(g);return _!==void 0?_:(b={value:g,source:b,stack:ve(b)},Rv.set(g,b),b)}return{value:g,source:b,stack:ve(b)}}var Xu=[],Uf=0,ws=null,Vs=0,$l=[],hl=0,Ju=null,Oc=1,du="";function zl(g,b){Xu[Uf++]=Vs,Xu[Uf++]=ws,ws=g,Vs=b}function wm(g,b,_){$l[hl++]=Oc,$l[hl++]=du,$l[hl++]=Ju,Ju=g;var R=Oc;g=du;var Q=32-wt(R)-1;R&=~(1<<Q),_+=1;var K=32-wt(b)+Q;if(30<K){var oe=Q-Q%5;K=(R&(1<<oe)-1).toString(32),R>>=oe,Q-=oe,Oc=1<<32-wt(b)+Q|_<<Q|R,du=K+g}else Oc=1<<K|_<<Q|R,du=g}function Md(g){g.return!==null&&(zl(g,1),wm(g,1,0))}function hu(g){for(;g===ws;)ws=Xu[--Uf],Xu[Uf]=null,Vs=Xu[--Uf],Xu[Uf]=null;for(;g===Ju;)Ju=$l[--hl],$l[hl]=null,du=$l[--hl],$l[hl]=null,Oc=$l[--hl],$l[hl]=null}function kd(g,b){$l[hl++]=Oc,$l[hl++]=du,$l[hl++]=Ju,Oc=b.id,du=b.overflow,Ju=g}var Gs=null,Si=null,Zr=!1,Pd=null,Oo=!1,AA=Error(r(519));function Wr(g){var b=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw _h(Va(b,g)),AA}function Hf(g){var b=g.stateNode,_=g.type,R=g.memoizedProps;switch(b[Wn]=g,b[Hi]=R,_){case"dialog":ti("cancel",b),ti("close",b);break;case"iframe":case"object":case"embed":ti("load",b);break;case"video":case"audio":for(_=0;_<hb.length;_++)ti(hb[_],b);break;case"source":ti("error",b);break;case"img":case"image":case"link":ti("error",b),ti("load",b);break;case"details":ti("toggle",b);break;case"input":ti("invalid",b),En(b,R.value,R.defaultValue,R.checked,R.defaultChecked,R.type,R.name,!0);break;case"select":ti("invalid",b);break;case"textarea":ti("invalid",b),Nr(b,R.value,R.defaultValue,R.children)}_=R.children,typeof _!="string"&&typeof _!="number"&&typeof _!="bigint"||b.textContent===""+_||R.suppressHydrationWarning===!0||z4(b.textContent,_)?(R.popover!=null&&(ti("beforetoggle",b),ti("toggle",b)),R.onScroll!=null&&ti("scroll",b),R.onScrollEnd!=null&&ti("scrollend",b),R.onClick!=null&&(b.onclick=kc),b=!0):b=!1,b||Wr(g,!0)}function ug(g){for(Gs=g.return;Gs;)switch(Gs.tag){case 5:case 31:case 13:Oo=!1;return;case 27:case 3:Oo=!0;return;default:Gs=Gs.return}}function Sh(g){if(g!==Gs)return!1;if(!Zr)return ug(g),Zr=!0,!1;var b=g.tag,_;if((_=b!==3&&b!==27)&&((_=b===5)&&(_=g.type,_=!(_!=="form"&&_!=="button")||Ig(g.type,g.memoizedProps)),_=!_),_&&Si&&Wr(g),ug(g),b===13){if(g=g.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(r(317));Si=H4(g)}else if(b===31){if(g=g.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(r(317));Si=H4(g)}else b===27?(b=Si,sr(g.type)?(g=$S,$S=null,Si=g):Si=b):Si=Gs?td(g.stateNode.nextSibling):null;return!0}function Ae(){Si=Gs=null,Zr=!1}function wh(){var g=Pd;return g!==null&&(wa===null?wa=g:wa.push.apply(wa,g),Pd=null),g}function _h(g){Pd===null?Pd=[g]:Pd.push(g)}var fl=Y(null),hr=null,pa=null;function Rd(g,b,_){ee(fl,b._currentValue),b._currentValue=_}function fu(g){g._currentValue=fl.current,Z(fl)}function Ga(g,b,_){for(;g!==null;){var R=g.alternate;if((g.childLanes&b)!==b?(g.childLanes|=b,R!==null&&(R.childLanes|=b)):R!==null&&(R.childLanes&b)!==b&&(R.childLanes|=b),g===_)break;g=g.return}}function yA(g,b,_,R){var Q=g.child;for(Q!==null&&(Q.return=g);Q!==null;){var K=Q.dependencies;if(K!==null){var oe=Q.child;K=K.firstContext;e:for(;K!==null;){var ye=K;K=Q;for(var Ne=0;Ne<b.length;Ne++)if(ye.context===b[Ne]){K.lanes|=_,ye=K.alternate,ye!==null&&(ye.lanes|=_),Ga(K.return,_,g),R||(oe=null);break e}K=ye.next}}else if(Q.tag===18){if(oe=Q.return,oe===null)throw Error(r(341));oe.lanes|=_,K=oe.alternate,K!==null&&(K.lanes|=_),Ga(oe,_,g),oe=null}else oe=Q.child;if(oe!==null)oe.return=Q;else for(oe=Q;oe!==null;){if(oe===g){oe=null;break}if(Q=oe.sibling,Q!==null){Q.return=oe.return,oe=Q;break}oe=oe.return}Q=oe}}function Ih(g,b,_,R){g=null;for(var Q=b,K=!1;Q!==null;){if(!K){if((Q.flags&524288)!==0)K=!0;else if((Q.flags&262144)!==0)break}if(Q.tag===10){var oe=Q.alternate;if(oe===null)throw Error(r(387));if(oe=oe.memoizedProps,oe!==null){var ye=Q.type;Jr(Q.pendingProps.value,oe.value)||(g!==null?g.push(ye):g=[ye])}}else if(Q===de.current){if(oe=Q.alternate,oe===null)throw Error(r(387));oe.memoizedState.memoizedState!==Q.memoizedState.memoizedState&&(g!==null?g.push(ry):g=[ry])}Q=Q.return}g!==null&&yA(b,g,_,R),b.flags|=262144}function cg(g){for(g=g.firstContext;g!==null;){if(!Jr(g.context._currentValue,g.memoizedValue))return!0;g=g.next}return!1}function Vf(g){hr=g,pa=null,g=g.dependencies,g!==null&&(g.firstContext=null)}function jo(g){return Nv(hr,g)}function Ol(g,b){return hr===null&&Vf(g),Nv(g,b)}function Nv(g,b){var _=b._currentValue;if(b={context:b,memoizedValue:_,next:null},pa===null){if(g===null)throw Error(r(308));pa=b,g.dependencies={lanes:0,firstContext:b},g.flags|=524288}else pa=pa.next=b;return _}var vC=typeof AbortController<"u"?AbortController:function(){var g=[],b=this.signal={aborted:!1,addEventListener:function(_,R){g.push(R)}};this.abort=function(){b.aborted=!0,g.forEach(function(_){return _()})}},bC=t.unstable_scheduleCallback,Lv=t.unstable_NormalPriority,Rn={$$typeof:E,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Zu(){return{controller:new vC,data:new Map,refCount:0}}function Zo(g){g.refCount--,g.refCount===0&&bC(Lv,function(){g.controller.abort()})}var Gf=null,Fv=0,Nd=0,ec=null;function pu(g,b){if(Gf===null){var _=Gf=[];Fv=0,Nd=hc(),ec={status:"pending",value:void 0,then:function(R){_.push(R)}}}return Fv++,b.then($v,$v),b}function $v(){if(--Fv===0&&Gf!==null){ec!==null&&(ec.status="fulfilled");var g=Gf;Gf=null,Nd=0,ec=null;for(var b=0;b<g.length;b++)(0,g[b])()}}function zv(g,b){var _=[],R={status:"pending",value:null,reason:null,then:function(Q){_.push(Q)}};return g.then(function(){R.status="fulfilled",R.value=b;for(var Q=0;Q<_.length;Q++)(0,_[Q])(b)},function(Q){for(R.status="rejected",R.reason=Q,Q=0;Q<_.length;Q++)(0,_[Q])(void 0)}),R}var gu=O.S;O.S=function(g,b){Eg=se(),typeof b=="object"&&b!==null&&typeof b.then=="function"&&pu(g,b),gu!==null&&gu(g,b)};var Bh=Y(null);function jc(){var g=Bh.current;return g!==null?g:Mi.pooledCache}function dg(g,b){b===null?ee(Bh,Bh.current):ee(Bh,b.pool)}function vA(){var g=jc();return g===null?null:{parent:Rn._currentValue,pool:g}}var Dh=Error(r(460)),hg=Error(r(474)),mu=Error(r(542)),_m={then:function(){}};function xC(g){return g=g.status,g==="fulfilled"||g==="rejected"}function Im(g,b,_){switch(_=g[_],_===void 0?g.push(b):_!==b&&(b.then(kc,kc),b=_),b.status){case"fulfilled":return b.value;case"rejected":throw g=b.reason,xA(g),g;default:if(typeof b.status=="string")b.then(kc,kc);else{if(g=Mi,g!==null&&100<g.shellSuspendCounter)throw Error(r(482));g=b,g.status="pending",g.then(function(R){if(b.status==="pending"){var Q=b;Q.status="fulfilled",Q.value=R}},function(R){if(b.status==="pending"){var Q=b;Q.status="rejected",Q.reason=R}})}switch(b.status){case"fulfilled":return b.value;case"rejected":throw g=b.reason,xA(g),g}throw On=b,Dh}}function tc(g){try{var b=g._init;return b(g._payload)}catch(_){throw _!==null&&typeof _=="object"&&typeof _.then=="function"?(On=_,Dh):_}}var On=null;function bA(){if(On===null)throw Error(r(459));var g=On;return On=null,g}function xA(g){if(g===Dh||g===mu)throw Error(r(483))}var Th=null,ga=0;function fg(g){var b=ga;return ga+=1,Th===null&&(Th=[]),Im(Th,g,b)}function nc(g,b){b=b.props.ref,g.ref=b!==void 0?b:null}function ma(g,b){throw b.$$typeof===f?Error(r(525)):(g=Object.prototype.toString.call(b),Error(r(31,g==="[object Object]"?"object with keys {"+Object.keys(b).join(", ")+"}":g)))}function pg(g){function b(Ye,Qe){if(g){var st=Ye.deletions;st===null?(Ye.deletions=[Qe],Ye.flags|=16):st.push(Qe)}}function _(Ye,Qe){if(!g)return null;for(;Qe!==null;)b(Ye,Qe),Qe=Qe.sibling;return null}function R(Ye){for(var Qe=new Map;Ye!==null;)Ye.key!==null?Qe.set(Ye.key,Ye):Qe.set(Ye.index,Ye),Ye=Ye.sibling;return Qe}function Q(Ye,Qe){return Ye=Ll(Ye,Qe),Ye.index=0,Ye.sibling=null,Ye}function K(Ye,Qe,st){return Ye.index=st,g?(st=Ye.alternate,st!==null?(st=st.index,st<Qe?(Ye.flags|=67108866,Qe):st):(Ye.flags|=67108866,Qe)):(Ye.flags|=1048576,Qe)}function oe(Ye){return g&&Ye.alternate===null&&(Ye.flags|=67108866),Ye}function ye(Ye,Qe,st,Nt){return Qe===null||Qe.tag!==6?(Qe=Qf(st,Ye.mode,Nt),Qe.return=Ye,Qe):(Qe=Q(Qe,st),Qe.return=Ye,Qe)}function Ne(Ye,Qe,st,Nt){var Hn=st.type;return Hn===v?Dt(Ye,Qe,st.props.children,Nt,st.key):Qe!==null&&(Qe.elementType===Hn||typeof Hn=="object"&&Hn!==null&&Hn.$$typeof===P&&tc(Hn)===Qe.type)?(Qe=Q(Qe,st.props),nc(Qe,st),Qe.return=Ye,Qe):(Qe=Em(st.type,st.key,st.props,null,Ye.mode,Nt),nc(Qe,st),Qe.return=Ye,Qe)}function lt(Ye,Qe,st,Nt){return Qe===null||Qe.tag!==4||Qe.stateNode.containerInfo!==st.containerInfo||Qe.stateNode.implementation!==st.implementation?(Qe=Fl(st,Ye.mode,Nt),Qe.return=Ye,Qe):(Qe=Q(Qe,st.children||[]),Qe.return=Ye,Qe)}function Dt(Ye,Qe,st,Nt,Hn){return Qe===null||Qe.tag!==7?(Qe=Td(st,Ye.mode,Nt,Hn),Qe.return=Ye,Qe):(Qe=Q(Qe,st),Qe.return=Ye,Qe)}function $t(Ye,Qe,st){if(typeof Qe=="string"&&Qe!==""||typeof Qe=="number"||typeof Qe=="bigint")return Qe=Qf(""+Qe,Ye.mode,st),Qe.return=Ye,Qe;if(typeof Qe=="object"&&Qe!==null){switch(Qe.$$typeof){case p:return st=Em(Qe.type,Qe.key,Qe.props,null,Ye.mode,st),nc(st,Qe),st.return=Ye,st;case m:return Qe=Fl(Qe,Ye.mode,st),Qe.return=Ye,Qe;case P:return Qe=tc(Qe),$t(Ye,Qe,st)}if(W(Qe)||z(Qe))return Qe=Td(Qe,Ye.mode,st,null),Qe.return=Ye,Qe;if(typeof Qe.then=="function")return $t(Ye,fg(Qe),st);if(Qe.$$typeof===E)return $t(Ye,Ol(Ye,Qe),st);ma(Ye,Qe)}return null}function ft(Ye,Qe,st,Nt){var Hn=Qe!==null?Qe.key:null;if(typeof st=="string"&&st!==""||typeof st=="number"||typeof st=="bigint")return Hn!==null?null:ye(Ye,Qe,""+st,Nt);if(typeof st=="object"&&st!==null){switch(st.$$typeof){case p:return st.key===Hn?Ne(Ye,Qe,st,Nt):null;case m:return st.key===Hn?lt(Ye,Qe,st,Nt):null;case P:return st=tc(st),ft(Ye,Qe,st,Nt)}if(W(st)||z(st))return Hn!==null?null:Dt(Ye,Qe,st,Nt,null);if(typeof st.then=="function")return ft(Ye,Qe,fg(st),Nt);if(st.$$typeof===E)return ft(Ye,Qe,Ol(Ye,st),Nt);ma(Ye,st)}return null}function bt(Ye,Qe,st,Nt,Hn){if(typeof Nt=="string"&&Nt!==""||typeof Nt=="number"||typeof Nt=="bigint")return Ye=Ye.get(st)||null,ye(Qe,Ye,""+Nt,Hn);if(typeof Nt=="object"&&Nt!==null){switch(Nt.$$typeof){case p:return Ye=Ye.get(Nt.key===null?st:Nt.key)||null,Ne(Qe,Ye,Nt,Hn);case m:return Ye=Ye.get(Nt.key===null?st:Nt.key)||null,lt(Qe,Ye,Nt,Hn);case P:return Nt=tc(Nt),bt(Ye,Qe,st,Nt,Hn)}if(W(Nt)||z(Nt))return Ye=Ye.get(st)||null,Dt(Qe,Ye,Nt,Hn,null);if(typeof Nt.then=="function")return bt(Ye,Qe,st,fg(Nt),Hn);if(Nt.$$typeof===E)return bt(Ye,Qe,st,Ol(Qe,Nt),Hn);ma(Qe,Nt)}return null}function wn(Ye,Qe,st,Nt){for(var Hn=null,ki=null,Mn=Qe,kr=Qe=0,ci=null;Mn!==null&&kr<st.length;kr++){Mn.index>kr?(ci=Mn,Mn=null):ci=Mn.sibling;var Pi=ft(Ye,Mn,st[kr],Nt);if(Pi===null){Mn===null&&(Mn=ci);break}g&&Mn&&Pi.alternate===null&&b(Ye,Mn),Qe=K(Pi,Qe,kr),ki===null?Hn=Pi:ki.sibling=Pi,ki=Pi,Mn=ci}if(kr===st.length)return _(Ye,Mn),Zr&&zl(Ye,kr),Hn;if(Mn===null){for(;kr<st.length;kr++)Mn=$t(Ye,st[kr],Nt),Mn!==null&&(Qe=K(Mn,Qe,kr),ki===null?Hn=Mn:ki.sibling=Mn,ki=Mn);return Zr&&zl(Ye,kr),Hn}for(Mn=R(Mn);kr<st.length;kr++)ci=bt(Mn,Ye,kr,st[kr],Nt),ci!==null&&(g&&ci.alternate!==null&&Mn.delete(ci.key===null?kr:ci.key),Qe=K(ci,Qe,kr),ki===null?Hn=ci:ki.sibling=ci,ki=ci);return g&&Mn.forEach(function(Pg){return b(Ye,Pg)}),Zr&&zl(Ye,kr),Hn}function Yn(Ye,Qe,st,Nt){if(st==null)throw Error(r(151));for(var Hn=null,ki=null,Mn=Qe,kr=Qe=0,ci=null,Pi=st.next();Mn!==null&&!Pi.done;kr++,Pi=st.next()){Mn.index>kr?(ci=Mn,Mn=null):ci=Mn.sibling;var Pg=ft(Ye,Mn,Pi.value,Nt);if(Pg===null){Mn===null&&(Mn=ci);break}g&&Mn&&Pg.alternate===null&&b(Ye,Mn),Qe=K(Pg,Qe,kr),ki===null?Hn=Pg:ki.sibling=Pg,ki=Pg,Mn=ci}if(Pi.done)return _(Ye,Mn),Zr&&zl(Ye,kr),Hn;if(Mn===null){for(;!Pi.done;kr++,Pi=st.next())Pi=$t(Ye,Pi.value,Nt),Pi!==null&&(Qe=K(Pi,Qe,kr),ki===null?Hn=Pi:ki.sibling=Pi,ki=Pi);return Zr&&zl(Ye,kr),Hn}for(Mn=R(Mn);!Pi.done;kr++,Pi=st.next())Pi=bt(Mn,Ye,kr,Pi.value,Nt),Pi!==null&&(g&&Pi.alternate!==null&&Mn.delete(Pi.key===null?kr:Pi.key),Qe=K(Pi,Qe,kr),ki===null?Hn=Pi:ki.sibling=Pi,ki=Pi);return g&&Mn.forEach(function(XM){return b(Ye,XM)}),Zr&&zl(Ye,kr),Hn}function os(Ye,Qe,st,Nt){if(typeof st=="object"&&st!==null&&st.type===v&&st.key===null&&(st=st.props.children),typeof st=="object"&&st!==null){switch(st.$$typeof){case p:e:{for(var Hn=st.key;Qe!==null;){if(Qe.key===Hn){if(Hn=st.type,Hn===v){if(Qe.tag===7){_(Ye,Qe.sibling),Nt=Q(Qe,st.props.children),Nt.return=Ye,Ye=Nt;break e}}else if(Qe.elementType===Hn||typeof Hn=="object"&&Hn!==null&&Hn.$$typeof===P&&tc(Hn)===Qe.type){_(Ye,Qe.sibling),Nt=Q(Qe,st.props),nc(Nt,st),Nt.return=Ye,Ye=Nt;break e}_(Ye,Qe);break}else b(Ye,Qe);Qe=Qe.sibling}st.type===v?(Nt=Td(st.props.children,Ye.mode,Nt,st.key),Nt.return=Ye,Ye=Nt):(Nt=Em(st.type,st.key,st.props,null,Ye.mode,Nt),nc(Nt,st),Nt.return=Ye,Ye=Nt)}return oe(Ye);case m:e:{for(Hn=st.key;Qe!==null;){if(Qe.key===Hn)if(Qe.tag===4&&Qe.stateNode.containerInfo===st.containerInfo&&Qe.stateNode.implementation===st.implementation){_(Ye,Qe.sibling),Nt=Q(Qe,st.children||[]),Nt.return=Ye,Ye=Nt;break e}else{_(Ye,Qe);break}else b(Ye,Qe);Qe=Qe.sibling}Nt=Fl(st,Ye.mode,Nt),Nt.return=Ye,Ye=Nt}return oe(Ye);case P:return st=tc(st),os(Ye,Qe,st,Nt)}if(W(st))return wn(Ye,Qe,st,Nt);if(z(st)){if(Hn=z(st),typeof Hn!="function")throw Error(r(150));return st=Hn.call(st),Yn(Ye,Qe,st,Nt)}if(typeof st.then=="function")return os(Ye,Qe,fg(st),Nt);if(st.$$typeof===E)return os(Ye,Qe,Ol(Ye,st),Nt);ma(Ye,st)}return typeof st=="string"&&st!==""||typeof st=="number"||typeof st=="bigint"?(st=""+st,Qe!==null&&Qe.tag===6?(_(Ye,Qe.sibling),Nt=Q(Qe,st),Nt.return=Ye,Ye=Nt):(_(Ye,Qe),Nt=Qf(st,Ye.mode,Nt),Nt.return=Ye,Ye=Nt),oe(Ye)):_(Ye,Qe)}return function(Ye,Qe,st,Nt){try{ga=0;var Hn=os(Ye,Qe,st,Nt);return Th=null,Hn}catch(Mn){if(Mn===Dh||Mn===mu)throw Mn;var ki=Eo(29,Mn,null,Ye.mode);return ki.lanes=Nt,ki.return=Ye,ki}}}var Mh=pg(!0),Ov=pg(!1),Au=!1;function Qc(g){g.updateQueue={baseState:g.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function CA(g,b){g=g.updateQueue,b.updateQueue===g&&(b.updateQueue={baseState:g.baseState,firstBaseUpdate:g.firstBaseUpdate,lastBaseUpdate:g.lastBaseUpdate,shared:g.shared,callbacks:null})}function Uc(g){return{lane:g,tag:0,payload:null,callback:null,next:null}}function yu(g,b,_){var R=g.updateQueue;if(R===null)return null;if(R=R.shared,(ai&2)!==0){var Q=R.pending;return Q===null?b.next=b:(b.next=Q.next,Q.next=b),R.pending=b,b=jf(g),Cm(g,null,_),b}return Eh(g,R,b,_),jf(g)}function kh(g,b,_){if(b=b.updateQueue,b!==null&&(b=b.shared,(_&4194048)!==0)){var R=b.lanes;R&=g.pendingLanes,_|=R,b.lanes=_,rn(g,_)}}function Bm(g,b){var _=g.updateQueue,R=g.alternate;if(R!==null&&(R=R.updateQueue,_===R)){var Q=null,K=null;if(_=_.firstBaseUpdate,_!==null){do{var oe={lane:_.lane,tag:_.tag,payload:_.payload,callback:null,next:null};K===null?Q=K=oe:K=K.next=oe,_=_.next}while(_!==null);K===null?Q=K=b:K=K.next=b}else Q=K=b;_={baseState:R.baseState,firstBaseUpdate:Q,lastBaseUpdate:K,shared:R.shared,callbacks:R.callbacks},g.updateQueue=_;return}g=_.lastBaseUpdate,g===null?_.firstBaseUpdate=b:g.next=b,_.lastBaseUpdate=b}var So=!1;function Kf(){if(So){var g=ec;if(g!==null)throw g}}function Ph(g,b,_,R){So=!1;var Q=g.updateQueue;Au=!1;var K=Q.firstBaseUpdate,oe=Q.lastBaseUpdate,ye=Q.shared.pending;if(ye!==null){Q.shared.pending=null;var Ne=ye,lt=Ne.next;Ne.next=null,oe===null?K=lt:oe.next=lt,oe=Ne;var Dt=g.alternate;Dt!==null&&(Dt=Dt.updateQueue,ye=Dt.lastBaseUpdate,ye!==oe&&(ye===null?Dt.firstBaseUpdate=lt:ye.next=lt,Dt.lastBaseUpdate=Ne))}if(K!==null){var $t=Q.baseState;oe=0,Dt=lt=Ne=null,ye=K;do{var ft=ye.lane&-536870913,bt=ft!==ye.lane;if(bt?(qr&ft)===ft:(R&ft)===ft){ft!==0&&ft===Nd&&(So=!0),Dt!==null&&(Dt=Dt.next={lane:0,tag:ye.tag,payload:ye.payload,callback:null,next:null});e:{var wn=g,Yn=ye;ft=b;var os=_;switch(Yn.tag){case 1:if(wn=Yn.payload,typeof wn=="function"){$t=wn.call(os,$t,ft);break e}$t=wn;break e;case 3:wn.flags=wn.flags&-65537|128;case 0:if(wn=Yn.payload,ft=typeof wn=="function"?wn.call(os,$t,ft):wn,ft==null)break e;$t=d({},$t,ft);break e;case 2:Au=!0}}ft=ye.callback,ft!==null&&(g.flags|=64,bt&&(g.flags|=8192),bt=Q.callbacks,bt===null?Q.callbacks=[ft]:bt.push(ft))}else bt={lane:ft,tag:ye.tag,payload:ye.payload,callback:ye.callback,next:null},Dt===null?(lt=Dt=bt,Ne=$t):Dt=Dt.next=bt,oe|=ft;if(ye=ye.next,ye===null){if(ye=Q.shared.pending,ye===null)break;bt=ye,ye=bt.next,bt.next=null,Q.lastBaseUpdate=bt,Q.shared.pending=null}}while(!0);Dt===null&&(Ne=$t),Q.baseState=Ne,Q.firstBaseUpdate=lt,Q.lastBaseUpdate=Dt,K===null&&(Q.shared.lanes=0),ql|=oe,g.lanes=oe,g.memoizedState=$t}}function wo(g,b){if(typeof g!="function")throw Error(r(191,g));g.call(b)}function _o(g,b){var _=g.callbacks;if(_!==null)for(g.callbacks=null,g=0;g<_.length;g++)wo(_[g],b)}var Aa=Y(null),Ks=Y(0);function EA(g,b){g=Is,ee(Ks,g),ee(Aa,b),Is=g|b.baseLanes}function ea(){ee(Ks,Is),ee(Aa,Aa.current)}function Qo(){Is=Ks.current,Z(Aa),Z(Ks)}var Io=Y(null),vu=null;function Rh(g){var b=g.alternate;ee(ks,ks.current&1),ee(Io,g),vu===null&&(b===null||Aa.current!==null||b.memoizedState!==null)&&(vu=g)}function Dm(g){ee(ks,ks.current),ee(Io,g),vu===null&&(vu=g)}function CC(g){g.tag===22?(ee(ks,ks.current),ee(Io,g),vu===null&&(vu=g)):jl()}function jl(){ee(ks,ks.current),ee(Io,Io.current)}function pl(g){Z(Io),vu===g&&(vu=null),Z(ks)}var ks=Y(0);function SA(g){for(var b=g;b!==null;){if(b.tag===13){var _=b.memoizedState;if(_!==null&&(_=_.dehydrated,_===null||zC(_)||XA(_)))return b}else if(b.tag===19&&(b.memoizedProps.revealOrder==="forwards"||b.memoizedProps.revealOrder==="backwards"||b.memoizedProps.revealOrder==="unstable_legacy-backwards"||b.memoizedProps.revealOrder==="together")){if((b.flags&128)!==0)return b}else if(b.child!==null){b.child.return=b,b=b.child;continue}if(b===g)break;for(;b.sibling===null;){if(b.return===null||b.return===g)return null;b=b.return}b.sibling.return=b.return,b=b.sibling}return null}var Uo=0,Xn=null,Ki=null,Ps=null,Tm=!1,Hc=!1,Wf=!1,wA=0,gg=0,bu=null,xS=0;function xs(){throw Error(r(321))}function _A(g,b){if(b===null)return!1;for(var _=0;_<b.length&&_<g.length;_++)if(!Jr(g[_],b[_]))return!1;return!0}function IA(g,b,_,R,Q,K){return Uo=K,Xn=b,b.memoizedState=null,b.updateQueue=null,b.lanes=0,O.H=g===null||g.memoizedState===null?BC:Jf,Wf=!1,K=_(R,Q),Wf=!1,Hc&&(K=Mm(b,_,R,Q)),jv(g),K}function jv(g){O.H=zh;var b=Ki!==null&&Ki.next!==null;if(Uo=0,Ps=Ki=Xn=null,Tm=!1,gg=0,bu=null,b)throw Error(r(300));g===null||Wi||(g=g.dependencies,g!==null&&cg(g)&&(Wi=!0))}function Mm(g,b,_,R){Xn=g;var Q=0;do{if(Hc&&(bu=null),gg=0,Hc=!1,25<=Q)throw Error(r(301));if(Q+=1,Ps=Ki=null,g.updateQueue!=null){var K=g.updateQueue;K.lastEffect=null,K.events=null,K.stores=null,K.memoCache!=null&&(K.memoCache.index=0)}O.H=Oh,K=b(_,R)}while(Hc);return K}function CS(){var g=O.H,b=g.useState()[0];return b=typeof b.then=="function"?mg(b):b,g=g.useState()[0],(Ki!==null?Ki.memoizedState:null)!==g&&(Xn.flags|=1024),b}function BA(){var g=wA!==0;return wA=0,g}function DA(g,b,_){b.updateQueue=g.updateQueue,b.flags&=-2053,g.lanes&=~_}function Qv(g){if(Tm){for(g=g.memoizedState;g!==null;){var b=g.queue;b!==null&&(b.pending=null),g=g.next}Tm=!1}Uo=0,Ps=Ki=Xn=null,Hc=!1,gg=wA=0,bu=null}function ya(){var g={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ps===null?Xn.memoizedState=Ps=g:Ps=Ps.next=g,Ps}function Ws(){if(Ki===null){var g=Xn.alternate;g=g!==null?g.memoizedState:null}else g=Ki.next;var b=Ps===null?Xn.memoizedState:Ps.next;if(b!==null)Ps=b,Ki=g;else{if(g===null)throw Xn.alternate===null?Error(r(467)):Error(r(310));Ki=g,g={memoizedState:Ki.memoizedState,baseState:Ki.baseState,baseQueue:Ki.baseQueue,queue:Ki.queue,next:null},Ps===null?Xn.memoizedState=Ps=g:Ps=Ps.next=g}return Ps}function qf(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function mg(g){var b=gg;return gg+=1,bu===null&&(bu=[]),g=Im(bu,g,b),b=Xn,(Ps===null?b.memoizedState:Ps.next)===null&&(b=b.alternate,O.H=b===null||b.memoizedState===null?BC:Jf),g}function Ag(g){if(g!==null&&typeof g=="object"){if(typeof g.then=="function")return mg(g);if(g.$$typeof===E)return jo(g)}throw Error(r(438,String(g)))}function Uv(g){var b=null,_=Xn.updateQueue;if(_!==null&&(b=_.memoCache),b==null){var R=Xn.alternate;R!==null&&(R=R.updateQueue,R!==null&&(R=R.memoCache,R!=null&&(b={data:R.data.map(function(Q){return Q.slice()}),index:0})))}if(b==null&&(b={data:[],index:0}),_===null&&(_=qf(),Xn.updateQueue=_),_.memoCache=b,_=b.data[b.index],_===void 0)for(_=b.data[b.index]=Array(g),R=0;R<g;R++)_[R]=L;return b.index++,_}function rc(g,b){return typeof b=="function"?b(g):b}function Cr(g){var b=Ws();return Hv(b,Ki,g)}function Hv(g,b,_){var R=g.queue;if(R===null)throw Error(r(311));R.lastRenderedReducer=_;var Q=g.baseQueue,K=R.pending;if(K!==null){if(Q!==null){var oe=Q.next;Q.next=K.next,K.next=oe}b.baseQueue=Q=K,R.pending=null}if(K=g.baseState,Q===null)g.memoizedState=K;else{b=Q.next;var ye=oe=null,Ne=null,lt=b,Dt=!1;do{var $t=lt.lane&-536870913;if($t!==lt.lane?(qr&$t)===$t:(Uo&$t)===$t){var ft=lt.revertLane;if(ft===0)Ne!==null&&(Ne=Ne.next={lane:0,revertLane:0,gesture:null,action:lt.action,hasEagerState:lt.hasEagerState,eagerState:lt.eagerState,next:null}),$t===Nd&&(Dt=!0);else if((Uo&ft)===ft){lt=lt.next,ft===Nd&&(Dt=!0);continue}else $t={lane:0,revertLane:lt.revertLane,gesture:null,action:lt.action,hasEagerState:lt.hasEagerState,eagerState:lt.eagerState,next:null},Ne===null?(ye=Ne=$t,oe=K):Ne=Ne.next=$t,Xn.lanes|=ft,ql|=ft;$t=lt.action,Wf&&_(K,$t),K=lt.hasEagerState?lt.eagerState:_(K,$t)}else ft={lane:$t,revertLane:lt.revertLane,gesture:lt.gesture,action:lt.action,hasEagerState:lt.hasEagerState,eagerState:lt.eagerState,next:null},Ne===null?(ye=Ne=ft,oe=K):Ne=Ne.next=ft,Xn.lanes|=$t,ql|=$t;lt=lt.next}while(lt!==null&&lt!==b);if(Ne===null?oe=K:Ne.next=ye,!Jr(K,g.memoizedState)&&(Wi=!0,Dt&&(_=ec,_!==null)))throw _;g.memoizedState=K,g.baseState=oe,g.baseQueue=Ne,R.lastRenderedState=K}return Q===null&&(R.lanes=0),[g.memoizedState,R.dispatch]}function TA(g){var b=Ws(),_=b.queue;if(_===null)throw Error(r(311));_.lastRenderedReducer=g;var R=_.dispatch,Q=_.pending,K=b.memoizedState;if(Q!==null){_.pending=null;var oe=Q=Q.next;do K=g(K,oe.action),oe=oe.next;while(oe!==Q);Jr(K,b.memoizedState)||(Wi=!0),b.memoizedState=K,b.baseQueue===null&&(b.baseState=K),_.lastRenderedState=K}return[K,R]}function Yf(g,b,_){var R=Xn,Q=Ws(),K=Zr;if(K){if(_===void 0)throw Error(r(407));_=_()}else _=b();var oe=!Jr((Ki||Q).memoizedState,_);if(oe&&(Q.memoizedState=_,Wi=!0),Q=Q.queue,Rm(Kv.bind(null,R,Q,g),[g]),Q.getSnapshot!==b||oe||Ps!==null&&Ps.memoizedState.tag&1){if(R.flags|=2048,Ql(9,{destroy:void 0},Gv.bind(null,R,Q,_,b),null),Mi===null)throw Error(r(349));K||(Uo&127)!==0||Vv(R,b,_)}return _}function Vv(g,b,_){g.flags|=16384,g={getSnapshot:b,value:_},b=Xn.updateQueue,b===null?(b=qf(),Xn.updateQueue=b,b.stores=[g]):(_=b.stores,_===null?b.stores=[g]:_.push(g))}function Gv(g,b,_,R){b.value=_,b.getSnapshot=R,gl(b)&&MA(g)}function Kv(g,b,_){return _(function(){gl(b)&&MA(g)})}function gl(g){var b=g.getSnapshot;g=g.value;try{var _=b();return!Jr(g,_)}catch{return!0}}function MA(g){var b=qu(g,2);b!==null&&w(b,g,2)}function Nh(g){var b=ya();if(typeof g=="function"){var _=g;if(g=_(),Wf){Pt(!0);try{_()}finally{Pt(!1)}}}return b.memoizedState=b.baseState=g,b.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:rc,lastRenderedState:g},b}function kA(g,b,_,R){return g.baseState=_,Hv(g,Ki,typeof R=="function"?R:rc)}function EC(g,b,_,R,Q){if(Gc(g))throw Error(r(485));if(g=b.action,g!==null){var K={payload:Q,action:g,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(oe){K.listeners.push(oe)}};O.T!==null?_(!0):K.isTransition=!1,R(K),_=b.pending,_===null?(K.next=b.pending=K,Wv(b,K)):(K.next=_.next,b.pending=_.next=K)}}function Wv(g,b){var _=b.action,R=b.payload,Q=g.state;if(b.isTransition){var K=O.T,oe={};O.T=oe;try{var ye=_(Q,R),Ne=O.S;Ne!==null&&Ne(oe,ye),ml(g,b,ye)}catch(lt){yg(g,b,lt)}finally{K!==null&&oe.types!==null&&(K.types=oe.types),O.T=K}}else try{K=_(Q,R),ml(g,b,K)}catch(lt){yg(g,b,lt)}}function ml(g,b,_){_!==null&&typeof _=="object"&&typeof _.then=="function"?_.then(function(R){Vc(g,b,R)},function(R){return yg(g,b,R)}):Vc(g,b,_)}function Vc(g,b,_){b.status="fulfilled",b.value=_,qv(b),g.state=_,b=g.pending,b!==null&&(_=b.next,_===b?g.pending=null:(_=_.next,b.next=_,Wv(g,_)))}function yg(g,b,_){var R=g.pending;if(g.pending=null,R!==null){R=R.next;do b.status="rejected",b.reason=_,qv(b),b=b.next;while(b!==R)}g.action=null}function qv(g){g=g.listeners;for(var b=0;b<g.length;b++)(0,g[b])()}function km(g,b){return b}function Yv(g,b){if(Zr){var _=Mi.formState;if(_!==null){e:{var R=Xn;if(Zr){if(Si){t:{for(var Q=Si,K=Oo;Q.nodeType!==8;){if(!K){Q=null;break t}if(Q=td(Q.nextSibling),Q===null){Q=null;break t}}K=Q.data,Q=K==="F!"||K==="F"?Q:null}if(Q){Si=td(Q.nextSibling),R=Q.data==="F!";break e}}Wr(R)}R=!1}R&&(b=_[0])}}return _=ya(),_.memoizedState=_.baseState=b,R={pending:null,lanes:0,dispatch:null,lastRenderedReducer:km,lastRenderedState:b},_.queue=R,_=ib.bind(null,Xn,R),R.dispatch=_,R=Nh(!1),K=$h.bind(null,Xn,!1,R.queue),R=ya(),Q={state:b,dispatch:null,action:g,pending:null},R.queue=Q,_=EC.bind(null,Xn,Q,K,_),Q.dispatch=_,R.memoizedState=g,[b,_,!1]}function PA(g){var b=Ws();return Xv(b,Ki,g)}function Xv(g,b,_){if(b=Hv(g,b,km)[0],g=Cr(rc)[0],typeof b=="object"&&b!==null&&typeof b.then=="function")try{var R=mg(b)}catch(oe){throw oe===Dh?mu:oe}else R=b;b=Ws();var Q=b.queue,K=Q.dispatch;return _!==b.memoizedState&&(Xn.flags|=2048,Ql(9,{destroy:void 0},Jv.bind(null,Q,_),null)),[R,K,g]}function Jv(g,b){g.action=b}function RA(g){var b=Ws(),_=Ki;if(_!==null)return Xv(b,_,g);Ws(),b=b.memoizedState,_=Ws();var R=_.queue.dispatch;return _.memoizedState=g,[b,R,!1]}function Ql(g,b,_,R){return g={tag:g,create:_,deps:R,inst:b,next:null},b=Xn.updateQueue,b===null&&(b=qf(),Xn.updateQueue=b),_=b.lastEffect,_===null?b.lastEffect=g.next=g:(R=_.next,_.next=g,g.next=R,b.lastEffect=g),g}function SC(){return Ws().memoizedState}function ic(g,b,_,R){var Q=ya();Xn.flags|=g,Q.memoizedState=Ql(1|b,{destroy:void 0},_,R===void 0?null:R)}function Pm(g,b,_,R){var Q=Ws();R=R===void 0?null:R;var K=Q.memoizedState.inst;Ki!==null&&R!==null&&_A(R,Ki.memoizedState.deps)?Q.memoizedState=Ql(b,K,_,R):(Xn.flags|=g,Q.memoizedState=Ql(1|b,K,_,R))}function Zv(g,b){ic(8390656,8,g,b)}function Rm(g,b){Pm(2048,8,g,b)}function wC(g){Xn.flags|=4;var b=Xn.updateQueue;if(b===null)b=qf(),Xn.updateQueue=b,b.events=[g];else{var _=b.events;_===null?b.events=[g]:_.push(g)}}function _C(g){var b=Ws().memoizedState;return wC({ref:b,nextImpl:g}),function(){if((ai&2)!==0)throw Error(r(440));return b.impl.apply(void 0,arguments)}}function IC(g,b){return Pm(4,2,g,b)}function Al(g,b){return Pm(4,4,g,b)}function NA(g,b){if(typeof b=="function"){g=g();var _=b(g);return function(){typeof _=="function"?_():b(null)}}if(b!=null)return g=g(),b.current=g,function(){b.current=null}}function LA(g,b,_){_=_!=null?_.concat([g]):null,Pm(4,4,NA.bind(null,b,g),_)}function Nm(){}function FA(g,b){var _=Ws();b=b===void 0?null:b;var R=_.memoizedState;return b!==null&&_A(b,R[1])?R[0]:(_.memoizedState=[g,b],g)}function va(g,b){var _=Ws();b=b===void 0?null:b;var R=_.memoizedState;if(b!==null&&_A(b,R[1]))return R[0];if(R=g(),Wf){Pt(!0);try{g()}finally{Pt(!1)}}return _.memoizedState=[R,b],R}function xu(g,b,_){return _===void 0||(Uo&1073741824)!==0&&(qr&261930)===0?g.memoizedState=b:(g.memoizedState=_,g=S(),Xn.lanes|=g,ql|=g,_)}function eb(g,b,_,R){return Jr(_,b)?_:Aa.current!==null?(g=xu(g,_,R),Jr(g,b)||(Wi=!0),g):(Uo&42)===0||(Uo&1073741824)!==0&&(qr&261930)===0?(Wi=!0,g.memoizedState=_):(g=S(),Xn.lanes|=g,ql|=g,b)}function tb(g,b,_,R,Q){var K=G.p;G.p=K!==0&&8>K?K:8;var oe=O.T,ye={};O.T=ye,$h(g,!1,b,_);try{var Ne=Q(),lt=O.S;if(lt!==null&&lt(ye,Ne),Ne!==null&&typeof Ne=="object"&&typeof Ne.then=="function"){var Dt=zv(Ne,R);Xf(g,b,Dt,Ya(g))}else Xf(g,b,R,Ya(g))}catch($t){Xf(g,b,{then:function(){},status:"rejected",reason:$t},Ya())}finally{G.p=K,oe!==null&&ye.types!==null&&(oe.types=ye.types),O.T=oe}}function $A(){}function Lh(g,b,_,R){if(g.tag!==5)throw Error(r(476));var Q=nb(g).queue;tb(g,Q,b,q,_===null?$A:function(){return zA(g),_(R)})}function nb(g){var b=g.memoizedState;if(b!==null)return b;b={memoizedState:q,baseState:q,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:rc,lastRenderedState:q},next:null};var _={};return b.next={memoizedState:_,baseState:_,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:rc,lastRenderedState:_},next:null},g.memoizedState=b,g=g.alternate,g!==null&&(g.memoizedState=b),b}function zA(g){var b=nb(g);b.next===null&&(b=g.alternate.memoizedState),Xf(g,b.next.queue,{},Ya())}function rb(){return jo(ry)}function Ho(){return Ws().memoizedState}function Fh(){return Ws().memoizedState}function Lm(g){for(var b=g.return;b!==null;){switch(b.tag){case 24:case 3:var _=Ya();g=Uc(_);var R=yu(b,g,_);R!==null&&(w(R,b,_),kh(R,b,_)),b={cache:Zu()},g.payload=b;return}b=b.return}}function ES(g,b,_){var R=Ya();_={lane:R,revertLane:0,gesture:null,action:_,hasEagerState:!1,eagerState:null,next:null},Gc(g)?Kc(b,_):(_=Of(g,b,_,R),_!==null&&(w(_,g,R),ba(_,b,R)))}function ib(g,b,_){var R=Ya();Xf(g,b,_,R)}function Xf(g,b,_,R){var Q={lane:R,revertLane:0,gesture:null,action:_,hasEagerState:!1,eagerState:null,next:null};if(Gc(g))Kc(b,Q);else{var K=g.alternate;if(g.lanes===0&&(K===null||K.lanes===0)&&(K=b.lastRenderedReducer,K!==null))try{var oe=b.lastRenderedState,ye=K(oe,_);if(Q.hasEagerState=!0,Q.eagerState=ye,Jr(ye,oe))return Eh(g,b,Q,0),Mi===null&&Ha(),!1}catch{}if(_=Of(g,b,Q,R),_!==null)return w(_,g,R),ba(_,b,R),!0}return!1}function $h(g,b,_,R){if(R={lane:2,revertLane:hc(),gesture:null,action:R,hasEagerState:!1,eagerState:null,next:null},Gc(g)){if(b)throw Error(r(479))}else b=Of(g,_,R,2),b!==null&&w(b,g,2)}function Gc(g){var b=g.alternate;return g===Xn||b!==null&&b===Xn}function Kc(g,b){Hc=Tm=!0;var _=g.pending;_===null?b.next=b:(b.next=_.next,_.next=b),g.pending=b}function ba(g,b,_){if((_&4194048)!==0){var R=b.lanes;R&=g.pendingLanes,_|=R,b.lanes=_,rn(g,_)}}var zh={readContext:jo,use:Ag,useCallback:xs,useContext:xs,useEffect:xs,useImperativeHandle:xs,useLayoutEffect:xs,useInsertionEffect:xs,useMemo:xs,useReducer:xs,useRef:xs,useState:xs,useDebugValue:xs,useDeferredValue:xs,useTransition:xs,useSyncExternalStore:xs,useId:xs,useHostTransitionStatus:xs,useFormState:xs,useActionState:xs,useOptimistic:xs,useMemoCache:xs,useCacheRefresh:xs};zh.useEffectEvent=xs;var BC={readContext:jo,use:Ag,useCallback:function(g,b){return ya().memoizedState=[g,b===void 0?null:b],g},useContext:jo,useEffect:Zv,useImperativeHandle:function(g,b,_){_=_!=null?_.concat([g]):null,ic(4194308,4,NA.bind(null,b,g),_)},useLayoutEffect:function(g,b){return ic(4194308,4,g,b)},useInsertionEffect:function(g,b){ic(4,2,g,b)},useMemo:function(g,b){var _=ya();b=b===void 0?null:b;var R=g();if(Wf){Pt(!0);try{g()}finally{Pt(!1)}}return _.memoizedState=[R,b],R},useReducer:function(g,b,_){var R=ya();if(_!==void 0){var Q=_(b);if(Wf){Pt(!0);try{_(b)}finally{Pt(!1)}}}else Q=b;return R.memoizedState=R.baseState=Q,g={pending:null,lanes:0,dispatch:null,lastRenderedReducer:g,lastRenderedState:Q},R.queue=g,g=g.dispatch=ES.bind(null,Xn,g),[R.memoizedState,g]},useRef:function(g){var b=ya();return g={current:g},b.memoizedState=g},useState:function(g){g=Nh(g);var b=g.queue,_=ib.bind(null,Xn,b);return b.dispatch=_,[g.memoizedState,_]},useDebugValue:Nm,useDeferredValue:function(g,b){var _=ya();return xu(_,g,b)},useTransition:function(){var g=Nh(!1);return g=tb.bind(null,Xn,g.queue,!0,!1),ya().memoizedState=g,[!1,g]},useSyncExternalStore:function(g,b,_){var R=Xn,Q=ya();if(Zr){if(_===void 0)throw Error(r(407));_=_()}else{if(_=b(),Mi===null)throw Error(r(349));(qr&127)!==0||Vv(R,b,_)}Q.memoizedState=_;var K={value:_,getSnapshot:b};return Q.queue=K,Zv(Kv.bind(null,R,K,g),[g]),R.flags|=2048,Ql(9,{destroy:void 0},Gv.bind(null,R,K,_,b),null),_},useId:function(){var g=ya(),b=Mi.identifierPrefix;if(Zr){var _=du,R=Oc;_=(R&~(1<<32-wt(R)-1)).toString(32)+_,b="_"+b+"R_"+_,_=wA++,0<_&&(b+="H"+_.toString(32)),b+="_"}else _=xS++,b="_"+b+"r_"+_.toString(32)+"_";return g.memoizedState=b},useHostTransitionStatus:rb,useFormState:Yv,useActionState:Yv,useOptimistic:function(g){var b=ya();b.memoizedState=b.baseState=g;var _={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return b.queue=_,b=$h.bind(null,Xn,!0,_),_.dispatch=b,[g,b]},useMemoCache:Uv,useCacheRefresh:function(){return ya().memoizedState=Lm.bind(null,Xn)},useEffectEvent:function(g){var b=ya(),_={impl:g};return b.memoizedState=_,function(){if((ai&2)!==0)throw Error(r(440));return _.impl.apply(void 0,arguments)}}},Jf={readContext:jo,use:Ag,useCallback:FA,useContext:jo,useEffect:Rm,useImperativeHandle:LA,useInsertionEffect:IC,useLayoutEffect:Al,useMemo:va,useReducer:Cr,useRef:SC,useState:function(){return Cr(rc)},useDebugValue:Nm,useDeferredValue:function(g,b){var _=Ws();return eb(_,Ki.memoizedState,g,b)},useTransition:function(){var g=Cr(rc)[0],b=Ws().memoizedState;return[typeof g=="boolean"?g:mg(g),b]},useSyncExternalStore:Yf,useId:Ho,useHostTransitionStatus:rb,useFormState:PA,useActionState:PA,useOptimistic:function(g,b){var _=Ws();return kA(_,Ki,g,b)},useMemoCache:Uv,useCacheRefresh:Fh};Jf.useEffectEvent=_C;var Oh={readContext:jo,use:Ag,useCallback:FA,useContext:jo,useEffect:Rm,useImperativeHandle:LA,useInsertionEffect:IC,useLayoutEffect:Al,useMemo:va,useReducer:TA,useRef:SC,useState:function(){return TA(rc)},useDebugValue:Nm,useDeferredValue:function(g,b){var _=Ws();return Ki===null?xu(_,g,b):eb(_,Ki.memoizedState,g,b)},useTransition:function(){var g=TA(rc)[0],b=Ws().memoizedState;return[typeof g=="boolean"?g:mg(g),b]},useSyncExternalStore:Yf,useId:Ho,useHostTransitionStatus:rb,useFormState:RA,useActionState:RA,useOptimistic:function(g,b){var _=Ws();return Ki!==null?kA(_,Ki,g,b):(_.baseState=g,[g,_.queue.dispatch])},useMemoCache:Uv,useCacheRefresh:Fh};Oh.useEffectEvent=_C;function Zf(g,b,_,R){b=g.memoizedState,_=_(R,b),_=_==null?b:d({},b,_),g.memoizedState=_,g.lanes===0&&(g.updateQueue.baseState=_)}var ep={enqueueSetState:function(g,b,_){g=g._reactInternals;var R=Ya(),Q=Uc(R);Q.payload=b,_!=null&&(Q.callback=_),b=yu(g,Q,R),b!==null&&(w(b,g,R),kh(b,g,R))},enqueueReplaceState:function(g,b,_){g=g._reactInternals;var R=Ya(),Q=Uc(R);Q.tag=1,Q.payload=b,_!=null&&(Q.callback=_),b=yu(g,Q,R),b!==null&&(w(b,g,R),kh(b,g,R))},enqueueForceUpdate:function(g,b){g=g._reactInternals;var _=Ya(),R=Uc(_);R.tag=2,b!=null&&(R.callback=b),b=yu(g,R,_),b!==null&&(w(b,g,_),kh(b,g,_))}};function DC(g,b,_,R,Q,K,oe){return g=g.stateNode,typeof g.shouldComponentUpdate=="function"?g.shouldComponentUpdate(R,K,oe):b.prototype&&b.prototype.isPureReactComponent?!Lf(_,R)||!Lf(Q,K):!0}function sb(g,b,_,R){g=b.state,typeof b.componentWillReceiveProps=="function"&&b.componentWillReceiveProps(_,R),typeof b.UNSAFE_componentWillReceiveProps=="function"&&b.UNSAFE_componentWillReceiveProps(_,R),b.state!==g&&ep.enqueueReplaceState(b,b.state,null)}function ms(g,b){var _=b;if("ref"in b){_={};for(var R in b)R!=="ref"&&(_[R]=b[R])}if(g=g.defaultProps){_===b&&(_=d({},_));for(var Q in g)_[Q]===void 0&&(_[Q]=g[Q])}return _}function OA(g){Ch(g)}function ob(g){console.error(g)}function jA(g){Ch(g)}function Fm(g,b){try{var _=g.onUncaughtError;_(b.value,{componentStack:b.stack})}catch(R){setTimeout(function(){throw R})}}function TC(g,b,_){try{var R=g.onCaughtError;R(_.value,{componentStack:_.stack,errorBoundary:b.tag===1?b.stateNode:null})}catch(Q){setTimeout(function(){throw Q})}}function ab(g,b,_){return _=Uc(_),_.tag=3,_.payload={element:null},_.callback=function(){Fm(g,b)},_}function yl(g){return g=Uc(g),g.tag=3,g}function xa(g,b,_,R){var Q=_.type.getDerivedStateFromError;if(typeof Q=="function"){var K=R.value;g.payload=function(){return Q(K)},g.callback=function(){TC(b,_,R)}}var oe=_.stateNode;oe!==null&&typeof oe.componentDidCatch=="function"&&(g.callback=function(){TC(b,_,R),typeof Q!="function"&&(Zc===null?Zc=new Set([this]):Zc.add(this));var ye=R.stack;this.componentDidCatch(R.value,{componentStack:ye!==null?ye:""})})}function Ka(g,b,_,R,Q){if(_.flags|=32768,R!==null&&typeof R=="object"&&typeof R.then=="function"){if(b=_.alternate,b!==null&&Ih(b,_,Q,!0),_=Io.current,_!==null){switch(_.tag){case 31:case 13:return vu===null?dr():_.alternate===null&&Bi===0&&(Bi=3),_.flags&=-257,_.flags|=65536,_.lanes=Q,R===_m?_.flags|=16384:(b=_.updateQueue,b===null?_.updateQueue=new Set([R]):b.add(R),_S(g,R,Q)),!1;case 22:return _.flags|=65536,R===_m?_.flags|=16384:(b=_.updateQueue,b===null?(b={transitions:null,markerInstances:null,retryQueue:new Set([R])},_.updateQueue=b):(_=b.retryQueue,_===null?b.retryQueue=new Set([R]):_.add(R)),_S(g,R,Q)),!1}throw Error(r(435,_.tag))}return _S(g,R,Q),dr(),!1}if(Zr)return b=Io.current,b!==null?((b.flags&65536)===0&&(b.flags|=256),b.flags|=65536,b.lanes=Q,R!==AA&&(g=Error(r(422),{cause:R}),_h(Va(g,_)))):(R!==AA&&(b=Error(r(423),{cause:R}),_h(Va(b,_))),g=g.current.alternate,g.flags|=65536,Q&=-Q,g.lanes|=Q,R=Va(R,_),Q=ab(g.stateNode,R,Q),Bm(g,Q),Bi!==4&&(Bi=2)),!1;var K=Error(r(520),{cause:R});if(K=Va(K,_),cc===null?cc=[K]:cc.push(K),Bi!==4&&(Bi=2),b===null)return!0;R=Va(R,_),_=b;do{switch(_.tag){case 3:return _.flags|=65536,g=Q&-Q,_.lanes|=g,g=ab(_.stateNode,R,g),Bm(_,g),!1;case 1:if(b=_.type,K=_.stateNode,(_.flags&128)===0&&(typeof b.getDerivedStateFromError=="function"||K!==null&&typeof K.componentDidCatch=="function"&&(Zc===null||!Zc.has(K))))return _.flags|=65536,Q&=-Q,_.lanes|=Q,Q=yl(Q),xa(Q,g,_,R),Bm(_,Q),!1}_=_.return}while(_!==null);return!1}var vg=Error(r(461)),Wi=!1;function Zi(g,b,_,R){b.child=g===null?Ov(b,null,_,R):Mh(b,g.child,_,R)}function Fn(g,b,_,R,Q){_=_.render;var K=b.ref;if("ref"in R){var oe={};for(var ye in R)ye!=="ref"&&(oe[ye]=R[ye])}else oe=R;return Vf(b),R=IA(g,b,_,oe,K,Q),ye=BA(),g!==null&&!Wi?(DA(g,b,Q),Su(g,b,Q)):(Zr&&ye&&Md(b),b.flags|=1,Zi(g,b,R,Q),b.child)}function jh(g,b,_,R,Q){if(g===null){var K=_.type;return typeof K=="function"&&!Hs(K)&&K.defaultProps===void 0&&_.compare===null?(b.tag=15,b.type=K,Wa(g,b,K,R,Q)):(g=Em(_.type,null,R,b,b.mode,Q),g.ref=b.ref,g.return=b,b.child=g)}if(K=g.child,!Fd(g,Q)){var oe=K.memoizedProps;if(_=_.compare,_=_!==null?_:Lf,_(oe,R)&&g.ref===b.ref)return Su(g,b,Q)}return b.flags|=1,g=Ll(K,R),g.ref=b.ref,g.return=b,b.child=g}function Wa(g,b,_,R,Q){if(g!==null){var K=g.memoizedProps;if(Lf(K,R)&&g.ref===b.ref)if(Wi=!1,b.pendingProps=R=K,Fd(g,Q))(g.flags&131072)!==0&&(Wi=!0);else return b.lanes=g.lanes,Su(g,b,Q)}return tp(g,b,_,R,Q)}function Bo(g,b,_,R){var Q=R.children,K=g!==null?g.memoizedState:null;if(g===null&&b.stateNode===null&&(b.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),R.mode==="hidden"){if((b.flags&128)!==0){if(K=K!==null?K.baseLanes|_:_,g!==null){for(R=b.child=g.child,Q=0;R!==null;)Q=Q|R.lanes|R.childLanes,R=R.sibling;R=Q&~K}else R=0,b.child=null;return Cu(g,b,K,_,R)}if((_&536870912)!==0)b.memoizedState={baseLanes:0,cachePool:null},g!==null&&dg(b,K!==null?K.cachePool:null),K!==null?EA(b,K):ea(),CC(b);else return R=b.lanes=536870912,Cu(g,b,K!==null?K.baseLanes|_:_,_,R)}else K!==null?(dg(b,K.cachePool),EA(b,K),jl(),b.memoizedState=null):(g!==null&&dg(b,null),ea(),jl());return Zi(g,b,Q,_),b.child}function sc(g,b){return g!==null&&g.tag===22||b.stateNode!==null||(b.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),b.sibling}function Cu(g,b,_,R,Q){var K=jc();return K=K===null?null:{parent:Rn._currentValue,pool:K},b.memoizedState={baseLanes:_,cachePool:K},g!==null&&dg(b,null),ea(),CC(b),g!==null&&Ih(g,b,R,!0),b.childLanes=Q,null}function Ul(g,b){return b=bg({mode:b.mode,children:b.children},g.mode),b.ref=g.ref,g.child=b,b.return=g,b}function hi(g,b,_){return Mh(b,g.child,null,_),g=Ul(b,b.pendingProps),g.flags|=2,pl(b),b.memoizedState=null,g}function $m(g,b,_){var R=b.pendingProps,Q=(b.flags&128)!==0;if(b.flags&=-129,g===null){if(Zr){if(R.mode==="hidden")return g=Ul(b,R),b.lanes=536870912,sc(null,g);if(Dm(b),(g=Si)?(g=U4(g,Oo),g=g!==null&&g.data==="&"?g:null,g!==null&&(b.memoizedState={dehydrated:g,treeContext:Ju!==null?{id:Oc,overflow:du}:null,retryLane:536870912,hydrationErrors:null},_=Sm(g),_.return=b,b.child=_,Gs=b,Si=null)):g=null,g===null)throw Wr(b);return b.lanes=536870912,null}return Ul(b,R)}var K=g.memoizedState;if(K!==null){var oe=K.dehydrated;if(Dm(b),Q)if(b.flags&256)b.flags&=-257,b=hi(g,b,_);else if(b.memoizedState!==null)b.child=g.child,b.flags|=128,b=null;else throw Error(r(558));else if(Wi||Ih(g,b,_,!1),Q=(_&g.childLanes)!==0,Wi||Q){if(R=Mi,R!==null&&(oe=ln(R,_),oe!==0&&oe!==K.retryLane))throw K.retryLane=oe,qu(g,oe),w(R,g,oe),vg;dr(),b=hi(g,b,_)}else g=K.treeContext,Si=td(oe.nextSibling),Gs=b,Zr=!0,Pd=null,Oo=!1,g!==null&&kd(b,g),b=Ul(b,R),b.flags|=4096;return b}return g=Ll(g.child,{mode:R.mode,children:R.children}),g.ref=b.ref,b.child=g,g.return=b,g}function oc(g,b){var _=b.ref;if(_===null)g!==null&&g.ref!==null&&(b.flags|=4194816);else{if(typeof _!="function"&&typeof _!="object")throw Error(r(284));(g===null||g.ref!==_)&&(b.flags|=4194816)}}function tp(g,b,_,R,Q){return Vf(b),_=IA(g,b,_,R,void 0,Q),R=BA(),g!==null&&!Wi?(DA(g,b,Q),Su(g,b,Q)):(Zr&&R&&Md(b),b.flags|=1,Zi(g,b,_,Q),b.child)}function Ca(g,b,_,R,Q,K){return Vf(b),b.updateQueue=null,_=Mm(b,R,_,Q),jv(g),R=BA(),g!==null&&!Wi?(DA(g,b,K),Su(g,b,K)):(Zr&&R&&Md(b),b.flags|=1,Zi(g,b,_,K),b.child)}function Vo(g,b,_,R,Q){if(Vf(b),b.stateNode===null){var K=Yu,oe=_.contextType;typeof oe=="object"&&oe!==null&&(K=jo(oe)),K=new _(R,K),b.memoizedState=K.state!==null&&K.state!==void 0?K.state:null,K.updater=ep,b.stateNode=K,K._reactInternals=b,K=b.stateNode,K.props=R,K.state=b.memoizedState,K.refs={},Qc(b),oe=_.contextType,K.context=typeof oe=="object"&&oe!==null?jo(oe):Yu,K.state=b.memoizedState,oe=_.getDerivedStateFromProps,typeof oe=="function"&&(Zf(b,_,oe,R),K.state=b.memoizedState),typeof _.getDerivedStateFromProps=="function"||typeof K.getSnapshotBeforeUpdate=="function"||typeof K.UNSAFE_componentWillMount!="function"&&typeof K.componentWillMount!="function"||(oe=K.state,typeof K.componentWillMount=="function"&&K.componentWillMount(),typeof K.UNSAFE_componentWillMount=="function"&&K.UNSAFE_componentWillMount(),oe!==K.state&&ep.enqueueReplaceState(K,K.state,null),Ph(b,R,K,Q),Kf(),K.state=b.memoizedState),typeof K.componentDidMount=="function"&&(b.flags|=4194308),R=!0}else if(g===null){K=b.stateNode;var ye=b.memoizedProps,Ne=ms(_,ye);K.props=Ne;var lt=K.context,Dt=_.contextType;oe=Yu,typeof Dt=="object"&&Dt!==null&&(oe=jo(Dt));var $t=_.getDerivedStateFromProps;Dt=typeof $t=="function"||typeof K.getSnapshotBeforeUpdate=="function",ye=b.pendingProps!==ye,Dt||typeof K.UNSAFE_componentWillReceiveProps!="function"&&typeof K.componentWillReceiveProps!="function"||(ye||lt!==oe)&&sb(b,K,R,oe),Au=!1;var ft=b.memoizedState;K.state=ft,Ph(b,R,K,Q),Kf(),lt=b.memoizedState,ye||ft!==lt||Au?(typeof $t=="function"&&(Zf(b,_,$t,R),lt=b.memoizedState),(Ne=Au||DC(b,_,Ne,R,ft,lt,oe))?(Dt||typeof K.UNSAFE_componentWillMount!="function"&&typeof K.componentWillMount!="function"||(typeof K.componentWillMount=="function"&&K.componentWillMount(),typeof K.UNSAFE_componentWillMount=="function"&&K.UNSAFE_componentWillMount()),typeof K.componentDidMount=="function"&&(b.flags|=4194308)):(typeof K.componentDidMount=="function"&&(b.flags|=4194308),b.memoizedProps=R,b.memoizedState=lt),K.props=R,K.state=lt,K.context=oe,R=Ne):(typeof K.componentDidMount=="function"&&(b.flags|=4194308),R=!1)}else{K=b.stateNode,CA(g,b),oe=b.memoizedProps,Dt=ms(_,oe),K.props=Dt,$t=b.pendingProps,ft=K.context,lt=_.contextType,Ne=Yu,typeof lt=="object"&&lt!==null&&(Ne=jo(lt)),ye=_.getDerivedStateFromProps,(lt=typeof ye=="function"||typeof K.getSnapshotBeforeUpdate=="function")||typeof K.UNSAFE_componentWillReceiveProps!="function"&&typeof K.componentWillReceiveProps!="function"||(oe!==$t||ft!==Ne)&&sb(b,K,R,Ne),Au=!1,ft=b.memoizedState,K.state=ft,Ph(b,R,K,Q),Kf();var bt=b.memoizedState;oe!==$t||ft!==bt||Au||g!==null&&g.dependencies!==null&&cg(g.dependencies)?(typeof ye=="function"&&(Zf(b,_,ye,R),bt=b.memoizedState),(Dt=Au||DC(b,_,Dt,R,ft,bt,Ne)||g!==null&&g.dependencies!==null&&cg(g.dependencies))?(lt||typeof K.UNSAFE_componentWillUpdate!="function"&&typeof K.componentWillUpdate!="function"||(typeof K.componentWillUpdate=="function"&&K.componentWillUpdate(R,bt,Ne),typeof K.UNSAFE_componentWillUpdate=="function"&&K.UNSAFE_componentWillUpdate(R,bt,Ne)),typeof K.componentDidUpdate=="function"&&(b.flags|=4),typeof K.getSnapshotBeforeUpdate=="function"&&(b.flags|=1024)):(typeof K.componentDidUpdate!="function"||oe===g.memoizedProps&&ft===g.memoizedState||(b.flags|=4),typeof K.getSnapshotBeforeUpdate!="function"||oe===g.memoizedProps&&ft===g.memoizedState||(b.flags|=1024),b.memoizedProps=R,b.memoizedState=bt),K.props=R,K.state=bt,K.context=Ne,R=Dt):(typeof K.componentDidUpdate!="function"||oe===g.memoizedProps&&ft===g.memoizedState||(b.flags|=4),typeof K.getSnapshotBeforeUpdate!="function"||oe===g.memoizedProps&&ft===g.memoizedState||(b.flags|=1024),R=!1)}return K=R,oc(g,b),R=(b.flags&128)!==0,K||R?(K=b.stateNode,_=R&&typeof _.getDerivedStateFromError!="function"?null:K.render(),b.flags|=1,g!==null&&R?(b.child=Mh(b,g.child,null,Q),b.child=Mh(b,null,_,Q)):Zi(g,b,_,Q),b.memoizedState=K.state,g=b.child):g=Su(g,b,Q),g}function fi(g,b,_,R){return Ae(),b.flags|=256,Zi(g,b,_,R),b.child}var Hl={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Eu(g){return{baseLanes:g,cachePool:vA()}}function Vl(g,b,_){return g=g!==null?g.childLanes&~_:0,b&&(g|=li),g}function es(g,b,_){var R=b.pendingProps,Q=!1,K=(b.flags&128)!==0,oe;if((oe=K)||(oe=g!==null&&g.memoizedState===null?!1:(ks.current&2)!==0),oe&&(Q=!0,b.flags&=-129),oe=(b.flags&32)!==0,b.flags&=-33,g===null){if(Zr){if(Q?Rh(b):jl(),(g=Si)?(g=U4(g,Oo),g=g!==null&&g.data!=="&"?g:null,g!==null&&(b.memoizedState={dehydrated:g,treeContext:Ju!==null?{id:Oc,overflow:du}:null,retryLane:536870912,hydrationErrors:null},_=Sm(g),_.return=b,b.child=_,Gs=b,Si=null)):g=null,g===null)throw Wr(b);return XA(g)?b.lanes=32:b.lanes=536870912,null}var ye=R.children;return R=R.fallback,Q?(jl(),Q=b.mode,ye=bg({mode:"hidden",children:ye},Q),R=Td(R,Q,_,null),ye.return=b,R.return=b,ye.sibling=R,b.child=ye,R=b.child,R.memoizedState=Eu(_),R.childLanes=Vl(g,oe,_),b.memoizedState=Hl,sc(null,R)):(Rh(b),Wc(b,ye))}var Ne=g.memoizedState;if(Ne!==null&&(ye=Ne.dehydrated,ye!==null)){if(K)b.flags&256?(Rh(b),b.flags&=-257,b=Qh(g,b,_)):b.memoizedState!==null?(jl(),b.child=g.child,b.flags|=128,b=null):(jl(),ye=R.fallback,Q=b.mode,R=bg({mode:"visible",children:R.children},Q),ye=Td(ye,Q,_,null),ye.flags|=2,R.return=b,ye.return=b,R.sibling=ye,b.child=R,Mh(b,g.child,null,_),R=b.child,R.memoizedState=Eu(_),R.childLanes=Vl(g,oe,_),b.memoizedState=Hl,b=sc(null,R));else if(Rh(b),XA(ye)){if(oe=ye.nextSibling&&ye.nextSibling.dataset,oe)var lt=oe.dgst;oe=lt,R=Error(r(419)),R.stack="",R.digest=oe,_h({value:R,source:null,stack:null}),b=Qh(g,b,_)}else if(Wi||Ih(g,b,_,!1),oe=(_&g.childLanes)!==0,Wi||oe){if(oe=Mi,oe!==null&&(R=ln(oe,_),R!==0&&R!==Ne.retryLane))throw Ne.retryLane=R,qu(g,R),w(oe,g,R),vg;zC(ye)||dr(),b=Qh(g,b,_)}else zC(ye)?(b.flags|=192,b.child=g.child,b=null):(g=Ne.treeContext,Si=td(ye.nextSibling),Gs=b,Zr=!0,Pd=null,Oo=!1,g!==null&&kd(b,g),b=Wc(b,R.children),b.flags|=4096);return b}return Q?(jl(),ye=R.fallback,Q=b.mode,Ne=g.child,lt=Ne.sibling,R=Ll(Ne,{mode:"hidden",children:R.children}),R.subtreeFlags=Ne.subtreeFlags&65011712,lt!==null?ye=Ll(lt,ye):(ye=Td(ye,Q,_,null),ye.flags|=2),ye.return=b,R.return=b,R.sibling=ye,b.child=R,sc(null,R),R=b.child,ye=g.child.memoizedState,ye===null?ye=Eu(_):(Q=ye.cachePool,Q!==null?(Ne=Rn._currentValue,Q=Q.parent!==Ne?{parent:Ne,pool:Ne}:Q):Q=vA(),ye={baseLanes:ye.baseLanes|_,cachePool:Q}),R.memoizedState=ye,R.childLanes=Vl(g,oe,_),b.memoizedState=Hl,sc(g.child,R)):(Rh(b),_=g.child,g=_.sibling,_=Ll(_,{mode:"visible",children:R.children}),_.return=b,_.sibling=null,g!==null&&(oe=b.deletions,oe===null?(b.deletions=[g],b.flags|=16):oe.push(g)),b.child=_,b.memoizedState=null,_)}function Wc(g,b){return b=bg({mode:"visible",children:b},g.mode),b.return=g,g.child=b}function bg(g,b){return g=Eo(22,g,null,b),g.lanes=0,g}function Qh(g,b,_){return Mh(b,g.child,null,_),g=Wc(b,b.pendingProps.children),g.flags|=2,b.memoizedState=null,g}function np(g,b,_){g.lanes|=b;var R=g.alternate;R!==null&&(R.lanes|=b),Ga(g.return,b,_)}function zm(g,b,_,R,Q,K){var oe=g.memoizedState;oe===null?g.memoizedState={isBackwards:b,rendering:null,renderingStartTime:0,last:R,tail:_,tailMode:Q,treeForkCount:K}:(oe.isBackwards=b,oe.rendering=null,oe.renderingStartTime=0,oe.last=R,oe.tail=_,oe.tailMode=Q,oe.treeForkCount=K)}function Ld(g,b,_){var R=b.pendingProps,Q=R.revealOrder,K=R.tail;R=R.children;var oe=ks.current,ye=(oe&2)!==0;if(ye?(oe=oe&1|2,b.flags|=128):oe&=1,ee(ks,oe),Zi(g,b,R,_),R=Zr?Vs:0,!ye&&g!==null&&(g.flags&128)!==0)e:for(g=b.child;g!==null;){if(g.tag===13)g.memoizedState!==null&&np(g,_,b);else if(g.tag===19)np(g,_,b);else if(g.child!==null){g.child.return=g,g=g.child;continue}if(g===b)break e;for(;g.sibling===null;){if(g.return===null||g.return===b)break e;g=g.return}g.sibling.return=g.return,g=g.sibling}switch(Q){case"forwards":for(_=b.child,Q=null;_!==null;)g=_.alternate,g!==null&&SA(g)===null&&(Q=_),_=_.sibling;_=Q,_===null?(Q=b.child,b.child=null):(Q=_.sibling,_.sibling=null),zm(b,!1,Q,_,K,R);break;case"backwards":case"unstable_legacy-backwards":for(_=null,Q=b.child,b.child=null;Q!==null;){if(g=Q.alternate,g!==null&&SA(g)===null){b.child=Q;break}g=Q.sibling,Q.sibling=_,_=Q,Q=g}zm(b,!0,_,null,K,R);break;case"together":zm(b,!1,null,null,void 0,R);break;default:b.memoizedState=null}return b.child}function Su(g,b,_){if(g!==null&&(b.dependencies=g.dependencies),ql|=b.lanes,(_&b.childLanes)===0)if(g!==null){if(Ih(g,b,_,!1),(_&b.childLanes)===0)return null}else return null;if(g!==null&&b.child!==g.child)throw Error(r(153));if(b.child!==null){for(g=b.child,_=Ll(g,g.pendingProps),b.child=_,_.return=b;g.sibling!==null;)g=g.sibling,_=_.sibling=Ll(g,g.pendingProps),_.return=b;_.sibling=null}return b.child}function Fd(g,b){return(g.lanes&b)!==0?!0:(g=g.dependencies,!!(g!==null&&cg(g)))}function Om(g,b,_){switch(b.tag){case 3:ge(b,b.stateNode.containerInfo),Rd(b,Rn,g.memoizedState.cache),Ae();break;case 27:case 5:we(b);break;case 4:ge(b,b.stateNode.containerInfo);break;case 10:Rd(b,b.type,b.memoizedProps.value);break;case 31:if(b.memoizedState!==null)return b.flags|=128,Dm(b),null;break;case 13:var R=b.memoizedState;if(R!==null)return R.dehydrated!==null?(Rh(b),b.flags|=128,null):(_&b.child.childLanes)!==0?es(g,b,_):(Rh(b),g=Su(g,b,_),g!==null?g.sibling:null);Rh(b);break;case 19:var Q=(g.flags&128)!==0;if(R=(_&b.childLanes)!==0,R||(Ih(g,b,_,!1),R=(_&b.childLanes)!==0),Q){if(R)return Ld(g,b,_);b.flags|=128}if(Q=b.memoizedState,Q!==null&&(Q.rendering=null,Q.tail=null,Q.lastEffect=null),ee(ks,ks.current),R)break;return null;case 22:return b.lanes=0,Bo(g,b,_,b.pendingProps);case 24:Rd(b,Rn,g.memoizedState.cache)}return Su(g,b,_)}function QA(g,b,_){if(g!==null)if(g.memoizedProps!==b.pendingProps)Wi=!0;else{if(!Fd(g,_)&&(b.flags&128)===0)return Wi=!1,Om(g,b,_);Wi=(g.flags&131072)!==0}else Wi=!1,Zr&&(b.flags&1048576)!==0&&wm(b,Vs,b.index);switch(b.lanes=0,b.tag){case 16:e:{var R=b.pendingProps;if(g=tc(b.elementType),b.type=g,typeof g=="function")Hs(g)?(R=ms(g,R),b.tag=1,b=Vo(null,b,g,R,_)):(b.tag=0,b=tp(null,b,g,R,_));else{if(g!=null){var Q=g.$$typeof;if(Q===I){b.tag=11,b=Fn(null,b,g,R,_);break e}else if(Q===M){b.tag=14,b=jh(null,b,g,R,_);break e}}throw b=H(g)||g,Error(r(306,b,""))}}return b;case 0:return tp(g,b,b.type,b.pendingProps,_);case 1:return R=b.type,Q=ms(R,b.pendingProps),Vo(g,b,R,Q,_);case 3:e:{if(ge(b,b.stateNode.containerInfo),g===null)throw Error(r(387));R=b.pendingProps;var K=b.memoizedState;Q=K.element,CA(g,b),Ph(b,R,null,_);var oe=b.memoizedState;if(R=oe.cache,Rd(b,Rn,R),R!==K.cache&&yA(b,[Rn],_,!0),Kf(),R=oe.element,K.isDehydrated)if(K={element:R,isDehydrated:!1,cache:oe.cache},b.updateQueue.baseState=K,b.memoizedState=K,b.flags&256){b=fi(g,b,R,_);break e}else if(R!==Q){Q=Va(Error(r(424)),b),_h(Q),b=fi(g,b,R,_);break e}else for(g=b.stateNode.containerInfo,g.nodeType===9?g=g.body:g=g.nodeName==="HTML"?g.ownerDocument.body:g,Si=td(g.firstChild),Gs=b,Zr=!0,Pd=null,Oo=!0,_=Ov(b,null,R,_),b.child=_;_;)_.flags=_.flags&-3|4096,_=_.sibling;else{if(Ae(),R===Q){b=Su(g,b,_);break e}Zi(g,b,R,_)}b=b.child}return b;case 26:return oc(g,b),g===null?(_=q4(b.type,null,b.pendingProps,null))?b.memoizedState=_:Zr||(_=b.type,g=b.pendingProps,R=mb(ae.current).createElement(_),R[Wn]=b,R[Hi]=g,Xa(R,_,g),me(R),b.stateNode=R):b.memoizedState=q4(b.type,g.memoizedProps,b.pendingProps,g.memoizedState),null;case 27:return we(b),g===null&&Zr&&(R=b.stateNode=G4(b.type,b.pendingProps,ae.current),Gs=b,Oo=!0,Q=Si,sr(b.type)?($S=Q,Si=td(R.firstChild)):Si=Q),Zi(g,b,b.pendingProps.children,_),oc(g,b),g===null&&(b.flags|=4194304),b.child;case 5:return g===null&&Zr&&((Q=R=Si)&&(R=RM(R,b.type,b.pendingProps,Oo),R!==null?(b.stateNode=R,Gs=b,Si=td(R.firstChild),Oo=!1,Q=!0):Q=!1),Q||Wr(b)),we(b),Q=b.type,K=b.pendingProps,oe=g!==null?g.memoizedProps:null,R=K.children,Ig(Q,K)?R=null:oe!==null&&Ig(Q,oe)&&(b.flags|=32),b.memoizedState!==null&&(Q=IA(g,b,CS,null,null,_),ry._currentValue=Q),oc(g,b),Zi(g,b,R,_),b.child;case 6:return g===null&&Zr&&((g=_=Si)&&(_=Yi(_,b.pendingProps,Oo),_!==null?(b.stateNode=_,Gs=b,Si=null,g=!0):g=!1),g||Wr(b)),null;case 13:return es(g,b,_);case 4:return ge(b,b.stateNode.containerInfo),R=b.pendingProps,g===null?b.child=Mh(b,null,R,_):Zi(g,b,R,_),b.child;case 11:return Fn(g,b,b.type,b.pendingProps,_);case 7:return Zi(g,b,b.pendingProps,_),b.child;case 8:return Zi(g,b,b.pendingProps.children,_),b.child;case 12:return Zi(g,b,b.pendingProps.children,_),b.child;case 10:return R=b.pendingProps,Rd(b,b.type,R.value),Zi(g,b,R.children,_),b.child;case 9:return Q=b.type._context,R=b.pendingProps.children,Vf(b),Q=jo(Q),R=R(Q),b.flags|=1,Zi(g,b,R,_),b.child;case 14:return jh(g,b,b.type,b.pendingProps,_);case 15:return Wa(g,b,b.type,b.pendingProps,_);case 19:return Ld(g,b,_);case 31:return $m(g,b,_);case 22:return Bo(g,b,_,b.pendingProps);case 24:return Vf(b),R=jo(Rn),g===null?(Q=jc(),Q===null&&(Q=Mi,K=Zu(),Q.pooledCache=K,K.refCount++,K!==null&&(Q.pooledCacheLanes|=_),Q=K),b.memoizedState={parent:R,cache:Q},Qc(b),Rd(b,Rn,Q)):((g.lanes&_)!==0&&(CA(g,b),Ph(b,null,null,_),Kf()),Q=g.memoizedState,K=b.memoizedState,Q.parent!==R?(Q={parent:R,cache:R},b.memoizedState=Q,b.lanes===0&&(b.memoizedState=b.updateQueue.baseState=Q),Rd(b,Rn,R)):(R=K.cache,Rd(b,Rn,R),R!==Q.cache&&yA(b,[Rn],_,!0))),Zi(g,b,b.pendingProps.children,_),b.child;case 29:throw b.pendingProps}throw Error(r(156,b.tag))}function vl(g){g.flags|=4}function Uh(g,b,_,R,Q){if((b=(g.mode&32)!==0)&&(b=!1),b){if(g.flags|=16777216,(Q&335544128)===Q)if(g.stateNode.complete)g.flags|=8192;else if(Zt())g.flags|=8192;else throw On=_m,hg}else g.flags&=-16777217}function qc(g,b){if(b.type!=="stylesheet"||(b.state.loading&4)!==0)g.flags&=-16777217;else if(g.flags|=16777216,!e2(b))if(Zt())g.flags|=8192;else throw On=_m,hg}function rp(g,b){b!==null&&(g.flags|=4),g.flags&16384&&(b=g.tag!==22?Bt():536870912,g.lanes|=b,Yl|=b)}function jm(g,b){if(!Zr)switch(g.tailMode){case"hidden":b=g.tail;for(var _=null;b!==null;)b.alternate!==null&&(_=b),b=b.sibling;_===null?g.tail=null:_.sibling=null;break;case"collapsed":_=g.tail;for(var R=null;_!==null;)_.alternate!==null&&(R=_),_=_.sibling;R===null?b||g.tail===null?g.tail=null:g.tail.sibling=null:R.sibling=null}}function wi(g){var b=g.alternate!==null&&g.alternate.child===g.child,_=0,R=0;if(b)for(var Q=g.child;Q!==null;)_|=Q.lanes|Q.childLanes,R|=Q.subtreeFlags&65011712,R|=Q.flags&65011712,Q.return=g,Q=Q.sibling;else for(Q=g.child;Q!==null;)_|=Q.lanes|Q.childLanes,R|=Q.subtreeFlags,R|=Q.flags,Q.return=g,Q=Q.sibling;return g.subtreeFlags|=R,g.childLanes=_,b}function UA(g,b,_){var R=b.pendingProps;switch(hu(b),b.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return wi(b),null;case 1:return wi(b),null;case 3:return _=b.stateNode,R=null,g!==null&&(R=g.memoizedState.cache),b.memoizedState.cache!==R&&(b.flags|=2048),fu(Rn),_e(),_.pendingContext&&(_.context=_.pendingContext,_.pendingContext=null),(g===null||g.child===null)&&(Sh(b)?vl(b):g===null||g.memoizedState.isDehydrated&&(b.flags&256)===0||(b.flags|=1024,wh())),wi(b),null;case 26:var Q=b.type,K=b.memoizedState;return g===null?(vl(b),K!==null?(wi(b),qc(b,K)):(wi(b),Uh(b,Q,null,R,_))):K?K!==g.memoizedState?(vl(b),wi(b),qc(b,K)):(wi(b),b.flags&=-16777217):(g=g.memoizedProps,g!==R&&vl(b),wi(b),Uh(b,Q,g,R,_)),null;case 27:if(ke(b),_=ae.current,Q=b.type,g!==null&&b.stateNode!=null)g.memoizedProps!==R&&vl(b);else{if(!R){if(b.stateNode===null)throw Error(r(166));return wi(b),null}g=ie.current,Sh(b)?Hf(b):(g=G4(Q,R,_),b.stateNode=g,vl(b))}return wi(b),null;case 5:if(ke(b),Q=b.type,g!==null&&b.stateNode!=null)g.memoizedProps!==R&&vl(b);else{if(!R){if(b.stateNode===null)throw Error(r(166));return wi(b),null}if(K=ie.current,Sh(b))Hf(b);else{var oe=mb(ae.current);switch(K){case 1:K=oe.createElementNS("http://www.w3.org/2000/svg",Q);break;case 2:K=oe.createElementNS("http://www.w3.org/1998/Math/MathML",Q);break;default:switch(Q){case"svg":K=oe.createElementNS("http://www.w3.org/2000/svg",Q);break;case"math":K=oe.createElementNS("http://www.w3.org/1998/Math/MathML",Q);break;case"script":K=oe.createElement("div"),K.innerHTML="<script><\/script>",K=K.removeChild(K.firstChild);break;case"select":K=typeof R.is=="string"?oe.createElement("select",{is:R.is}):oe.createElement("select"),R.multiple?K.multiple=!0:R.size&&(K.size=R.size);break;default:K=typeof R.is=="string"?oe.createElement(Q,{is:R.is}):oe.createElement(Q)}}K[Wn]=b,K[Hi]=R;e:for(oe=b.child;oe!==null;){if(oe.tag===5||oe.tag===6)K.appendChild(oe.stateNode);else if(oe.tag!==4&&oe.tag!==27&&oe.child!==null){oe.child.return=oe,oe=oe.child;continue}if(oe===b)break e;for(;oe.sibling===null;){if(oe.return===null||oe.return===b)break e;oe=oe.return}oe.sibling.return=oe.return,oe=oe.sibling}b.stateNode=K;e:switch(Xa(K,Q,R),Q){case"button":case"input":case"select":case"textarea":R=!!R.autoFocus;break e;case"img":R=!0;break e;default:R=!1}R&&vl(b)}}return wi(b),Uh(b,b.type,g===null?null:g.memoizedProps,b.pendingProps,_),null;case 6:if(g&&b.stateNode!=null)g.memoizedProps!==R&&vl(b);else{if(typeof R!="string"&&b.stateNode===null)throw Error(r(166));if(g=ae.current,Sh(b)){if(g=b.stateNode,_=b.memoizedProps,R=null,Q=Gs,Q!==null)switch(Q.tag){case 27:case 5:R=Q.memoizedProps}g[Wn]=b,g=!!(g.nodeValue===_||R!==null&&R.suppressHydrationWarning===!0||z4(g.nodeValue,_)),g||Wr(b,!0)}else g=mb(g).createTextNode(R),g[Wn]=b,b.stateNode=g}return wi(b),null;case 31:if(_=b.memoizedState,g===null||g.memoizedState!==null){if(R=Sh(b),_!==null){if(g===null){if(!R)throw Error(r(318));if(g=b.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(r(557));g[Wn]=b}else Ae(),(b.flags&128)===0&&(b.memoizedState=null),b.flags|=4;wi(b),g=!1}else _=wh(),g!==null&&g.memoizedState!==null&&(g.memoizedState.hydrationErrors=_),g=!0;if(!g)return b.flags&256?(pl(b),b):(pl(b),null);if((b.flags&128)!==0)throw Error(r(558))}return wi(b),null;case 13:if(R=b.memoizedState,g===null||g.memoizedState!==null&&g.memoizedState.dehydrated!==null){if(Q=Sh(b),R!==null&&R.dehydrated!==null){if(g===null){if(!Q)throw Error(r(318));if(Q=b.memoizedState,Q=Q!==null?Q.dehydrated:null,!Q)throw Error(r(317));Q[Wn]=b}else Ae(),(b.flags&128)===0&&(b.memoizedState=null),b.flags|=4;wi(b),Q=!1}else Q=wh(),g!==null&&g.memoizedState!==null&&(g.memoizedState.hydrationErrors=Q),Q=!0;if(!Q)return b.flags&256?(pl(b),b):(pl(b),null)}return pl(b),(b.flags&128)!==0?(b.lanes=_,b):(_=R!==null,g=g!==null&&g.memoizedState!==null,_&&(R=b.child,Q=null,R.alternate!==null&&R.alternate.memoizedState!==null&&R.alternate.memoizedState.cachePool!==null&&(Q=R.alternate.memoizedState.cachePool.pool),K=null,R.memoizedState!==null&&R.memoizedState.cachePool!==null&&(K=R.memoizedState.cachePool.pool),K!==Q&&(R.flags|=2048)),_!==g&&_&&(b.child.flags|=8192),rp(b,b.updateQueue),wi(b),null);case 4:return _e(),g===null&&MS(b.stateNode.containerInfo),wi(b),null;case 10:return fu(b.type),wi(b),null;case 19:if(Z(ks),R=b.memoizedState,R===null)return wi(b),null;if(Q=(b.flags&128)!==0,K=R.rendering,K===null)if(Q)jm(R,!1);else{if(Bi!==0||g!==null&&(g.flags&128)!==0)for(g=b.child;g!==null;){if(K=SA(g),K!==null){for(b.flags|=128,jm(R,!1),g=K.updateQueue,b.updateQueue=g,rp(b,g),b.subtreeFlags=0,g=_,_=b.child;_!==null;)fa(_,g),_=_.sibling;return ee(ks,ks.current&1|2),Zr&&zl(b,R.treeForkCount),b.child}g=g.sibling}R.tail!==null&&se()>_a&&(b.flags|=128,Q=!0,jm(R,!1),b.lanes=4194304)}else{if(!Q)if(g=SA(K),g!==null){if(b.flags|=128,Q=!0,g=g.updateQueue,b.updateQueue=g,rp(b,g),jm(R,!0),R.tail===null&&R.tailMode==="hidden"&&!K.alternate&&!Zr)return wi(b),null}else 2*se()-R.renderingStartTime>_a&&_!==536870912&&(b.flags|=128,Q=!0,jm(R,!1),b.lanes=4194304);R.isBackwards?(K.sibling=b.child,b.child=K):(g=R.last,g!==null?g.sibling=K:b.child=K,R.last=K)}return R.tail!==null?(g=R.tail,R.rendering=g,R.tail=g.sibling,R.renderingStartTime=se(),g.sibling=null,_=ks.current,ee(ks,Q?_&1|2:_&1),Zr&&zl(b,R.treeForkCount),g):(wi(b),null);case 22:case 23:return pl(b),Qo(),R=b.memoizedState!==null,g!==null?g.memoizedState!==null!==R&&(b.flags|=8192):R&&(b.flags|=8192),R?(_&536870912)!==0&&(b.flags&128)===0&&(wi(b),b.subtreeFlags&6&&(b.flags|=8192)):wi(b),_=b.updateQueue,_!==null&&rp(b,_.retryQueue),_=null,g!==null&&g.memoizedState!==null&&g.memoizedState.cachePool!==null&&(_=g.memoizedState.cachePool.pool),R=null,b.memoizedState!==null&&b.memoizedState.cachePool!==null&&(R=b.memoizedState.cachePool.pool),R!==_&&(b.flags|=2048),g!==null&&Z(Bh),null;case 24:return _=null,g!==null&&(_=g.memoizedState.cache),b.memoizedState.cache!==_&&(b.flags|=2048),fu(Rn),wi(b),null;case 25:return null;case 30:return null}throw Error(r(156,b.tag))}function Hh(g,b){switch(hu(b),b.tag){case 1:return g=b.flags,g&65536?(b.flags=g&-65537|128,b):null;case 3:return fu(Rn),_e(),g=b.flags,(g&65536)!==0&&(g&128)===0?(b.flags=g&-65537|128,b):null;case 26:case 27:case 5:return ke(b),null;case 31:if(b.memoizedState!==null){if(pl(b),b.alternate===null)throw Error(r(340));Ae()}return g=b.flags,g&65536?(b.flags=g&-65537|128,b):null;case 13:if(pl(b),g=b.memoizedState,g!==null&&g.dehydrated!==null){if(b.alternate===null)throw Error(r(340));Ae()}return g=b.flags,g&65536?(b.flags=g&-65537|128,b):null;case 19:return Z(ks),null;case 4:return _e(),null;case 10:return fu(b.type),null;case 22:case 23:return pl(b),Qo(),g!==null&&Z(Bh),g=b.flags,g&65536?(b.flags=g&-65537|128,b):null;case 24:return fu(Rn),null;case 25:return null;default:return null}}function $d(g,b){switch(hu(b),b.tag){case 3:fu(Rn),_e();break;case 26:case 27:case 5:ke(b);break;case 4:_e();break;case 31:b.memoizedState!==null&&pl(b);break;case 13:pl(b);break;case 19:Z(ks);break;case 10:fu(b.type);break;case 22:case 23:pl(b),Qo(),g!==null&&Z(Bh);break;case 24:fu(Rn)}}function ac(g,b){try{var _=b.updateQueue,R=_!==null?_.lastEffect:null;if(R!==null){var Q=R.next;_=Q;do{if((_.tag&g)===g){R=void 0;var K=_.create,oe=_.inst;R=K(),oe.destroy=R}_=_.next}while(_!==Q)}}catch(ye){ts(b,b.return,ye)}}function Gl(g,b,_){try{var R=b.updateQueue,Q=R!==null?R.lastEffect:null;if(Q!==null){var K=Q.next;R=K;do{if((R.tag&g)===g){var oe=R.inst,ye=oe.destroy;if(ye!==void 0){oe.destroy=void 0,Q=b;var Ne=_,lt=ye;try{lt()}catch(Dt){ts(Q,Ne,Dt)}}}R=R.next}while(R!==K)}}catch(Dt){ts(b,b.return,Dt)}}function lc(g){var b=g.updateQueue;if(b!==null){var _=g.stateNode;try{_o(b,_)}catch(R){ts(g,g.return,R)}}}function HA(g,b,_){_.props=ms(g.type,g.memoizedProps),_.state=g.memoizedState;try{_.componentWillUnmount()}catch(R){ts(g,b,R)}}function Do(g,b){try{var _=g.ref;if(_!==null){switch(g.tag){case 26:case 27:case 5:var R=g.stateNode;break;case 30:R=g.stateNode;break;default:R=g.stateNode}typeof _=="function"?g.refCleanup=_(R):_.current=R}}catch(Q){ts(g,b,Q)}}function To(g,b){var _=g.ref,R=g.refCleanup;if(_!==null)if(typeof R=="function")try{R()}catch(Q){ts(g,b,Q)}finally{g.refCleanup=null,g=g.alternate,g!=null&&(g.refCleanup=null)}else if(typeof _=="function")try{_(null)}catch(Q){ts(g,b,Q)}else _.current=null}function Kl(g){var b=g.type,_=g.memoizedProps,R=g.stateNode;try{e:switch(b){case"button":case"input":case"select":case"textarea":_.autoFocus&&R.focus();break e;case"img":_.src?R.src=_.src:_.srcSet&&(R.srcset=_.srcSet)}}catch(Q){ts(g,g.return,Q)}}function Wl(g,b,_){try{var R=g.stateNode;MM(R,g.type,_,b),R[Hi]=b}catch(Q){ts(g,g.return,Q)}}function ro(g){return g.tag===5||g.tag===3||g.tag===26||g.tag===27&&sr(g.type)||g.tag===4}function Yc(g){e:for(;;){for(;g.sibling===null;){if(g.return===null||ro(g.return))return null;g=g.return}for(g.sibling.return=g.return,g=g.sibling;g.tag!==5&&g.tag!==6&&g.tag!==18;){if(g.tag===27&&sr(g.type)||g.flags&2||g.child===null||g.tag===4)continue e;g.child.return=g,g=g.child}if(!(g.flags&2))return g.stateNode}}function wr(g,b,_){var R=g.tag;if(R===5||R===6)g=g.stateNode,b?(_.nodeType===9?_.body:_.nodeName==="HTML"?_.ownerDocument.body:_).insertBefore(g,b):(b=_.nodeType===9?_.body:_.nodeName==="HTML"?_.ownerDocument.body:_,b.appendChild(g),_=_._reactRootContainer,_!=null||b.onclick!==null||(b.onclick=kc));else if(R!==4&&(R===27&&sr(g.type)&&(_=g.stateNode,b=null),g=g.child,g!==null))for(wr(g,b,_),g=g.sibling;g!==null;)wr(g,b,_),g=g.sibling}function _i(g,b,_){var R=g.tag;if(R===5||R===6)g=g.stateNode,b?_.insertBefore(g,b):_.appendChild(g);else if(R!==4&&(R===27&&sr(g.type)&&(_=g.stateNode),g=g.child,g!==null))for(_i(g,b,_),g=g.sibling;g!==null;)_i(g,b,_),g=g.sibling}function qs(g){var b=g.stateNode,_=g.memoizedProps;try{for(var R=g.type,Q=b.attributes;Q.length;)b.removeAttributeNode(Q[0]);Xa(b,R,_),b[Wn]=g,b[Hi]=_}catch(K){ts(g,g.return,K)}}var wu=!1,As=!1,zd=!1,Qm=typeof WeakSet=="function"?WeakSet:Set,Rs=null;function xg(g,b){if(g=g.containerInfo,gb=GC,g=mA(g),og(g)){if("selectionStart"in g)var _={start:g.selectionStart,end:g.selectionEnd};else e:{_=(_=g.ownerDocument)&&_.defaultView||window;var R=_.getSelection&&_.getSelection();if(R&&R.rangeCount!==0){_=R.anchorNode;var Q=R.anchorOffset,K=R.focusNode;R=R.focusOffset;try{_.nodeType,K.nodeType}catch{_=null;break e}var oe=0,ye=-1,Ne=-1,lt=0,Dt=0,$t=g,ft=null;t:for(;;){for(var bt;$t!==_||Q!==0&&$t.nodeType!==3||(ye=oe+Q),$t!==K||R!==0&&$t.nodeType!==3||(Ne=oe+R),$t.nodeType===3&&(oe+=$t.nodeValue.length),(bt=$t.firstChild)!==null;)ft=$t,$t=bt;for(;;){if($t===g)break t;if(ft===_&&++lt===Q&&(ye=oe),ft===K&&++Dt===R&&(Ne=oe),(bt=$t.nextSibling)!==null)break;$t=ft,ft=$t.parentNode}$t=bt}_=ye===-1||Ne===-1?null:{start:ye,end:Ne}}else _=null}_=_||{start:0,end:0}}else _=null;for(NS={focusedElem:g,selectionRange:_},GC=!1,Rs=b;Rs!==null;)if(b=Rs,g=b.child,(b.subtreeFlags&1028)!==0&&g!==null)g.return=b,Rs=g;else for(;Rs!==null;){switch(b=Rs,K=b.alternate,g=b.flags,b.tag){case 0:if((g&4)!==0&&(g=b.updateQueue,g=g!==null?g.events:null,g!==null))for(_=0;_<g.length;_++)Q=g[_],Q.ref.impl=Q.nextImpl;break;case 11:case 15:break;case 1:if((g&1024)!==0&&K!==null){g=void 0,_=b,Q=K.memoizedProps,K=K.memoizedState,R=_.stateNode;try{var wn=ms(_.type,Q);g=R.getSnapshotBeforeUpdate(wn,K),R.__reactInternalSnapshotBeforeUpdate=g}catch(Yn){ts(_,_.return,Yn)}}break;case 3:if((g&1024)!==0){if(g=b.stateNode.containerInfo,_=g.nodeType,_===9)$C(g);else if(_===1)switch(g.nodeName){case"HEAD":case"HTML":case"BODY":$C(g);break;default:g.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((g&1024)!==0)throw Error(r(163))}if(g=b.sibling,g!==null){g.return=b.return,Rs=g;break}Rs=b.return}}function lb(g,b,_){var R=_.flags;switch(_.tag){case 0:case 11:case 15:Od(g,_),R&4&&ac(5,_);break;case 1:if(Od(g,_),R&4)if(g=_.stateNode,b===null)try{g.componentDidMount()}catch(oe){ts(_,_.return,oe)}else{var Q=ms(_.type,b.memoizedProps);b=b.memoizedState;try{g.componentDidUpdate(Q,b,g.__reactInternalSnapshotBeforeUpdate)}catch(oe){ts(_,_.return,oe)}}R&64&&lc(_),R&512&&Do(_,_.return);break;case 3:if(Od(g,_),R&64&&(g=_.updateQueue,g!==null)){if(b=null,_.child!==null)switch(_.child.tag){case 27:case 5:b=_.child.stateNode;break;case 1:b=_.child.stateNode}try{_o(g,b)}catch(oe){ts(_,_.return,oe)}}break;case 27:b===null&&R&4&&qs(_);case 26:case 5:Od(g,_),b===null&&R&4&&Kl(_),R&512&&Do(_,_.return);break;case 12:Od(g,_);break;case 31:Od(g,_),R&4&&Hm(g,_);break;case 13:Od(g,_),R&4&&ub(g,_),R&64&&(g=_.memoizedState,g!==null&&(g=g.dehydrated,g!==null&&(_=PC.bind(null,_),NM(g,_))));break;case 22:if(R=_.memoizedState!==null||wu,!R){b=b!==null&&b.memoizedState!==null||As,Q=wu;var K=As;wu=R,(As=b)&&!K?Ii(g,_,(_.subtreeFlags&8772)!==0):Od(g,_),wu=Q,As=K}break;case 30:break;default:Od(g,_)}}function Um(g){var b=g.alternate;b!==null&&(g.alternate=null,Um(b)),g.child=null,g.deletions=null,g.sibling=null,g.tag===5&&(b=g.stateNode,b!==null&&au(b)),g.stateNode=null,g.return=null,g.dependencies=null,g.memoizedProps=null,g.memoizedState=null,g.pendingProps=null,g.stateNode=null,g.updateQueue=null}var oi=null,io=!1;function Ea(g,b,_){for(_=_.child;_!==null;)Vh(g,b,_),_=_.sibling}function Vh(g,b,_){if(At&&typeof At.onCommitFiberUnmount=="function")try{At.onCommitFiberUnmount(at,_)}catch{}switch(_.tag){case 26:As||To(_,b),Ea(g,b,_),_.memoizedState?_.memoizedState.count--:_.stateNode&&(_=_.stateNode,_.parentNode.removeChild(_));break;case 27:As||To(_,b);var R=oi,Q=io;sr(_.type)&&(oi=_.stateNode,io=!1),Ea(g,b,_),yb(_.stateNode),oi=R,io=Q;break;case 5:As||To(_,b);case 6:if(R=oi,Q=io,oi=null,Ea(g,b,_),oi=R,io=Q,oi!==null)if(io)try{(oi.nodeType===9?oi.body:oi.nodeName==="HTML"?oi.ownerDocument.body:oi).removeChild(_.stateNode)}catch(K){ts(_,b,K)}else try{oi.removeChild(_.stateNode)}catch(K){ts(_,b,K)}break;case 18:oi!==null&&(io?(g=oi,FS(g.nodeType===9?g.body:g.nodeName==="HTML"?g.ownerDocument.body:g,_.stateNode),sy(g)):FS(oi,_.stateNode));break;case 4:R=oi,Q=io,oi=_.stateNode.containerInfo,io=!0,Ea(g,b,_),oi=R,io=Q;break;case 0:case 11:case 14:case 15:Gl(2,_,b),As||Gl(4,_,b),Ea(g,b,_);break;case 1:As||(To(_,b),R=_.stateNode,typeof R.componentWillUnmount=="function"&&HA(_,b,R)),Ea(g,b,_);break;case 21:Ea(g,b,_);break;case 22:As=(R=As)||_.memoizedState!==null,Ea(g,b,_),As=R;break;default:Ea(g,b,_)}}function Hm(g,b){if(b.memoizedState===null&&(g=b.alternate,g!==null&&(g=g.memoizedState,g!==null))){g=g.dehydrated;try{sy(g)}catch(_){ts(b,b.return,_)}}}function ub(g,b){if(b.memoizedState===null&&(g=b.alternate,g!==null&&(g=g.memoizedState,g!==null&&(g=g.dehydrated,g!==null))))try{sy(g)}catch(_){ts(b,b.return,_)}}function MC(g){switch(g.tag){case 31:case 13:case 19:var b=g.stateNode;return b===null&&(b=g.stateNode=new Qm),b;case 22:return g=g.stateNode,b=g._retryCache,b===null&&(b=g._retryCache=new Qm),b;default:throw Error(r(435,g.tag))}}function Ys(g,b){var _=MC(g);b.forEach(function(R){if(!_.has(R)){_.add(R);var Q=IM.bind(null,g,R);R.then(Q,Q)}})}function Sa(g,b){var _=b.deletions;if(_!==null)for(var R=0;R<_.length;R++){var Q=_[R],K=g,oe=b,ye=oe;e:for(;ye!==null;){switch(ye.tag){case 27:if(sr(ye.type)){oi=ye.stateNode,io=!1;break e}break;case 5:oi=ye.stateNode,io=!1;break e;case 3:case 4:oi=ye.stateNode.containerInfo,io=!0;break e}ye=ye.return}if(oi===null)throw Error(r(160));Vh(K,oe,Q),oi=null,io=!1,K=Q.alternate,K!==null&&(K.return=null),Q.return=null}if(b.subtreeFlags&13886)for(b=b.child;b!==null;)Gh(b,g),b=b.sibling}var bl=null;function Gh(g,b){var _=g.alternate,R=g.flags;switch(g.tag){case 0:case 11:case 14:case 15:Sa(b,g),pi(g),R&4&&(Gl(3,g,g.return),ac(3,g),Gl(5,g,g.return));break;case 1:Sa(b,g),pi(g),R&512&&(As||_===null||To(_,_.return)),R&64&&wu&&(g=g.updateQueue,g!==null&&(R=g.callbacks,R!==null&&(_=g.shared.hiddenCallbacks,g.shared.hiddenCallbacks=_===null?R:_.concat(R))));break;case 26:var Q=bl;if(Sa(b,g),pi(g),R&512&&(As||_===null||To(_,_.return)),R&4){var K=_!==null?_.memoizedState:null;if(R=g.memoizedState,_===null)if(R===null)if(g.stateNode===null){e:{R=g.type,_=g.memoizedProps,Q=Q.ownerDocument||Q;t:switch(R){case"title":K=Q.getElementsByTagName("title")[0],(!K||K[Nl]||K[Wn]||K.namespaceURI==="http://www.w3.org/2000/svg"||K.hasAttribute("itemprop"))&&(K=Q.createElement(R),Q.head.insertBefore(K,Q.querySelector("head > title"))),Xa(K,R,_),K[Wn]=g,me(K),R=K;break e;case"link":var oe=J4("link","href",Q).get(R+(_.href||""));if(oe){for(var ye=0;ye<oe.length;ye++)if(K=oe[ye],K.getAttribute("href")===(_.href==null||_.href===""?null:_.href)&&K.getAttribute("rel")===(_.rel==null?null:_.rel)&&K.getAttribute("title")===(_.title==null?null:_.title)&&K.getAttribute("crossorigin")===(_.crossOrigin==null?null:_.crossOrigin)){oe.splice(ye,1);break t}}K=Q.createElement(R),Xa(K,R,_),Q.head.appendChild(K);break;case"meta":if(oe=J4("meta","content",Q).get(R+(_.content||""))){for(ye=0;ye<oe.length;ye++)if(K=oe[ye],K.getAttribute("content")===(_.content==null?null:""+_.content)&&K.getAttribute("name")===(_.name==null?null:_.name)&&K.getAttribute("property")===(_.property==null?null:_.property)&&K.getAttribute("http-equiv")===(_.httpEquiv==null?null:_.httpEquiv)&&K.getAttribute("charset")===(_.charSet==null?null:_.charSet)){oe.splice(ye,1);break t}}K=Q.createElement(R),Xa(K,R,_),Q.head.appendChild(K);break;default:throw Error(r(468,R))}K[Wn]=g,me(K),R=K}g.stateNode=R}else Z4(Q,g.type,g.stateNode);else g.stateNode=X4(Q,R,g.memoizedProps);else K!==R?(K===null?_.stateNode!==null&&(_=_.stateNode,_.parentNode.removeChild(_)):K.count--,R===null?Z4(Q,g.type,g.stateNode):X4(Q,R,g.memoizedProps)):R===null&&g.stateNode!==null&&Wl(g,g.memoizedProps,_.memoizedProps)}break;case 27:Sa(b,g),pi(g),R&512&&(As||_===null||To(_,_.return)),_!==null&&R&4&&Wl(g,g.memoizedProps,_.memoizedProps);break;case 5:if(Sa(b,g),pi(g),R&512&&(As||_===null||To(_,_.return)),g.flags&32){Q=g.stateNode;try{Qr(Q,"")}catch(wn){ts(g,g.return,wn)}}R&4&&g.stateNode!=null&&(Q=g.memoizedProps,Wl(g,Q,_!==null?_.memoizedProps:Q)),R&1024&&(zd=!0);break;case 6:if(Sa(b,g),pi(g),R&4){if(g.stateNode===null)throw Error(r(162));R=g.memoizedProps,_=g.stateNode;try{_.nodeValue=R}catch(wn){ts(g,g.return,wn)}}break;case 3:if(vb=null,Q=bl,bl=OC(b.containerInfo),Sa(b,g),bl=Q,pi(g),R&4&&_!==null&&_.memoizedState.isDehydrated)try{sy(b.containerInfo)}catch(wn){ts(g,g.return,wn)}zd&&(zd=!1,kC(g));break;case 4:R=bl,bl=OC(g.stateNode.containerInfo),Sa(b,g),pi(g),bl=R;break;case 12:Sa(b,g),pi(g);break;case 31:Sa(b,g),pi(g),R&4&&(R=g.updateQueue,R!==null&&(g.updateQueue=null,Ys(g,R)));break;case 13:Sa(b,g),pi(g),g.child.flags&8192&&g.memoizedState!==null!=(_!==null&&_.memoizedState!==null)&&(Jc=se()),R&4&&(R=g.updateQueue,R!==null&&(g.updateQueue=null,Ys(g,R)));break;case 22:Q=g.memoizedState!==null;var Ne=_!==null&&_.memoizedState!==null,lt=wu,Dt=As;if(wu=lt||Q,As=Dt||Ne,Sa(b,g),As=Dt,wu=lt,pi(g),R&8192)e:for(b=g.stateNode,b._visibility=Q?b._visibility&-2:b._visibility|1,Q&&(_===null||Ne||wu||As||ip(g)),_=null,b=g;;){if(b.tag===5||b.tag===26){if(_===null){Ne=_=b;try{if(K=Ne.stateNode,Q)oe=K.style,typeof oe.setProperty=="function"?oe.setProperty("display","none","important"):oe.display="none";else{ye=Ne.stateNode;var $t=Ne.memoizedProps.style,ft=$t!=null&&$t.hasOwnProperty("display")?$t.display:null;ye.style.display=ft==null||typeof ft=="boolean"?"":(""+ft).trim()}}catch(wn){ts(Ne,Ne.return,wn)}}}else if(b.tag===6){if(_===null){Ne=b;try{Ne.stateNode.nodeValue=Q?"":Ne.memoizedProps}catch(wn){ts(Ne,Ne.return,wn)}}}else if(b.tag===18){if(_===null){Ne=b;try{var bt=Ne.stateNode;Q?pc(bt,!0):pc(Ne.stateNode,!1)}catch(wn){ts(Ne,Ne.return,wn)}}}else if((b.tag!==22&&b.tag!==23||b.memoizedState===null||b===g)&&b.child!==null){b.child.return=b,b=b.child;continue}if(b===g)break e;for(;b.sibling===null;){if(b.return===null||b.return===g)break e;_===b&&(_=null),b=b.return}_===b&&(_=null),b.sibling.return=b.return,b=b.sibling}R&4&&(R=g.updateQueue,R!==null&&(_=R.retryQueue,_!==null&&(R.retryQueue=null,Ys(g,_))));break;case 19:Sa(b,g),pi(g),R&4&&(R=g.updateQueue,R!==null&&(g.updateQueue=null,Ys(g,R)));break;case 30:break;case 21:break;default:Sa(b,g),pi(g)}}function pi(g){var b=g.flags;if(b&2){try{for(var _,R=g.return;R!==null;){if(ro(R)){_=R;break}R=R.return}if(_==null)throw Error(r(160));switch(_.tag){case 27:var Q=_.stateNode,K=Yc(g);_i(g,K,Q);break;case 5:var oe=_.stateNode;_.flags&32&&(Qr(oe,""),_.flags&=-33);var ye=Yc(g);_i(g,ye,oe);break;case 3:case 4:var Ne=_.stateNode.containerInfo,lt=Yc(g);wr(g,lt,Ne);break;default:throw Error(r(161))}}catch(Dt){ts(g,g.return,Dt)}g.flags&=-3}b&4096&&(g.flags&=-4097)}function kC(g){if(g.subtreeFlags&1024)for(g=g.child;g!==null;){var b=g;kC(b),b.tag===5&&b.flags&1024&&b.stateNode.reset(),g=g.sibling}}function Od(g,b){if(b.subtreeFlags&8772)for(b=b.child;b!==null;)lb(g,b.alternate,b),b=b.sibling}function ip(g){for(g=g.child;g!==null;){var b=g;switch(b.tag){case 0:case 11:case 14:case 15:Gl(4,b,b.return),ip(b);break;case 1:To(b,b.return);var _=b.stateNode;typeof _.componentWillUnmount=="function"&&HA(b,b.return,_),ip(b);break;case 27:yb(b.stateNode);case 26:case 5:To(b,b.return),ip(b);break;case 22:b.memoizedState===null&&ip(b);break;case 30:ip(b);break;default:ip(b)}g=g.sibling}}function Ii(g,b,_){for(_=_&&(b.subtreeFlags&8772)!==0,b=b.child;b!==null;){var R=b.alternate,Q=g,K=b,oe=K.flags;switch(K.tag){case 0:case 11:case 15:Ii(Q,K,_),ac(4,K);break;case 1:if(Ii(Q,K,_),R=K,Q=R.stateNode,typeof Q.componentDidMount=="function")try{Q.componentDidMount()}catch(lt){ts(R,R.return,lt)}if(R=K,Q=R.updateQueue,Q!==null){var ye=R.stateNode;try{var Ne=Q.shared.hiddenCallbacks;if(Ne!==null)for(Q.shared.hiddenCallbacks=null,Q=0;Q<Ne.length;Q++)wo(Ne[Q],ye)}catch(lt){ts(R,R.return,lt)}}_&&oe&64&&lc(K),Do(K,K.return);break;case 27:qs(K);case 26:case 5:Ii(Q,K,_),_&&R===null&&oe&4&&Kl(K),Do(K,K.return);break;case 12:Ii(Q,K,_);break;case 31:Ii(Q,K,_),_&&oe&4&&Hm(Q,K);break;case 13:Ii(Q,K,_),_&&oe&4&&ub(Q,K);break;case 22:K.memoizedState===null&&Ii(Q,K,_),Do(K,K.return);break;case 30:break;default:Ii(Q,K,_)}b=b.sibling}}function VA(g,b){var _=null;g!==null&&g.memoizedState!==null&&g.memoizedState.cachePool!==null&&(_=g.memoizedState.cachePool.pool),g=null,b.memoizedState!==null&&b.memoizedState.cachePool!==null&&(g=b.memoizedState.cachePool.pool),g!==_&&(g!=null&&g.refCount++,_!=null&&Zo(_))}function jd(g,b){g=null,b.alternate!==null&&(g=b.alternate.memoizedState.cache),b=b.memoizedState.cache,b!==g&&(b.refCount++,g!=null&&Zo(g))}function Mo(g,b,_,R){if(b.subtreeFlags&10256)for(b=b.child;b!==null;)_s(g,b,_,R),b=b.sibling}function _s(g,b,_,R){var Q=b.flags;switch(b.tag){case 0:case 11:case 15:Mo(g,b,_,R),Q&2048&&ac(9,b);break;case 1:Mo(g,b,_,R);break;case 3:Mo(g,b,_,R),Q&2048&&(g=null,b.alternate!==null&&(g=b.alternate.memoizedState.cache),b=b.memoizedState.cache,b!==g&&(b.refCount++,g!=null&&Zo(g)));break;case 12:if(Q&2048){Mo(g,b,_,R),g=b.stateNode;try{var K=b.memoizedProps,oe=K.id,ye=K.onPostCommit;typeof ye=="function"&&ye(oe,b.alternate===null?"mount":"update",g.passiveEffectDuration,-0)}catch(Ne){ts(b,b.return,Ne)}}else Mo(g,b,_,R);break;case 31:Mo(g,b,_,R);break;case 13:Mo(g,b,_,R);break;case 23:break;case 22:K=b.stateNode,oe=b.alternate,b.memoizedState!==null?K._visibility&2?Mo(g,b,_,R):Cg(g,b):K._visibility&2?Mo(g,b,_,R):(K._visibility|=2,Xc(g,b,_,R,(b.subtreeFlags&10256)!==0||!1)),Q&2048&&VA(oe,b);break;case 24:Mo(g,b,_,R),Q&2048&&jd(b.alternate,b);break;default:Mo(g,b,_,R)}}function Xc(g,b,_,R,Q){for(Q=Q&&((b.subtreeFlags&10256)!==0||!1),b=b.child;b!==null;){var K=g,oe=b,ye=_,Ne=R,lt=oe.flags;switch(oe.tag){case 0:case 11:case 15:Xc(K,oe,ye,Ne,Q),ac(8,oe);break;case 23:break;case 22:var Dt=oe.stateNode;oe.memoizedState!==null?Dt._visibility&2?Xc(K,oe,ye,Ne,Q):Cg(K,oe):(Dt._visibility|=2,Xc(K,oe,ye,Ne,Q)),Q&&lt&2048&&VA(oe.alternate,oe);break;case 24:Xc(K,oe,ye,Ne,Q),Q&&lt&2048&&jd(oe.alternate,oe);break;default:Xc(K,oe,ye,Ne,Q)}b=b.sibling}}function Cg(g,b){if(b.subtreeFlags&10256)for(b=b.child;b!==null;){var _=g,R=b,Q=R.flags;switch(R.tag){case 22:Cg(_,R),Q&2048&&VA(R.alternate,R);break;case 24:Cg(_,R),Q&2048&&jd(R.alternate,R);break;default:Cg(_,R)}b=b.sibling}}var Ns=8192;function sp(g,b,_){if(g.subtreeFlags&Ns)for(g=g.child;g!==null;)Xs(g,b,_),g=g.sibling}function Xs(g,b,_){switch(g.tag){case 26:sp(g,b,_),g.flags&Ns&&g.memoizedState!==null&&ny(_,bl,g.memoizedState,g.memoizedProps);break;case 5:sp(g,b,_);break;case 3:case 4:var R=bl;bl=OC(g.stateNode.containerInfo),sp(g,b,_),bl=R;break;case 22:g.memoizedState===null&&(R=g.alternate,R!==null&&R.memoizedState!==null?(R=Ns,Ns=16777216,sp(g,b,_),Ns=R):sp(g,b,_));break;default:sp(g,b,_)}}function xl(g){var b=g.alternate;if(b!==null&&(g=b.child,g!==null)){b.child=null;do b=g.sibling,g.sibling=null,g=b;while(g!==null)}}function qa(g){var b=g.deletions;if((g.flags&16)!==0){if(b!==null)for(var _=0;_<b.length;_++){var R=b[_];Rs=R,Vm(R,g)}xl(g)}if(g.subtreeFlags&10256)for(g=g.child;g!==null;)op(g),g=g.sibling}function op(g){switch(g.tag){case 0:case 11:case 15:qa(g),g.flags&2048&&Gl(9,g,g.return);break;case 3:qa(g);break;case 12:qa(g);break;case 22:var b=g.stateNode;g.memoizedState!==null&&b._visibility&2&&(g.return===null||g.return.tag!==13)?(b._visibility&=-3,GA(g)):qa(g);break;default:qa(g)}}function GA(g){var b=g.deletions;if((g.flags&16)!==0){if(b!==null)for(var _=0;_<b.length;_++){var R=b[_];Rs=R,Vm(R,g)}xl(g)}for(g=g.child;g!==null;){switch(b=g,b.tag){case 0:case 11:case 15:Gl(8,b,b.return),GA(b);break;case 22:_=b.stateNode,_._visibility&2&&(_._visibility&=-3,GA(b));break;default:GA(b)}g=g.sibling}}function Vm(g,b){for(;Rs!==null;){var _=Rs;switch(_.tag){case 0:case 11:case 15:Gl(8,_,b);break;case 23:case 22:if(_.memoizedState!==null&&_.memoizedState.cachePool!==null){var R=_.memoizedState.cachePool.pool;R!=null&&R.refCount++}break;case 24:Zo(_.memoizedState.cache)}if(R=_.child,R!==null)R.return=_,Rs=R;else e:for(_=g;Rs!==null;){R=Rs;var Q=R.sibling,K=R.return;if(Um(R),R===_){Rs=null;break e}if(Q!==null){Q.return=K,Rs=Q;break e}Rs=K}}}var KA={getCacheForType:function(g){var b=jo(Rn),_=b.data.get(g);return _===void 0&&(_=g(),b.data.set(g,_)),_},cacheSignal:function(){return jo(Rn).controller.signal}},WA=typeof WeakMap=="function"?WeakMap:Map,ai=0,Mi=null,_r=null,qr=0,Nn=0,Fr=null,fr=!1,Mr=!1,qi=!1,Is=0,Bi=0,ql=0,Qd=0,uc=0,li=0,Yl=0,cc=null,wa=null,Cl=!1,Jc=0,Eg=0,_a=1/0,Sg=null,Zc=null,Bs=0,dc=null,Xl=null,_u=0,Ud=0,ap=null,qA=null,lp=0,up=null;function Ya(){return(ai&2)!==0&&qr!==0?qr&-qr:O.T!==null?hc():zr()}function S(){if(li===0)if((qr&536870912)===0||Zr){var g=Vt;Vt<<=1,(Vt&3932160)===0&&(Vt=262144),li=g}else li=536870912;return g=Io.current,g!==null&&(g.flags|=32),li}function w(g,b,_){(g===Mi&&(Nn===2||Nn===9)||g.cancelPendingCommit!==null)&&(Je(g,0),re(g,qr,li,!1)),Ht(g,_),((ai&2)===0||g!==Mi)&&(g===Mi&&((ai&2)===0&&(Qd|=_),Bi===4&&re(g,qr,li,!1)),Kh(g))}function F(g,b,_){if((ai&6)!==0)throw Error(r(327));var R=!_&&(b&127)===0&&(b&g.expiredLanes)===0||qt(g,b),Q=R?cp(g,b):El(g,b,!0),K=R;do{if(Q===0){Mr&&!R&&re(g,b,0,!1);break}else{if(_=g.current.alternate,K&&!X(_)){Q=El(g,b,!1),K=!1;continue}if(Q===2){if(K=b,g.errorRecoveryDisabledLanes&K)var oe=0;else oe=g.pendingLanes&-536870913,oe=oe!==0?oe:oe&536870912?536870912:0;if(oe!==0){b=oe;e:{var ye=g;Q=cc;var Ne=ye.current.memoizedState.isDehydrated;if(Ne&&(Je(ye,oe).flags|=256),oe=El(ye,oe,!1),oe!==2){if(qi&&!Ne){ye.errorRecoveryDisabledLanes|=K,Qd|=K,Q=4;break e}K=wa,wa=Q,K!==null&&(wa===null?wa=K:wa.push.apply(wa,K))}Q=oe}if(K=!1,Q!==2)continue}}if(Q===1){Je(g,0),re(g,b,0,!0);break}e:{switch(R=g,K=Q,K){case 0:case 1:throw Error(r(345));case 4:if((b&4194048)!==b)break;case 6:re(R,b,li,!fr);break e;case 2:wa=null;break;case 3:case 5:break;default:throw Error(r(329))}if((b&62914560)===b&&(Q=Jc+300-se(),10<Q)){if(re(R,b,li,!fr),St(R,0,!0)!==0)break e;_u=b,R.timeoutHandle=O4(U.bind(null,R,_,wa,Sg,Cl,b,li,Qd,Yl,fr,K,"Throttled",-0,0),Q);break e}U(R,_,wa,Sg,Cl,b,li,Qd,Yl,fr,K,null,-0,0)}}break}while(!0);Kh(g)}function U(g,b,_,R,Q,K,oe,ye,Ne,lt,Dt,$t,ft,bt){if(g.timeoutHandle=-1,$t=b.subtreeFlags,$t&8192||($t&16785408)===16785408){$t={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:kc},Xs(b,K,$t);var wn=(K&62914560)===K?Jc-se():(K&4194048)===K?Eg-se():0;if(wn=HM($t,wn),wn!==null){_u=K,g.cancelPendingCommit=wn(Jn.bind(null,g,b,K,_,R,Q,oe,ye,Ne,Dt,$t,null,ft,bt)),re(g,K,oe,!lt);return}}Jn(g,b,K,_,R,Q,oe,ye,Ne)}function X(g){for(var b=g;;){var _=b.tag;if((_===0||_===11||_===15)&&b.flags&16384&&(_=b.updateQueue,_!==null&&(_=_.stores,_!==null)))for(var R=0;R<_.length;R++){var Q=_[R],K=Q.getSnapshot;Q=Q.value;try{if(!Jr(K(),Q))return!1}catch{return!1}}if(_=b.child,b.subtreeFlags&16384&&_!==null)_.return=b,b=_;else{if(b===g)break;for(;b.sibling===null;){if(b.return===null||b.return===g)return!0;b=b.return}b.sibling.return=b.return,b=b.sibling}}return!0}function re(g,b,_,R){b&=~uc,b&=~Qd,g.suspendedLanes|=b,g.pingedLanes&=~b,R&&(g.warmLanes|=b),R=g.expirationTimes;for(var Q=b;0<Q;){var K=31-wt(Q),oe=1<<K;R[K]=-1,Q&=~oe}_!==0&&In(g,_,b)}function be(){return(ai&6)===0?(db(0),!1):!0}function Re(){if(_r!==null){if(Nn===0)var g=_r.return;else g=_r,pa=hr=null,Qv(g),Th=null,ga=0,g=_r;for(;g!==null;)$d(g.alternate,g),g=g.return;_r=null}}function Je(g,b){var _=g.timeoutHandle;_!==-1&&(g.timeoutHandle=-1,PM(_)),_=g.cancelPendingCommit,_!==null&&(g.cancelPendingCommit=null,_()),_u=0,Re(),Mi=g,_r=_=Ll(g.current,null),qr=b,Nn=0,Fr=null,fr=!1,Mr=qt(g,b),qi=!1,Yl=li=uc=Qd=ql=Bi=0,wa=cc=null,Cl=!1,(b&8)!==0&&(b|=b&32);var R=g.entangledLanes;if(R!==0)for(g=g.entanglements,R&=b;0<R;){var Q=31-wt(R),K=1<<Q;b|=g[Q],R&=~K}return Is=b,Ha(),_}function Tt(g,b){Xn=null,O.H=zh,b===Dh||b===mu?(b=bA(),Nn=3):b===hg?(b=bA(),Nn=4):Nn=b===vg?8:b!==null&&typeof b=="object"&&typeof b.then=="function"?6:1,Fr=b,_r===null&&(Bi=1,Fm(g,Va(b,g.current)))}function Zt(){var g=Io.current;return g===null?!0:(qr&4194048)===qr?vu===null:(qr&62914560)===qr||(qr&536870912)!==0?g===vu:!1}function dn(){var g=O.H;return O.H=zh,g===null?zh:g}function gn(){var g=O.A;return O.A=KA,g}function dr(){Bi=4,fr||(qr&4194048)!==qr&&Io.current!==null||(Mr=!0),(ql&134217727)===0&&(Qd&134217727)===0||Mi===null||re(Mi,qr,li,!1)}function El(g,b,_){var R=ai;ai|=2;var Q=dn(),K=gn();(Mi!==g||qr!==b)&&(Sg=null,Je(g,b)),b=!1;var oe=Bi;e:do try{if(Nn!==0&&_r!==null){var ye=_r,Ne=Fr;switch(Nn){case 8:Re(),oe=6;break e;case 3:case 2:case 9:case 6:Io.current===null&&(b=!0);var lt=Nn;if(Nn=0,Fr=null,Kt(g,ye,Ne,lt),_&&Mr){oe=0;break e}break;default:lt=Nn,Nn=0,Fr=null,Kt(g,ye,Ne,lt)}}Gm(),oe=Bi;break}catch(Dt){Tt(g,Dt)}while(!0);return b&&g.shellSuspendCounter++,pa=hr=null,ai=R,O.H=Q,O.A=K,_r===null&&(Mi=null,qr=0,Ha()),oe}function Gm(){for(;_r!==null;)qe(_r)}function cp(g,b){var _=ai;ai|=2;var R=dn(),Q=gn();Mi!==g||qr!==b?(Sg=null,_a=se()+500,Je(g,b)):Mr=qt(g,b);e:do try{if(Nn!==0&&_r!==null){b=_r;var K=Fr;t:switch(Nn){case 1:Nn=0,Fr=null,Kt(g,b,K,1);break;case 2:case 9:if(xC(K)){Nn=0,Fr=null,vt(b);break}b=function(){Nn!==2&&Nn!==9||Mi!==g||(Nn=7),Kh(g)},K.then(b,b);break e;case 3:Nn=7;break e;case 4:Nn=5;break e;case 7:xC(K)?(Nn=0,Fr=null,vt(b)):(Nn=0,Fr=null,Kt(g,b,K,7));break;case 5:var oe=null;switch(_r.tag){case 26:oe=_r.memoizedState;case 5:case 27:var ye=_r;if(oe?e2(oe):ye.stateNode.complete){Nn=0,Fr=null;var Ne=ye.sibling;if(Ne!==null)_r=Ne;else{var lt=ye.return;lt!==null?(_r=lt,kn(lt)):_r=null}break t}}Nn=0,Fr=null,Kt(g,b,K,5);break;case 6:Nn=0,Fr=null,Kt(g,b,K,6);break;case 8:Re(),Bi=6;break e;default:throw Error(r(462))}}ht();break}catch(Dt){Tt(g,Dt)}while(!0);return pa=hr=null,O.H=R,O.A=Q,ai=_,_r!==null?0:(Mi=null,qr=0,Ha(),Bi)}function ht(){for(;_r!==null&&!ot();)qe(_r)}function qe(g){var b=QA(g.alternate,g,Is);g.memoizedProps=g.pendingProps,b===null?kn(g):_r=b}function vt(g){var b=g,_=b.alternate;switch(b.tag){case 15:case 0:b=Ca(_,b,b.pendingProps,b.type,void 0,qr);break;case 11:b=Ca(_,b,b.pendingProps,b.type.render,b.ref,qr);break;case 5:Qv(b);default:$d(_,b),b=_r=fa(b,Is),b=QA(_,b,Is)}g.memoizedProps=g.pendingProps,b===null?kn(g):_r=b}function Kt(g,b,_,R){pa=hr=null,Qv(b),Th=null,ga=0;var Q=b.return;try{if(Ka(g,Q,b,_,qr)){Bi=1,Fm(g,Va(_,g.current)),_r=null;return}}catch(K){if(Q!==null)throw _r=Q,K;Bi=1,Fm(g,Va(_,g.current)),_r=null;return}b.flags&32768?(Zr||R===1?g=!0:Mr||(qr&536870912)!==0?g=!1:(fr=g=!0,(R===2||R===9||R===3||R===6)&&(R=Io.current,R!==null&&R.tag===13&&(R.flags|=16384))),zi(b,g)):kn(b)}function kn(g){var b=g;do{if((b.flags&32768)!==0){zi(b,fr);return}g=b.return;var _=UA(b.alternate,b,Is);if(_!==null){_r=_;return}if(b=b.sibling,b!==null){_r=b;return}_r=b=g}while(b!==null);Bi===0&&(Bi=5)}function zi(g,b){do{var _=Hh(g.alternate,g);if(_!==null){_.flags&=32767,_r=_;return}if(_=g.return,_!==null&&(_.flags|=32768,_.subtreeFlags=0,_.deletions=null),!b&&(g=g.sibling,g!==null)){_r=g;return}_r=g=_}while(g!==null);Bi=6,_r=null}function Jn(g,b,_,R,Q,K,oe,ye,Ne){g.cancelPendingCommit=null;do Km();while(Bs!==0);if((ai&6)!==0)throw Error(r(327));if(b!==null){if(b===g.current)throw Error(r(177));if(K=b.lanes|b.childLanes,K|=zf,Vn(g,_,K,oe,ye,Ne),g===Mi&&(_r=Mi=null,qr=0),Xl=b,dc=g,_u=_,Ud=K,ap=Q,qA=R,(b.subtreeFlags&10256)!==0||(b.flags&10256)!==0?(g.callbackNode=null,g.callbackPriority=0,BM(ze,function(){return SS(),null})):(g.callbackNode=null,g.callbackPriority=0),R=(b.flags&13878)!==0,(b.subtreeFlags&13878)!==0||R){R=O.T,O.T=null,Q=G.p,G.p=2,oe=ai,ai|=4;try{xg(g,b,_)}finally{ai=oe,G.p=Q,O.T=R}}Bs=1,ui(),so(),ei()}}function ui(){if(Bs===1){Bs=0;var g=dc,b=Xl,_=(b.flags&13878)!==0;if((b.subtreeFlags&13878)!==0||_){_=O.T,O.T=null;var R=G.p;G.p=2;var Q=ai;ai|=4;try{Gh(b,g);var K=NS,oe=mA(g.containerInfo),ye=K.focusedElem,Ne=K.selectionRange;if(oe!==ye&&ye&&ye.ownerDocument&&gA(ye.ownerDocument.documentElement,ye)){if(Ne!==null&&og(ye)){var lt=Ne.start,Dt=Ne.end;if(Dt===void 0&&(Dt=lt),"selectionStart"in ye)ye.selectionStart=lt,ye.selectionEnd=Math.min(Dt,ye.value.length);else{var $t=ye.ownerDocument||document,ft=$t&&$t.defaultView||window;if(ft.getSelection){var bt=ft.getSelection(),wn=ye.textContent.length,Yn=Math.min(Ne.start,wn),os=Ne.end===void 0?Yn:Math.min(Ne.end,wn);!bt.extend&&Yn>os&&(oe=os,os=Yn,Yn=oe);var Ye=kv(ye,Yn),Qe=kv(ye,os);if(Ye&&Qe&&(bt.rangeCount!==1||bt.anchorNode!==Ye.node||bt.anchorOffset!==Ye.offset||bt.focusNode!==Qe.node||bt.focusOffset!==Qe.offset)){var st=$t.createRange();st.setStart(Ye.node,Ye.offset),bt.removeAllRanges(),Yn>os?(bt.addRange(st),bt.extend(Qe.node,Qe.offset)):(st.setEnd(Qe.node,Qe.offset),bt.addRange(st))}}}}for($t=[],bt=ye;bt=bt.parentNode;)bt.nodeType===1&&$t.push({element:bt,left:bt.scrollLeft,top:bt.scrollTop});for(typeof ye.focus=="function"&&ye.focus(),ye=0;ye<$t.length;ye++){var Nt=$t[ye];Nt.element.scrollLeft=Nt.left,Nt.element.scrollTop=Nt.top}}GC=!!gb,NS=gb=null}finally{ai=Q,G.p=R,O.T=_}}g.current=b,Bs=2}}function so(){if(Bs===2){Bs=0;var g=dc,b=Xl,_=(b.flags&8772)!==0;if((b.subtreeFlags&8772)!==0||_){_=O.T,O.T=null;var R=G.p;G.p=2;var Q=ai;ai|=4;try{lb(g,b.alternate,b)}finally{ai=Q,G.p=R,O.T=_}}Bs=3}}function ei(){if(Bs===4||Bs===3){Bs=0,le();var g=dc,b=Xl,_=_u,R=qA;(b.subtreeFlags&10256)!==0||(b.flags&10256)!==0?Bs=5:(Bs=0,Xl=dc=null,ed(g,g.pendingLanes));var Q=g.pendingLanes;if(Q===0&&(Zc=null),yr(_),b=b.stateNode,At&&typeof At.onCommitFiberRoot=="function")try{At.onCommitFiberRoot(at,b,void 0,(b.current.flags&128)===128)}catch{}if(R!==null){b=O.T,Q=G.p,G.p=2,O.T=null;try{for(var K=g.onRecoverableError,oe=0;oe<R.length;oe++){var ye=R[oe];K(ye.value,{componentStack:ye.stack})}}finally{O.T=b,G.p=Q}}(_u&3)!==0&&Km(),Kh(g),Q=g.pendingLanes,(_&261930)!==0&&(Q&42)!==0?g===up?lp++:(lp=0,up=g):lp=0,db(0)}}function ed(g,b){(g.pooledCacheLanes&=b)===0&&(b=g.pooledCache,b!=null&&(g.pooledCache=null,Zo(b)))}function Km(){return ui(),so(),ei(),SS()}function SS(){if(Bs!==5)return!1;var g=dc,b=Ud;Ud=0;var _=yr(_u),R=O.T,Q=G.p;try{G.p=32>_?32:_,O.T=null,_=ap,ap=null;var K=dc,oe=_u;if(Bs=0,Xl=dc=null,_u=0,(ai&6)!==0)throw Error(r(331));var ye=ai;if(ai|=4,op(K.current),_s(K,K.current,oe,_),ai=ye,db(0,!1),At&&typeof At.onPostCommitFiberRoot=="function")try{At.onPostCommitFiberRoot(at,K)}catch{}return!0}finally{G.p=Q,O.T=R,ed(g,b)}}function wS(g,b,_){b=Va(_,b),b=ab(g.stateNode,b,2),g=yu(g,b,2),g!==null&&(Ht(g,2),Kh(g))}function ts(g,b,_){if(g.tag===3)wS(g,g,_);else for(;b!==null;){if(b.tag===3){wS(b,g,_);break}else if(b.tag===1){var R=b.stateNode;if(typeof b.type.getDerivedStateFromError=="function"||typeof R.componentDidCatch=="function"&&(Zc===null||!Zc.has(R))){g=Va(_,g),_=yl(2),R=yu(b,_,2),R!==null&&(xa(_,R,b,g),Ht(R,2),Kh(R));break}}b=b.return}}function _S(g,b,_){var R=g.pingCache;if(R===null){R=g.pingCache=new WA;var Q=new Set;R.set(b,Q)}else Q=R.get(b),Q===void 0&&(Q=new Set,R.set(b,Q));Q.has(_)||(qi=!0,Q.add(_),g=_M.bind(null,g,b,_),b.then(g,g))}function _M(g,b,_){var R=g.pingCache;R!==null&&R.delete(b),g.pingedLanes|=g.suspendedLanes&_,g.warmLanes&=~_,Mi===g&&(qr&_)===_&&(Bi===4||Bi===3&&(qr&62914560)===qr&&300>se()-Jc?(ai&2)===0&&Je(g,0):uc|=_,Yl===qr&&(Yl=0)),Kh(g)}function cb(g,b){b===0&&(b=Bt()),g=qu(g,b),g!==null&&(Ht(g,b),Kh(g))}function PC(g){var b=g.memoizedState,_=0;b!==null&&(_=b.retryLane),cb(g,_)}function IM(g,b){var _=0;switch(g.tag){case 31:case 13:var R=g.stateNode,Q=g.memoizedState;Q!==null&&(_=Q.retryLane);break;case 19:R=g.stateNode;break;case 22:R=g.stateNode._retryCache;break;default:throw Error(r(314))}R!==null&&R.delete(b),cb(g,_)}function BM(g,b){return gt(g,b)}var YA=null,Wm=null,IS=!1,RC=!1,BS=!1,wg=0;function Kh(g){g!==Wm&&g.next===null&&(Wm===null?YA=Wm=g:Wm=Wm.next=g),RC=!0,IS||(IS=!0,TM())}function db(g,b){if(!BS&&RC){BS=!0;do for(var _=!1,R=YA;R!==null;){if(g!==0){var Q=R.pendingLanes;if(Q===0)var K=0;else{var oe=R.suspendedLanes,ye=R.pingedLanes;K=(1<<31-wt(42|g)+1)-1,K&=Q&~(oe&~ye),K=K&201326741?K&201326741|1:K?K|2:0}K!==0&&(_=!0,P4(R,K))}else K=qr,K=St(R,R===Mi?K:0,R.cancelPendingCommit!==null||R.timeoutHandle!==-1),(K&3)===0||qt(R,K)||(_=!0,P4(R,K));R=R.next}while(_);BS=!1}}function DM(){T4()}function T4(){RC=IS=!1;var g=0;wg!==0&&kM()&&(g=wg);for(var b=se(),_=null,R=YA;R!==null;){var Q=R.next,K=M4(R,b);K===0?(R.next=null,_===null?YA=Q:_.next=Q,Q===null&&(Wm=_)):(_=R,(g!==0||(K&3)!==0)&&(RC=!0)),R=Q}Bs!==0&&Bs!==5||db(g),wg!==0&&(wg=0)}function M4(g,b){for(var _=g.suspendedLanes,R=g.pingedLanes,Q=g.expirationTimes,K=g.pendingLanes&-62914561;0<K;){var oe=31-wt(K),ye=1<<oe,Ne=Q[oe];Ne===-1?((ye&_)===0||(ye&R)!==0)&&(Q[oe]=ct(ye,b)):Ne<=b&&(g.expiredLanes|=ye),K&=~ye}if(b=Mi,_=qr,_=St(g,g===b?_:0,g.cancelPendingCommit!==null||g.timeoutHandle!==-1),R=g.callbackNode,_===0||g===b&&(Nn===2||Nn===9)||g.cancelPendingCommit!==null)return R!==null&&R!==null&&it(R),g.callbackNode=null,g.callbackPriority=0;if((_&3)===0||qt(g,_)){if(b=_&-_,b===g.callbackPriority)return b;switch(R!==null&&it(R),yr(_)){case 2:case 8:_=Be;break;case 32:_=ze;break;case 268435456:_=Et;break;default:_=ze}return R=k4.bind(null,g),_=gt(_,R),g.callbackPriority=b,g.callbackNode=_,b}return R!==null&&R!==null&&it(R),g.callbackPriority=2,g.callbackNode=null,2}function k4(g,b){if(Bs!==0&&Bs!==5)return g.callbackNode=null,g.callbackPriority=0,null;var _=g.callbackNode;if(Km()&&g.callbackNode!==_)return null;var R=qr;return R=St(g,g===Mi?R:0,g.cancelPendingCommit!==null||g.timeoutHandle!==-1),R===0?null:(F(g,R,b),M4(g,se()),g.callbackNode!=null&&g.callbackNode===_?k4.bind(null,g):null)}function P4(g,b){if(Km())return null;F(g,b,!0)}function TM(){Q4(function(){(ai&6)!==0?gt(De,DM):T4()})}function hc(){if(wg===0){var g=Nd;g===0&&(g=Wt,Wt<<=1,(Wt&261888)===0&&(Wt=256)),wg=g}return wg}function R4(g){return g==null||typeof g=="symbol"||typeof g=="boolean"?null:typeof g=="function"?g:Jp(""+g)}function N4(g,b){var _=b.ownerDocument.createElement("input");return _.name=b.name,_.value=b.value,g.id&&_.setAttribute("form",g.id),b.parentNode.insertBefore(_,b),g=new FormData(g),_.parentNode.removeChild(_),g}function qm(g,b,_,R,Q){if(b==="submit"&&_&&_.stateNode===Q){var K=R4((Q[Hi]||null).action),oe=R.submitter;oe&&(b=(b=oe[Hi]||null)?R4(b.formAction):oe.getAttribute("formAction"),b!==null&&(K=b,oe=null));var ye=new gm("action","action",null,R,Q);g.push({event:ye,listeners:[{instance:null,listener:function(){if(R.defaultPrevented){if(wg!==0){var Ne=oe?N4(Q,oe):new FormData(Q);Lh(_,{pending:!0,data:Ne,method:Q.method,action:K},null,Ne)}}else typeof K=="function"&&(ye.preventDefault(),Ne=oe?N4(Q,oe):new FormData(Q),Lh(_,{pending:!0,data:Ne,method:Q.method,action:K},K,Ne))},currentTarget:Q}]})}}for(var vr=0;vr<xm.length;vr++){var DS=xm[vr],Iu=DS.toLowerCase(),ko=DS[0].toUpperCase()+DS.slice(1);Co(Iu,"on"+ko)}Co(gs,"onAnimationEnd"),Co(ag,"onAnimationIteration"),Co(zc,"onAnimationStart"),Co("dblclick","onDoubleClick"),Co("focusin","onFocus"),Co("focusout","onBlur"),Co(Ku,"onTransitionRun"),Co(Wu,"onTransitionStart"),Co(lg,"onTransitionCancel"),Co(yi,"onTransitionEnd"),Xe("onMouseEnter",["mouseout","mouseover"]),Xe("onMouseLeave",["mouseout","mouseover"]),Xe("onPointerEnter",["pointerout","pointerover"]),Xe("onPointerLeave",["pointerout","pointerover"]),tt("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),tt("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),tt("onBeforeInput",["compositionend","keypress","textInput","paste"]),tt("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),tt("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),tt("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var hb="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),_g=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(hb));function L4(g,b){b=(b&4)!==0;for(var _=0;_<g.length;_++){var R=g[_],Q=R.event;R=R.listeners;e:{var K=void 0;if(b)for(var oe=R.length-1;0<=oe;oe--){var ye=R[oe],Ne=ye.instance,lt=ye.currentTarget;if(ye=ye.listener,Ne!==K&&Q.isPropagationStopped())break e;K=ye,Q.currentTarget=lt;try{K(Q)}catch(Dt){Ch(Dt)}Q.currentTarget=null,K=Ne}else for(oe=0;oe<R.length;oe++){if(ye=R[oe],Ne=ye.instance,lt=ye.currentTarget,ye=ye.listener,Ne!==K&&Q.isPropagationStopped())break e;K=ye,Q.currentTarget=lt;try{K(Q)}catch(Dt){Ch(Dt)}Q.currentTarget=null,K=Ne}}}}function ti(g,b){var _=b[ua];_===void 0&&(_=b[ua]=new Set);var R=g+"__bubble";_.has(R)||(LC(b,g,2,!1),_.add(R))}function TS(g,b,_){var R=0;b&&(R|=4),LC(_,g,R,b)}var NC="_reactListening"+Math.random().toString(36).slice(2);function MS(g){if(!g[NC]){g[NC]=!0,He.forEach(function(_){_!=="selectionchange"&&(_g.has(_)||TS(_,!1,g),TS(_,!0,g))});var b=g.nodeType===9?g:g.ownerDocument;b===null||b[NC]||(b[NC]=!0,TS("selectionchange",!1,b))}}function LC(g,b,_,R){switch(l2(b)){case 2:var Q=GM;break;case 8:Q=KM;break;default:Q=US}_=Q.bind(null,b,_,g),Q=void 0,!rA||b!=="touchstart"&&b!=="touchmove"&&b!=="wheel"||(Q=!0),R?Q!==void 0?g.addEventListener(b,_,{capture:!0,passive:Q}):g.addEventListener(b,_,!0):Q!==void 0?g.addEventListener(b,_,{passive:Q}):g.addEventListener(b,_,!1)}function kS(g,b,_,R,Q){var K=R;if((b&1)===0&&(b&2)===0&&R!==null)e:for(;;){if(R===null)return;var oe=R.tag;if(oe===3||oe===4){var ye=R.stateNode.containerInfo;if(ye===Q)break;if(oe===4)for(oe=R.return;oe!==null;){var Ne=oe.tag;if((Ne===3||Ne===4)&&oe.stateNode.containerInfo===Q)return;oe=oe.return}for(;ye!==null;){if(oe=Vi(ye),oe===null)return;if(Ne=oe.tag,Ne===5||Ne===6||Ne===26||Ne===27){R=K=oe;continue e}ye=ye.parentNode}}R=R.return}vv(function(){var lt=K,Dt=tA(_),$t=[];e:{var ft=Dd.get(g);if(ft!==void 0){var bt=gm,wn=g;switch(g){case"keypress":if(kf(_)===0)break e;case"keydown":case"keyup":bt=Nc;break;case"focusin":wn="focus",bt=mm;break;case"focusout":wn="blur",bt=mm;break;case"beforeblur":case"afterblur":bt=mm;break;case"click":if(_.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":bt=oA;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":bt=xv;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":bt=_d;break;case gs:case ag:case zc:bt=Sv;break;case yi:bt=bS;break;case"scroll":case"scrollend":bt=sA;break;case"wheel":bt=Gu;break;case"copy":case"cut":case"paste":bt=Ua;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":bt=uA;break;case"toggle":case"beforetoggle":bt=Iv}var Yn=(b&4)!==0,os=!Yn&&(g==="scroll"||g==="scrollend"),Ye=Yn?ft!==null?ft+"Capture":null:ft;Yn=[];for(var Qe=lt,st;Qe!==null;){var Nt=Qe;if(st=Nt.stateNode,Nt=Nt.tag,Nt!==5&&Nt!==26&&Nt!==27||st===null||Ye===null||(Nt=wd(Qe,Ye),Nt!=null&&Yn.push(fc(Qe,Nt,st))),os)break;Qe=Qe.return}0<Yn.length&&(ft=new bt(ft,wn,null,_,Dt),$t.push({event:ft,listeners:Yn}))}}if((b&7)===0){e:{if(ft=g==="mouseover"||g==="pointerover",bt=g==="mouseout"||g==="pointerout",ft&&_!==hm&&(wn=_.relatedTarget||_.fromElement)&&(Vi(wn)||wn[fs]))break e;if((bt||ft)&&(ft=Dt.window===Dt?Dt:(ft=Dt.ownerDocument)?ft.defaultView||ft.parentWindow:window,bt?(wn=_.relatedTarget||_.toElement,bt=lt,wn=wn?Vi(wn):null,wn!==null&&(os=s(wn),Yn=wn.tag,wn!==os||Yn!==5&&Yn!==27&&Yn!==6)&&(wn=null)):(bt=null,wn=lt),bt!==wn)){if(Yn=oA,Nt="onMouseLeave",Ye="onMouseEnter",Qe="mouse",(g==="pointerout"||g==="pointerover")&&(Yn=uA,Nt="onPointerLeave",Ye="onPointerEnter",Qe="pointer"),os=bt==null?ft:ca(bt),st=wn==null?ft:ca(wn),ft=new Yn(Nt,Qe+"leave",bt,_,Dt),ft.target=os,ft.relatedTarget=st,Nt=null,Vi(Dt)===lt&&(Yn=new Yn(Ye,Qe+"enter",wn,_,Dt),Yn.target=st,Yn.relatedTarget=os,Nt=Yn),os=Nt,bt&&wn)t:{for(Yn=FC,Ye=bt,Qe=wn,st=0,Nt=Ye;Nt;Nt=Yn(Nt))st++;Nt=0;for(var Hn=Qe;Hn;Hn=Yn(Hn))Nt++;for(;0<st-Nt;)Ye=Yn(Ye),st--;for(;0<Nt-st;)Qe=Yn(Qe),Nt--;for(;st--;){if(Ye===Qe||Qe!==null&&Ye===Qe.alternate){Yn=Ye;break t}Ye=Yn(Ye),Qe=Yn(Qe)}Yn=null}else Yn=null;bt!==null&&Ls($t,ft,bt,Yn,!1),wn!==null&&os!==null&&Ls($t,os,wn,Yn,!0)}}e:{if(ft=lt?ca(lt):window,bt=ft.nodeName&&ft.nodeName.toLowerCase(),bt==="select"||bt==="input"&&ft.type==="file")var ki=Dv;else if(fA(ft))if(Fc)ki=yC;else{ki=bh;var Mn=vh}else bt=ft.nodeName,!bt||bt.toLowerCase()!=="input"||ft.type!=="checkbox"&&ft.type!=="radio"?lt&&Yo(lt.elementType)&&(ki=Dv):ki=AC;if(ki&&(ki=ki(g,lt))){bm($t,ki,_,Dt);break e}Mn&&Mn(g,ft,lt),g==="focusout"&&lt&&ft.type==="number"&&lt.memoizedProps.value!=null&&Un(ft,"number",ft.value)}switch(Mn=lt?ca(lt):window,g){case"focusin":(fA(Mn)||Mn.contentEditable==="true")&&(Ve=Mn,_t=lt,yt=null);break;case"focusout":yt=_t=Ve=null;break;case"mousedown":an=!0;break;case"contextmenu":case"mouseup":case"dragend":an=!1,rr($t,_,Dt);break;case"selectionchange":if(Ff)break;case"keydown":case"keyup":rr($t,_,Dt)}var kr;if(yh)e:{switch(g){case"compositionstart":var ci="onCompositionStart";break e;case"compositionend":ci="onCompositionEnd";break e;case"compositionupdate":ci="onCompositionUpdate";break e}ci=void 0}else Bd?tg(g,_)&&(ci="onCompositionEnd"):g==="keydown"&&_.keyCode===229&&(ci="onCompositionStart");ci&&($o&&_.locale!=="ko"&&(Bd||ci!=="onCompositionStart"?ci==="onCompositionEnd"&&Bd&&(kr=$i()):(mh=Dt,iA="value"in mh?mh.value:mh.textContent,Bd=!0)),Mn=fb(lt,ci),0<Mn.length&&(ci=new cl(ci,g,null,_,Dt),$t.push({event:ci,listeners:Mn}),kr?ci.data=kr:(kr=ng(_),kr!==null&&(ci.data=kr)))),(kr=Id?ha(g,_):hA(g,_))&&(ci=fb(lt,"onBeforeInput"),0<ci.length&&(Mn=new cl("onBeforeInput","beforeinput",null,_,Dt),$t.push({event:Mn,listeners:ci}),Mn.data=kr)),qm($t,g,lt,_,Dt)}L4($t,b)})}function fc(g,b,_){return{instance:g,listener:b,currentTarget:_}}function fb(g,b){for(var _=b+"Capture",R=[];g!==null;){var Q=g,K=Q.stateNode;if(Q=Q.tag,Q!==5&&Q!==26&&Q!==27||K===null||(Q=wd(g,_),Q!=null&&R.unshift(fc(g,Q,K)),Q=wd(g,b),Q!=null&&R.push(fc(g,Q,K))),g.tag===3)return R;g=g.return}return[]}function FC(g){if(g===null)return null;do g=g.return;while(g&&g.tag!==5&&g.tag!==27);return g||null}function Ls(g,b,_,R,Q){for(var K=b._reactName,oe=[];_!==null&&_!==R;){var ye=_,Ne=ye.alternate,lt=ye.stateNode;if(ye=ye.tag,Ne!==null&&Ne===R)break;ye!==5&&ye!==26&&ye!==27||lt===null||(Ne=lt,Q?(lt=wd(_,K),lt!=null&&oe.unshift(fc(_,lt,Ne))):Q||(lt=wd(_,K),lt!=null&&oe.push(fc(_,lt,Ne)))),_=_.return}oe.length!==0&&g.push({event:b,listeners:oe})}var oo=/\r\n?/g,F4=/\u0000|\uFFFD/g;function $4(g){return(typeof g=="string"?g:""+g).replace(oo,`
`).replace(F4,"")}function z4(g,b){return b=$4(b),$4(g)===b}function ss(g,b,_,R,Q,K){switch(_){case"children":typeof R=="string"?b==="body"||b==="textarea"&&R===""||Qr(g,R):(typeof R=="number"||typeof R=="bigint")&&b!=="body"&&Qr(g,""+R);break;case"className":he(g,"class",R);break;case"tabIndex":he(g,"tabindex",R);break;case"dir":case"role":case"viewBox":case"width":case"height":he(g,_,R);break;case"style":Mc(g,R,K);break;case"data":if(b!=="object"){he(g,"data",R);break}case"src":case"href":if(R===""&&(b!=="a"||_!=="href")){g.removeAttribute(_);break}if(R==null||typeof R=="function"||typeof R=="symbol"||typeof R=="boolean"){g.removeAttribute(_);break}R=Jp(""+R),g.setAttribute(_,R);break;case"action":case"formAction":if(typeof R=="function"){g.setAttribute(_,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof K=="function"&&(_==="formAction"?(b!=="input"&&ss(g,b,"name",Q.name,Q,null),ss(g,b,"formEncType",Q.formEncType,Q,null),ss(g,b,"formMethod",Q.formMethod,Q,null),ss(g,b,"formTarget",Q.formTarget,Q,null)):(ss(g,b,"encType",Q.encType,Q,null),ss(g,b,"method",Q.method,Q,null),ss(g,b,"target",Q.target,Q,null)));if(R==null||typeof R=="symbol"||typeof R=="boolean"){g.removeAttribute(_);break}R=Jp(""+R),g.setAttribute(_,R);break;case"onClick":R!=null&&(g.onclick=kc);break;case"onScroll":R!=null&&ti("scroll",g);break;case"onScrollEnd":R!=null&&ti("scrollend",g);break;case"dangerouslySetInnerHTML":if(R!=null){if(typeof R!="object"||!("__html"in R))throw Error(r(61));if(_=R.__html,_!=null){if(Q.children!=null)throw Error(r(60));g.innerHTML=_}}break;case"multiple":g.multiple=R&&typeof R!="function"&&typeof R!="symbol";break;case"muted":g.muted=R&&typeof R!="function"&&typeof R!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(R==null||typeof R=="function"||typeof R=="boolean"||typeof R=="symbol"){g.removeAttribute("xlink:href");break}_=Jp(""+R),g.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",_);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":R!=null&&typeof R!="function"&&typeof R!="symbol"?g.setAttribute(_,""+R):g.removeAttribute(_);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":R&&typeof R!="function"&&typeof R!="symbol"?g.setAttribute(_,""):g.removeAttribute(_);break;case"capture":case"download":R===!0?g.setAttribute(_,""):R!==!1&&R!=null&&typeof R!="function"&&typeof R!="symbol"?g.setAttribute(_,R):g.removeAttribute(_);break;case"cols":case"rows":case"size":case"span":R!=null&&typeof R!="function"&&typeof R!="symbol"&&!isNaN(R)&&1<=R?g.setAttribute(_,R):g.removeAttribute(_);break;case"rowSpan":case"start":R==null||typeof R=="function"||typeof R=="symbol"||isNaN(R)?g.removeAttribute(_):g.setAttribute(_,R);break;case"popover":ti("beforetoggle",g),ti("toggle",g),bn(g,"popover",R);break;case"xlinkActuate":pe(g,"http://www.w3.org/1999/xlink","xlink:actuate",R);break;case"xlinkArcrole":pe(g,"http://www.w3.org/1999/xlink","xlink:arcrole",R);break;case"xlinkRole":pe(g,"http://www.w3.org/1999/xlink","xlink:role",R);break;case"xlinkShow":pe(g,"http://www.w3.org/1999/xlink","xlink:show",R);break;case"xlinkTitle":pe(g,"http://www.w3.org/1999/xlink","xlink:title",R);break;case"xlinkType":pe(g,"http://www.w3.org/1999/xlink","xlink:type",R);break;case"xmlBase":pe(g,"http://www.w3.org/XML/1998/namespace","xml:base",R);break;case"xmlLang":pe(g,"http://www.w3.org/XML/1998/namespace","xml:lang",R);break;case"xmlSpace":pe(g,"http://www.w3.org/XML/1998/namespace","xml:space",R);break;case"is":bn(g,"is",R);break;case"innerText":case"textContent":break;default:(!(2<_.length)||_[0]!=="o"&&_[0]!=="O"||_[1]!=="n"&&_[1]!=="N")&&(_=mv.get(_)||_,bn(g,_,R))}}function PS(g,b,_,R,Q,K){switch(_){case"style":Mc(g,R,K);break;case"dangerouslySetInnerHTML":if(R!=null){if(typeof R!="object"||!("__html"in R))throw Error(r(61));if(_=R.__html,_!=null){if(Q.children!=null)throw Error(r(60));g.innerHTML=_}}break;case"children":typeof R=="string"?Qr(g,R):(typeof R=="number"||typeof R=="bigint")&&Qr(g,""+R);break;case"onScroll":R!=null&&ti("scroll",g);break;case"onScrollEnd":R!=null&&ti("scrollend",g);break;case"onClick":R!=null&&(g.onclick=kc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!dt.hasOwnProperty(_))e:{if(_[0]==="o"&&_[1]==="n"&&(Q=_.endsWith("Capture"),b=_.slice(2,Q?_.length-7:void 0),K=g[Hi]||null,K=K!=null?K[_]:null,typeof K=="function"&&g.removeEventListener(b,K,Q),typeof R=="function")){typeof K!="function"&&K!==null&&(_ in g?g[_]=null:g.hasAttribute(_)&&g.removeAttribute(_)),g.addEventListener(b,R,Q);break e}_ in g?g[_]=R:R===!0?g.setAttribute(_,""):bn(g,_,R)}}}function Xa(g,b,_){switch(b){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ti("error",g),ti("load",g);var R=!1,Q=!1,K;for(K in _)if(_.hasOwnProperty(K)){var oe=_[K];if(oe!=null)switch(K){case"src":R=!0;break;case"srcSet":Q=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,b));default:ss(g,b,K,oe,_,null)}}Q&&ss(g,b,"srcSet",_.srcSet,_,null),R&&ss(g,b,"src",_.src,_,null);return;case"input":ti("invalid",g);var ye=K=oe=Q=null,Ne=null,lt=null;for(R in _)if(_.hasOwnProperty(R)){var Dt=_[R];if(Dt!=null)switch(R){case"name":Q=Dt;break;case"type":oe=Dt;break;case"checked":Ne=Dt;break;case"defaultChecked":lt=Dt;break;case"value":K=Dt;break;case"defaultValue":ye=Dt;break;case"children":case"dangerouslySetInnerHTML":if(Dt!=null)throw Error(r(137,b));break;default:ss(g,b,R,Dt,_,null)}}En(g,K,ye,Ne,lt,oe,Q,!1);return;case"select":ti("invalid",g),R=oe=K=null;for(Q in _)if(_.hasOwnProperty(Q)&&(ye=_[Q],ye!=null))switch(Q){case"value":K=ye;break;case"defaultValue":oe=ye;break;case"multiple":R=ye;default:ss(g,b,Q,ye,_,null)}b=K,_=oe,g.multiple=!!R,b!=null?jr(g,!!R,b,!1):_!=null&&jr(g,!!R,_,!0);return;case"textarea":ti("invalid",g),K=Q=R=null;for(oe in _)if(_.hasOwnProperty(oe)&&(ye=_[oe],ye!=null))switch(oe){case"value":R=ye;break;case"defaultValue":Q=ye;break;case"children":K=ye;break;case"dangerouslySetInnerHTML":if(ye!=null)throw Error(r(91));break;default:ss(g,b,oe,ye,_,null)}Nr(g,R,Q,K);return;case"option":for(Ne in _)_.hasOwnProperty(Ne)&&(R=_[Ne],R!=null)&&(Ne==="selected"?g.selected=R&&typeof R!="function"&&typeof R!="symbol":ss(g,b,Ne,R,_,null));return;case"dialog":ti("beforetoggle",g),ti("toggle",g),ti("cancel",g),ti("close",g);break;case"iframe":case"object":ti("load",g);break;case"video":case"audio":for(R=0;R<hb.length;R++)ti(hb[R],g);break;case"image":ti("error",g),ti("load",g);break;case"details":ti("toggle",g);break;case"embed":case"source":case"link":ti("error",g),ti("load",g);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(lt in _)if(_.hasOwnProperty(lt)&&(R=_[lt],R!=null))switch(lt){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,b));default:ss(g,b,lt,R,_,null)}return;default:if(Yo(b)){for(Dt in _)_.hasOwnProperty(Dt)&&(R=_[Dt],R!==void 0&&PS(g,b,Dt,R,_,void 0));return}}for(ye in _)_.hasOwnProperty(ye)&&(R=_[ye],R!=null&&ss(g,b,ye,R,_,null))}function MM(g,b,_,R){switch(b){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var Q=null,K=null,oe=null,ye=null,Ne=null,lt=null,Dt=null;for(bt in _){var $t=_[bt];if(_.hasOwnProperty(bt)&&$t!=null)switch(bt){case"checked":break;case"value":break;case"defaultValue":Ne=$t;default:R.hasOwnProperty(bt)||ss(g,b,bt,null,R,$t)}}for(var ft in R){var bt=R[ft];if($t=_[ft],R.hasOwnProperty(ft)&&(bt!=null||$t!=null))switch(ft){case"type":K=bt;break;case"name":Q=bt;break;case"checked":lt=bt;break;case"defaultChecked":Dt=bt;break;case"value":oe=bt;break;case"defaultValue":ye=bt;break;case"children":case"dangerouslySetInnerHTML":if(bt!=null)throw Error(r(137,b));break;default:bt!==$t&&ss(g,b,ft,bt,R,$t)}}Jt(g,oe,ye,Ne,lt,Dt,K,Q);return;case"select":bt=oe=ye=ft=null;for(K in _)if(Ne=_[K],_.hasOwnProperty(K)&&Ne!=null)switch(K){case"value":break;case"multiple":bt=Ne;default:R.hasOwnProperty(K)||ss(g,b,K,null,R,Ne)}for(Q in R)if(K=R[Q],Ne=_[Q],R.hasOwnProperty(Q)&&(K!=null||Ne!=null))switch(Q){case"value":ft=K;break;case"defaultValue":ye=K;break;case"multiple":oe=K;default:K!==Ne&&ss(g,b,Q,K,R,Ne)}b=ye,_=oe,R=bt,ft!=null?jr(g,!!_,ft,!1):!!R!=!!_&&(b!=null?jr(g,!!_,b,!0):jr(g,!!_,_?[]:"",!1));return;case"textarea":bt=ft=null;for(ye in _)if(Q=_[ye],_.hasOwnProperty(ye)&&Q!=null&&!R.hasOwnProperty(ye))switch(ye){case"value":break;case"children":break;default:ss(g,b,ye,null,R,Q)}for(oe in R)if(Q=R[oe],K=_[oe],R.hasOwnProperty(oe)&&(Q!=null||K!=null))switch(oe){case"value":ft=Q;break;case"defaultValue":bt=Q;break;case"children":break;case"dangerouslySetInnerHTML":if(Q!=null)throw Error(r(91));break;default:Q!==K&&ss(g,b,oe,Q,R,K)}_n(g,ft,bt);return;case"option":for(var wn in _)ft=_[wn],_.hasOwnProperty(wn)&&ft!=null&&!R.hasOwnProperty(wn)&&(wn==="selected"?g.selected=!1:ss(g,b,wn,null,R,ft));for(Ne in R)ft=R[Ne],bt=_[Ne],R.hasOwnProperty(Ne)&&ft!==bt&&(ft!=null||bt!=null)&&(Ne==="selected"?g.selected=ft&&typeof ft!="function"&&typeof ft!="symbol":ss(g,b,Ne,ft,R,bt));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Yn in _)ft=_[Yn],_.hasOwnProperty(Yn)&&ft!=null&&!R.hasOwnProperty(Yn)&&ss(g,b,Yn,null,R,ft);for(lt in R)if(ft=R[lt],bt=_[lt],R.hasOwnProperty(lt)&&ft!==bt&&(ft!=null||bt!=null))switch(lt){case"children":case"dangerouslySetInnerHTML":if(ft!=null)throw Error(r(137,b));break;default:ss(g,b,lt,ft,R,bt)}return;default:if(Yo(b)){for(var os in _)ft=_[os],_.hasOwnProperty(os)&&ft!==void 0&&!R.hasOwnProperty(os)&&PS(g,b,os,void 0,R,ft);for(Dt in R)ft=R[Dt],bt=_[Dt],!R.hasOwnProperty(Dt)||ft===bt||ft===void 0&&bt===void 0||PS(g,b,Dt,ft,R,bt);return}}for(var Ye in _)ft=_[Ye],_.hasOwnProperty(Ye)&&ft!=null&&!R.hasOwnProperty(Ye)&&ss(g,b,Ye,null,R,ft);for($t in R)ft=R[$t],bt=_[$t],!R.hasOwnProperty($t)||ft===bt||ft==null&&bt==null||ss(g,b,$t,ft,R,bt)}function RS(g){switch(g){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function pb(){if(typeof performance.getEntriesByType=="function"){for(var g=0,b=0,_=performance.getEntriesByType("resource"),R=0;R<_.length;R++){var Q=_[R],K=Q.transferSize,oe=Q.initiatorType,ye=Q.duration;if(K&&ye&&RS(oe)){for(oe=0,ye=Q.responseEnd,R+=1;R<_.length;R++){var Ne=_[R],lt=Ne.startTime;if(lt>ye)break;var Dt=Ne.transferSize,$t=Ne.initiatorType;Dt&&RS($t)&&(Ne=Ne.responseEnd,oe+=Dt*(Ne<ye?1:(ye-lt)/(Ne-lt)))}if(--R,b+=8*(K+oe)/(Q.duration/1e3),g++,10<g)break}}if(0<g)return b/g/1e6}return navigator.connection&&(g=navigator.connection.downlink,typeof g=="number")?g:5}var gb=null,NS=null;function mb(g){return g.nodeType===9?g:g.ownerDocument}function Ab(g){switch(g){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Bu(g,b){if(g===0)switch(b){case"svg":return 1;case"math":return 2;default:return 0}return g===1&&b==="foreignObject"?0:g}function Ig(g,b){return g==="textarea"||g==="noscript"||typeof b.children=="string"||typeof b.children=="number"||typeof b.children=="bigint"||typeof b.dangerouslySetInnerHTML=="object"&&b.dangerouslySetInnerHTML!==null&&b.dangerouslySetInnerHTML.__html!=null}var LS=null;function kM(){var g=window.event;return g&&g.type==="popstate"?g===LS?!1:(LS=g,!0):(LS=null,!1)}var O4=typeof setTimeout=="function"?setTimeout:void 0,PM=typeof clearTimeout=="function"?clearTimeout:void 0,j4=typeof Promise=="function"?Promise:void 0,Q4=typeof queueMicrotask=="function"?queueMicrotask:typeof j4<"u"?function(g){return j4.resolve(null).then(g).catch(dp)}:O4;function dp(g){setTimeout(function(){throw g})}function sr(g){return g==="head"}function FS(g,b){var _=b,R=0;do{var Q=_.nextSibling;if(g.removeChild(_),Q&&Q.nodeType===8)if(_=Q.data,_==="/$"||_==="/&"){if(R===0){g.removeChild(Q),sy(b);return}R--}else if(_==="$"||_==="$?"||_==="$~"||_==="$!"||_==="&")R++;else if(_==="html")yb(g.ownerDocument.documentElement);else if(_==="head"){_=g.ownerDocument.head,yb(_);for(var K=_.firstChild;K;){var oe=K.nextSibling,ye=K.nodeName;K[Nl]||ye==="SCRIPT"||ye==="STYLE"||ye==="LINK"&&K.rel.toLowerCase()==="stylesheet"||_.removeChild(K),K=oe}}else _==="body"&&yb(g.ownerDocument.body);_=Q}while(_);sy(b)}function pc(g,b){var _=g;g=0;do{var R=_.nextSibling;if(_.nodeType===1?b?(_._stashedDisplay=_.style.display,_.style.display="none"):(_.style.display=_._stashedDisplay||"",_.getAttribute("style")===""&&_.removeAttribute("style")):_.nodeType===3&&(b?(_._stashedText=_.nodeValue,_.nodeValue=""):_.nodeValue=_._stashedText||""),R&&R.nodeType===8)if(_=R.data,_==="/$"){if(g===0)break;g--}else _!=="$"&&_!=="$?"&&_!=="$~"&&_!=="$!"||g++;_=R}while(_)}function $C(g){var b=g.firstChild;for(b&&b.nodeType===10&&(b=b.nextSibling);b;){var _=b;switch(b=b.nextSibling,_.nodeName){case"HTML":case"HEAD":case"BODY":$C(_),au(_);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(_.rel.toLowerCase()==="stylesheet")continue}g.removeChild(_)}}function RM(g,b,_,R){for(;g.nodeType===1;){var Q=_;if(g.nodeName.toLowerCase()!==b.toLowerCase()){if(!R&&(g.nodeName!=="INPUT"||g.type!=="hidden"))break}else if(R){if(!g[Nl])switch(b){case"meta":if(!g.hasAttribute("itemprop"))break;return g;case"link":if(K=g.getAttribute("rel"),K==="stylesheet"&&g.hasAttribute("data-precedence"))break;if(K!==Q.rel||g.getAttribute("href")!==(Q.href==null||Q.href===""?null:Q.href)||g.getAttribute("crossorigin")!==(Q.crossOrigin==null?null:Q.crossOrigin)||g.getAttribute("title")!==(Q.title==null?null:Q.title))break;return g;case"style":if(g.hasAttribute("data-precedence"))break;return g;case"script":if(K=g.getAttribute("src"),(K!==(Q.src==null?null:Q.src)||g.getAttribute("type")!==(Q.type==null?null:Q.type)||g.getAttribute("crossorigin")!==(Q.crossOrigin==null?null:Q.crossOrigin))&&K&&g.hasAttribute("async")&&!g.hasAttribute("itemprop"))break;return g;default:return g}}else if(b==="input"&&g.type==="hidden"){var K=Q.name==null?null:""+Q.name;if(Q.type==="hidden"&&g.getAttribute("name")===K)return g}else return g;if(g=td(g.nextSibling),g===null)break}return null}function Yi(g,b,_){if(b==="")return null;for(;g.nodeType!==3;)if((g.nodeType!==1||g.nodeName!=="INPUT"||g.type!=="hidden")&&!_||(g=td(g.nextSibling),g===null))return null;return g}function U4(g,b){for(;g.nodeType!==8;)if((g.nodeType!==1||g.nodeName!=="INPUT"||g.type!=="hidden")&&!b||(g=td(g.nextSibling),g===null))return null;return g}function zC(g){return g.data==="$?"||g.data==="$~"}function XA(g){return g.data==="$!"||g.data==="$?"&&g.ownerDocument.readyState!=="loading"}function NM(g,b){var _=g.ownerDocument;if(g.data==="$~")g._reactRetry=b;else if(g.data!=="$?"||_.readyState!=="loading")b();else{var R=function(){b(),_.removeEventListener("DOMContentLoaded",R)};_.addEventListener("DOMContentLoaded",R),g._reactRetry=R}}function td(g){for(;g!=null;g=g.nextSibling){var b=g.nodeType;if(b===1||b===3)break;if(b===8){if(b=g.data,b==="$"||b==="$!"||b==="$?"||b==="$~"||b==="&"||b==="F!"||b==="F")break;if(b==="/$"||b==="/&")return null}}return g}var $S=null;function H4(g){g=g.nextSibling;for(var b=0;g;){if(g.nodeType===8){var _=g.data;if(_==="/$"||_==="/&"){if(b===0)return td(g.nextSibling);b--}else _!=="$"&&_!=="$!"&&_!=="$?"&&_!=="$~"&&_!=="&"||b++}g=g.nextSibling}return null}function V4(g){g=g.previousSibling;for(var b=0;g;){if(g.nodeType===8){var _=g.data;if(_==="$"||_==="$!"||_==="$?"||_==="$~"||_==="&"){if(b===0)return g;b--}else _!=="/$"&&_!=="/&"||b++}g=g.previousSibling}return null}function G4(g,b,_){switch(b=mb(_),g){case"html":if(g=b.documentElement,!g)throw Error(r(452));return g;case"head":if(g=b.head,!g)throw Error(r(453));return g;case"body":if(g=b.body,!g)throw Error(r(454));return g;default:throw Error(r(451))}}function yb(g){for(var b=g.attributes;b.length;)g.removeAttributeNode(b[0]);au(g)}var nd=new Map,K4=new Set;function OC(g){return typeof g.getRootNode=="function"?g.getRootNode():g.nodeType===9?g:g.ownerDocument}var hp=G.d;G.d={f:LM,r:FM,D:zS,C:$M,L:zM,m:OM,X:Du,S:Ia,M:jM};function LM(){var g=hp.f(),b=be();return g||b}function FM(g){var b=si(g);b!==null&&b.tag===5&&b.type==="form"?zA(b):hp.r(g)}var Bg=typeof document>"u"?null:document;function W4(g,b,_){var R=Bg;if(R&&typeof b=="string"&&b){var Q=xt(b);Q='link[rel="'+g+'"][href="'+Q+'"]',typeof _=="string"&&(Q+='[crossorigin="'+_+'"]'),K4.has(Q)||(K4.add(Q),g={rel:g,crossOrigin:_,href:b},R.querySelector(Q)===null&&(b=R.createElement("link"),Xa(b,"link",g),me(b),R.head.appendChild(b)))}}function zS(g){hp.D(g),W4("dns-prefetch",g,null)}function $M(g,b){hp.C(g,b),W4("preconnect",g,b)}function zM(g,b,_){hp.L(g,b,_);var R=Bg;if(R&&g&&b){var Q='link[rel="preload"][as="'+xt(b)+'"]';b==="image"&&_&&_.imageSrcSet?(Q+='[imagesrcset="'+xt(_.imageSrcSet)+'"]',typeof _.imageSizes=="string"&&(Q+='[imagesizes="'+xt(_.imageSizes)+'"]')):Q+='[href="'+xt(g)+'"]';var K=Q;switch(b){case"style":K=JA(g);break;case"script":K=ey(g)}nd.has(K)||(g=d({rel:"preload",href:b==="image"&&_&&_.imageSrcSet?void 0:g,as:b},_),nd.set(K,g),R.querySelector(Q)!==null||b==="style"&&R.querySelector(ZA(K))||b==="script"&&R.querySelector(ty(K))||(b=R.createElement("link"),Xa(b,"link",g),me(b),R.head.appendChild(b)))}}function OM(g,b){hp.m(g,b);var _=Bg;if(_&&g){var R=b&&typeof b.as=="string"?b.as:"script",Q='link[rel="modulepreload"][as="'+xt(R)+'"][href="'+xt(g)+'"]',K=Q;switch(R){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":K=ey(g)}if(!nd.has(K)&&(g=d({rel:"modulepreload",href:g},b),nd.set(K,g),_.querySelector(Q)===null)){switch(R){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(_.querySelector(ty(K)))return}R=_.createElement("link"),Xa(R,"link",g),me(R),_.head.appendChild(R)}}}function Ia(g,b,_){hp.S(g,b,_);var R=Bg;if(R&&g){var Q=xo(R).hoistableStyles,K=JA(g);b=b||"default";var oe=Q.get(K);if(!oe){var ye={loading:0,preload:null};if(oe=R.querySelector(ZA(K)))ye.loading=5;else{g=d({rel:"stylesheet",href:g,"data-precedence":b},_),(_=nd.get(K))&&OS(g,_);var Ne=oe=R.createElement("link");me(Ne),Xa(Ne,"link",g),Ne._p=new Promise(function(lt,Dt){Ne.onload=lt,Ne.onerror=Dt}),Ne.addEventListener("load",function(){ye.loading|=1}),Ne.addEventListener("error",function(){ye.loading|=2}),ye.loading|=4,jC(oe,b,R)}oe={type:"stylesheet",instance:oe,count:1,state:ye},Q.set(K,oe)}}}function Du(g,b){hp.X(g,b);var _=Bg;if(_&&g){var R=xo(_).hoistableScripts,Q=ey(g),K=R.get(Q);K||(K=_.querySelector(ty(Q)),K||(g=d({src:g,async:!0},b),(b=nd.get(Q))&&QC(g,b),K=_.createElement("script"),me(K),Xa(K,"link",g),_.head.appendChild(K)),K={type:"script",instance:K,count:1,state:null},R.set(Q,K))}}function jM(g,b){hp.M(g,b);var _=Bg;if(_&&g){var R=xo(_).hoistableScripts,Q=ey(g),K=R.get(Q);K||(K=_.querySelector(ty(Q)),K||(g=d({src:g,async:!0,type:"module"},b),(b=nd.get(Q))&&QC(g,b),K=_.createElement("script"),me(K),Xa(K,"link",g),_.head.appendChild(K)),K={type:"script",instance:K,count:1,state:null},R.set(Q,K))}}function q4(g,b,_,R){var Q=(Q=ae.current)?OC(Q):null;if(!Q)throw Error(r(446));switch(g){case"meta":case"title":return null;case"style":return typeof _.precedence=="string"&&typeof _.href=="string"?(b=JA(_.href),_=xo(Q).hoistableStyles,R=_.get(b),R||(R={type:"style",instance:null,count:0,state:null},_.set(b,R)),R):{type:"void",instance:null,count:0,state:null};case"link":if(_.rel==="stylesheet"&&typeof _.href=="string"&&typeof _.precedence=="string"){g=JA(_.href);var K=xo(Q).hoistableStyles,oe=K.get(g);if(oe||(Q=Q.ownerDocument||Q,oe={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},K.set(g,oe),(K=Q.querySelector(ZA(g)))&&!K._p&&(oe.instance=K,oe.state.loading=5),nd.has(g)||(_={rel:"preload",as:"style",href:_.href,crossOrigin:_.crossOrigin,integrity:_.integrity,media:_.media,hrefLang:_.hrefLang,referrerPolicy:_.referrerPolicy},nd.set(g,_),K||QM(Q,g,_,oe.state))),b&&R===null)throw Error(r(528,""));return oe}if(b&&R!==null)throw Error(r(529,""));return null;case"script":return b=_.async,_=_.src,typeof _=="string"&&b&&typeof b!="function"&&typeof b!="symbol"?(b=ey(_),_=xo(Q).hoistableScripts,R=_.get(b),R||(R={type:"script",instance:null,count:0,state:null},_.set(b,R)),R):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,g))}}function JA(g){return'href="'+xt(g)+'"'}function ZA(g){return'link[rel="stylesheet"]['+g+"]"}function Y4(g){return d({},g,{"data-precedence":g.precedence,precedence:null})}function QM(g,b,_,R){g.querySelector('link[rel="preload"][as="style"]['+b+"]")?R.loading=1:(b=g.createElement("link"),R.preload=b,b.addEventListener("load",function(){return R.loading|=1}),b.addEventListener("error",function(){return R.loading|=2}),Xa(b,"link",_),me(b),g.head.appendChild(b))}function ey(g){return'[src="'+xt(g)+'"]'}function ty(g){return"script[async]"+g}function X4(g,b,_){if(b.count++,b.instance===null)switch(b.type){case"style":var R=g.querySelector('style[data-href~="'+xt(_.href)+'"]');if(R)return b.instance=R,me(R),R;var Q=d({},_,{"data-href":_.href,"data-precedence":_.precedence,href:null,precedence:null});return R=(g.ownerDocument||g).createElement("style"),me(R),Xa(R,"style",Q),jC(R,_.precedence,g),b.instance=R;case"stylesheet":Q=JA(_.href);var K=g.querySelector(ZA(Q));if(K)return b.state.loading|=4,b.instance=K,me(K),K;R=Y4(_),(Q=nd.get(Q))&&OS(R,Q),K=(g.ownerDocument||g).createElement("link"),me(K);var oe=K;return oe._p=new Promise(function(ye,Ne){oe.onload=ye,oe.onerror=Ne}),Xa(K,"link",R),b.state.loading|=4,jC(K,_.precedence,g),b.instance=K;case"script":return K=ey(_.src),(Q=g.querySelector(ty(K)))?(b.instance=Q,me(Q),Q):(R=_,(Q=nd.get(K))&&(R=d({},_),QC(R,Q)),g=g.ownerDocument||g,Q=g.createElement("script"),me(Q),Xa(Q,"link",R),g.head.appendChild(Q),b.instance=Q);case"void":return null;default:throw Error(r(443,b.type))}else b.type==="stylesheet"&&(b.state.loading&4)===0&&(R=b.instance,b.state.loading|=4,jC(R,_.precedence,g));return b.instance}function jC(g,b,_){for(var R=_.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),Q=R.length?R[R.length-1]:null,K=Q,oe=0;oe<R.length;oe++){var ye=R[oe];if(ye.dataset.precedence===b)K=ye;else if(K!==Q)break}K?K.parentNode.insertBefore(g,K.nextSibling):(b=_.nodeType===9?_.head:_,b.insertBefore(g,b.firstChild))}function OS(g,b){g.crossOrigin==null&&(g.crossOrigin=b.crossOrigin),g.referrerPolicy==null&&(g.referrerPolicy=b.referrerPolicy),g.title==null&&(g.title=b.title)}function QC(g,b){g.crossOrigin==null&&(g.crossOrigin=b.crossOrigin),g.referrerPolicy==null&&(g.referrerPolicy=b.referrerPolicy),g.integrity==null&&(g.integrity=b.integrity)}var vb=null;function J4(g,b,_){if(vb===null){var R=new Map,Q=vb=new Map;Q.set(_,R)}else Q=vb,R=Q.get(_),R||(R=new Map,Q.set(_,R));if(R.has(g))return R;for(R.set(g,null),_=_.getElementsByTagName(g),Q=0;Q<_.length;Q++){var K=_[Q];if(!(K[Nl]||K[Wn]||g==="link"&&K.getAttribute("rel")==="stylesheet")&&K.namespaceURI!=="http://www.w3.org/2000/svg"){var oe=K.getAttribute(b)||"";oe=g+oe;var ye=R.get(oe);ye?ye.push(K):R.set(oe,[K])}}return R}function Z4(g,b,_){g=g.ownerDocument||g,g.head.insertBefore(_,b==="title"?g.querySelector("head > title"):null)}function UM(g,b,_){if(_===1||b.itemProp!=null)return!1;switch(g){case"meta":case"title":return!0;case"style":if(typeof b.precedence!="string"||typeof b.href!="string"||b.href==="")break;return!0;case"link":if(typeof b.rel!="string"||typeof b.href!="string"||b.href===""||b.onLoad||b.onError)break;return b.rel==="stylesheet"?(g=b.disabled,typeof b.precedence=="string"&&g==null):!0;case"script":if(b.async&&typeof b.async!="function"&&typeof b.async!="symbol"&&!b.onLoad&&!b.onError&&b.src&&typeof b.src=="string")return!0}return!1}function e2(g){return!(g.type==="stylesheet"&&(g.state.loading&3)===0)}function ny(g,b,_,R){if(_.type==="stylesheet"&&(typeof R.media!="string"||matchMedia(R.media).matches!==!1)&&(_.state.loading&4)===0){if(_.instance===null){var Q=JA(R.href),K=b.querySelector(ZA(Q));if(K){b=K._p,b!==null&&typeof b=="object"&&typeof b.then=="function"&&(g.count++,g=UC.bind(g),b.then(g,g)),_.state.loading|=4,_.instance=K,me(K);return}K=b.ownerDocument||b,R=Y4(R),(Q=nd.get(Q))&&OS(R,Q),K=K.createElement("link"),me(K);var oe=K;oe._p=new Promise(function(ye,Ne){oe.onload=ye,oe.onerror=Ne}),Xa(K,"link",R),_.instance=K}g.stylesheets===null&&(g.stylesheets=new Map),g.stylesheets.set(_,b),(b=_.state.preload)&&(_.state.loading&3)===0&&(g.count++,_=UC.bind(g),b.addEventListener("load",_),b.addEventListener("error",_))}}var jS=0;function HM(g,b){return g.stylesheets&&g.count===0&&VC(g,g.stylesheets),0<g.count||0<g.imgCount?function(_){var R=setTimeout(function(){if(g.stylesheets&&VC(g,g.stylesheets),g.unsuspend){var K=g.unsuspend;g.unsuspend=null,K()}},6e4+b);0<g.imgBytes&&jS===0&&(jS=62500*pb());var Q=setTimeout(function(){if(g.waitingForImages=!1,g.count===0&&(g.stylesheets&&VC(g,g.stylesheets),g.unsuspend)){var K=g.unsuspend;g.unsuspend=null,K()}},(g.imgBytes>jS?50:800)+b);return g.unsuspend=_,function(){g.unsuspend=null,clearTimeout(R),clearTimeout(Q)}}:null}function UC(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)VC(this,this.stylesheets);else if(this.unsuspend){var g=this.unsuspend;this.unsuspend=null,g()}}}var HC=null;function VC(g,b){g.stylesheets=null,g.unsuspend!==null&&(g.count++,HC=new Map,b.forEach(t2,g),HC=null,UC.call(g))}function t2(g,b){if(!(b.state.loading&4)){var _=HC.get(g);if(_)var R=_.get(null);else{_=new Map,HC.set(g,_);for(var Q=g.querySelectorAll("link[data-precedence],style[data-precedence]"),K=0;K<Q.length;K++){var oe=Q[K];(oe.nodeName==="LINK"||oe.getAttribute("media")!=="not all")&&(_.set(oe.dataset.precedence,oe),R=oe)}R&&_.set(null,R)}Q=b.instance,oe=Q.getAttribute("data-precedence"),K=_.get(oe)||R,K===R&&_.set(null,Q),_.set(oe,Q),this.count++,R=UC.bind(this),Q.addEventListener("load",R),Q.addEventListener("error",R),K?K.parentNode.insertBefore(Q,K.nextSibling):(g=g.nodeType===9?g.head:g,g.insertBefore(Q,g.firstChild)),b.state.loading|=4}}var ry={$$typeof:E,Provider:null,Consumer:null,_currentValue:q,_currentValue2:q,_threadCount:0};function VM(g,b,_,R,Q,K,oe,ye,Ne){this.tag=1,this.containerInfo=g,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Rt(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Rt(0),this.hiddenUpdates=Rt(null),this.identifierPrefix=R,this.onUncaughtError=Q,this.onCaughtError=K,this.onRecoverableError=oe,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=Ne,this.incompleteTransitions=new Map}function n2(g,b,_,R,Q,K,oe,ye,Ne,lt,Dt,$t){return g=new VM(g,b,_,oe,Ne,lt,Dt,$t,ye),b=1,K===!0&&(b|=24),K=Eo(3,null,null,b),g.current=K,K.stateNode=g,b=Zu(),b.refCount++,g.pooledCache=b,b.refCount++,K.memoizedState={element:R,isDehydrated:_,cache:b},Qc(K),g}function r2(g){return g?(g=Yu,g):Yu}function i2(g,b,_,R,Q,K){Q=r2(Q),R.context===null?R.context=Q:R.pendingContext=Q,R=Uc(b),R.payload={element:_},K=K===void 0?null:K,K!==null&&(R.callback=K),_=yu(g,R,b),_!==null&&(w(_,g,b),kh(_,g,b))}function s2(g,b){if(g=g.memoizedState,g!==null&&g.dehydrated!==null){var _=g.retryLane;g.retryLane=_!==0&&_<b?_:b}}function QS(g,b){s2(g,b),(g=g.alternate)&&s2(g,b)}function o2(g){if(g.tag===13||g.tag===31){var b=qu(g,67108864);b!==null&&w(b,g,67108864),QS(g,67108864)}}function a2(g){if(g.tag===13||g.tag===31){var b=Ya();b=nr(b);var _=qu(g,b);_!==null&&w(_,g,b),QS(g,b)}}var GC=!0;function GM(g,b,_,R){var Q=O.T;O.T=null;var K=G.p;try{G.p=2,US(g,b,_,R)}finally{G.p=K,O.T=Q}}function KM(g,b,_,R){var Q=O.T;O.T=null;var K=G.p;try{G.p=8,US(g,b,_,R)}finally{G.p=K,O.T=Q}}function US(g,b,_,R){if(GC){var Q=HS(R);if(Q===null)kS(g,b,R,KC,_),u2(g,R);else if(c2(Q,g,b,_,R))R.stopPropagation();else if(u2(g,R),b&4&&-1<WM.indexOf(g)){for(;Q!==null;){var K=si(Q);if(K!==null)switch(K.tag){case 3:if(K=K.stateNode,K.current.memoizedState.isDehydrated){var oe=It(K.pendingLanes);if(oe!==0){var ye=K;for(ye.pendingLanes|=2,ye.entangledLanes|=2;oe;){var Ne=1<<31-wt(oe);ye.entanglements[1]|=Ne,oe&=~Ne}Kh(K),(ai&6)===0&&(_a=se()+500,db(0))}}break;case 31:case 13:ye=qu(K,2),ye!==null&&w(ye,K,2),be(),QS(K,2)}if(K=HS(R),K===null&&kS(g,b,R,KC,_),K===Q)break;Q=K}Q!==null&&R.stopPropagation()}else kS(g,b,R,null,_)}}function HS(g){return g=tA(g),VS(g)}var KC=null;function VS(g){if(KC=null,g=Vi(g),g!==null){var b=s(g);if(b===null)g=null;else{var _=b.tag;if(_===13){if(g=o(b),g!==null)return g;g=null}else if(_===31){if(g=a(b),g!==null)return g;g=null}else if(_===3){if(b.stateNode.current.memoizedState.isDehydrated)return b.tag===3?b.stateNode.containerInfo:null;g=null}else b!==g&&(g=null)}}return KC=g,null}function l2(g){switch(g){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Se()){case De:return 2;case Be:return 8;case ze:case kt:return 32;case Et:return 268435456;default:return 32}default:return 32}}var GS=!1,Dg=null,Tg=null,Mg=null,bb=new Map,xb=new Map,kg=[],WM="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function u2(g,b){switch(g){case"focusin":case"focusout":Dg=null;break;case"dragenter":case"dragleave":Tg=null;break;case"mouseover":case"mouseout":Mg=null;break;case"pointerover":case"pointerout":bb.delete(b.pointerId);break;case"gotpointercapture":case"lostpointercapture":xb.delete(b.pointerId)}}function Ym(g,b,_,R,Q,K){return g===null||g.nativeEvent!==K?(g={blockedOn:b,domEventName:_,eventSystemFlags:R,nativeEvent:K,targetContainers:[Q]},b!==null&&(b=si(b),b!==null&&o2(b)),g):(g.eventSystemFlags|=R,b=g.targetContainers,Q!==null&&b.indexOf(Q)===-1&&b.push(Q),g)}function c2(g,b,_,R,Q){switch(b){case"focusin":return Dg=Ym(Dg,g,b,_,R,Q),!0;case"dragenter":return Tg=Ym(Tg,g,b,_,R,Q),!0;case"mouseover":return Mg=Ym(Mg,g,b,_,R,Q),!0;case"pointerover":var K=Q.pointerId;return bb.set(K,Ym(bb.get(K)||null,g,b,_,R,Q)),!0;case"gotpointercapture":return K=Q.pointerId,xb.set(K,Ym(xb.get(K)||null,g,b,_,R,Q)),!0}return!1}function KS(g){var b=Vi(g.target);if(b!==null){var _=s(b);if(_!==null){if(b=_.tag,b===13){if(b=o(_),b!==null){g.blockedOn=b,ii(g.priority,function(){a2(_)});return}}else if(b===31){if(b=a(_),b!==null){g.blockedOn=b,ii(g.priority,function(){a2(_)});return}}else if(b===3&&_.stateNode.current.memoizedState.isDehydrated){g.blockedOn=_.tag===3?_.stateNode.containerInfo:null;return}}}g.blockedOn=null}function WC(g){if(g.blockedOn!==null)return!1;for(var b=g.targetContainers;0<b.length;){var _=HS(g.nativeEvent);if(_===null){_=g.nativeEvent;var R=new _.constructor(_.type,_);hm=R,_.target.dispatchEvent(R),hm=null}else return b=si(_),b!==null&&o2(b),g.blockedOn=_,!1;b.shift()}return!0}function d2(g,b,_){WC(g)&&_.delete(b)}function qM(){GS=!1,Dg!==null&&WC(Dg)&&(Dg=null),Tg!==null&&WC(Tg)&&(Tg=null),Mg!==null&&WC(Mg)&&(Mg=null),bb.forEach(d2),xb.forEach(d2)}function iy(g,b){g.blockedOn===b&&(g.blockedOn=null,GS||(GS=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,qM)))}var qC=null;function h2(g){qC!==g&&(qC=g,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){qC===g&&(qC=null);for(var b=0;b<g.length;b+=3){var _=g[b],R=g[b+1],Q=g[b+2];if(typeof R!="function"){if(VS(R||_)===null)continue;break}var K=si(_);K!==null&&(g.splice(b,3),b-=3,Lh(K,{pending:!0,data:Q,method:_.method,action:R},R,Q))}}))}function sy(g){function b(Ne){return iy(Ne,g)}Dg!==null&&iy(Dg,g),Tg!==null&&iy(Tg,g),Mg!==null&&iy(Mg,g),bb.forEach(b),xb.forEach(b);for(var _=0;_<kg.length;_++){var R=kg[_];R.blockedOn===g&&(R.blockedOn=null)}for(;0<kg.length&&(_=kg[0],_.blockedOn===null);)KS(_),_.blockedOn===null&&kg.shift();if(_=(g.ownerDocument||g).$$reactFormReplay,_!=null)for(R=0;R<_.length;R+=3){var Q=_[R],K=_[R+1],oe=Q[Hi]||null;if(typeof K=="function")oe||h2(_);else if(oe){var ye=null;if(K&&K.hasAttribute("formAction")){if(Q=K,oe=K[Hi]||null)ye=oe.formAction;else if(VS(Q)!==null)continue}else ye=oe.action;typeof ye=="function"?_[R+1]=ye:(_.splice(R,3),R-=3),h2(_)}}}function Jl(){function g(K){K.canIntercept&&K.info==="react-transition"&&K.intercept({handler:function(){return new Promise(function(oe){return Q=oe})},focusReset:"manual",scroll:"manual"})}function b(){Q!==null&&(Q(),Q=null),R||setTimeout(_,20)}function _(){if(!R&&!navigation.transition){var K=navigation.currentEntry;K&&K.url!=null&&navigation.navigate(K.url,{state:K.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var R=!1,Q=null;return navigation.addEventListener("navigate",g),navigation.addEventListener("navigatesuccess",b),navigation.addEventListener("navigateerror",b),setTimeout(_,100),function(){R=!0,navigation.removeEventListener("navigate",g),navigation.removeEventListener("navigatesuccess",b),navigation.removeEventListener("navigateerror",b),Q!==null&&(Q(),Q=null)}}}function Cb(g){this._internalRoot=g}YC.prototype.render=Cb.prototype.render=function(g){var b=this._internalRoot;if(b===null)throw Error(r(409));var _=b.current,R=Ya();i2(_,R,g,b,null,null)},YC.prototype.unmount=Cb.prototype.unmount=function(){var g=this._internalRoot;if(g!==null){this._internalRoot=null;var b=g.containerInfo;i2(g.current,2,null,g,null,null),be(),b[fs]=null}};function YC(g){this._internalRoot=g}YC.prototype.unstable_scheduleHydration=function(g){if(g){var b=zr();g={blockedOn:null,target:g,priority:b};for(var _=0;_<kg.length&&b!==0&&b<kg[_].priority;_++);kg.splice(_,0,g),_===0&&KS(g)}};var f2=e.version;if(f2!=="19.2.3")throw Error(r(527,f2,"19.2.3"));G.findDOMNode=function(g){var b=g._reactInternals;if(b===void 0)throw typeof g.render=="function"?Error(r(188)):(g=Object.keys(g).join(","),Error(r(268,g)));return g=u(b),g=g!==null?c(g):null,g=g===null?null:g.stateNode,g};var YM={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:O,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var XC=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!XC.isDisabled&&XC.supportsFiber)try{at=XC.inject(YM),At=XC}catch{}}return qS.createRoot=function(g,b){if(!i(g))throw Error(r(299));var _=!1,R="",Q=OA,K=ob,oe=jA;return b!=null&&(b.unstable_strictMode===!0&&(_=!0),b.identifierPrefix!==void 0&&(R=b.identifierPrefix),b.onUncaughtError!==void 0&&(Q=b.onUncaughtError),b.onCaughtError!==void 0&&(K=b.onCaughtError),b.onRecoverableError!==void 0&&(oe=b.onRecoverableError)),b=n2(g,1,!1,null,null,_,R,null,Q,K,oe,Jl),g[fs]=b.current,MS(g),new Cb(b)},qS.hydrateRoot=function(g,b,_){if(!i(g))throw Error(r(299));var R=!1,Q="",K=OA,oe=ob,ye=jA,Ne=null;return _!=null&&(_.unstable_strictMode===!0&&(R=!0),_.identifierPrefix!==void 0&&(Q=_.identifierPrefix),_.onUncaughtError!==void 0&&(K=_.onUncaughtError),_.onCaughtError!==void 0&&(oe=_.onCaughtError),_.onRecoverableError!==void 0&&(ye=_.onRecoverableError),_.formState!==void 0&&(Ne=_.formState)),b=n2(g,1,!0,b,_??null,R,Q,Ne,K,oe,ye,Jl),b.context=r2(null),_=b.current,R=Ya(),R=nr(R),Q=Uc(R),Q.callback=null,yu(_,Q,R),_=R,b.current.lanes=_,Ht(b,_),Kh(b),g[fs]=b.current,MS(g),new YC(b)},qS.version="19.2.3",qS}var w7;function $ge(){if(w7)return e5.exports;w7=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),e5.exports=Fge(),e5.exports}var zge=$ge();const Oge=G0(zge);var _7="popstate";function jge(t={}){function e(r,i){let{pathname:s,search:o,hash:a}=r.location;return BN("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:z_(i)}return Uge(e,n,null,t)}function co(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function yf(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Qge(){return Math.random().toString(36).substring(2,10)}function I7(t,e){return{usr:t.state,key:t.key,idx:e}}function BN(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?YE(e):e,state:n,key:e&&e.key||r||Qge()}}function z_({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function YE(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function Uge(t,e,n,r={}){let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a="POP",l=null,u=c();u==null&&(u=0,o.replaceState({...o.state,idx:u},""));function c(){return(o.state||{idx:null}).idx}function d(){a="POP";let y=c(),A=y==null?null:y-u;u=y,l&&l({action:a,location:v.location,delta:A})}function f(y,A){a="PUSH";let C=BN(v.location,y,A);u=c()+1;let E=I7(C,u),I=v.createHref(C);try{o.pushState(E,"",I)}catch(D){if(D instanceof DOMException&&D.name==="DataCloneError")throw D;i.location.assign(I)}s&&l&&l({action:a,location:v.location,delta:1})}function p(y,A){a="REPLACE";let C=BN(v.location,y,A);u=c();let E=I7(C,u),I=v.createHref(C);o.replaceState(E,"",I),s&&l&&l({action:a,location:v.location,delta:0})}function m(y){return Hge(y)}let v={get action(){return a},get location(){return t(i,o)},listen(y){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(_7,d),l=y,()=>{i.removeEventListener(_7,d),l=null}},createHref(y){return e(i,y)},createURL:m,encodeLocation(y){let A=m(y);return{pathname:A.pathname,search:A.search,hash:A.hash}},push:f,replace:p,go(y){return o.go(y)}};return v}function Hge(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),co(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:z_(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function NY(t,e,n="/"){return Vge(t,e,n,!1)}function Vge(t,e,n,r){let i=typeof e=="string"?YE(e):e,s=R0(i.pathname||"/",n);if(s==null)return null;let o=LY(t);Gge(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let u=rme(s);a=tme(o[l],u,r)}return a}function LY(t,e=[],n=[],r="",i=!1){let s=(o,a,l=i,u)=>{let c={relativePath:u===void 0?o.path||"":u,caseSensitive:o.caseSensitive===!0,childrenIndex:a,route:o};if(c.relativePath.startsWith("/")){if(!c.relativePath.startsWith(r)&&l)return;co(c.relativePath.startsWith(r),`Absolute route path "${c.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),c.relativePath=c.relativePath.slice(r.length)}let d=I0([r,c.relativePath]),f=n.concat(c);o.children&&o.children.length>0&&(co(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${d}".`),LY(o.children,e,f,d,l)),!(o.path==null&&!o.index)&&e.push({path:d,score:Zge(d,o.index),routesMeta:f})};return t.forEach((o,a)=>{if(o.path===""||!o.path?.includes("?"))s(o,a);else for(let l of FY(o.path))s(o,a,!0,l)}),e}function FY(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=FY(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function Gge(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:eme(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var Kge=/^:[\w-]+$/,Wge=3,qge=2,Yge=1,Xge=10,Jge=-2,B7=t=>t==="*";function Zge(t,e){let n=t.split("/"),r=n.length;return n.some(B7)&&(r+=Jge),e&&(r+=qge),n.filter(i=>!B7(i)).reduce((i,s)=>i+(Kge.test(s)?Wge:s===""?Yge:Xge),r)}function eme(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function tme(t,e,n=!1){let{routesMeta:r}=t,i={},s="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],u=a===r.length-1,c=s==="/"?e:e.slice(s.length)||"/",d=VB({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},c),f=l.route;if(!d&&u&&n&&!r[r.length-1].route.index&&(d=VB({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},c)),!d)return null;Object.assign(i,d.params),o.push({params:i,pathname:I0([s,d.pathname]),pathnameBase:ame(I0([s,d.pathnameBase])),route:f}),d.pathnameBase!=="/"&&(s=I0([s,d.pathnameBase]))}return o}function VB(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=nme(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((u,{paramName:c,isOptional:d},f)=>{if(c==="*"){let m=a[f]||"";o=s.slice(0,s.length-m.length).replace(/(.)\/+$/,"$1")}const p=a[f];return d&&!p?u[c]=void 0:u[c]=(p||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:o,pattern:t}}function nme(t,e=!1,n=!0){yf(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function rme(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return yf(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function R0(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}var $Y=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ime=t=>$Y.test(t);function sme(t,e="/"){let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?YE(t):t,s;if(n)if(ime(n))s=n;else{if(n.includes("//")){let o=n;n=n.replace(/\/\/+/g,"/"),yf(!1,`Pathnames cannot have embedded double slashes - normalizing ${o} -> ${n}`)}n.startsWith("/")?s=D7(n.substring(1),"/"):s=D7(n,e)}else s=e;return{pathname:s,search:lme(r),hash:ume(i)}}function D7(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function i5(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function ome(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function nF(t){let e=ome(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function rF(t,e,n,r=!1){let i;typeof t=="string"?i=YE(t):(i={...t},co(!i.pathname||!i.pathname.includes("?"),i5("?","pathname","search",i)),co(!i.pathname||!i.pathname.includes("#"),i5("#","pathname","hash",i)),co(!i.search||!i.search.includes("#"),i5("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=n;else{let d=e.length-1;if(!r&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),d-=1;i.pathname=f.join("/")}a=d>=0?e[d]:"/"}let l=sme(i,a),u=o&&o!=="/"&&o.endsWith("/"),c=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||c)&&(l.pathname+="/"),l}var I0=t=>t.join("/").replace(/\/\/+/g,"/"),ame=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),lme=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,ume=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,cme=class{constructor(t,e,n,r=!1){this.status=t,this.statusText=e||"",this.internal=r,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function dme(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}function hme(t){return t.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var zY=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function OY(t,e){let n=t;if(typeof n!="string"||!$Y.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let r=n,i=!1;if(zY)try{let s=new URL(window.location.href),o=n.startsWith("//")?new URL(s.protocol+n):new URL(n),a=R0(o.pathname,e);o.origin===s.origin&&a!=null?n=a+o.search+o.hash:i=!0}catch{yf(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:r,isExternal:i,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var jY=["POST","PUT","PATCH","DELETE"];new Set(jY);var fme=["GET",...jY];new Set(fme);var XE=x.createContext(null);XE.displayName="DataRouter";var iT=x.createContext(null);iT.displayName="DataRouterState";var pme=x.createContext(!1),QY=x.createContext({isTransitioning:!1});QY.displayName="ViewTransition";var gme=x.createContext(new Map);gme.displayName="Fetchers";var mme=x.createContext(null);mme.displayName="Await";var dh=x.createContext(null);dh.displayName="Navigation";var R3=x.createContext(null);R3.displayName="Location";var Gp=x.createContext({outlet:null,matches:[],isDataRoute:!1});Gp.displayName="Route";var iF=x.createContext(null);iF.displayName="RouteError";var UY="REACT_ROUTER_ERROR",Ame="REDIRECT",yme="ROUTE_ERROR_RESPONSE";function vme(t){if(t.startsWith(`${UY}:${Ame}:{`))try{let e=JSON.parse(t.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function bme(t){if(t.startsWith(`${UY}:${yme}:{`))try{let e=JSON.parse(t.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new cme(e.status,e.statusText,e.data)}catch{}}function xme(t,{relative:e}={}){co(JE(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=x.useContext(dh),{hash:i,pathname:s,search:o}=L3(t,{relative:e}),a=s;return n!=="/"&&(a=s==="/"?n:I0([n,s])),r.createHref({pathname:a,search:o,hash:i})}function JE(){return x.useContext(R3)!=null}function K0(){return co(JE(),"useLocation() may be used only in the context of a <Router> component."),x.useContext(R3).location}var HY="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function VY(t){x.useContext(dh).static||x.useLayoutEffect(t)}function N3(){let{isDataRoute:t}=x.useContext(Gp);return t?Rme():Cme()}function Cme(){co(JE(),"useNavigate() may be used only in the context of a <Router> component.");let t=x.useContext(XE),{basename:e,navigator:n}=x.useContext(dh),{matches:r}=x.useContext(Gp),{pathname:i}=K0(),s=JSON.stringify(nF(r)),o=x.useRef(!1);return VY(()=>{o.current=!0}),x.useCallback((l,u={})=>{if(yf(o.current,HY),!o.current)return;if(typeof l=="number"){n.go(l);return}let c=rF(l,JSON.parse(s),i,u.relative==="path");t==null&&e!=="/"&&(c.pathname=c.pathname==="/"?e:I0([e,c.pathname])),(u.replace?n.replace:n.push)(c,u.state,u)},[e,n,s,i,t])}x.createContext(null);function nC(){let{matches:t}=x.useContext(Gp),e=t[t.length-1];return e?e.params:{}}function L3(t,{relative:e}={}){let{matches:n}=x.useContext(Gp),{pathname:r}=K0(),i=JSON.stringify(nF(n));return x.useMemo(()=>rF(t,JSON.parse(i),r,e==="path"),[t,i,r,e])}function Eme(t,e){return GY(t,e)}function GY(t,e,n,r,i){co(JE(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=x.useContext(dh),{matches:o}=x.useContext(Gp),a=o[o.length-1],l=a?a.params:{},u=a?a.pathname:"/",c=a?a.pathnameBase:"/",d=a&&a.route;{let C=d&&d.path||"";WY(u,!d||C.endsWith("*")||C.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${u}" (under <Route path="${C}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${C}"> to <Route path="${C==="/"?"*":`${C}/*`}">.`)}let f=K0(),p;if(e){let C=typeof e=="string"?YE(e):e;co(c==="/"||C.pathname?.startsWith(c),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${c}" but pathname "${C.pathname}" was given in the \`location\` prop.`),p=C}else p=f;let m=p.pathname||"/",v=m;if(c!=="/"){let C=c.replace(/^\//,"").split("/");v="/"+m.replace(/^\//,"").split("/").slice(C.length).join("/")}let y=NY(t,{pathname:v});yf(d||y!=null,`No routes matched location "${p.pathname}${p.search}${p.hash}" `),yf(y==null||y[y.length-1].route.element!==void 0||y[y.length-1].route.Component!==void 0||y[y.length-1].route.lazy!==void 0,`Matched leaf route at location "${p.pathname}${p.search}${p.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let A=Bme(y&&y.map(C=>Object.assign({},C,{params:Object.assign({},l,C.params),pathname:I0([c,s.encodeLocation?s.encodeLocation(C.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:C.pathname]),pathnameBase:C.pathnameBase==="/"?c:I0([c,s.encodeLocation?s.encodeLocation(C.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:C.pathnameBase])})),o,n,r,i);return e&&A?x.createElement(R3.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...p},navigationType:"POP"}},A):A}function Sme(){let t=Pme(),e=dme(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},s={padding:"2px 4px",backgroundColor:r},o=null;return console.error("Error handled by React Router default ErrorBoundary:",t),o=x.createElement(x.Fragment,null,x.createElement("p",null," Hey developer "),x.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",x.createElement("code",{style:s},"ErrorBoundary")," or"," ",x.createElement("code",{style:s},"errorElement")," prop on your route.")),x.createElement(x.Fragment,null,x.createElement("h2",null,"Unexpected Application Error!"),x.createElement("h3",{style:{fontStyle:"italic"}},e),n?x.createElement("pre",{style:i},n):null,o)}var wme=x.createElement(Sme,null),KY=class extends x.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.onError?this.props.onError(t,e):console.error("React Router caught the following error during render",t)}render(){let t=this.state.error;if(this.context&&typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){const n=bme(t.digest);n&&(t=n)}let e=t!==void 0?x.createElement(Gp.Provider,{value:this.props.routeContext},x.createElement(iF.Provider,{value:t,children:this.props.component})):this.props.children;return this.context?x.createElement(_me,{error:t},e):e}};KY.contextType=pme;var s5=new WeakMap;function _me({children:t,error:e}){let{basename:n}=x.useContext(dh);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let r=vme(e.digest);if(r){let i=s5.get(e);if(i)throw i;let s=OY(r.location,n);if(zY&&!s5.get(e))if(s.isExternal||r.reloadDocument)window.location.href=s.absoluteURL||s.to;else{const o=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(s.to,{replace:r.replace}));throw s5.set(e,o),o}return x.createElement("meta",{httpEquiv:"refresh",content:`0;url=${s.absoluteURL||s.to}`})}}return t}function Ime({routeContext:t,match:e,children:n}){let r=x.useContext(XE);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),x.createElement(Gp.Provider,{value:t},n)}function Bme(t,e=[],n=null,r=null,i=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let s=t,o=n?.errors;if(o!=null){let c=s.findIndex(d=>d.route.id&&o?.[d.route.id]!==void 0);co(c>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),s=s.slice(0,Math.min(s.length,c+1))}let a=!1,l=-1;if(n)for(let c=0;c<s.length;c++){let d=s[c];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(l=c),d.route.id){let{loaderData:f,errors:p}=n,m=d.route.loader&&!f.hasOwnProperty(d.route.id)&&(!p||p[d.route.id]===void 0);if(d.route.lazy||m){a=!0,l>=0?s=s.slice(0,l+1):s=[s[0]];break}}}let u=n&&r?(c,d)=>{r(c,{location:n.location,params:n.matches?.[0]?.params??{},unstable_pattern:hme(n.matches),errorInfo:d})}:void 0;return s.reduceRight((c,d,f)=>{let p,m=!1,v=null,y=null;n&&(p=o&&d.route.id?o[d.route.id]:void 0,v=d.route.errorElement||wme,a&&(l<0&&f===0?(WY("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),m=!0,y=null):l===f&&(m=!0,y=d.route.hydrateFallbackElement||null)));let A=e.concat(s.slice(0,f+1)),C=()=>{let E;return p?E=v:m?E=y:d.route.Component?E=x.createElement(d.route.Component,null):d.route.element?E=d.route.element:E=c,x.createElement(Ime,{match:d,routeContext:{outlet:c,matches:A,isDataRoute:n!=null},children:E})};return n&&(d.route.ErrorBoundary||d.route.errorElement||f===0)?x.createElement(KY,{location:n.location,revalidation:n.revalidation,component:v,error:p,children:C(),routeContext:{outlet:null,matches:A,isDataRoute:!0},onError:u}):C()},null)}function sF(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Dme(t){let e=x.useContext(XE);return co(e,sF(t)),e}function Tme(t){let e=x.useContext(iT);return co(e,sF(t)),e}function Mme(t){let e=x.useContext(Gp);return co(e,sF(t)),e}function oF(t){let e=Mme(t),n=e.matches[e.matches.length-1];return co(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function kme(){return oF("useRouteId")}function Pme(){let t=x.useContext(iF),e=Tme("useRouteError"),n=oF("useRouteError");return t!==void 0?t:e.errors?.[n]}function Rme(){let{router:t}=Dme("useNavigate"),e=oF("useNavigate"),n=x.useRef(!1);return VY(()=>{n.current=!0}),x.useCallback(async(i,s={})=>{yf(n.current,HY),n.current&&(typeof i=="number"?await t.navigate(i):await t.navigate(i,{fromRouteId:e,...s}))},[t,e])}var T7={};function WY(t,e,n){!e&&!T7[t]&&(T7[t]=!0,yf(!1,n))}x.memo(Nme);function Nme({routes:t,future:e,state:n,onError:r}){return GY(t,void 0,n,r,e)}function Lme({to:t,replace:e,state:n,relative:r}){co(JE(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=x.useContext(dh);yf(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:s}=x.useContext(Gp),{pathname:o}=K0(),a=N3(),l=rF(t,nF(s),o,r==="path"),u=JSON.stringify(l);return x.useEffect(()=>{a(JSON.parse(u),{replace:e,state:n,relative:r})},[a,u,r,e,n]),null}function $1(t){co(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Fme({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:i,static:s=!1,unstable_useTransitions:o}){co(!JE(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let a=t.replace(/^\/*/,"/"),l=x.useMemo(()=>({basename:a,navigator:i,static:s,unstable_useTransitions:o,future:{}}),[a,i,s,o]);typeof n=="string"&&(n=YE(n));let{pathname:u="/",search:c="",hash:d="",state:f=null,key:p="default"}=n,m=x.useMemo(()=>{let v=R0(u,a);return v==null?null:{location:{pathname:v,search:c,hash:d,state:f,key:p},navigationType:r}},[a,u,c,d,f,p,r]);return yf(m!=null,`<Router basename="${a}"> is not able to match the URL "${u}${c}${d}" because it does not start with the basename, so the <Router> won't render anything.`),m==null?null:x.createElement(dh.Provider,{value:l},x.createElement(R3.Provider,{children:e,value:m}))}function $me({children:t,location:e}){return Eme(DN(t),e)}function DN(t,e=[]){let n=[];return x.Children.forEach(t,(r,i)=>{if(!x.isValidElement(r))return;let s=[...e,i];if(r.type===x.Fragment){n.push.apply(n,DN(r.props.children,s));return}co(r.type===$1,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),co(!r.props.index||!r.props.children,"An index route cannot have child routes.");let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=DN(r.props.children,s)),n.push(o)}),n}var mB="get",AB="application/x-www-form-urlencoded";function sT(t){return typeof HTMLElement<"u"&&t instanceof HTMLElement}function zme(t){return sT(t)&&t.tagName.toLowerCase()==="button"}function Ome(t){return sT(t)&&t.tagName.toLowerCase()==="form"}function jme(t){return sT(t)&&t.tagName.toLowerCase()==="input"}function Qme(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function Ume(t,e){return t.button===0&&(!e||e==="_self")&&!Qme(t)}var g2=null;function Hme(){if(g2===null)try{new FormData(document.createElement("form"),0),g2=!1}catch{g2=!0}return g2}var Vme=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function o5(t){return t!=null&&!Vme.has(t)?(yf(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${AB}"`),null):t}function Gme(t,e){let n,r,i,s,o;if(Ome(t)){let a=t.getAttribute("action");r=a?R0(a,e):null,n=t.getAttribute("method")||mB,i=o5(t.getAttribute("enctype"))||AB,s=new FormData(t)}else if(zme(t)||jme(t)&&(t.type==="submit"||t.type==="image")){let a=t.form;if(a==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let l=t.getAttribute("formaction")||a.getAttribute("action");if(r=l?R0(l,e):null,n=t.getAttribute("formmethod")||a.getAttribute("method")||mB,i=o5(t.getAttribute("formenctype"))||o5(a.getAttribute("enctype"))||AB,s=new FormData(a,t),!Hme()){let{name:u,type:c,value:d}=t;if(c==="image"){let f=u?`${u}.`:"";s.append(`${f}x`,"0"),s.append(`${f}y`,"0")}else u&&s.append(u,d)}}else{if(sT(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=mB,r=null,i=AB,o=t}return s&&i==="text/plain"&&(o=s,s=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:s,body:o}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function aF(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Kme(t,e,n){let r=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return r.pathname==="/"?r.pathname=`_root.${n}`:e&&R0(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function Wme(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function qme(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function Yme(t,e,n){let r=await Promise.all(t.map(async i=>{let s=e.routes[i.route.id];if(s){let o=await Wme(s,n);return o.links?o.links():[]}return[]}));return e0e(r.flat(1).filter(qme).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function M7(t,e,n,r,i,s){let o=(l,u)=>n[u]?l.route.id!==n[u].route.id:!0,a=(l,u)=>n[u].pathname!==l.pathname||n[u].route.path?.endsWith("*")&&n[u].params["*"]!==l.params["*"];return s==="assets"?e.filter((l,u)=>o(l,u)||a(l,u)):s==="data"?e.filter((l,u)=>{let c=r.routes[l.route.id];if(!c||!c.hasLoader)return!1;if(o(l,u)||a(l,u))return!0;if(l.route.shouldRevalidate){let d=l.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:l.params,defaultShouldRevalidate:!0});if(typeof d=="boolean")return d}return!0}):[]}function Xme(t,e,{includeHydrateFallback:n}={}){return Jme(t.map(r=>{let i=e.routes[r.route.id];if(!i)return[];let s=[i.module];return i.clientActionModule&&(s=s.concat(i.clientActionModule)),i.clientLoaderModule&&(s=s.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(s=s.concat(i.hydrateFallbackModule)),i.imports&&(s=s.concat(i.imports)),s}).flat(1))}function Jme(t){return[...new Set(t)]}function Zme(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function e0e(t,e){let n=new Set;return new Set(e),t.reduce((r,i)=>{let s=JSON.stringify(Zme(i));return n.has(s)||(n.add(s),r.push({key:s,link:i})),r},[])}function qY(){let t=x.useContext(XE);return aF(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function t0e(){let t=x.useContext(iT);return aF(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var lF=x.createContext(void 0);lF.displayName="FrameworkContext";function YY(){let t=x.useContext(lF);return aF(t,"You must render this element inside a <HydratedRouter> element"),t}function n0e(t,e){let n=x.useContext(lF),[r,i]=x.useState(!1),[s,o]=x.useState(!1),{onFocus:a,onBlur:l,onMouseEnter:u,onMouseLeave:c,onTouchStart:d}=e,f=x.useRef(null);x.useEffect(()=>{if(t==="render"&&o(!0),t==="viewport"){let v=A=>{A.forEach(C=>{o(C.isIntersecting)})},y=new IntersectionObserver(v,{threshold:.5});return f.current&&y.observe(f.current),()=>{y.disconnect()}}},[t]),x.useEffect(()=>{if(r){let v=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(v)}}},[r]);let p=()=>{i(!0)},m=()=>{i(!1),o(!1)};return n?t!=="intent"?[s,f,{}]:[s,f,{onFocus:YS(a,p),onBlur:YS(l,m),onMouseEnter:YS(u,p),onMouseLeave:YS(c,m),onTouchStart:YS(d,p)}]:[!1,f,{}]}function YS(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function r0e({page:t,...e}){let{router:n}=qY(),r=x.useMemo(()=>NY(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?x.createElement(s0e,{page:t,matches:r,...e}):null}function i0e(t){let{manifest:e,routeModules:n}=YY(),[r,i]=x.useState([]);return x.useEffect(()=>{let s=!1;return Yme(t,e,n).then(o=>{s||i(o)}),()=>{s=!0}},[t,e,n]),r}function s0e({page:t,matches:e,...n}){let r=K0(),{manifest:i,routeModules:s}=YY(),{basename:o}=qY(),{loaderData:a,matches:l}=t0e(),u=x.useMemo(()=>M7(t,e,l,i,r,"data"),[t,e,l,i,r]),c=x.useMemo(()=>M7(t,e,l,i,r,"assets"),[t,e,l,i,r]),d=x.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let m=new Set,v=!1;if(e.forEach(A=>{let C=i.routes[A.route.id];!C||!C.hasLoader||(!u.some(E=>E.route.id===A.route.id)&&A.route.id in a&&s[A.route.id]?.shouldRevalidate||C.hasClientLoader?v=!0:m.add(A.route.id))}),m.size===0)return[];let y=Kme(t,o,"data");return v&&m.size>0&&y.searchParams.set("_routes",e.filter(A=>m.has(A.route.id)).map(A=>A.route.id).join(",")),[y.pathname+y.search]},[o,a,r,i,u,e,t,s]),f=x.useMemo(()=>Xme(c,i),[c,i]),p=i0e(c);return x.createElement(x.Fragment,null,d.map(m=>x.createElement("link",{key:m,rel:"prefetch",as:"fetch",href:m,...n})),f.map(m=>x.createElement("link",{key:m,rel:"modulepreload",href:m,...n})),p.map(({key:m,link:v})=>x.createElement("link",{key:m,nonce:n.nonce,...v})))}function o0e(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var a0e=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{a0e&&(window.__reactRouterVersion="7.11.0")}catch{}function l0e({basename:t,children:e,unstable_useTransitions:n,window:r}){let i=x.useRef();i.current==null&&(i.current=jge({window:r,v5Compat:!0}));let s=i.current,[o,a]=x.useState({action:s.action,location:s.location}),l=x.useCallback(u=>{n===!1?a(u):x.startTransition(()=>a(u))},[n]);return x.useLayoutEffect(()=>s.listen(l),[s,l]),x.createElement(Fme,{basename:t,children:e,location:o.location,navigationType:o.action,navigator:s,unstable_useTransitions:n})}var XY=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,JY=x.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:i,reloadDocument:s,replace:o,state:a,target:l,to:u,preventScrollReset:c,viewTransition:d,unstable_defaultShouldRevalidate:f,...p},m){let{basename:v,unstable_useTransitions:y}=x.useContext(dh),A=typeof u=="string"&&XY.test(u),C=OY(u,v);u=C.to;let E=xme(u,{relative:i}),[I,D,T]=n0e(r,p),M=h0e(u,{replace:o,state:a,target:l,preventScrollReset:c,relative:i,viewTransition:d,unstable_defaultShouldRevalidate:f,unstable_useTransitions:y});function P(L){e&&e(L),L.defaultPrevented||M(L)}let k=x.createElement("a",{...p,...T,href:C.absoluteURL||E,onClick:C.isExternal||s?e:P,ref:o0e(m,D),target:l,"data-discover":!A&&n==="render"?"true":void 0});return I&&!A?x.createElement(x.Fragment,null,k,x.createElement(r0e,{page:E})):k});JY.displayName="Link";var u0e=x.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:i=!1,style:s,to:o,viewTransition:a,children:l,...u},c){let d=L3(o,{relative:u.relative}),f=K0(),p=x.useContext(iT),{navigator:m,basename:v}=x.useContext(dh),y=p!=null&&A0e(d)&&a===!0,A=m.encodeLocation?m.encodeLocation(d).pathname:d.pathname,C=f.pathname,E=p&&p.navigation&&p.navigation.location?p.navigation.location.pathname:null;n||(C=C.toLowerCase(),E=E?E.toLowerCase():null,A=A.toLowerCase()),E&&v&&(E=R0(E,v)||E);const I=A!=="/"&&A.endsWith("/")?A.length-1:A.length;let D=C===A||!i&&C.startsWith(A)&&C.charAt(I)==="/",T=E!=null&&(E===A||!i&&E.startsWith(A)&&E.charAt(A.length)==="/"),M={isActive:D,isPending:T,isTransitioning:y},P=D?e:void 0,k;typeof r=="function"?k=r(M):k=[r,D?"active":null,T?"pending":null,y?"transitioning":null].filter(Boolean).join(" ");let L=typeof s=="function"?s(M):s;return x.createElement(JY,{...u,"aria-current":P,className:k,ref:c,style:L,to:o,viewTransition:a},typeof l=="function"?l(M):l)});u0e.displayName="NavLink";var c0e=x.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:i,state:s,method:o=mB,action:a,onSubmit:l,relative:u,preventScrollReset:c,viewTransition:d,unstable_defaultShouldRevalidate:f,...p},m)=>{let{unstable_useTransitions:v}=x.useContext(dh),y=g0e(),A=m0e(a,{relative:u}),C=o.toLowerCase()==="get"?"get":"post",E=typeof a=="string"&&XY.test(a),I=D=>{if(l&&l(D),D.defaultPrevented)return;D.preventDefault();let T=D.nativeEvent.submitter,M=T?.getAttribute("formmethod")||o,P=()=>y(T||D.currentTarget,{fetcherKey:e,method:M,navigate:n,replace:i,state:s,relative:u,preventScrollReset:c,viewTransition:d,unstable_defaultShouldRevalidate:f});v&&n!==!1?x.startTransition(()=>P()):P()};return x.createElement("form",{ref:m,method:C,action:A,onSubmit:r?l:I,...p,"data-discover":!E&&t==="render"?"true":void 0})});c0e.displayName="Form";function d0e(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function ZY(t){let e=x.useContext(XE);return co(e,d0e(t)),e}function h0e(t,{target:e,replace:n,state:r,preventScrollReset:i,relative:s,viewTransition:o,unstable_defaultShouldRevalidate:a,unstable_useTransitions:l}={}){let u=N3(),c=K0(),d=L3(t,{relative:s});return x.useCallback(f=>{if(Ume(f,e)){f.preventDefault();let p=n!==void 0?n:z_(c)===z_(d),m=()=>u(t,{replace:p,state:r,preventScrollReset:i,relative:s,viewTransition:o,unstable_defaultShouldRevalidate:a});l?x.startTransition(()=>m()):m()}},[c,u,d,n,r,e,t,i,s,o,a,l])}var f0e=0,p0e=()=>`__${String(++f0e)}__`;function g0e(){let{router:t}=ZY("useSubmit"),{basename:e}=x.useContext(dh),n=kme(),r=t.fetch,i=t.navigate;return x.useCallback(async(s,o={})=>{let{action:a,method:l,encType:u,formData:c,body:d}=Gme(s,e);if(o.navigate===!1){let f=o.fetcherKey||p0e();await r(f,n,o.action||a,{unstable_defaultShouldRevalidate:o.unstable_defaultShouldRevalidate,preventScrollReset:o.preventScrollReset,formData:c,body:d,formMethod:o.method||l,formEncType:o.encType||u,flushSync:o.flushSync})}else await i(o.action||a,{unstable_defaultShouldRevalidate:o.unstable_defaultShouldRevalidate,preventScrollReset:o.preventScrollReset,formData:c,body:d,formMethod:o.method||l,formEncType:o.encType||u,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[r,i,e,n])}function m0e(t,{relative:e}={}){let{basename:n}=x.useContext(dh),r=x.useContext(Gp);co(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),s={...L3(t||".",{relative:e})},o=K0();if(t==null){s.search=o.search;let a=new URLSearchParams(s.search),l=a.getAll("index");if(l.some(c=>c==="")){a.delete("index"),l.filter(d=>d).forEach(d=>a.append("index",d));let c=a.toString();s.search=c?`?${c}`:""}}return(!t||t===".")&&i.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(s.pathname=s.pathname==="/"?n:I0([n,s.pathname])),z_(s)}function A0e(t,{relative:e}={}){let n=x.useContext(QY);co(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=ZY("useViewTransitionState"),i=L3(t,{relative:e});if(!n.isTransitioning)return!1;let s=R0(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=R0(n.nextLocation.pathname,r)||n.nextLocation.pathname;return VB(i.pathname,o)!=null||VB(i.pathname,s)!=null}var F3=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},y0e={setTimeout:(t,e)=>setTimeout(t,e),clearTimeout:t=>clearTimeout(t),setInterval:(t,e)=>setInterval(t,e),clearInterval:t=>clearInterval(t)},v0e=class{#e=y0e;#t=!1;setTimeoutProvider(t){this.#e=t}setTimeout(t,e){return this.#e.setTimeout(t,e)}clearTimeout(t){this.#e.clearTimeout(t)}setInterval(t,e){return this.#e.setInterval(t,e)}clearInterval(t){this.#e.clearInterval(t)}},ox=new v0e;function b0e(t){setTimeout(t,0)}var Px=typeof window>"u"||"Deno"in globalThis;function dd(){}function x0e(t,e){return typeof t=="function"?t(e):t}function TN(t){return typeof t=="number"&&t>=0&&t!==1/0}function eX(t,e){return Math.max(t+(e||0)-Date.now(),0)}function jy(t,e){return typeof t=="function"?t(e):t}function nf(t,e){return typeof t=="function"?t(e):t}function k7(t,e){const{type:n="all",exact:r,fetchStatus:i,predicate:s,queryKey:o,stale:a}=t;if(o){if(r){if(e.queryHash!==uF(o,e.options))return!1}else if(!j_(e.queryKey,o))return!1}if(n!=="all"){const l=e.isActive();if(n==="active"&&!l||n==="inactive"&&l)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||i&&i!==e.state.fetchStatus||s&&!s(e))}function P7(t,e){const{exact:n,status:r,predicate:i,mutationKey:s}=t;if(s){if(!e.options.mutationKey)return!1;if(n){if(O_(e.options.mutationKey)!==O_(s))return!1}else if(!j_(e.options.mutationKey,s))return!1}return!(r&&e.state.status!==r||i&&!i(e))}function uF(t,e){return(e?.queryKeyHashFn||O_)(t)}function O_(t){return JSON.stringify(t,(e,n)=>kN(n)?Object.keys(n).sort().reduce((r,i)=>(r[i]=n[i],r),{}):n)}function j_(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(n=>j_(t[n],e[n])):!1}var C0e=Object.prototype.hasOwnProperty;function tX(t,e){if(t===e)return t;const n=R7(t)&&R7(e);if(!n&&!(kN(t)&&kN(e)))return e;const i=(n?t:Object.keys(t)).length,s=n?e:Object.keys(e),o=s.length,a=n?new Array(o):{};let l=0;for(let u=0;u<o;u++){const c=n?u:s[u],d=t[c],f=e[c];if(d===f){a[c]=d,(n?u<i:C0e.call(t,c))&&l++;continue}if(d===null||f===null||typeof d!="object"||typeof f!="object"){a[c]=f;continue}const p=tX(d,f);a[c]=p,p===d&&l++}return i===o&&l===i?t:a}function MN(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(t[n]!==e[n])return!1;return!0}function R7(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function kN(t){if(!N7(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!N7(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function N7(t){return Object.prototype.toString.call(t)==="[object Object]"}function E0e(t){return new Promise(e=>{ox.setTimeout(e,t)})}function PN(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?tX(t,e):e}function S0e(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function w0e(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var cF=Symbol();function nX(t,e){return!t.queryFn&&e?.initialPromise?()=>e.initialPromise:!t.queryFn||t.queryFn===cF?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}function _0e(t,e){return typeof t=="function"?t(...e):!!t}var I0e=class extends F3{#e;#t;#n;constructor(){super(),this.#n=t=>{if(!Px&&window.addEventListener){const e=()=>t();return window.addEventListener("visibilitychange",e,!1),()=>{window.removeEventListener("visibilitychange",e)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(t){this.#n=t,this.#t?.(),this.#t=t(e=>{typeof e=="boolean"?this.setFocused(e):this.onFocus()})}setFocused(t){this.#e!==t&&(this.#e=t,this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(e=>{e(t)})}isFocused(){return typeof this.#e=="boolean"?this.#e:globalThis.document?.visibilityState!=="hidden"}},dF=new I0e;function RN(){let t,e;const n=new Promise((i,s)=>{t=i,e=s});n.status="pending",n.catch(()=>{});function r(i){Object.assign(n,i),delete n.resolve,delete n.reject}return n.resolve=i=>{r({status:"fulfilled",value:i}),t(i)},n.reject=i=>{r({status:"rejected",reason:i}),e(i)},n}var B0e=b0e;function D0e(){let t=[],e=0,n=a=>{a()},r=a=>{a()},i=B0e;const s=a=>{e?t.push(a):i(()=>{n(a)})},o=()=>{const a=t;t=[],a.length&&i(()=>{r(()=>{a.forEach(l=>{n(l)})})})};return{batch:a=>{let l;e++;try{l=a()}finally{e--,e||o()}return l},batchCalls:a=>(...l)=>{s(()=>{a(...l)})},schedule:s,setNotifyFunction:a=>{n=a},setBatchNotifyFunction:a=>{r=a},setScheduler:a=>{i=a}}}var ru=D0e(),T0e=class extends F3{#e=!0;#t;#n;constructor(){super(),this.#n=t=>{if(!Px&&window.addEventListener){const e=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",e,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",e),window.removeEventListener("offline",n)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(t){this.#n=t,this.#t?.(),this.#t=t(this.setOnline.bind(this))}setOnline(t){this.#e!==t&&(this.#e=t,this.listeners.forEach(n=>{n(t)}))}isOnline(){return this.#e}},GB=new T0e;function M0e(t){return Math.min(1e3*2**t,3e4)}function rX(t){return(t??"online")==="online"?GB.isOnline():!0}var NN=class extends Error{constructor(t){super("CancelledError"),this.revert=t?.revert,this.silent=t?.silent}};function iX(t){let e=!1,n=0,r;const i=RN(),s=()=>i.status!=="pending",o=v=>{if(!s()){const y=new NN(v);f(y),t.onCancel?.(y)}},a=()=>{e=!0},l=()=>{e=!1},u=()=>dF.isFocused()&&(t.networkMode==="always"||GB.isOnline())&&t.canRun(),c=()=>rX(t.networkMode)&&t.canRun(),d=v=>{s()||(r?.(),i.resolve(v))},f=v=>{s()||(r?.(),i.reject(v))},p=()=>new Promise(v=>{r=y=>{(s()||u())&&v(y)},t.onPause?.()}).then(()=>{r=void 0,s()||t.onContinue?.()}),m=()=>{if(s())return;let v;const y=n===0?t.initialPromise:void 0;try{v=y??t.fn()}catch(A){v=Promise.reject(A)}Promise.resolve(v).then(d).catch(A=>{if(s())return;const C=t.retry??(Px?0:3),E=t.retryDelay??M0e,I=typeof E=="function"?E(n,A):E,D=C===!0||typeof C=="number"&&n<C||typeof C=="function"&&C(n,A);if(e||!D){f(A);return}n++,t.onFail?.(n,A),E0e(I).then(()=>u()?void 0:p()).then(()=>{e?f(A):m()})})};return{promise:i,status:()=>i.status,cancel:o,continue:()=>(r?.(),i),cancelRetry:a,continueRetry:l,canStart:c,start:()=>(c()?m():p().then(m),i)}}var sX=class{#e;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),TN(this.gcTime)&&(this.#e=ox.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(Px?1/0:300*1e3))}clearGcTimeout(){this.#e&&(ox.clearTimeout(this.#e),this.#e=void 0)}},k0e=class extends sX{#e;#t;#n;#i;#r;#a;#o;constructor(t){super(),this.#o=!1,this.#a=t.defaultOptions,this.setOptions(t.options),this.observers=[],this.#i=t.client,this.#n=this.#i.getQueryCache(),this.queryKey=t.queryKey,this.queryHash=t.queryHash,this.#e=F7(this.options),this.state=t.state??this.#e,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#r?.promise}setOptions(t){if(this.options={...this.#a,...t},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const e=F7(this.options);e.data!==void 0&&(this.setState(L7(e.data,e.dataUpdatedAt)),this.#e=e)}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#n.remove(this)}setData(t,e){const n=PN(this.state.data,t,this.options);return this.#s({data:n,type:"success",dataUpdatedAt:e?.updatedAt,manual:e?.manual}),n}setState(t,e){this.#s({type:"setState",state:t,setStateOptions:e})}cancel(t){const e=this.#r?.promise;return this.#r?.cancel(t),e?e.then(dd).catch(dd):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#e)}isActive(){return this.observers.some(t=>nf(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===cF||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>jy(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!eX(this.state.dataUpdatedAt,t)}onFocus(){this.observers.find(e=>e.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#r?.continue()}onOnline(){this.observers.find(e=>e.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#r?.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(e=>e!==t),this.observers.length||(this.#r&&(this.#o?this.#r.cancel({revert:!0}):this.#r.cancelRetry()),this.scheduleGc()),this.#n.notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#s({type:"invalidate"})}async fetch(t,e){if(this.state.fetchStatus!=="idle"&&this.#r?.status()!=="rejected"){if(this.state.data!==void 0&&e?.cancelRefetch)this.cancel({silent:!0});else if(this.#r)return this.#r.continueRetry(),this.#r.promise}if(t&&this.setOptions(t),!this.options.queryFn){const a=this.observers.find(l=>l.options.queryFn);a&&this.setOptions(a.options)}const n=new AbortController,r=a=>{Object.defineProperty(a,"signal",{enumerable:!0,get:()=>(this.#o=!0,n.signal)})},i=()=>{const a=nX(this.options,e),u=(()=>{const c={client:this.#i,queryKey:this.queryKey,meta:this.meta};return r(c),c})();return this.#o=!1,this.options.persister?this.options.persister(a,u,this):a(u)},o=(()=>{const a={fetchOptions:e,options:this.options,queryKey:this.queryKey,client:this.#i,state:this.state,fetchFn:i};return r(a),a})();this.options.behavior?.onFetch(o,this),this.#t=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==o.fetchOptions?.meta)&&this.#s({type:"fetch",meta:o.fetchOptions?.meta}),this.#r=iX({initialPromise:e?.initialPromise,fn:o.fetchFn,onCancel:a=>{a instanceof NN&&a.revert&&this.setState({...this.#t,fetchStatus:"idle"}),n.abort()},onFail:(a,l)=>{this.#s({type:"failed",failureCount:a,error:l})},onPause:()=>{this.#s({type:"pause"})},onContinue:()=>{this.#s({type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0});try{const a=await this.#r.start();if(a===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(a),this.#n.config.onSuccess?.(a,this),this.#n.config.onSettled?.(a,this.state.error,this),a}catch(a){if(a instanceof NN){if(a.silent)return this.#r.promise;if(a.revert){if(this.state.data===void 0)throw a;return this.state.data}}throw this.#s({type:"error",error:a}),this.#n.config.onError?.(a,this),this.#n.config.onSettled?.(this.state.data,a,this),a}finally{this.scheduleGc()}}#s(t){const e=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...oX(n.data,this.options),fetchMeta:t.meta??null};case"success":const r={...n,...L7(t.data,t.dataUpdatedAt),dataUpdateCount:n.dataUpdateCount+1,...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return this.#t=t.manual?r:void 0,r;case"error":const i=t.error;return{...n,error:i,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=e(this.state),ru.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),this.#n.notify({query:this,type:"updated",action:t})})}};function oX(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:rX(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function L7(t,e){return{data:t,dataUpdatedAt:e??Date.now(),error:null,isInvalidated:!1,status:"success"}}function F7(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var P0e=class extends F3{constructor(t,e){super(),this.options=e,this.#e=t,this.#s=null,this.#o=RN(),this.bindMethods(),this.setOptions(e)}#e;#t=void 0;#n=void 0;#i=void 0;#r;#a;#o;#s;#g;#h;#f;#u;#c;#l;#p=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.#t.addObserver(this),$7(this.#t,this.options)?this.#d():this.updateResult(),this.#v())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return LN(this.#t,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return LN(this.#t,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#b(),this.#x(),this.#t.removeObserver(this)}setOptions(t){const e=this.options,n=this.#t;if(this.options=this.#e.defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof nf(this.options.enabled,this.#t)!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#C(),this.#t.setOptions(this.options),e._defaulted&&!MN(this.options,e)&&this.#e.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#t,observer:this});const r=this.hasListeners();r&&z7(this.#t,n,this.options,e)&&this.#d(),this.updateResult(),r&&(this.#t!==n||nf(this.options.enabled,this.#t)!==nf(e.enabled,this.#t)||jy(this.options.staleTime,this.#t)!==jy(e.staleTime,this.#t))&&this.#m();const i=this.#A();r&&(this.#t!==n||nf(this.options.enabled,this.#t)!==nf(e.enabled,this.#t)||i!==this.#l)&&this.#y(i)}getOptimisticResult(t){const e=this.#e.getQueryCache().build(this.#e,t),n=this.createResult(e,t);return N0e(this,n)&&(this.#i=n,this.#a=this.options,this.#r=this.#t.state),n}getCurrentResult(){return this.#i}trackResult(t,e){return new Proxy(t,{get:(n,r)=>(this.trackProp(r),e?.(r),r==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&this.#o.status==="pending"&&this.#o.reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(n,r))})}trackProp(t){this.#p.add(t)}getCurrentQuery(){return this.#t}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const e=this.#e.defaultQueryOptions(t),n=this.#e.getQueryCache().build(this.#e,e);return n.fetch().then(()=>this.createResult(n,e))}fetch(t){return this.#d({...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#i))}#d(t){this.#C();let e=this.#t.fetch(this.options,t);return t?.throwOnError||(e=e.catch(dd)),e}#m(){this.#b();const t=jy(this.options.staleTime,this.#t);if(Px||this.#i.isStale||!TN(t))return;const n=eX(this.#i.dataUpdatedAt,t)+1;this.#u=ox.setTimeout(()=>{this.#i.isStale||this.updateResult()},n)}#A(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.#t):this.options.refetchInterval)??!1}#y(t){this.#x(),this.#l=t,!(Px||nf(this.options.enabled,this.#t)===!1||!TN(this.#l)||this.#l===0)&&(this.#c=ox.setInterval(()=>{(this.options.refetchIntervalInBackground||dF.isFocused())&&this.#d()},this.#l))}#v(){this.#m(),this.#y(this.#A())}#b(){this.#u&&(ox.clearTimeout(this.#u),this.#u=void 0)}#x(){this.#c&&(ox.clearInterval(this.#c),this.#c=void 0)}createResult(t,e){const n=this.#t,r=this.options,i=this.#i,s=this.#r,o=this.#a,l=t!==n?t.state:this.#n,{state:u}=t;let c={...u},d=!1,f;if(e._optimisticResults){const P=this.hasListeners(),k=!P&&$7(t,e),L=P&&z7(t,n,e,r);(k||L)&&(c={...c,...oX(u.data,t.options)}),e._optimisticResults==="isRestoring"&&(c.fetchStatus="idle")}let{error:p,errorUpdatedAt:m,status:v}=c;f=c.data;let y=!1;if(e.placeholderData!==void 0&&f===void 0&&v==="pending"){let P;i?.isPlaceholderData&&e.placeholderData===o?.placeholderData?(P=i.data,y=!0):P=typeof e.placeholderData=="function"?e.placeholderData(this.#f?.state.data,this.#f):e.placeholderData,P!==void 0&&(v="success",f=PN(i?.data,P,e),d=!0)}if(e.select&&f!==void 0&&!y)if(i&&f===s?.data&&e.select===this.#g)f=this.#h;else try{this.#g=e.select,f=e.select(f),f=PN(i?.data,f,e),this.#h=f,this.#s=null}catch(P){this.#s=P}this.#s&&(p=this.#s,f=this.#h,m=Date.now(),v="error");const A=c.fetchStatus==="fetching",C=v==="pending",E=v==="error",I=C&&A,D=f!==void 0,M={status:v,fetchStatus:c.fetchStatus,isPending:C,isSuccess:v==="success",isError:E,isInitialLoading:I,isLoading:I,data:f,dataUpdatedAt:c.dataUpdatedAt,error:p,errorUpdatedAt:m,failureCount:c.fetchFailureCount,failureReason:c.fetchFailureReason,errorUpdateCount:c.errorUpdateCount,isFetched:c.dataUpdateCount>0||c.errorUpdateCount>0,isFetchedAfterMount:c.dataUpdateCount>l.dataUpdateCount||c.errorUpdateCount>l.errorUpdateCount,isFetching:A,isRefetching:A&&!C,isLoadingError:E&&!D,isPaused:c.fetchStatus==="paused",isPlaceholderData:d,isRefetchError:E&&D,isStale:hF(t,e),refetch:this.refetch,promise:this.#o,isEnabled:nf(e.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const P=$=>{M.status==="error"?$.reject(M.error):M.data!==void 0&&$.resolve(M.data)},k=()=>{const $=this.#o=M.promise=RN();P($)},L=this.#o;switch(L.status){case"pending":t.queryHash===n.queryHash&&P(L);break;case"fulfilled":(M.status==="error"||M.data!==L.value)&&k();break;case"rejected":(M.status!=="error"||M.error!==L.reason)&&k();break}}return M}updateResult(){const t=this.#i,e=this.createResult(this.#t,this.options);if(this.#r=this.#t.state,this.#a=this.options,this.#r.data!==void 0&&(this.#f=this.#t),MN(e,t))return;this.#i=e;const n=()=>{if(!t)return!0;const{notifyOnChangeProps:r}=this.options,i=typeof r=="function"?r():r;if(i==="all"||!i&&!this.#p.size)return!0;const s=new Set(i??this.#p);return this.options.throwOnError&&s.add("error"),Object.keys(this.#i).some(o=>{const a=o;return this.#i[a]!==t[a]&&s.has(a)})};this.#E({listeners:n()})}#C(){const t=this.#e.getQueryCache().build(this.#e,this.options);if(t===this.#t)return;const e=this.#t;this.#t=t,this.#n=t.state,this.hasListeners()&&(e?.removeObserver(this),t.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#v()}#E(t){ru.batch(()=>{t.listeners&&this.listeners.forEach(e=>{e(this.#i)}),this.#e.getQueryCache().notify({query:this.#t,type:"observerResultsUpdated"})})}};function R0e(t,e){return nf(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function $7(t,e){return R0e(t,e)||t.state.data!==void 0&&LN(t,e,e.refetchOnMount)}function LN(t,e,n){if(nf(e.enabled,t)!==!1&&jy(e.staleTime,t)!=="static"){const r=typeof n=="function"?n(t):n;return r==="always"||r!==!1&&hF(t,e)}return!1}function z7(t,e,n,r){return(t!==e||nf(r.enabled,t)===!1)&&(!n.suspense||t.state.status!=="error")&&hF(t,n)}function hF(t,e){return nf(e.enabled,t)!==!1&&t.isStaleByTime(jy(e.staleTime,t))}function N0e(t,e){return!MN(t.getCurrentResult(),e)}function O7(t){return{onFetch:(e,n)=>{const r=e.options,i=e.fetchOptions?.meta?.fetchMore?.direction,s=e.state.data?.pages||[],o=e.state.data?.pageParams||[];let a={pages:[],pageParams:[]},l=0;const u=async()=>{let c=!1;const d=m=>{Object.defineProperty(m,"signal",{enumerable:!0,get:()=>(e.signal.aborted?c=!0:e.signal.addEventListener("abort",()=>{c=!0}),e.signal)})},f=nX(e.options,e.fetchOptions),p=async(m,v,y)=>{if(c)return Promise.reject();if(v==null&&m.pages.length)return Promise.resolve(m);const C=(()=>{const T={client:e.client,queryKey:e.queryKey,pageParam:v,direction:y?"backward":"forward",meta:e.options.meta};return d(T),T})(),E=await f(C),{maxPages:I}=e.options,D=y?w0e:S0e;return{pages:D(m.pages,E,I),pageParams:D(m.pageParams,v,I)}};if(i&&s.length){const m=i==="backward",v=m?L0e:j7,y={pages:s,pageParams:o},A=v(r,y);a=await p(y,A,m)}else{const m=t??s.length;do{const v=l===0?o[0]??r.initialPageParam:j7(r,a);if(l>0&&v==null)break;a=await p(a,v),l++}while(l<m)}return a};e.options.persister?e.fetchFn=()=>e.options.persister?.(u,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n):e.fetchFn=u}}}function j7(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function L0e(t,{pages:e,pageParams:n}){return e.length>0?t.getPreviousPageParam?.(e[0],e,n[0],n):void 0}var F0e=class extends sX{#e;#t;#n;#i;constructor(t){super(),this.#e=t.client,this.mutationId=t.mutationId,this.#n=t.mutationCache,this.#t=[],this.state=t.state||$0e(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){this.#t.includes(t)||(this.#t.push(t),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){this.#t=this.#t.filter(e=>e!==t),this.scheduleGc(),this.#n.notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){this.#t.length||(this.state.status==="pending"?this.scheduleGc():this.#n.remove(this))}continue(){return this.#i?.continue()??this.execute(this.state.variables)}async execute(t){const e=()=>{this.#r({type:"continue"})},n={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};this.#i=iX({fn:()=>this.options.mutationFn?this.options.mutationFn(t,n):Promise.reject(new Error("No mutationFn found")),onFail:(s,o)=>{this.#r({type:"failed",failureCount:s,error:o})},onPause:()=>{this.#r({type:"pause"})},onContinue:e,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#n.canRun(this)});const r=this.state.status==="pending",i=!this.#i.canStart();try{if(r)e();else{this.#r({type:"pending",variables:t,isPaused:i}),await this.#n.config.onMutate?.(t,this,n);const o=await this.options.onMutate?.(t,n);o!==this.state.context&&this.#r({type:"pending",context:o,variables:t,isPaused:i})}const s=await this.#i.start();return await this.#n.config.onSuccess?.(s,t,this.state.context,this,n),await this.options.onSuccess?.(s,t,this.state.context,n),await this.#n.config.onSettled?.(s,null,this.state.variables,this.state.context,this,n),await this.options.onSettled?.(s,null,t,this.state.context,n),this.#r({type:"success",data:s}),s}catch(s){try{throw await this.#n.config.onError?.(s,t,this.state.context,this,n),await this.options.onError?.(s,t,this.state.context,n),await this.#n.config.onSettled?.(void 0,s,this.state.variables,this.state.context,this,n),await this.options.onSettled?.(void 0,s,t,this.state.context,n),s}finally{this.#r({type:"error",error:s})}}finally{this.#n.runNext(this)}}#r(t){const e=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=e(this.state),ru.batch(()=>{this.#t.forEach(n=>{n.onMutationUpdate(t)}),this.#n.notify({mutation:this,type:"updated",action:t})})}};function $0e(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var z0e=class extends F3{constructor(t={}){super(),this.config=t,this.#e=new Set,this.#t=new Map,this.#n=0}#e;#t;#n;build(t,e,n){const r=new F0e({client:t,mutationCache:this,mutationId:++this.#n,options:t.defaultMutationOptions(e),state:n});return this.add(r),r}add(t){this.#e.add(t);const e=m2(t);if(typeof e=="string"){const n=this.#t.get(e);n?n.push(t):this.#t.set(e,[t])}this.notify({type:"added",mutation:t})}remove(t){if(this.#e.delete(t)){const e=m2(t);if(typeof e=="string"){const n=this.#t.get(e);if(n)if(n.length>1){const r=n.indexOf(t);r!==-1&&n.splice(r,1)}else n[0]===t&&this.#t.delete(e)}}this.notify({type:"removed",mutation:t})}canRun(t){const e=m2(t);if(typeof e=="string"){const r=this.#t.get(e)?.find(i=>i.state.status==="pending");return!r||r===t}else return!0}runNext(t){const e=m2(t);return typeof e=="string"?this.#t.get(e)?.find(r=>r!==t&&r.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){ru.batch(()=>{this.#e.forEach(t=>{this.notify({type:"removed",mutation:t})}),this.#e.clear(),this.#t.clear()})}getAll(){return Array.from(this.#e)}find(t){const e={exact:!0,...t};return this.getAll().find(n=>P7(e,n))}findAll(t={}){return this.getAll().filter(e=>P7(t,e))}notify(t){ru.batch(()=>{this.listeners.forEach(e=>{e(t)})})}resumePausedMutations(){const t=this.getAll().filter(e=>e.state.isPaused);return ru.batch(()=>Promise.all(t.map(e=>e.continue().catch(dd))))}};function m2(t){return t.options.scope?.id}var O0e=class extends F3{constructor(t={}){super(),this.config=t,this.#e=new Map}#e;build(t,e,n){const r=e.queryKey,i=e.queryHash??uF(r,e);let s=this.get(i);return s||(s=new k0e({client:t,queryKey:r,queryHash:i,options:t.defaultQueryOptions(e),state:n,defaultOptions:t.getQueryDefaults(r)}),this.add(s)),s}add(t){this.#e.has(t.queryHash)||(this.#e.set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const e=this.#e.get(t.queryHash);e&&(t.destroy(),e===t&&this.#e.delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){ru.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return this.#e.get(t)}getAll(){return[...this.#e.values()]}find(t){const e={exact:!0,...t};return this.getAll().find(n=>k7(e,n))}findAll(t={}){const e=this.getAll();return Object.keys(t).length>0?e.filter(n=>k7(t,n)):e}notify(t){ru.batch(()=>{this.listeners.forEach(e=>{e(t)})})}onFocus(){ru.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){ru.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},j0e=class{#e;#t;#n;#i;#r;#a;#o;#s;constructor(t={}){this.#e=t.queryCache||new O0e,this.#t=t.mutationCache||new z0e,this.#n=t.defaultOptions||{},this.#i=new Map,this.#r=new Map,this.#a=0}mount(){this.#a++,this.#a===1&&(this.#o=dF.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#e.onFocus())}),this.#s=GB.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#e.onOnline())}))}unmount(){this.#a--,this.#a===0&&(this.#o?.(),this.#o=void 0,this.#s?.(),this.#s=void 0)}isFetching(t){return this.#e.findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return this.#t.findAll({...t,status:"pending"}).length}getQueryData(t){const e=this.defaultQueryOptions({queryKey:t});return this.#e.get(e.queryHash)?.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),n=this.#e.build(this,e),r=n.state.data;return r===void 0?this.fetchQuery(t):(t.revalidateIfStale&&n.isStaleByTime(jy(e.staleTime,n))&&this.prefetchQuery(e),Promise.resolve(r))}getQueriesData(t){return this.#e.findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),s=this.#e.get(r.queryHash)?.state.data,o=x0e(e,s);if(o!==void 0)return this.#e.build(this,r).setData(o,{...n,manual:!0})}setQueriesData(t,e,n){return ru.batch(()=>this.#e.findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){const e=this.defaultQueryOptions({queryKey:t});return this.#e.get(e.queryHash)?.state}removeQueries(t){const e=this.#e;ru.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=this.#e;return ru.batch(()=>(n.findAll(t).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const n={revert:!0,...e},r=ru.batch(()=>this.#e.findAll(t).map(i=>i.cancel(n)));return Promise.all(r).then(dd).catch(dd)}invalidateQueries(t,e={}){return ru.batch(()=>(this.#e.findAll(t).forEach(n=>{n.invalidate()}),t?.refetchType==="none"?Promise.resolve():this.refetchQueries({...t,type:t?.refetchType??t?.type??"active"},e)))}refetchQueries(t,e={}){const n={...e,cancelRefetch:e.cancelRefetch??!0},r=ru.batch(()=>this.#e.findAll(t).filter(i=>!i.isDisabled()&&!i.isStatic()).map(i=>{let s=i.fetch(void 0,n);return n.throwOnError||(s=s.catch(dd)),i.state.fetchStatus==="paused"?Promise.resolve():s}));return Promise.all(r).then(dd)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=this.#e.build(this,e);return n.isStaleByTime(jy(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(dd).catch(dd)}fetchInfiniteQuery(t){return t.behavior=O7(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(dd).catch(dd)}ensureInfiniteQueryData(t){return t.behavior=O7(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return GB.isOnline()?this.#t.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#e}getMutationCache(){return this.#t}getDefaultOptions(){return this.#n}setDefaultOptions(t){this.#n=t}setQueryDefaults(t,e){this.#i.set(O_(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...this.#i.values()],n={};return e.forEach(r=>{j_(t,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(t,e){this.#r.set(O_(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...this.#r.values()],n={};return e.forEach(r=>{j_(t,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...this.#n.queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=uF(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===cF&&(e.enabled=!1),e}defaultMutationOptions(t){return t?._defaulted?t:{...this.#n.mutations,...t?.mutationKey&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){this.#e.clear(),this.#t.clear()}},aX=x.createContext(void 0),Q0e=t=>{const e=x.useContext(aX);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},U0e=({client:t,children:e})=>(x.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),h.jsx(aX.Provider,{value:t,children:e})),lX=x.createContext(!1),H0e=()=>x.useContext(lX);lX.Provider;function V0e(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var G0e=x.createContext(V0e()),K0e=()=>x.useContext(G0e),W0e=(t,e)=>{(t.suspense||t.throwOnError||t.experimental_prefetchInRender)&&(e.isReset()||(t.retryOnMount=!1))},q0e=t=>{x.useEffect(()=>{t.clearReset()},[t])},Y0e=({result:t,errorResetBoundary:e,throwOnError:n,query:r,suspense:i})=>t.isError&&!e.isReset()&&!t.isFetching&&r&&(i&&t.data===void 0||_0e(n,[t.error,r])),X0e=t=>{if(t.suspense){const n=i=>i==="static"?i:Math.max(i??1e3,1e3),r=t.staleTime;t.staleTime=typeof r=="function"?(...i)=>n(r(...i)):n(r),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3))}},J0e=(t,e)=>t.isLoading&&t.isFetching&&!e,Z0e=(t,e)=>t?.suspense&&e.isPending,Q7=(t,e,n)=>e.fetchOptimistic(t).catch(()=>{n.clearReset()});function eAe(t,e,n){const r=H0e(),i=K0e(),s=Q0e(),o=s.defaultQueryOptions(t);s.getDefaultOptions().queries?._experimental_beforeQuery?.(o),o._optimisticResults=r?"isRestoring":"optimistic",X0e(o),W0e(o,i),q0e(i);const a=!s.getQueryCache().get(o.queryHash),[l]=x.useState(()=>new e(s,o)),u=l.getOptimisticResult(o),c=!r&&t.subscribed!==!1;if(x.useSyncExternalStore(x.useCallback(d=>{const f=c?l.subscribe(ru.batchCalls(d)):dd;return l.updateResult(),f},[l,c]),()=>l.getCurrentResult(),()=>l.getCurrentResult()),x.useEffect(()=>{l.setOptions(o)},[o,l]),Z0e(o,u))throw Q7(o,l,i);if(Y0e({result:u,errorResetBoundary:i,throwOnError:o.throwOnError,query:s.getQueryCache().get(o.queryHash),suspense:o.suspense}))throw u.error;return s.getDefaultOptions().queries?._experimental_afterQuery?.(o,u),o.experimental_prefetchInRender&&!Px&&J0e(u,r)&&(a?Q7(o,l,i):s.getQueryCache().get(o.queryHash)?.promise)?.catch(dd).finally(()=>{l.updateResult()}),o.notifyOnChangeProps?u:l.trackResult(u)}function oT(t,e){return eAe(t,P0e)}const tAe="modulepreload",nAe=function(t){return"/xstudio/"+t},U7={},en=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){let l=function(u){return Promise.all(u.map(c=>Promise.resolve(c).then(d=>({status:"fulfilled",value:d}),d=>({status:"rejected",reason:d}))))};document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=o?.nonce||o?.getAttribute("nonce");i=l(n.map(u=>{if(u=nAe(u),u in U7)return;U7[u]=!0;const c=u.endsWith(".css"),d=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${d}`))return;const f=document.createElement("link");if(f.rel=c?"stylesheet":tAe,c||(f.as="script"),f.crossOrigin="",f.href=u,a&&f.setAttribute("nonce",a),document.head.appendChild(f),c)return new Promise((p,m)=>{f.addEventListener("load",p),f.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${u}`)))})}))}function s(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return i.then(o=>{for(const a of o||[])a.status==="rejected"&&s(a.reason);return e().catch(s)})},rAe={default:50,custom:{"click-select":50,"multi-select":80,"property-edit":50,"undo-redo":50,"page-switch":100,"element-add":50,"element-remove":50,"drag-move":16,"overlay-update":16,"message-handler":50}},iAe=1e3;class sAe{metrics=new Map;longTaskCount=0;longTaskTotalDuration=0;postMessageCount=0;postMessageTotalSize=0;startTime=Date.now();thresholds;enabled;verbose=!1;observer=null;constructor(e=rAe){this.thresholds=e,this.enabled=!1,this.enabled&&this.setupLongTaskObserver()}setupLongTaskObserver(){if(typeof PerformanceObserver>"u"){console.warn("[LongTaskMonitor] PerformanceObserver not supported");return}try{this.observer=new PerformanceObserver(e=>{for(const n of e.getEntries())this.longTaskCount++,this.longTaskTotalDuration+=n.duration}),this.observer.observe({entryTypes:["longtask"]})}catch{console.warn("[LongTaskMonitor] longtask observation not supported")}}measure(e,n){if(!this.enabled)return n();const r=performance.now(),i=n(),s=performance.now()-r;return this.recordMetric(e,s),i}async measureAsync(e,n){if(!this.enabled)return n();const r=performance.now(),i=await n(),s=performance.now()-r;return this.recordMetric(e,s),i}start(e){if(!this.enabled)return()=>{};const n=performance.now();return()=>{const r=performance.now()-n;this.recordMetric(e,r)}}recordMetric(e,n){this.metrics.has(e)||this.metrics.set(e,[]);const r=this.metrics.get(e);if(r.push(n),r.length>iAe&&r.shift(),this.verbose){const i=this.thresholds.custom[e]??this.thresholds.default;n>i&&console.warn(`[Perf] ${e}: ${n.toFixed(1)}ms (> ${i}ms threshold)`)}}recordPostMessage(e){this.enabled&&(this.postMessageCount++,this.postMessageTotalSize+=e,this.postMessageCount%100===0&&console.log(`[postMessage] count: ${this.postMessageCount}, total: ${(this.postMessageTotalSize/1024).toFixed(1)}KB, avg: ${(this.postMessageTotalSize/this.postMessageCount).toFixed(0)}B`))}report(){const e={};for(const[r,i]of this.metrics){if(i.length===0)continue;const s=[...i].sort((a,l)=>a-l),o=i.reduce((a,l)=>a+l,0);e[r]={count:i.length,avg:o/i.length,max:s[s.length-1],min:s[0],p95:s[Math.floor(s.length*.95)]??s[s.length-1],p99:s[Math.floor(s.length*.99)]??s[s.length-1],total:o}}const n=Date.now();return{metrics:e,longTaskCount:this.longTaskCount,longTaskTotalDuration:this.longTaskTotalDuration,postMessageStats:{count:this.postMessageCount,totalSizeKB:this.postMessageTotalSize/1024,avgSizeBytes:this.postMessageCount>0?this.postMessageTotalSize/this.postMessageCount:0},startTime:this.startTime,reportTime:n,durationSeconds:(n-this.startTime)/1e3}}printReport(){const e=this.report();console.group(" Long Task Monitor Report"),console.log(`Duration: ${e.durationSeconds.toFixed(1)}s`),console.log(`Long Tasks: ${e.longTaskCount} (total: ${e.longTaskTotalDuration.toFixed(0)}ms)`),console.log(`postMessage: ${e.postMessageStats.count} calls, ${e.postMessageStats.totalSizeKB.toFixed(1)}KB total`),Object.keys(e.metrics).length>0&&(console.log(`
Metrics:`),console.table(Object.fromEntries(Object.entries(e.metrics).map(([n,r])=>[n,{count:r.count,avg:`${r.avg.toFixed(1)}ms`,max:`${r.max.toFixed(1)}ms`,p95:`${r.p95.toFixed(1)}ms`}])))),console.groupEnd()}setEnabled(e){this.enabled=e}setVerbose(e){this.verbose=e}reset(){this.metrics.clear(),this.longTaskCount=0,this.longTaskTotalDuration=0,this.postMessageCount=0,this.postMessageTotalSize=0,this.startTime=Date.now()}getMetric(e){const n=this.metrics.get(e);if(!n||n.length===0)return null;const r=[...n].sort((s,o)=>s-o),i=n.reduce((s,o)=>s+o,0);return{count:n.length,avg:i/n.length,max:r[r.length-1],min:r[0],p95:r[Math.floor(r.length*.95)]??r[r.length-1],p99:r[Math.floor(r.length*.99)]??r[r.length-1],total:i}}getLongTaskStats(){return{count:this.longTaskCount,totalDuration:this.longTaskTotalDuration,avgDuration:this.longTaskCount>0?this.longTaskTotalDuration/this.longTaskCount:0}}setThreshold(e,n){this.thresholds.custom[e]=n}cleanup(){this.observer?.disconnect(),this.observer=null}}const uX=new sAe;var Xy=RY();const oAe=G0(Xy);const aAe=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),lAe=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase()),H7=t=>{const e=lAe(t);return e.charAt(0).toUpperCase()+e.slice(1)},cX=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim(),uAe=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var cAe={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const dAe=x.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:s,iconNode:o,...a},l)=>x.createElement("svg",{ref:l,...cAe,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:cX("lucide",i),...!s&&!uAe(a)&&{"aria-hidden":"true"},...a},[...o.map(([u,c])=>x.createElement(u,c)),...Array.isArray(s)?s:[s]]));const et=(t,e)=>{const n=x.forwardRef(({className:r,...i},s)=>x.createElement(dAe,{ref:s,iconNode:e,className:cX(`lucide-${aAe(H7(t))}`,`lucide-${t}`,r),...i}));return n.displayName=H7(t),n};const hAe=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],_y=et("activity",hAe);const fAe=[["rect",{width:"6",height:"14",x:"4",y:"5",rx:"2",key:"1wwnby"}],["rect",{width:"6",height:"10",x:"14",y:"7",rx:"2",key:"1fe6j6"}],["path",{d:"M17 22v-5",key:"4b6g73"}],["path",{d:"M17 7V2",key:"hnrr36"}],["path",{d:"M7 22v-3",key:"1r4jpn"}],["path",{d:"M7 5V2",key:"liy1u9"}]],pAe=et("align-horizontal-distribute-center",fAe);const gAe=[["rect",{width:"6",height:"10",x:"9",y:"7",rx:"2",key:"yn7j0q"}],["path",{d:"M4 22V2",key:"tsjzd3"}],["path",{d:"M20 22V2",key:"1bnhr8"}]],V7=et("align-horizontal-space-around",gAe);const mAe=[["path",{d:"M22 17h-3",key:"1lwga1"}],["path",{d:"M22 7h-5",key:"o2endc"}],["path",{d:"M5 17H2",key:"1gx9xc"}],["path",{d:"M7 7H2",key:"6bq26l"}],["rect",{x:"5",y:"14",width:"14",height:"6",rx:"2",key:"1qrzuf"}],["rect",{x:"7",y:"4",width:"10",height:"6",rx:"2",key:"we8e9z"}]],AAe=et("align-vertical-distribute-center",mAe);const yAe=[["rect",{width:"14",height:"6",x:"5",y:"16",rx:"2",key:"1i8z2d"}],["rect",{width:"10",height:"6",x:"7",y:"2",rx:"2",key:"ypihtt"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],dX=et("align-vertical-justify-center",yAe);const vAe=[["rect",{width:"14",height:"6",x:"5",y:"12",rx:"2",key:"4l4tp2"}],["rect",{width:"10",height:"6",x:"7",y:"2",rx:"2",key:"ypihtt"}],["path",{d:"M2 22h20",key:"272qi7"}]],hX=et("align-vertical-justify-end",vAe);const bAe=[["rect",{width:"14",height:"6",x:"5",y:"16",rx:"2",key:"1i8z2d"}],["rect",{width:"10",height:"6",x:"7",y:"6",rx:"2",key:"13squh"}],["path",{d:"M2 2h20",key:"1ennik"}]],fX=et("align-vertical-justify-start",bAe);const xAe=[["rect",{width:"10",height:"6",x:"7",y:"9",rx:"2",key:"b1zbii"}],["path",{d:"M22 20H2",key:"1p1f7z"}],["path",{d:"M22 4H2",key:"1b7qnq"}]],CAe=et("align-vertical-space-around",xAe);const EAe=[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"M6 8h.01",key:"x9i8wu"}],["path",{d:"M10 8h.01",key:"1r9ogq"}],["path",{d:"M14 8h.01",key:"1primd"}]],FN=et("app-window-mac",EAe);const SAe=[["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}],["path",{d:"M10 4v4",key:"pp8u80"}],["path",{d:"M2 8h20",key:"d11cs7"}],["path",{d:"M6 4v4",key:"1svtjw"}]],wAe=et("app-window",SAe);const _Ae=[["path",{d:"M19 3H5",key:"1236rx"}],["path",{d:"M12 21V7",key:"gj6g52"}],["path",{d:"m6 15 6 6 6-6",key:"h15q88"}]],IAe=et("arrow-down-from-line",_Ae);const BAe=[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]],DAe=et("arrow-down",BAe);const TAe=[["path",{d:"M3 5v14",key:"1nt18q"}],["path",{d:"M21 12H7",key:"13ipq5"}],["path",{d:"m15 18 6-6-6-6",key:"6tx3qv"}]],MAe=et("arrow-right-from-line",TAe);const kAe=[["path",{d:"m16 3 4 4-4 4",key:"1x1c3m"}],["path",{d:"M20 7H4",key:"zbl0bi"}],["path",{d:"m8 21-4-4 4-4",key:"h9nckh"}],["path",{d:"M4 17h16",key:"g4d7ey"}]],PAe=et("arrow-right-left",kAe);const RAe=[["path",{d:"M17 12H3",key:"8awo09"}],["path",{d:"m11 18 6-6-6-6",key:"8c2y43"}],["path",{d:"M21 5v14",key:"nzette"}]],NAe=et("arrow-right-to-line",RAe);const LAe=[["path",{d:"M12 6v12",key:"1vza4d"}],["path",{d:"M17.196 9 6.804 15",key:"1ah31z"}],["path",{d:"m6.804 9 10.392 6",key:"1b6pxd"}]],FAe=et("asterisk",LAe);const $Ae=[["path",{d:"M4 20h16",key:"14thso"}],["path",{d:"m6 16 6-12 6 12",key:"1b4byz"}],["path",{d:"M8 12h8",key:"1wcyev"}]],zAe=et("baseline",$Ae);const OAe=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],jAe=et("bell",OAe);const QAe=[["path",{d:"M12 6V2H8",key:"1155em"}],["path",{d:"M15 11v2",key:"i11awn"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"M20 16a2 2 0 0 1-2 2H8.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 4 20.286V8a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2z",key:"11gyqh"}],["path",{d:"M9 11v2",key:"1ueba0"}]],UAe=et("bot-message-square",QAe);const HAe=[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]],pX=et("bot",HAe);const VAe=[["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]],im=et("box",VAe);const GAe=[["path",{d:"M10 12h4",key:"a56b0p"}],["path",{d:"M10 8h4",key:"1sr2af"}],["path",{d:"M14 21v-3a2 2 0 0 0-4 0v3",key:"1rgiei"}],["path",{d:"M6 10H4a2 2 0 0 0-2 2v7a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-2",key:"secmi2"}],["path",{d:"M6 21V5a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v16",key:"16ra0t"}]],gX=et("building-2",GAe);const KAe=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"m9 16 2 2 4-4",key:"19s6y9"}]],G7=et("calendar-check",KAe);const WAe=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]],qAe=et("calendar-days",WAe);const YAe=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],XAe=et("calendar",YAe);const JAe=[["path",{d:"M10 9v7",key:"ylp826"}],["path",{d:"M14 6v10",key:"1jy4vg"}],["circle",{cx:"17.5",cy:"12.5",r:"3.5",key:"1a9481"}],["circle",{cx:"6.5",cy:"12.5",r:"3.5",key:"2jlv1r"}]],ZAe=et("case-lower",JAe);const eye=[["path",{d:"m2 16 4.039-9.69a.5.5 0 0 1 .923 0L11 16",key:"d5nyq2"}],["path",{d:"M22 9v7",key:"pvm9v3"}],["path",{d:"M3.304 13h6.392",key:"1q3zxz"}],["circle",{cx:"18.5",cy:"12.5",r:"3.5",key:"z97x68"}]],tye=et("case-sensitive",eye);const nye=[["path",{d:"M15 11h4.5a1 1 0 0 1 0 5h-4a.5.5 0 0 1-.5-.5v-9a.5.5 0 0 1 .5-.5h3a1 1 0 0 1 0 5",key:"nxs35"}],["path",{d:"m2 16 4.039-9.69a.5.5 0 0 1 .923 0L11 16",key:"d5nyq2"}],["path",{d:"M3.304 13h6.392",key:"1q3zxz"}]],rye=et("case-upper",nye);const iye=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],mX=et("chart-column",iye);const sye=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"m19 9-5 5-4-4-3 3",key:"2osh9i"}]],oye=et("chart-line",sye);const aye=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],AX=et("check",aye);const lye=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],ho=et("chevron-down",lye);const uye=[["path",{d:"m17 18-6-6 6-6",key:"1yerx2"}],["path",{d:"M7 6v12",key:"1p53r6"}]],K7=et("chevron-first",uye);const cye=[["path",{d:"m7 18 6-6-6-6",key:"lwmzdw"}],["path",{d:"M17 6v12",key:"1o0aio"}]],a5=et("chevron-last",cye);const dye=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],KB=et("chevron-left",dye);const hye=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],vf=et("chevron-right",hye);const fye=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],Q_=et("chevron-up",fye);const pye=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],yX=et("circle-alert",pye);const gye=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],vX=et("circle-check-big",gye);const mye=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]],$3=et("circle-plus",mye);const Aye=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M8 4H6a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-2",key:"4jdomd"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v4",key:"3hqy98"}],["path",{d:"M21 14H11",key:"1bme5i"}],["path",{d:"m15 10-4 4 4 4",key:"5dvupr"}]],yye=et("clipboard-copy",Aye);const vye=[["path",{d:"M11 14h10",key:"1w8e9d"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v1.344",key:"1e62lh"}],["path",{d:"m17 18 4-4-4-4",key:"z2g111"}],["path",{d:"M8 4H6a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h12a2 2 0 0 0 1.793-1.113",key:"bjbb7m"}],["rect",{x:"8",y:"2",width:"8",height:"4",rx:"1",key:"ublpy"}]],fF=et("clipboard-paste",vye);const bye=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],pF=et("clock",bye);const xye=[["path",{d:"M12 12v4",key:"tww15h"}],["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M17 18h.5a1 1 0 0 0 0-9h-1.79A7 7 0 1 0 7 17.708",key:"xsb5ju"}]],Cye=et("cloud-alert",xye);const Eye=[["path",{d:"M12 13v8",key:"1l5pq0"}],["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"m8 17 4-4 4 4",key:"1quai1"}]],bX=et("cloud-upload",Eye);const Sye=[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]],xX=et("cloud",Sye);const wye=[["path",{d:"m16 18 6-6-6-6",key:"eg8j8"}],["path",{d:"m8 6-6 6 6 6",key:"ppft3o"}]],z3=et("code",wye);const _ye=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],gF=et("copy",_ye);const Iye=[["path",{d:"M20 4v7a4 4 0 0 1-4 4H4",key:"6o5b7l"}],["path",{d:"m9 10-5 5 5 5",key:"1kshq7"}]],Bye=et("corner-down-left",Iye);const Dye=[["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M17 20v2",key:"1rnc9c"}],["path",{d:"M17 2v2",key:"11trls"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M2 17h2",key:"7oei6x"}],["path",{d:"M2 7h2",key:"asdhe0"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"M20 17h2",key:"1fpfkl"}],["path",{d:"M20 7h2",key:"1o8tra"}],["path",{d:"M7 20v2",key:"4gnj0m"}],["path",{d:"M7 2v2",key:"1i4yhu"}],["rect",{x:"4",y:"4",width:"16",height:"16",rx:"2",key:"1vbyd7"}],["rect",{x:"8",y:"8",width:"8",height:"8",rx:"1",key:"z9xiuo"}]],Qb=et("cpu",Dye);const Tye=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],nl=et("database",Tye);const Mye=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],aT=et("download",Mye);const kye=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]],ky=et("ellipsis-vertical",kye);const Pye=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],yB=et("eye",Pye);const Rye=[["path",{d:"M12 16h.01",key:"1drbdi"}],["path",{d:"M16 16h.01",key:"1f9h7w"}],["path",{d:"M3 19a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V8.5a.5.5 0 0 0-.769-.422l-4.462 2.844A.5.5 0 0 1 15 10.5v-2a.5.5 0 0 0-.769-.422L9.77 10.922A.5.5 0 0 1 9 10.5V5a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2z",key:"1iv0i2"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],CX=et("factory",Rye);const Nye=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 12a1 1 0 0 0-1 1v1a1 1 0 0 1-1 1 1 1 0 0 1 1 1v1a1 1 0 0 0 1 1",key:"1oajmo"}],["path",{d:"M14 18a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1 1 1 0 0 1-1-1v-1a1 1 0 0 0-1-1",key:"mpwhp6"}]],W7=et("file-braces",Nye);const Lye=[["path",{d:"M12.659 22H18a2 2 0 0 0 2-2V8a2.4 2.4 0 0 0-.706-1.706l-3.588-3.588A2.4 2.4 0 0 0 14 2H6a2 2 0 0 0-2 2v9.34",key:"o6klzx"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10.378 12.622a1 1 0 0 1 3 3.003L8.36 20.637a2 2 0 0 1-.854.506l-2.867.837a.5.5 0 0 1-.62-.62l.836-2.869a2 2 0 0 1 .506-.853z",key:"zhnas1"}]],mF=et("file-pen",Lye);const Fye=[["path",{d:"M11 21a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1v-8a1 1 0 0 1 1-1",key:"likhh7"}],["path",{d:"M16 16a1 1 0 0 1-1 1H9a1 1 0 0 1-1-1V8a1 1 0 0 1 1-1",key:"17ky3x"}],["path",{d:"M21 6a2 2 0 0 0-.586-1.414l-2-2A2 2 0 0 0 17 2h-3a1 1 0 0 0-1 1v8a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1z",key:"1hyeo0"}]],$ye=et("file-stack",Fye);const zye=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],AF=et("file-text",zye);const Oye=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}]],yF=et("file",Oye);const jye=[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]],EX=et("folder",jye);const Qye=[["line",{x1:"22",x2:"2",y1:"6",y2:"6",key:"15w7dq"}],["line",{x1:"22",x2:"2",y1:"18",y2:"18",key:"1ip48p"}],["line",{x1:"6",x2:"6",y1:"2",y2:"22",key:"a2lnyx"}],["line",{x1:"18",x2:"18",y1:"2",y2:"22",key:"8vb6jd"}]],Uye=et("frame",Qye);const Hye=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],q7=et("funnel",Hye);const Vye=[["path",{d:"M2 3v18",key:"pzttux"}],["rect",{width:"12",height:"18",x:"6",y:"3",rx:"2",key:"btr8bg"}],["path",{d:"M22 3v18",key:"6jf3v"}]],Gye=et("gallery-horizontal",Vye);const Kye=[["path",{d:"m12 14 4-4",key:"9kzdfg"}],["path",{d:"M3.34 19a10 10 0 1 1 17.32 0",key:"19p75a"}]],SX=et("gauge",Kye);const Wye=[["line",{x1:"6",x2:"6",y1:"3",y2:"15",key:"17qcm7"}],["circle",{cx:"18",cy:"6",r:"3",key:"1h7g24"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M18 9a9 9 0 0 1-9 9",key:"n2h4wq"}]],wX=et("git-branch",Wye);const qye=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],U_=et("globe",qye);const Yye=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]],_X=et("grid-3x3",Yye);const Xye=[["circle",{cx:"12",cy:"9",r:"1",key:"124mty"}],["circle",{cx:"19",cy:"9",r:"1",key:"1ruzo2"}],["circle",{cx:"5",cy:"9",r:"1",key:"1a8b28"}],["circle",{cx:"12",cy:"15",r:"1",key:"1e56xg"}],["circle",{cx:"19",cy:"15",r:"1",key:"1a92ep"}],["circle",{cx:"5",cy:"15",r:"1",key:"5r1jwy"}]],Jye=et("grip-horizontal",Xye);const Zye=[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]],O3=et("grip-vertical",Zye);const eve=[["path",{d:"M3 7V5c0-1.1.9-2 2-2h2",key:"adw53z"}],["path",{d:"M17 3h2c1.1 0 2 .9 2 2v2",key:"an4l38"}],["path",{d:"M21 17v2c0 1.1-.9 2-2 2h-2",key:"144t0e"}],["path",{d:"M7 21H5c-1.1 0-2-.9-2-2v-2",key:"rtnfgi"}],["rect",{width:"7",height:"5",x:"7",y:"7",rx:"1",key:"1eyiv7"}],["rect",{width:"7",height:"5",x:"10",y:"12",rx:"1",key:"1qlmkx"}]],SE=et("group",eve);const tve=[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]],nve=et("hard-drive",tve);const rve=[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]],vF=et("hash",rve);const ive=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],aE=et("history",ive);const sve=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],ove=et("house",sve);const ave=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],lve=et("info",ave);const uve=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M7 7h.01",key:"7u93v4"}],["path",{d:"M17 7h.01",key:"14a9sn"}],["path",{d:"M7 17h.01",key:"19xn7k"}],["path",{d:"M17 17h.01",key:"1sd3ek"}]],IX=et("inspection-panel",uve);const cve=[["line",{x1:"19",x2:"10",y1:"4",y2:"4",key:"15jd3p"}],["line",{x1:"14",x2:"5",y1:"20",y2:"20",key:"bu0au3"}],["line",{x1:"15",x2:"9",y1:"4",y2:"20",key:"uljnxc"}]],dve=et("italic",cve);const hve=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],fve=et("key",hve);const pve=[["path",{d:"M10 8h.01",key:"1r9ogq"}],["path",{d:"M12 12h.01",key:"1mp3jc"}],["path",{d:"M14 8h.01",key:"1primd"}],["path",{d:"M16 12h.01",key:"1l6xoz"}],["path",{d:"M18 8h.01",key:"emo2bl"}],["path",{d:"M6 8h.01",key:"x9i8wu"}],["path",{d:"M7 16h10",key:"wp8him"}],["path",{d:"M8 12h.01",key:"czm47f"}],["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}]],gve=et("keyboard",pve);const mve=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],H_=et("layers",mve);const Ave=[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]],$N=et("layout-grid",Ave);const yve=[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]],BX=et("link-2",yve);const vve=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],lT=et("link",vve);const bve=[["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 19h8",key:"c3s6r1"}],["path",{d:"M3 10a2 2 0 0 0 2 2h3",key:"1npucw"}],["path",{d:"M3 5v12a2 2 0 0 0 2 2h3",key:"x1gjn2"}]],xve=et("list-tree",bve);const Cve=[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]],Eve=et("list",Cve);const Sve=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],wve=et("lock",Sve);const _ve=[["path",{d:"m12 15 4 4",key:"lnac28"}],["path",{d:"M2.352 10.648a1.205 1.205 0 0 0 0 1.704l2.296 2.296a1.205 1.205 0 0 0 1.704 0l6.029-6.029a1 1 0 1 1 3 3l-6.029 6.029a1.205 1.205 0 0 0 0 1.704l2.296 2.296a1.205 1.205 0 0 0 1.704 0l6.365-6.367A1 1 0 0 0 8.716 4.282z",key:"nlhkjb"}],["path",{d:"m5 8 4 4",key:"j6kj7e"}]],Ive=et("magnet",_ve);const Bve=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],Dve=et("mail",Bve);const Tve=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"m21 3-7 7",key:"1l2asr"}],["path",{d:"m3 21 7-7",key:"tjx5ai"}],["path",{d:"M9 21H3v-6",key:"wtvkvv"}]],zN=et("maximize-2",Tve);const Mve=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],bF=et("menu",Mve);const kve=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]],Pve=et("message-circle",kve);const Rve=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],DX=et("message-square",Rve);const Nve=[["path",{d:"m14 10 7-7",key:"oa77jy"}],["path",{d:"M20 10h-6V4",key:"mjg0md"}],["path",{d:"m3 21 7-7",key:"tjx5ai"}],["path",{d:"M4 14h6v6",key:"rmj7iw"}]],Lve=et("minimize-2",Nve);const Fve=[["path",{d:"M8 3v3a2 2 0 0 1-2 2H3",key:"hohbtr"}],["path",{d:"M21 8h-3a2 2 0 0 1-2-2V3",key:"5jw1f3"}],["path",{d:"M3 16h3a2 2 0 0 1 2 2v3",key:"198tvr"}],["path",{d:"M16 21v-3a2 2 0 0 1 2-2h3",key:"ph8mxp"}]],TX=et("minimize",Fve);const $ve=[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]],zve=et("monitor",$ve);const Ove=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],d_=et("moon",Ove);const jve=[["path",{d:"M12.586 12.586 19 19",key:"ea5xo7"}],["path",{d:"M3.688 3.037a.497.497 0 0 0-.651.651l6.5 15.999a.501.501 0 0 0 .947-.062l1.569-6.083a2 2 0 0 1 1.448-1.479l6.124-1.579a.5.5 0 0 0 .063-.947z",key:"277e5u"}]],h_=et("mouse-pointer",jve);const Qve=[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]],Uve=et("navigation",Qve);const Hve=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],MX=et("package",Hve);const Vve=[["rect",{width:"16",height:"6",x:"2",y:"2",rx:"2",key:"jcyz7m"}],["path",{d:"M10 16v-2a2 2 0 0 1 2-2h8a2 2 0 0 0 2-2V7a2 2 0 0 0-2-2h-2",key:"1b9h7c"}],["rect",{width:"4",height:"6",x:"8",y:"16",rx:"1",key:"d6e7yl"}]],Gve=et("paint-roller",Vve);const Kve=[["path",{d:"m14.622 17.897-10.68-2.913",key:"vj2p1u"}],["path",{d:"M18.376 2.622a1 1 0 1 1 3.002 3.002L17.36 9.643a.5.5 0 0 0 0 .707l.944.944a2.41 2.41 0 0 1 0 3.408l-.944.944a.5.5 0 0 1-.707 0L8.354 7.348a.5.5 0 0 1 0-.707l.944-.944a2.41 2.41 0 0 1 3.408 0l.944.944a.5.5 0 0 0 .707 0z",key:"18tc5c"}],["path",{d:"M9 8c-1.804 2.71-3.97 3.46-6.583 3.948a.507.507 0 0 0-.302.819l7.32 8.883a1 1 0 0 0 1.185.204C12.735 20.405 16 16.792 16 15",key:"ytzfxy"}]],Wve=et("paintbrush",Kve);const qve=[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]],ax=et("palette",qve);const Yve=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M9 21V9",key:"1oto5p"}]],uT=et("panels-top-left",Yve);const Xve=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],cT=et("pen",Xve);const Jve=[["path",{d:"M13 7 8.7 2.7a2.41 2.41 0 0 0-3.4 0L2.7 5.3a2.41 2.41 0 0 0 0 3.4L7 13",key:"orapub"}],["path",{d:"m8 6 2-2",key:"115y1s"}],["path",{d:"m18 16 2-2",key:"ee94s4"}],["path",{d:"m17 11 4.3 4.3c.94.94.94 2.46 0 3.4l-2.6 2.6c-.94.94-2.46.94-3.4 0L11 17",key:"cfq27r"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],Zve=et("pencil-ruler",Jve);const ebe=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],ZE=et("play",ebe);const tbe=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],yd=et("plus",tbe);const nbe=[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["path",{d:"M12 12h.01",key:"1mp3jc"}],["path",{d:"M17 12h.01",key:"1m0b6t"}],["path",{d:"M7 12h.01",key:"eqddd0"}]],rbe=et("rectangle-ellipsis",nbe);const ibe=[["path",{d:"M21 7v6h-6",key:"3ptur4"}],["path",{d:"M3 17a9 9 0 0 1 9-9 9 9 0 0 1 6 2.3l3 2.7",key:"1kgawr"}]],kX=et("redo",ibe);const sbe=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],Qy=et("refresh-cw",sbe);const obe=[["path",{d:"M4 7V4h16v3",key:"9msm58"}],["path",{d:"M5 20h6",key:"1h6pxn"}],["path",{d:"M13 4 8 20",key:"kqq6aj"}],["path",{d:"m15 15 5 5",key:"me55sn"}],["path",{d:"m20 15-5 5",key:"11p7ol"}]],abe=et("remove-formatting",obe);const lbe=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],xF=et("rotate-ccw",lbe);const ube=[["path",{d:"M10 15v-3",key:"1pjskw"}],["path",{d:"M14 15v-3",key:"1o1mqj"}],["path",{d:"M18 15v-3",key:"cws6he"}],["path",{d:"M2 8V4",key:"3jv1jz"}],["path",{d:"M22 6H2",key:"1iqbfk"}],["path",{d:"M22 8V4",key:"16f4ou"}],["path",{d:"M6 15v-3",key:"1ij1qe"}],["rect",{x:"2",y:"12",width:"20",height:"8",rx:"2",key:"1tqiko"}]],ON=et("ruler-dimension-line",ube);const cbe=[["path",{d:"M21.3 15.3a2.4 2.4 0 0 1 0 3.4l-2.6 2.6a2.4 2.4 0 0 1-3.4 0L2.7 8.7a2.41 2.41 0 0 1 0-3.4l2.6-2.6a2.41 2.41 0 0 1 3.4 0Z",key:"icamh8"}],["path",{d:"m14.5 12.5 2-2",key:"inckbg"}],["path",{d:"m11.5 9.5 2-2",key:"fmmyf7"}],["path",{d:"m8.5 6.5 2-2",key:"vc6u1g"}],["path",{d:"m17.5 15.5 2-2",key:"wo5hmg"}]],dbe=et("ruler",cbe);const hbe=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],fbe=et("save",hbe);const pbe=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],_c=et("search",pbe);const gbe=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],l5=et("send",gbe);const mbe=[["path",{d:"m16 16-4 4-4-4",key:"3dv8je"}],["path",{d:"M3 12h18",key:"1i2n21"}],["path",{d:"m8 8 4-4 4 4",key:"2bscm2"}]],Abe=et("separator-horizontal",mbe);const ybe=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],wf=et("settings",ybe);const vbe=[["path",{d:"M14 17H5",key:"gfn3mx"}],["path",{d:"M19 7h-9",key:"6i9tg"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}],["circle",{cx:"7",cy:"7",r:"3",key:"dfmy0x"}]],eS=et("settings-2",vbe);const bbe=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],xbe=et("shield",bbe);const Cbe=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],PX=et("shopping-cart",Cbe);const Ebe=[["path",{d:"M10 5H3",key:"1qgfaw"}],["path",{d:"M12 19H3",key:"yhmn1j"}],["path",{d:"M14 3v4",key:"1sua03"}],["path",{d:"M16 17v4",key:"1q0r14"}],["path",{d:"M21 12h-9",key:"1o4lsq"}],["path",{d:"M21 19h-5",key:"1rlt1p"}],["path",{d:"M21 5h-7",key:"1oszz2"}],["path",{d:"M8 10v4",key:"tgpxqk"}],["path",{d:"M8 12H3",key:"a7s4jb"}]],Sbe=et("sliders-horizontal",Ebe);const wbe=[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]],_be=et("smartphone",wbe);const Ibe=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],jN=et("sparkles",Ibe);const Bbe=[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Dbe=et("square-check-big",Bbe);const Tbe=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Mbe=et("square-check",Tbe);const kbe=[["path",{d:"M5 21a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2",key:"as5y1o"}],["path",{d:"M9 21h1",key:"15o7lz"}],["path",{d:"M14 21h1",key:"v9vybs"}]],Pbe=et("square-dashed-bottom",kbe);const Rbe=[["path",{d:"M5 3a2 2 0 0 0-2 2",key:"y57alp"}],["path",{d:"M19 3a2 2 0 0 1 2 2",key:"18rm91"}],["path",{d:"M21 19a2 2 0 0 1-2 2",key:"1j7049"}],["path",{d:"M5 21a2 2 0 0 1-2-2",key:"sbafld"}],["path",{d:"M9 3h1",key:"1yesri"}],["path",{d:"M9 21h1",key:"15o7lz"}],["path",{d:"M14 3h1",key:"1ec4yj"}],["path",{d:"M14 21h1",key:"v9vybs"}],["path",{d:"M3 9v1",key:"1r0deq"}],["path",{d:"M21 9v1",key:"mxsmne"}],["path",{d:"M3 14v1",key:"vnatye"}],["path",{d:"M21 14v1",key:"169vum"}]],Nbe=et("square-dashed",Rbe);const Lbe=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["path",{d:"M9 17c2 0 2.8-1 2.8-2.8V10c0-2 1-3.3 3.2-3",key:"m1af9g"}],["path",{d:"M9 11.2h5.7",key:"3zgcl2"}]],Fbe=et("square-function",Lbe);const $be=[["path",{d:"M12.034 12.681a.498.498 0 0 1 .647-.647l9 3.5a.5.5 0 0 1-.033.943l-3.444 1.068a1 1 0 0 0-.66.66l-1.067 3.443a.5.5 0 0 1-.943.033z",key:"xwnzip"}],["path",{d:"M21 11V5a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h6",key:"14rsvq"}]],CF=et("square-mouse-pointer",$be);const zbe=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]],Obe=et("square-plus",zbe);const jbe=[["path",{d:"M21 11a8 8 0 0 0-8-8",key:"1lxwo5"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1dv2y5"}]],Qbe=et("square-round-corner",jbe);const Ube=[["rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",key:"h1oib"}],["rect",{x:"8",y:"8",width:"8",height:"8",rx:"1",key:"z9xiuo"}]],Hbe=et("square-square",Ube);const Vbe=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]],Rx=et("square",Vbe);const Gbe=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],RX=et("star",Gbe);const Kbe=[["rect",{width:"20",height:"6",x:"2",y:"4",rx:"2",key:"qdearl"}],["rect",{width:"20",height:"6",x:"2",y:"14",rx:"2",key:"1xrn6j"}]],Wbe=et("stretch-horizontal",Kbe);const qbe=[["rect",{width:"6",height:"20",x:"4",y:"2",rx:"2",key:"19qu7m"}],["rect",{width:"6",height:"20",x:"14",y:"2",rx:"2",key:"24v0nk"}]],Ybe=et("stretch-vertical",qbe);const Xbe=[["path",{d:"M16 4H9a3 3 0 0 0-2.83 4",key:"43sutm"}],["path",{d:"M14 12a4 4 0 0 1 0 8H6",key:"nlfj13"}],["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}]],Jbe=et("strikethrough",Xbe);const Zbe=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],QN=et("sun",Zbe);const exe=[["path",{d:"M11 17a4 4 0 0 1-8 0V5a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2Z",key:"1ldrpk"}],["path",{d:"M16.7 13H19a2 2 0 0 1 2 2v4a2 2 0 0 1-2 2H7",key:"11i5po"}],["path",{d:"M 7 17h.01",key:"1euzgo"}],["path",{d:"m11 8 2.3-2.3a2.4 2.4 0 0 1 3.404.004L18.6 7.6a2.4 2.4 0 0 1 .026 3.434L9.9 19.8",key:"o2gii7"}]],V_=et("swatch-book",exe);const txe=[["path",{d:"M9 3H5a2 2 0 0 0-2 2v4m6-6h10a2 2 0 0 1 2 2v4M9 3v18m0 0h10a2 2 0 0 0 2-2V9M9 21H5a2 2 0 0 1-2-2V9m0 0h18",key:"gugj83"}]],G_=et("table-2",txe);const nxe=[["path",{d:"M15 3v18",key:"14nvp0"}],["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M21 9H3",key:"1338ky"}],["path",{d:"M21 15H3",key:"9uk58r"}]],rxe=et("table-properties",nxe);const ixe=[["path",{d:"M12 3v18",key:"108xh3"}],["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}]],sxe=et("table",ixe);const oxe=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["line",{x1:"12",x2:"12.01",y1:"18",y2:"18",key:"1dp563"}]],axe=et("tablet",oxe);const lxe=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],EF=et("tag",lxe);const uxe=[["path",{d:"M14.5 2v17.5c0 1.4-1.1 2.5-2.5 2.5c-1.4 0-2.5-1.1-2.5-2.5V2",key:"125lnx"}],["path",{d:"M8.5 2h7",key:"csnxdl"}],["path",{d:"M14.5 16h-5",key:"1ox875"}]],cxe=et("test-tube",uxe);const dxe=[["path",{d:"M21 5H3",key:"1fi0y6"}],["path",{d:"M17 12H7",key:"16if0g"}],["path",{d:"M19 19H5",key:"vjpgq2"}]],NX=et("text-align-center",dxe);const hxe=[["path",{d:"M21 5H3",key:"1fi0y6"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M21 19H7",key:"4cu937"}]],LX=et("text-align-end",hxe);const fxe=[["path",{d:"M21 5H3",key:"1fi0y6"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M17 19H3",key:"z6ezky"}]],SF=et("text-align-start",fxe);const pxe=[["path",{d:"m16 16-3 3 3 3",key:"117b85"}],["path",{d:"M3 12h14.5a1 1 0 0 1 0 7H13",key:"18xa6z"}],["path",{d:"M3 19h6",key:"1ygdsz"}],["path",{d:"M3 5h18",key:"1u36vt"}]],gxe=et("text-wrap",pxe);const mxe=[["circle",{cx:"9",cy:"12",r:"3",key:"u3jwor"}],["rect",{width:"20",height:"14",x:"2",y:"5",rx:"7",key:"g7kal2"}]],Axe=et("toggle-left",mxe);const yxe=[["circle",{cx:"15",cy:"12",r:"3",key:"1afu0r"}],["rect",{width:"20",height:"14",x:"2",y:"5",rx:"7",key:"g7kal2"}]],vxe=et("toggle-right",yxe);const bxe=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Qu=et("trash-2",bxe);const xxe=[["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],N0=et("trash",xxe);const Cxe=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],FX=et("triangle-alert",Cxe);const Exe=[["path",{d:"M12 4v16",key:"1654pz"}],["path",{d:"M4 7V5a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1v2",key:"e0r10z"}],["path",{d:"M9 20h6",key:"s66wpe"}]],Ug=et("type",Exe);const Sxe=[["path",{d:"M6 4v6a6 6 0 0 0 12 0V4",key:"9kb039"}],["line",{x1:"4",x2:"20",y1:"20",y2:"20",key:"nun2al"}]],wxe=et("underline",Sxe);const _xe=[["path",{d:"M3 7v6h6",key:"1v2h90"}],["path",{d:"M21 17a9 9 0 0 0-9-9 9 9 0 0 0-6 2.3L3 13",key:"1r6uu6"}]],$X=et("undo",_xe);const Ixe=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],Bxe=et("upload",Ixe);const Dxe=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Txe=et("user",Dxe);const Mxe=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],wF=et("users",Mxe);const kxe=[["path",{d:"M8 21s-4-3-4-9 4-9 4-9",key:"uto9ud"}],["path",{d:"M16 3s4 3 4 9-4 9-4 9",key:"4w2vsq"}],["line",{x1:"15",x2:"9",y1:"9",y2:"15",key:"f7djnv"}],["line",{x1:"9",x2:"15",y1:"9",y2:"15",key:"1shsy8"}]],K_=et("variable",kxe);const Pxe=[["path",{d:"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72",key:"ul74o6"}],["path",{d:"m14 7 3 3",key:"1r5n42"}],["path",{d:"M5 6v4",key:"ilb8ba"}],["path",{d:"M19 14v4",key:"blhpug"}],["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M7 8H3",key:"zfb6yr"}],["path",{d:"M21 16h-4",key:"1cnmox"}],["path",{d:"M11 3H9",key:"1obp7u"}]],Rxe=et("wand-sparkles",Pxe);const Nxe=[["rect",{width:"8",height:"8",x:"3",y:"3",rx:"2",key:"by2w9f"}],["path",{d:"M7 11v4a2 2 0 0 0 2 2h4",key:"xkn7yn"}],["rect",{width:"8",height:"8",x:"13",y:"13",rx:"2",key:"1cgmvn"}]],UN=et("workflow",Nxe);const Lxe=[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.106-3.105c.32-.322.863-.22.983.218a6 6 0 0 1-8.259 7.057l-7.91 7.91a1 1 0 0 1-2.999-3l7.91-7.91a6 6 0 0 1 7.057-8.259c.438.12.54.662.219.984z",key:"1ngwbx"}]],Fxe=et("wrench",Lxe);const $xe=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],vd=et("x",$xe);const zxe=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],xx=et("zap",zxe);const Oxe=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]],jxe=et("zoom-in",Oxe),wp=18e3,b0=2400,lx=1200,Y7=4,X7=.28,A2=30,u5=260,j3=.08,Q3=.024,zX=.045,_F=.015,Qxe=150,Uxe={type:"text",value:"BESPOKE"},OX={name:"sand",colors:{dark:{primary:{r:.92,g:.78,b:.52},secondary:{r:.75,g:.58,b:.35},dust:{r:.85,g:.72,b:.48}},light:{primary:{r:.35,g:.25,b:.12},secondary:{r:.28,g:.18,b:.08},dust:{r:.42,g:.32,b:.18}}},drift:{primarySpeed:1.2,primaryDirection:-1,lowLayerEffect:2.5,midLayerEffect:1.8,highLayerEffect:.8,waveSpeed:.4,waveScale:.015,clusterStrength:1.5,clusterScale:.008},vortex:{growthRate:.15,maxRadius:180,minRadius:20,maxHeight:250,rotationSpeed:3,spiralTightness:.03,suctionStrength:15,liftForce:8,coreDensity:1,edgeDensity:.3,tiltAmount:.15,tiltDirection:1},form:{turbulence:4,gustStrength:12,gustFrequency:.6,convergenceForce:.85,layerCount:5},particleBaseSize:250,particleSizeVariance:80,layerSizeReduction:.5,blending:"additive",baseAlpha:{low:.7,high:.4},shaderTweaks:{vortexFadeMultiplier:160,formIntensityMultiplier:4,aliveBreathScale:2.5,vibrationScale:.7}};let JC=null,J7=null;function Hxe(){return JC||(JC=document.createElement("canvas"),JC.width=b0,JC.height=lx,J7=JC.getContext("2d",{willReadFrequently:!0})),{canvas:JC,ctx:J7}}function Mu(t,e,n=0){return parseFloat(t.getAttribute(e)||String(n))}function Z7(t,e,n){const r=t.getAttribute("points")?.trim().split(/\s+|,/).map(Number)||[];if(!(r.length<4)){e.beginPath(),e.moveTo(r[0],r[1]);for(let i=2;i<r.length;i+=2)e.lineTo(r[i],r[i+1]);n&&e.closePath(),e.stroke()}}const Vxe={path:(t,e)=>{const n=t.getAttribute("d");n&&e.stroke(new Path2D(n))},circle:(t,e)=>{e.beginPath(),e.arc(Mu(t,"cx"),Mu(t,"cy"),Mu(t,"r"),0,Math.PI*2),e.stroke()},line:(t,e)=>{e.beginPath(),e.moveTo(Mu(t,"x1"),Mu(t,"y1")),e.lineTo(Mu(t,"x2"),Mu(t,"y2")),e.stroke()},rect:(t,e)=>{const n=Mu(t,"x"),r=Mu(t,"y"),i=Mu(t,"width"),s=Mu(t,"height"),o=Mu(t,"rx");o>0?(e.beginPath(),e.roundRect(n,r,i,s,o),e.stroke()):e.strokeRect(n,r,i,s)},ellipse:(t,e)=>{e.beginPath(),e.ellipse(Mu(t,"cx"),Mu(t,"cy"),Mu(t,"rx"),Mu(t,"ry"),0,0,Math.PI*2),e.stroke()},polyline:(t,e)=>Z7(t,e,!1),polygon:(t,e)=>Z7(t,e,!0)};function Gxe(t,e){const r=new DOMParser().parseFromString(t,"image/svg+xml").querySelector("svg");if(!r)return;const i=r.getAttribute("viewBox")?.split(" ").map(Number)||[0,0,24,24],[,,s,o]=i;e.save(),e.translate(b0/2-s*A2/2,lx/2-o*A2/2),e.scale(A2,A2),e.lineWidth=2,e.strokeStyle=e.fillStyle="white",e.lineCap=e.lineJoin="round",r.querySelectorAll("path, circle, line, rect, ellipse, polyline, polygon").forEach(a=>{const l=Vxe[a.tagName.toLowerCase()];l&&l(a,e)}),e.restore()}function Kxe(t,e){e.textAlign="center";const n=b0*.85;e.font=`bold ${u5}px sans-serif`;let r=u5;const i=e.measureText(t).width;i>n&&(r=Math.floor(u5*n/i),e.font=`bold ${r}px sans-serif`);const s=e.measureText(t),o=s.actualBoundingBoxAscent+s.actualBoundingBoxDescent,a=lx/2+s.actualBoundingBoxAscent-o/2;e.fillText(t,b0/2,a)}function L0(t){const{ctx:e}=Hxe();e.fillStyle="black",e.fillRect(0,0,b0,lx),e.fillStyle="white",t.type==="text"?Kxe(t.value,e):Gxe(t.value,e);const{data:n}=e.getImageData(0,0,b0,lx),r=[],i=b0/2,s=lx/2;for(let a=0;a<lx;a+=Y7)for(let l=0;l<b0;l+=Y7)n[(a*b0+l)*4]>128&&r.push((l-i)*X7,-(a-s)*X7,(Math.random()-.5)*12);const o=r.length/3;for(;r.length/3<wp;){const a=Math.floor(Math.random()*o)*3;r.push(r[a]+(Math.random()-.5)*7,r[a+1]+(Math.random()-.5)*7,r[a+2])}return new Float32Array(r.slice(0,wp*3))}const Wxe=`
  vec3 mod289(vec3 x) { return x - floor(x * (1.0 / 289.0)) * 289.0; }
  vec4 mod289(vec4 x) { return x - floor(x * (1.0 / 289.0)) * 289.0; }
  vec4 permute(vec4 x) { return mod289(((x*34.0)+1.0)*x); }
  vec4 taylorInvSqrt(vec4 r) { return 1.79284291400159 - 0.85373472095314 * r; }

  float snoise(vec3 v) {
    const vec2 C = vec2(1.0/6.0, 1.0/3.0);
    const vec4 D = vec4(0.0, 0.5, 1.0, 2.0);
    vec3 i  = floor(v + dot(v, C.yyy));
    vec3 x0 = v - i + dot(i, C.xxx);
    vec3 g = step(x0.yzx, x0.xyz);
    vec3 l = 1.0 - g;
    vec3 i1 = min(g.xyz, l.zxy);
    vec3 i2 = max(g.xyz, l.zxy);
    vec3 x1 = x0 - i1 + C.xxx;
    vec3 x2 = x0 - i2 + C.yyy;
    vec3 x3 = x0 - D.yyy;
    i = mod289(i);
    vec4 p = permute(permute(permute(
              i.z + vec4(0.0, i1.z, i2.z, 1.0))
            + i.y + vec4(0.0, i1.y, i2.y, 1.0))
            + i.x + vec4(0.0, i1.x, i2.x, 1.0));
    float n_ = 0.142857142857;
    vec3 ns = n_ * D.wyz - D.xzx;
    vec4 j = p - 49.0 * floor(p * ns.z * ns.z);
    vec4 x_ = floor(j * ns.z);
    vec4 y_ = floor(j - 7.0 * x_);
    vec4 x = x_ *ns.x + ns.yyyy;
    vec4 y = y_ *ns.x + ns.yyyy;
    vec4 h = 1.0 - abs(x) - abs(y);
    vec4 b0 = vec4(x.xy, y.xy);
    vec4 b1 = vec4(x.zw, y.zw);
    vec4 s0 = floor(b0)*2.0 + 1.0;
    vec4 s1 = floor(b1)*2.0 + 1.0;
    vec4 sh = -step(h, vec4(0.0));
    vec4 a0 = b0.xzyw + s0.xzyw*sh.xxyy;
    vec4 a1 = b1.xzyw + s1.xzyw*sh.zzww;
    vec3 p0 = vec3(a0.xy, h.x);
    vec3 p1 = vec3(a0.zw, h.y);
    vec3 p2 = vec3(a1.xy, h.z);
    vec3 p3 = vec3(a1.zw, h.w);
    vec4 norm = taylorInvSqrt(vec4(dot(p0,p0), dot(p1,p1), dot(p2,p2), dot(p3,p3)));
    p0 *= norm.x; p1 *= norm.y; p2 *= norm.z; p3 *= norm.w;
    vec4 m = max(0.6 - vec4(dot(x0,x0), dot(x1,x1), dot(x2,x2), dot(x3,x3)), 0.0);
    m = m * m;
    return 42.0 * dot(m*m, vec4(dot(p0,x0), dot(p1,x1), dot(p2,x2), dot(p3,x3)));
  }
`,qxe=`
  attribute float random;
  attribute float heightLayer;
  attribute float particleSize;
  attribute vec3 targetPos;
  attribute vec3 prevTargetPos;

  uniform float morphProgress;
  uniform float transitionProgress;
  uniform float time;

  //  
  uniform float vortexActive;
  uniform vec2 vortexCenter;
  uniform float vortexStrength;
  uniform float vortexRadius;
  uniform float vortexHeight;

  // / 
  uniform float primarySpeed;
  uniform float primaryDirection;
  uniform float lowLayerEffect;
  uniform float midLayerEffect;
  uniform float highLayerEffect;
  uniform float waveSpeed;
  uniform float waveScale;
  uniform float clusterStrength;
  uniform float clusterScale;

  //  
  uniform float turbulence;
  uniform float gustStrength;
  uniform float gustFrequency;
  uniform float convergenceForce;

  //  
  uniform float rotationSpeed;
  uniform float spiralTightness;
  uniform float suctionStrength;
  uniform float liftForce;
  uniform float coreDensity;
  uniform float edgeDensity;
  uniform float tiltAmount;
  uniform float tiltDirection;
  uniform float maxVortexHeight;

  //  
  uniform float formIntensityMultiplier;
  uniform float aliveBreathScale;
  uniform float vibrationScale;
  uniform float baseAlphaLow;
  uniform float baseAlphaHigh;

  varying float vAlpha;
  varying float vHeightLayer;
  varying float vMorph;
  varying float vVortexInfluence;
  varying float vDistortion;

  ${Wxe}

  void main() {
    vec3 currentTarget = mix(prevTargetPos, targetPos, transitionProgress);
    vec3 pos = position;

    float layerFactor = heightLayer;

    // ========== : /  ==========
    float baseMove = time * primarySpeed;
    float moveNoise = snoise(vec3(pos.x * 0.008, pos.y * 0.008, time * 0.2)) * 0.4;

    //  
    float lowEffect = (1.0 - layerFactor) * lowLayerEffect;
    float lowMove = sin(time * 1.8 + random * 6.28 + pos.x * 0.01) * lowEffect;

    float midEffect = (1.0 - abs(layerFactor - 0.5) * 2.0) * midLayerEffect;
    float midMove = sin(time * 0.6 + pos.y * 0.005 + random * 3.14) * midEffect * 8.0;

    float highEffect = layerFactor * highLayerEffect;
    float highMoveX = cos(time * 0.2 + random * 6.28) * highEffect * 12.0;
    float highMoveY = sin(time * 0.25 + random * 4.0) * highEffect * 10.0;

    // 
    float wave = sin(time * waveSpeed + pos.x * waveScale * 40.0) *
                 cos(time * waveSpeed * 0.6 + pos.y * waveScale * 25.0) *
                 (1.0 - layerFactor) * 4.0;

    // 
    vec3 clusterPos = vec3(pos.x * clusterScale, pos.y * clusterScale, time * 0.1);
    float clusterX = snoise(clusterPos) * clusterStrength * 20.0;
    float clusterY = snoise(clusterPos + vec3(100.0, 0.0, 0.0)) * clusterStrength * 15.0;

    //   (Curl  -     )
    vec3 windPos = vec3(pos.xy * 0.003, time * 0.08);
    float windAngle = snoise(windPos) * 6.28; //   
    vec2 circularWind = vec2(cos(windAngle), sin(windAngle)) * primarySpeed * 8.0;

    //    (  )
    float distFromCenter = length(pos.xy);
    float convergeFactor = smoothstep(100.0, 250.0, distFromCenter);
    vec2 toCenter = -normalize(pos.xy + vec2(0.001)) * convergeFactor * 2.0;

    vec3 driftMove = vec3(
      circularWind.x + moveNoise * 8.0 + highMoveX + clusterX + lowMove + toCenter.x,
      circularWind.y + midMove + wave + clusterY + highMoveY + toCenter.y,
      snoise(vec3(pos.xy * 0.008, time * 0.3)) * 4.0 * (0.3 + layerFactor * 0.7)
    );

    // ==========   ==========
    float vortexInfluence = 0.0;
    vec3 vortexMove = vec3(0.0);

    if (vortexActive > 0.5 && vortexStrength > 0.01) {
      vec2 toVortex = pos.xy - vortexCenter;
      float distToVortex = length(toVortex);
      float normalizedDist = distToVortex / vortexRadius;

      vortexInfluence = smoothstep(1.2, 0.0, normalizedDist) * vortexStrength;

      if (vortexInfluence > 0.01) {
        float angle = atan(toVortex.y, toVortex.x);
        float spiralAngle = angle + time * rotationSpeed * (1.0 + vortexStrength);
        float rotSpeed = rotationSpeed * (1.0 + (1.0 - normalizedDist) * 1.5);
        spiralAngle += time * rotSpeed;

        float spiralRadius = distToVortex * (1.0 + vortexStrength * spiralTightness * 0.3);

        vec2 rotatedPos = vec2(
          cos(spiralAngle) * spiralRadius,
          sin(spiralAngle) * spiralRadius
        );

        float suction = suctionStrength * vortexInfluence * (1.0 - layerFactor * 0.3);
        vec2 suctionDir = -normalize(toVortex + vec2(0.001));

        float lift = liftForce * vortexInfluence * vortexStrength;
        lift *= (1.0 - normalizedDist * 0.4);

        float maxLift = vortexHeight * (1.0 - normalizedDist * 0.2);
        float currentLift = lift * (1.0 - smoothstep(0.0, maxLift, pos.y + 80.0));

        float tilt = tiltAmount * vortexStrength * pos.y * 0.008 * tiltDirection;

        vortexMove = vec3(
          (rotatedPos.x - toVortex.x) * vortexInfluence + suctionDir.x * suction + tilt,
          currentLift + (rotatedPos.y - toVortex.y) * vortexInfluence * 0.4,
          suctionDir.y * suction * 0.4
        );

        vec3 turbNoisePos = vec3(pos.xy * 0.015, time * 1.2);
        vortexMove += vec3(
          snoise(turbNoisePos) * 6.0,
          snoise(turbNoisePos + vec3(50.0, 0.0, 0.0)) * 5.0,
          snoise(turbNoisePos + vec3(0.0, 50.0, 0.0)) * 3.0
        ) * vortexInfluence * vortexStrength;
      }
    }

    // ==========    ==========
    vec3 formMove = vec3(0.0);

    if (morphProgress > 0.01) {
      vec3 turbPos = vec3(pos.xy * 0.01, time * 0.5);
      float turbX = snoise(turbPos) * turbulence;
      float turbY = snoise(turbPos + vec3(80.0, 0.0, 0.0)) * turbulence * 0.7;

      float gustTime = time * gustFrequency;
      float gust = sin(gustTime + random * 6.28) * cos(gustTime * 0.6) * gustStrength;

      formMove = vec3(turbX + gust, turbY, snoise(turbPos + vec3(0.0, 80.0, 0.0)) * turbulence * 0.4);
    }

    // ==========    ==========
    vec3 morphedPos = mix(position, currentTarget, morphProgress);

    float driftIntensity = (1.0 - morphProgress) * (1.0 - morphProgress);
    morphedPos += driftMove * driftIntensity;

    float formIntensity = morphProgress * (1.0 - morphProgress) * formIntensityMultiplier;
    morphedPos += formMove * formIntensity * 0.6;

    morphedPos += vortexMove * (1.0 - morphProgress * 0.25);

    pos = morphedPos;

    // ==========      ==========
    if (morphProgress > 0.5) {
      float aliveIntensity = (morphProgress - 0.5) * 2.0;

      float breathe = sin(time * 1.0) * 0.4 + sin(time * 0.5) * 0.25;
      vec3 breatheMove = normalize(currentTarget) * breathe * aliveBreathScale * aliveIntensity;

      float wavePhase = length(currentTarget.xy) * 0.04 + time * 1.8;
      float waveAmp = sin(wavePhase + random * 6.28) * 0.4;
      vec3 waveMove = vec3(
        cos(wavePhase) * waveAmp,
        sin(wavePhase * 0.7) * waveAmp,
        sin(wavePhase * 1.0) * waveAmp * 0.25
      ) * aliveIntensity;

      vec3 jitter = vec3(
        sin(time * 6.0 + random * 25.0),
        cos(time * 5.5 + random * 20.0),
        sin(time * 4.5 + random * 15.0)
      ) * 0.6 * aliveIntensity;

      float edgeFactor = smoothstep(0.0, 40.0, length(currentTarget.xy));
      vec3 edgeWobble = vec3(
        sin(time * 2.5 + currentTarget.x * 0.08) * 0.6,
        cos(time * 2.0 + currentTarget.y * 0.08) * 0.6,
        sin(time * 1.5) * 0.3
      ) * edgeFactor * aliveIntensity;

      pos += breatheMove + waveMove + jitter + edgeWobble;
    }

    //  
    vec3 vibration = vec3(
      sin(time * 4.0 + random * 15.0) * 0.3,
      cos(time * 3.5 + random * 12.0) * 0.3,
      sin(time * 2.5 + random * 8.0) * 0.2
    ) * (morphProgress * vibrationScale + vortexInfluence * 0.7);
    pos += vibration;

    // ==========  ==========
    float distFade = 1.0 - smoothstep(180.0, 350.0, length(pos.xy));
    float vortexBrightness = 1.0 + vortexInfluence * 0.4;
    float formBrightness = 1.0 + morphProgress * 0.25;

    float layerAlpha = mix(baseAlphaLow, baseAlphaHigh, layerFactor);

    vAlpha = layerAlpha * distFade * vortexBrightness * formBrightness;
    vHeightLayer = heightLayer;
    vMorph = morphProgress;
    vVortexInfluence = vortexInfluence;
    vDistortion = vortexInfluence * vortexStrength + morphProgress * 0.25;

    vec4 mvPos = modelViewMatrix * vec4(pos, 1.0);
    gl_Position = projectionMatrix * mvPos;

    float layerSize = mix(1.2, 0.8, layerFactor);
    float vortexSize = 1.0 + vortexInfluence * 0.3;
    float formSize = 1.0 + morphProgress * 0.15;

    float finalSize = particleSize * layerSize * vortexSize * formSize;
    gl_PointSize = (finalSize / -mvPos.z) * (0.9 + random * 0.3);
  }
`,Yxe=`
  uniform vec3 colorPrimary;
  uniform vec3 colorSecondary;
  uniform vec3 colorDust;
  uniform float time;
  uniform vec3 morphColorTint;
  uniform vec3 hazeColor;

  varying float vAlpha;
  varying float vHeightLayer;
  varying float vMorph;
  varying float vVortexInfluence;
  varying float vDistortion;

  void main() {
    vec2 uv = gl_PointCoord - 0.5;
    float dist = length(uv);
    if (dist > 0.5) discard;

    float alpha = exp(-dist * dist * 4.0);
    alpha = smoothstep(0.0, 1.0, alpha);
    alpha *= vAlpha;

    vec3 baseColor = mix(colorSecondary, colorDust, vHeightLayer);
    baseColor = mix(baseColor, colorPrimary, vVortexInfluence * 0.4);
    baseColor += morphColorTint * vMorph;
    baseColor += vec3(0.03, 0.03, 0.03) * sin(time * 0.6 + vHeightLayer * 3.14);

    float haze = vDistortion * 0.12;
    baseColor = mix(baseColor, hazeColor, haze);

    gl_FragColor = vec4(baseColor, alpha * 0.85);
  }
`,jX=x.createContext(null);function Xxe({children:t,initialContent:e=Uxe,leaveDelayMs:n=Qxe,preset:r,initialEffectType:i="sand"}){const s=x.useRef(0),o=x.useRef(e),[a,l]=x.useState(0),u=x.useRef(null),[c,d]=x.useState(i),f=r?.vortex.minRadius??15,p=x.useRef({active:!1,x:0,y:0,strength:0,radius:f,height:0}),m=x.useRef(!1),v=x.useCallback(y=>{u.current&&(clearTimeout(u.current),u.current=null),y?(m.current=!1,o.current=y,s.current=1,l(A=>A+1)):(m.current=!0,u.current=setTimeout(()=>{m.current&&(s.current=0,m.current=!1),u.current=null},n))},[n]);return h.jsx(jX.Provider,{value:{targetMorphRef:s,contentRef:o,setHoverContent:v,contentVersion:a,vortexRef:p,effectType:c,setEffectType:d},children:t})}function sv(){const t=x.useContext(jX);if(!t)throw new Error("useParticleBackground must be used within ParticleBackgroundProvider");return t}const IF="182",Jxe=0,eO=1,Zxe=2,vB=1,eCe=2,Uw=3,Jy=0,gd=1,qg=2,Lp=0,Cx=1,Nx=2,tO=3,nO=4,tCe=5,ex=100,nCe=101,rCe=102,iCe=103,sCe=104,oCe=200,aCe=201,lCe=202,uCe=203,HN=204,VN=205,cCe=206,dCe=207,hCe=208,fCe=209,pCe=210,gCe=211,mCe=212,ACe=213,yCe=214,GN=0,KN=1,WN=2,wE=3,qN=4,YN=5,XN=6,JN=7,QX=0,vCe=1,bCe=2,em=0,BF=1,DF=2,TF=3,MF=4,kF=5,PF=6,RF=7,UX=300,Lx=301,_E=302,ZN=303,e6=304,dT=306,t6=1e3,C0=1001,n6=1002,rl=1003,xCe=1004,y2=1005,Wo=1006,c5=1007,ux=1008,uf=1009,HX=1010,VX=1011,W_=1012,NF=1013,sm=1014,cf=1015,Ic=1016,LF=1017,FF=1018,q_=1020,GX=35902,KX=35899,WX=1021,qX=1022,df=1023,F0=1026,cx=1027,$F=1028,zF=1029,IE=1030,OF=1031,jF=1033,bB=33776,xB=33777,CB=33778,EB=33779,r6=35840,i6=35841,s6=35842,o6=35843,a6=36196,l6=37492,u6=37496,c6=37488,d6=37489,h6=37490,f6=37491,p6=37808,g6=37809,m6=37810,A6=37811,y6=37812,v6=37813,b6=37814,x6=37815,C6=37816,E6=37817,S6=37818,w6=37819,_6=37820,I6=37821,B6=36492,D6=36494,T6=36495,M6=36283,k6=36284,P6=36285,R6=36286,CCe=3200,ECe=0,SCe=1,Iy="",rf="srgb",BE="srgb-linear",WB="linear",as="srgb",ZC=7680,rO=519,wCe=512,_Ce=513,ICe=514,QF=515,BCe=516,DCe=517,UF=518,TCe=519,iO=35044,sO="300 es",Yg=2e3,qB=2001;function YX(t){for(let e=t.length-1;e>=0;--e)if(t[e]>=65535)return!0;return!1}function YB(t){return document.createElementNS("http://www.w3.org/1999/xhtml",t)}function MCe(){const t=YB("canvas");return t.style.display="block",t}const oO={};function aO(...t){const e="THREE."+t.shift();console.log(e,...t)}function Tr(...t){const e="THREE."+t.shift();console.warn(e,...t)}function Xi(...t){const e="THREE."+t.shift();console.error(e,...t)}function Y_(...t){const e=t.join(" ");e in oO||(oO[e]=!0,Tr(...t))}function kCe(t,e,n){return new Promise(function(r,i){function s(){switch(t.clientWaitSync(e,t.SYNC_FLUSH_COMMANDS_BIT,0)){case t.WAIT_FAILED:i();break;case t.TIMEOUT_EXPIRED:setTimeout(s,n);break;default:r()}}setTimeout(s,n)})}class tS{addEventListener(e,n){this._listeners===void 0&&(this._listeners={});const r=this._listeners;r[e]===void 0&&(r[e]=[]),r[e].indexOf(n)===-1&&r[e].push(n)}hasEventListener(e,n){const r=this._listeners;return r===void 0?!1:r[e]!==void 0&&r[e].indexOf(n)!==-1}removeEventListener(e,n){const r=this._listeners;if(r===void 0)return;const i=r[e];if(i!==void 0){const s=i.indexOf(n);s!==-1&&i.splice(s,1)}}dispatchEvent(e){const n=this._listeners;if(n===void 0)return;const r=n[e.type];if(r!==void 0){e.target=this;const i=r.slice(0);for(let s=0,o=i.length;s<o;s++)i[s].call(this,e);e.target=null}}}const ku=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"],d5=Math.PI/180,N6=180/Math.PI;function U3(){const t=Math.random()*4294967295|0,e=Math.random()*4294967295|0,n=Math.random()*4294967295|0,r=Math.random()*4294967295|0;return(ku[t&255]+ku[t>>8&255]+ku[t>>16&255]+ku[t>>24&255]+"-"+ku[e&255]+ku[e>>8&255]+"-"+ku[e>>16&15|64]+ku[e>>24&255]+"-"+ku[n&63|128]+ku[n>>8&255]+"-"+ku[n>>16&255]+ku[n>>24&255]+ku[r&255]+ku[r>>8&255]+ku[r>>16&255]+ku[r>>24&255]).toLowerCase()}function Ti(t,e,n){return Math.max(e,Math.min(n,t))}function PCe(t,e){return(t%e+e)%e}function h5(t,e,n){return(1-n)*t+n*e}function XS(t,e){switch(e.constructor){case Float32Array:return t;case Uint32Array:return t/4294967295;case Uint16Array:return t/65535;case Uint8Array:return t/255;case Int32Array:return Math.max(t/2147483647,-1);case Int16Array:return Math.max(t/32767,-1);case Int8Array:return Math.max(t/127,-1);default:throw new Error("Invalid component type.")}}function rd(t,e){switch(e.constructor){case Float32Array:return t;case Uint32Array:return Math.round(t*4294967295);case Uint16Array:return Math.round(t*65535);case Uint8Array:return Math.round(t*255);case Int32Array:return Math.round(t*2147483647);case Int16Array:return Math.round(t*32767);case Int8Array:return Math.round(t*127);default:throw new Error("Invalid component type.")}}class Er{constructor(e=0,n=0){Er.prototype.isVector2=!0,this.x=e,this.y=n}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,n){return this.x=e,this.y=n,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const n=this.x,r=this.y,i=e.elements;return this.x=i[0]*n+i[3]*r+i[6],this.y=i[1]*n+i[4]*r+i[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,n){return this.x=Ti(this.x,e.x,n.x),this.y=Ti(this.y,e.y,n.y),this}clampScalar(e,n){return this.x=Ti(this.x,e,n),this.y=Ti(this.y,e,n),this}clampLength(e,n){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Ti(r,e,n))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(e){const n=Math.sqrt(this.lengthSq()*e.lengthSq());if(n===0)return Math.PI/2;const r=this.dot(e)/n;return Math.acos(Ti(r,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const n=this.x-e.x,r=this.y-e.y;return n*n+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this}lerpVectors(e,n,r){return this.x=e.x+(n.x-e.x)*r,this.y=e.y+(n.y-e.y)*r,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this}rotateAround(e,n){const r=Math.cos(n),i=Math.sin(n),s=this.x-e.x,o=this.y-e.y;return this.x=s*r-o*i+e.x,this.y=s*i+o*r+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class H3{constructor(e=0,n=0,r=0,i=1){this.isQuaternion=!0,this._x=e,this._y=n,this._z=r,this._w=i}static slerpFlat(e,n,r,i,s,o,a){let l=r[i+0],u=r[i+1],c=r[i+2],d=r[i+3],f=s[o+0],p=s[o+1],m=s[o+2],v=s[o+3];if(a<=0){e[n+0]=l,e[n+1]=u,e[n+2]=c,e[n+3]=d;return}if(a>=1){e[n+0]=f,e[n+1]=p,e[n+2]=m,e[n+3]=v;return}if(d!==v||l!==f||u!==p||c!==m){let y=l*f+u*p+c*m+d*v;y<0&&(f=-f,p=-p,m=-m,v=-v,y=-y);let A=1-a;if(y<.9995){const C=Math.acos(y),E=Math.sin(C);A=Math.sin(A*C)/E,a=Math.sin(a*C)/E,l=l*A+f*a,u=u*A+p*a,c=c*A+m*a,d=d*A+v*a}else{l=l*A+f*a,u=u*A+p*a,c=c*A+m*a,d=d*A+v*a;const C=1/Math.sqrt(l*l+u*u+c*c+d*d);l*=C,u*=C,c*=C,d*=C}}e[n]=l,e[n+1]=u,e[n+2]=c,e[n+3]=d}static multiplyQuaternionsFlat(e,n,r,i,s,o){const a=r[i],l=r[i+1],u=r[i+2],c=r[i+3],d=s[o],f=s[o+1],p=s[o+2],m=s[o+3];return e[n]=a*m+c*d+l*p-u*f,e[n+1]=l*m+c*f+u*d-a*p,e[n+2]=u*m+c*p+a*f-l*d,e[n+3]=c*m-a*d-l*f-u*p,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,n,r,i){return this._x=e,this._y=n,this._z=r,this._w=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,n=!0){const r=e._x,i=e._y,s=e._z,o=e._order,a=Math.cos,l=Math.sin,u=a(r/2),c=a(i/2),d=a(s/2),f=l(r/2),p=l(i/2),m=l(s/2);switch(o){case"XYZ":this._x=f*c*d+u*p*m,this._y=u*p*d-f*c*m,this._z=u*c*m+f*p*d,this._w=u*c*d-f*p*m;break;case"YXZ":this._x=f*c*d+u*p*m,this._y=u*p*d-f*c*m,this._z=u*c*m-f*p*d,this._w=u*c*d+f*p*m;break;case"ZXY":this._x=f*c*d-u*p*m,this._y=u*p*d+f*c*m,this._z=u*c*m+f*p*d,this._w=u*c*d-f*p*m;break;case"ZYX":this._x=f*c*d-u*p*m,this._y=u*p*d+f*c*m,this._z=u*c*m-f*p*d,this._w=u*c*d+f*p*m;break;case"YZX":this._x=f*c*d+u*p*m,this._y=u*p*d+f*c*m,this._z=u*c*m-f*p*d,this._w=u*c*d-f*p*m;break;case"XZY":this._x=f*c*d-u*p*m,this._y=u*p*d-f*c*m,this._z=u*c*m+f*p*d,this._w=u*c*d+f*p*m;break;default:Tr("Quaternion: .setFromEuler() encountered an unknown order: "+o)}return n===!0&&this._onChangeCallback(),this}setFromAxisAngle(e,n){const r=n/2,i=Math.sin(r);return this._x=e.x*i,this._y=e.y*i,this._z=e.z*i,this._w=Math.cos(r),this._onChangeCallback(),this}setFromRotationMatrix(e){const n=e.elements,r=n[0],i=n[4],s=n[8],o=n[1],a=n[5],l=n[9],u=n[2],c=n[6],d=n[10],f=r+a+d;if(f>0){const p=.5/Math.sqrt(f+1);this._w=.25/p,this._x=(c-l)*p,this._y=(s-u)*p,this._z=(o-i)*p}else if(r>a&&r>d){const p=2*Math.sqrt(1+r-a-d);this._w=(c-l)/p,this._x=.25*p,this._y=(i+o)/p,this._z=(s+u)/p}else if(a>d){const p=2*Math.sqrt(1+a-r-d);this._w=(s-u)/p,this._x=(i+o)/p,this._y=.25*p,this._z=(l+c)/p}else{const p=2*Math.sqrt(1+d-r-a);this._w=(o-i)/p,this._x=(s+u)/p,this._y=(l+c)/p,this._z=.25*p}return this._onChangeCallback(),this}setFromUnitVectors(e,n){let r=e.dot(n)+1;return r<1e-8?(r=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=r):(this._x=0,this._y=-e.z,this._z=e.y,this._w=r)):(this._x=e.y*n.z-e.z*n.y,this._y=e.z*n.x-e.x*n.z,this._z=e.x*n.y-e.y*n.x,this._w=r),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(Ti(this.dot(e),-1,1)))}rotateTowards(e,n){const r=this.angleTo(e);if(r===0)return this;const i=Math.min(1,n/r);return this.slerp(e,i),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,n){const r=e._x,i=e._y,s=e._z,o=e._w,a=n._x,l=n._y,u=n._z,c=n._w;return this._x=r*c+o*a+i*u-s*l,this._y=i*c+o*l+s*a-r*u,this._z=s*c+o*u+r*l-i*a,this._w=o*c-r*a-i*l-s*u,this._onChangeCallback(),this}slerp(e,n){if(n<=0)return this;if(n>=1)return this.copy(e);let r=e._x,i=e._y,s=e._z,o=e._w,a=this.dot(e);a<0&&(r=-r,i=-i,s=-s,o=-o,a=-a);let l=1-n;if(a<.9995){const u=Math.acos(a),c=Math.sin(u);l=Math.sin(l*u)/c,n=Math.sin(n*u)/c,this._x=this._x*l+r*n,this._y=this._y*l+i*n,this._z=this._z*l+s*n,this._w=this._w*l+o*n,this._onChangeCallback()}else this._x=this._x*l+r*n,this._y=this._y*l+i*n,this._z=this._z*l+s*n,this._w=this._w*l+o*n,this.normalize();return this}slerpQuaternions(e,n,r){return this.copy(e).slerp(n,r)}random(){const e=2*Math.PI*Math.random(),n=2*Math.PI*Math.random(),r=Math.random(),i=Math.sqrt(1-r),s=Math.sqrt(r);return this.set(i*Math.sin(e),i*Math.cos(e),s*Math.sin(n),s*Math.cos(n))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,n=0){return this._x=e[n],this._y=e[n+1],this._z=e[n+2],this._w=e[n+3],this._onChangeCallback(),this}toArray(e=[],n=0){return e[n]=this._x,e[n+1]=this._y,e[n+2]=this._z,e[n+3]=this._w,e}fromBufferAttribute(e,n){return this._x=e.getX(n),this._y=e.getY(n),this._z=e.getZ(n),this._w=e.getW(n),this._onChangeCallback(),this}toJSON(){return this.toArray()}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class rt{constructor(e=0,n=0,r=0){rt.prototype.isVector3=!0,this.x=e,this.y=n,this.z=r}set(e,n,r){return r===void 0&&(r=this.z),this.x=e,this.y=n,this.z=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;case 2:this.z=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this.z=e.z+n.z,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this.z+=e.z*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this.z=e.z-n.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,n){return this.x=e.x*n.x,this.y=e.y*n.y,this.z=e.z*n.z,this}applyEuler(e){return this.applyQuaternion(lO.setFromEuler(e))}applyAxisAngle(e,n){return this.applyQuaternion(lO.setFromAxisAngle(e,n))}applyMatrix3(e){const n=this.x,r=this.y,i=this.z,s=e.elements;return this.x=s[0]*n+s[3]*r+s[6]*i,this.y=s[1]*n+s[4]*r+s[7]*i,this.z=s[2]*n+s[5]*r+s[8]*i,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const n=this.x,r=this.y,i=this.z,s=e.elements,o=1/(s[3]*n+s[7]*r+s[11]*i+s[15]);return this.x=(s[0]*n+s[4]*r+s[8]*i+s[12])*o,this.y=(s[1]*n+s[5]*r+s[9]*i+s[13])*o,this.z=(s[2]*n+s[6]*r+s[10]*i+s[14])*o,this}applyQuaternion(e){const n=this.x,r=this.y,i=this.z,s=e.x,o=e.y,a=e.z,l=e.w,u=2*(o*i-a*r),c=2*(a*n-s*i),d=2*(s*r-o*n);return this.x=n+l*u+o*d-a*c,this.y=r+l*c+a*u-s*d,this.z=i+l*d+s*c-o*u,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const n=this.x,r=this.y,i=this.z,s=e.elements;return this.x=s[0]*n+s[4]*r+s[8]*i,this.y=s[1]*n+s[5]*r+s[9]*i,this.z=s[2]*n+s[6]*r+s[10]*i,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,n){return this.x=Ti(this.x,e.x,n.x),this.y=Ti(this.y,e.y,n.y),this.z=Ti(this.z,e.z,n.z),this}clampScalar(e,n){return this.x=Ti(this.x,e,n),this.y=Ti(this.y,e,n),this.z=Ti(this.z,e,n),this}clampLength(e,n){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Ti(r,e,n))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this.z+=(e.z-this.z)*n,this}lerpVectors(e,n,r){return this.x=e.x+(n.x-e.x)*r,this.y=e.y+(n.y-e.y)*r,this.z=e.z+(n.z-e.z)*r,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,n){const r=e.x,i=e.y,s=e.z,o=n.x,a=n.y,l=n.z;return this.x=i*l-s*a,this.y=s*o-r*l,this.z=r*a-i*o,this}projectOnVector(e){const n=e.lengthSq();if(n===0)return this.set(0,0,0);const r=e.dot(this)/n;return this.copy(e).multiplyScalar(r)}projectOnPlane(e){return f5.copy(this).projectOnVector(e),this.sub(f5)}reflect(e){return this.sub(f5.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const n=Math.sqrt(this.lengthSq()*e.lengthSq());if(n===0)return Math.PI/2;const r=this.dot(e)/n;return Math.acos(Ti(r,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const n=this.x-e.x,r=this.y-e.y,i=this.z-e.z;return n*n+r*r+i*i}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,n,r){const i=Math.sin(n)*e;return this.x=i*Math.sin(r),this.y=Math.cos(n)*e,this.z=i*Math.cos(r),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,n,r){return this.x=e*Math.sin(n),this.y=r,this.z=e*Math.cos(n),this}setFromMatrixPosition(e){const n=e.elements;return this.x=n[12],this.y=n[13],this.z=n[14],this}setFromMatrixScale(e){const n=this.setFromMatrixColumn(e,0).length(),r=this.setFromMatrixColumn(e,1).length(),i=this.setFromMatrixColumn(e,2).length();return this.x=n,this.y=r,this.z=i,this}setFromMatrixColumn(e,n){return this.fromArray(e.elements,n*4)}setFromMatrix3Column(e,n){return this.fromArray(e.elements,n*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}setFromColor(e){return this.x=e.r,this.y=e.g,this.z=e.b,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this.z=e[n+2],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e[n+2]=this.z,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this.z=e.getZ(n),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=Math.random()*Math.PI*2,n=Math.random()*2-1,r=Math.sqrt(1-n*n);return this.x=r*Math.cos(e),this.y=n,this.z=r*Math.sin(e),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const f5=new rt,lO=new H3;class Ur{constructor(e,n,r,i,s,o,a,l,u){Ur.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],e!==void 0&&this.set(e,n,r,i,s,o,a,l,u)}set(e,n,r,i,s,o,a,l,u){const c=this.elements;return c[0]=e,c[1]=i,c[2]=a,c[3]=n,c[4]=s,c[5]=l,c[6]=r,c[7]=o,c[8]=u,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const n=this.elements,r=e.elements;return n[0]=r[0],n[1]=r[1],n[2]=r[2],n[3]=r[3],n[4]=r[4],n[5]=r[5],n[6]=r[6],n[7]=r[7],n[8]=r[8],this}extractBasis(e,n,r){return e.setFromMatrix3Column(this,0),n.setFromMatrix3Column(this,1),r.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const n=e.elements;return this.set(n[0],n[4],n[8],n[1],n[5],n[9],n[2],n[6],n[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,n){const r=e.elements,i=n.elements,s=this.elements,o=r[0],a=r[3],l=r[6],u=r[1],c=r[4],d=r[7],f=r[2],p=r[5],m=r[8],v=i[0],y=i[3],A=i[6],C=i[1],E=i[4],I=i[7],D=i[2],T=i[5],M=i[8];return s[0]=o*v+a*C+l*D,s[3]=o*y+a*E+l*T,s[6]=o*A+a*I+l*M,s[1]=u*v+c*C+d*D,s[4]=u*y+c*E+d*T,s[7]=u*A+c*I+d*M,s[2]=f*v+p*C+m*D,s[5]=f*y+p*E+m*T,s[8]=f*A+p*I+m*M,this}multiplyScalar(e){const n=this.elements;return n[0]*=e,n[3]*=e,n[6]*=e,n[1]*=e,n[4]*=e,n[7]*=e,n[2]*=e,n[5]*=e,n[8]*=e,this}determinant(){const e=this.elements,n=e[0],r=e[1],i=e[2],s=e[3],o=e[4],a=e[5],l=e[6],u=e[7],c=e[8];return n*o*c-n*a*u-r*s*c+r*a*l+i*s*u-i*o*l}invert(){const e=this.elements,n=e[0],r=e[1],i=e[2],s=e[3],o=e[4],a=e[5],l=e[6],u=e[7],c=e[8],d=c*o-a*u,f=a*l-c*s,p=u*s-o*l,m=n*d+r*f+i*p;if(m===0)return this.set(0,0,0,0,0,0,0,0,0);const v=1/m;return e[0]=d*v,e[1]=(i*u-c*r)*v,e[2]=(a*r-i*o)*v,e[3]=f*v,e[4]=(c*n-i*l)*v,e[5]=(i*s-a*n)*v,e[6]=p*v,e[7]=(r*l-u*n)*v,e[8]=(o*n-r*s)*v,this}transpose(){let e;const n=this.elements;return e=n[1],n[1]=n[3],n[3]=e,e=n[2],n[2]=n[6],n[6]=e,e=n[5],n[5]=n[7],n[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const n=this.elements;return e[0]=n[0],e[1]=n[3],e[2]=n[6],e[3]=n[1],e[4]=n[4],e[5]=n[7],e[6]=n[2],e[7]=n[5],e[8]=n[8],this}setUvTransform(e,n,r,i,s,o,a){const l=Math.cos(s),u=Math.sin(s);return this.set(r*l,r*u,-r*(l*o+u*a)+o+e,-i*u,i*l,-i*(-u*o+l*a)+a+n,0,0,1),this}scale(e,n){return this.premultiply(p5.makeScale(e,n)),this}rotate(e){return this.premultiply(p5.makeRotation(-e)),this}translate(e,n){return this.premultiply(p5.makeTranslation(e,n)),this}makeTranslation(e,n){return e.isVector2?this.set(1,0,e.x,0,1,e.y,0,0,1):this.set(1,0,e,0,1,n,0,0,1),this}makeRotation(e){const n=Math.cos(e),r=Math.sin(e);return this.set(n,-r,0,r,n,0,0,0,1),this}makeScale(e,n){return this.set(e,0,0,0,n,0,0,0,1),this}equals(e){const n=this.elements,r=e.elements;for(let i=0;i<9;i++)if(n[i]!==r[i])return!1;return!0}fromArray(e,n=0){for(let r=0;r<9;r++)this.elements[r]=e[r+n];return this}toArray(e=[],n=0){const r=this.elements;return e[n]=r[0],e[n+1]=r[1],e[n+2]=r[2],e[n+3]=r[3],e[n+4]=r[4],e[n+5]=r[5],e[n+6]=r[6],e[n+7]=r[7],e[n+8]=r[8],e}clone(){return new this.constructor().fromArray(this.elements)}}const p5=new Ur,uO=new Ur().set(.4123908,.3575843,.1804808,.212639,.7151687,.0721923,.0193308,.1191948,.9505322),cO=new Ur().set(3.2409699,-1.5373832,-.4986108,-.9692436,1.8759675,.0415551,.0556301,-.203977,1.0569715);function RCe(){const t={enabled:!0,workingColorSpace:BE,spaces:{},convert:function(i,s,o){return this.enabled===!1||s===o||!s||!o||(this.spaces[s].transfer===as&&(i.r=B0(i.r),i.g=B0(i.g),i.b=B0(i.b)),this.spaces[s].primaries!==this.spaces[o].primaries&&(i.applyMatrix3(this.spaces[s].toXYZ),i.applyMatrix3(this.spaces[o].fromXYZ)),this.spaces[o].transfer===as&&(i.r=lE(i.r),i.g=lE(i.g),i.b=lE(i.b))),i},workingToColorSpace:function(i,s){return this.convert(i,this.workingColorSpace,s)},colorSpaceToWorking:function(i,s){return this.convert(i,s,this.workingColorSpace)},getPrimaries:function(i){return this.spaces[i].primaries},getTransfer:function(i){return i===Iy?WB:this.spaces[i].transfer},getToneMappingMode:function(i){return this.spaces[i].outputColorSpaceConfig.toneMappingMode||"standard"},getLuminanceCoefficients:function(i,s=this.workingColorSpace){return i.fromArray(this.spaces[s].luminanceCoefficients)},define:function(i){Object.assign(this.spaces,i)},_getMatrix:function(i,s,o){return i.copy(this.spaces[s].toXYZ).multiply(this.spaces[o].fromXYZ)},_getDrawingBufferColorSpace:function(i){return this.spaces[i].outputColorSpaceConfig.drawingBufferColorSpace},_getUnpackColorSpace:function(i=this.workingColorSpace){return this.spaces[i].workingColorSpaceConfig.unpackColorSpace},fromWorkingColorSpace:function(i,s){return Y_("ColorManagement: .fromWorkingColorSpace() has been renamed to .workingToColorSpace()."),t.workingToColorSpace(i,s)},toWorkingColorSpace:function(i,s){return Y_("ColorManagement: .toWorkingColorSpace() has been renamed to .colorSpaceToWorking()."),t.colorSpaceToWorking(i,s)}},e=[.64,.33,.3,.6,.15,.06],n=[.2126,.7152,.0722],r=[.3127,.329];return t.define({[BE]:{primaries:e,whitePoint:r,transfer:WB,toXYZ:uO,fromXYZ:cO,luminanceCoefficients:n,workingColorSpaceConfig:{unpackColorSpace:rf},outputColorSpaceConfig:{drawingBufferColorSpace:rf}},[rf]:{primaries:e,whitePoint:r,transfer:as,toXYZ:uO,fromXYZ:cO,luminanceCoefficients:n,outputColorSpaceConfig:{drawingBufferColorSpace:rf}}}),t}const Ri=RCe();function B0(t){return t<.04045?t*.0773993808:Math.pow(t*.9478672986+.0521327014,2.4)}function lE(t){return t<.0031308?t*12.92:1.055*Math.pow(t,.41666)-.055}let e1;class NCe{static getDataURL(e,n="image/png"){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let r;if(e instanceof HTMLCanvasElement)r=e;else{e1===void 0&&(e1=YB("canvas")),e1.width=e.width,e1.height=e.height;const i=e1.getContext("2d");e instanceof ImageData?i.putImageData(e,0,0):i.drawImage(e,0,0,e.width,e.height),r=e1}return r.toDataURL(n)}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){const n=YB("canvas");n.width=e.width,n.height=e.height;const r=n.getContext("2d");r.drawImage(e,0,0,e.width,e.height);const i=r.getImageData(0,0,e.width,e.height),s=i.data;for(let o=0;o<s.length;o++)s[o]=B0(s[o]/255)*255;return r.putImageData(i,0,0),n}else if(e.data){const n=e.data.slice(0);for(let r=0;r<n.length;r++)n instanceof Uint8Array||n instanceof Uint8ClampedArray?n[r]=Math.floor(B0(n[r]/255)*255):n[r]=B0(n[r]);return{data:n,width:e.width,height:e.height}}else return Tr("ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}let LCe=0;class HF{constructor(e=null){this.isSource=!0,Object.defineProperty(this,"id",{value:LCe++}),this.uuid=U3(),this.data=e,this.dataReady=!0,this.version=0}getSize(e){const n=this.data;return typeof HTMLVideoElement<"u"&&n instanceof HTMLVideoElement?e.set(n.videoWidth,n.videoHeight,0):typeof VideoFrame<"u"&&n instanceof VideoFrame?e.set(n.displayHeight,n.displayWidth,0):n!==null?e.set(n.width,n.height,n.depth||0):e.set(0,0,0),e}set needsUpdate(e){e===!0&&this.version++}toJSON(e){const n=e===void 0||typeof e=="string";if(!n&&e.images[this.uuid]!==void 0)return e.images[this.uuid];const r={uuid:this.uuid,url:""},i=this.data;if(i!==null){let s;if(Array.isArray(i)){s=[];for(let o=0,a=i.length;o<a;o++)i[o].isDataTexture?s.push(g5(i[o].image)):s.push(g5(i[o]))}else s=g5(i);r.url=s}return n||(e.images[this.uuid]=r),r}}function g5(t){return typeof HTMLImageElement<"u"&&t instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&t instanceof ImageBitmap?NCe.getDataURL(t):t.data?{data:Array.from(t.data),width:t.width,height:t.height,type:t.data.constructor.name}:(Tr("Texture: Unable to serialize Texture."),{})}let FCe=0;const m5=new rt;let _f=class SB extends tS{constructor(e=SB.DEFAULT_IMAGE,n=SB.DEFAULT_MAPPING,r=C0,i=C0,s=Wo,o=ux,a=df,l=uf,u=SB.DEFAULT_ANISOTROPY,c=Iy){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:FCe++}),this.uuid=U3(),this.name="",this.source=new HF(e),this.mipmaps=[],this.mapping=n,this.channel=0,this.wrapS=r,this.wrapT=i,this.magFilter=s,this.minFilter=o,this.anisotropy=u,this.format=a,this.internalFormat=null,this.type=l,this.offset=new Er(0,0),this.repeat=new Er(1,1),this.center=new Er(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new Ur,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.colorSpace=c,this.userData={},this.updateRanges=[],this.version=0,this.onUpdate=null,this.renderTarget=null,this.isRenderTargetTexture=!1,this.isArrayTexture=!!(e&&e.depth&&e.depth>1),this.pmremVersion=0}get width(){return this.source.getSize(m5).x}get height(){return this.source.getSize(m5).y}get depth(){return this.source.getSize(m5).z}get image(){return this.source.data}set image(e=null){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}addUpdateRange(e,n){this.updateRanges.push({start:e,count:n})}clearUpdateRanges(){this.updateRanges.length=0}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.channel=e.channel,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.colorSpace=e.colorSpace,this.renderTarget=e.renderTarget,this.isRenderTargetTexture=e.isRenderTargetTexture,this.isArrayTexture=e.isArrayTexture,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}setValues(e){for(const n in e){const r=e[n];if(r===void 0){Tr(`Texture.setValues(): parameter '${n}' has value of undefined.`);continue}const i=this[n];if(i===void 0){Tr(`Texture.setValues(): property '${n}' does not exist.`);continue}i&&r&&i.isVector2&&r.isVector2||i&&r&&i.isVector3&&r.isVector3||i&&r&&i.isMatrix3&&r.isMatrix3?i.copy(r):this[n]=r}}toJSON(e){const n=e===void 0||typeof e=="string";if(!n&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const r={metadata:{version:4.7,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(r.userData=this.userData),n||(e.textures[this.uuid]=r),r}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==UX)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case t6:e.x=e.x-Math.floor(e.x);break;case C0:e.x=e.x<0?0:1;break;case n6:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case t6:e.y=e.y-Math.floor(e.y);break;case C0:e.y=e.y<0?0:1;break;case n6:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}set needsPMREMUpdate(e){e===!0&&this.pmremVersion++}};_f.DEFAULT_IMAGE=null;_f.DEFAULT_MAPPING=UX;_f.DEFAULT_ANISOTROPY=1;class sa{constructor(e=0,n=0,r=0,i=1){sa.prototype.isVector4=!0,this.x=e,this.y=n,this.z=r,this.w=i}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,n,r,i){return this.x=e,this.y=n,this.z=r,this.w=i,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;case 2:this.z=n;break;case 3:this.w=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this.z=e.z+n.z,this.w=e.w+n.w,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this.z+=e.z*n,this.w+=e.w*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this.z=e.z-n.z,this.w=e.w-n.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const n=this.x,r=this.y,i=this.z,s=this.w,o=e.elements;return this.x=o[0]*n+o[4]*r+o[8]*i+o[12]*s,this.y=o[1]*n+o[5]*r+o[9]*i+o[13]*s,this.z=o[2]*n+o[6]*r+o[10]*i+o[14]*s,this.w=o[3]*n+o[7]*r+o[11]*i+o[15]*s,this}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this.w/=e.w,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const n=Math.sqrt(1-e.w*e.w);return n<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/n,this.y=e.y/n,this.z=e.z/n),this}setAxisAngleFromRotationMatrix(e){let n,r,i,s;const l=e.elements,u=l[0],c=l[4],d=l[8],f=l[1],p=l[5],m=l[9],v=l[2],y=l[6],A=l[10];if(Math.abs(c-f)<.01&&Math.abs(d-v)<.01&&Math.abs(m-y)<.01){if(Math.abs(c+f)<.1&&Math.abs(d+v)<.1&&Math.abs(m+y)<.1&&Math.abs(u+p+A-3)<.1)return this.set(1,0,0,0),this;n=Math.PI;const E=(u+1)/2,I=(p+1)/2,D=(A+1)/2,T=(c+f)/4,M=(d+v)/4,P=(m+y)/4;return E>I&&E>D?E<.01?(r=0,i=.707106781,s=.707106781):(r=Math.sqrt(E),i=T/r,s=M/r):I>D?I<.01?(r=.707106781,i=0,s=.707106781):(i=Math.sqrt(I),r=T/i,s=P/i):D<.01?(r=.707106781,i=.707106781,s=0):(s=Math.sqrt(D),r=M/s,i=P/s),this.set(r,i,s,n),this}let C=Math.sqrt((y-m)*(y-m)+(d-v)*(d-v)+(f-c)*(f-c));return Math.abs(C)<.001&&(C=1),this.x=(y-m)/C,this.y=(d-v)/C,this.z=(f-c)/C,this.w=Math.acos((u+p+A-1)/2),this}setFromMatrixPosition(e){const n=e.elements;return this.x=n[12],this.y=n[13],this.z=n[14],this.w=n[15],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,n){return this.x=Ti(this.x,e.x,n.x),this.y=Ti(this.y,e.y,n.y),this.z=Ti(this.z,e.z,n.z),this.w=Ti(this.w,e.w,n.w),this}clampScalar(e,n){return this.x=Ti(this.x,e,n),this.y=Ti(this.y,e,n),this.z=Ti(this.z,e,n),this.w=Ti(this.w,e,n),this}clampLength(e,n){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Ti(r,e,n))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this.w=Math.trunc(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this.z+=(e.z-this.z)*n,this.w+=(e.w-this.w)*n,this}lerpVectors(e,n,r){return this.x=e.x+(n.x-e.x)*r,this.y=e.y+(n.y-e.y)*r,this.z=e.z+(n.z-e.z)*r,this.w=e.w+(n.w-e.w)*r,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this.z=e[n+2],this.w=e[n+3],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e[n+2]=this.z,e[n+3]=this.w,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this.z=e.getZ(n),this.w=e.getW(n),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class $Ce extends tS{constructor(e=1,n=1,r={}){super(),r=Object.assign({generateMipmaps:!1,internalFormat:null,minFilter:Wo,depthBuffer:!0,stencilBuffer:!1,resolveDepthBuffer:!0,resolveStencilBuffer:!0,depthTexture:null,samples:0,count:1,depth:1,multiview:!1},r),this.isRenderTarget=!0,this.width=e,this.height=n,this.depth=r.depth,this.scissor=new sa(0,0,e,n),this.scissorTest=!1,this.viewport=new sa(0,0,e,n);const i={width:e,height:n,depth:r.depth},s=new _f(i);this.textures=[];const o=r.count;for(let a=0;a<o;a++)this.textures[a]=s.clone(),this.textures[a].isRenderTargetTexture=!0,this.textures[a].renderTarget=this;this._setTextureOptions(r),this.depthBuffer=r.depthBuffer,this.stencilBuffer=r.stencilBuffer,this.resolveDepthBuffer=r.resolveDepthBuffer,this.resolveStencilBuffer=r.resolveStencilBuffer,this._depthTexture=null,this.depthTexture=r.depthTexture,this.samples=r.samples,this.multiview=r.multiview}_setTextureOptions(e={}){const n={minFilter:Wo,generateMipmaps:!1,flipY:!1,internalFormat:null};e.mapping!==void 0&&(n.mapping=e.mapping),e.wrapS!==void 0&&(n.wrapS=e.wrapS),e.wrapT!==void 0&&(n.wrapT=e.wrapT),e.wrapR!==void 0&&(n.wrapR=e.wrapR),e.magFilter!==void 0&&(n.magFilter=e.magFilter),e.minFilter!==void 0&&(n.minFilter=e.minFilter),e.format!==void 0&&(n.format=e.format),e.type!==void 0&&(n.type=e.type),e.anisotropy!==void 0&&(n.anisotropy=e.anisotropy),e.colorSpace!==void 0&&(n.colorSpace=e.colorSpace),e.flipY!==void 0&&(n.flipY=e.flipY),e.generateMipmaps!==void 0&&(n.generateMipmaps=e.generateMipmaps),e.internalFormat!==void 0&&(n.internalFormat=e.internalFormat);for(let r=0;r<this.textures.length;r++)this.textures[r].setValues(n)}get texture(){return this.textures[0]}set texture(e){this.textures[0]=e}set depthTexture(e){this._depthTexture!==null&&(this._depthTexture.renderTarget=null),e!==null&&(e.renderTarget=this),this._depthTexture=e}get depthTexture(){return this._depthTexture}setSize(e,n,r=1){if(this.width!==e||this.height!==n||this.depth!==r){this.width=e,this.height=n,this.depth=r;for(let i=0,s=this.textures.length;i<s;i++)this.textures[i].image.width=e,this.textures[i].image.height=n,this.textures[i].image.depth=r,this.textures[i].isData3DTexture!==!0&&(this.textures[i].isArrayTexture=this.textures[i].image.depth>1);this.dispose()}this.viewport.set(0,0,e,n),this.scissor.set(0,0,e,n)}clone(){return new this.constructor().copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.textures.length=0;for(let n=0,r=e.textures.length;n<r;n++){this.textures[n]=e.textures[n].clone(),this.textures[n].isRenderTargetTexture=!0,this.textures[n].renderTarget=this;const i=Object.assign({},e.textures[n].image);this.textures[n].source=new HF(i)}return this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.resolveDepthBuffer=e.resolveDepthBuffer,this.resolveStencilBuffer=e.resolveStencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class Ou extends $Ce{constructor(e=1,n=1,r={}){super(e,n,r),this.isWebGLRenderTarget=!0}}class XX extends _f{constructor(e=null,n=1,r=1,i=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:n,height:r,depth:i},this.magFilter=rl,this.minFilter=rl,this.wrapR=C0,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.layerUpdates=new Set}addLayerUpdate(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}}class zCe extends _f{constructor(e=null,n=1,r=1,i=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:n,height:r,depth:i},this.magFilter=rl,this.minFilter=rl,this.wrapR=C0,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class rC{constructor(e=new rt(1/0,1/0,1/0),n=new rt(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=n}set(e,n){return this.min.copy(e),this.max.copy(n),this}setFromArray(e){this.makeEmpty();for(let n=0,r=e.length;n<r;n+=3)this.expandByPoint(pp.fromArray(e,n));return this}setFromBufferAttribute(e){this.makeEmpty();for(let n=0,r=e.count;n<r;n++)this.expandByPoint(pp.fromBufferAttribute(e,n));return this}setFromPoints(e){this.makeEmpty();for(let n=0,r=e.length;n<r;n++)this.expandByPoint(e[n]);return this}setFromCenterAndSize(e,n){const r=pp.copy(n).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}setFromObject(e,n=!1){return this.makeEmpty(),this.expandByObject(e,n)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,n=!1){e.updateWorldMatrix(!1,!1);const r=e.geometry;if(r!==void 0){const s=r.getAttribute("position");if(n===!0&&s!==void 0&&e.isInstancedMesh!==!0)for(let o=0,a=s.count;o<a;o++)e.isMesh===!0?e.getVertexPosition(o,pp):pp.fromBufferAttribute(s,o),pp.applyMatrix4(e.matrixWorld),this.expandByPoint(pp);else e.boundingBox!==void 0?(e.boundingBox===null&&e.computeBoundingBox(),v2.copy(e.boundingBox)):(r.boundingBox===null&&r.computeBoundingBox(),v2.copy(r.boundingBox)),v2.applyMatrix4(e.matrixWorld),this.union(v2)}const i=e.children;for(let s=0,o=i.length;s<o;s++)this.expandByObject(i[s],n);return this}containsPoint(e){return e.x>=this.min.x&&e.x<=this.max.x&&e.y>=this.min.y&&e.y<=this.max.y&&e.z>=this.min.z&&e.z<=this.max.z}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,n){return n.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return e.max.x>=this.min.x&&e.min.x<=this.max.x&&e.max.y>=this.min.y&&e.min.y<=this.max.y&&e.max.z>=this.min.z&&e.min.z<=this.max.z}intersectsSphere(e){return this.clampPoint(e.center,pp),pp.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let n,r;return e.normal.x>0?(n=e.normal.x*this.min.x,r=e.normal.x*this.max.x):(n=e.normal.x*this.max.x,r=e.normal.x*this.min.x),e.normal.y>0?(n+=e.normal.y*this.min.y,r+=e.normal.y*this.max.y):(n+=e.normal.y*this.max.y,r+=e.normal.y*this.min.y),e.normal.z>0?(n+=e.normal.z*this.min.z,r+=e.normal.z*this.max.z):(n+=e.normal.z*this.max.z,r+=e.normal.z*this.min.z),n<=-e.constant&&r>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(JS),b2.subVectors(this.max,JS),t1.subVectors(e.a,JS),n1.subVectors(e.b,JS),r1.subVectors(e.c,JS),oy.subVectors(n1,t1),ay.subVectors(r1,n1),Eb.subVectors(t1,r1);let n=[0,-oy.z,oy.y,0,-ay.z,ay.y,0,-Eb.z,Eb.y,oy.z,0,-oy.x,ay.z,0,-ay.x,Eb.z,0,-Eb.x,-oy.y,oy.x,0,-ay.y,ay.x,0,-Eb.y,Eb.x,0];return!A5(n,t1,n1,r1,b2)||(n=[1,0,0,0,1,0,0,0,1],!A5(n,t1,n1,r1,b2))?!1:(x2.crossVectors(oy,ay),n=[x2.x,x2.y,x2.z],A5(n,t1,n1,r1,b2))}clampPoint(e,n){return n.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,pp).distanceTo(e)}getBoundingSphere(e){return this.isEmpty()?e.makeEmpty():(this.getCenter(e.center),e.radius=this.getSize(pp).length()*.5),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(Jm[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),Jm[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),Jm[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),Jm[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),Jm[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),Jm[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),Jm[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),Jm[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(Jm),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}toJSON(){return{min:this.min.toArray(),max:this.max.toArray()}}fromJSON(e){return this.min.fromArray(e.min),this.max.fromArray(e.max),this}}const Jm=[new rt,new rt,new rt,new rt,new rt,new rt,new rt,new rt],pp=new rt,v2=new rC,t1=new rt,n1=new rt,r1=new rt,oy=new rt,ay=new rt,Eb=new rt,JS=new rt,b2=new rt,x2=new rt,Sb=new rt;function A5(t,e,n,r,i){for(let s=0,o=t.length-3;s<=o;s+=3){Sb.fromArray(t,s);const a=i.x*Math.abs(Sb.x)+i.y*Math.abs(Sb.y)+i.z*Math.abs(Sb.z),l=e.dot(Sb),u=n.dot(Sb),c=r.dot(Sb);if(Math.max(-Math.max(l,u,c),Math.min(l,u,c))>a)return!1}return!0}const OCe=new rC,ZS=new rt,y5=new rt;class nS{constructor(e=new rt,n=-1){this.isSphere=!0,this.center=e,this.radius=n}set(e,n){return this.center.copy(e),this.radius=n,this}setFromPoints(e,n){const r=this.center;n!==void 0?r.copy(n):OCe.setFromPoints(e).getCenter(r);let i=0;for(let s=0,o=e.length;s<o;s++)i=Math.max(i,r.distanceToSquared(e[s]));return this.radius=Math.sqrt(i),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const n=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=n*n}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,n){const r=this.center.distanceToSquared(e);return n.copy(e),r>this.radius*this.radius&&(n.sub(this.center).normalize(),n.multiplyScalar(this.radius).add(this.center)),n}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;ZS.subVectors(e,this.center);const n=ZS.lengthSq();if(n>this.radius*this.radius){const r=Math.sqrt(n),i=(r-this.radius)*.5;this.center.addScaledVector(ZS,i/r),this.radius+=i}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(this.center.equals(e.center)===!0?this.radius=Math.max(this.radius,e.radius):(y5.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(ZS.copy(e.center).add(y5)),this.expandByPoint(ZS.copy(e.center).sub(y5))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}toJSON(){return{radius:this.radius,center:this.center.toArray()}}fromJSON(e){return this.radius=e.radius,this.center.fromArray(e.center),this}}const Zm=new rt,v5=new rt,C2=new rt,ly=new rt,b5=new rt,E2=new rt,x5=new rt;class JX{constructor(e=new rt,n=new rt(0,0,-1)){this.origin=e,this.direction=n}set(e,n){return this.origin.copy(e),this.direction.copy(n),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,n){return n.copy(this.origin).addScaledVector(this.direction,e)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,Zm)),this}closestPointToPoint(e,n){n.subVectors(e,this.origin);const r=n.dot(this.direction);return r<0?n.copy(this.origin):n.copy(this.origin).addScaledVector(this.direction,r)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const n=Zm.subVectors(e,this.origin).dot(this.direction);return n<0?this.origin.distanceToSquared(e):(Zm.copy(this.origin).addScaledVector(this.direction,n),Zm.distanceToSquared(e))}distanceSqToSegment(e,n,r,i){v5.copy(e).add(n).multiplyScalar(.5),C2.copy(n).sub(e).normalize(),ly.copy(this.origin).sub(v5);const s=e.distanceTo(n)*.5,o=-this.direction.dot(C2),a=ly.dot(this.direction),l=-ly.dot(C2),u=ly.lengthSq(),c=Math.abs(1-o*o);let d,f,p,m;if(c>0)if(d=o*l-a,f=o*a-l,m=s*c,d>=0)if(f>=-m)if(f<=m){const v=1/c;d*=v,f*=v,p=d*(d+o*f+2*a)+f*(o*d+f+2*l)+u}else f=s,d=Math.max(0,-(o*f+a)),p=-d*d+f*(f+2*l)+u;else f=-s,d=Math.max(0,-(o*f+a)),p=-d*d+f*(f+2*l)+u;else f<=-m?(d=Math.max(0,-(-o*s+a)),f=d>0?-s:Math.min(Math.max(-s,-l),s),p=-d*d+f*(f+2*l)+u):f<=m?(d=0,f=Math.min(Math.max(-s,-l),s),p=f*(f+2*l)+u):(d=Math.max(0,-(o*s+a)),f=d>0?s:Math.min(Math.max(-s,-l),s),p=-d*d+f*(f+2*l)+u);else f=o>0?-s:s,d=Math.max(0,-(o*f+a)),p=-d*d+f*(f+2*l)+u;return r&&r.copy(this.origin).addScaledVector(this.direction,d),i&&i.copy(v5).addScaledVector(C2,f),p}intersectSphere(e,n){Zm.subVectors(e.center,this.origin);const r=Zm.dot(this.direction),i=Zm.dot(Zm)-r*r,s=e.radius*e.radius;if(i>s)return null;const o=Math.sqrt(s-i),a=r-o,l=r+o;return l<0?null:a<0?this.at(l,n):this.at(a,n)}intersectsSphere(e){return e.radius<0?!1:this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const n=e.normal.dot(this.direction);if(n===0)return e.distanceToPoint(this.origin)===0?0:null;const r=-(this.origin.dot(e.normal)+e.constant)/n;return r>=0?r:null}intersectPlane(e,n){const r=this.distanceToPlane(e);return r===null?null:this.at(r,n)}intersectsPlane(e){const n=e.distanceToPoint(this.origin);return n===0||e.normal.dot(this.direction)*n<0}intersectBox(e,n){let r,i,s,o,a,l;const u=1/this.direction.x,c=1/this.direction.y,d=1/this.direction.z,f=this.origin;return u>=0?(r=(e.min.x-f.x)*u,i=(e.max.x-f.x)*u):(r=(e.max.x-f.x)*u,i=(e.min.x-f.x)*u),c>=0?(s=(e.min.y-f.y)*c,o=(e.max.y-f.y)*c):(s=(e.max.y-f.y)*c,o=(e.min.y-f.y)*c),r>o||s>i||((s>r||isNaN(r))&&(r=s),(o<i||isNaN(i))&&(i=o),d>=0?(a=(e.min.z-f.z)*d,l=(e.max.z-f.z)*d):(a=(e.max.z-f.z)*d,l=(e.min.z-f.z)*d),r>l||a>i)||((a>r||r!==r)&&(r=a),(l<i||i!==i)&&(i=l),i<0)?null:this.at(r>=0?r:i,n)}intersectsBox(e){return this.intersectBox(e,Zm)!==null}intersectTriangle(e,n,r,i,s){b5.subVectors(n,e),E2.subVectors(r,e),x5.crossVectors(b5,E2);let o=this.direction.dot(x5),a;if(o>0){if(i)return null;a=1}else if(o<0)a=-1,o=-o;else return null;ly.subVectors(this.origin,e);const l=a*this.direction.dot(E2.crossVectors(ly,E2));if(l<0)return null;const u=a*this.direction.dot(b5.cross(ly));if(u<0||l+u>o)return null;const c=-a*ly.dot(x5);return c<0?null:this.at(c/o,s)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class fo{constructor(e,n,r,i,s,o,a,l,u,c,d,f,p,m,v,y){fo.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],e!==void 0&&this.set(e,n,r,i,s,o,a,l,u,c,d,f,p,m,v,y)}set(e,n,r,i,s,o,a,l,u,c,d,f,p,m,v,y){const A=this.elements;return A[0]=e,A[4]=n,A[8]=r,A[12]=i,A[1]=s,A[5]=o,A[9]=a,A[13]=l,A[2]=u,A[6]=c,A[10]=d,A[14]=f,A[3]=p,A[7]=m,A[11]=v,A[15]=y,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new fo().fromArray(this.elements)}copy(e){const n=this.elements,r=e.elements;return n[0]=r[0],n[1]=r[1],n[2]=r[2],n[3]=r[3],n[4]=r[4],n[5]=r[5],n[6]=r[6],n[7]=r[7],n[8]=r[8],n[9]=r[9],n[10]=r[10],n[11]=r[11],n[12]=r[12],n[13]=r[13],n[14]=r[14],n[15]=r[15],this}copyPosition(e){const n=this.elements,r=e.elements;return n[12]=r[12],n[13]=r[13],n[14]=r[14],this}setFromMatrix3(e){const n=e.elements;return this.set(n[0],n[3],n[6],0,n[1],n[4],n[7],0,n[2],n[5],n[8],0,0,0,0,1),this}extractBasis(e,n,r){return this.determinant()===0?(e.set(1,0,0),n.set(0,1,0),r.set(0,0,1),this):(e.setFromMatrixColumn(this,0),n.setFromMatrixColumn(this,1),r.setFromMatrixColumn(this,2),this)}makeBasis(e,n,r){return this.set(e.x,n.x,r.x,0,e.y,n.y,r.y,0,e.z,n.z,r.z,0,0,0,0,1),this}extractRotation(e){if(e.determinant()===0)return this.identity();const n=this.elements,r=e.elements,i=1/i1.setFromMatrixColumn(e,0).length(),s=1/i1.setFromMatrixColumn(e,1).length(),o=1/i1.setFromMatrixColumn(e,2).length();return n[0]=r[0]*i,n[1]=r[1]*i,n[2]=r[2]*i,n[3]=0,n[4]=r[4]*s,n[5]=r[5]*s,n[6]=r[6]*s,n[7]=0,n[8]=r[8]*o,n[9]=r[9]*o,n[10]=r[10]*o,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this}makeRotationFromEuler(e){const n=this.elements,r=e.x,i=e.y,s=e.z,o=Math.cos(r),a=Math.sin(r),l=Math.cos(i),u=Math.sin(i),c=Math.cos(s),d=Math.sin(s);if(e.order==="XYZ"){const f=o*c,p=o*d,m=a*c,v=a*d;n[0]=l*c,n[4]=-l*d,n[8]=u,n[1]=p+m*u,n[5]=f-v*u,n[9]=-a*l,n[2]=v-f*u,n[6]=m+p*u,n[10]=o*l}else if(e.order==="YXZ"){const f=l*c,p=l*d,m=u*c,v=u*d;n[0]=f+v*a,n[4]=m*a-p,n[8]=o*u,n[1]=o*d,n[5]=o*c,n[9]=-a,n[2]=p*a-m,n[6]=v+f*a,n[10]=o*l}else if(e.order==="ZXY"){const f=l*c,p=l*d,m=u*c,v=u*d;n[0]=f-v*a,n[4]=-o*d,n[8]=m+p*a,n[1]=p+m*a,n[5]=o*c,n[9]=v-f*a,n[2]=-o*u,n[6]=a,n[10]=o*l}else if(e.order==="ZYX"){const f=o*c,p=o*d,m=a*c,v=a*d;n[0]=l*c,n[4]=m*u-p,n[8]=f*u+v,n[1]=l*d,n[5]=v*u+f,n[9]=p*u-m,n[2]=-u,n[6]=a*l,n[10]=o*l}else if(e.order==="YZX"){const f=o*l,p=o*u,m=a*l,v=a*u;n[0]=l*c,n[4]=v-f*d,n[8]=m*d+p,n[1]=d,n[5]=o*c,n[9]=-a*c,n[2]=-u*c,n[6]=p*d+m,n[10]=f-v*d}else if(e.order==="XZY"){const f=o*l,p=o*u,m=a*l,v=a*u;n[0]=l*c,n[4]=-d,n[8]=u*c,n[1]=f*d+v,n[5]=o*c,n[9]=p*d-m,n[2]=m*d-p,n[6]=a*c,n[10]=v*d+f}return n[3]=0,n[7]=0,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this}makeRotationFromQuaternion(e){return this.compose(jCe,e,QCe)}lookAt(e,n,r){const i=this.elements;return Gd.subVectors(e,n),Gd.lengthSq()===0&&(Gd.z=1),Gd.normalize(),uy.crossVectors(r,Gd),uy.lengthSq()===0&&(Math.abs(r.z)===1?Gd.x+=1e-4:Gd.z+=1e-4,Gd.normalize(),uy.crossVectors(r,Gd)),uy.normalize(),S2.crossVectors(Gd,uy),i[0]=uy.x,i[4]=S2.x,i[8]=Gd.x,i[1]=uy.y,i[5]=S2.y,i[9]=Gd.y,i[2]=uy.z,i[6]=S2.z,i[10]=Gd.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,n){const r=e.elements,i=n.elements,s=this.elements,o=r[0],a=r[4],l=r[8],u=r[12],c=r[1],d=r[5],f=r[9],p=r[13],m=r[2],v=r[6],y=r[10],A=r[14],C=r[3],E=r[7],I=r[11],D=r[15],T=i[0],M=i[4],P=i[8],k=i[12],L=i[1],$=i[5],z=i[9],j=i[13],H=i[2],W=i[6],O=i[10],G=i[14],q=i[3],J=i[7],te=i[11],Y=i[15];return s[0]=o*T+a*L+l*H+u*q,s[4]=o*M+a*$+l*W+u*J,s[8]=o*P+a*z+l*O+u*te,s[12]=o*k+a*j+l*G+u*Y,s[1]=c*T+d*L+f*H+p*q,s[5]=c*M+d*$+f*W+p*J,s[9]=c*P+d*z+f*O+p*te,s[13]=c*k+d*j+f*G+p*Y,s[2]=m*T+v*L+y*H+A*q,s[6]=m*M+v*$+y*W+A*J,s[10]=m*P+v*z+y*O+A*te,s[14]=m*k+v*j+y*G+A*Y,s[3]=C*T+E*L+I*H+D*q,s[7]=C*M+E*$+I*W+D*J,s[11]=C*P+E*z+I*O+D*te,s[15]=C*k+E*j+I*G+D*Y,this}multiplyScalar(e){const n=this.elements;return n[0]*=e,n[4]*=e,n[8]*=e,n[12]*=e,n[1]*=e,n[5]*=e,n[9]*=e,n[13]*=e,n[2]*=e,n[6]*=e,n[10]*=e,n[14]*=e,n[3]*=e,n[7]*=e,n[11]*=e,n[15]*=e,this}determinant(){const e=this.elements,n=e[0],r=e[4],i=e[8],s=e[12],o=e[1],a=e[5],l=e[9],u=e[13],c=e[2],d=e[6],f=e[10],p=e[14],m=e[3],v=e[7],y=e[11],A=e[15],C=l*p-u*f,E=a*p-u*d,I=a*f-l*d,D=o*p-u*c,T=o*f-l*c,M=o*d-a*c;return n*(v*C-y*E+A*I)-r*(m*C-y*D+A*T)+i*(m*E-v*D+A*M)-s*(m*I-v*T+y*M)}transpose(){const e=this.elements;let n;return n=e[1],e[1]=e[4],e[4]=n,n=e[2],e[2]=e[8],e[8]=n,n=e[6],e[6]=e[9],e[9]=n,n=e[3],e[3]=e[12],e[12]=n,n=e[7],e[7]=e[13],e[13]=n,n=e[11],e[11]=e[14],e[14]=n,this}setPosition(e,n,r){const i=this.elements;return e.isVector3?(i[12]=e.x,i[13]=e.y,i[14]=e.z):(i[12]=e,i[13]=n,i[14]=r),this}invert(){const e=this.elements,n=e[0],r=e[1],i=e[2],s=e[3],o=e[4],a=e[5],l=e[6],u=e[7],c=e[8],d=e[9],f=e[10],p=e[11],m=e[12],v=e[13],y=e[14],A=e[15],C=d*y*u-v*f*u+v*l*p-a*y*p-d*l*A+a*f*A,E=m*f*u-c*y*u-m*l*p+o*y*p+c*l*A-o*f*A,I=c*v*u-m*d*u+m*a*p-o*v*p-c*a*A+o*d*A,D=m*d*l-c*v*l-m*a*f+o*v*f+c*a*y-o*d*y,T=n*C+r*E+i*I+s*D;if(T===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const M=1/T;return e[0]=C*M,e[1]=(v*f*s-d*y*s-v*i*p+r*y*p+d*i*A-r*f*A)*M,e[2]=(a*y*s-v*l*s+v*i*u-r*y*u-a*i*A+r*l*A)*M,e[3]=(d*l*s-a*f*s-d*i*u+r*f*u+a*i*p-r*l*p)*M,e[4]=E*M,e[5]=(c*y*s-m*f*s+m*i*p-n*y*p-c*i*A+n*f*A)*M,e[6]=(m*l*s-o*y*s-m*i*u+n*y*u+o*i*A-n*l*A)*M,e[7]=(o*f*s-c*l*s+c*i*u-n*f*u-o*i*p+n*l*p)*M,e[8]=I*M,e[9]=(m*d*s-c*v*s-m*r*p+n*v*p+c*r*A-n*d*A)*M,e[10]=(o*v*s-m*a*s+m*r*u-n*v*u-o*r*A+n*a*A)*M,e[11]=(c*a*s-o*d*s-c*r*u+n*d*u+o*r*p-n*a*p)*M,e[12]=D*M,e[13]=(c*v*i-m*d*i+m*r*f-n*v*f-c*r*y+n*d*y)*M,e[14]=(m*a*i-o*v*i-m*r*l+n*v*l+o*r*y-n*a*y)*M,e[15]=(o*d*i-c*a*i+c*r*l-n*d*l-o*r*f+n*a*f)*M,this}scale(e){const n=this.elements,r=e.x,i=e.y,s=e.z;return n[0]*=r,n[4]*=i,n[8]*=s,n[1]*=r,n[5]*=i,n[9]*=s,n[2]*=r,n[6]*=i,n[10]*=s,n[3]*=r,n[7]*=i,n[11]*=s,this}getMaxScaleOnAxis(){const e=this.elements,n=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],r=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],i=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(n,r,i))}makeTranslation(e,n,r){return e.isVector3?this.set(1,0,0,e.x,0,1,0,e.y,0,0,1,e.z,0,0,0,1):this.set(1,0,0,e,0,1,0,n,0,0,1,r,0,0,0,1),this}makeRotationX(e){const n=Math.cos(e),r=Math.sin(e);return this.set(1,0,0,0,0,n,-r,0,0,r,n,0,0,0,0,1),this}makeRotationY(e){const n=Math.cos(e),r=Math.sin(e);return this.set(n,0,r,0,0,1,0,0,-r,0,n,0,0,0,0,1),this}makeRotationZ(e){const n=Math.cos(e),r=Math.sin(e);return this.set(n,-r,0,0,r,n,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,n){const r=Math.cos(n),i=Math.sin(n),s=1-r,o=e.x,a=e.y,l=e.z,u=s*o,c=s*a;return this.set(u*o+r,u*a-i*l,u*l+i*a,0,u*a+i*l,c*a+r,c*l-i*o,0,u*l-i*a,c*l+i*o,s*l*l+r,0,0,0,0,1),this}makeScale(e,n,r){return this.set(e,0,0,0,0,n,0,0,0,0,r,0,0,0,0,1),this}makeShear(e,n,r,i,s,o){return this.set(1,r,s,0,e,1,o,0,n,i,1,0,0,0,0,1),this}compose(e,n,r){const i=this.elements,s=n._x,o=n._y,a=n._z,l=n._w,u=s+s,c=o+o,d=a+a,f=s*u,p=s*c,m=s*d,v=o*c,y=o*d,A=a*d,C=l*u,E=l*c,I=l*d,D=r.x,T=r.y,M=r.z;return i[0]=(1-(v+A))*D,i[1]=(p+I)*D,i[2]=(m-E)*D,i[3]=0,i[4]=(p-I)*T,i[5]=(1-(f+A))*T,i[6]=(y+C)*T,i[7]=0,i[8]=(m+E)*M,i[9]=(y-C)*M,i[10]=(1-(f+v))*M,i[11]=0,i[12]=e.x,i[13]=e.y,i[14]=e.z,i[15]=1,this}decompose(e,n,r){const i=this.elements;if(e.x=i[12],e.y=i[13],e.z=i[14],this.determinant()===0)return r.set(1,1,1),n.identity(),this;let s=i1.set(i[0],i[1],i[2]).length();const o=i1.set(i[4],i[5],i[6]).length(),a=i1.set(i[8],i[9],i[10]).length();this.determinant()<0&&(s=-s),gp.copy(this);const u=1/s,c=1/o,d=1/a;return gp.elements[0]*=u,gp.elements[1]*=u,gp.elements[2]*=u,gp.elements[4]*=c,gp.elements[5]*=c,gp.elements[6]*=c,gp.elements[8]*=d,gp.elements[9]*=d,gp.elements[10]*=d,n.setFromRotationMatrix(gp),r.x=s,r.y=o,r.z=a,this}makePerspective(e,n,r,i,s,o,a=Yg,l=!1){const u=this.elements,c=2*s/(n-e),d=2*s/(r-i),f=(n+e)/(n-e),p=(r+i)/(r-i);let m,v;if(l)m=s/(o-s),v=o*s/(o-s);else if(a===Yg)m=-(o+s)/(o-s),v=-2*o*s/(o-s);else if(a===qB)m=-o/(o-s),v=-o*s/(o-s);else throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+a);return u[0]=c,u[4]=0,u[8]=f,u[12]=0,u[1]=0,u[5]=d,u[9]=p,u[13]=0,u[2]=0,u[6]=0,u[10]=m,u[14]=v,u[3]=0,u[7]=0,u[11]=-1,u[15]=0,this}makeOrthographic(e,n,r,i,s,o,a=Yg,l=!1){const u=this.elements,c=2/(n-e),d=2/(r-i),f=-(n+e)/(n-e),p=-(r+i)/(r-i);let m,v;if(l)m=1/(o-s),v=o/(o-s);else if(a===Yg)m=-2/(o-s),v=-(o+s)/(o-s);else if(a===qB)m=-1/(o-s),v=-s/(o-s);else throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+a);return u[0]=c,u[4]=0,u[8]=0,u[12]=f,u[1]=0,u[5]=d,u[9]=0,u[13]=p,u[2]=0,u[6]=0,u[10]=m,u[14]=v,u[3]=0,u[7]=0,u[11]=0,u[15]=1,this}equals(e){const n=this.elements,r=e.elements;for(let i=0;i<16;i++)if(n[i]!==r[i])return!1;return!0}fromArray(e,n=0){for(let r=0;r<16;r++)this.elements[r]=e[r+n];return this}toArray(e=[],n=0){const r=this.elements;return e[n]=r[0],e[n+1]=r[1],e[n+2]=r[2],e[n+3]=r[3],e[n+4]=r[4],e[n+5]=r[5],e[n+6]=r[6],e[n+7]=r[7],e[n+8]=r[8],e[n+9]=r[9],e[n+10]=r[10],e[n+11]=r[11],e[n+12]=r[12],e[n+13]=r[13],e[n+14]=r[14],e[n+15]=r[15],e}}const i1=new rt,gp=new fo,jCe=new rt(0,0,0),QCe=new rt(1,1,1),uy=new rt,S2=new rt,Gd=new rt,dO=new fo,hO=new H3;class $0{constructor(e=0,n=0,r=0,i=$0.DEFAULT_ORDER){this.isEuler=!0,this._x=e,this._y=n,this._z=r,this._order=i}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,n,r,i=this._order){return this._x=e,this._y=n,this._z=r,this._order=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,n=this._order,r=!0){const i=e.elements,s=i[0],o=i[4],a=i[8],l=i[1],u=i[5],c=i[9],d=i[2],f=i[6],p=i[10];switch(n){case"XYZ":this._y=Math.asin(Ti(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(-c,p),this._z=Math.atan2(-o,s)):(this._x=Math.atan2(f,u),this._z=0);break;case"YXZ":this._x=Math.asin(-Ti(c,-1,1)),Math.abs(c)<.9999999?(this._y=Math.atan2(a,p),this._z=Math.atan2(l,u)):(this._y=Math.atan2(-d,s),this._z=0);break;case"ZXY":this._x=Math.asin(Ti(f,-1,1)),Math.abs(f)<.9999999?(this._y=Math.atan2(-d,p),this._z=Math.atan2(-o,u)):(this._y=0,this._z=Math.atan2(l,s));break;case"ZYX":this._y=Math.asin(-Ti(d,-1,1)),Math.abs(d)<.9999999?(this._x=Math.atan2(f,p),this._z=Math.atan2(l,s)):(this._x=0,this._z=Math.atan2(-o,u));break;case"YZX":this._z=Math.asin(Ti(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(-c,u),this._y=Math.atan2(-d,s)):(this._x=0,this._y=Math.atan2(a,p));break;case"XZY":this._z=Math.asin(-Ti(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(f,u),this._y=Math.atan2(a,s)):(this._x=Math.atan2(-c,p),this._y=0);break;default:Tr("Euler: .setFromRotationMatrix() encountered an unknown order: "+n)}return this._order=n,r===!0&&this._onChangeCallback(),this}setFromQuaternion(e,n,r){return dO.makeRotationFromQuaternion(e),this.setFromRotationMatrix(dO,n,r)}setFromVector3(e,n=this._order){return this.set(e.x,e.y,e.z,n)}reorder(e){return hO.setFromEuler(this),this.setFromQuaternion(hO,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],n=0){return e[n]=this._x,e[n+1]=this._y,e[n+2]=this._z,e[n+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}$0.DEFAULT_ORDER="XYZ";class ZX{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}}let UCe=0;const fO=new rt,s1=new H3,e0=new fo,w2=new rt,ew=new rt,HCe=new rt,VCe=new H3,pO=new rt(1,0,0),gO=new rt(0,1,0),mO=new rt(0,0,1),AO={type:"added"},GCe={type:"removed"},o1={type:"childadded",child:null},C5={type:"childremoved",child:null};class Bc extends tS{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:UCe++}),this.uuid=U3(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=Bc.DEFAULT_UP.clone();const e=new rt,n=new $0,r=new H3,i=new rt(1,1,1);function s(){r.setFromEuler(n,!1)}function o(){n.setFromQuaternion(r,void 0,!1)}n._onChange(s),r._onChange(o),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:n},quaternion:{configurable:!0,enumerable:!0,value:r},scale:{configurable:!0,enumerable:!0,value:i},modelViewMatrix:{value:new fo},normalMatrix:{value:new Ur}}),this.matrix=new fo,this.matrixWorld=new fo,this.matrixAutoUpdate=Bc.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldAutoUpdate=Bc.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.layers=new ZX,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.customDepthMaterial=void 0,this.customDistanceMaterial=void 0,this.userData={}}onBeforeShadow(){}onAfterShadow(){}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,n){this.quaternion.setFromAxisAngle(e,n)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,n){return s1.setFromAxisAngle(e,n),this.quaternion.multiply(s1),this}rotateOnWorldAxis(e,n){return s1.setFromAxisAngle(e,n),this.quaternion.premultiply(s1),this}rotateX(e){return this.rotateOnAxis(pO,e)}rotateY(e){return this.rotateOnAxis(gO,e)}rotateZ(e){return this.rotateOnAxis(mO,e)}translateOnAxis(e,n){return fO.copy(e).applyQuaternion(this.quaternion),this.position.add(fO.multiplyScalar(n)),this}translateX(e){return this.translateOnAxis(pO,e)}translateY(e){return this.translateOnAxis(gO,e)}translateZ(e){return this.translateOnAxis(mO,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(e0.copy(this.matrixWorld).invert())}lookAt(e,n,r){e.isVector3?w2.copy(e):w2.set(e,n,r);const i=this.parent;this.updateWorldMatrix(!0,!1),ew.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?e0.lookAt(ew,w2,this.up):e0.lookAt(w2,ew,this.up),this.quaternion.setFromRotationMatrix(e0),i&&(e0.extractRotation(i.matrixWorld),s1.setFromRotationMatrix(e0),this.quaternion.premultiply(s1.invert()))}add(e){if(arguments.length>1){for(let n=0;n<arguments.length;n++)this.add(arguments[n]);return this}return e===this?(Xi("Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.removeFromParent(),e.parent=this,this.children.push(e),e.dispatchEvent(AO),o1.child=e,this.dispatchEvent(o1),o1.child=null):Xi("Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let r=0;r<arguments.length;r++)this.remove(arguments[r]);return this}const n=this.children.indexOf(e);return n!==-1&&(e.parent=null,this.children.splice(n,1),e.dispatchEvent(GCe),C5.child=e,this.dispatchEvent(C5),C5.child=null),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){return this.remove(...this.children)}attach(e){return this.updateWorldMatrix(!0,!1),e0.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),e0.multiply(e.parent.matrixWorld)),e.applyMatrix4(e0),e.removeFromParent(),e.parent=this,this.children.push(e),e.updateWorldMatrix(!1,!0),e.dispatchEvent(AO),o1.child=e,this.dispatchEvent(o1),o1.child=null,this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,n){if(this[e]===n)return this;for(let r=0,i=this.children.length;r<i;r++){const o=this.children[r].getObjectByProperty(e,n);if(o!==void 0)return o}}getObjectsByProperty(e,n,r=[]){this[e]===n&&r.push(this);const i=this.children;for(let s=0,o=i.length;s<o;s++)i[s].getObjectsByProperty(e,n,r);return r}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(ew,e,HCe),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(ew,VCe,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const n=this.matrixWorld.elements;return e.set(n[8],n[9],n[10]).normalize()}raycast(){}traverse(e){e(this);const n=this.children;for(let r=0,i=n.length;r<i;r++)n[r].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const n=this.children;for(let r=0,i=n.length;r<i;r++)n[r].traverseVisible(e)}traverseAncestors(e){const n=this.parent;n!==null&&(e(n),n.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),this.matrixWorldNeedsUpdate=!1,e=!0);const n=this.children;for(let r=0,i=n.length;r<i;r++)n[r].updateMatrixWorld(e)}updateWorldMatrix(e,n){const r=this.parent;if(e===!0&&r!==null&&r.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),n===!0){const i=this.children;for(let s=0,o=i.length;s<o;s++)i[s].updateWorldMatrix(!1,!0)}}toJSON(e){const n=e===void 0||typeof e=="string",r={};n&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},r.metadata={version:4.7,type:"Object",generator:"Object3D.toJSON"});const i={};i.uuid=this.uuid,i.type=this.type,this.name!==""&&(i.name=this.name),this.castShadow===!0&&(i.castShadow=!0),this.receiveShadow===!0&&(i.receiveShadow=!0),this.visible===!1&&(i.visible=!1),this.frustumCulled===!1&&(i.frustumCulled=!1),this.renderOrder!==0&&(i.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(i.userData=this.userData),i.layers=this.layers.mask,i.matrix=this.matrix.toArray(),i.up=this.up.toArray(),this.matrixAutoUpdate===!1&&(i.matrixAutoUpdate=!1),this.isInstancedMesh&&(i.type="InstancedMesh",i.count=this.count,i.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(i.instanceColor=this.instanceColor.toJSON())),this.isBatchedMesh&&(i.type="BatchedMesh",i.perObjectFrustumCulled=this.perObjectFrustumCulled,i.sortObjects=this.sortObjects,i.drawRanges=this._drawRanges,i.reservedRanges=this._reservedRanges,i.geometryInfo=this._geometryInfo.map(a=>({...a,boundingBox:a.boundingBox?a.boundingBox.toJSON():void 0,boundingSphere:a.boundingSphere?a.boundingSphere.toJSON():void 0})),i.instanceInfo=this._instanceInfo.map(a=>({...a})),i.availableInstanceIds=this._availableInstanceIds.slice(),i.availableGeometryIds=this._availableGeometryIds.slice(),i.nextIndexStart=this._nextIndexStart,i.nextVertexStart=this._nextVertexStart,i.geometryCount=this._geometryCount,i.maxInstanceCount=this._maxInstanceCount,i.maxVertexCount=this._maxVertexCount,i.maxIndexCount=this._maxIndexCount,i.geometryInitialized=this._geometryInitialized,i.matricesTexture=this._matricesTexture.toJSON(e),i.indirectTexture=this._indirectTexture.toJSON(e),this._colorsTexture!==null&&(i.colorsTexture=this._colorsTexture.toJSON(e)),this.boundingSphere!==null&&(i.boundingSphere=this.boundingSphere.toJSON()),this.boundingBox!==null&&(i.boundingBox=this.boundingBox.toJSON()));function s(a,l){return a[l.uuid]===void 0&&(a[l.uuid]=l.toJSON(e)),l.uuid}if(this.isScene)this.background&&(this.background.isColor?i.background=this.background.toJSON():this.background.isTexture&&(i.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(i.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){i.geometry=s(e.geometries,this.geometry);const a=this.geometry.parameters;if(a!==void 0&&a.shapes!==void 0){const l=a.shapes;if(Array.isArray(l))for(let u=0,c=l.length;u<c;u++){const d=l[u];s(e.shapes,d)}else s(e.shapes,l)}}if(this.isSkinnedMesh&&(i.bindMode=this.bindMode,i.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(s(e.skeletons,this.skeleton),i.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const a=[];for(let l=0,u=this.material.length;l<u;l++)a.push(s(e.materials,this.material[l]));i.material=a}else i.material=s(e.materials,this.material);if(this.children.length>0){i.children=[];for(let a=0;a<this.children.length;a++)i.children.push(this.children[a].toJSON(e).object)}if(this.animations.length>0){i.animations=[];for(let a=0;a<this.animations.length;a++){const l=this.animations[a];i.animations.push(s(e.animations,l))}}if(n){const a=o(e.geometries),l=o(e.materials),u=o(e.textures),c=o(e.images),d=o(e.shapes),f=o(e.skeletons),p=o(e.animations),m=o(e.nodes);a.length>0&&(r.geometries=a),l.length>0&&(r.materials=l),u.length>0&&(r.textures=u),c.length>0&&(r.images=c),d.length>0&&(r.shapes=d),f.length>0&&(r.skeletons=f),p.length>0&&(r.animations=p),m.length>0&&(r.nodes=m)}return r.object=i,r;function o(a){const l=[];for(const u in a){const c=a[u];delete c.metadata,l.push(c)}return l}}clone(e){return new this.constructor().copy(this,e)}copy(e,n=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.animations=e.animations.slice(),this.userData=JSON.parse(JSON.stringify(e.userData)),n===!0)for(let r=0;r<e.children.length;r++){const i=e.children[r];this.add(i.clone())}return this}}Bc.DEFAULT_UP=new rt(0,1,0);Bc.DEFAULT_MATRIX_AUTO_UPDATE=!0;Bc.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const mp=new rt,t0=new rt,E5=new rt,n0=new rt,a1=new rt,l1=new rt,yO=new rt,S5=new rt,w5=new rt,_5=new rt,I5=new sa,B5=new sa,D5=new sa;class _p{constructor(e=new rt,n=new rt,r=new rt){this.a=e,this.b=n,this.c=r}static getNormal(e,n,r,i){i.subVectors(r,n),mp.subVectors(e,n),i.cross(mp);const s=i.lengthSq();return s>0?i.multiplyScalar(1/Math.sqrt(s)):i.set(0,0,0)}static getBarycoord(e,n,r,i,s){mp.subVectors(i,n),t0.subVectors(r,n),E5.subVectors(e,n);const o=mp.dot(mp),a=mp.dot(t0),l=mp.dot(E5),u=t0.dot(t0),c=t0.dot(E5),d=o*u-a*a;if(d===0)return s.set(0,0,0),null;const f=1/d,p=(u*l-a*c)*f,m=(o*c-a*l)*f;return s.set(1-p-m,m,p)}static containsPoint(e,n,r,i){return this.getBarycoord(e,n,r,i,n0)===null?!1:n0.x>=0&&n0.y>=0&&n0.x+n0.y<=1}static getInterpolation(e,n,r,i,s,o,a,l){return this.getBarycoord(e,n,r,i,n0)===null?(l.x=0,l.y=0,"z"in l&&(l.z=0),"w"in l&&(l.w=0),null):(l.setScalar(0),l.addScaledVector(s,n0.x),l.addScaledVector(o,n0.y),l.addScaledVector(a,n0.z),l)}static getInterpolatedAttribute(e,n,r,i,s,o){return I5.setScalar(0),B5.setScalar(0),D5.setScalar(0),I5.fromBufferAttribute(e,n),B5.fromBufferAttribute(e,r),D5.fromBufferAttribute(e,i),o.setScalar(0),o.addScaledVector(I5,s.x),o.addScaledVector(B5,s.y),o.addScaledVector(D5,s.z),o}static isFrontFacing(e,n,r,i){return mp.subVectors(r,n),t0.subVectors(e,n),mp.cross(t0).dot(i)<0}set(e,n,r){return this.a.copy(e),this.b.copy(n),this.c.copy(r),this}setFromPointsAndIndices(e,n,r,i){return this.a.copy(e[n]),this.b.copy(e[r]),this.c.copy(e[i]),this}setFromAttributeAndIndices(e,n,r,i){return this.a.fromBufferAttribute(e,n),this.b.fromBufferAttribute(e,r),this.c.fromBufferAttribute(e,i),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return mp.subVectors(this.c,this.b),t0.subVectors(this.a,this.b),mp.cross(t0).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return _p.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,n){return _p.getBarycoord(e,this.a,this.b,this.c,n)}getInterpolation(e,n,r,i,s){return _p.getInterpolation(e,this.a,this.b,this.c,n,r,i,s)}containsPoint(e){return _p.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return _p.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,n){const r=this.a,i=this.b,s=this.c;let o,a;a1.subVectors(i,r),l1.subVectors(s,r),S5.subVectors(e,r);const l=a1.dot(S5),u=l1.dot(S5);if(l<=0&&u<=0)return n.copy(r);w5.subVectors(e,i);const c=a1.dot(w5),d=l1.dot(w5);if(c>=0&&d<=c)return n.copy(i);const f=l*d-c*u;if(f<=0&&l>=0&&c<=0)return o=l/(l-c),n.copy(r).addScaledVector(a1,o);_5.subVectors(e,s);const p=a1.dot(_5),m=l1.dot(_5);if(m>=0&&p<=m)return n.copy(s);const v=p*u-l*m;if(v<=0&&u>=0&&m<=0)return a=u/(u-m),n.copy(r).addScaledVector(l1,a);const y=c*m-p*d;if(y<=0&&d-c>=0&&p-m>=0)return yO.subVectors(s,i),a=(d-c)/(d-c+(p-m)),n.copy(i).addScaledVector(yO,a);const A=1/(y+v+f);return o=v*A,a=f*A,n.copy(r).addScaledVector(a1,o).addScaledVector(l1,a)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}const eJ={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},cy={h:0,s:0,l:0},_2={h:0,s:0,l:0};function T5(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*6*(2/3-n):t}let Gr=class{constructor(e,n,r){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(e,n,r)}set(e,n,r){if(n===void 0&&r===void 0){const i=e;i&&i.isColor?this.copy(i):typeof i=="number"?this.setHex(i):typeof i=="string"&&this.setStyle(i)}else this.setRGB(e,n,r);return this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,n=rf){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,Ri.colorSpaceToWorking(this,n),this}setRGB(e,n,r,i=Ri.workingColorSpace){return this.r=e,this.g=n,this.b=r,Ri.colorSpaceToWorking(this,i),this}setHSL(e,n,r,i=Ri.workingColorSpace){if(e=PCe(e,1),n=Ti(n,0,1),r=Ti(r,0,1),n===0)this.r=this.g=this.b=r;else{const s=r<=.5?r*(1+n):r+n-r*n,o=2*r-s;this.r=T5(o,s,e+1/3),this.g=T5(o,s,e),this.b=T5(o,s,e-1/3)}return Ri.colorSpaceToWorking(this,i),this}setStyle(e,n=rf){function r(s){s!==void 0&&parseFloat(s)<1&&Tr("Color: Alpha component of "+e+" will be ignored.")}let i;if(i=/^(\w+)\(([^\)]*)\)/.exec(e)){let s;const o=i[1],a=i[2];switch(o){case"rgb":case"rgba":if(s=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return r(s[4]),this.setRGB(Math.min(255,parseInt(s[1],10))/255,Math.min(255,parseInt(s[2],10))/255,Math.min(255,parseInt(s[3],10))/255,n);if(s=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return r(s[4]),this.setRGB(Math.min(100,parseInt(s[1],10))/100,Math.min(100,parseInt(s[2],10))/100,Math.min(100,parseInt(s[3],10))/100,n);break;case"hsl":case"hsla":if(s=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return r(s[4]),this.setHSL(parseFloat(s[1])/360,parseFloat(s[2])/100,parseFloat(s[3])/100,n);break;default:Tr("Color: Unknown color model "+e)}}else if(i=/^\#([A-Fa-f\d]+)$/.exec(e)){const s=i[1],o=s.length;if(o===3)return this.setRGB(parseInt(s.charAt(0),16)/15,parseInt(s.charAt(1),16)/15,parseInt(s.charAt(2),16)/15,n);if(o===6)return this.setHex(parseInt(s,16),n);Tr("Color: Invalid hex color "+e)}else if(e&&e.length>0)return this.setColorName(e,n);return this}setColorName(e,n=rf){const r=eJ[e.toLowerCase()];return r!==void 0?this.setHex(r,n):Tr("Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=B0(e.r),this.g=B0(e.g),this.b=B0(e.b),this}copyLinearToSRGB(e){return this.r=lE(e.r),this.g=lE(e.g),this.b=lE(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=rf){return Ri.workingToColorSpace(Pu.copy(this),e),Math.round(Ti(Pu.r*255,0,255))*65536+Math.round(Ti(Pu.g*255,0,255))*256+Math.round(Ti(Pu.b*255,0,255))}getHexString(e=rf){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,n=Ri.workingColorSpace){Ri.workingToColorSpace(Pu.copy(this),n);const r=Pu.r,i=Pu.g,s=Pu.b,o=Math.max(r,i,s),a=Math.min(r,i,s);let l,u;const c=(a+o)/2;if(a===o)l=0,u=0;else{const d=o-a;switch(u=c<=.5?d/(o+a):d/(2-o-a),o){case r:l=(i-s)/d+(i<s?6:0);break;case i:l=(s-r)/d+2;break;case s:l=(r-i)/d+4;break}l/=6}return e.h=l,e.s=u,e.l=c,e}getRGB(e,n=Ri.workingColorSpace){return Ri.workingToColorSpace(Pu.copy(this),n),e.r=Pu.r,e.g=Pu.g,e.b=Pu.b,e}getStyle(e=rf){Ri.workingToColorSpace(Pu.copy(this),e);const n=Pu.r,r=Pu.g,i=Pu.b;return e!==rf?`color(${e} ${n.toFixed(3)} ${r.toFixed(3)} ${i.toFixed(3)})`:`rgb(${Math.round(n*255)},${Math.round(r*255)},${Math.round(i*255)})`}offsetHSL(e,n,r){return this.getHSL(cy),this.setHSL(cy.h+e,cy.s+n,cy.l+r)}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,n){return this.r=e.r+n.r,this.g=e.g+n.g,this.b=e.b+n.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,n){return this.r+=(e.r-this.r)*n,this.g+=(e.g-this.g)*n,this.b+=(e.b-this.b)*n,this}lerpColors(e,n,r){return this.r=e.r+(n.r-e.r)*r,this.g=e.g+(n.g-e.g)*r,this.b=e.b+(n.b-e.b)*r,this}lerpHSL(e,n){this.getHSL(cy),e.getHSL(_2);const r=h5(cy.h,_2.h,n),i=h5(cy.s,_2.s,n),s=h5(cy.l,_2.l,n);return this.setHSL(r,i,s),this}setFromVector3(e){return this.r=e.x,this.g=e.y,this.b=e.z,this}applyMatrix3(e){const n=this.r,r=this.g,i=this.b,s=e.elements;return this.r=s[0]*n+s[3]*r+s[6]*i,this.g=s[1]*n+s[4]*r+s[7]*i,this.b=s[2]*n+s[5]*r+s[8]*i,this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,n=0){return this.r=e[n],this.g=e[n+1],this.b=e[n+2],this}toArray(e=[],n=0){return e[n]=this.r,e[n+1]=this.g,e[n+2]=this.b,e}fromBufferAttribute(e,n){return this.r=e.getX(n),this.g=e.getY(n),this.b=e.getZ(n),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}};const Pu=new Gr;Gr.NAMES=eJ;let KCe=0;class V3 extends tS{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:KCe++}),this.uuid=U3(),this.name="",this.type="Material",this.blending=Cx,this.side=Jy,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=HN,this.blendDst=VN,this.blendEquation=ex,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.blendColor=new Gr(0,0,0),this.blendAlpha=0,this.depthFunc=wE,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=rO,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=ZC,this.stencilZFail=ZC,this.stencilZPass=ZC,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.allowOverride=!0,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const n in e){const r=e[n];if(r===void 0){Tr(`Material: parameter '${n}' has value of undefined.`);continue}const i=this[n];if(i===void 0){Tr(`Material: '${n}' is not a property of THREE.${this.type}.`);continue}i&&i.isColor?i.set(r):i&&i.isVector3&&r&&r.isVector3?i.copy(r):this[n]=r}}toJSON(e){const n=e===void 0||typeof e=="string";n&&(e={textures:{},images:{}});const r={metadata:{version:4.7,type:"Material",generator:"Material.toJSON"}};r.uuid=this.uuid,r.type=this.type,this.name!==""&&(r.name=this.name),this.color&&this.color.isColor&&(r.color=this.color.getHex()),this.roughness!==void 0&&(r.roughness=this.roughness),this.metalness!==void 0&&(r.metalness=this.metalness),this.sheen!==void 0&&(r.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(r.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(r.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(r.emissive=this.emissive.getHex()),this.emissiveIntensity!==void 0&&this.emissiveIntensity!==1&&(r.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(r.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(r.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(r.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(r.shininess=this.shininess),this.clearcoat!==void 0&&(r.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(r.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(r.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(r.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(r.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,r.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.sheenColorMap&&this.sheenColorMap.isTexture&&(r.sheenColorMap=this.sheenColorMap.toJSON(e).uuid),this.sheenRoughnessMap&&this.sheenRoughnessMap.isTexture&&(r.sheenRoughnessMap=this.sheenRoughnessMap.toJSON(e).uuid),this.dispersion!==void 0&&(r.dispersion=this.dispersion),this.iridescence!==void 0&&(r.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(r.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(r.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(r.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(r.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.anisotropy!==void 0&&(r.anisotropy=this.anisotropy),this.anisotropyRotation!==void 0&&(r.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(r.anisotropyMap=this.anisotropyMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(r.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(r.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(r.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(r.lightMap=this.lightMap.toJSON(e).uuid,r.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(r.aoMap=this.aoMap.toJSON(e).uuid,r.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(r.bumpMap=this.bumpMap.toJSON(e).uuid,r.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(r.normalMap=this.normalMap.toJSON(e).uuid,r.normalMapType=this.normalMapType,r.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(r.displacementMap=this.displacementMap.toJSON(e).uuid,r.displacementScale=this.displacementScale,r.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(r.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(r.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(r.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(r.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(r.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(r.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(r.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(r.combine=this.combine)),this.envMapRotation!==void 0&&(r.envMapRotation=this.envMapRotation.toArray()),this.envMapIntensity!==void 0&&(r.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(r.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(r.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(r.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(r.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(r.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(r.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(r.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(r.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(r.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(r.size=this.size),this.shadowSide!==null&&(r.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(r.sizeAttenuation=this.sizeAttenuation),this.blending!==Cx&&(r.blending=this.blending),this.side!==Jy&&(r.side=this.side),this.vertexColors===!0&&(r.vertexColors=!0),this.opacity<1&&(r.opacity=this.opacity),this.transparent===!0&&(r.transparent=!0),this.blendSrc!==HN&&(r.blendSrc=this.blendSrc),this.blendDst!==VN&&(r.blendDst=this.blendDst),this.blendEquation!==ex&&(r.blendEquation=this.blendEquation),this.blendSrcAlpha!==null&&(r.blendSrcAlpha=this.blendSrcAlpha),this.blendDstAlpha!==null&&(r.blendDstAlpha=this.blendDstAlpha),this.blendEquationAlpha!==null&&(r.blendEquationAlpha=this.blendEquationAlpha),this.blendColor&&this.blendColor.isColor&&(r.blendColor=this.blendColor.getHex()),this.blendAlpha!==0&&(r.blendAlpha=this.blendAlpha),this.depthFunc!==wE&&(r.depthFunc=this.depthFunc),this.depthTest===!1&&(r.depthTest=this.depthTest),this.depthWrite===!1&&(r.depthWrite=this.depthWrite),this.colorWrite===!1&&(r.colorWrite=this.colorWrite),this.stencilWriteMask!==255&&(r.stencilWriteMask=this.stencilWriteMask),this.stencilFunc!==rO&&(r.stencilFunc=this.stencilFunc),this.stencilRef!==0&&(r.stencilRef=this.stencilRef),this.stencilFuncMask!==255&&(r.stencilFuncMask=this.stencilFuncMask),this.stencilFail!==ZC&&(r.stencilFail=this.stencilFail),this.stencilZFail!==ZC&&(r.stencilZFail=this.stencilZFail),this.stencilZPass!==ZC&&(r.stencilZPass=this.stencilZPass),this.stencilWrite===!0&&(r.stencilWrite=this.stencilWrite),this.rotation!==void 0&&this.rotation!==0&&(r.rotation=this.rotation),this.polygonOffset===!0&&(r.polygonOffset=!0),this.polygonOffsetFactor!==0&&(r.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(r.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(r.linewidth=this.linewidth),this.dashSize!==void 0&&(r.dashSize=this.dashSize),this.gapSize!==void 0&&(r.gapSize=this.gapSize),this.scale!==void 0&&(r.scale=this.scale),this.dithering===!0&&(r.dithering=!0),this.alphaTest>0&&(r.alphaTest=this.alphaTest),this.alphaHash===!0&&(r.alphaHash=!0),this.alphaToCoverage===!0&&(r.alphaToCoverage=!0),this.premultipliedAlpha===!0&&(r.premultipliedAlpha=!0),this.forceSinglePass===!0&&(r.forceSinglePass=!0),this.allowOverride===!1&&(r.allowOverride=!1),this.wireframe===!0&&(r.wireframe=!0),this.wireframeLinewidth>1&&(r.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(r.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(r.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(r.flatShading=!0),this.visible===!1&&(r.visible=!1),this.toneMapped===!1&&(r.toneMapped=!1),this.fog===!1&&(r.fog=!1),Object.keys(this.userData).length>0&&(r.userData=this.userData);function i(s){const o=[];for(const a in s){const l=s[a];delete l.metadata,o.push(l)}return o}if(n){const s=i(e.textures),o=i(e.images);s.length>0&&(r.textures=s),o.length>0&&(r.images=o)}return r}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.blendColor.copy(e.blendColor),this.blendAlpha=e.blendAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const n=e.clippingPlanes;let r=null;if(n!==null){const i=n.length;r=new Array(i);for(let s=0;s!==i;++s)r[s]=n[s].clone()}return this.clippingPlanes=r,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaHash=e.alphaHash,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.allowOverride=e.allowOverride,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}}class VF extends V3{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new Gr(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new $0,this.combine=QX,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const Ba=new rt,I2=new Er;let WCe=0;class mr{constructor(e,n,r=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,Object.defineProperty(this,"id",{value:WCe++}),this.name="",this.array=e,this.itemSize=n,this.count=e!==void 0?e.length/n:0,this.normalized=r,this.usage=iO,this.updateRanges=[],this.gpuType=cf,this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}addUpdateRange(e,n){this.updateRanges.push({start:e,count:n})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this.gpuType=e.gpuType,this}copyAt(e,n,r){e*=this.itemSize,r*=n.itemSize;for(let i=0,s=this.itemSize;i<s;i++)this.array[e+i]=n.array[r+i];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(this.itemSize===2)for(let n=0,r=this.count;n<r;n++)I2.fromBufferAttribute(this,n),I2.applyMatrix3(e),this.setXY(n,I2.x,I2.y);else if(this.itemSize===3)for(let n=0,r=this.count;n<r;n++)Ba.fromBufferAttribute(this,n),Ba.applyMatrix3(e),this.setXYZ(n,Ba.x,Ba.y,Ba.z);return this}applyMatrix4(e){for(let n=0,r=this.count;n<r;n++)Ba.fromBufferAttribute(this,n),Ba.applyMatrix4(e),this.setXYZ(n,Ba.x,Ba.y,Ba.z);return this}applyNormalMatrix(e){for(let n=0,r=this.count;n<r;n++)Ba.fromBufferAttribute(this,n),Ba.applyNormalMatrix(e),this.setXYZ(n,Ba.x,Ba.y,Ba.z);return this}transformDirection(e){for(let n=0,r=this.count;n<r;n++)Ba.fromBufferAttribute(this,n),Ba.transformDirection(e),this.setXYZ(n,Ba.x,Ba.y,Ba.z);return this}set(e,n=0){return this.array.set(e,n),this}getComponent(e,n){let r=this.array[e*this.itemSize+n];return this.normalized&&(r=XS(r,this.array)),r}setComponent(e,n,r){return this.normalized&&(r=rd(r,this.array)),this.array[e*this.itemSize+n]=r,this}getX(e){let n=this.array[e*this.itemSize];return this.normalized&&(n=XS(n,this.array)),n}setX(e,n){return this.normalized&&(n=rd(n,this.array)),this.array[e*this.itemSize]=n,this}getY(e){let n=this.array[e*this.itemSize+1];return this.normalized&&(n=XS(n,this.array)),n}setY(e,n){return this.normalized&&(n=rd(n,this.array)),this.array[e*this.itemSize+1]=n,this}getZ(e){let n=this.array[e*this.itemSize+2];return this.normalized&&(n=XS(n,this.array)),n}setZ(e,n){return this.normalized&&(n=rd(n,this.array)),this.array[e*this.itemSize+2]=n,this}getW(e){let n=this.array[e*this.itemSize+3];return this.normalized&&(n=XS(n,this.array)),n}setW(e,n){return this.normalized&&(n=rd(n,this.array)),this.array[e*this.itemSize+3]=n,this}setXY(e,n,r){return e*=this.itemSize,this.normalized&&(n=rd(n,this.array),r=rd(r,this.array)),this.array[e+0]=n,this.array[e+1]=r,this}setXYZ(e,n,r,i){return e*=this.itemSize,this.normalized&&(n=rd(n,this.array),r=rd(r,this.array),i=rd(i,this.array)),this.array[e+0]=n,this.array[e+1]=r,this.array[e+2]=i,this}setXYZW(e,n,r,i,s){return e*=this.itemSize,this.normalized&&(n=rd(n,this.array),r=rd(r,this.array),i=rd(i,this.array),s=rd(s,this.array)),this.array[e+0]=n,this.array[e+1]=r,this.array[e+2]=i,this.array[e+3]=s,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==iO&&(e.usage=this.usage),e}}class tJ extends mr{constructor(e,n,r){super(new Uint16Array(e),n,r)}}class nJ extends mr{constructor(e,n,r){super(new Uint32Array(e),n,r)}}class Fp extends mr{constructor(e,n,r){super(new Float32Array(e),n,r)}}let qCe=0;const Wh=new fo,M5=new Bc,u1=new rt,Kd=new rC,tw=new rC,Sl=new rt;class Dc extends tS{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:qCe++}),this.uuid=U3(),this.name="",this.type="BufferGeometry",this.index=null,this.indirect=null,this.indirectOffset=0,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(YX(e)?nJ:tJ)(e,1):this.index=e,this}setIndirect(e,n=0){return this.indirect=e,this.indirectOffset=n,this}getIndirect(){return this.indirect}getAttribute(e){return this.attributes[e]}setAttribute(e,n){return this.attributes[e]=n,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,n,r=0){this.groups.push({start:e,count:n,materialIndex:r})}clearGroups(){this.groups=[]}setDrawRange(e,n){this.drawRange.start=e,this.drawRange.count=n}applyMatrix4(e){const n=this.attributes.position;n!==void 0&&(n.applyMatrix4(e),n.needsUpdate=!0);const r=this.attributes.normal;if(r!==void 0){const s=new Ur().getNormalMatrix(e);r.applyNormalMatrix(s),r.needsUpdate=!0}const i=this.attributes.tangent;return i!==void 0&&(i.transformDirection(e),i.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return Wh.makeRotationFromQuaternion(e),this.applyMatrix4(Wh),this}rotateX(e){return Wh.makeRotationX(e),this.applyMatrix4(Wh),this}rotateY(e){return Wh.makeRotationY(e),this.applyMatrix4(Wh),this}rotateZ(e){return Wh.makeRotationZ(e),this.applyMatrix4(Wh),this}translate(e,n,r){return Wh.makeTranslation(e,n,r),this.applyMatrix4(Wh),this}scale(e,n,r){return Wh.makeScale(e,n,r),this.applyMatrix4(Wh),this}lookAt(e){return M5.lookAt(e),M5.updateMatrix(),this.applyMatrix4(M5.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(u1).negate(),this.translate(u1.x,u1.y,u1.z),this}setFromPoints(e){const n=this.getAttribute("position");if(n===void 0){const r=[];for(let i=0,s=e.length;i<s;i++){const o=e[i];r.push(o.x,o.y,o.z||0)}this.setAttribute("position",new Fp(r,3))}else{const r=Math.min(e.length,n.count);for(let i=0;i<r;i++){const s=e[i];n.setXYZ(i,s.x,s.y,s.z||0)}e.length>n.count&&Tr("BufferGeometry: Buffer size too small for points data. Use .dispose() and create a new geometry."),n.needsUpdate=!0}return this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new rC);const e=this.attributes.position,n=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){Xi("BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box.",this),this.boundingBox.set(new rt(-1/0,-1/0,-1/0),new rt(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),n)for(let r=0,i=n.length;r<i;r++){const s=n[r];Kd.setFromBufferAttribute(s),this.morphTargetsRelative?(Sl.addVectors(this.boundingBox.min,Kd.min),this.boundingBox.expandByPoint(Sl),Sl.addVectors(this.boundingBox.max,Kd.max),this.boundingBox.expandByPoint(Sl)):(this.boundingBox.expandByPoint(Kd.min),this.boundingBox.expandByPoint(Kd.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&Xi('BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new nS);const e=this.attributes.position,n=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){Xi("BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere.",this),this.boundingSphere.set(new rt,1/0);return}if(e){const r=this.boundingSphere.center;if(Kd.setFromBufferAttribute(e),n)for(let s=0,o=n.length;s<o;s++){const a=n[s];tw.setFromBufferAttribute(a),this.morphTargetsRelative?(Sl.addVectors(Kd.min,tw.min),Kd.expandByPoint(Sl),Sl.addVectors(Kd.max,tw.max),Kd.expandByPoint(Sl)):(Kd.expandByPoint(tw.min),Kd.expandByPoint(tw.max))}Kd.getCenter(r);let i=0;for(let s=0,o=e.count;s<o;s++)Sl.fromBufferAttribute(e,s),i=Math.max(i,r.distanceToSquared(Sl));if(n)for(let s=0,o=n.length;s<o;s++){const a=n[s],l=this.morphTargetsRelative;for(let u=0,c=a.count;u<c;u++)Sl.fromBufferAttribute(a,u),l&&(u1.fromBufferAttribute(e,u),Sl.add(u1)),i=Math.max(i,r.distanceToSquared(Sl))}this.boundingSphere.radius=Math.sqrt(i),isNaN(this.boundingSphere.radius)&&Xi('BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,n=this.attributes;if(e===null||n.position===void 0||n.normal===void 0||n.uv===void 0){Xi("BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const r=n.position,i=n.normal,s=n.uv;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new mr(new Float32Array(4*r.count),4));const o=this.getAttribute("tangent"),a=[],l=[];for(let P=0;P<r.count;P++)a[P]=new rt,l[P]=new rt;const u=new rt,c=new rt,d=new rt,f=new Er,p=new Er,m=new Er,v=new rt,y=new rt;function A(P,k,L){u.fromBufferAttribute(r,P),c.fromBufferAttribute(r,k),d.fromBufferAttribute(r,L),f.fromBufferAttribute(s,P),p.fromBufferAttribute(s,k),m.fromBufferAttribute(s,L),c.sub(u),d.sub(u),p.sub(f),m.sub(f);const $=1/(p.x*m.y-m.x*p.y);isFinite($)&&(v.copy(c).multiplyScalar(m.y).addScaledVector(d,-p.y).multiplyScalar($),y.copy(d).multiplyScalar(p.x).addScaledVector(c,-m.x).multiplyScalar($),a[P].add(v),a[k].add(v),a[L].add(v),l[P].add(y),l[k].add(y),l[L].add(y))}let C=this.groups;C.length===0&&(C=[{start:0,count:e.count}]);for(let P=0,k=C.length;P<k;++P){const L=C[P],$=L.start,z=L.count;for(let j=$,H=$+z;j<H;j+=3)A(e.getX(j+0),e.getX(j+1),e.getX(j+2))}const E=new rt,I=new rt,D=new rt,T=new rt;function M(P){D.fromBufferAttribute(i,P),T.copy(D);const k=a[P];E.copy(k),E.sub(D.multiplyScalar(D.dot(k))).normalize(),I.crossVectors(T,k);const $=I.dot(l[P])<0?-1:1;o.setXYZW(P,E.x,E.y,E.z,$)}for(let P=0,k=C.length;P<k;++P){const L=C[P],$=L.start,z=L.count;for(let j=$,H=$+z;j<H;j+=3)M(e.getX(j+0)),M(e.getX(j+1)),M(e.getX(j+2))}}computeVertexNormals(){const e=this.index,n=this.getAttribute("position");if(n!==void 0){let r=this.getAttribute("normal");if(r===void 0)r=new mr(new Float32Array(n.count*3),3),this.setAttribute("normal",r);else for(let f=0,p=r.count;f<p;f++)r.setXYZ(f,0,0,0);const i=new rt,s=new rt,o=new rt,a=new rt,l=new rt,u=new rt,c=new rt,d=new rt;if(e)for(let f=0,p=e.count;f<p;f+=3){const m=e.getX(f+0),v=e.getX(f+1),y=e.getX(f+2);i.fromBufferAttribute(n,m),s.fromBufferAttribute(n,v),o.fromBufferAttribute(n,y),c.subVectors(o,s),d.subVectors(i,s),c.cross(d),a.fromBufferAttribute(r,m),l.fromBufferAttribute(r,v),u.fromBufferAttribute(r,y),a.add(c),l.add(c),u.add(c),r.setXYZ(m,a.x,a.y,a.z),r.setXYZ(v,l.x,l.y,l.z),r.setXYZ(y,u.x,u.y,u.z)}else for(let f=0,p=n.count;f<p;f+=3)i.fromBufferAttribute(n,f+0),s.fromBufferAttribute(n,f+1),o.fromBufferAttribute(n,f+2),c.subVectors(o,s),d.subVectors(i,s),c.cross(d),r.setXYZ(f+0,c.x,c.y,c.z),r.setXYZ(f+1,c.x,c.y,c.z),r.setXYZ(f+2,c.x,c.y,c.z);this.normalizeNormals(),r.needsUpdate=!0}}normalizeNormals(){const e=this.attributes.normal;for(let n=0,r=e.count;n<r;n++)Sl.fromBufferAttribute(e,n),Sl.normalize(),e.setXYZ(n,Sl.x,Sl.y,Sl.z)}toNonIndexed(){function e(a,l){const u=a.array,c=a.itemSize,d=a.normalized,f=new u.constructor(l.length*c);let p=0,m=0;for(let v=0,y=l.length;v<y;v++){a.isInterleavedBufferAttribute?p=l[v]*a.data.stride+a.offset:p=l[v]*c;for(let A=0;A<c;A++)f[m++]=u[p++]}return new mr(f,c,d)}if(this.index===null)return Tr("BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const n=new Dc,r=this.index.array,i=this.attributes;for(const a in i){const l=i[a],u=e(l,r);n.setAttribute(a,u)}const s=this.morphAttributes;for(const a in s){const l=[],u=s[a];for(let c=0,d=u.length;c<d;c++){const f=u[c],p=e(f,r);l.push(p)}n.morphAttributes[a]=l}n.morphTargetsRelative=this.morphTargetsRelative;const o=this.groups;for(let a=0,l=o.length;a<l;a++){const u=o[a];n.addGroup(u.start,u.count,u.materialIndex)}return n}toJSON(){const e={metadata:{version:4.7,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const l=this.parameters;for(const u in l)l[u]!==void 0&&(e[u]=l[u]);return e}e.data={attributes:{}};const n=this.index;n!==null&&(e.data.index={type:n.array.constructor.name,array:Array.prototype.slice.call(n.array)});const r=this.attributes;for(const l in r){const u=r[l];e.data.attributes[l]=u.toJSON(e.data)}const i={};let s=!1;for(const l in this.morphAttributes){const u=this.morphAttributes[l],c=[];for(let d=0,f=u.length;d<f;d++){const p=u[d];c.push(p.toJSON(e.data))}c.length>0&&(i[l]=c,s=!0)}s&&(e.data.morphAttributes=i,e.data.morphTargetsRelative=this.morphTargetsRelative);const o=this.groups;o.length>0&&(e.data.groups=JSON.parse(JSON.stringify(o)));const a=this.boundingSphere;return a!==null&&(e.data.boundingSphere=a.toJSON()),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const n={};this.name=e.name;const r=e.index;r!==null&&this.setIndex(r.clone());const i=e.attributes;for(const u in i){const c=i[u];this.setAttribute(u,c.clone(n))}const s=e.morphAttributes;for(const u in s){const c=[],d=s[u];for(let f=0,p=d.length;f<p;f++)c.push(d[f].clone(n));this.morphAttributes[u]=c}this.morphTargetsRelative=e.morphTargetsRelative;const o=e.groups;for(let u=0,c=o.length;u<c;u++){const d=o[u];this.addGroup(d.start,d.count,d.materialIndex)}const a=e.boundingBox;a!==null&&(this.boundingBox=a.clone());const l=e.boundingSphere;return l!==null&&(this.boundingSphere=l.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const vO=new fo,wb=new JX,B2=new nS,bO=new rt,D2=new rt,T2=new rt,M2=new rt,k5=new rt,k2=new rt,xO=new rt,P2=new rt;class bf extends Bc{constructor(e=new Dc,n=new VF){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=n,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.count=1,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}updateMorphTargets(){const n=this.geometry.morphAttributes,r=Object.keys(n);if(r.length>0){const i=n[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=i.length;s<o;s++){const a=i[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}getVertexPosition(e,n){const r=this.geometry,i=r.attributes.position,s=r.morphAttributes.position,o=r.morphTargetsRelative;n.fromBufferAttribute(i,e);const a=this.morphTargetInfluences;if(s&&a){k2.set(0,0,0);for(let l=0,u=s.length;l<u;l++){const c=a[l],d=s[l];c!==0&&(k5.fromBufferAttribute(d,e),o?k2.addScaledVector(k5,c):k2.addScaledVector(k5.sub(n),c))}n.add(k2)}return n}raycast(e,n){const r=this.geometry,i=this.material,s=this.matrixWorld;i!==void 0&&(r.boundingSphere===null&&r.computeBoundingSphere(),B2.copy(r.boundingSphere),B2.applyMatrix4(s),wb.copy(e.ray).recast(e.near),!(B2.containsPoint(wb.origin)===!1&&(wb.intersectSphere(B2,bO)===null||wb.origin.distanceToSquared(bO)>(e.far-e.near)**2))&&(vO.copy(s).invert(),wb.copy(e.ray).applyMatrix4(vO),!(r.boundingBox!==null&&wb.intersectsBox(r.boundingBox)===!1)&&this._computeIntersections(e,n,wb)))}_computeIntersections(e,n,r){let i;const s=this.geometry,o=this.material,a=s.index,l=s.attributes.position,u=s.attributes.uv,c=s.attributes.uv1,d=s.attributes.normal,f=s.groups,p=s.drawRange;if(a!==null)if(Array.isArray(o))for(let m=0,v=f.length;m<v;m++){const y=f[m],A=o[y.materialIndex],C=Math.max(y.start,p.start),E=Math.min(a.count,Math.min(y.start+y.count,p.start+p.count));for(let I=C,D=E;I<D;I+=3){const T=a.getX(I),M=a.getX(I+1),P=a.getX(I+2);i=R2(this,A,e,r,u,c,d,T,M,P),i&&(i.faceIndex=Math.floor(I/3),i.face.materialIndex=y.materialIndex,n.push(i))}}else{const m=Math.max(0,p.start),v=Math.min(a.count,p.start+p.count);for(let y=m,A=v;y<A;y+=3){const C=a.getX(y),E=a.getX(y+1),I=a.getX(y+2);i=R2(this,o,e,r,u,c,d,C,E,I),i&&(i.faceIndex=Math.floor(y/3),n.push(i))}}else if(l!==void 0)if(Array.isArray(o))for(let m=0,v=f.length;m<v;m++){const y=f[m],A=o[y.materialIndex],C=Math.max(y.start,p.start),E=Math.min(l.count,Math.min(y.start+y.count,p.start+p.count));for(let I=C,D=E;I<D;I+=3){const T=I,M=I+1,P=I+2;i=R2(this,A,e,r,u,c,d,T,M,P),i&&(i.faceIndex=Math.floor(I/3),i.face.materialIndex=y.materialIndex,n.push(i))}}else{const m=Math.max(0,p.start),v=Math.min(l.count,p.start+p.count);for(let y=m,A=v;y<A;y+=3){const C=y,E=y+1,I=y+2;i=R2(this,o,e,r,u,c,d,C,E,I),i&&(i.faceIndex=Math.floor(y/3),n.push(i))}}}}function YCe(t,e,n,r,i,s,o,a){let l;if(e.side===gd?l=r.intersectTriangle(o,s,i,!0,a):l=r.intersectTriangle(i,s,o,e.side===Jy,a),l===null)return null;P2.copy(a),P2.applyMatrix4(t.matrixWorld);const u=n.ray.origin.distanceTo(P2);return u<n.near||u>n.far?null:{distance:u,point:P2.clone(),object:t}}function R2(t,e,n,r,i,s,o,a,l,u){t.getVertexPosition(a,D2),t.getVertexPosition(l,T2),t.getVertexPosition(u,M2);const c=YCe(t,e,n,r,D2,T2,M2,xO);if(c){const d=new rt;_p.getBarycoord(xO,D2,T2,M2,d),i&&(c.uv=_p.getInterpolatedAttribute(i,a,l,u,d,new Er)),s&&(c.uv1=_p.getInterpolatedAttribute(s,a,l,u,d,new Er)),o&&(c.normal=_p.getInterpolatedAttribute(o,a,l,u,d,new rt),c.normal.dot(r.direction)>0&&c.normal.multiplyScalar(-1));const f={a,b:l,c:u,normal:new rt,materialIndex:0};_p.getNormal(D2,T2,M2,f.normal),c.face=f,c.barycoord=d}return c}class G3 extends Dc{constructor(e=1,n=1,r=1,i=1,s=1,o=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:n,depth:r,widthSegments:i,heightSegments:s,depthSegments:o};const a=this;i=Math.floor(i),s=Math.floor(s),o=Math.floor(o);const l=[],u=[],c=[],d=[];let f=0,p=0;m("z","y","x",-1,-1,r,n,e,o,s,0),m("z","y","x",1,-1,r,n,-e,o,s,1),m("x","z","y",1,1,e,r,n,i,o,2),m("x","z","y",1,-1,e,r,-n,i,o,3),m("x","y","z",1,-1,e,n,r,i,s,4),m("x","y","z",-1,-1,e,n,-r,i,s,5),this.setIndex(l),this.setAttribute("position",new Fp(u,3)),this.setAttribute("normal",new Fp(c,3)),this.setAttribute("uv",new Fp(d,2));function m(v,y,A,C,E,I,D,T,M,P,k){const L=I/M,$=D/P,z=I/2,j=D/2,H=T/2,W=M+1,O=P+1;let G=0,q=0;const J=new rt;for(let te=0;te<O;te++){const Y=te*$-j;for(let Z=0;Z<W;Z++){const ee=Z*L-z;J[v]=ee*C,J[y]=Y*E,J[A]=H,u.push(J.x,J.y,J.z),J[v]=0,J[y]=0,J[A]=T>0?1:-1,c.push(J.x,J.y,J.z),d.push(Z/M),d.push(1-te/P),G+=1}}for(let te=0;te<P;te++)for(let Y=0;Y<M;Y++){const Z=f+Y+W*te,ee=f+Y+W*(te+1),ie=f+(Y+1)+W*(te+1),ue=f+(Y+1)+W*te;l.push(Z,ee,ue),l.push(ee,ie,ue),q+=6}a.addGroup(p,q,k),p+=q,f+=G}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new G3(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function DE(t){const e={};for(const n in t){e[n]={};for(const r in t[n]){const i=t[n][r];i&&(i.isColor||i.isMatrix3||i.isMatrix4||i.isVector2||i.isVector3||i.isVector4||i.isTexture||i.isQuaternion)?i.isRenderTargetTexture?(Tr("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),e[n][r]=null):e[n][r]=i.clone():Array.isArray(i)?e[n][r]=i.slice():e[n][r]=i}}return e}function yc(t){const e={};for(let n=0;n<t.length;n++){const r=DE(t[n]);for(const i in r)e[i]=r[i]}return e}function XCe(t){const e=[];for(let n=0;n<t.length;n++)e.push(t[n].clone());return e}function rJ(t){const e=t.getRenderTarget();return e===null?t.outputColorSpace:e.isXRRenderTarget===!0?e.texture.colorSpace:Ri.workingColorSpace}const Fx={clone:DE,merge:yc};var JCe=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,ZCe=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class No extends V3{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=JCe,this.fragmentShader=ZCe,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={clipCullDistance:!1,multiDraw:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=DE(e.uniforms),this.uniformsGroups=XCe(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this.defaultAttributeValues=Object.assign({},e.defaultAttributeValues),this.index0AttributeName=e.index0AttributeName,this.uniformsNeedUpdate=e.uniformsNeedUpdate,this}toJSON(e){const n=super.toJSON(e);n.glslVersion=this.glslVersion,n.uniforms={};for(const i in this.uniforms){const o=this.uniforms[i].value;o&&o.isTexture?n.uniforms[i]={type:"t",value:o.toJSON(e).uuid}:o&&o.isColor?n.uniforms[i]={type:"c",value:o.getHex()}:o&&o.isVector2?n.uniforms[i]={type:"v2",value:o.toArray()}:o&&o.isVector3?n.uniforms[i]={type:"v3",value:o.toArray()}:o&&o.isVector4?n.uniforms[i]={type:"v4",value:o.toArray()}:o&&o.isMatrix3?n.uniforms[i]={type:"m3",value:o.toArray()}:o&&o.isMatrix4?n.uniforms[i]={type:"m4",value:o.toArray()}:n.uniforms[i]={value:o}}Object.keys(this.defines).length>0&&(n.defines=this.defines),n.vertexShader=this.vertexShader,n.fragmentShader=this.fragmentShader,n.lights=this.lights,n.clipping=this.clipping;const r={};for(const i in this.extensions)this.extensions[i]===!0&&(r[i]=!0);return Object.keys(r).length>0&&(n.extensions=r),n}}class iJ extends Bc{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new fo,this.projectionMatrix=new fo,this.projectionMatrixInverse=new fo,this.coordinateSystem=Yg,this._reversedDepth=!1}get reversedDepth(){return this._reversedDepth}copy(e,n){return super.copy(e,n),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this.coordinateSystem=e.coordinateSystem,this}getWorldDirection(e){return super.getWorldDirection(e).negate()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,n){super.updateWorldMatrix(e,n),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}const dy=new rt,CO=new Er,EO=new Er;class bc extends iJ{constructor(e=50,n=1,r=.1,i=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=r,this.far=i,this.focus=10,this.aspect=n,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,n){return super.copy(e,n),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const n=.5*this.getFilmHeight()/e;this.fov=N6*2*Math.atan(n),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(d5*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return N6*2*Math.atan(Math.tan(d5*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}getViewBounds(e,n,r){dy.set(-1,-1,.5).applyMatrix4(this.projectionMatrixInverse),n.set(dy.x,dy.y).multiplyScalar(-e/dy.z),dy.set(1,1,.5).applyMatrix4(this.projectionMatrixInverse),r.set(dy.x,dy.y).multiplyScalar(-e/dy.z)}getViewSize(e,n){return this.getViewBounds(e,CO,EO),n.subVectors(EO,CO)}setViewOffset(e,n,r,i,s,o){this.aspect=e/n,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=n,this.view.offsetX=r,this.view.offsetY=i,this.view.width=s,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let n=e*Math.tan(d5*.5*this.fov)/this.zoom,r=2*n,i=this.aspect*r,s=-.5*i;const o=this.view;if(this.view!==null&&this.view.enabled){const l=o.fullWidth,u=o.fullHeight;s+=o.offsetX*i/l,n-=o.offsetY*r/u,i*=o.width/l,r*=o.height/u}const a=this.filmOffset;a!==0&&(s+=e*a/this.getFilmWidth()),this.projectionMatrix.makePerspective(s,s+i,n,n-r,e,this.far,this.coordinateSystem,this.reversedDepth),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const n=super.toJSON(e);return n.object.fov=this.fov,n.object.zoom=this.zoom,n.object.near=this.near,n.object.far=this.far,n.object.focus=this.focus,n.object.aspect=this.aspect,this.view!==null&&(n.object.view=Object.assign({},this.view)),n.object.filmGauge=this.filmGauge,n.object.filmOffset=this.filmOffset,n}}const c1=-90,d1=1;class e1e extends Bc{constructor(e,n,r){super(),this.type="CubeCamera",this.renderTarget=r,this.coordinateSystem=null,this.activeMipmapLevel=0;const i=new bc(c1,d1,e,n);i.layers=this.layers,this.add(i);const s=new bc(c1,d1,e,n);s.layers=this.layers,this.add(s);const o=new bc(c1,d1,e,n);o.layers=this.layers,this.add(o);const a=new bc(c1,d1,e,n);a.layers=this.layers,this.add(a);const l=new bc(c1,d1,e,n);l.layers=this.layers,this.add(l);const u=new bc(c1,d1,e,n);u.layers=this.layers,this.add(u)}updateCoordinateSystem(){const e=this.coordinateSystem,n=this.children.concat(),[r,i,s,o,a,l]=n;for(const u of n)this.remove(u);if(e===Yg)r.up.set(0,1,0),r.lookAt(1,0,0),i.up.set(0,1,0),i.lookAt(-1,0,0),s.up.set(0,0,-1),s.lookAt(0,1,0),o.up.set(0,0,1),o.lookAt(0,-1,0),a.up.set(0,1,0),a.lookAt(0,0,1),l.up.set(0,1,0),l.lookAt(0,0,-1);else if(e===qB)r.up.set(0,-1,0),r.lookAt(-1,0,0),i.up.set(0,-1,0),i.lookAt(1,0,0),s.up.set(0,0,1),s.lookAt(0,1,0),o.up.set(0,0,-1),o.lookAt(0,-1,0),a.up.set(0,-1,0),a.lookAt(0,0,1),l.up.set(0,-1,0),l.lookAt(0,0,-1);else throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+e);for(const u of n)this.add(u),u.updateMatrixWorld()}update(e,n){this.parent===null&&this.updateMatrixWorld();const{renderTarget:r,activeMipmapLevel:i}=this;this.coordinateSystem!==e.coordinateSystem&&(this.coordinateSystem=e.coordinateSystem,this.updateCoordinateSystem());const[s,o,a,l,u,c]=this.children,d=e.getRenderTarget(),f=e.getActiveCubeFace(),p=e.getActiveMipmapLevel(),m=e.xr.enabled;e.xr.enabled=!1;const v=r.texture.generateMipmaps;r.texture.generateMipmaps=!1,e.setRenderTarget(r,0,i),e.render(n,s),e.setRenderTarget(r,1,i),e.render(n,o),e.setRenderTarget(r,2,i),e.render(n,a),e.setRenderTarget(r,3,i),e.render(n,l),e.setRenderTarget(r,4,i),e.render(n,u),r.texture.generateMipmaps=v,e.setRenderTarget(r,5,i),e.render(n,c),e.setRenderTarget(d,f,p),e.xr.enabled=m,r.texture.needsPMREMUpdate=!0}}class sJ extends _f{constructor(e=[],n=Lx,r,i,s,o,a,l,u,c){super(e,n,r,i,s,o,a,l,u,c),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class oJ extends Ou{constructor(e=1,n={}){super(e,e,n),this.isWebGLCubeRenderTarget=!0;const r={width:e,height:e,depth:1},i=[r,r,r,r,r,r];this.texture=new sJ(i),this._setTextureOptions(n),this.texture.isRenderTargetTexture=!0}fromEquirectangularTexture(e,n){this.texture.type=n.type,this.texture.colorSpace=n.colorSpace,this.texture.generateMipmaps=n.generateMipmaps,this.texture.minFilter=n.minFilter,this.texture.magFilter=n.magFilter;const r={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},i=new G3(5,5,5),s=new No({name:"CubemapFromEquirect",uniforms:DE(r.uniforms),vertexShader:r.vertexShader,fragmentShader:r.fragmentShader,side:gd,blending:Lp});s.uniforms.tEquirect.value=n;const o=new bf(i,s),a=n.minFilter;return n.minFilter===ux&&(n.minFilter=Wo),new e1e(1,10,this).update(e,o),n.minFilter=a,o.geometry.dispose(),o.material.dispose(),this}clear(e,n=!0,r=!0,i=!0){const s=e.getRenderTarget();for(let o=0;o<6;o++)e.setRenderTarget(this,o),e.clear(n,r,i);e.setRenderTarget(s)}}let N2=class extends Bc{constructor(){super(),this.isGroup=!0,this.type="Group"}};const t1e={type:"move"};class P5{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new N2,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new N2,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new rt,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new rt),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new N2,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new rt,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new rt),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){const n=this._hand;if(n)for(const r of e.hand.values())this._getHandJoint(n,r)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,n,r){let i=null,s=null,o=null;const a=this._targetRay,l=this._grip,u=this._hand;if(e&&n.session.visibilityState!=="visible-blurred"){if(u&&e.hand){o=!0;for(const v of e.hand.values()){const y=n.getJointPose(v,r),A=this._getHandJoint(u,v);y!==null&&(A.matrix.fromArray(y.transform.matrix),A.matrix.decompose(A.position,A.rotation,A.scale),A.matrixWorldNeedsUpdate=!0,A.jointRadius=y.radius),A.visible=y!==null}const c=u.joints["index-finger-tip"],d=u.joints["thumb-tip"],f=c.position.distanceTo(d.position),p=.02,m=.005;u.inputState.pinching&&f>p+m?(u.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!u.inputState.pinching&&f<=p-m&&(u.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else l!==null&&e.gripSpace&&(s=n.getPose(e.gripSpace,r),s!==null&&(l.matrix.fromArray(s.transform.matrix),l.matrix.decompose(l.position,l.rotation,l.scale),l.matrixWorldNeedsUpdate=!0,s.linearVelocity?(l.hasLinearVelocity=!0,l.linearVelocity.copy(s.linearVelocity)):l.hasLinearVelocity=!1,s.angularVelocity?(l.hasAngularVelocity=!0,l.angularVelocity.copy(s.angularVelocity)):l.hasAngularVelocity=!1));a!==null&&(i=n.getPose(e.targetRaySpace,r),i===null&&s!==null&&(i=s),i!==null&&(a.matrix.fromArray(i.transform.matrix),a.matrix.decompose(a.position,a.rotation,a.scale),a.matrixWorldNeedsUpdate=!0,i.linearVelocity?(a.hasLinearVelocity=!0,a.linearVelocity.copy(i.linearVelocity)):a.hasLinearVelocity=!1,i.angularVelocity?(a.hasAngularVelocity=!0,a.angularVelocity.copy(i.angularVelocity)):a.hasAngularVelocity=!1,this.dispatchEvent(t1e)))}return a!==null&&(a.visible=i!==null),l!==null&&(l.visible=s!==null),u!==null&&(u.visible=o!==null),this}_getHandJoint(e,n){if(e.joints[n.jointName]===void 0){const r=new N2;r.matrixAutoUpdate=!1,r.visible=!1,e.joints[n.jointName]=r,e.add(r)}return e.joints[n.jointName]}}class GF{constructor(e,n=1,r=1e3){this.isFog=!0,this.name="",this.color=new Gr(e),this.near=n,this.far=r}clone(){return new GF(this.color,this.near,this.far)}toJSON(){return{type:"Fog",name:this.name,color:this.color.getHex(),near:this.near,far:this.far}}}class K3 extends Bc{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.backgroundRotation=new $0,this.environmentIntensity=1,this.environmentRotation=new $0,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,n){return super.copy(e,n),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,this.backgroundRotation.copy(e.backgroundRotation),this.environmentIntensity=e.environmentIntensity,this.environmentRotation.copy(e.environmentRotation),e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const n=super.toJSON(e);return this.fog!==null&&(n.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(n.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(n.object.backgroundIntensity=this.backgroundIntensity),n.object.backgroundRotation=this.backgroundRotation.toArray(),this.environmentIntensity!==1&&(n.object.environmentIntensity=this.environmentIntensity),n.object.environmentRotation=this.environmentRotation.toArray(),n}}class KF extends _f{constructor(e=null,n=1,r=1,i,s,o,a,l,u=rl,c=rl,d,f){super(null,o,a,l,u,c,i,s,d,f),this.isDataTexture=!0,this.image={data:e,width:n,height:r},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class p0 extends mr{constructor(e,n,r,i=1){super(e,n,r),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=i}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){const e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}const h1=new fo,SO=new fo,L2=[],wO=new rC,n1e=new fo,nw=new bf,rw=new nS;class r1e extends bf{constructor(e,n,r){super(e,n),this.isInstancedMesh=!0,this.instanceMatrix=new p0(new Float32Array(r*16),16),this.instanceColor=null,this.morphTexture=null,this.count=r,this.boundingBox=null,this.boundingSphere=null;for(let i=0;i<r;i++)this.setMatrixAt(i,n1e)}computeBoundingBox(){const e=this.geometry,n=this.count;this.boundingBox===null&&(this.boundingBox=new rC),e.boundingBox===null&&e.computeBoundingBox(),this.boundingBox.makeEmpty();for(let r=0;r<n;r++)this.getMatrixAt(r,h1),wO.copy(e.boundingBox).applyMatrix4(h1),this.boundingBox.union(wO)}computeBoundingSphere(){const e=this.geometry,n=this.count;this.boundingSphere===null&&(this.boundingSphere=new nS),e.boundingSphere===null&&e.computeBoundingSphere(),this.boundingSphere.makeEmpty();for(let r=0;r<n;r++)this.getMatrixAt(r,h1),rw.copy(e.boundingSphere).applyMatrix4(h1),this.boundingSphere.union(rw)}copy(e,n){return super.copy(e,n),this.instanceMatrix.copy(e.instanceMatrix),e.morphTexture!==null&&(this.morphTexture=e.morphTexture.clone()),e.instanceColor!==null&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}getColorAt(e,n){n.fromArray(this.instanceColor.array,e*3)}getMatrixAt(e,n){n.fromArray(this.instanceMatrix.array,e*16)}getMorphAt(e,n){const r=n.morphTargetInfluences,i=this.morphTexture.source.data.data,s=r.length+1,o=e*s+1;for(let a=0;a<r.length;a++)r[a]=i[o+a]}raycast(e,n){const r=this.matrixWorld,i=this.count;if(nw.geometry=this.geometry,nw.material=this.material,nw.material!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),rw.copy(this.boundingSphere),rw.applyMatrix4(r),e.ray.intersectsSphere(rw)!==!1))for(let s=0;s<i;s++){this.getMatrixAt(s,h1),SO.multiplyMatrices(r,h1),nw.matrixWorld=SO,nw.raycast(e,L2);for(let o=0,a=L2.length;o<a;o++){const l=L2[o];l.instanceId=s,l.object=this,n.push(l)}L2.length=0}}setColorAt(e,n){this.instanceColor===null&&(this.instanceColor=new p0(new Float32Array(this.instanceMatrix.count*3).fill(1),3)),n.toArray(this.instanceColor.array,e*3)}setMatrixAt(e,n){n.toArray(this.instanceMatrix.array,e*16)}setMorphAt(e,n){const r=n.morphTargetInfluences,i=r.length+1;this.morphTexture===null&&(this.morphTexture=new KF(new Float32Array(i*this.count),i,this.count,$F,cf));const s=this.morphTexture.source.data.data;let o=0;for(let u=0;u<r.length;u++)o+=r[u];const a=this.geometry.morphTargetsRelative?1:1-o,l=i*e;s[l]=a,s.set(r,l+1)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"}),this.morphTexture!==null&&(this.morphTexture.dispose(),this.morphTexture=null)}}const R5=new rt,i1e=new rt,s1e=new Ur;class Ub{constructor(e=new rt(1,0,0),n=0){this.isPlane=!0,this.normal=e,this.constant=n}set(e,n){return this.normal.copy(e),this.constant=n,this}setComponents(e,n,r,i){return this.normal.set(e,n,r),this.constant=i,this}setFromNormalAndCoplanarPoint(e,n){return this.normal.copy(e),this.constant=-n.dot(this.normal),this}setFromCoplanarPoints(e,n,r){const i=R5.subVectors(r,n).cross(i1e.subVectors(e,n)).normalize();return this.setFromNormalAndCoplanarPoint(i,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,n){return n.copy(e).addScaledVector(this.normal,-this.distanceToPoint(e))}intersectLine(e,n){const r=e.delta(R5),i=this.normal.dot(r);if(i===0)return this.distanceToPoint(e.start)===0?n.copy(e.start):null;const s=-(e.start.dot(this.normal)+this.constant)/i;return s<0||s>1?null:n.copy(e.start).addScaledVector(r,s)}intersectsLine(e){const n=this.distanceToPoint(e.start),r=this.distanceToPoint(e.end);return n<0&&r>0||r<0&&n>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,n){const r=n||s1e.getNormalMatrix(e),i=this.coplanarPoint(R5).applyMatrix4(e),s=this.normal.applyMatrix3(r).normalize();return this.constant=-i.dot(s),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}}const _b=new nS,o1e=new Er(.5,.5),F2=new rt;class aJ{constructor(e=new Ub,n=new Ub,r=new Ub,i=new Ub,s=new Ub,o=new Ub){this.planes=[e,n,r,i,s,o]}set(e,n,r,i,s,o){const a=this.planes;return a[0].copy(e),a[1].copy(n),a[2].copy(r),a[3].copy(i),a[4].copy(s),a[5].copy(o),this}copy(e){const n=this.planes;for(let r=0;r<6;r++)n[r].copy(e.planes[r]);return this}setFromProjectionMatrix(e,n=Yg,r=!1){const i=this.planes,s=e.elements,o=s[0],a=s[1],l=s[2],u=s[3],c=s[4],d=s[5],f=s[6],p=s[7],m=s[8],v=s[9],y=s[10],A=s[11],C=s[12],E=s[13],I=s[14],D=s[15];if(i[0].setComponents(u-o,p-c,A-m,D-C).normalize(),i[1].setComponents(u+o,p+c,A+m,D+C).normalize(),i[2].setComponents(u+a,p+d,A+v,D+E).normalize(),i[3].setComponents(u-a,p-d,A-v,D-E).normalize(),r)i[4].setComponents(l,f,y,I).normalize(),i[5].setComponents(u-l,p-f,A-y,D-I).normalize();else if(i[4].setComponents(u-l,p-f,A-y,D-I).normalize(),n===Yg)i[5].setComponents(u+l,p+f,A+y,D+I).normalize();else if(n===qB)i[5].setComponents(l,f,y,I).normalize();else throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+n);return this}intersectsObject(e){if(e.boundingSphere!==void 0)e.boundingSphere===null&&e.computeBoundingSphere(),_b.copy(e.boundingSphere).applyMatrix4(e.matrixWorld);else{const n=e.geometry;n.boundingSphere===null&&n.computeBoundingSphere(),_b.copy(n.boundingSphere).applyMatrix4(e.matrixWorld)}return this.intersectsSphere(_b)}intersectsSprite(e){_b.center.set(0,0,0);const n=o1e.distanceTo(e.center);return _b.radius=.7071067811865476+n,_b.applyMatrix4(e.matrixWorld),this.intersectsSphere(_b)}intersectsSphere(e){const n=this.planes,r=e.center,i=-e.radius;for(let s=0;s<6;s++)if(n[s].distanceToPoint(r)<i)return!1;return!0}intersectsBox(e){const n=this.planes;for(let r=0;r<6;r++){const i=n[r];if(F2.x=i.normal.x>0?e.max.x:e.min.x,F2.y=i.normal.y>0?e.max.y:e.min.y,F2.z=i.normal.z>0?e.max.z:e.min.z,i.distanceToPoint(F2)<0)return!1}return!0}containsPoint(e){const n=this.planes;for(let r=0;r<6;r++)if(n[r].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}class a1e extends V3{constructor(e){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new Gr(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}const _O=new fo,L6=new JX,$2=new nS,z2=new rt;class hT extends Bc{constructor(e=new Dc,n=new a1e){super(),this.isPoints=!0,this.type="Points",this.geometry=e,this.material=n,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}raycast(e,n){const r=this.geometry,i=this.matrixWorld,s=e.params.Points.threshold,o=r.drawRange;if(r.boundingSphere===null&&r.computeBoundingSphere(),$2.copy(r.boundingSphere),$2.applyMatrix4(i),$2.radius+=s,e.ray.intersectsSphere($2)===!1)return;_O.copy(i).invert(),L6.copy(e.ray).applyMatrix4(_O);const a=s/((this.scale.x+this.scale.y+this.scale.z)/3),l=a*a,u=r.index,d=r.attributes.position;if(u!==null){const f=Math.max(0,o.start),p=Math.min(u.count,o.start+o.count);for(let m=f,v=p;m<v;m++){const y=u.getX(m);z2.fromBufferAttribute(d,y),IO(z2,y,l,i,e,n,this)}}else{const f=Math.max(0,o.start),p=Math.min(d.count,o.start+o.count);for(let m=f,v=p;m<v;m++)z2.fromBufferAttribute(d,m),IO(z2,m,l,i,e,n,this)}}updateMorphTargets(){const n=this.geometry.morphAttributes,r=Object.keys(n);if(r.length>0){const i=n[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=i.length;s<o;s++){const a=i[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}}function IO(t,e,n,r,i,s,o){const a=L6.distanceSqToPoint(t);if(a<n){const l=new rt;L6.closestPointToPoint(t,l),l.applyMatrix4(r);const u=i.ray.origin.distanceTo(l);if(u<i.near||u>i.far)return;s.push({distance:u,distanceToRay:Math.sqrt(a),point:l,index:e,face:null,faceIndex:null,barycoord:null,object:o})}}class WF extends _f{constructor(e,n,r,i,s,o,a,l,u){super(e,n,r,i,s,o,a,l,u),this.isCanvasTexture=!0,this.needsUpdate=!0}}class X_ extends _f{constructor(e,n,r=sm,i,s,o,a=rl,l=rl,u,c=F0,d=1){if(c!==F0&&c!==cx)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");const f={width:e,height:n,depth:d};super(f,i,s,o,a,l,c,r,u),this.isDepthTexture=!0,this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(e){return super.copy(e),this.source=new HF(Object.assign({},e.image)),this.compareFunction=e.compareFunction,this}toJSON(e){const n=super.toJSON(e);return this.compareFunction!==null&&(n.compareFunction=this.compareFunction),n}}class l1e extends X_{constructor(e,n=sm,r=Lx,i,s,o=rl,a=rl,l,u=F0){const c={width:e,height:e,depth:1},d=[c,c,c,c,c,c];super(e,e,n,r,i,s,o,a,l,u),this.image=d,this.isCubeDepthTexture=!0,this.isCubeTexture=!0}get images(){return this.image}set images(e){this.image=e}}class lJ extends _f{constructor(e=null){super(),this.sourceTexture=e,this.isExternalTexture=!0}copy(e){return super.copy(e),this.sourceTexture=e.sourceTexture,this}}let qF=class uJ extends Dc{constructor(e=1,n=1,r=1,i=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:n,widthSegments:r,heightSegments:i};const s=e/2,o=n/2,a=Math.floor(r),l=Math.floor(i),u=a+1,c=l+1,d=e/a,f=n/l,p=[],m=[],v=[],y=[];for(let A=0;A<c;A++){const C=A*f-o;for(let E=0;E<u;E++){const I=E*d-s;m.push(I,-C,0),v.push(0,0,1),y.push(E/a),y.push(1-A/l)}}for(let A=0;A<l;A++)for(let C=0;C<a;C++){const E=C+u*A,I=C+u*(A+1),D=C+1+u*(A+1),T=C+1+u*A;p.push(E,I,T),p.push(I,D,T)}this.setIndex(p),this.setAttribute("position",new Fp(m,3)),this.setAttribute("normal",new Fp(v,3)),this.setAttribute("uv",new Fp(y,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new uJ(e.width,e.height,e.widthSegments,e.heightSegments)}};class cJ extends No{constructor(e){super(e),this.isRawShaderMaterial=!0,this.type="RawShaderMaterial"}}class u1e extends V3{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=CCe,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class c1e extends V3{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}class fT extends iJ{constructor(e=-1,n=1,r=1,i=-1,s=.1,o=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=n,this.top=r,this.bottom=i,this.near=s,this.far=o,this.updateProjectionMatrix()}copy(e,n){return super.copy(e,n),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,n,r,i,s,o){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=n,this.view.offsetX=r,this.view.offsetY=i,this.view.width=s,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),n=(this.top-this.bottom)/(2*this.zoom),r=(this.right+this.left)/2,i=(this.top+this.bottom)/2;let s=r-e,o=r+e,a=i+n,l=i-n;if(this.view!==null&&this.view.enabled){const u=(this.right-this.left)/this.view.fullWidth/this.zoom,c=(this.top-this.bottom)/this.view.fullHeight/this.zoom;s+=u*this.view.offsetX,o=s+u*this.view.width,a-=c*this.view.offsetY,l=a-c*this.view.height}this.projectionMatrix.makeOrthographic(s,o,a,l,this.near,this.far,this.coordinateSystem,this.reversedDepth),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const n=super.toJSON(e);return n.object.zoom=this.zoom,n.object.left=this.left,n.object.right=this.right,n.object.top=this.top,n.object.bottom=this.bottom,n.object.near=this.near,n.object.far=this.far,this.view!==null&&(n.object.view=Object.assign({},this.view)),n}}class d1e extends bc{constructor(e=[]){super(),this.isArrayCamera=!0,this.isMultiViewCamera=!1,this.cameras=e}}class rS{constructor(e=!0){this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=performance.now(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const n=performance.now();e=(n-this.oldTime)/1e3,this.oldTime=n,this.elapsedTime+=e}return e}}function BO(t,e,n,r){const i=h1e(r);switch(n){case WX:return t*e;case $F:return t*e/i.components*i.byteLength;case zF:return t*e/i.components*i.byteLength;case IE:return t*e*2/i.components*i.byteLength;case OF:return t*e*2/i.components*i.byteLength;case qX:return t*e*3/i.components*i.byteLength;case df:return t*e*4/i.components*i.byteLength;case jF:return t*e*4/i.components*i.byteLength;case bB:case xB:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*8;case CB:case EB:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*16;case i6:case o6:return Math.max(t,16)*Math.max(e,8)/4;case r6:case s6:return Math.max(t,8)*Math.max(e,8)/2;case a6:case l6:case c6:case d6:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*8;case u6:case h6:case f6:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*16;case p6:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*16;case g6:return Math.floor((t+4)/5)*Math.floor((e+3)/4)*16;case m6:return Math.floor((t+4)/5)*Math.floor((e+4)/5)*16;case A6:return Math.floor((t+5)/6)*Math.floor((e+4)/5)*16;case y6:return Math.floor((t+5)/6)*Math.floor((e+5)/6)*16;case v6:return Math.floor((t+7)/8)*Math.floor((e+4)/5)*16;case b6:return Math.floor((t+7)/8)*Math.floor((e+5)/6)*16;case x6:return Math.floor((t+7)/8)*Math.floor((e+7)/8)*16;case C6:return Math.floor((t+9)/10)*Math.floor((e+4)/5)*16;case E6:return Math.floor((t+9)/10)*Math.floor((e+5)/6)*16;case S6:return Math.floor((t+9)/10)*Math.floor((e+7)/8)*16;case w6:return Math.floor((t+9)/10)*Math.floor((e+9)/10)*16;case _6:return Math.floor((t+11)/12)*Math.floor((e+9)/10)*16;case I6:return Math.floor((t+11)/12)*Math.floor((e+11)/12)*16;case B6:case D6:case T6:return Math.ceil(t/4)*Math.ceil(e/4)*16;case M6:case k6:return Math.ceil(t/4)*Math.ceil(e/4)*8;case P6:case R6:return Math.ceil(t/4)*Math.ceil(e/4)*16}throw new Error(`Unable to determine texture byte length for ${n} format.`)}function h1e(t){switch(t){case uf:case HX:return{byteLength:1,components:1};case W_:case VX:case Ic:return{byteLength:2,components:1};case LF:case FF:return{byteLength:2,components:4};case sm:case NF:case cf:return{byteLength:4,components:1};case GX:case KX:return{byteLength:4,components:3}}throw new Error(`Unknown texture type ${t}.`)}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:IF}}));typeof window<"u"&&(window.__THREE__?Tr("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=IF);function dJ(){let t=null,e=!1,n=null,r=null;function i(s,o){n(s,o),r=t.requestAnimationFrame(i)}return{start:function(){e!==!0&&n!==null&&(r=t.requestAnimationFrame(i),e=!0)},stop:function(){t.cancelAnimationFrame(r),e=!1},setAnimationLoop:function(s){n=s},setContext:function(s){t=s}}}function f1e(t){const e=new WeakMap;function n(a,l){const u=a.array,c=a.usage,d=u.byteLength,f=t.createBuffer();t.bindBuffer(l,f),t.bufferData(l,u,c),a.onUploadCallback();let p;if(u instanceof Float32Array)p=t.FLOAT;else if(typeof Float16Array<"u"&&u instanceof Float16Array)p=t.HALF_FLOAT;else if(u instanceof Uint16Array)a.isFloat16BufferAttribute?p=t.HALF_FLOAT:p=t.UNSIGNED_SHORT;else if(u instanceof Int16Array)p=t.SHORT;else if(u instanceof Uint32Array)p=t.UNSIGNED_INT;else if(u instanceof Int32Array)p=t.INT;else if(u instanceof Int8Array)p=t.BYTE;else if(u instanceof Uint8Array)p=t.UNSIGNED_BYTE;else if(u instanceof Uint8ClampedArray)p=t.UNSIGNED_BYTE;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+u);return{buffer:f,type:p,bytesPerElement:u.BYTES_PER_ELEMENT,version:a.version,size:d}}function r(a,l,u){const c=l.array,d=l.updateRanges;if(t.bindBuffer(u,a),d.length===0)t.bufferSubData(u,0,c);else{d.sort((p,m)=>p.start-m.start);let f=0;for(let p=1;p<d.length;p++){const m=d[f],v=d[p];v.start<=m.start+m.count+1?m.count=Math.max(m.count,v.start+v.count-m.start):(++f,d[f]=v)}d.length=f+1;for(let p=0,m=d.length;p<m;p++){const v=d[p];t.bufferSubData(u,v.start*c.BYTES_PER_ELEMENT,c,v.start,v.count)}l.clearUpdateRanges()}l.onUploadCallback()}function i(a){return a.isInterleavedBufferAttribute&&(a=a.data),e.get(a)}function s(a){a.isInterleavedBufferAttribute&&(a=a.data);const l=e.get(a);l&&(t.deleteBuffer(l.buffer),e.delete(a))}function o(a,l){if(a.isInterleavedBufferAttribute&&(a=a.data),a.isGLBufferAttribute){const c=e.get(a);(!c||c.version<a.version)&&e.set(a,{buffer:a.buffer,type:a.type,bytesPerElement:a.elementSize,version:a.version});return}const u=e.get(a);if(u===void 0)e.set(a,n(a,l));else if(u.version<a.version){if(u.size!==a.array.byteLength)throw new Error("THREE.WebGLAttributes: The size of the buffer attribute's array buffer does not match the original size. Resizing buffer attributes is not supported.");r(u.buffer,a,l),u.version=a.version}}return{get:i,remove:s,update:o}}var p1e=`#ifdef USE_ALPHAHASH
	if ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;
#endif`,g1e=`#ifdef USE_ALPHAHASH
	const float ALPHA_HASH_SCALE = 0.05;
	float hash2D( vec2 value ) {
		return fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );
	}
	float hash3D( vec3 value ) {
		return hash2D( vec2( hash2D( value.xy ), value.z ) );
	}
	float getAlphaHashThreshold( vec3 position ) {
		float maxDeriv = max(
			length( dFdx( position.xyz ) ),
			length( dFdy( position.xyz ) )
		);
		float pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );
		vec2 pixScales = vec2(
			exp2( floor( log2( pixScale ) ) ),
			exp2( ceil( log2( pixScale ) ) )
		);
		vec2 alpha = vec2(
			hash3D( floor( pixScales.x * position.xyz ) ),
			hash3D( floor( pixScales.y * position.xyz ) )
		);
		float lerpFactor = fract( log2( pixScale ) );
		float x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;
		float a = min( lerpFactor, 1.0 - lerpFactor );
		vec3 cases = vec3(
			x * x / ( 2.0 * a * ( 1.0 - a ) ),
			( x - 0.5 * a ) / ( 1.0 - a ),
			1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )
		);
		float threshold = ( x < ( 1.0 - a ) )
			? ( ( x < a ) ? cases.x : cases.y )
			: cases.z;
		return clamp( threshold , 1.0e-6, 1.0 );
	}
#endif`,m1e=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;
#endif`,A1e=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,y1e=`#ifdef USE_ALPHATEST
	#ifdef ALPHA_TO_COVERAGE
	diffuseColor.a = smoothstep( alphaTest, alphaTest + fwidth( diffuseColor.a ), diffuseColor.a );
	if ( diffuseColor.a == 0.0 ) discard;
	#else
	if ( diffuseColor.a < alphaTest ) discard;
	#endif
#endif`,v1e=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,b1e=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_CLEARCOAT ) 
		clearcoatSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_SHEEN ) 
		sheenSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometryNormal, geometryViewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,x1e=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,C1e=`#ifdef USE_BATCHING
	#if ! defined( GL_ANGLE_multi_draw )
	#define gl_DrawID _gl_DrawID
	uniform int _gl_DrawID;
	#endif
	uniform highp sampler2D batchingTexture;
	uniform highp usampler2D batchingIdTexture;
	mat4 getBatchingMatrix( const in float i ) {
		int size = textureSize( batchingTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( batchingTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( batchingTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( batchingTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( batchingTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
	float getIndirectIndex( const in int i ) {
		int size = textureSize( batchingIdTexture, 0 ).x;
		int x = i % size;
		int y = i / size;
		return float( texelFetch( batchingIdTexture, ivec2( x, y ), 0 ).r );
	}
#endif
#ifdef USE_BATCHING_COLOR
	uniform sampler2D batchingColorTexture;
	vec3 getBatchingColor( const in float i ) {
		int size = textureSize( batchingColorTexture, 0 ).x;
		int j = int( i );
		int x = j % size;
		int y = j / size;
		return texelFetch( batchingColorTexture, ivec2( x, y ), 0 ).rgb;
	}
#endif`,E1e=`#ifdef USE_BATCHING
	mat4 batchingMatrix = getBatchingMatrix( getIndirectIndex( gl_DrawID ) );
#endif`,S1e=`vec3 transformed = vec3( position );
#ifdef USE_ALPHAHASH
	vPosition = vec3( position );
#endif`,w1e=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,_1e=`float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
} // validated`,I1e=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,B1e=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vBumpMapUv );
		vec2 dSTdy = dFdy( vBumpMapUv );
		float Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = normalize( dFdx( surf_pos.xyz ) );
		vec3 vSigmaY = normalize( dFdy( surf_pos.xyz ) );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,D1e=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#ifdef ALPHA_TO_COVERAGE
		float distanceToPlane, distanceGradient;
		float clipOpacity = 1.0;
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
			distanceGradient = fwidth( distanceToPlane ) / 2.0;
			clipOpacity *= smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			if ( clipOpacity == 0.0 ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			float unionClipOpacity = 1.0;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
				distanceGradient = fwidth( distanceToPlane ) / 2.0;
				unionClipOpacity *= 1.0 - smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			}
			#pragma unroll_loop_end
			clipOpacity *= 1.0 - unionClipOpacity;
		#endif
		diffuseColor.a *= clipOpacity;
		if ( diffuseColor.a == 0.0 ) discard;
	#else
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			bool clipped = true;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
			}
			#pragma unroll_loop_end
			if ( clipped ) discard;
		#endif
	#endif
#endif`,T1e=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,M1e=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,k1e=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,P1e=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,R1e=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,N1e=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	varying vec3 vColor;
#endif`,L1e=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif
#ifdef USE_BATCHING_COLOR
	vec3 batchingColor = getBatchingColor( getIndirectIndex( gl_DrawID ) );
	vColor.xyz *= batchingColor.xyz;
#endif`,F1e=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
#ifdef USE_ALPHAHASH
	varying vec3 vPosition;
#endif
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}
vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
} // validated`,$1e=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,z1e=`vec3 transformedNormal = objectNormal;
#ifdef USE_TANGENT
	vec3 transformedTangent = objectTangent;
#endif
#ifdef USE_BATCHING
	mat3 bm = mat3( batchingMatrix );
	transformedNormal /= vec3( dot( bm[ 0 ], bm[ 0 ] ), dot( bm[ 1 ], bm[ 1 ] ), dot( bm[ 2 ], bm[ 2 ] ) );
	transformedNormal = bm * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = bm * transformedTangent;
	#endif
#endif
#ifdef USE_INSTANCING
	mat3 im = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( im[ 0 ], im[ 0 ] ), dot( im[ 1 ], im[ 1 ] ), dot( im[ 2 ], im[ 2 ] ) );
	transformedNormal = im * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = im * transformedTangent;
	#endif
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	transformedTangent = ( modelViewMatrix * vec4( transformedTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,O1e=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,j1e=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );
#endif`,Q1e=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );
	#ifdef DECODE_VIDEO_TEXTURE_EMISSIVE
		emissiveColor = sRGBTransferEOTF( emissiveColor );
	#endif
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,U1e=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,H1e="gl_FragColor = linearToOutputTexel( gl_FragColor );",V1e=`vec4 LinearTransferOETF( in vec4 value ) {
	return value;
}
vec4 sRGBTransferEOTF( in vec4 value ) {
	return vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );
}
vec4 sRGBTransferOETF( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}`,G1e=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, envMapRotation * vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,K1e=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	uniform mat3 envMapRotation;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
#endif`,W1e=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,q1e=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,Y1e=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,X1e=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,J1e=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,Z1e=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,eEe=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,tEe=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,nEe=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,rEe=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,iEe=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,sEe=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
#if defined( USE_LIGHT_PROBES )
	uniform vec3 lightProbe[ 9 ];
#endif
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
	if ( cutoffDistance > 0.0 ) {
		distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
	}
	return distanceFalloff;
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,oEe=`#ifdef USE_ENVMAP
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, pow4( roughness ) ) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	#ifdef USE_ANISOTROPY
		vec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {
			#ifdef ENVMAP_TYPE_CUBE_UV
				vec3 bentNormal = cross( bitangent, viewDir );
				bentNormal = normalize( cross( bentNormal, bitangent ) );
				bentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );
				return getIBLRadiance( viewDir, bentNormal, roughness );
			#else
				return vec3( 0.0 );
			#endif
		}
	#endif
#endif`,aEe=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,lEe=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometryNormal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,uEe=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,cEe=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometryViewDir, geometryNormal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,dEe=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.diffuseContribution = diffuseColor.rgb * ( 1.0 - metalnessFactor );
material.metalness = metalnessFactor;
vec3 dxy = max( abs( dFdx( nonPerturbedNormal ) ), abs( dFdy( nonPerturbedNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef USE_SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULAR_COLORMAP
			specularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;
		#endif
		#ifdef USE_SPECULAR_INTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor;
	material.specularColorBlended = mix( material.specularColor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = vec3( 0.04 );
	material.specularColorBlended = mix( material.specularColor, diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_DISPERSION
	material.dispersion = dispersion;
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEEN_COLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.0001, 1.0 );
	#ifdef USE_SHEEN_ROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;
	#endif
#endif
#ifdef USE_ANISOTROPY
	#ifdef USE_ANISOTROPYMAP
		mat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );
		vec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;
		vec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;
	#else
		vec2 anisotropyV = anisotropyVector;
	#endif
	material.anisotropy = length( anisotropyV );
	if( material.anisotropy == 0.0 ) {
		anisotropyV = vec2( 1.0, 0.0 );
	} else {
		anisotropyV /= material.anisotropy;
		material.anisotropy = saturate( material.anisotropy );
	}
	material.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );
	material.anisotropyT = tbn[ 0 ] * anisotropyV.x + tbn[ 1 ] * anisotropyV.y;
	material.anisotropyB = tbn[ 1 ] * anisotropyV.x - tbn[ 0 ] * anisotropyV.y;
#endif`,hEe=`uniform sampler2D dfgLUT;
struct PhysicalMaterial {
	vec3 diffuseColor;
	vec3 diffuseContribution;
	vec3 specularColor;
	vec3 specularColorBlended;
	float roughness;
	float metalness;
	float specularF90;
	float dispersion;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
		vec3 iridescenceFresnelDielectric;
		vec3 iridescenceFresnelMetallic;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
	#ifdef USE_ANISOTROPY
		float anisotropy;
		float alphaT;
		vec3 anisotropyT;
		vec3 anisotropyB;
	#endif
};
vec3 clearcoatSpecularDirect = vec3( 0.0 );
vec3 clearcoatSpecularIndirect = vec3( 0.0 );
vec3 sheenSpecularDirect = vec3( 0.0 );
vec3 sheenSpecularIndirect = vec3(0.0 );
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
#ifdef USE_ANISOTROPY
	float V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {
		float gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );
		float gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );
		float v = 0.5 / ( gv + gl );
		return v;
	}
	float D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {
		float a2 = alphaT * alphaB;
		highp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );
		highp float v2 = dot( v, v );
		float w2 = a2 / v2;
		return RECIPROCAL_PI * a2 * pow2 ( w2 );
	}
#endif
#ifdef USE_CLEARCOAT
	vec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {
		vec3 f0 = material.clearcoatF0;
		float f90 = material.clearcoatF90;
		float roughness = material.clearcoatRoughness;
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = F_Schlick( f0, f90, dotVH );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 f0 = material.specularColorBlended;
	float f90 = material.specularF90;
	float roughness = material.roughness;
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	#ifdef USE_IRIDESCENCE
		F = mix( F, material.iridescenceFresnel, material.iridescence );
	#endif
	#ifdef USE_ANISOTROPY
		float dotTL = dot( material.anisotropyT, lightDir );
		float dotTV = dot( material.anisotropyT, viewDir );
		float dotTH = dot( material.anisotropyT, halfDir );
		float dotBL = dot( material.anisotropyB, lightDir );
		float dotBV = dot( material.anisotropyB, viewDir );
		float dotBH = dot( material.anisotropyB, halfDir );
		float V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );
		float D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );
	#else
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
	#endif
	return F * ( V * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transpose( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float rInv = 1.0 / ( roughness + 0.1 );
	float a = -1.9362 + 1.0678 * roughness + 0.4573 * r2 - 0.8469 * rInv;
	float b = -0.6014 + 0.5538 * roughness - 0.4670 * r2 - 0.1255 * rInv;
	float DG = exp( a * dotNV + b );
	return saturate( DG );
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	vec2 fab = texture2D( dfgLUT, vec2( roughness, dotNV ) ).rg;
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	float dotNV = saturate( dot( normal, viewDir ) );
	vec2 fab = texture2D( dfgLUT, vec2( roughness, dotNV ) ).rg;
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
vec3 BRDF_GGX_Multiscatter( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 singleScatter = BRDF_GGX( lightDir, viewDir, normal, material );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	vec2 dfgV = texture2D( dfgLUT, vec2( material.roughness, dotNV ) ).rg;
	vec2 dfgL = texture2D( dfgLUT, vec2( material.roughness, dotNL ) ).rg;
	vec3 FssEss_V = material.specularColorBlended * dfgV.x + material.specularF90 * dfgV.y;
	vec3 FssEss_L = material.specularColorBlended * dfgL.x + material.specularF90 * dfgL.y;
	float Ess_V = dfgV.x + dfgV.y;
	float Ess_L = dfgL.x + dfgL.y;
	float Ems_V = 1.0 - Ess_V;
	float Ems_L = 1.0 - Ess_L;
	vec3 Favg = material.specularColorBlended + ( 1.0 - material.specularColorBlended ) * 0.047619;
	vec3 Fms = FssEss_V * FssEss_L * Favg / ( 1.0 - Ems_V * Ems_L * Favg + EPSILON );
	float compensationFactor = Ems_V * Ems_L;
	vec3 multiScatter = Fms * compensationFactor;
	return singleScatter + multiScatter;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometryNormal;
		vec3 viewDir = geometryViewDir;
		vec3 position = geometryPosition;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColorBlended * t2.x + ( vec3( 1.0 ) - material.specularColorBlended ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseContribution * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometryClearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecularDirect += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometryViewDir, geometryClearcoatNormal, material );
	#endif
	#ifdef USE_SHEEN
 
 		sheenSpecularDirect += irradiance * BRDF_Sheen( directLight.direction, geometryViewDir, geometryNormal, material.sheenColor, material.sheenRoughness );
 
 		float sheenAlbedoV = IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );
 		float sheenAlbedoL = IBLSheenBRDF( geometryNormal, directLight.direction, material.sheenRoughness );
 
 		float sheenEnergyComp = 1.0 - max3( material.sheenColor ) * max( sheenAlbedoV, sheenAlbedoL );
 
 		irradiance *= sheenEnergyComp;
 
 	#endif
	reflectedLight.directSpecular += irradiance * BRDF_GGX_Multiscatter( directLight.direction, geometryViewDir, geometryNormal, material );
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseContribution );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 diffuse = irradiance * BRDF_Lambert( material.diffuseContribution );
	#ifdef USE_SHEEN
		float sheenAlbedo = IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );
		float sheenEnergyComp = 1.0 - max3( material.sheenColor ) * sheenAlbedo;
		diffuse *= sheenEnergyComp;
	#endif
	reflectedLight.indirectDiffuse += diffuse;
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecularIndirect += clearcoatRadiance * EnvironmentBRDF( geometryClearcoatNormal, geometryViewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularIndirect += irradiance * material.sheenColor * IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness ) * RECIPROCAL_PI;
 	#endif
	vec3 singleScatteringDielectric = vec3( 0.0 );
	vec3 multiScatteringDielectric = vec3( 0.0 );
	vec3 singleScatteringMetallic = vec3( 0.0 );
	vec3 multiScatteringMetallic = vec3( 0.0 );
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnelDielectric, material.roughness, singleScatteringDielectric, multiScatteringDielectric );
		computeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.diffuseColor, material.specularF90, material.iridescence, material.iridescenceFresnelMetallic, material.roughness, singleScatteringMetallic, multiScatteringMetallic );
	#else
		computeMultiscattering( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.roughness, singleScatteringDielectric, multiScatteringDielectric );
		computeMultiscattering( geometryNormal, geometryViewDir, material.diffuseColor, material.specularF90, material.roughness, singleScatteringMetallic, multiScatteringMetallic );
	#endif
	vec3 singleScattering = mix( singleScatteringDielectric, singleScatteringMetallic, material.metalness );
	vec3 multiScattering = mix( multiScatteringDielectric, multiScatteringMetallic, material.metalness );
	vec3 totalScatteringDielectric = singleScatteringDielectric + multiScatteringDielectric;
	vec3 diffuse = material.diffuseContribution * ( 1.0 - totalScatteringDielectric );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	vec3 indirectSpecular = radiance * singleScattering;
	indirectSpecular += multiScattering * cosineWeightedIrradiance;
	vec3 indirectDiffuse = diffuse * cosineWeightedIrradiance;
	#ifdef USE_SHEEN
		float sheenAlbedo = IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );
		float sheenEnergyComp = 1.0 - max3( material.sheenColor ) * sheenAlbedo;
		indirectSpecular *= sheenEnergyComp;
		indirectDiffuse *= sheenEnergyComp;
	#endif
	reflectedLight.indirectSpecular += indirectSpecular;
	reflectedLight.indirectDiffuse += indirectDiffuse;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,fEe=`
vec3 geometryPosition = - vViewPosition;
vec3 geometryNormal = normal;
vec3 geometryViewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
vec3 geometryClearcoatNormal = vec3( 0.0 );
#ifdef USE_CLEARCOAT
	geometryClearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometryViewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnelDielectric = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceFresnelMetallic = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.diffuseColor );
		material.iridescenceFresnel = mix( material.iridescenceFresnelDielectric, material.iridescenceFresnelMetallic, material.metalness );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometryPosition, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS ) && ( defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_BASIC ) )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowIntensity, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometryPosition, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowIntensity, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowIntensity, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	#if defined( USE_LIGHT_PROBES )
		irradiance += getLightProbeIrradiance( lightProbe, geometryNormal );
	#endif
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometryNormal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,pEe=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometryNormal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	#ifdef USE_ANISOTROPY
		radiance += getIBLAnisotropyRadiance( geometryViewDir, geometryNormal, material.roughness, material.anisotropyB, material.anisotropy );
	#else
		radiance += getIBLRadiance( geometryViewDir, geometryNormal, material.roughness );
	#endif
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometryViewDir, geometryClearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,gEe=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif`,mEe=`#if defined( USE_LOGARITHMIC_DEPTH_BUFFER )
	gl_FragDepth = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,AEe=`#if defined( USE_LOGARITHMIC_DEPTH_BUFFER )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,yEe=`#ifdef USE_LOGARITHMIC_DEPTH_BUFFER
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,vEe=`#ifdef USE_LOGARITHMIC_DEPTH_BUFFER
	vFragDepth = 1.0 + gl_Position.w;
	vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
#endif`,bEe=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vMapUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = sRGBTransferEOTF( sampledDiffuseColor );
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,xEe=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,CEe=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	#if defined( USE_POINTS_UV )
		vec2 uv = vUv;
	#else
		vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
	#endif
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,EEe=`#if defined( USE_POINTS_UV )
	varying vec2 vUv;
#else
	#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
		uniform mat3 uvTransform;
	#endif
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,SEe=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );
	metalnessFactor *= texelMetalness.b;
#endif`,wEe=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,_Ee=`#ifdef USE_INSTANCING_MORPH
	float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	float morphTargetBaseInfluence = texelFetch( morphTexture, ivec2( 0, gl_InstanceID ), 0 ).r;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		morphTargetInfluences[i] =  texelFetch( morphTexture, ivec2( i + 1, gl_InstanceID ), 0 ).r;
	}
#endif`,IEe=`#if defined( USE_MORPHCOLORS )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,BEe=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,DEe=`#ifdef USE_MORPHTARGETS
	#ifndef USE_INSTANCING_MORPH
		uniform float morphTargetBaseInfluence;
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	#endif
	uniform sampler2DArray morphTargetsTexture;
	uniform ivec2 morphTargetsTextureSize;
	vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
		int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
		int y = texelIndex / morphTargetsTextureSize.x;
		int x = texelIndex - y * morphTargetsTextureSize.x;
		ivec3 morphUV = ivec3( x, y, morphTargetIndex );
		return texelFetch( morphTargetsTexture, morphUV, 0 );
	}
#endif`,TEe=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,MEe=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal *= faceDirection;
	#endif
#endif
#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )
	#ifdef USE_TANGENT
		mat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn = getTangentFrame( - vViewPosition, normal,
		#if defined( USE_NORMALMAP )
			vNormalMapUv
		#elif defined( USE_CLEARCOAT_NORMALMAP )
			vClearcoatNormalMapUv
		#else
			vUv
		#endif
		);
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn[0] *= faceDirection;
		tbn[1] *= faceDirection;
	#endif
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	#ifdef USE_TANGENT
		mat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn2[0] *= faceDirection;
		tbn2[1] *= faceDirection;
	#endif
#endif
vec3 nonPerturbedNormal = normal;`,kEe=`#ifdef USE_NORMALMAP_OBJECTSPACE
	normal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( USE_NORMALMAP_TANGENTSPACE )
	vec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	normal = normalize( tbn * mapN );
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,PEe=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,REe=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,NEe=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,LEe=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef USE_NORMALMAP_OBJECTSPACE
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )
	mat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( uv.st );
		vec2 st1 = dFdy( uv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );
		return mat3( T * scale, B * scale, N );
	}
#endif`,FEe=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = nonPerturbedNormal;
#endif`,$Ee=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	clearcoatNormal = normalize( tbn2 * clearcoatMapN );
#endif`,zEe=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif`,OEe=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,jEe=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,QEe=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;const float ShiftRight8 = 1. / 256.;
const float Inv255 = 1. / 255.;
const vec4 PackFactors = vec4( 1.0, 256.0, 256.0 * 256.0, 256.0 * 256.0 * 256.0 );
const vec2 UnpackFactors2 = vec2( UnpackDownscale, 1.0 / PackFactors.g );
const vec3 UnpackFactors3 = vec3( UnpackDownscale / PackFactors.rg, 1.0 / PackFactors.b );
const vec4 UnpackFactors4 = vec4( UnpackDownscale / PackFactors.rgb, 1.0 / PackFactors.a );
vec4 packDepthToRGBA( const in float v ) {
	if( v <= 0.0 )
		return vec4( 0., 0., 0., 0. );
	if( v >= 1.0 )
		return vec4( 1., 1., 1., 1. );
	float vuf;
	float af = modf( v * PackFactors.a, vuf );
	float bf = modf( vuf * ShiftRight8, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec4( vuf * Inv255, gf * PackUpscale, bf * PackUpscale, af );
}
vec3 packDepthToRGB( const in float v ) {
	if( v <= 0.0 )
		return vec3( 0., 0., 0. );
	if( v >= 1.0 )
		return vec3( 1., 1., 1. );
	float vuf;
	float bf = modf( v * PackFactors.b, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec3( vuf * Inv255, gf * PackUpscale, bf );
}
vec2 packDepthToRG( const in float v ) {
	if( v <= 0.0 )
		return vec2( 0., 0. );
	if( v >= 1.0 )
		return vec2( 1., 1. );
	float vuf;
	float gf = modf( v * 256., vuf );
	return vec2( vuf * Inv255, gf );
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors4 );
}
float unpackRGBToDepth( const in vec3 v ) {
	return dot( v, UnpackFactors3 );
}
float unpackRGToDepth( const in vec2 v ) {
	return v.r * UnpackFactors2.r + v.g * UnpackFactors2.g;
}
vec4 pack2HalfToRGBA( const in vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( const in vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return depth * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * depth - far );
}`,UEe=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,HEe=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_BATCHING
	mvPosition = batchingMatrix * mvPosition;
#endif
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,VEe=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,GEe=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,KEe=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );
	roughnessFactor *= texelRoughness.g;
#endif`,WEe=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,qEe=`#if NUM_SPOT_LIGHT_COORDS > 0
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
	uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#if defined( SHADOWMAP_TYPE_PCF )
			uniform sampler2DShadow directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		#else
			uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		#endif
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		#if defined( SHADOWMAP_TYPE_PCF )
			uniform sampler2DShadow spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		#else
			uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		#endif
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#if defined( SHADOWMAP_TYPE_PCF )
			uniform samplerCubeShadow pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		#elif defined( SHADOWMAP_TYPE_BASIC )
			uniform samplerCube pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		#endif
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	#if defined( SHADOWMAP_TYPE_PCF )
		float interleavedGradientNoise( vec2 position ) {
			return fract( 52.9829189 * fract( dot( position, vec2( 0.06711056, 0.00583715 ) ) ) );
		}
		vec2 vogelDiskSample( int sampleIndex, int samplesCount, float phi ) {
			const float goldenAngle = 2.399963229728653;
			float r = sqrt( ( float( sampleIndex ) + 0.5 ) / float( samplesCount ) );
			float theta = float( sampleIndex ) * goldenAngle + phi;
			return vec2( cos( theta ), sin( theta ) ) * r;
		}
	#endif
	#if defined( SHADOWMAP_TYPE_PCF )
		float getShadow( sampler2DShadow shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
			float shadow = 1.0;
			shadowCoord.xyz /= shadowCoord.w;
			shadowCoord.z += shadowBias;
			bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
			bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
			if ( frustumTest ) {
				vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
				float radius = shadowRadius * texelSize.x;
				float phi = interleavedGradientNoise( gl_FragCoord.xy ) * 6.28318530718;
				shadow = (
					texture( shadowMap, vec3( shadowCoord.xy + vogelDiskSample( 0, 5, phi ) * radius, shadowCoord.z ) ) +
					texture( shadowMap, vec3( shadowCoord.xy + vogelDiskSample( 1, 5, phi ) * radius, shadowCoord.z ) ) +
					texture( shadowMap, vec3( shadowCoord.xy + vogelDiskSample( 2, 5, phi ) * radius, shadowCoord.z ) ) +
					texture( shadowMap, vec3( shadowCoord.xy + vogelDiskSample( 3, 5, phi ) * radius, shadowCoord.z ) ) +
					texture( shadowMap, vec3( shadowCoord.xy + vogelDiskSample( 4, 5, phi ) * radius, shadowCoord.z ) )
				) * 0.2;
			}
			return mix( 1.0, shadow, shadowIntensity );
		}
	#elif defined( SHADOWMAP_TYPE_VSM )
		float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
			float shadow = 1.0;
			shadowCoord.xyz /= shadowCoord.w;
			shadowCoord.z += shadowBias;
			bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
			bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
			if ( frustumTest ) {
				vec2 distribution = texture2D( shadowMap, shadowCoord.xy ).rg;
				float mean = distribution.x;
				float variance = distribution.y * distribution.y;
				#ifdef USE_REVERSED_DEPTH_BUFFER
					float hard_shadow = step( mean, shadowCoord.z );
				#else
					float hard_shadow = step( shadowCoord.z, mean );
				#endif
				if ( hard_shadow == 1.0 ) {
					shadow = 1.0;
				} else {
					variance = max( variance, 0.0000001 );
					float d = shadowCoord.z - mean;
					float p_max = variance / ( variance + d * d );
					p_max = clamp( ( p_max - 0.3 ) / 0.65, 0.0, 1.0 );
					shadow = max( hard_shadow, p_max );
				}
			}
			return mix( 1.0, shadow, shadowIntensity );
		}
	#else
		float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
			float shadow = 1.0;
			shadowCoord.xyz /= shadowCoord.w;
			shadowCoord.z += shadowBias;
			bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
			bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
			if ( frustumTest ) {
				float depth = texture2D( shadowMap, shadowCoord.xy ).r;
				#ifdef USE_REVERSED_DEPTH_BUFFER
					shadow = step( depth, shadowCoord.z );
				#else
					shadow = step( shadowCoord.z, depth );
				#endif
			}
			return mix( 1.0, shadow, shadowIntensity );
		}
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	#if defined( SHADOWMAP_TYPE_PCF )
	float getPointShadow( samplerCubeShadow shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		float shadow = 1.0;
		vec3 lightToPosition = shadowCoord.xyz;
		vec3 bd3D = normalize( lightToPosition );
		vec3 absVec = abs( lightToPosition );
		float viewSpaceZ = max( max( absVec.x, absVec.y ), absVec.z );
		if ( viewSpaceZ - shadowCameraFar <= 0.0 && viewSpaceZ - shadowCameraNear >= 0.0 ) {
			float dp = ( shadowCameraFar * ( viewSpaceZ - shadowCameraNear ) ) / ( viewSpaceZ * ( shadowCameraFar - shadowCameraNear ) );
			dp += shadowBias;
			float texelSize = shadowRadius / shadowMapSize.x;
			vec3 absDir = abs( bd3D );
			vec3 tangent = absDir.x > absDir.z ? vec3( 0.0, 1.0, 0.0 ) : vec3( 1.0, 0.0, 0.0 );
			tangent = normalize( cross( bd3D, tangent ) );
			vec3 bitangent = cross( bd3D, tangent );
			float phi = interleavedGradientNoise( gl_FragCoord.xy ) * 6.28318530718;
			shadow = (
				texture( shadowMap, vec4( bd3D + ( tangent * vogelDiskSample( 0, 5, phi ).x + bitangent * vogelDiskSample( 0, 5, phi ).y ) * texelSize, dp ) ) +
				texture( shadowMap, vec4( bd3D + ( tangent * vogelDiskSample( 1, 5, phi ).x + bitangent * vogelDiskSample( 1, 5, phi ).y ) * texelSize, dp ) ) +
				texture( shadowMap, vec4( bd3D + ( tangent * vogelDiskSample( 2, 5, phi ).x + bitangent * vogelDiskSample( 2, 5, phi ).y ) * texelSize, dp ) ) +
				texture( shadowMap, vec4( bd3D + ( tangent * vogelDiskSample( 3, 5, phi ).x + bitangent * vogelDiskSample( 3, 5, phi ).y ) * texelSize, dp ) ) +
				texture( shadowMap, vec4( bd3D + ( tangent * vogelDiskSample( 4, 5, phi ).x + bitangent * vogelDiskSample( 4, 5, phi ).y ) * texelSize, dp ) )
			) * 0.2;
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
	#elif defined( SHADOWMAP_TYPE_BASIC )
	float getPointShadow( samplerCube shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		float shadow = 1.0;
		vec3 lightToPosition = shadowCoord.xyz;
		vec3 bd3D = normalize( lightToPosition );
		vec3 absVec = abs( lightToPosition );
		float viewSpaceZ = max( max( absVec.x, absVec.y ), absVec.z );
		if ( viewSpaceZ - shadowCameraFar <= 0.0 && viewSpaceZ - shadowCameraNear >= 0.0 ) {
			float dp = ( shadowCameraFar * ( viewSpaceZ - shadowCameraNear ) ) / ( viewSpaceZ * ( shadowCameraFar - shadowCameraNear ) );
			dp += shadowBias;
			float depth = textureCube( shadowMap, bd3D ).r;
			#ifdef USE_REVERSED_DEPTH_BUFFER
				shadow = step( depth, dp );
			#else
				shadow = step( dp, depth );
			#endif
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
	#endif
	#endif
#endif`,YEe=`#if NUM_SPOT_LIGHT_COORDS > 0
	uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,XEe=`#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
	vec4 shadowWorldPosition;
#endif
#if defined( USE_SHADOWMAP )
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
#endif
#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
#endif`,JEe=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowIntensity, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowIntensity, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0 && ( defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_BASIC ) )
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowIntensity, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,ZEe=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,eSe=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	mat4 getBoneMatrix( const in float i ) {
		int size = textureSize( boneTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( boneTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( boneTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( boneTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( boneTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
#endif`,tSe=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,nSe=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,rSe=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,iSe=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,sSe=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,oSe=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return saturate( toneMappingExposure * color );
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 CineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
const mat3 LINEAR_REC2020_TO_LINEAR_SRGB = mat3(
	vec3( 1.6605, - 0.1246, - 0.0182 ),
	vec3( - 0.5876, 1.1329, - 0.1006 ),
	vec3( - 0.0728, - 0.0083, 1.1187 )
);
const mat3 LINEAR_SRGB_TO_LINEAR_REC2020 = mat3(
	vec3( 0.6274, 0.0691, 0.0164 ),
	vec3( 0.3293, 0.9195, 0.0880 ),
	vec3( 0.0433, 0.0113, 0.8956 )
);
vec3 agxDefaultContrastApprox( vec3 x ) {
	vec3 x2 = x * x;
	vec3 x4 = x2 * x2;
	return + 15.5 * x4 * x2
		- 40.14 * x4 * x
		+ 31.96 * x4
		- 6.868 * x2 * x
		+ 0.4298 * x2
		+ 0.1191 * x
		- 0.00232;
}
vec3 AgXToneMapping( vec3 color ) {
	const mat3 AgXInsetMatrix = mat3(
		vec3( 0.856627153315983, 0.137318972929847, 0.11189821299995 ),
		vec3( 0.0951212405381588, 0.761241990602591, 0.0767994186031903 ),
		vec3( 0.0482516061458583, 0.101439036467562, 0.811302368396859 )
	);
	const mat3 AgXOutsetMatrix = mat3(
		vec3( 1.1271005818144368, - 0.1413297634984383, - 0.14132976349843826 ),
		vec3( - 0.11060664309660323, 1.157823702216272, - 0.11060664309660294 ),
		vec3( - 0.016493938717834573, - 0.016493938717834257, 1.2519364065950405 )
	);
	const float AgxMinEv = - 12.47393;	const float AgxMaxEv = 4.026069;
	color *= toneMappingExposure;
	color = LINEAR_SRGB_TO_LINEAR_REC2020 * color;
	color = AgXInsetMatrix * color;
	color = max( color, 1e-10 );	color = log2( color );
	color = ( color - AgxMinEv ) / ( AgxMaxEv - AgxMinEv );
	color = clamp( color, 0.0, 1.0 );
	color = agxDefaultContrastApprox( color );
	color = AgXOutsetMatrix * color;
	color = pow( max( vec3( 0.0 ), color ), vec3( 2.2 ) );
	color = LINEAR_REC2020_TO_LINEAR_SRGB * color;
	color = clamp( color, 0.0, 1.0 );
	return color;
}
vec3 NeutralToneMapping( vec3 color ) {
	const float StartCompression = 0.8 - 0.04;
	const float Desaturation = 0.15;
	color *= toneMappingExposure;
	float x = min( color.r, min( color.g, color.b ) );
	float offset = x < 0.08 ? x - 6.25 * x * x : 0.04;
	color -= offset;
	float peak = max( color.r, max( color.g, color.b ) );
	if ( peak < StartCompression ) return color;
	float d = 1. - StartCompression;
	float newPeak = 1. - d * d / ( peak + d - StartCompression );
	color *= newPeak / peak;
	float g = 1. - 1. / ( Desaturation * ( peak - newPeak ) + 1. );
	return mix( color, vec3( newPeak ), g );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,aSe=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmitted = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseContribution, material.specularColorBlended, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.dispersion, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );
#endif`,lSe=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	float w0( float a ) {
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );
	}
	float w1( float a ) {
		return ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );
	}
	float w2( float a ){
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );
	}
	float w3( float a ) {
		return ( 1.0 / 6.0 ) * ( a * a * a );
	}
	float g0( float a ) {
		return w0( a ) + w1( a );
	}
	float g1( float a ) {
		return w2( a ) + w3( a );
	}
	float h0( float a ) {
		return - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );
	}
	float h1( float a ) {
		return 1.0 + w3( a ) / ( w2( a ) + w3( a ) );
	}
	vec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {
		uv = uv * texelSize.zw + 0.5;
		vec2 iuv = floor( uv );
		vec2 fuv = fract( uv );
		float g0x = g0( fuv.x );
		float g1x = g1( fuv.x );
		float h0x = h0( fuv.x );
		float h1x = h1( fuv.x );
		float h0y = h0( fuv.y );
		float h1y = h1( fuv.y );
		vec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		vec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		return g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +
			g1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );
	}
	vec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {
		vec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );
		vec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );
		vec2 fLodSizeInv = 1.0 / fLodSize;
		vec2 cLodSizeInv = 1.0 / cLodSize;
		vec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );
		vec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );
		return mix( fSample, cSample, fract( lod ) );
	}
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		return textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );
	}
	vec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return vec3( 1.0 );
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float dispersion, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec4 transmittedLight;
		vec3 transmittance;
		#ifdef USE_DISPERSION
			float halfSpread = ( ior - 1.0 ) * 0.025 * dispersion;
			vec3 iors = vec3( ior - halfSpread, ior, ior + halfSpread );
			for ( int i = 0; i < 3; i ++ ) {
				vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, iors[ i ], modelMatrix );
				vec3 refractedRayExit = position + transmissionRay;
				vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
				vec2 refractionCoords = ndcPos.xy / ndcPos.w;
				refractionCoords += 1.0;
				refractionCoords /= 2.0;
				vec4 transmissionSample = getTransmissionSample( refractionCoords, roughness, iors[ i ] );
				transmittedLight[ i ] = transmissionSample[ i ];
				transmittedLight.a += transmissionSample.a;
				transmittance[ i ] = diffuseColor[ i ] * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance )[ i ];
			}
			transmittedLight.a /= 3.0;
		#else
			vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
			vec3 refractedRayExit = position + transmissionRay;
			vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
			vec2 refractionCoords = ndcPos.xy / ndcPos.w;
			refractionCoords += 1.0;
			refractionCoords /= 2.0;
			transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
			transmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );
		#endif
		vec3 attenuatedColor = transmittance * transmittedLight.rgb;
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		float transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;
		return vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );
	}
#endif`,uSe=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_SPECULARMAP
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,cSe=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	uniform mat3 mapTransform;
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	uniform mat3 alphaMapTransform;
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	uniform mat3 lightMapTransform;
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	uniform mat3 aoMapTransform;
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	uniform mat3 bumpMapTransform;
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	uniform mat3 normalMapTransform;
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_DISPLACEMENTMAP
	uniform mat3 displacementMapTransform;
	varying vec2 vDisplacementMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	uniform mat3 emissiveMapTransform;
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	uniform mat3 metalnessMapTransform;
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	uniform mat3 roughnessMapTransform;
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	uniform mat3 anisotropyMapTransform;
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	uniform mat3 clearcoatMapTransform;
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform mat3 clearcoatNormalMapTransform;
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform mat3 clearcoatRoughnessMapTransform;
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	uniform mat3 sheenColorMapTransform;
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	uniform mat3 sheenRoughnessMapTransform;
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	uniform mat3 iridescenceMapTransform;
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform mat3 iridescenceThicknessMapTransform;
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SPECULARMAP
	uniform mat3 specularMapTransform;
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	uniform mat3 specularColorMapTransform;
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	uniform mat3 specularIntensityMapTransform;
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,dSe=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	vUv = vec3( uv, 1 ).xy;
#endif
#ifdef USE_MAP
	vMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ALPHAMAP
	vAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_LIGHTMAP
	vLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_AOMAP
	vAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_BUMPMAP
	vBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_NORMALMAP
	vNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_DISPLACEMENTMAP
	vDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_EMISSIVEMAP
	vEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_METALNESSMAP
	vMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ROUGHNESSMAP
	vRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ANISOTROPYMAP
	vAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOATMAP
	vClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	vClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	vClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCEMAP
	vIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	vIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_COLORMAP
	vSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	vSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULARMAP
	vSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_COLORMAP
	vSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	vSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_TRANSMISSIONMAP
	vTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_THICKNESSMAP
	vThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;
#endif`,hSe=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_BATCHING
		worldPosition = batchingMatrix * worldPosition;
	#endif
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const fSe=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,pSe=`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		texColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,gSe=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,mSe=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
uniform mat3 backgroundRotation;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, backgroundRotation * vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, backgroundRotation * vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,ASe=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,ySe=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,vSe=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,bSe=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <logdepthbuf_fragment>
	#ifdef USE_REVERSED_DEPTH_BUFFER
		float fragCoordZ = vHighPrecisionZW[ 0 ] / vHighPrecisionZW[ 1 ];
	#else
		float fragCoordZ = 0.5 * vHighPrecisionZW[ 0 ] / vHighPrecisionZW[ 1 ] + 0.5;
	#endif
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#elif DEPTH_PACKING == 3202
		gl_FragColor = vec4( packDepthToRGB( fragCoordZ ), 1.0 );
	#elif DEPTH_PACKING == 3203
		gl_FragColor = vec4( packDepthToRG( fragCoordZ ), 0.0, 1.0 );
	#endif
}`,xSe=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,CSe=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = vec4( dist, 0.0, 0.0, 1.0 );
}`,ESe=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,SSe=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,wSe=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,_Se=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,ISe=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,BSe=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,DSe=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,TSe=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,MSe=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,kSe=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,PSe=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	vViewPosition = - mvPosition.xyz;
#endif
}`,RSe=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( 0.0, 0.0, 0.0, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( normalize( normal ) * 0.5 + 0.5, diffuseColor.a );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,NSe=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,LSe=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,FSe=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,$Se=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define USE_SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef USE_SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULAR_COLORMAP
		uniform sampler2D specularColorMap;
	#endif
	#ifdef USE_SPECULAR_INTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_DISPERSION
	uniform float dispersion;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEEN_COLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEEN_ROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
#ifdef USE_ANISOTROPY
	uniform vec2 anisotropyVector;
	#ifdef USE_ANISOTROPYMAP
		uniform sampler2D anisotropyMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
 
		outgoingLight = outgoingLight + sheenSpecularDirect + sheenSpecularIndirect;
 
 	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometryClearcoatNormal, geometryViewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + ( clearcoatSpecularDirect + clearcoatSpecularIndirect ) * material.clearcoat;
	#endif
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,zSe=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,OSe=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,jSe=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
#ifdef USE_POINTS_UV
	varying vec2 vUv;
	uniform mat3 uvTransform;
#endif
void main() {
	#ifdef USE_POINTS_UV
		vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	#endif
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,QSe=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,USe=`#include <common>
#include <batching_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,HSe=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <logdepthbuf_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	#include <logdepthbuf_fragment>
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,VSe=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix[ 3 ];
	vec2 scale = vec2( length( modelMatrix[ 0 ].xyz ), length( modelMatrix[ 1 ].xyz ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,GSe=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,Xr={alphahash_fragment:p1e,alphahash_pars_fragment:g1e,alphamap_fragment:m1e,alphamap_pars_fragment:A1e,alphatest_fragment:y1e,alphatest_pars_fragment:v1e,aomap_fragment:b1e,aomap_pars_fragment:x1e,batching_pars_vertex:C1e,batching_vertex:E1e,begin_vertex:S1e,beginnormal_vertex:w1e,bsdfs:_1e,iridescence_fragment:I1e,bumpmap_pars_fragment:B1e,clipping_planes_fragment:D1e,clipping_planes_pars_fragment:T1e,clipping_planes_pars_vertex:M1e,clipping_planes_vertex:k1e,color_fragment:P1e,color_pars_fragment:R1e,color_pars_vertex:N1e,color_vertex:L1e,common:F1e,cube_uv_reflection_fragment:$1e,defaultnormal_vertex:z1e,displacementmap_pars_vertex:O1e,displacementmap_vertex:j1e,emissivemap_fragment:Q1e,emissivemap_pars_fragment:U1e,colorspace_fragment:H1e,colorspace_pars_fragment:V1e,envmap_fragment:G1e,envmap_common_pars_fragment:K1e,envmap_pars_fragment:W1e,envmap_pars_vertex:q1e,envmap_physical_pars_fragment:oEe,envmap_vertex:Y1e,fog_vertex:X1e,fog_pars_vertex:J1e,fog_fragment:Z1e,fog_pars_fragment:eEe,gradientmap_pars_fragment:tEe,lightmap_pars_fragment:nEe,lights_lambert_fragment:rEe,lights_lambert_pars_fragment:iEe,lights_pars_begin:sEe,lights_toon_fragment:aEe,lights_toon_pars_fragment:lEe,lights_phong_fragment:uEe,lights_phong_pars_fragment:cEe,lights_physical_fragment:dEe,lights_physical_pars_fragment:hEe,lights_fragment_begin:fEe,lights_fragment_maps:pEe,lights_fragment_end:gEe,logdepthbuf_fragment:mEe,logdepthbuf_pars_fragment:AEe,logdepthbuf_pars_vertex:yEe,logdepthbuf_vertex:vEe,map_fragment:bEe,map_pars_fragment:xEe,map_particle_fragment:CEe,map_particle_pars_fragment:EEe,metalnessmap_fragment:SEe,metalnessmap_pars_fragment:wEe,morphinstance_vertex:_Ee,morphcolor_vertex:IEe,morphnormal_vertex:BEe,morphtarget_pars_vertex:DEe,morphtarget_vertex:TEe,normal_fragment_begin:MEe,normal_fragment_maps:kEe,normal_pars_fragment:PEe,normal_pars_vertex:REe,normal_vertex:NEe,normalmap_pars_fragment:LEe,clearcoat_normal_fragment_begin:FEe,clearcoat_normal_fragment_maps:$Ee,clearcoat_pars_fragment:zEe,iridescence_pars_fragment:OEe,opaque_fragment:jEe,packing:QEe,premultiplied_alpha_fragment:UEe,project_vertex:HEe,dithering_fragment:VEe,dithering_pars_fragment:GEe,roughnessmap_fragment:KEe,roughnessmap_pars_fragment:WEe,shadowmap_pars_fragment:qEe,shadowmap_pars_vertex:YEe,shadowmap_vertex:XEe,shadowmask_pars_fragment:JEe,skinbase_vertex:ZEe,skinning_pars_vertex:eSe,skinning_vertex:tSe,skinnormal_vertex:nSe,specularmap_fragment:rSe,specularmap_pars_fragment:iSe,tonemapping_fragment:sSe,tonemapping_pars_fragment:oSe,transmission_fragment:aSe,transmission_pars_fragment:lSe,uv_pars_fragment:uSe,uv_pars_vertex:cSe,uv_vertex:dSe,worldpos_vertex:hSe,background_vert:fSe,background_frag:pSe,backgroundCube_vert:gSe,backgroundCube_frag:mSe,cube_vert:ASe,cube_frag:ySe,depth_vert:vSe,depth_frag:bSe,distance_vert:xSe,distance_frag:CSe,equirect_vert:ESe,equirect_frag:SSe,linedashed_vert:wSe,linedashed_frag:_Se,meshbasic_vert:ISe,meshbasic_frag:BSe,meshlambert_vert:DSe,meshlambert_frag:TSe,meshmatcap_vert:MSe,meshmatcap_frag:kSe,meshnormal_vert:PSe,meshnormal_frag:RSe,meshphong_vert:NSe,meshphong_frag:LSe,meshphysical_vert:FSe,meshphysical_frag:$Se,meshtoon_vert:zSe,meshtoon_frag:OSe,points_vert:jSe,points_frag:QSe,shadow_vert:USe,shadow_frag:HSe,sprite_vert:VSe,sprite_frag:GSe},An={common:{diffuse:{value:new Gr(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new Ur},alphaMap:{value:null},alphaMapTransform:{value:new Ur},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new Ur}},envmap:{envMap:{value:null},envMapRotation:{value:new Ur},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98},dfgLUT:{value:null}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new Ur}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new Ur}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new Ur},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new Ur},normalScale:{value:new Er(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new Ur},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new Ur}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new Ur}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new Ur}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new Gr(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new Gr(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new Ur},alphaTest:{value:0},uvTransform:{value:new Ur}},sprite:{diffuse:{value:new Gr(16777215)},opacity:{value:1},center:{value:new Er(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new Ur},alphaMap:{value:null},alphaMapTransform:{value:new Ur},alphaTest:{value:0}}},Gg={basic:{uniforms:yc([An.common,An.specularmap,An.envmap,An.aomap,An.lightmap,An.fog]),vertexShader:Xr.meshbasic_vert,fragmentShader:Xr.meshbasic_frag},lambert:{uniforms:yc([An.common,An.specularmap,An.envmap,An.aomap,An.lightmap,An.emissivemap,An.bumpmap,An.normalmap,An.displacementmap,An.fog,An.lights,{emissive:{value:new Gr(0)}}]),vertexShader:Xr.meshlambert_vert,fragmentShader:Xr.meshlambert_frag},phong:{uniforms:yc([An.common,An.specularmap,An.envmap,An.aomap,An.lightmap,An.emissivemap,An.bumpmap,An.normalmap,An.displacementmap,An.fog,An.lights,{emissive:{value:new Gr(0)},specular:{value:new Gr(1118481)},shininess:{value:30}}]),vertexShader:Xr.meshphong_vert,fragmentShader:Xr.meshphong_frag},standard:{uniforms:yc([An.common,An.envmap,An.aomap,An.lightmap,An.emissivemap,An.bumpmap,An.normalmap,An.displacementmap,An.roughnessmap,An.metalnessmap,An.fog,An.lights,{emissive:{value:new Gr(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:Xr.meshphysical_vert,fragmentShader:Xr.meshphysical_frag},toon:{uniforms:yc([An.common,An.aomap,An.lightmap,An.emissivemap,An.bumpmap,An.normalmap,An.displacementmap,An.gradientmap,An.fog,An.lights,{emissive:{value:new Gr(0)}}]),vertexShader:Xr.meshtoon_vert,fragmentShader:Xr.meshtoon_frag},matcap:{uniforms:yc([An.common,An.bumpmap,An.normalmap,An.displacementmap,An.fog,{matcap:{value:null}}]),vertexShader:Xr.meshmatcap_vert,fragmentShader:Xr.meshmatcap_frag},points:{uniforms:yc([An.points,An.fog]),vertexShader:Xr.points_vert,fragmentShader:Xr.points_frag},dashed:{uniforms:yc([An.common,An.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:Xr.linedashed_vert,fragmentShader:Xr.linedashed_frag},depth:{uniforms:yc([An.common,An.displacementmap]),vertexShader:Xr.depth_vert,fragmentShader:Xr.depth_frag},normal:{uniforms:yc([An.common,An.bumpmap,An.normalmap,An.displacementmap,{opacity:{value:1}}]),vertexShader:Xr.meshnormal_vert,fragmentShader:Xr.meshnormal_frag},sprite:{uniforms:yc([An.sprite,An.fog]),vertexShader:Xr.sprite_vert,fragmentShader:Xr.sprite_frag},background:{uniforms:{uvTransform:{value:new Ur},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:Xr.background_vert,fragmentShader:Xr.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1},backgroundRotation:{value:new Ur}},vertexShader:Xr.backgroundCube_vert,fragmentShader:Xr.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:Xr.cube_vert,fragmentShader:Xr.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:Xr.equirect_vert,fragmentShader:Xr.equirect_frag},distance:{uniforms:yc([An.common,An.displacementmap,{referencePosition:{value:new rt},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:Xr.distance_vert,fragmentShader:Xr.distance_frag},shadow:{uniforms:yc([An.lights,An.fog,{color:{value:new Gr(0)},opacity:{value:1}}]),vertexShader:Xr.shadow_vert,fragmentShader:Xr.shadow_frag}};Gg.physical={uniforms:yc([Gg.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new Ur},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new Ur},clearcoatNormalScale:{value:new Er(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new Ur},dispersion:{value:0},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new Ur},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new Ur},sheen:{value:0},sheenColor:{value:new Gr(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new Ur},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new Ur},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new Ur},transmissionSamplerSize:{value:new Er},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new Ur},attenuationDistance:{value:0},attenuationColor:{value:new Gr(0)},specularColor:{value:new Gr(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new Ur},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new Ur},anisotropyVector:{value:new Er},anisotropyMap:{value:null},anisotropyMapTransform:{value:new Ur}}]),vertexShader:Xr.meshphysical_vert,fragmentShader:Xr.meshphysical_frag};const O2={r:0,b:0,g:0},Ib=new $0,KSe=new fo;function WSe(t,e,n,r,i,s,o){const a=new Gr(0);let l=s===!0?0:1,u,c,d=null,f=0,p=null;function m(E){let I=E.isScene===!0?E.background:null;return I&&I.isTexture&&(I=(E.backgroundBlurriness>0?n:e).get(I)),I}function v(E){let I=!1;const D=m(E);D===null?A(a,l):D&&D.isColor&&(A(D,1),I=!0);const T=t.xr.getEnvironmentBlendMode();T==="additive"?r.buffers.color.setClear(0,0,0,1,o):T==="alpha-blend"&&r.buffers.color.setClear(0,0,0,0,o),(t.autoClear||I)&&(r.buffers.depth.setTest(!0),r.buffers.depth.setMask(!0),r.buffers.color.setMask(!0),t.clear(t.autoClearColor,t.autoClearDepth,t.autoClearStencil))}function y(E,I){const D=m(I);D&&(D.isCubeTexture||D.mapping===dT)?(c===void 0&&(c=new bf(new G3(1,1,1),new No({name:"BackgroundCubeMaterial",uniforms:DE(Gg.backgroundCube.uniforms),vertexShader:Gg.backgroundCube.vertexShader,fragmentShader:Gg.backgroundCube.fragmentShader,side:gd,depthTest:!1,depthWrite:!1,fog:!1,allowOverride:!1})),c.geometry.deleteAttribute("normal"),c.geometry.deleteAttribute("uv"),c.onBeforeRender=function(T,M,P){this.matrixWorld.copyPosition(P.matrixWorld)},Object.defineProperty(c.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),i.update(c)),Ib.copy(I.backgroundRotation),Ib.x*=-1,Ib.y*=-1,Ib.z*=-1,D.isCubeTexture&&D.isRenderTargetTexture===!1&&(Ib.y*=-1,Ib.z*=-1),c.material.uniforms.envMap.value=D,c.material.uniforms.flipEnvMap.value=D.isCubeTexture&&D.isRenderTargetTexture===!1?-1:1,c.material.uniforms.backgroundBlurriness.value=I.backgroundBlurriness,c.material.uniforms.backgroundIntensity.value=I.backgroundIntensity,c.material.uniforms.backgroundRotation.value.setFromMatrix4(KSe.makeRotationFromEuler(Ib)),c.material.toneMapped=Ri.getTransfer(D.colorSpace)!==as,(d!==D||f!==D.version||p!==t.toneMapping)&&(c.material.needsUpdate=!0,d=D,f=D.version,p=t.toneMapping),c.layers.enableAll(),E.unshift(c,c.geometry,c.material,0,0,null)):D&&D.isTexture&&(u===void 0&&(u=new bf(new qF(2,2),new No({name:"BackgroundMaterial",uniforms:DE(Gg.background.uniforms),vertexShader:Gg.background.vertexShader,fragmentShader:Gg.background.fragmentShader,side:Jy,depthTest:!1,depthWrite:!1,fog:!1,allowOverride:!1})),u.geometry.deleteAttribute("normal"),Object.defineProperty(u.material,"map",{get:function(){return this.uniforms.t2D.value}}),i.update(u)),u.material.uniforms.t2D.value=D,u.material.uniforms.backgroundIntensity.value=I.backgroundIntensity,u.material.toneMapped=Ri.getTransfer(D.colorSpace)!==as,D.matrixAutoUpdate===!0&&D.updateMatrix(),u.material.uniforms.uvTransform.value.copy(D.matrix),(d!==D||f!==D.version||p!==t.toneMapping)&&(u.material.needsUpdate=!0,d=D,f=D.version,p=t.toneMapping),u.layers.enableAll(),E.unshift(u,u.geometry,u.material,0,0,null))}function A(E,I){E.getRGB(O2,rJ(t)),r.buffers.color.setClear(O2.r,O2.g,O2.b,I,o)}function C(){c!==void 0&&(c.geometry.dispose(),c.material.dispose(),c=void 0),u!==void 0&&(u.geometry.dispose(),u.material.dispose(),u=void 0)}return{getClearColor:function(){return a},setClearColor:function(E,I=1){a.set(E),l=I,A(a,l)},getClearAlpha:function(){return l},setClearAlpha:function(E){l=E,A(a,l)},render:v,addToRenderList:y,dispose:C}}function qSe(t,e){const n=t.getParameter(t.MAX_VERTEX_ATTRIBS),r={},i=f(null);let s=i,o=!1;function a(L,$,z,j,H){let W=!1;const O=d(j,z,$);s!==O&&(s=O,u(s.object)),W=p(L,j,z,H),W&&m(L,j,z,H),H!==null&&e.update(H,t.ELEMENT_ARRAY_BUFFER),(W||o)&&(o=!1,I(L,$,z,j),H!==null&&t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,e.get(H).buffer))}function l(){return t.createVertexArray()}function u(L){return t.bindVertexArray(L)}function c(L){return t.deleteVertexArray(L)}function d(L,$,z){const j=z.wireframe===!0;let H=r[L.id];H===void 0&&(H={},r[L.id]=H);let W=H[$.id];W===void 0&&(W={},H[$.id]=W);let O=W[j];return O===void 0&&(O=f(l()),W[j]=O),O}function f(L){const $=[],z=[],j=[];for(let H=0;H<n;H++)$[H]=0,z[H]=0,j[H]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:$,enabledAttributes:z,attributeDivisors:j,object:L,attributes:{},index:null}}function p(L,$,z,j){const H=s.attributes,W=$.attributes;let O=0;const G=z.getAttributes();for(const q in G)if(G[q].location>=0){const te=H[q];let Y=W[q];if(Y===void 0&&(q==="instanceMatrix"&&L.instanceMatrix&&(Y=L.instanceMatrix),q==="instanceColor"&&L.instanceColor&&(Y=L.instanceColor)),te===void 0||te.attribute!==Y||Y&&te.data!==Y.data)return!0;O++}return s.attributesNum!==O||s.index!==j}function m(L,$,z,j){const H={},W=$.attributes;let O=0;const G=z.getAttributes();for(const q in G)if(G[q].location>=0){let te=W[q];te===void 0&&(q==="instanceMatrix"&&L.instanceMatrix&&(te=L.instanceMatrix),q==="instanceColor"&&L.instanceColor&&(te=L.instanceColor));const Y={};Y.attribute=te,te&&te.data&&(Y.data=te.data),H[q]=Y,O++}s.attributes=H,s.attributesNum=O,s.index=j}function v(){const L=s.newAttributes;for(let $=0,z=L.length;$<z;$++)L[$]=0}function y(L){A(L,0)}function A(L,$){const z=s.newAttributes,j=s.enabledAttributes,H=s.attributeDivisors;z[L]=1,j[L]===0&&(t.enableVertexAttribArray(L),j[L]=1),H[L]!==$&&(t.vertexAttribDivisor(L,$),H[L]=$)}function C(){const L=s.newAttributes,$=s.enabledAttributes;for(let z=0,j=$.length;z<j;z++)$[z]!==L[z]&&(t.disableVertexAttribArray(z),$[z]=0)}function E(L,$,z,j,H,W,O){O===!0?t.vertexAttribIPointer(L,$,z,H,W):t.vertexAttribPointer(L,$,z,j,H,W)}function I(L,$,z,j){v();const H=j.attributes,W=z.getAttributes(),O=$.defaultAttributeValues;for(const G in W){const q=W[G];if(q.location>=0){let J=H[G];if(J===void 0&&(G==="instanceMatrix"&&L.instanceMatrix&&(J=L.instanceMatrix),G==="instanceColor"&&L.instanceColor&&(J=L.instanceColor)),J!==void 0){const te=J.normalized,Y=J.itemSize,Z=e.get(J);if(Z===void 0)continue;const ee=Z.buffer,ie=Z.type,ue=Z.bytesPerElement,ae=ie===t.INT||ie===t.UNSIGNED_INT||J.gpuType===NF;if(J.isInterleavedBufferAttribute){const de=J.data,ge=de.stride,_e=J.offset;if(de.isInstancedInterleavedBuffer){for(let we=0;we<q.locationSize;we++)A(q.location+we,de.meshPerAttribute);L.isInstancedMesh!==!0&&j._maxInstanceCount===void 0&&(j._maxInstanceCount=de.meshPerAttribute*de.count)}else for(let we=0;we<q.locationSize;we++)y(q.location+we);t.bindBuffer(t.ARRAY_BUFFER,ee);for(let we=0;we<q.locationSize;we++)E(q.location+we,Y/q.locationSize,ie,te,ge*ue,(_e+Y/q.locationSize*we)*ue,ae)}else{if(J.isInstancedBufferAttribute){for(let de=0;de<q.locationSize;de++)A(q.location+de,J.meshPerAttribute);L.isInstancedMesh!==!0&&j._maxInstanceCount===void 0&&(j._maxInstanceCount=J.meshPerAttribute*J.count)}else for(let de=0;de<q.locationSize;de++)y(q.location+de);t.bindBuffer(t.ARRAY_BUFFER,ee);for(let de=0;de<q.locationSize;de++)E(q.location+de,Y/q.locationSize,ie,te,Y*ue,Y/q.locationSize*de*ue,ae)}}else if(O!==void 0){const te=O[G];if(te!==void 0)switch(te.length){case 2:t.vertexAttrib2fv(q.location,te);break;case 3:t.vertexAttrib3fv(q.location,te);break;case 4:t.vertexAttrib4fv(q.location,te);break;default:t.vertexAttrib1fv(q.location,te)}}}}C()}function D(){P();for(const L in r){const $=r[L];for(const z in $){const j=$[z];for(const H in j)c(j[H].object),delete j[H];delete $[z]}delete r[L]}}function T(L){if(r[L.id]===void 0)return;const $=r[L.id];for(const z in $){const j=$[z];for(const H in j)c(j[H].object),delete j[H];delete $[z]}delete r[L.id]}function M(L){for(const $ in r){const z=r[$];if(z[L.id]===void 0)continue;const j=z[L.id];for(const H in j)c(j[H].object),delete j[H];delete z[L.id]}}function P(){k(),o=!0,s!==i&&(s=i,u(s.object))}function k(){i.geometry=null,i.program=null,i.wireframe=!1}return{setup:a,reset:P,resetDefaultState:k,dispose:D,releaseStatesOfGeometry:T,releaseStatesOfProgram:M,initAttributes:v,enableAttribute:y,disableUnusedAttributes:C}}function YSe(t,e,n){let r;function i(u){r=u}function s(u,c){t.drawArrays(r,u,c),n.update(c,r,1)}function o(u,c,d){d!==0&&(t.drawArraysInstanced(r,u,c,d),n.update(c,r,d))}function a(u,c,d){if(d===0)return;e.get("WEBGL_multi_draw").multiDrawArraysWEBGL(r,u,0,c,0,d);let p=0;for(let m=0;m<d;m++)p+=c[m];n.update(p,r,1)}function l(u,c,d,f){if(d===0)return;const p=e.get("WEBGL_multi_draw");if(p===null)for(let m=0;m<u.length;m++)o(u[m],c[m],f[m]);else{p.multiDrawArraysInstancedWEBGL(r,u,0,c,0,f,0,d);let m=0;for(let v=0;v<d;v++)m+=c[v]*f[v];n.update(m,r,1)}}this.setMode=i,this.render=s,this.renderInstances=o,this.renderMultiDraw=a,this.renderMultiDrawInstances=l}function XSe(t,e,n,r){let i;function s(){if(i!==void 0)return i;if(e.has("EXT_texture_filter_anisotropic")===!0){const M=e.get("EXT_texture_filter_anisotropic");i=t.getParameter(M.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else i=0;return i}function o(M){return!(M!==df&&r.convert(M)!==t.getParameter(t.IMPLEMENTATION_COLOR_READ_FORMAT))}function a(M){const P=M===Ic&&(e.has("EXT_color_buffer_half_float")||e.has("EXT_color_buffer_float"));return!(M!==uf&&r.convert(M)!==t.getParameter(t.IMPLEMENTATION_COLOR_READ_TYPE)&&M!==cf&&!P)}function l(M){if(M==="highp"){if(t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.HIGH_FLOAT).precision>0&&t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.HIGH_FLOAT).precision>0)return"highp";M="mediump"}return M==="mediump"&&t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.MEDIUM_FLOAT).precision>0&&t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}let u=n.precision!==void 0?n.precision:"highp";const c=l(u);c!==u&&(Tr("WebGLRenderer:",u,"not supported, using",c,"instead."),u=c);const d=n.logarithmicDepthBuffer===!0,f=n.reversedDepthBuffer===!0&&e.has("EXT_clip_control"),p=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS),m=t.getParameter(t.MAX_VERTEX_TEXTURE_IMAGE_UNITS),v=t.getParameter(t.MAX_TEXTURE_SIZE),y=t.getParameter(t.MAX_CUBE_MAP_TEXTURE_SIZE),A=t.getParameter(t.MAX_VERTEX_ATTRIBS),C=t.getParameter(t.MAX_VERTEX_UNIFORM_VECTORS),E=t.getParameter(t.MAX_VARYING_VECTORS),I=t.getParameter(t.MAX_FRAGMENT_UNIFORM_VECTORS),D=t.getParameter(t.MAX_SAMPLES),T=t.getParameter(t.SAMPLES);return{isWebGL2:!0,getMaxAnisotropy:s,getMaxPrecision:l,textureFormatReadable:o,textureTypeReadable:a,precision:u,logarithmicDepthBuffer:d,reversedDepthBuffer:f,maxTextures:p,maxVertexTextures:m,maxTextureSize:v,maxCubemapSize:y,maxAttributes:A,maxVertexUniforms:C,maxVaryings:E,maxFragmentUniforms:I,maxSamples:D,samples:T}}function JSe(t){const e=this;let n=null,r=0,i=!1,s=!1;const o=new Ub,a=new Ur,l={value:null,needsUpdate:!1};this.uniform=l,this.numPlanes=0,this.numIntersection=0,this.init=function(d,f){const p=d.length!==0||f||r!==0||i;return i=f,r=d.length,p},this.beginShadows=function(){s=!0,c(null)},this.endShadows=function(){s=!1},this.setGlobalState=function(d,f){n=c(d,f,0)},this.setState=function(d,f,p){const m=d.clippingPlanes,v=d.clipIntersection,y=d.clipShadows,A=t.get(d);if(!i||m===null||m.length===0||s&&!y)s?c(null):u();else{const C=s?0:r,E=C*4;let I=A.clippingState||null;l.value=I,I=c(m,f,E,p);for(let D=0;D!==E;++D)I[D]=n[D];A.clippingState=I,this.numIntersection=v?this.numPlanes:0,this.numPlanes+=C}};function u(){l.value!==n&&(l.value=n,l.needsUpdate=r>0),e.numPlanes=r,e.numIntersection=0}function c(d,f,p,m){const v=d!==null?d.length:0;let y=null;if(v!==0){if(y=l.value,m!==!0||y===null){const A=p+v*4,C=f.matrixWorldInverse;a.getNormalMatrix(C),(y===null||y.length<A)&&(y=new Float32Array(A));for(let E=0,I=p;E!==v;++E,I+=4)o.copy(d[E]).applyMatrix4(C,a),o.normal.toArray(y,I),y[I+3]=o.constant}l.value=y,l.needsUpdate=!0}return e.numPlanes=v,e.numIntersection=0,y}}function ZSe(t){let e=new WeakMap;function n(o,a){return a===ZN?o.mapping=Lx:a===e6&&(o.mapping=_E),o}function r(o){if(o&&o.isTexture){const a=o.mapping;if(a===ZN||a===e6)if(e.has(o)){const l=e.get(o).texture;return n(l,o.mapping)}else{const l=o.image;if(l&&l.height>0){const u=new oJ(l.height);return u.fromEquirectangularTexture(t,o),e.set(o,u),o.addEventListener("dispose",i),n(u.texture,o.mapping)}else return null}}return o}function i(o){const a=o.target;a.removeEventListener("dispose",i);const l=e.get(a);l!==void 0&&(e.delete(a),l.dispose())}function s(){e=new WeakMap}return{get:r,dispose:s}}const Py=4,DO=[.125,.215,.35,.446,.526,.582],tx=20,ewe=256,iw=new fT,TO=new Gr;let N5=null,L5=0,F5=0,$5=!1;const twe=new rt;class MO{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._sizeLods=[],this._sigmas=[],this._lodMeshes=[],this._backgroundBox=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._blurMaterial=null,this._ggxMaterial=null}fromScene(e,n=0,r=.1,i=100,s={}){const{size:o=256,position:a=twe}=s;N5=this._renderer.getRenderTarget(),L5=this._renderer.getActiveCubeFace(),F5=this._renderer.getActiveMipmapLevel(),$5=this._renderer.xr.enabled,this._renderer.xr.enabled=!1,this._setSize(o);const l=this._allocateTargets();return l.depthBuffer=!0,this._sceneToCubeUV(e,r,i,l,a),n>0&&this._blur(l,0,0,n),this._applyPMREM(l),this._cleanup(l),l}fromEquirectangular(e,n=null){return this._fromTexture(e,n)}fromCubemap(e,n=null){return this._fromTexture(e,n)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=RO(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=PO(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose(),this._backgroundBox!==null&&(this._backgroundBox.geometry.dispose(),this._backgroundBox.material.dispose())}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._ggxMaterial!==null&&this._ggxMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodMeshes.length;e++)this._lodMeshes[e].geometry.dispose()}_cleanup(e){this._renderer.setRenderTarget(N5,L5,F5),this._renderer.xr.enabled=$5,e.scissorTest=!1,f1(e,0,0,e.width,e.height)}_fromTexture(e,n){e.mapping===Lx||e.mapping===_E?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),N5=this._renderer.getRenderTarget(),L5=this._renderer.getActiveCubeFace(),F5=this._renderer.getActiveMipmapLevel(),$5=this._renderer.xr.enabled,this._renderer.xr.enabled=!1;const r=n||this._allocateTargets();return this._textureToCubeUV(e,r),this._applyPMREM(r),this._cleanup(r),r}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),n=4*this._cubeSize,r={magFilter:Wo,minFilter:Wo,generateMipmaps:!1,type:Ic,format:df,colorSpace:BE,depthBuffer:!1},i=kO(e,n,r);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==n){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=kO(e,n,r);const{_lodMax:s}=this;({lodMeshes:this._lodMeshes,sizeLods:this._sizeLods,sigmas:this._sigmas}=nwe(s)),this._blurMaterial=iwe(s,e,n),this._ggxMaterial=rwe(s,e,n)}return i}_compileMaterial(e){const n=new bf(new Dc,e);this._renderer.compile(n,iw)}_sceneToCubeUV(e,n,r,i,s){const l=new bc(90,1,n,r),u=[1,-1,1,1,1,1],c=[1,1,1,-1,-1,-1],d=this._renderer,f=d.autoClear,p=d.toneMapping;d.getClearColor(TO),d.toneMapping=em,d.autoClear=!1,d.state.buffers.depth.getReversed()&&(d.setRenderTarget(i),d.clearDepth(),d.setRenderTarget(null)),this._backgroundBox===null&&(this._backgroundBox=new bf(new G3,new VF({name:"PMREM.Background",side:gd,depthWrite:!1,depthTest:!1})));const v=this._backgroundBox,y=v.material;let A=!1;const C=e.background;C?C.isColor&&(y.color.copy(C),e.background=null,A=!0):(y.color.copy(TO),A=!0);for(let E=0;E<6;E++){const I=E%3;I===0?(l.up.set(0,u[E],0),l.position.set(s.x,s.y,s.z),l.lookAt(s.x+c[E],s.y,s.z)):I===1?(l.up.set(0,0,u[E]),l.position.set(s.x,s.y,s.z),l.lookAt(s.x,s.y+c[E],s.z)):(l.up.set(0,u[E],0),l.position.set(s.x,s.y,s.z),l.lookAt(s.x,s.y,s.z+c[E]));const D=this._cubeSize;f1(i,I*D,E>2?D:0,D,D),d.setRenderTarget(i),A&&d.render(v,l),d.render(e,l)}d.toneMapping=p,d.autoClear=f,e.background=C}_textureToCubeUV(e,n){const r=this._renderer,i=e.mapping===Lx||e.mapping===_E;i?(this._cubemapMaterial===null&&(this._cubemapMaterial=RO()),this._cubemapMaterial.uniforms.flipEnvMap.value=e.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=PO());const s=i?this._cubemapMaterial:this._equirectMaterial,o=this._lodMeshes[0];o.material=s;const a=s.uniforms;a.envMap.value=e;const l=this._cubeSize;f1(n,0,0,3*l,2*l),r.setRenderTarget(n),r.render(o,iw)}_applyPMREM(e){const n=this._renderer,r=n.autoClear;n.autoClear=!1;const i=this._lodMeshes.length;for(let s=1;s<i;s++)this._applyGGXFilter(e,s-1,s);n.autoClear=r}_applyGGXFilter(e,n,r){const i=this._renderer,s=this._pingPongRenderTarget,o=this._ggxMaterial,a=this._lodMeshes[r];a.material=o;const l=o.uniforms,u=r/(this._lodMeshes.length-1),c=n/(this._lodMeshes.length-1),d=Math.sqrt(u*u-c*c),f=0+u*1.25,p=d*f,{_lodMax:m}=this,v=this._sizeLods[r],y=3*v*(r>m-Py?r-m+Py:0),A=4*(this._cubeSize-v);l.envMap.value=e.texture,l.roughness.value=p,l.mipInt.value=m-n,f1(s,y,A,3*v,2*v),i.setRenderTarget(s),i.render(a,iw),l.envMap.value=s.texture,l.roughness.value=0,l.mipInt.value=m-r,f1(e,y,A,3*v,2*v),i.setRenderTarget(e),i.render(a,iw)}_blur(e,n,r,i,s){const o=this._pingPongRenderTarget;this._halfBlur(e,o,n,r,i,"latitudinal",s),this._halfBlur(o,e,r,r,i,"longitudinal",s)}_halfBlur(e,n,r,i,s,o,a){const l=this._renderer,u=this._blurMaterial;o!=="latitudinal"&&o!=="longitudinal"&&Xi("blur direction must be either latitudinal or longitudinal!");const c=3,d=this._lodMeshes[i];d.material=u;const f=u.uniforms,p=this._sizeLods[r]-1,m=isFinite(s)?Math.PI/(2*p):2*Math.PI/(2*tx-1),v=s/m,y=isFinite(s)?1+Math.floor(c*v):tx;y>tx&&Tr(`sigmaRadians, ${s}, is too large and will clip, as it requested ${y} samples when the maximum is set to ${tx}`);const A=[];let C=0;for(let M=0;M<tx;++M){const P=M/v,k=Math.exp(-P*P/2);A.push(k),M===0?C+=k:M<y&&(C+=2*k)}for(let M=0;M<A.length;M++)A[M]=A[M]/C;f.envMap.value=e.texture,f.samples.value=y,f.weights.value=A,f.latitudinal.value=o==="latitudinal",a&&(f.poleAxis.value=a);const{_lodMax:E}=this;f.dTheta.value=m,f.mipInt.value=E-r;const I=this._sizeLods[i],D=3*I*(i>E-Py?i-E+Py:0),T=4*(this._cubeSize-I);f1(n,D,T,3*I,2*I),l.setRenderTarget(n),l.render(d,iw)}}function nwe(t){const e=[],n=[],r=[];let i=t;const s=t-Py+1+DO.length;for(let o=0;o<s;o++){const a=Math.pow(2,i);e.push(a);let l=1/a;o>t-Py?l=DO[o-t+Py-1]:o===0&&(l=0),n.push(l);const u=1/(a-2),c=-u,d=1+u,f=[c,c,d,c,d,d,c,c,d,d,c,d],p=6,m=6,v=3,y=2,A=1,C=new Float32Array(v*m*p),E=new Float32Array(y*m*p),I=new Float32Array(A*m*p);for(let T=0;T<p;T++){const M=T%3*2/3-1,P=T>2?0:-1,k=[M,P,0,M+2/3,P,0,M+2/3,P+1,0,M,P,0,M+2/3,P+1,0,M,P+1,0];C.set(k,v*m*T),E.set(f,y*m*T);const L=[T,T,T,T,T,T];I.set(L,A*m*T)}const D=new Dc;D.setAttribute("position",new mr(C,v)),D.setAttribute("uv",new mr(E,y)),D.setAttribute("faceIndex",new mr(I,A)),r.push(new bf(D,null)),i>Py&&i--}return{lodMeshes:r,sizeLods:e,sigmas:n}}function kO(t,e,n){const r=new Ou(t,e,n);return r.texture.mapping=dT,r.texture.name="PMREM.cubeUv",r.scissorTest=!0,r}function f1(t,e,n,r,i){t.viewport.set(e,n,r,i),t.scissor.set(e,n,r,i)}function rwe(t,e,n){return new No({name:"PMREMGGXConvolution",defines:{GGX_SAMPLES:ewe,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/n,CUBEUV_MAX_MIP:`${t}.0`},uniforms:{envMap:{value:null},roughness:{value:0},mipInt:{value:0}},vertexShader:pT(),fragmentShader:`

			precision highp float;
			precision highp int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform float roughness;
			uniform float mipInt;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			#define PI 3.14159265359

			// Van der Corput radical inverse
			float radicalInverse_VdC(uint bits) {
				bits = (bits << 16u) | (bits >> 16u);
				bits = ((bits & 0x55555555u) << 1u) | ((bits & 0xAAAAAAAAu) >> 1u);
				bits = ((bits & 0x33333333u) << 2u) | ((bits & 0xCCCCCCCCu) >> 2u);
				bits = ((bits & 0x0F0F0F0Fu) << 4u) | ((bits & 0xF0F0F0F0u) >> 4u);
				bits = ((bits & 0x00FF00FFu) << 8u) | ((bits & 0xFF00FF00u) >> 8u);
				return float(bits) * 2.3283064365386963e-10; // / 0x100000000
			}

			// Hammersley sequence
			vec2 hammersley(uint i, uint N) {
				return vec2(float(i) / float(N), radicalInverse_VdC(i));
			}

			// GGX VNDF importance sampling (Eric Heitz 2018)
			// "Sampling the GGX Distribution of Visible Normals"
			// https://jcgt.org/published/0007/04/01/
			vec3 importanceSampleGGX_VNDF(vec2 Xi, vec3 V, float roughness) {
				float alpha = roughness * roughness;

				// Section 3.2: Transform view direction to hemisphere configuration
				vec3 Vh = normalize(vec3(alpha * V.x, alpha * V.y, V.z));

				// Section 4.1: Orthonormal basis
				float lensq = Vh.x * Vh.x + Vh.y * Vh.y;
				vec3 T1 = lensq > 0.0 ? vec3(-Vh.y, Vh.x, 0.0) / sqrt(lensq) : vec3(1.0, 0.0, 0.0);
				vec3 T2 = cross(Vh, T1);

				// Section 4.2: Parameterization of projected area
				float r = sqrt(Xi.x);
				float phi = 2.0 * PI * Xi.y;
				float t1 = r * cos(phi);
				float t2 = r * sin(phi);
				float s = 0.5 * (1.0 + Vh.z);
				t2 = (1.0 - s) * sqrt(1.0 - t1 * t1) + s * t2;

				// Section 4.3: Reprojection onto hemisphere
				vec3 Nh = t1 * T1 + t2 * T2 + sqrt(max(0.0, 1.0 - t1 * t1 - t2 * t2)) * Vh;

				// Section 3.4: Transform back to ellipsoid configuration
				return normalize(vec3(alpha * Nh.x, alpha * Nh.y, max(0.0, Nh.z)));
			}

			void main() {
				vec3 N = normalize(vOutputDirection);
				vec3 V = N; // Assume view direction equals normal for pre-filtering

				vec3 prefilteredColor = vec3(0.0);
				float totalWeight = 0.0;

				// For very low roughness, just sample the environment directly
				if (roughness < 0.001) {
					gl_FragColor = vec4(bilinearCubeUV(envMap, N, mipInt), 1.0);
					return;
				}

				// Tangent space basis for VNDF sampling
				vec3 up = abs(N.z) < 0.999 ? vec3(0.0, 0.0, 1.0) : vec3(1.0, 0.0, 0.0);
				vec3 tangent = normalize(cross(up, N));
				vec3 bitangent = cross(N, tangent);

				for(uint i = 0u; i < uint(GGX_SAMPLES); i++) {
					vec2 Xi = hammersley(i, uint(GGX_SAMPLES));

					// For PMREM, V = N, so in tangent space V is always (0, 0, 1)
					vec3 H_tangent = importanceSampleGGX_VNDF(Xi, vec3(0.0, 0.0, 1.0), roughness);

					// Transform H back to world space
					vec3 H = normalize(tangent * H_tangent.x + bitangent * H_tangent.y + N * H_tangent.z);
					vec3 L = normalize(2.0 * dot(V, H) * H - V);

					float NdotL = max(dot(N, L), 0.0);

					if(NdotL > 0.0) {
						// Sample environment at fixed mip level
						// VNDF importance sampling handles the distribution filtering
						vec3 sampleColor = bilinearCubeUV(envMap, L, mipInt);

						// Weight by NdotL for the split-sum approximation
						// VNDF PDF naturally accounts for the visible microfacet distribution
						prefilteredColor += sampleColor * NdotL;
						totalWeight += NdotL;
					}
				}

				if (totalWeight > 0.0) {
					prefilteredColor = prefilteredColor / totalWeight;
				}

				gl_FragColor = vec4(prefilteredColor, 1.0);
			}
		`,blending:Lp,depthTest:!1,depthWrite:!1})}function iwe(t,e,n){const r=new Float32Array(tx),i=new rt(0,1,0);return new No({name:"SphericalGaussianBlur",defines:{n:tx,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/n,CUBEUV_MAX_MIP:`${t}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:r},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:i}},vertexShader:pT(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:Lp,depthTest:!1,depthWrite:!1})}function PO(){return new No({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:pT(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:Lp,depthTest:!1,depthWrite:!1})}function RO(){return new No({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:pT(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:Lp,depthTest:!1,depthWrite:!1})}function pT(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function swe(t){let e=new WeakMap,n=null;function r(a){if(a&&a.isTexture){const l=a.mapping,u=l===ZN||l===e6,c=l===Lx||l===_E;if(u||c){let d=e.get(a);const f=d!==void 0?d.texture.pmremVersion:0;if(a.isRenderTargetTexture&&a.pmremVersion!==f)return n===null&&(n=new MO(t)),d=u?n.fromEquirectangular(a,d):n.fromCubemap(a,d),d.texture.pmremVersion=a.pmremVersion,e.set(a,d),d.texture;if(d!==void 0)return d.texture;{const p=a.image;return u&&p&&p.height>0||c&&p&&i(p)?(n===null&&(n=new MO(t)),d=u?n.fromEquirectangular(a):n.fromCubemap(a),d.texture.pmremVersion=a.pmremVersion,e.set(a,d),a.addEventListener("dispose",s),d.texture):null}}}return a}function i(a){let l=0;const u=6;for(let c=0;c<u;c++)a[c]!==void 0&&l++;return l===u}function s(a){const l=a.target;l.removeEventListener("dispose",s);const u=e.get(l);u!==void 0&&(e.delete(l),u.dispose())}function o(){e=new WeakMap,n!==null&&(n.dispose(),n=null)}return{get:r,dispose:o}}function owe(t){const e={};function n(r){if(e[r]!==void 0)return e[r];const i=t.getExtension(r);return e[r]=i,i}return{has:function(r){return n(r)!==null},init:function(){n("EXT_color_buffer_float"),n("WEBGL_clip_cull_distance"),n("OES_texture_float_linear"),n("EXT_color_buffer_half_float"),n("WEBGL_multisampled_render_to_texture"),n("WEBGL_render_shared_exponent")},get:function(r){const i=n(r);return i===null&&Y_("WebGLRenderer: "+r+" extension not supported."),i}}}function awe(t,e,n,r){const i={},s=new WeakMap;function o(d){const f=d.target;f.index!==null&&e.remove(f.index);for(const m in f.attributes)e.remove(f.attributes[m]);f.removeEventListener("dispose",o),delete i[f.id];const p=s.get(f);p&&(e.remove(p),s.delete(f)),r.releaseStatesOfGeometry(f),f.isInstancedBufferGeometry===!0&&delete f._maxInstanceCount,n.memory.geometries--}function a(d,f){return i[f.id]===!0||(f.addEventListener("dispose",o),i[f.id]=!0,n.memory.geometries++),f}function l(d){const f=d.attributes;for(const p in f)e.update(f[p],t.ARRAY_BUFFER)}function u(d){const f=[],p=d.index,m=d.attributes.position;let v=0;if(p!==null){const C=p.array;v=p.version;for(let E=0,I=C.length;E<I;E+=3){const D=C[E+0],T=C[E+1],M=C[E+2];f.push(D,T,T,M,M,D)}}else if(m!==void 0){const C=m.array;v=m.version;for(let E=0,I=C.length/3-1;E<I;E+=3){const D=E+0,T=E+1,M=E+2;f.push(D,T,T,M,M,D)}}else return;const y=new(YX(f)?nJ:tJ)(f,1);y.version=v;const A=s.get(d);A&&e.remove(A),s.set(d,y)}function c(d){const f=s.get(d);if(f){const p=d.index;p!==null&&f.version<p.version&&u(d)}else u(d);return s.get(d)}return{get:a,update:l,getWireframeAttribute:c}}function lwe(t,e,n){let r;function i(f){r=f}let s,o;function a(f){s=f.type,o=f.bytesPerElement}function l(f,p){t.drawElements(r,p,s,f*o),n.update(p,r,1)}function u(f,p,m){m!==0&&(t.drawElementsInstanced(r,p,s,f*o,m),n.update(p,r,m))}function c(f,p,m){if(m===0)return;e.get("WEBGL_multi_draw").multiDrawElementsWEBGL(r,p,0,s,f,0,m);let y=0;for(let A=0;A<m;A++)y+=p[A];n.update(y,r,1)}function d(f,p,m,v){if(m===0)return;const y=e.get("WEBGL_multi_draw");if(y===null)for(let A=0;A<f.length;A++)u(f[A]/o,p[A],v[A]);else{y.multiDrawElementsInstancedWEBGL(r,p,0,s,f,0,v,0,m);let A=0;for(let C=0;C<m;C++)A+=p[C]*v[C];n.update(A,r,1)}}this.setMode=i,this.setIndex=a,this.render=l,this.renderInstances=u,this.renderMultiDraw=c,this.renderMultiDrawInstances=d}function uwe(t){const e={geometries:0,textures:0},n={frame:0,calls:0,triangles:0,points:0,lines:0};function r(s,o,a){switch(n.calls++,o){case t.TRIANGLES:n.triangles+=a*(s/3);break;case t.LINES:n.lines+=a*(s/2);break;case t.LINE_STRIP:n.lines+=a*(s-1);break;case t.LINE_LOOP:n.lines+=a*s;break;case t.POINTS:n.points+=a*s;break;default:Xi("WebGLInfo: Unknown draw mode:",o);break}}function i(){n.calls=0,n.triangles=0,n.points=0,n.lines=0}return{memory:e,render:n,programs:null,autoReset:!0,reset:i,update:r}}function cwe(t,e,n){const r=new WeakMap,i=new sa;function s(o,a,l){const u=o.morphTargetInfluences,c=a.morphAttributes.position||a.morphAttributes.normal||a.morphAttributes.color,d=c!==void 0?c.length:0;let f=r.get(a);if(f===void 0||f.count!==d){let k=function(){M.dispose(),r.delete(a),a.removeEventListener("dispose",k)};f!==void 0&&f.texture.dispose();const p=a.morphAttributes.position!==void 0,m=a.morphAttributes.normal!==void 0,v=a.morphAttributes.color!==void 0,y=a.morphAttributes.position||[],A=a.morphAttributes.normal||[],C=a.morphAttributes.color||[];let E=0;p===!0&&(E=1),m===!0&&(E=2),v===!0&&(E=3);let I=a.attributes.position.count*E,D=1;I>e.maxTextureSize&&(D=Math.ceil(I/e.maxTextureSize),I=e.maxTextureSize);const T=new Float32Array(I*D*4*d),M=new XX(T,I,D,d);M.type=cf,M.needsUpdate=!0;const P=E*4;for(let L=0;L<d;L++){const $=y[L],z=A[L],j=C[L],H=I*D*4*L;for(let W=0;W<$.count;W++){const O=W*P;p===!0&&(i.fromBufferAttribute($,W),T[H+O+0]=i.x,T[H+O+1]=i.y,T[H+O+2]=i.z,T[H+O+3]=0),m===!0&&(i.fromBufferAttribute(z,W),T[H+O+4]=i.x,T[H+O+5]=i.y,T[H+O+6]=i.z,T[H+O+7]=0),v===!0&&(i.fromBufferAttribute(j,W),T[H+O+8]=i.x,T[H+O+9]=i.y,T[H+O+10]=i.z,T[H+O+11]=j.itemSize===4?i.w:1)}}f={count:d,texture:M,size:new Er(I,D)},r.set(a,f),a.addEventListener("dispose",k)}if(o.isInstancedMesh===!0&&o.morphTexture!==null)l.getUniforms().setValue(t,"morphTexture",o.morphTexture,n);else{let p=0;for(let v=0;v<u.length;v++)p+=u[v];const m=a.morphTargetsRelative?1:1-p;l.getUniforms().setValue(t,"morphTargetBaseInfluence",m),l.getUniforms().setValue(t,"morphTargetInfluences",u)}l.getUniforms().setValue(t,"morphTargetsTexture",f.texture,n),l.getUniforms().setValue(t,"morphTargetsTextureSize",f.size)}return{update:s}}function dwe(t,e,n,r){let i=new WeakMap;function s(l){const u=r.render.frame,c=l.geometry,d=e.get(l,c);if(i.get(d)!==u&&(e.update(d),i.set(d,u)),l.isInstancedMesh&&(l.hasEventListener("dispose",a)===!1&&l.addEventListener("dispose",a),i.get(l)!==u&&(n.update(l.instanceMatrix,t.ARRAY_BUFFER),l.instanceColor!==null&&n.update(l.instanceColor,t.ARRAY_BUFFER),i.set(l,u))),l.isSkinnedMesh){const f=l.skeleton;i.get(f)!==u&&(f.update(),i.set(f,u))}return d}function o(){i=new WeakMap}function a(l){const u=l.target;u.removeEventListener("dispose",a),n.remove(u.instanceMatrix),u.instanceColor!==null&&n.remove(u.instanceColor)}return{update:s,dispose:o}}const hwe={[BF]:"LINEAR_TONE_MAPPING",[DF]:"REINHARD_TONE_MAPPING",[TF]:"CINEON_TONE_MAPPING",[MF]:"ACES_FILMIC_TONE_MAPPING",[PF]:"AGX_TONE_MAPPING",[RF]:"NEUTRAL_TONE_MAPPING",[kF]:"CUSTOM_TONE_MAPPING"};function fwe(t,e,n,r,i){const s=new Ou(e,n,{type:t,depthBuffer:r,stencilBuffer:i}),o=new Ou(e,n,{type:Ic,depthBuffer:!1,stencilBuffer:!1}),a=new Dc;a.setAttribute("position",new Fp([-1,3,0,-1,-1,0,3,-1,0],3)),a.setAttribute("uv",new Fp([0,2,0,0,2,0],2));const l=new cJ({uniforms:{tDiffuse:{value:null}},vertexShader:`
			precision highp float;

			uniform mat4 modelViewMatrix;
			uniform mat4 projectionMatrix;

			attribute vec3 position;
			attribute vec2 uv;

			varying vec2 vUv;

			void main() {
				vUv = uv;
				gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
			}`,fragmentShader:`
			precision highp float;

			uniform sampler2D tDiffuse;

			varying vec2 vUv;

			#include <tonemapping_pars_fragment>
			#include <colorspace_pars_fragment>

			void main() {
				gl_FragColor = texture2D( tDiffuse, vUv );

				#ifdef LINEAR_TONE_MAPPING
					gl_FragColor.rgb = LinearToneMapping( gl_FragColor.rgb );
				#elif defined( REINHARD_TONE_MAPPING )
					gl_FragColor.rgb = ReinhardToneMapping( gl_FragColor.rgb );
				#elif defined( CINEON_TONE_MAPPING )
					gl_FragColor.rgb = CineonToneMapping( gl_FragColor.rgb );
				#elif defined( ACES_FILMIC_TONE_MAPPING )
					gl_FragColor.rgb = ACESFilmicToneMapping( gl_FragColor.rgb );
				#elif defined( AGX_TONE_MAPPING )
					gl_FragColor.rgb = AgXToneMapping( gl_FragColor.rgb );
				#elif defined( NEUTRAL_TONE_MAPPING )
					gl_FragColor.rgb = NeutralToneMapping( gl_FragColor.rgb );
				#elif defined( CUSTOM_TONE_MAPPING )
					gl_FragColor.rgb = CustomToneMapping( gl_FragColor.rgb );
				#endif

				#ifdef SRGB_TRANSFER
					gl_FragColor = sRGBTransferOETF( gl_FragColor );
				#endif
			}`,depthTest:!1,depthWrite:!1}),u=new bf(a,l),c=new fT(-1,1,1,-1,0,1);let d=null,f=null,p=!1,m,v=null,y=[],A=!1;this.setSize=function(C,E){s.setSize(C,E),o.setSize(C,E);for(let I=0;I<y.length;I++){const D=y[I];D.setSize&&D.setSize(C,E)}},this.setEffects=function(C){y=C,A=y.length>0&&y[0].isRenderPass===!0;const E=s.width,I=s.height;for(let D=0;D<y.length;D++){const T=y[D];T.setSize&&T.setSize(E,I)}},this.begin=function(C,E){if(p||C.toneMapping===em&&y.length===0)return!1;if(v=E,E!==null){const I=E.width,D=E.height;(s.width!==I||s.height!==D)&&this.setSize(I,D)}return A===!1&&C.setRenderTarget(s),m=C.toneMapping,C.toneMapping=em,!0},this.hasRenderPass=function(){return A},this.end=function(C,E){C.toneMapping=m,p=!0;let I=s,D=o;for(let T=0;T<y.length;T++){const M=y[T];if(M.enabled!==!1&&(M.render(C,D,I,E),M.needsSwap!==!1)){const P=I;I=D,D=P}}if(d!==C.outputColorSpace||f!==C.toneMapping){d=C.outputColorSpace,f=C.toneMapping,l.defines={},Ri.getTransfer(d)===as&&(l.defines.SRGB_TRANSFER="");const T=hwe[f];T&&(l.defines[T]=""),l.needsUpdate=!0}l.uniforms.tDiffuse.value=I.texture,C.setRenderTarget(v),C.render(u,c),v=null,p=!1},this.isCompositing=function(){return p},this.dispose=function(){s.dispose(),o.dispose(),a.dispose(),l.dispose()}}const hJ=new _f,F6=new X_(1,1),fJ=new XX,pJ=new zCe,gJ=new sJ,NO=[],LO=[],FO=new Float32Array(16),$O=new Float32Array(9),zO=new Float32Array(4);function iS(t,e,n){const r=t[0];if(r<=0||r>0)return t;const i=e*n;let s=NO[i];if(s===void 0&&(s=new Float32Array(i),NO[i]=s),e!==0){r.toArray(s,0);for(let o=1,a=0;o!==e;++o)a+=n,t[o].toArray(s,a)}return s}function sl(t,e){if(t.length!==e.length)return!1;for(let n=0,r=t.length;n<r;n++)if(t[n]!==e[n])return!1;return!0}function ol(t,e){for(let n=0,r=e.length;n<r;n++)t[n]=e[n]}function gT(t,e){let n=LO[e];n===void 0&&(n=new Int32Array(e),LO[e]=n);for(let r=0;r!==e;++r)n[r]=t.allocateTextureUnit();return n}function pwe(t,e){const n=this.cache;n[0]!==e&&(t.uniform1f(this.addr,e),n[0]=e)}function gwe(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2f(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(sl(n,e))return;t.uniform2fv(this.addr,e),ol(n,e)}}function mwe(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3f(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else if(e.r!==void 0)(n[0]!==e.r||n[1]!==e.g||n[2]!==e.b)&&(t.uniform3f(this.addr,e.r,e.g,e.b),n[0]=e.r,n[1]=e.g,n[2]=e.b);else{if(sl(n,e))return;t.uniform3fv(this.addr,e),ol(n,e)}}function Awe(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4f(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(sl(n,e))return;t.uniform4fv(this.addr,e),ol(n,e)}}function ywe(t,e){const n=this.cache,r=e.elements;if(r===void 0){if(sl(n,e))return;t.uniformMatrix2fv(this.addr,!1,e),ol(n,e)}else{if(sl(n,r))return;zO.set(r),t.uniformMatrix2fv(this.addr,!1,zO),ol(n,r)}}function vwe(t,e){const n=this.cache,r=e.elements;if(r===void 0){if(sl(n,e))return;t.uniformMatrix3fv(this.addr,!1,e),ol(n,e)}else{if(sl(n,r))return;$O.set(r),t.uniformMatrix3fv(this.addr,!1,$O),ol(n,r)}}function bwe(t,e){const n=this.cache,r=e.elements;if(r===void 0){if(sl(n,e))return;t.uniformMatrix4fv(this.addr,!1,e),ol(n,e)}else{if(sl(n,r))return;FO.set(r),t.uniformMatrix4fv(this.addr,!1,FO),ol(n,r)}}function xwe(t,e){const n=this.cache;n[0]!==e&&(t.uniform1i(this.addr,e),n[0]=e)}function Cwe(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2i(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(sl(n,e))return;t.uniform2iv(this.addr,e),ol(n,e)}}function Ewe(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3i(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else{if(sl(n,e))return;t.uniform3iv(this.addr,e),ol(n,e)}}function Swe(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4i(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(sl(n,e))return;t.uniform4iv(this.addr,e),ol(n,e)}}function wwe(t,e){const n=this.cache;n[0]!==e&&(t.uniform1ui(this.addr,e),n[0]=e)}function _we(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2ui(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(sl(n,e))return;t.uniform2uiv(this.addr,e),ol(n,e)}}function Iwe(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3ui(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else{if(sl(n,e))return;t.uniform3uiv(this.addr,e),ol(n,e)}}function Bwe(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4ui(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(sl(n,e))return;t.uniform4uiv(this.addr,e),ol(n,e)}}function Dwe(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i);let s;this.type===t.SAMPLER_2D_SHADOW?(F6.compareFunction=n.isReversedDepthBuffer()?UF:QF,s=F6):s=hJ,n.setTexture2D(e||s,i)}function Twe(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i),n.setTexture3D(e||pJ,i)}function Mwe(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i),n.setTextureCube(e||gJ,i)}function kwe(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i),n.setTexture2DArray(e||fJ,i)}function Pwe(t){switch(t){case 5126:return pwe;case 35664:return gwe;case 35665:return mwe;case 35666:return Awe;case 35674:return ywe;case 35675:return vwe;case 35676:return bwe;case 5124:case 35670:return xwe;case 35667:case 35671:return Cwe;case 35668:case 35672:return Ewe;case 35669:case 35673:return Swe;case 5125:return wwe;case 36294:return _we;case 36295:return Iwe;case 36296:return Bwe;case 35678:case 36198:case 36298:case 36306:case 35682:return Dwe;case 35679:case 36299:case 36307:return Twe;case 35680:case 36300:case 36308:case 36293:return Mwe;case 36289:case 36303:case 36311:case 36292:return kwe}}function Rwe(t,e){t.uniform1fv(this.addr,e)}function Nwe(t,e){const n=iS(e,this.size,2);t.uniform2fv(this.addr,n)}function Lwe(t,e){const n=iS(e,this.size,3);t.uniform3fv(this.addr,n)}function Fwe(t,e){const n=iS(e,this.size,4);t.uniform4fv(this.addr,n)}function $we(t,e){const n=iS(e,this.size,4);t.uniformMatrix2fv(this.addr,!1,n)}function zwe(t,e){const n=iS(e,this.size,9);t.uniformMatrix3fv(this.addr,!1,n)}function Owe(t,e){const n=iS(e,this.size,16);t.uniformMatrix4fv(this.addr,!1,n)}function jwe(t,e){t.uniform1iv(this.addr,e)}function Qwe(t,e){t.uniform2iv(this.addr,e)}function Uwe(t,e){t.uniform3iv(this.addr,e)}function Hwe(t,e){t.uniform4iv(this.addr,e)}function Vwe(t,e){t.uniform1uiv(this.addr,e)}function Gwe(t,e){t.uniform2uiv(this.addr,e)}function Kwe(t,e){t.uniform3uiv(this.addr,e)}function Wwe(t,e){t.uniform4uiv(this.addr,e)}function qwe(t,e,n){const r=this.cache,i=e.length,s=gT(n,i);sl(r,s)||(t.uniform1iv(this.addr,s),ol(r,s));let o;this.type===t.SAMPLER_2D_SHADOW?o=F6:o=hJ;for(let a=0;a!==i;++a)n.setTexture2D(e[a]||o,s[a])}function Ywe(t,e,n){const r=this.cache,i=e.length,s=gT(n,i);sl(r,s)||(t.uniform1iv(this.addr,s),ol(r,s));for(let o=0;o!==i;++o)n.setTexture3D(e[o]||pJ,s[o])}function Xwe(t,e,n){const r=this.cache,i=e.length,s=gT(n,i);sl(r,s)||(t.uniform1iv(this.addr,s),ol(r,s));for(let o=0;o!==i;++o)n.setTextureCube(e[o]||gJ,s[o])}function Jwe(t,e,n){const r=this.cache,i=e.length,s=gT(n,i);sl(r,s)||(t.uniform1iv(this.addr,s),ol(r,s));for(let o=0;o!==i;++o)n.setTexture2DArray(e[o]||fJ,s[o])}function Zwe(t){switch(t){case 5126:return Rwe;case 35664:return Nwe;case 35665:return Lwe;case 35666:return Fwe;case 35674:return $we;case 35675:return zwe;case 35676:return Owe;case 5124:case 35670:return jwe;case 35667:case 35671:return Qwe;case 35668:case 35672:return Uwe;case 35669:case 35673:return Hwe;case 5125:return Vwe;case 36294:return Gwe;case 36295:return Kwe;case 36296:return Wwe;case 35678:case 36198:case 36298:case 36306:case 35682:return qwe;case 35679:case 36299:case 36307:return Ywe;case 35680:case 36300:case 36308:case 36293:return Xwe;case 36289:case 36303:case 36311:case 36292:return Jwe}}class e_e{constructor(e,n,r){this.id=e,this.addr=r,this.cache=[],this.type=n.type,this.setValue=Pwe(n.type)}}class t_e{constructor(e,n,r){this.id=e,this.addr=r,this.cache=[],this.type=n.type,this.size=n.size,this.setValue=Zwe(n.type)}}class n_e{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,n,r){const i=this.seq;for(let s=0,o=i.length;s!==o;++s){const a=i[s];a.setValue(e,n[a.id],r)}}}const z5=/(\w+)(\])?(\[|\.)?/g;function OO(t,e){t.seq.push(e),t.map[e.id]=e}function r_e(t,e,n){const r=t.name,i=r.length;for(z5.lastIndex=0;;){const s=z5.exec(r),o=z5.lastIndex;let a=s[1];const l=s[2]==="]",u=s[3];if(l&&(a=a|0),u===void 0||u==="["&&o+2===i){OO(n,u===void 0?new e_e(a,t,e):new t_e(a,t,e));break}else{let d=n.map[a];d===void 0&&(d=new n_e(a),OO(n,d)),n=d}}}class wB{constructor(e,n){this.seq=[],this.map={};const r=e.getProgramParameter(n,e.ACTIVE_UNIFORMS);for(let o=0;o<r;++o){const a=e.getActiveUniform(n,o),l=e.getUniformLocation(n,a.name);r_e(a,l,this)}const i=[],s=[];for(const o of this.seq)o.type===e.SAMPLER_2D_SHADOW||o.type===e.SAMPLER_CUBE_SHADOW||o.type===e.SAMPLER_2D_ARRAY_SHADOW?i.push(o):s.push(o);i.length>0&&(this.seq=i.concat(s))}setValue(e,n,r,i){const s=this.map[n];s!==void 0&&s.setValue(e,r,i)}setOptional(e,n,r){const i=n[r];i!==void 0&&this.setValue(e,r,i)}static upload(e,n,r,i){for(let s=0,o=n.length;s!==o;++s){const a=n[s],l=r[a.id];l.needsUpdate!==!1&&a.setValue(e,l.value,i)}}static seqWithValue(e,n){const r=[];for(let i=0,s=e.length;i!==s;++i){const o=e[i];o.id in n&&r.push(o)}return r}}function jO(t,e,n){const r=t.createShader(e);return t.shaderSource(r,n),t.compileShader(r),r}const i_e=37297;let s_e=0;function o_e(t,e){const n=t.split(`
`),r=[],i=Math.max(e-6,0),s=Math.min(e+6,n.length);for(let o=i;o<s;o++){const a=o+1;r.push(`${a===e?">":" "} ${a}: ${n[o]}`)}return r.join(`
`)}const QO=new Ur;function a_e(t){Ri._getMatrix(QO,Ri.workingColorSpace,t);const e=`mat3( ${QO.elements.map(n=>n.toFixed(4))} )`;switch(Ri.getTransfer(t)){case WB:return[e,"LinearTransferOETF"];case as:return[e,"sRGBTransferOETF"];default:return Tr("WebGLProgram: Unsupported color space: ",t),[e,"LinearTransferOETF"]}}function UO(t,e,n){const r=t.getShaderParameter(e,t.COMPILE_STATUS),s=(t.getShaderInfoLog(e)||"").trim();if(r&&s==="")return"";const o=/ERROR: 0:(\d+)/.exec(s);if(o){const a=parseInt(o[1]);return n.toUpperCase()+`

`+s+`

`+o_e(t.getShaderSource(e),a)}else return s}function l_e(t,e){const n=a_e(e);return[`vec4 ${t}( vec4 value ) {`,`	return ${n[1]}( vec4( value.rgb * ${n[0]}, value.a ) );`,"}"].join(`
`)}const u_e={[BF]:"Linear",[DF]:"Reinhard",[TF]:"Cineon",[MF]:"ACESFilmic",[PF]:"AgX",[RF]:"Neutral",[kF]:"Custom"};function c_e(t,e){const n=u_e[e];return n===void 0?(Tr("WebGLProgram: Unsupported toneMapping:",e),"vec3 "+t+"( vec3 color ) { return LinearToneMapping( color ); }"):"vec3 "+t+"( vec3 color ) { return "+n+"ToneMapping( color ); }"}const j2=new rt;function d_e(){Ri.getLuminanceCoefficients(j2);const t=j2.x.toFixed(4),e=j2.y.toFixed(4),n=j2.z.toFixed(4);return["float luminance( const in vec3 rgb ) {",`	const vec3 weights = vec3( ${t}, ${e}, ${n} );`,"	return dot( weights, rgb );","}"].join(`
`)}function h_e(t){return[t.extensionClipCullDistance?"#extension GL_ANGLE_clip_cull_distance : require":"",t.extensionMultiDraw?"#extension GL_ANGLE_multi_draw : require":""].filter(Hw).join(`
`)}function f_e(t){const e=[];for(const n in t){const r=t[n];r!==!1&&e.push("#define "+n+" "+r)}return e.join(`
`)}function p_e(t,e){const n={},r=t.getProgramParameter(e,t.ACTIVE_ATTRIBUTES);for(let i=0;i<r;i++){const s=t.getActiveAttrib(e,i),o=s.name;let a=1;s.type===t.FLOAT_MAT2&&(a=2),s.type===t.FLOAT_MAT3&&(a=3),s.type===t.FLOAT_MAT4&&(a=4),n[o]={type:s.type,location:t.getAttribLocation(e,o),locationSize:a}}return n}function Hw(t){return t!==""}function HO(t,e){const n=e.numSpotLightShadows+e.numSpotLightMaps-e.numSpotLightShadowsWithMaps;return t.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,n).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function VO(t,e){return t.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const g_e=/^[ \t]*#include +<([\w\d./]+)>/gm;function $6(t){return t.replace(g_e,A_e)}const m_e=new Map;function A_e(t,e){let n=Xr[e];if(n===void 0){const r=m_e.get(e);if(r!==void 0)n=Xr[r],Tr('WebGLRenderer: Shader chunk "%s" has been deprecated. Use "%s" instead.',e,r);else throw new Error("Can not resolve #include <"+e+">")}return $6(n)}const y_e=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function GO(t){return t.replace(y_e,v_e)}function v_e(t,e,n,r){let i="";for(let s=parseInt(e);s<parseInt(n);s++)i+=r.replace(/\[\s*i\s*\]/g,"[ "+s+" ]").replace(/UNROLLED_LOOP_INDEX/g,s);return i}function KO(t){let e=`precision ${t.precision} float;
	precision ${t.precision} int;
	precision ${t.precision} sampler2D;
	precision ${t.precision} samplerCube;
	precision ${t.precision} sampler3D;
	precision ${t.precision} sampler2DArray;
	precision ${t.precision} sampler2DShadow;
	precision ${t.precision} samplerCubeShadow;
	precision ${t.precision} sampler2DArrayShadow;
	precision ${t.precision} isampler2D;
	precision ${t.precision} isampler3D;
	precision ${t.precision} isamplerCube;
	precision ${t.precision} isampler2DArray;
	precision ${t.precision} usampler2D;
	precision ${t.precision} usampler3D;
	precision ${t.precision} usamplerCube;
	precision ${t.precision} usampler2DArray;
	`;return t.precision==="highp"?e+=`
#define HIGH_PRECISION`:t.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:t.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}const b_e={[vB]:"SHADOWMAP_TYPE_PCF",[Uw]:"SHADOWMAP_TYPE_VSM"};function x_e(t){return b_e[t.shadowMapType]||"SHADOWMAP_TYPE_BASIC"}const C_e={[Lx]:"ENVMAP_TYPE_CUBE",[_E]:"ENVMAP_TYPE_CUBE",[dT]:"ENVMAP_TYPE_CUBE_UV"};function E_e(t){return t.envMap===!1?"ENVMAP_TYPE_CUBE":C_e[t.envMapMode]||"ENVMAP_TYPE_CUBE"}const S_e={[_E]:"ENVMAP_MODE_REFRACTION"};function w_e(t){return t.envMap===!1?"ENVMAP_MODE_REFLECTION":S_e[t.envMapMode]||"ENVMAP_MODE_REFLECTION"}const __e={[QX]:"ENVMAP_BLENDING_MULTIPLY",[vCe]:"ENVMAP_BLENDING_MIX",[bCe]:"ENVMAP_BLENDING_ADD"};function I_e(t){return t.envMap===!1?"ENVMAP_BLENDING_NONE":__e[t.combine]||"ENVMAP_BLENDING_NONE"}function B_e(t){const e=t.envMapCubeUVHeight;if(e===null)return null;const n=Math.log2(e)-2,r=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,n),112)),texelHeight:r,maxMip:n}}function D_e(t,e,n,r){const i=t.getContext(),s=n.defines;let o=n.vertexShader,a=n.fragmentShader;const l=x_e(n),u=E_e(n),c=w_e(n),d=I_e(n),f=B_e(n),p=h_e(n),m=f_e(s),v=i.createProgram();let y,A,C=n.glslVersion?"#version "+n.glslVersion+`
`:"";n.isRawShaderMaterial?(y=["#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,m].filter(Hw).join(`
`),y.length>0&&(y+=`
`),A=["#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,m].filter(Hw).join(`
`),A.length>0&&(A+=`
`)):(y=[KO(n),"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,m,n.extensionClipCullDistance?"#define USE_CLIP_DISTANCE":"",n.batching?"#define USE_BATCHING":"",n.batchingColor?"#define USE_BATCHING_COLOR":"",n.instancing?"#define USE_INSTANCING":"",n.instancingColor?"#define USE_INSTANCING_COLOR":"",n.instancingMorph?"#define USE_INSTANCING_MORPH":"",n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+c:"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",n.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",n.displacementMap?"#define USE_DISPLACEMENTMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.anisotropy?"#define USE_ANISOTROPY":"",n.anisotropyMap?"#define USE_ANISOTROPYMAP":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",n.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaHash?"#define USE_ALPHAHASH":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",n.mapUv?"#define MAP_UV "+n.mapUv:"",n.alphaMapUv?"#define ALPHAMAP_UV "+n.alphaMapUv:"",n.lightMapUv?"#define LIGHTMAP_UV "+n.lightMapUv:"",n.aoMapUv?"#define AOMAP_UV "+n.aoMapUv:"",n.emissiveMapUv?"#define EMISSIVEMAP_UV "+n.emissiveMapUv:"",n.bumpMapUv?"#define BUMPMAP_UV "+n.bumpMapUv:"",n.normalMapUv?"#define NORMALMAP_UV "+n.normalMapUv:"",n.displacementMapUv?"#define DISPLACEMENTMAP_UV "+n.displacementMapUv:"",n.metalnessMapUv?"#define METALNESSMAP_UV "+n.metalnessMapUv:"",n.roughnessMapUv?"#define ROUGHNESSMAP_UV "+n.roughnessMapUv:"",n.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+n.anisotropyMapUv:"",n.clearcoatMapUv?"#define CLEARCOATMAP_UV "+n.clearcoatMapUv:"",n.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+n.clearcoatNormalMapUv:"",n.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+n.clearcoatRoughnessMapUv:"",n.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+n.iridescenceMapUv:"",n.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+n.iridescenceThicknessMapUv:"",n.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+n.sheenColorMapUv:"",n.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+n.sheenRoughnessMapUv:"",n.specularMapUv?"#define SPECULARMAP_UV "+n.specularMapUv:"",n.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+n.specularColorMapUv:"",n.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+n.specularIntensityMapUv:"",n.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+n.transmissionMapUv:"",n.thicknessMapUv?"#define THICKNESSMAP_UV "+n.thicknessMapUv:"",n.vertexTangents&&n.flatShading===!1?"#define USE_TANGENT":"",n.vertexColors?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUv1s?"#define USE_UV1":"",n.vertexUv2s?"#define USE_UV2":"",n.vertexUv3s?"#define USE_UV3":"",n.pointsUvs?"#define USE_POINTS_UV":"",n.flatShading?"#define FLAT_SHADED":"",n.skinning?"#define USE_SKINNING":"",n.morphTargets?"#define USE_MORPHTARGETS":"",n.morphNormals&&n.flatShading===!1?"#define USE_MORPHNORMALS":"",n.morphColors?"#define USE_MORPHCOLORS":"",n.morphTargetsCount>0?"#define MORPHTARGETS_TEXTURE_STRIDE "+n.morphTextureStride:"",n.morphTargetsCount>0?"#define MORPHTARGETS_COUNT "+n.morphTargetsCount:"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+l:"",n.sizeAttenuation?"#define USE_SIZEATTENUATION":"",n.numLightProbes>0?"#define USE_LIGHT_PROBES":"",n.logarithmicDepthBuffer?"#define USE_LOGARITHMIC_DEPTH_BUFFER":"",n.reversedDepthBuffer?"#define USE_REVERSED_DEPTH_BUFFER":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","#ifdef USE_INSTANCING_MORPH","	uniform sampler2D morphTexture;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","	attribute vec2 uv1;","#endif","#ifdef USE_UV2","	attribute vec2 uv2;","#endif","#ifdef USE_UV3","	attribute vec2 uv3;","#endif","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(Hw).join(`
`),A=[KO(n),"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,m,n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.alphaToCoverage?"#define ALPHA_TO_COVERAGE":"",n.map?"#define USE_MAP":"",n.matcap?"#define USE_MATCAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+u:"",n.envMap?"#define "+c:"",n.envMap?"#define "+d:"",f?"#define CUBEUV_TEXEL_WIDTH "+f.texelWidth:"",f?"#define CUBEUV_TEXEL_HEIGHT "+f.texelHeight:"",f?"#define CUBEUV_MAX_MIP "+f.maxMip+".0":"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",n.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.anisotropy?"#define USE_ANISOTROPY":"",n.anisotropyMap?"#define USE_ANISOTROPYMAP":"",n.clearcoat?"#define USE_CLEARCOAT":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.dispersion?"#define USE_DISPERSION":"",n.iridescence?"#define USE_IRIDESCENCE":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",n.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaTest?"#define USE_ALPHATEST":"",n.alphaHash?"#define USE_ALPHAHASH":"",n.sheen?"#define USE_SHEEN":"",n.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.vertexTangents&&n.flatShading===!1?"#define USE_TANGENT":"",n.vertexColors||n.instancingColor||n.batchingColor?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUv1s?"#define USE_UV1":"",n.vertexUv2s?"#define USE_UV2":"",n.vertexUv3s?"#define USE_UV3":"",n.pointsUvs?"#define USE_POINTS_UV":"",n.gradientMap?"#define USE_GRADIENTMAP":"",n.flatShading?"#define FLAT_SHADED":"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+l:"",n.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",n.numLightProbes>0?"#define USE_LIGHT_PROBES":"",n.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",n.decodeVideoTextureEmissive?"#define DECODE_VIDEO_TEXTURE_EMISSIVE":"",n.logarithmicDepthBuffer?"#define USE_LOGARITHMIC_DEPTH_BUFFER":"",n.reversedDepthBuffer?"#define USE_REVERSED_DEPTH_BUFFER":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",n.toneMapping!==em?"#define TONE_MAPPING":"",n.toneMapping!==em?Xr.tonemapping_pars_fragment:"",n.toneMapping!==em?c_e("toneMapping",n.toneMapping):"",n.dithering?"#define DITHERING":"",n.opaque?"#define OPAQUE":"",Xr.colorspace_pars_fragment,l_e("linearToOutputTexel",n.outputColorSpace),d_e(),n.useDepthPacking?"#define DEPTH_PACKING "+n.depthPacking:"",`
`].filter(Hw).join(`
`)),o=$6(o),o=HO(o,n),o=VO(o,n),a=$6(a),a=HO(a,n),a=VO(a,n),o=GO(o),a=GO(a),n.isRawShaderMaterial!==!0&&(C=`#version 300 es
`,y=[p,"#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+y,A=["#define varying in",n.glslVersion===sO?"":"layout(location = 0) out highp vec4 pc_fragColor;",n.glslVersion===sO?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+A);const E=C+y+o,I=C+A+a,D=jO(i,i.VERTEX_SHADER,E),T=jO(i,i.FRAGMENT_SHADER,I);i.attachShader(v,D),i.attachShader(v,T),n.index0AttributeName!==void 0?i.bindAttribLocation(v,0,n.index0AttributeName):n.morphTargets===!0&&i.bindAttribLocation(v,0,"position"),i.linkProgram(v);function M($){if(t.debug.checkShaderErrors){const z=i.getProgramInfoLog(v)||"",j=i.getShaderInfoLog(D)||"",H=i.getShaderInfoLog(T)||"",W=z.trim(),O=j.trim(),G=H.trim();let q=!0,J=!0;if(i.getProgramParameter(v,i.LINK_STATUS)===!1)if(q=!1,typeof t.debug.onShaderError=="function")t.debug.onShaderError(i,v,D,T);else{const te=UO(i,D,"vertex"),Y=UO(i,T,"fragment");Xi("THREE.WebGLProgram: Shader Error "+i.getError()+" - VALIDATE_STATUS "+i.getProgramParameter(v,i.VALIDATE_STATUS)+`

Material Name: `+$.name+`
Material Type: `+$.type+`

Program Info Log: `+W+`
`+te+`
`+Y)}else W!==""?Tr("WebGLProgram: Program Info Log:",W):(O===""||G==="")&&(J=!1);J&&($.diagnostics={runnable:q,programLog:W,vertexShader:{log:O,prefix:y},fragmentShader:{log:G,prefix:A}})}i.deleteShader(D),i.deleteShader(T),P=new wB(i,v),k=p_e(i,v)}let P;this.getUniforms=function(){return P===void 0&&M(this),P};let k;this.getAttributes=function(){return k===void 0&&M(this),k};let L=n.rendererExtensionParallelShaderCompile===!1;return this.isReady=function(){return L===!1&&(L=i.getProgramParameter(v,i_e)),L},this.destroy=function(){r.releaseStatesOfProgram(this),i.deleteProgram(v),this.program=void 0},this.type=n.shaderType,this.name=n.shaderName,this.id=s_e++,this.cacheKey=e,this.usedTimes=1,this.program=v,this.vertexShader=D,this.fragmentShader=T,this}let T_e=0;class M_e{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const n=e.vertexShader,r=e.fragmentShader,i=this._getShaderStage(n),s=this._getShaderStage(r),o=this._getShaderCacheForMaterial(e);return o.has(i)===!1&&(o.add(i),i.usedTimes++),o.has(s)===!1&&(o.add(s),s.usedTimes++),this}remove(e){const n=this.materialCache.get(e);for(const r of n)r.usedTimes--,r.usedTimes===0&&this.shaderCache.delete(r.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const n=this.materialCache;let r=n.get(e);return r===void 0&&(r=new Set,n.set(e,r)),r}_getShaderStage(e){const n=this.shaderCache;let r=n.get(e);return r===void 0&&(r=new k_e(e),n.set(e,r)),r}}class k_e{constructor(e){this.id=T_e++,this.code=e,this.usedTimes=0}}function P_e(t,e,n,r,i,s,o){const a=new ZX,l=new M_e,u=new Set,c=[],d=new Map,f=i.logarithmicDepthBuffer;let p=i.precision;const m={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distance",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function v(k){return u.add(k),k===0?"uv":`uv${k}`}function y(k,L,$,z,j){const H=z.fog,W=j.geometry,O=k.isMeshStandardMaterial?z.environment:null,G=(k.isMeshStandardMaterial?n:e).get(k.envMap||O),q=G&&G.mapping===dT?G.image.height:null,J=m[k.type];k.precision!==null&&(p=i.getMaxPrecision(k.precision),p!==k.precision&&Tr("WebGLProgram.getParameters:",k.precision,"not supported, using",p,"instead."));const te=W.morphAttributes.position||W.morphAttributes.normal||W.morphAttributes.color,Y=te!==void 0?te.length:0;let Z=0;W.morphAttributes.position!==void 0&&(Z=1),W.morphAttributes.normal!==void 0&&(Z=2),W.morphAttributes.color!==void 0&&(Z=3);let ee,ie,ue,ae;if(J){const Rt=Gg[J];ee=Rt.vertexShader,ie=Rt.fragmentShader}else ee=k.vertexShader,ie=k.fragmentShader,l.update(k),ue=l.getVertexShaderID(k),ae=l.getFragmentShaderID(k);const de=t.getRenderTarget(),ge=t.state.buffers.depth.getReversed(),_e=j.isInstancedMesh===!0,we=j.isBatchedMesh===!0,ke=!!k.map,Fe=!!k.matcap,Ee=!!G,Me=!!k.aoMap,Ue=!!k.lightMap,Ge=!!k.bumpMap,ut=!!k.normalMap,ve=!!k.displacementMap,$e=!!k.emissiveMap,gt=!!k.metalnessMap,it=!!k.roughnessMap,ot=k.anisotropy>0,le=k.clearcoat>0,se=k.dispersion>0,Se=k.iridescence>0,De=k.sheen>0,Be=k.transmission>0,ze=ot&&!!k.anisotropyMap,kt=le&&!!k.clearcoatMap,Et=le&&!!k.clearcoatNormalMap,zt=le&&!!k.clearcoatRoughnessMap,Mt=Se&&!!k.iridescenceMap,at=Se&&!!k.iridescenceThicknessMap,At=De&&!!k.sheenColorMap,Pt=De&&!!k.sheenRoughnessMap,wt=!!k.specularMap,Lt=!!k.specularColorMap,un=!!k.specularIntensityMap,Oe=Be&&!!k.transmissionMap,Wt=Be&&!!k.thicknessMap,Vt=!!k.gradientMap,Xt=!!k.alphaMap,It=k.alphaTest>0,St=!!k.alphaHash,qt=!!k.extensions;let ct=em;k.toneMapped&&(de===null||de.isXRRenderTarget===!0)&&(ct=t.toneMapping);const Bt={shaderID:J,shaderType:k.type,shaderName:k.name,vertexShader:ee,fragmentShader:ie,defines:k.defines,customVertexShaderID:ue,customFragmentShaderID:ae,isRawShaderMaterial:k.isRawShaderMaterial===!0,glslVersion:k.glslVersion,precision:p,batching:we,batchingColor:we&&j._colorsTexture!==null,instancing:_e,instancingColor:_e&&j.instanceColor!==null,instancingMorph:_e&&j.morphTexture!==null,outputColorSpace:de===null?t.outputColorSpace:de.isXRRenderTarget===!0?de.texture.colorSpace:BE,alphaToCoverage:!!k.alphaToCoverage,map:ke,matcap:Fe,envMap:Ee,envMapMode:Ee&&G.mapping,envMapCubeUVHeight:q,aoMap:Me,lightMap:Ue,bumpMap:Ge,normalMap:ut,displacementMap:ve,emissiveMap:$e,normalMapObjectSpace:ut&&k.normalMapType===SCe,normalMapTangentSpace:ut&&k.normalMapType===ECe,metalnessMap:gt,roughnessMap:it,anisotropy:ot,anisotropyMap:ze,clearcoat:le,clearcoatMap:kt,clearcoatNormalMap:Et,clearcoatRoughnessMap:zt,dispersion:se,iridescence:Se,iridescenceMap:Mt,iridescenceThicknessMap:at,sheen:De,sheenColorMap:At,sheenRoughnessMap:Pt,specularMap:wt,specularColorMap:Lt,specularIntensityMap:un,transmission:Be,transmissionMap:Oe,thicknessMap:Wt,gradientMap:Vt,opaque:k.transparent===!1&&k.blending===Cx&&k.alphaToCoverage===!1,alphaMap:Xt,alphaTest:It,alphaHash:St,combine:k.combine,mapUv:ke&&v(k.map.channel),aoMapUv:Me&&v(k.aoMap.channel),lightMapUv:Ue&&v(k.lightMap.channel),bumpMapUv:Ge&&v(k.bumpMap.channel),normalMapUv:ut&&v(k.normalMap.channel),displacementMapUv:ve&&v(k.displacementMap.channel),emissiveMapUv:$e&&v(k.emissiveMap.channel),metalnessMapUv:gt&&v(k.metalnessMap.channel),roughnessMapUv:it&&v(k.roughnessMap.channel),anisotropyMapUv:ze&&v(k.anisotropyMap.channel),clearcoatMapUv:kt&&v(k.clearcoatMap.channel),clearcoatNormalMapUv:Et&&v(k.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:zt&&v(k.clearcoatRoughnessMap.channel),iridescenceMapUv:Mt&&v(k.iridescenceMap.channel),iridescenceThicknessMapUv:at&&v(k.iridescenceThicknessMap.channel),sheenColorMapUv:At&&v(k.sheenColorMap.channel),sheenRoughnessMapUv:Pt&&v(k.sheenRoughnessMap.channel),specularMapUv:wt&&v(k.specularMap.channel),specularColorMapUv:Lt&&v(k.specularColorMap.channel),specularIntensityMapUv:un&&v(k.specularIntensityMap.channel),transmissionMapUv:Oe&&v(k.transmissionMap.channel),thicknessMapUv:Wt&&v(k.thicknessMap.channel),alphaMapUv:Xt&&v(k.alphaMap.channel),vertexTangents:!!W.attributes.tangent&&(ut||ot),vertexColors:k.vertexColors,vertexAlphas:k.vertexColors===!0&&!!W.attributes.color&&W.attributes.color.itemSize===4,pointsUvs:j.isPoints===!0&&!!W.attributes.uv&&(ke||Xt),fog:!!H,useFog:k.fog===!0,fogExp2:!!H&&H.isFogExp2,flatShading:k.flatShading===!0&&k.wireframe===!1,sizeAttenuation:k.sizeAttenuation===!0,logarithmicDepthBuffer:f,reversedDepthBuffer:ge,skinning:j.isSkinnedMesh===!0,morphTargets:W.morphAttributes.position!==void 0,morphNormals:W.morphAttributes.normal!==void 0,morphColors:W.morphAttributes.color!==void 0,morphTargetsCount:Y,morphTextureStride:Z,numDirLights:L.directional.length,numPointLights:L.point.length,numSpotLights:L.spot.length,numSpotLightMaps:L.spotLightMap.length,numRectAreaLights:L.rectArea.length,numHemiLights:L.hemi.length,numDirLightShadows:L.directionalShadowMap.length,numPointLightShadows:L.pointShadowMap.length,numSpotLightShadows:L.spotShadowMap.length,numSpotLightShadowsWithMaps:L.numSpotLightShadowsWithMaps,numLightProbes:L.numLightProbes,numClippingPlanes:o.numPlanes,numClipIntersection:o.numIntersection,dithering:k.dithering,shadowMapEnabled:t.shadowMap.enabled&&$.length>0,shadowMapType:t.shadowMap.type,toneMapping:ct,decodeVideoTexture:ke&&k.map.isVideoTexture===!0&&Ri.getTransfer(k.map.colorSpace)===as,decodeVideoTextureEmissive:$e&&k.emissiveMap.isVideoTexture===!0&&Ri.getTransfer(k.emissiveMap.colorSpace)===as,premultipliedAlpha:k.premultipliedAlpha,doubleSided:k.side===qg,flipSided:k.side===gd,useDepthPacking:k.depthPacking>=0,depthPacking:k.depthPacking||0,index0AttributeName:k.index0AttributeName,extensionClipCullDistance:qt&&k.extensions.clipCullDistance===!0&&r.has("WEBGL_clip_cull_distance"),extensionMultiDraw:(qt&&k.extensions.multiDraw===!0||we)&&r.has("WEBGL_multi_draw"),rendererExtensionParallelShaderCompile:r.has("KHR_parallel_shader_compile"),customProgramCacheKey:k.customProgramCacheKey()};return Bt.vertexUv1s=u.has(1),Bt.vertexUv2s=u.has(2),Bt.vertexUv3s=u.has(3),u.clear(),Bt}function A(k){const L=[];if(k.shaderID?L.push(k.shaderID):(L.push(k.customVertexShaderID),L.push(k.customFragmentShaderID)),k.defines!==void 0)for(const $ in k.defines)L.push($),L.push(k.defines[$]);return k.isRawShaderMaterial===!1&&(C(L,k),E(L,k),L.push(t.outputColorSpace)),L.push(k.customProgramCacheKey),L.join()}function C(k,L){k.push(L.precision),k.push(L.outputColorSpace),k.push(L.envMapMode),k.push(L.envMapCubeUVHeight),k.push(L.mapUv),k.push(L.alphaMapUv),k.push(L.lightMapUv),k.push(L.aoMapUv),k.push(L.bumpMapUv),k.push(L.normalMapUv),k.push(L.displacementMapUv),k.push(L.emissiveMapUv),k.push(L.metalnessMapUv),k.push(L.roughnessMapUv),k.push(L.anisotropyMapUv),k.push(L.clearcoatMapUv),k.push(L.clearcoatNormalMapUv),k.push(L.clearcoatRoughnessMapUv),k.push(L.iridescenceMapUv),k.push(L.iridescenceThicknessMapUv),k.push(L.sheenColorMapUv),k.push(L.sheenRoughnessMapUv),k.push(L.specularMapUv),k.push(L.specularColorMapUv),k.push(L.specularIntensityMapUv),k.push(L.transmissionMapUv),k.push(L.thicknessMapUv),k.push(L.combine),k.push(L.fogExp2),k.push(L.sizeAttenuation),k.push(L.morphTargetsCount),k.push(L.morphAttributeCount),k.push(L.numDirLights),k.push(L.numPointLights),k.push(L.numSpotLights),k.push(L.numSpotLightMaps),k.push(L.numHemiLights),k.push(L.numRectAreaLights),k.push(L.numDirLightShadows),k.push(L.numPointLightShadows),k.push(L.numSpotLightShadows),k.push(L.numSpotLightShadowsWithMaps),k.push(L.numLightProbes),k.push(L.shadowMapType),k.push(L.toneMapping),k.push(L.numClippingPlanes),k.push(L.numClipIntersection),k.push(L.depthPacking)}function E(k,L){a.disableAll(),L.instancing&&a.enable(0),L.instancingColor&&a.enable(1),L.instancingMorph&&a.enable(2),L.matcap&&a.enable(3),L.envMap&&a.enable(4),L.normalMapObjectSpace&&a.enable(5),L.normalMapTangentSpace&&a.enable(6),L.clearcoat&&a.enable(7),L.iridescence&&a.enable(8),L.alphaTest&&a.enable(9),L.vertexColors&&a.enable(10),L.vertexAlphas&&a.enable(11),L.vertexUv1s&&a.enable(12),L.vertexUv2s&&a.enable(13),L.vertexUv3s&&a.enable(14),L.vertexTangents&&a.enable(15),L.anisotropy&&a.enable(16),L.alphaHash&&a.enable(17),L.batching&&a.enable(18),L.dispersion&&a.enable(19),L.batchingColor&&a.enable(20),L.gradientMap&&a.enable(21),k.push(a.mask),a.disableAll(),L.fog&&a.enable(0),L.useFog&&a.enable(1),L.flatShading&&a.enable(2),L.logarithmicDepthBuffer&&a.enable(3),L.reversedDepthBuffer&&a.enable(4),L.skinning&&a.enable(5),L.morphTargets&&a.enable(6),L.morphNormals&&a.enable(7),L.morphColors&&a.enable(8),L.premultipliedAlpha&&a.enable(9),L.shadowMapEnabled&&a.enable(10),L.doubleSided&&a.enable(11),L.flipSided&&a.enable(12),L.useDepthPacking&&a.enable(13),L.dithering&&a.enable(14),L.transmission&&a.enable(15),L.sheen&&a.enable(16),L.opaque&&a.enable(17),L.pointsUvs&&a.enable(18),L.decodeVideoTexture&&a.enable(19),L.decodeVideoTextureEmissive&&a.enable(20),L.alphaToCoverage&&a.enable(21),k.push(a.mask)}function I(k){const L=m[k.type];let $;if(L){const z=Gg[L];$=Fx.clone(z.uniforms)}else $=k.uniforms;return $}function D(k,L){let $=d.get(L);return $!==void 0?++$.usedTimes:($=new D_e(t,L,k,s),c.push($),d.set(L,$)),$}function T(k){if(--k.usedTimes===0){const L=c.indexOf(k);c[L]=c[c.length-1],c.pop(),d.delete(k.cacheKey),k.destroy()}}function M(k){l.remove(k)}function P(){l.dispose()}return{getParameters:y,getProgramCacheKey:A,getUniforms:I,acquireProgram:D,releaseProgram:T,releaseShaderCache:M,programs:c,dispose:P}}function R_e(){let t=new WeakMap;function e(o){return t.has(o)}function n(o){let a=t.get(o);return a===void 0&&(a={},t.set(o,a)),a}function r(o){t.delete(o)}function i(o,a,l){t.get(o)[a]=l}function s(){t=new WeakMap}return{has:e,get:n,remove:r,update:i,dispose:s}}function N_e(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.material.id!==e.material.id?t.material.id-e.material.id:t.z!==e.z?t.z-e.z:t.id-e.id}function WO(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.z!==e.z?e.z-t.z:t.id-e.id}function qO(){const t=[];let e=0;const n=[],r=[],i=[];function s(){e=0,n.length=0,r.length=0,i.length=0}function o(d,f,p,m,v,y){let A=t[e];return A===void 0?(A={id:d.id,object:d,geometry:f,material:p,groupOrder:m,renderOrder:d.renderOrder,z:v,group:y},t[e]=A):(A.id=d.id,A.object=d,A.geometry=f,A.material=p,A.groupOrder=m,A.renderOrder=d.renderOrder,A.z=v,A.group=y),e++,A}function a(d,f,p,m,v,y){const A=o(d,f,p,m,v,y);p.transmission>0?r.push(A):p.transparent===!0?i.push(A):n.push(A)}function l(d,f,p,m,v,y){const A=o(d,f,p,m,v,y);p.transmission>0?r.unshift(A):p.transparent===!0?i.unshift(A):n.unshift(A)}function u(d,f){n.length>1&&n.sort(d||N_e),r.length>1&&r.sort(f||WO),i.length>1&&i.sort(f||WO)}function c(){for(let d=e,f=t.length;d<f;d++){const p=t[d];if(p.id===null)break;p.id=null,p.object=null,p.geometry=null,p.material=null,p.group=null}}return{opaque:n,transmissive:r,transparent:i,init:s,push:a,unshift:l,finish:c,sort:u}}function L_e(){let t=new WeakMap;function e(r,i){const s=t.get(r);let o;return s===void 0?(o=new qO,t.set(r,[o])):i>=s.length?(o=new qO,s.push(o)):o=s[i],o}function n(){t=new WeakMap}return{get:e,dispose:n}}function F_e(){const t={};return{get:function(e){if(t[e.id]!==void 0)return t[e.id];let n;switch(e.type){case"DirectionalLight":n={direction:new rt,color:new Gr};break;case"SpotLight":n={position:new rt,direction:new rt,color:new Gr,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":n={position:new rt,color:new Gr,distance:0,decay:0};break;case"HemisphereLight":n={direction:new rt,skyColor:new Gr,groundColor:new Gr};break;case"RectAreaLight":n={color:new Gr,position:new rt,halfWidth:new rt,halfHeight:new rt};break}return t[e.id]=n,n}}}function $_e(){const t={};return{get:function(e){if(t[e.id]!==void 0)return t[e.id];let n;switch(e.type){case"DirectionalLight":n={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Er};break;case"SpotLight":n={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Er};break;case"PointLight":n={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Er,shadowCameraNear:1,shadowCameraFar:1e3};break}return t[e.id]=n,n}}}let z_e=0;function O_e(t,e){return(e.castShadow?2:0)-(t.castShadow?2:0)+(e.map?1:0)-(t.map?1:0)}function j_e(t){const e=new F_e,n=$_e(),r={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1,numLightProbes:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0,numLightProbes:0};for(let u=0;u<9;u++)r.probe.push(new rt);const i=new rt,s=new fo,o=new fo;function a(u){let c=0,d=0,f=0;for(let k=0;k<9;k++)r.probe[k].set(0,0,0);let p=0,m=0,v=0,y=0,A=0,C=0,E=0,I=0,D=0,T=0,M=0;u.sort(O_e);for(let k=0,L=u.length;k<L;k++){const $=u[k],z=$.color,j=$.intensity,H=$.distance;let W=null;if($.shadow&&$.shadow.map&&($.shadow.map.texture.format===IE?W=$.shadow.map.texture:W=$.shadow.map.depthTexture||$.shadow.map.texture),$.isAmbientLight)c+=z.r*j,d+=z.g*j,f+=z.b*j;else if($.isLightProbe){for(let O=0;O<9;O++)r.probe[O].addScaledVector($.sh.coefficients[O],j);M++}else if($.isDirectionalLight){const O=e.get($);if(O.color.copy($.color).multiplyScalar($.intensity),$.castShadow){const G=$.shadow,q=n.get($);q.shadowIntensity=G.intensity,q.shadowBias=G.bias,q.shadowNormalBias=G.normalBias,q.shadowRadius=G.radius,q.shadowMapSize=G.mapSize,r.directionalShadow[p]=q,r.directionalShadowMap[p]=W,r.directionalShadowMatrix[p]=$.shadow.matrix,C++}r.directional[p]=O,p++}else if($.isSpotLight){const O=e.get($);O.position.setFromMatrixPosition($.matrixWorld),O.color.copy(z).multiplyScalar(j),O.distance=H,O.coneCos=Math.cos($.angle),O.penumbraCos=Math.cos($.angle*(1-$.penumbra)),O.decay=$.decay,r.spot[v]=O;const G=$.shadow;if($.map&&(r.spotLightMap[D]=$.map,D++,G.updateMatrices($),$.castShadow&&T++),r.spotLightMatrix[v]=G.matrix,$.castShadow){const q=n.get($);q.shadowIntensity=G.intensity,q.shadowBias=G.bias,q.shadowNormalBias=G.normalBias,q.shadowRadius=G.radius,q.shadowMapSize=G.mapSize,r.spotShadow[v]=q,r.spotShadowMap[v]=W,I++}v++}else if($.isRectAreaLight){const O=e.get($);O.color.copy(z).multiplyScalar(j),O.halfWidth.set($.width*.5,0,0),O.halfHeight.set(0,$.height*.5,0),r.rectArea[y]=O,y++}else if($.isPointLight){const O=e.get($);if(O.color.copy($.color).multiplyScalar($.intensity),O.distance=$.distance,O.decay=$.decay,$.castShadow){const G=$.shadow,q=n.get($);q.shadowIntensity=G.intensity,q.shadowBias=G.bias,q.shadowNormalBias=G.normalBias,q.shadowRadius=G.radius,q.shadowMapSize=G.mapSize,q.shadowCameraNear=G.camera.near,q.shadowCameraFar=G.camera.far,r.pointShadow[m]=q,r.pointShadowMap[m]=W,r.pointShadowMatrix[m]=$.shadow.matrix,E++}r.point[m]=O,m++}else if($.isHemisphereLight){const O=e.get($);O.skyColor.copy($.color).multiplyScalar(j),O.groundColor.copy($.groundColor).multiplyScalar(j),r.hemi[A]=O,A++}}y>0&&(t.has("OES_texture_float_linear")===!0?(r.rectAreaLTC1=An.LTC_FLOAT_1,r.rectAreaLTC2=An.LTC_FLOAT_2):(r.rectAreaLTC1=An.LTC_HALF_1,r.rectAreaLTC2=An.LTC_HALF_2)),r.ambient[0]=c,r.ambient[1]=d,r.ambient[2]=f;const P=r.hash;(P.directionalLength!==p||P.pointLength!==m||P.spotLength!==v||P.rectAreaLength!==y||P.hemiLength!==A||P.numDirectionalShadows!==C||P.numPointShadows!==E||P.numSpotShadows!==I||P.numSpotMaps!==D||P.numLightProbes!==M)&&(r.directional.length=p,r.spot.length=v,r.rectArea.length=y,r.point.length=m,r.hemi.length=A,r.directionalShadow.length=C,r.directionalShadowMap.length=C,r.pointShadow.length=E,r.pointShadowMap.length=E,r.spotShadow.length=I,r.spotShadowMap.length=I,r.directionalShadowMatrix.length=C,r.pointShadowMatrix.length=E,r.spotLightMatrix.length=I+D-T,r.spotLightMap.length=D,r.numSpotLightShadowsWithMaps=T,r.numLightProbes=M,P.directionalLength=p,P.pointLength=m,P.spotLength=v,P.rectAreaLength=y,P.hemiLength=A,P.numDirectionalShadows=C,P.numPointShadows=E,P.numSpotShadows=I,P.numSpotMaps=D,P.numLightProbes=M,r.version=z_e++)}function l(u,c){let d=0,f=0,p=0,m=0,v=0;const y=c.matrixWorldInverse;for(let A=0,C=u.length;A<C;A++){const E=u[A];if(E.isDirectionalLight){const I=r.directional[d];I.direction.setFromMatrixPosition(E.matrixWorld),i.setFromMatrixPosition(E.target.matrixWorld),I.direction.sub(i),I.direction.transformDirection(y),d++}else if(E.isSpotLight){const I=r.spot[p];I.position.setFromMatrixPosition(E.matrixWorld),I.position.applyMatrix4(y),I.direction.setFromMatrixPosition(E.matrixWorld),i.setFromMatrixPosition(E.target.matrixWorld),I.direction.sub(i),I.direction.transformDirection(y),p++}else if(E.isRectAreaLight){const I=r.rectArea[m];I.position.setFromMatrixPosition(E.matrixWorld),I.position.applyMatrix4(y),o.identity(),s.copy(E.matrixWorld),s.premultiply(y),o.extractRotation(s),I.halfWidth.set(E.width*.5,0,0),I.halfHeight.set(0,E.height*.5,0),I.halfWidth.applyMatrix4(o),I.halfHeight.applyMatrix4(o),m++}else if(E.isPointLight){const I=r.point[f];I.position.setFromMatrixPosition(E.matrixWorld),I.position.applyMatrix4(y),f++}else if(E.isHemisphereLight){const I=r.hemi[v];I.direction.setFromMatrixPosition(E.matrixWorld),I.direction.transformDirection(y),v++}}}return{setup:a,setupView:l,state:r}}function YO(t){const e=new j_e(t),n=[],r=[];function i(c){u.camera=c,n.length=0,r.length=0}function s(c){n.push(c)}function o(c){r.push(c)}function a(){e.setup(n)}function l(c){e.setupView(n,c)}const u={lightsArray:n,shadowsArray:r,camera:null,lights:e,transmissionRenderTarget:{}};return{init:i,state:u,setupLights:a,setupLightsView:l,pushLight:s,pushShadow:o}}function Q_e(t){let e=new WeakMap;function n(i,s=0){const o=e.get(i);let a;return o===void 0?(a=new YO(t),e.set(i,[a])):s>=o.length?(a=new YO(t),o.push(a)):a=o[s],a}function r(){e=new WeakMap}return{get:n,dispose:r}}const U_e=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,H_e=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ).rg;
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ).r;
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( max( 0.0, squared_mean - mean * mean ) );
	gl_FragColor = vec4( mean, std_dev, 0.0, 1.0 );
}`,V_e=[new rt(1,0,0),new rt(-1,0,0),new rt(0,1,0),new rt(0,-1,0),new rt(0,0,1),new rt(0,0,-1)],G_e=[new rt(0,-1,0),new rt(0,-1,0),new rt(0,0,1),new rt(0,0,-1),new rt(0,-1,0),new rt(0,-1,0)],XO=new fo,sw=new rt,O5=new rt;function K_e(t,e,n){let r=new aJ;const i=new Er,s=new Er,o=new sa,a=new u1e,l=new c1e,u={},c=n.maxTextureSize,d={[Jy]:gd,[gd]:Jy,[qg]:qg},f=new No({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new Er},radius:{value:4}},vertexShader:U_e,fragmentShader:H_e}),p=f.clone();p.defines.HORIZONTAL_PASS=1;const m=new Dc;m.setAttribute("position",new mr(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const v=new bf(m,f),y=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=vB;let A=this.type;this.render=function(T,M,P){if(y.enabled===!1||y.autoUpdate===!1&&y.needsUpdate===!1||T.length===0)return;T.type===eCe&&(Tr("WebGLShadowMap: PCFSoftShadowMap has been deprecated. Using PCFShadowMap instead."),T.type=vB);const k=t.getRenderTarget(),L=t.getActiveCubeFace(),$=t.getActiveMipmapLevel(),z=t.state;z.setBlending(Lp),z.buffers.depth.getReversed()===!0?z.buffers.color.setClear(0,0,0,0):z.buffers.color.setClear(1,1,1,1),z.buffers.depth.setTest(!0),z.setScissorTest(!1);const j=A!==this.type;j&&M.traverse(function(H){H.material&&(Array.isArray(H.material)?H.material.forEach(W=>W.needsUpdate=!0):H.material.needsUpdate=!0)});for(let H=0,W=T.length;H<W;H++){const O=T[H],G=O.shadow;if(G===void 0){Tr("WebGLShadowMap:",O,"has no shadow.");continue}if(G.autoUpdate===!1&&G.needsUpdate===!1)continue;i.copy(G.mapSize);const q=G.getFrameExtents();if(i.multiply(q),s.copy(G.mapSize),(i.x>c||i.y>c)&&(i.x>c&&(s.x=Math.floor(c/q.x),i.x=s.x*q.x,G.mapSize.x=s.x),i.y>c&&(s.y=Math.floor(c/q.y),i.y=s.y*q.y,G.mapSize.y=s.y)),G.map===null||j===!0){if(G.map!==null&&(G.map.depthTexture!==null&&(G.map.depthTexture.dispose(),G.map.depthTexture=null),G.map.dispose()),this.type===Uw){if(O.isPointLight){Tr("WebGLShadowMap: VSM shadow maps are not supported for PointLights. Use PCF or BasicShadowMap instead.");continue}G.map=new Ou(i.x,i.y,{format:IE,type:Ic,minFilter:Wo,magFilter:Wo,generateMipmaps:!1}),G.map.texture.name=O.name+".shadowMap",G.map.depthTexture=new X_(i.x,i.y,cf),G.map.depthTexture.name=O.name+".shadowMapDepth",G.map.depthTexture.format=F0,G.map.depthTexture.compareFunction=null,G.map.depthTexture.minFilter=rl,G.map.depthTexture.magFilter=rl}else{O.isPointLight?(G.map=new oJ(i.x),G.map.depthTexture=new l1e(i.x,sm)):(G.map=new Ou(i.x,i.y),G.map.depthTexture=new X_(i.x,i.y,sm)),G.map.depthTexture.name=O.name+".shadowMap",G.map.depthTexture.format=F0;const te=t.state.buffers.depth.getReversed();this.type===vB?(G.map.depthTexture.compareFunction=te?UF:QF,G.map.depthTexture.minFilter=Wo,G.map.depthTexture.magFilter=Wo):(G.map.depthTexture.compareFunction=null,G.map.depthTexture.minFilter=rl,G.map.depthTexture.magFilter=rl)}G.camera.updateProjectionMatrix()}const J=G.map.isWebGLCubeRenderTarget?6:1;for(let te=0;te<J;te++){if(G.map.isWebGLCubeRenderTarget)t.setRenderTarget(G.map,te),t.clear();else{te===0&&(t.setRenderTarget(G.map),t.clear());const Y=G.getViewport(te);o.set(s.x*Y.x,s.y*Y.y,s.x*Y.z,s.y*Y.w),z.viewport(o)}if(O.isPointLight){const Y=G.camera,Z=G.matrix,ee=O.distance||Y.far;ee!==Y.far&&(Y.far=ee,Y.updateProjectionMatrix()),sw.setFromMatrixPosition(O.matrixWorld),Y.position.copy(sw),O5.copy(Y.position),O5.add(V_e[te]),Y.up.copy(G_e[te]),Y.lookAt(O5),Y.updateMatrixWorld(),Z.makeTranslation(-sw.x,-sw.y,-sw.z),XO.multiplyMatrices(Y.projectionMatrix,Y.matrixWorldInverse),G._frustum.setFromProjectionMatrix(XO,Y.coordinateSystem,Y.reversedDepth)}else G.updateMatrices(O);r=G.getFrustum(),I(M,P,G.camera,O,this.type)}G.isPointLightShadow!==!0&&this.type===Uw&&C(G,P),G.needsUpdate=!1}A=this.type,y.needsUpdate=!1,t.setRenderTarget(k,L,$)};function C(T,M){const P=e.update(v);f.defines.VSM_SAMPLES!==T.blurSamples&&(f.defines.VSM_SAMPLES=T.blurSamples,p.defines.VSM_SAMPLES=T.blurSamples,f.needsUpdate=!0,p.needsUpdate=!0),T.mapPass===null&&(T.mapPass=new Ou(i.x,i.y,{format:IE,type:Ic})),f.uniforms.shadow_pass.value=T.map.depthTexture,f.uniforms.resolution.value=T.mapSize,f.uniforms.radius.value=T.radius,t.setRenderTarget(T.mapPass),t.clear(),t.renderBufferDirect(M,null,P,f,v,null),p.uniforms.shadow_pass.value=T.mapPass.texture,p.uniforms.resolution.value=T.mapSize,p.uniforms.radius.value=T.radius,t.setRenderTarget(T.map),t.clear(),t.renderBufferDirect(M,null,P,p,v,null)}function E(T,M,P,k){let L=null;const $=P.isPointLight===!0?T.customDistanceMaterial:T.customDepthMaterial;if($!==void 0)L=$;else if(L=P.isPointLight===!0?l:a,t.localClippingEnabled&&M.clipShadows===!0&&Array.isArray(M.clippingPlanes)&&M.clippingPlanes.length!==0||M.displacementMap&&M.displacementScale!==0||M.alphaMap&&M.alphaTest>0||M.map&&M.alphaTest>0||M.alphaToCoverage===!0){const z=L.uuid,j=M.uuid;let H=u[z];H===void 0&&(H={},u[z]=H);let W=H[j];W===void 0&&(W=L.clone(),H[j]=W,M.addEventListener("dispose",D)),L=W}if(L.visible=M.visible,L.wireframe=M.wireframe,k===Uw?L.side=M.shadowSide!==null?M.shadowSide:M.side:L.side=M.shadowSide!==null?M.shadowSide:d[M.side],L.alphaMap=M.alphaMap,L.alphaTest=M.alphaToCoverage===!0?.5:M.alphaTest,L.map=M.map,L.clipShadows=M.clipShadows,L.clippingPlanes=M.clippingPlanes,L.clipIntersection=M.clipIntersection,L.displacementMap=M.displacementMap,L.displacementScale=M.displacementScale,L.displacementBias=M.displacementBias,L.wireframeLinewidth=M.wireframeLinewidth,L.linewidth=M.linewidth,P.isPointLight===!0&&L.isMeshDistanceMaterial===!0){const z=t.properties.get(L);z.light=P}return L}function I(T,M,P,k,L){if(T.visible===!1)return;if(T.layers.test(M.layers)&&(T.isMesh||T.isLine||T.isPoints)&&(T.castShadow||T.receiveShadow&&L===Uw)&&(!T.frustumCulled||r.intersectsObject(T))){T.modelViewMatrix.multiplyMatrices(P.matrixWorldInverse,T.matrixWorld);const j=e.update(T),H=T.material;if(Array.isArray(H)){const W=j.groups;for(let O=0,G=W.length;O<G;O++){const q=W[O],J=H[q.materialIndex];if(J&&J.visible){const te=E(T,J,k,L);T.onBeforeShadow(t,T,M,P,j,te,q),t.renderBufferDirect(P,null,j,te,T,q),T.onAfterShadow(t,T,M,P,j,te,q)}}}else if(H.visible){const W=E(T,H,k,L);T.onBeforeShadow(t,T,M,P,j,W,null),t.renderBufferDirect(P,null,j,W,T,null),T.onAfterShadow(t,T,M,P,j,W,null)}}const z=T.children;for(let j=0,H=z.length;j<H;j++)I(z[j],M,P,k,L)}function D(T){T.target.removeEventListener("dispose",D);for(const P in u){const k=u[P],L=T.target.uuid;L in k&&(k[L].dispose(),delete k[L])}}}const W_e={[GN]:KN,[WN]:XN,[qN]:JN,[wE]:YN,[KN]:GN,[XN]:WN,[JN]:qN,[YN]:wE};function q_e(t,e){function n(){let Oe=!1;const Wt=new sa;let Vt=null;const Xt=new sa(0,0,0,0);return{setMask:function(It){Vt!==It&&!Oe&&(t.colorMask(It,It,It,It),Vt=It)},setLocked:function(It){Oe=It},setClear:function(It,St,qt,ct,Bt){Bt===!0&&(It*=ct,St*=ct,qt*=ct),Wt.set(It,St,qt,ct),Xt.equals(Wt)===!1&&(t.clearColor(It,St,qt,ct),Xt.copy(Wt))},reset:function(){Oe=!1,Vt=null,Xt.set(-1,0,0,0)}}}function r(){let Oe=!1,Wt=!1,Vt=null,Xt=null,It=null;return{setReversed:function(St){if(Wt!==St){const qt=e.get("EXT_clip_control");St?qt.clipControlEXT(qt.LOWER_LEFT_EXT,qt.ZERO_TO_ONE_EXT):qt.clipControlEXT(qt.LOWER_LEFT_EXT,qt.NEGATIVE_ONE_TO_ONE_EXT),Wt=St;const ct=It;It=null,this.setClear(ct)}},getReversed:function(){return Wt},setTest:function(St){St?de(t.DEPTH_TEST):ge(t.DEPTH_TEST)},setMask:function(St){Vt!==St&&!Oe&&(t.depthMask(St),Vt=St)},setFunc:function(St){if(Wt&&(St=W_e[St]),Xt!==St){switch(St){case GN:t.depthFunc(t.NEVER);break;case KN:t.depthFunc(t.ALWAYS);break;case WN:t.depthFunc(t.LESS);break;case wE:t.depthFunc(t.LEQUAL);break;case qN:t.depthFunc(t.EQUAL);break;case YN:t.depthFunc(t.GEQUAL);break;case XN:t.depthFunc(t.GREATER);break;case JN:t.depthFunc(t.NOTEQUAL);break;default:t.depthFunc(t.LEQUAL)}Xt=St}},setLocked:function(St){Oe=St},setClear:function(St){It!==St&&(Wt&&(St=1-St),t.clearDepth(St),It=St)},reset:function(){Oe=!1,Vt=null,Xt=null,It=null,Wt=!1}}}function i(){let Oe=!1,Wt=null,Vt=null,Xt=null,It=null,St=null,qt=null,ct=null,Bt=null;return{setTest:function(Rt){Oe||(Rt?de(t.STENCIL_TEST):ge(t.STENCIL_TEST))},setMask:function(Rt){Wt!==Rt&&!Oe&&(t.stencilMask(Rt),Wt=Rt)},setFunc:function(Rt,Ht,Vn){(Vt!==Rt||Xt!==Ht||It!==Vn)&&(t.stencilFunc(Rt,Ht,Vn),Vt=Rt,Xt=Ht,It=Vn)},setOp:function(Rt,Ht,Vn){(St!==Rt||qt!==Ht||ct!==Vn)&&(t.stencilOp(Rt,Ht,Vn),St=Rt,qt=Ht,ct=Vn)},setLocked:function(Rt){Oe=Rt},setClear:function(Rt){Bt!==Rt&&(t.clearStencil(Rt),Bt=Rt)},reset:function(){Oe=!1,Wt=null,Vt=null,Xt=null,It=null,St=null,qt=null,ct=null,Bt=null}}}const s=new n,o=new r,a=new i,l=new WeakMap,u=new WeakMap;let c={},d={},f=new WeakMap,p=[],m=null,v=!1,y=null,A=null,C=null,E=null,I=null,D=null,T=null,M=new Gr(0,0,0),P=0,k=!1,L=null,$=null,z=null,j=null,H=null;const W=t.getParameter(t.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let O=!1,G=0;const q=t.getParameter(t.VERSION);q.indexOf("WebGL")!==-1?(G=parseFloat(/^WebGL (\d)/.exec(q)[1]),O=G>=1):q.indexOf("OpenGL ES")!==-1&&(G=parseFloat(/^OpenGL ES (\d)/.exec(q)[1]),O=G>=2);let J=null,te={};const Y=t.getParameter(t.SCISSOR_BOX),Z=t.getParameter(t.VIEWPORT),ee=new sa().fromArray(Y),ie=new sa().fromArray(Z);function ue(Oe,Wt,Vt,Xt){const It=new Uint8Array(4),St=t.createTexture();t.bindTexture(Oe,St),t.texParameteri(Oe,t.TEXTURE_MIN_FILTER,t.NEAREST),t.texParameteri(Oe,t.TEXTURE_MAG_FILTER,t.NEAREST);for(let qt=0;qt<Vt;qt++)Oe===t.TEXTURE_3D||Oe===t.TEXTURE_2D_ARRAY?t.texImage3D(Wt,0,t.RGBA,1,1,Xt,0,t.RGBA,t.UNSIGNED_BYTE,It):t.texImage2D(Wt+qt,0,t.RGBA,1,1,0,t.RGBA,t.UNSIGNED_BYTE,It);return St}const ae={};ae[t.TEXTURE_2D]=ue(t.TEXTURE_2D,t.TEXTURE_2D,1),ae[t.TEXTURE_CUBE_MAP]=ue(t.TEXTURE_CUBE_MAP,t.TEXTURE_CUBE_MAP_POSITIVE_X,6),ae[t.TEXTURE_2D_ARRAY]=ue(t.TEXTURE_2D_ARRAY,t.TEXTURE_2D_ARRAY,1,1),ae[t.TEXTURE_3D]=ue(t.TEXTURE_3D,t.TEXTURE_3D,1,1),s.setClear(0,0,0,1),o.setClear(1),a.setClear(0),de(t.DEPTH_TEST),o.setFunc(wE),Ge(!1),ut(eO),de(t.CULL_FACE),Me(Lp);function de(Oe){c[Oe]!==!0&&(t.enable(Oe),c[Oe]=!0)}function ge(Oe){c[Oe]!==!1&&(t.disable(Oe),c[Oe]=!1)}function _e(Oe,Wt){return d[Oe]!==Wt?(t.bindFramebuffer(Oe,Wt),d[Oe]=Wt,Oe===t.DRAW_FRAMEBUFFER&&(d[t.FRAMEBUFFER]=Wt),Oe===t.FRAMEBUFFER&&(d[t.DRAW_FRAMEBUFFER]=Wt),!0):!1}function we(Oe,Wt){let Vt=p,Xt=!1;if(Oe){Vt=f.get(Wt),Vt===void 0&&(Vt=[],f.set(Wt,Vt));const It=Oe.textures;if(Vt.length!==It.length||Vt[0]!==t.COLOR_ATTACHMENT0){for(let St=0,qt=It.length;St<qt;St++)Vt[St]=t.COLOR_ATTACHMENT0+St;Vt.length=It.length,Xt=!0}}else Vt[0]!==t.BACK&&(Vt[0]=t.BACK,Xt=!0);Xt&&t.drawBuffers(Vt)}function ke(Oe){return m!==Oe?(t.useProgram(Oe),m=Oe,!0):!1}const Fe={[ex]:t.FUNC_ADD,[nCe]:t.FUNC_SUBTRACT,[rCe]:t.FUNC_REVERSE_SUBTRACT};Fe[iCe]=t.MIN,Fe[sCe]=t.MAX;const Ee={[oCe]:t.ZERO,[aCe]:t.ONE,[lCe]:t.SRC_COLOR,[HN]:t.SRC_ALPHA,[pCe]:t.SRC_ALPHA_SATURATE,[hCe]:t.DST_COLOR,[cCe]:t.DST_ALPHA,[uCe]:t.ONE_MINUS_SRC_COLOR,[VN]:t.ONE_MINUS_SRC_ALPHA,[fCe]:t.ONE_MINUS_DST_COLOR,[dCe]:t.ONE_MINUS_DST_ALPHA,[gCe]:t.CONSTANT_COLOR,[mCe]:t.ONE_MINUS_CONSTANT_COLOR,[ACe]:t.CONSTANT_ALPHA,[yCe]:t.ONE_MINUS_CONSTANT_ALPHA};function Me(Oe,Wt,Vt,Xt,It,St,qt,ct,Bt,Rt){if(Oe===Lp){v===!0&&(ge(t.BLEND),v=!1);return}if(v===!1&&(de(t.BLEND),v=!0),Oe!==tCe){if(Oe!==y||Rt!==k){if((A!==ex||I!==ex)&&(t.blendEquation(t.FUNC_ADD),A=ex,I=ex),Rt)switch(Oe){case Cx:t.blendFuncSeparate(t.ONE,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA);break;case Nx:t.blendFunc(t.ONE,t.ONE);break;case tO:t.blendFuncSeparate(t.ZERO,t.ONE_MINUS_SRC_COLOR,t.ZERO,t.ONE);break;case nO:t.blendFuncSeparate(t.DST_COLOR,t.ONE_MINUS_SRC_ALPHA,t.ZERO,t.ONE);break;default:Xi("WebGLState: Invalid blending: ",Oe);break}else switch(Oe){case Cx:t.blendFuncSeparate(t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA);break;case Nx:t.blendFuncSeparate(t.SRC_ALPHA,t.ONE,t.ONE,t.ONE);break;case tO:Xi("WebGLState: SubtractiveBlending requires material.premultipliedAlpha = true");break;case nO:Xi("WebGLState: MultiplyBlending requires material.premultipliedAlpha = true");break;default:Xi("WebGLState: Invalid blending: ",Oe);break}C=null,E=null,D=null,T=null,M.set(0,0,0),P=0,y=Oe,k=Rt}return}It=It||Wt,St=St||Vt,qt=qt||Xt,(Wt!==A||It!==I)&&(t.blendEquationSeparate(Fe[Wt],Fe[It]),A=Wt,I=It),(Vt!==C||Xt!==E||St!==D||qt!==T)&&(t.blendFuncSeparate(Ee[Vt],Ee[Xt],Ee[St],Ee[qt]),C=Vt,E=Xt,D=St,T=qt),(ct.equals(M)===!1||Bt!==P)&&(t.blendColor(ct.r,ct.g,ct.b,Bt),M.copy(ct),P=Bt),y=Oe,k=!1}function Ue(Oe,Wt){Oe.side===qg?ge(t.CULL_FACE):de(t.CULL_FACE);let Vt=Oe.side===gd;Wt&&(Vt=!Vt),Ge(Vt),Oe.blending===Cx&&Oe.transparent===!1?Me(Lp):Me(Oe.blending,Oe.blendEquation,Oe.blendSrc,Oe.blendDst,Oe.blendEquationAlpha,Oe.blendSrcAlpha,Oe.blendDstAlpha,Oe.blendColor,Oe.blendAlpha,Oe.premultipliedAlpha),o.setFunc(Oe.depthFunc),o.setTest(Oe.depthTest),o.setMask(Oe.depthWrite),s.setMask(Oe.colorWrite);const Xt=Oe.stencilWrite;a.setTest(Xt),Xt&&(a.setMask(Oe.stencilWriteMask),a.setFunc(Oe.stencilFunc,Oe.stencilRef,Oe.stencilFuncMask),a.setOp(Oe.stencilFail,Oe.stencilZFail,Oe.stencilZPass)),$e(Oe.polygonOffset,Oe.polygonOffsetFactor,Oe.polygonOffsetUnits),Oe.alphaToCoverage===!0?de(t.SAMPLE_ALPHA_TO_COVERAGE):ge(t.SAMPLE_ALPHA_TO_COVERAGE)}function Ge(Oe){L!==Oe&&(Oe?t.frontFace(t.CW):t.frontFace(t.CCW),L=Oe)}function ut(Oe){Oe!==Jxe?(de(t.CULL_FACE),Oe!==$&&(Oe===eO?t.cullFace(t.BACK):Oe===Zxe?t.cullFace(t.FRONT):t.cullFace(t.FRONT_AND_BACK))):ge(t.CULL_FACE),$=Oe}function ve(Oe){Oe!==z&&(O&&t.lineWidth(Oe),z=Oe)}function $e(Oe,Wt,Vt){Oe?(de(t.POLYGON_OFFSET_FILL),(j!==Wt||H!==Vt)&&(t.polygonOffset(Wt,Vt),j=Wt,H=Vt)):ge(t.POLYGON_OFFSET_FILL)}function gt(Oe){Oe?de(t.SCISSOR_TEST):ge(t.SCISSOR_TEST)}function it(Oe){Oe===void 0&&(Oe=t.TEXTURE0+W-1),J!==Oe&&(t.activeTexture(Oe),J=Oe)}function ot(Oe,Wt,Vt){Vt===void 0&&(J===null?Vt=t.TEXTURE0+W-1:Vt=J);let Xt=te[Vt];Xt===void 0&&(Xt={type:void 0,texture:void 0},te[Vt]=Xt),(Xt.type!==Oe||Xt.texture!==Wt)&&(J!==Vt&&(t.activeTexture(Vt),J=Vt),t.bindTexture(Oe,Wt||ae[Oe]),Xt.type=Oe,Xt.texture=Wt)}function le(){const Oe=te[J];Oe!==void 0&&Oe.type!==void 0&&(t.bindTexture(Oe.type,null),Oe.type=void 0,Oe.texture=void 0)}function se(){try{t.compressedTexImage2D(...arguments)}catch(Oe){Xi("WebGLState:",Oe)}}function Se(){try{t.compressedTexImage3D(...arguments)}catch(Oe){Xi("WebGLState:",Oe)}}function De(){try{t.texSubImage2D(...arguments)}catch(Oe){Xi("WebGLState:",Oe)}}function Be(){try{t.texSubImage3D(...arguments)}catch(Oe){Xi("WebGLState:",Oe)}}function ze(){try{t.compressedTexSubImage2D(...arguments)}catch(Oe){Xi("WebGLState:",Oe)}}function kt(){try{t.compressedTexSubImage3D(...arguments)}catch(Oe){Xi("WebGLState:",Oe)}}function Et(){try{t.texStorage2D(...arguments)}catch(Oe){Xi("WebGLState:",Oe)}}function zt(){try{t.texStorage3D(...arguments)}catch(Oe){Xi("WebGLState:",Oe)}}function Mt(){try{t.texImage2D(...arguments)}catch(Oe){Xi("WebGLState:",Oe)}}function at(){try{t.texImage3D(...arguments)}catch(Oe){Xi("WebGLState:",Oe)}}function At(Oe){ee.equals(Oe)===!1&&(t.scissor(Oe.x,Oe.y,Oe.z,Oe.w),ee.copy(Oe))}function Pt(Oe){ie.equals(Oe)===!1&&(t.viewport(Oe.x,Oe.y,Oe.z,Oe.w),ie.copy(Oe))}function wt(Oe,Wt){let Vt=u.get(Wt);Vt===void 0&&(Vt=new WeakMap,u.set(Wt,Vt));let Xt=Vt.get(Oe);Xt===void 0&&(Xt=t.getUniformBlockIndex(Wt,Oe.name),Vt.set(Oe,Xt))}function Lt(Oe,Wt){const Xt=u.get(Wt).get(Oe);l.get(Wt)!==Xt&&(t.uniformBlockBinding(Wt,Xt,Oe.__bindingPointIndex),l.set(Wt,Xt))}function un(){t.disable(t.BLEND),t.disable(t.CULL_FACE),t.disable(t.DEPTH_TEST),t.disable(t.POLYGON_OFFSET_FILL),t.disable(t.SCISSOR_TEST),t.disable(t.STENCIL_TEST),t.disable(t.SAMPLE_ALPHA_TO_COVERAGE),t.blendEquation(t.FUNC_ADD),t.blendFunc(t.ONE,t.ZERO),t.blendFuncSeparate(t.ONE,t.ZERO,t.ONE,t.ZERO),t.blendColor(0,0,0,0),t.colorMask(!0,!0,!0,!0),t.clearColor(0,0,0,0),t.depthMask(!0),t.depthFunc(t.LESS),o.setReversed(!1),t.clearDepth(1),t.stencilMask(4294967295),t.stencilFunc(t.ALWAYS,0,4294967295),t.stencilOp(t.KEEP,t.KEEP,t.KEEP),t.clearStencil(0),t.cullFace(t.BACK),t.frontFace(t.CCW),t.polygonOffset(0,0),t.activeTexture(t.TEXTURE0),t.bindFramebuffer(t.FRAMEBUFFER,null),t.bindFramebuffer(t.DRAW_FRAMEBUFFER,null),t.bindFramebuffer(t.READ_FRAMEBUFFER,null),t.useProgram(null),t.lineWidth(1),t.scissor(0,0,t.canvas.width,t.canvas.height),t.viewport(0,0,t.canvas.width,t.canvas.height),c={},J=null,te={},d={},f=new WeakMap,p=[],m=null,v=!1,y=null,A=null,C=null,E=null,I=null,D=null,T=null,M=new Gr(0,0,0),P=0,k=!1,L=null,$=null,z=null,j=null,H=null,ee.set(0,0,t.canvas.width,t.canvas.height),ie.set(0,0,t.canvas.width,t.canvas.height),s.reset(),o.reset(),a.reset()}return{buffers:{color:s,depth:o,stencil:a},enable:de,disable:ge,bindFramebuffer:_e,drawBuffers:we,useProgram:ke,setBlending:Me,setMaterial:Ue,setFlipSided:Ge,setCullFace:ut,setLineWidth:ve,setPolygonOffset:$e,setScissorTest:gt,activeTexture:it,bindTexture:ot,unbindTexture:le,compressedTexImage2D:se,compressedTexImage3D:Se,texImage2D:Mt,texImage3D:at,updateUBOMapping:wt,uniformBlockBinding:Lt,texStorage2D:Et,texStorage3D:zt,texSubImage2D:De,texSubImage3D:Be,compressedTexSubImage2D:ze,compressedTexSubImage3D:kt,scissor:At,viewport:Pt,reset:un}}function Y_e(t,e,n,r,i,s,o){const a=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,l=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),u=new Er,c=new WeakMap;let d;const f=new WeakMap;let p=!1;try{p=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function m(le,se){return p?new OffscreenCanvas(le,se):YB("canvas")}function v(le,se,Se){let De=1;const Be=ot(le);if((Be.width>Se||Be.height>Se)&&(De=Se/Math.max(Be.width,Be.height)),De<1)if(typeof HTMLImageElement<"u"&&le instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&le instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&le instanceof ImageBitmap||typeof VideoFrame<"u"&&le instanceof VideoFrame){const ze=Math.floor(De*Be.width),kt=Math.floor(De*Be.height);d===void 0&&(d=m(ze,kt));const Et=se?m(ze,kt):d;return Et.width=ze,Et.height=kt,Et.getContext("2d").drawImage(le,0,0,ze,kt),Tr("WebGLRenderer: Texture has been resized from ("+Be.width+"x"+Be.height+") to ("+ze+"x"+kt+")."),Et}else return"data"in le&&Tr("WebGLRenderer: Image in DataTexture is too big ("+Be.width+"x"+Be.height+")."),le;return le}function y(le){return le.generateMipmaps}function A(le){t.generateMipmap(le)}function C(le){return le.isWebGLCubeRenderTarget?t.TEXTURE_CUBE_MAP:le.isWebGL3DRenderTarget?t.TEXTURE_3D:le.isWebGLArrayRenderTarget||le.isCompressedArrayTexture?t.TEXTURE_2D_ARRAY:t.TEXTURE_2D}function E(le,se,Se,De,Be=!1){if(le!==null){if(t[le]!==void 0)return t[le];Tr("WebGLRenderer: Attempt to use non-existing WebGL internal format '"+le+"'")}let ze=se;if(se===t.RED&&(Se===t.FLOAT&&(ze=t.R32F),Se===t.HALF_FLOAT&&(ze=t.R16F),Se===t.UNSIGNED_BYTE&&(ze=t.R8)),se===t.RED_INTEGER&&(Se===t.UNSIGNED_BYTE&&(ze=t.R8UI),Se===t.UNSIGNED_SHORT&&(ze=t.R16UI),Se===t.UNSIGNED_INT&&(ze=t.R32UI),Se===t.BYTE&&(ze=t.R8I),Se===t.SHORT&&(ze=t.R16I),Se===t.INT&&(ze=t.R32I)),se===t.RG&&(Se===t.FLOAT&&(ze=t.RG32F),Se===t.HALF_FLOAT&&(ze=t.RG16F),Se===t.UNSIGNED_BYTE&&(ze=t.RG8)),se===t.RG_INTEGER&&(Se===t.UNSIGNED_BYTE&&(ze=t.RG8UI),Se===t.UNSIGNED_SHORT&&(ze=t.RG16UI),Se===t.UNSIGNED_INT&&(ze=t.RG32UI),Se===t.BYTE&&(ze=t.RG8I),Se===t.SHORT&&(ze=t.RG16I),Se===t.INT&&(ze=t.RG32I)),se===t.RGB_INTEGER&&(Se===t.UNSIGNED_BYTE&&(ze=t.RGB8UI),Se===t.UNSIGNED_SHORT&&(ze=t.RGB16UI),Se===t.UNSIGNED_INT&&(ze=t.RGB32UI),Se===t.BYTE&&(ze=t.RGB8I),Se===t.SHORT&&(ze=t.RGB16I),Se===t.INT&&(ze=t.RGB32I)),se===t.RGBA_INTEGER&&(Se===t.UNSIGNED_BYTE&&(ze=t.RGBA8UI),Se===t.UNSIGNED_SHORT&&(ze=t.RGBA16UI),Se===t.UNSIGNED_INT&&(ze=t.RGBA32UI),Se===t.BYTE&&(ze=t.RGBA8I),Se===t.SHORT&&(ze=t.RGBA16I),Se===t.INT&&(ze=t.RGBA32I)),se===t.RGB&&(Se===t.UNSIGNED_INT_5_9_9_9_REV&&(ze=t.RGB9_E5),Se===t.UNSIGNED_INT_10F_11F_11F_REV&&(ze=t.R11F_G11F_B10F)),se===t.RGBA){const kt=Be?WB:Ri.getTransfer(De);Se===t.FLOAT&&(ze=t.RGBA32F),Se===t.HALF_FLOAT&&(ze=t.RGBA16F),Se===t.UNSIGNED_BYTE&&(ze=kt===as?t.SRGB8_ALPHA8:t.RGBA8),Se===t.UNSIGNED_SHORT_4_4_4_4&&(ze=t.RGBA4),Se===t.UNSIGNED_SHORT_5_5_5_1&&(ze=t.RGB5_A1)}return(ze===t.R16F||ze===t.R32F||ze===t.RG16F||ze===t.RG32F||ze===t.RGBA16F||ze===t.RGBA32F)&&e.get("EXT_color_buffer_float"),ze}function I(le,se){let Se;return le?se===null||se===sm||se===q_?Se=t.DEPTH24_STENCIL8:se===cf?Se=t.DEPTH32F_STENCIL8:se===W_&&(Se=t.DEPTH24_STENCIL8,Tr("DepthTexture: 16 bit depth attachment is not supported with stencil. Using 24-bit attachment.")):se===null||se===sm||se===q_?Se=t.DEPTH_COMPONENT24:se===cf?Se=t.DEPTH_COMPONENT32F:se===W_&&(Se=t.DEPTH_COMPONENT16),Se}function D(le,se){return y(le)===!0||le.isFramebufferTexture&&le.minFilter!==rl&&le.minFilter!==Wo?Math.log2(Math.max(se.width,se.height))+1:le.mipmaps!==void 0&&le.mipmaps.length>0?le.mipmaps.length:le.isCompressedTexture&&Array.isArray(le.image)?se.mipmaps.length:1}function T(le){const se=le.target;se.removeEventListener("dispose",T),P(se),se.isVideoTexture&&c.delete(se)}function M(le){const se=le.target;se.removeEventListener("dispose",M),L(se)}function P(le){const se=r.get(le);if(se.__webglInit===void 0)return;const Se=le.source,De=f.get(Se);if(De){const Be=De[se.__cacheKey];Be.usedTimes--,Be.usedTimes===0&&k(le),Object.keys(De).length===0&&f.delete(Se)}r.remove(le)}function k(le){const se=r.get(le);t.deleteTexture(se.__webglTexture);const Se=le.source,De=f.get(Se);delete De[se.__cacheKey],o.memory.textures--}function L(le){const se=r.get(le);if(le.depthTexture&&(le.depthTexture.dispose(),r.remove(le.depthTexture)),le.isWebGLCubeRenderTarget)for(let De=0;De<6;De++){if(Array.isArray(se.__webglFramebuffer[De]))for(let Be=0;Be<se.__webglFramebuffer[De].length;Be++)t.deleteFramebuffer(se.__webglFramebuffer[De][Be]);else t.deleteFramebuffer(se.__webglFramebuffer[De]);se.__webglDepthbuffer&&t.deleteRenderbuffer(se.__webglDepthbuffer[De])}else{if(Array.isArray(se.__webglFramebuffer))for(let De=0;De<se.__webglFramebuffer.length;De++)t.deleteFramebuffer(se.__webglFramebuffer[De]);else t.deleteFramebuffer(se.__webglFramebuffer);if(se.__webglDepthbuffer&&t.deleteRenderbuffer(se.__webglDepthbuffer),se.__webglMultisampledFramebuffer&&t.deleteFramebuffer(se.__webglMultisampledFramebuffer),se.__webglColorRenderbuffer)for(let De=0;De<se.__webglColorRenderbuffer.length;De++)se.__webglColorRenderbuffer[De]&&t.deleteRenderbuffer(se.__webglColorRenderbuffer[De]);se.__webglDepthRenderbuffer&&t.deleteRenderbuffer(se.__webglDepthRenderbuffer)}const Se=le.textures;for(let De=0,Be=Se.length;De<Be;De++){const ze=r.get(Se[De]);ze.__webglTexture&&(t.deleteTexture(ze.__webglTexture),o.memory.textures--),r.remove(Se[De])}r.remove(le)}let $=0;function z(){$=0}function j(){const le=$;return le>=i.maxTextures&&Tr("WebGLTextures: Trying to use "+le+" texture units while this GPU supports only "+i.maxTextures),$+=1,le}function H(le){const se=[];return se.push(le.wrapS),se.push(le.wrapT),se.push(le.wrapR||0),se.push(le.magFilter),se.push(le.minFilter),se.push(le.anisotropy),se.push(le.internalFormat),se.push(le.format),se.push(le.type),se.push(le.generateMipmaps),se.push(le.premultiplyAlpha),se.push(le.flipY),se.push(le.unpackAlignment),se.push(le.colorSpace),se.join()}function W(le,se){const Se=r.get(le);if(le.isVideoTexture&&gt(le),le.isRenderTargetTexture===!1&&le.isExternalTexture!==!0&&le.version>0&&Se.__version!==le.version){const De=le.image;if(De===null)Tr("WebGLRenderer: Texture marked for update but no image data found.");else if(De.complete===!1)Tr("WebGLRenderer: Texture marked for update but image is incomplete");else{ae(Se,le,se);return}}else le.isExternalTexture&&(Se.__webglTexture=le.sourceTexture?le.sourceTexture:null);n.bindTexture(t.TEXTURE_2D,Se.__webglTexture,t.TEXTURE0+se)}function O(le,se){const Se=r.get(le);if(le.isRenderTargetTexture===!1&&le.version>0&&Se.__version!==le.version){ae(Se,le,se);return}else le.isExternalTexture&&(Se.__webglTexture=le.sourceTexture?le.sourceTexture:null);n.bindTexture(t.TEXTURE_2D_ARRAY,Se.__webglTexture,t.TEXTURE0+se)}function G(le,se){const Se=r.get(le);if(le.isRenderTargetTexture===!1&&le.version>0&&Se.__version!==le.version){ae(Se,le,se);return}n.bindTexture(t.TEXTURE_3D,Se.__webglTexture,t.TEXTURE0+se)}function q(le,se){const Se=r.get(le);if(le.isCubeDepthTexture!==!0&&le.version>0&&Se.__version!==le.version){de(Se,le,se);return}n.bindTexture(t.TEXTURE_CUBE_MAP,Se.__webglTexture,t.TEXTURE0+se)}const J={[t6]:t.REPEAT,[C0]:t.CLAMP_TO_EDGE,[n6]:t.MIRRORED_REPEAT},te={[rl]:t.NEAREST,[xCe]:t.NEAREST_MIPMAP_NEAREST,[y2]:t.NEAREST_MIPMAP_LINEAR,[Wo]:t.LINEAR,[c5]:t.LINEAR_MIPMAP_NEAREST,[ux]:t.LINEAR_MIPMAP_LINEAR},Y={[wCe]:t.NEVER,[TCe]:t.ALWAYS,[_Ce]:t.LESS,[QF]:t.LEQUAL,[ICe]:t.EQUAL,[UF]:t.GEQUAL,[BCe]:t.GREATER,[DCe]:t.NOTEQUAL};function Z(le,se){if(se.type===cf&&e.has("OES_texture_float_linear")===!1&&(se.magFilter===Wo||se.magFilter===c5||se.magFilter===y2||se.magFilter===ux||se.minFilter===Wo||se.minFilter===c5||se.minFilter===y2||se.minFilter===ux)&&Tr("WebGLRenderer: Unable to use linear filtering with floating point textures. OES_texture_float_linear not supported on this device."),t.texParameteri(le,t.TEXTURE_WRAP_S,J[se.wrapS]),t.texParameteri(le,t.TEXTURE_WRAP_T,J[se.wrapT]),(le===t.TEXTURE_3D||le===t.TEXTURE_2D_ARRAY)&&t.texParameteri(le,t.TEXTURE_WRAP_R,J[se.wrapR]),t.texParameteri(le,t.TEXTURE_MAG_FILTER,te[se.magFilter]),t.texParameteri(le,t.TEXTURE_MIN_FILTER,te[se.minFilter]),se.compareFunction&&(t.texParameteri(le,t.TEXTURE_COMPARE_MODE,t.COMPARE_REF_TO_TEXTURE),t.texParameteri(le,t.TEXTURE_COMPARE_FUNC,Y[se.compareFunction])),e.has("EXT_texture_filter_anisotropic")===!0){if(se.magFilter===rl||se.minFilter!==y2&&se.minFilter!==ux||se.type===cf&&e.has("OES_texture_float_linear")===!1)return;if(se.anisotropy>1||r.get(se).__currentAnisotropy){const Se=e.get("EXT_texture_filter_anisotropic");t.texParameterf(le,Se.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(se.anisotropy,i.getMaxAnisotropy())),r.get(se).__currentAnisotropy=se.anisotropy}}}function ee(le,se){let Se=!1;le.__webglInit===void 0&&(le.__webglInit=!0,se.addEventListener("dispose",T));const De=se.source;let Be=f.get(De);Be===void 0&&(Be={},f.set(De,Be));const ze=H(se);if(ze!==le.__cacheKey){Be[ze]===void 0&&(Be[ze]={texture:t.createTexture(),usedTimes:0},o.memory.textures++,Se=!0),Be[ze].usedTimes++;const kt=Be[le.__cacheKey];kt!==void 0&&(Be[le.__cacheKey].usedTimes--,kt.usedTimes===0&&k(se)),le.__cacheKey=ze,le.__webglTexture=Be[ze].texture}return Se}function ie(le,se,Se){return Math.floor(Math.floor(le/Se)/se)}function ue(le,se,Se,De){const ze=le.updateRanges;if(ze.length===0)n.texSubImage2D(t.TEXTURE_2D,0,0,0,se.width,se.height,Se,De,se.data);else{ze.sort((at,At)=>at.start-At.start);let kt=0;for(let at=1;at<ze.length;at++){const At=ze[kt],Pt=ze[at],wt=At.start+At.count,Lt=ie(Pt.start,se.width,4),un=ie(At.start,se.width,4);Pt.start<=wt+1&&Lt===un&&ie(Pt.start+Pt.count-1,se.width,4)===Lt?At.count=Math.max(At.count,Pt.start+Pt.count-At.start):(++kt,ze[kt]=Pt)}ze.length=kt+1;const Et=t.getParameter(t.UNPACK_ROW_LENGTH),zt=t.getParameter(t.UNPACK_SKIP_PIXELS),Mt=t.getParameter(t.UNPACK_SKIP_ROWS);t.pixelStorei(t.UNPACK_ROW_LENGTH,se.width);for(let at=0,At=ze.length;at<At;at++){const Pt=ze[at],wt=Math.floor(Pt.start/4),Lt=Math.ceil(Pt.count/4),un=wt%se.width,Oe=Math.floor(wt/se.width),Wt=Lt,Vt=1;t.pixelStorei(t.UNPACK_SKIP_PIXELS,un),t.pixelStorei(t.UNPACK_SKIP_ROWS,Oe),n.texSubImage2D(t.TEXTURE_2D,0,un,Oe,Wt,Vt,Se,De,se.data)}le.clearUpdateRanges(),t.pixelStorei(t.UNPACK_ROW_LENGTH,Et),t.pixelStorei(t.UNPACK_SKIP_PIXELS,zt),t.pixelStorei(t.UNPACK_SKIP_ROWS,Mt)}}function ae(le,se,Se){let De=t.TEXTURE_2D;(se.isDataArrayTexture||se.isCompressedArrayTexture)&&(De=t.TEXTURE_2D_ARRAY),se.isData3DTexture&&(De=t.TEXTURE_3D);const Be=ee(le,se),ze=se.source;n.bindTexture(De,le.__webglTexture,t.TEXTURE0+Se);const kt=r.get(ze);if(ze.version!==kt.__version||Be===!0){n.activeTexture(t.TEXTURE0+Se);const Et=Ri.getPrimaries(Ri.workingColorSpace),zt=se.colorSpace===Iy?null:Ri.getPrimaries(se.colorSpace),Mt=se.colorSpace===Iy||Et===zt?t.NONE:t.BROWSER_DEFAULT_WEBGL;t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,se.flipY),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,se.premultiplyAlpha),t.pixelStorei(t.UNPACK_ALIGNMENT,se.unpackAlignment),t.pixelStorei(t.UNPACK_COLORSPACE_CONVERSION_WEBGL,Mt);let at=v(se.image,!1,i.maxTextureSize);at=it(se,at);const At=s.convert(se.format,se.colorSpace),Pt=s.convert(se.type);let wt=E(se.internalFormat,At,Pt,se.colorSpace,se.isVideoTexture);Z(De,se);let Lt;const un=se.mipmaps,Oe=se.isVideoTexture!==!0,Wt=kt.__version===void 0||Be===!0,Vt=ze.dataReady,Xt=D(se,at);if(se.isDepthTexture)wt=I(se.format===cx,se.type),Wt&&(Oe?n.texStorage2D(t.TEXTURE_2D,1,wt,at.width,at.height):n.texImage2D(t.TEXTURE_2D,0,wt,at.width,at.height,0,At,Pt,null));else if(se.isDataTexture)if(un.length>0){Oe&&Wt&&n.texStorage2D(t.TEXTURE_2D,Xt,wt,un[0].width,un[0].height);for(let It=0,St=un.length;It<St;It++)Lt=un[It],Oe?Vt&&n.texSubImage2D(t.TEXTURE_2D,It,0,0,Lt.width,Lt.height,At,Pt,Lt.data):n.texImage2D(t.TEXTURE_2D,It,wt,Lt.width,Lt.height,0,At,Pt,Lt.data);se.generateMipmaps=!1}else Oe?(Wt&&n.texStorage2D(t.TEXTURE_2D,Xt,wt,at.width,at.height),Vt&&ue(se,at,At,Pt)):n.texImage2D(t.TEXTURE_2D,0,wt,at.width,at.height,0,At,Pt,at.data);else if(se.isCompressedTexture)if(se.isCompressedArrayTexture){Oe&&Wt&&n.texStorage3D(t.TEXTURE_2D_ARRAY,Xt,wt,un[0].width,un[0].height,at.depth);for(let It=0,St=un.length;It<St;It++)if(Lt=un[It],se.format!==df)if(At!==null)if(Oe){if(Vt)if(se.layerUpdates.size>0){const qt=BO(Lt.width,Lt.height,se.format,se.type);for(const ct of se.layerUpdates){const Bt=Lt.data.subarray(ct*qt/Lt.data.BYTES_PER_ELEMENT,(ct+1)*qt/Lt.data.BYTES_PER_ELEMENT);n.compressedTexSubImage3D(t.TEXTURE_2D_ARRAY,It,0,0,ct,Lt.width,Lt.height,1,At,Bt)}se.clearLayerUpdates()}else n.compressedTexSubImage3D(t.TEXTURE_2D_ARRAY,It,0,0,0,Lt.width,Lt.height,at.depth,At,Lt.data)}else n.compressedTexImage3D(t.TEXTURE_2D_ARRAY,It,wt,Lt.width,Lt.height,at.depth,0,Lt.data,0,0);else Tr("WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()");else Oe?Vt&&n.texSubImage3D(t.TEXTURE_2D_ARRAY,It,0,0,0,Lt.width,Lt.height,at.depth,At,Pt,Lt.data):n.texImage3D(t.TEXTURE_2D_ARRAY,It,wt,Lt.width,Lt.height,at.depth,0,At,Pt,Lt.data)}else{Oe&&Wt&&n.texStorage2D(t.TEXTURE_2D,Xt,wt,un[0].width,un[0].height);for(let It=0,St=un.length;It<St;It++)Lt=un[It],se.format!==df?At!==null?Oe?Vt&&n.compressedTexSubImage2D(t.TEXTURE_2D,It,0,0,Lt.width,Lt.height,At,Lt.data):n.compressedTexImage2D(t.TEXTURE_2D,It,wt,Lt.width,Lt.height,0,Lt.data):Tr("WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):Oe?Vt&&n.texSubImage2D(t.TEXTURE_2D,It,0,0,Lt.width,Lt.height,At,Pt,Lt.data):n.texImage2D(t.TEXTURE_2D,It,wt,Lt.width,Lt.height,0,At,Pt,Lt.data)}else if(se.isDataArrayTexture)if(Oe){if(Wt&&n.texStorage3D(t.TEXTURE_2D_ARRAY,Xt,wt,at.width,at.height,at.depth),Vt)if(se.layerUpdates.size>0){const It=BO(at.width,at.height,se.format,se.type);for(const St of se.layerUpdates){const qt=at.data.subarray(St*It/at.data.BYTES_PER_ELEMENT,(St+1)*It/at.data.BYTES_PER_ELEMENT);n.texSubImage3D(t.TEXTURE_2D_ARRAY,0,0,0,St,at.width,at.height,1,At,Pt,qt)}se.clearLayerUpdates()}else n.texSubImage3D(t.TEXTURE_2D_ARRAY,0,0,0,0,at.width,at.height,at.depth,At,Pt,at.data)}else n.texImage3D(t.TEXTURE_2D_ARRAY,0,wt,at.width,at.height,at.depth,0,At,Pt,at.data);else if(se.isData3DTexture)Oe?(Wt&&n.texStorage3D(t.TEXTURE_3D,Xt,wt,at.width,at.height,at.depth),Vt&&n.texSubImage3D(t.TEXTURE_3D,0,0,0,0,at.width,at.height,at.depth,At,Pt,at.data)):n.texImage3D(t.TEXTURE_3D,0,wt,at.width,at.height,at.depth,0,At,Pt,at.data);else if(se.isFramebufferTexture){if(Wt)if(Oe)n.texStorage2D(t.TEXTURE_2D,Xt,wt,at.width,at.height);else{let It=at.width,St=at.height;for(let qt=0;qt<Xt;qt++)n.texImage2D(t.TEXTURE_2D,qt,wt,It,St,0,At,Pt,null),It>>=1,St>>=1}}else if(un.length>0){if(Oe&&Wt){const It=ot(un[0]);n.texStorage2D(t.TEXTURE_2D,Xt,wt,It.width,It.height)}for(let It=0,St=un.length;It<St;It++)Lt=un[It],Oe?Vt&&n.texSubImage2D(t.TEXTURE_2D,It,0,0,At,Pt,Lt):n.texImage2D(t.TEXTURE_2D,It,wt,At,Pt,Lt);se.generateMipmaps=!1}else if(Oe){if(Wt){const It=ot(at);n.texStorage2D(t.TEXTURE_2D,Xt,wt,It.width,It.height)}Vt&&n.texSubImage2D(t.TEXTURE_2D,0,0,0,At,Pt,at)}else n.texImage2D(t.TEXTURE_2D,0,wt,At,Pt,at);y(se)&&A(De),kt.__version=ze.version,se.onUpdate&&se.onUpdate(se)}le.__version=se.version}function de(le,se,Se){if(se.image.length!==6)return;const De=ee(le,se),Be=se.source;n.bindTexture(t.TEXTURE_CUBE_MAP,le.__webglTexture,t.TEXTURE0+Se);const ze=r.get(Be);if(Be.version!==ze.__version||De===!0){n.activeTexture(t.TEXTURE0+Se);const kt=Ri.getPrimaries(Ri.workingColorSpace),Et=se.colorSpace===Iy?null:Ri.getPrimaries(se.colorSpace),zt=se.colorSpace===Iy||kt===Et?t.NONE:t.BROWSER_DEFAULT_WEBGL;t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,se.flipY),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,se.premultiplyAlpha),t.pixelStorei(t.UNPACK_ALIGNMENT,se.unpackAlignment),t.pixelStorei(t.UNPACK_COLORSPACE_CONVERSION_WEBGL,zt);const Mt=se.isCompressedTexture||se.image[0].isCompressedTexture,at=se.image[0]&&se.image[0].isDataTexture,At=[];for(let St=0;St<6;St++)!Mt&&!at?At[St]=v(se.image[St],!0,i.maxCubemapSize):At[St]=at?se.image[St].image:se.image[St],At[St]=it(se,At[St]);const Pt=At[0],wt=s.convert(se.format,se.colorSpace),Lt=s.convert(se.type),un=E(se.internalFormat,wt,Lt,se.colorSpace),Oe=se.isVideoTexture!==!0,Wt=ze.__version===void 0||De===!0,Vt=Be.dataReady;let Xt=D(se,Pt);Z(t.TEXTURE_CUBE_MAP,se);let It;if(Mt){Oe&&Wt&&n.texStorage2D(t.TEXTURE_CUBE_MAP,Xt,un,Pt.width,Pt.height);for(let St=0;St<6;St++){It=At[St].mipmaps;for(let qt=0;qt<It.length;qt++){const ct=It[qt];se.format!==df?wt!==null?Oe?Vt&&n.compressedTexSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+St,qt,0,0,ct.width,ct.height,wt,ct.data):n.compressedTexImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+St,qt,un,ct.width,ct.height,0,ct.data):Tr("WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):Oe?Vt&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+St,qt,0,0,ct.width,ct.height,wt,Lt,ct.data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+St,qt,un,ct.width,ct.height,0,wt,Lt,ct.data)}}}else{if(It=se.mipmaps,Oe&&Wt){It.length>0&&Xt++;const St=ot(At[0]);n.texStorage2D(t.TEXTURE_CUBE_MAP,Xt,un,St.width,St.height)}for(let St=0;St<6;St++)if(at){Oe?Vt&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+St,0,0,0,At[St].width,At[St].height,wt,Lt,At[St].data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+St,0,un,At[St].width,At[St].height,0,wt,Lt,At[St].data);for(let qt=0;qt<It.length;qt++){const Bt=It[qt].image[St].image;Oe?Vt&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+St,qt+1,0,0,Bt.width,Bt.height,wt,Lt,Bt.data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+St,qt+1,un,Bt.width,Bt.height,0,wt,Lt,Bt.data)}}else{Oe?Vt&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+St,0,0,0,wt,Lt,At[St]):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+St,0,un,wt,Lt,At[St]);for(let qt=0;qt<It.length;qt++){const ct=It[qt];Oe?Vt&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+St,qt+1,0,0,wt,Lt,ct.image[St]):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+St,qt+1,un,wt,Lt,ct.image[St])}}}y(se)&&A(t.TEXTURE_CUBE_MAP),ze.__version=Be.version,se.onUpdate&&se.onUpdate(se)}le.__version=se.version}function ge(le,se,Se,De,Be,ze){const kt=s.convert(Se.format,Se.colorSpace),Et=s.convert(Se.type),zt=E(Se.internalFormat,kt,Et,Se.colorSpace),Mt=r.get(se),at=r.get(Se);if(at.__renderTarget=se,!Mt.__hasExternalTextures){const At=Math.max(1,se.width>>ze),Pt=Math.max(1,se.height>>ze);Be===t.TEXTURE_3D||Be===t.TEXTURE_2D_ARRAY?n.texImage3D(Be,ze,zt,At,Pt,se.depth,0,kt,Et,null):n.texImage2D(Be,ze,zt,At,Pt,0,kt,Et,null)}n.bindFramebuffer(t.FRAMEBUFFER,le),$e(se)?a.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,De,Be,at.__webglTexture,0,ve(se)):(Be===t.TEXTURE_2D||Be>=t.TEXTURE_CUBE_MAP_POSITIVE_X&&Be<=t.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&t.framebufferTexture2D(t.FRAMEBUFFER,De,Be,at.__webglTexture,ze),n.bindFramebuffer(t.FRAMEBUFFER,null)}function _e(le,se,Se){if(t.bindRenderbuffer(t.RENDERBUFFER,le),se.depthBuffer){const De=se.depthTexture,Be=De&&De.isDepthTexture?De.type:null,ze=I(se.stencilBuffer,Be),kt=se.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT;$e(se)?a.renderbufferStorageMultisampleEXT(t.RENDERBUFFER,ve(se),ze,se.width,se.height):Se?t.renderbufferStorageMultisample(t.RENDERBUFFER,ve(se),ze,se.width,se.height):t.renderbufferStorage(t.RENDERBUFFER,ze,se.width,se.height),t.framebufferRenderbuffer(t.FRAMEBUFFER,kt,t.RENDERBUFFER,le)}else{const De=se.textures;for(let Be=0;Be<De.length;Be++){const ze=De[Be],kt=s.convert(ze.format,ze.colorSpace),Et=s.convert(ze.type),zt=E(ze.internalFormat,kt,Et,ze.colorSpace);$e(se)?a.renderbufferStorageMultisampleEXT(t.RENDERBUFFER,ve(se),zt,se.width,se.height):Se?t.renderbufferStorageMultisample(t.RENDERBUFFER,ve(se),zt,se.width,se.height):t.renderbufferStorage(t.RENDERBUFFER,zt,se.width,se.height)}}t.bindRenderbuffer(t.RENDERBUFFER,null)}function we(le,se,Se){const De=se.isWebGLCubeRenderTarget===!0;if(n.bindFramebuffer(t.FRAMEBUFFER,le),!(se.depthTexture&&se.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");const Be=r.get(se.depthTexture);if(Be.__renderTarget=se,(!Be.__webglTexture||se.depthTexture.image.width!==se.width||se.depthTexture.image.height!==se.height)&&(se.depthTexture.image.width=se.width,se.depthTexture.image.height=se.height,se.depthTexture.needsUpdate=!0),De){if(Be.__webglInit===void 0&&(Be.__webglInit=!0,se.depthTexture.addEventListener("dispose",T)),Be.__webglTexture===void 0){Be.__webglTexture=t.createTexture(),n.bindTexture(t.TEXTURE_CUBE_MAP,Be.__webglTexture),Z(t.TEXTURE_CUBE_MAP,se.depthTexture);const Mt=s.convert(se.depthTexture.format),at=s.convert(se.depthTexture.type);let At;se.depthTexture.format===F0?At=t.DEPTH_COMPONENT24:se.depthTexture.format===cx&&(At=t.DEPTH24_STENCIL8);for(let Pt=0;Pt<6;Pt++)t.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Pt,0,At,se.width,se.height,0,Mt,at,null)}}else W(se.depthTexture,0);const ze=Be.__webglTexture,kt=ve(se),Et=De?t.TEXTURE_CUBE_MAP_POSITIVE_X+Se:t.TEXTURE_2D,zt=se.depthTexture.format===cx?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT;if(se.depthTexture.format===F0)$e(se)?a.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,zt,Et,ze,0,kt):t.framebufferTexture2D(t.FRAMEBUFFER,zt,Et,ze,0);else if(se.depthTexture.format===cx)$e(se)?a.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,zt,Et,ze,0,kt):t.framebufferTexture2D(t.FRAMEBUFFER,zt,Et,ze,0);else throw new Error("Unknown depthTexture format")}function ke(le){const se=r.get(le),Se=le.isWebGLCubeRenderTarget===!0;if(se.__boundDepthTexture!==le.depthTexture){const De=le.depthTexture;if(se.__depthDisposeCallback&&se.__depthDisposeCallback(),De){const Be=()=>{delete se.__boundDepthTexture,delete se.__depthDisposeCallback,De.removeEventListener("dispose",Be)};De.addEventListener("dispose",Be),se.__depthDisposeCallback=Be}se.__boundDepthTexture=De}if(le.depthTexture&&!se.__autoAllocateDepthBuffer)if(Se)for(let De=0;De<6;De++)we(se.__webglFramebuffer[De],le,De);else{const De=le.texture.mipmaps;De&&De.length>0?we(se.__webglFramebuffer[0],le,0):we(se.__webglFramebuffer,le,0)}else if(Se){se.__webglDepthbuffer=[];for(let De=0;De<6;De++)if(n.bindFramebuffer(t.FRAMEBUFFER,se.__webglFramebuffer[De]),se.__webglDepthbuffer[De]===void 0)se.__webglDepthbuffer[De]=t.createRenderbuffer(),_e(se.__webglDepthbuffer[De],le,!1);else{const Be=le.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT,ze=se.__webglDepthbuffer[De];t.bindRenderbuffer(t.RENDERBUFFER,ze),t.framebufferRenderbuffer(t.FRAMEBUFFER,Be,t.RENDERBUFFER,ze)}}else{const De=le.texture.mipmaps;if(De&&De.length>0?n.bindFramebuffer(t.FRAMEBUFFER,se.__webglFramebuffer[0]):n.bindFramebuffer(t.FRAMEBUFFER,se.__webglFramebuffer),se.__webglDepthbuffer===void 0)se.__webglDepthbuffer=t.createRenderbuffer(),_e(se.__webglDepthbuffer,le,!1);else{const Be=le.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT,ze=se.__webglDepthbuffer;t.bindRenderbuffer(t.RENDERBUFFER,ze),t.framebufferRenderbuffer(t.FRAMEBUFFER,Be,t.RENDERBUFFER,ze)}}n.bindFramebuffer(t.FRAMEBUFFER,null)}function Fe(le,se,Se){const De=r.get(le);se!==void 0&&ge(De.__webglFramebuffer,le,le.texture,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,0),Se!==void 0&&ke(le)}function Ee(le){const se=le.texture,Se=r.get(le),De=r.get(se);le.addEventListener("dispose",M);const Be=le.textures,ze=le.isWebGLCubeRenderTarget===!0,kt=Be.length>1;if(kt||(De.__webglTexture===void 0&&(De.__webglTexture=t.createTexture()),De.__version=se.version,o.memory.textures++),ze){Se.__webglFramebuffer=[];for(let Et=0;Et<6;Et++)if(se.mipmaps&&se.mipmaps.length>0){Se.__webglFramebuffer[Et]=[];for(let zt=0;zt<se.mipmaps.length;zt++)Se.__webglFramebuffer[Et][zt]=t.createFramebuffer()}else Se.__webglFramebuffer[Et]=t.createFramebuffer()}else{if(se.mipmaps&&se.mipmaps.length>0){Se.__webglFramebuffer=[];for(let Et=0;Et<se.mipmaps.length;Et++)Se.__webglFramebuffer[Et]=t.createFramebuffer()}else Se.__webglFramebuffer=t.createFramebuffer();if(kt)for(let Et=0,zt=Be.length;Et<zt;Et++){const Mt=r.get(Be[Et]);Mt.__webglTexture===void 0&&(Mt.__webglTexture=t.createTexture(),o.memory.textures++)}if(le.samples>0&&$e(le)===!1){Se.__webglMultisampledFramebuffer=t.createFramebuffer(),Se.__webglColorRenderbuffer=[],n.bindFramebuffer(t.FRAMEBUFFER,Se.__webglMultisampledFramebuffer);for(let Et=0;Et<Be.length;Et++){const zt=Be[Et];Se.__webglColorRenderbuffer[Et]=t.createRenderbuffer(),t.bindRenderbuffer(t.RENDERBUFFER,Se.__webglColorRenderbuffer[Et]);const Mt=s.convert(zt.format,zt.colorSpace),at=s.convert(zt.type),At=E(zt.internalFormat,Mt,at,zt.colorSpace,le.isXRRenderTarget===!0),Pt=ve(le);t.renderbufferStorageMultisample(t.RENDERBUFFER,Pt,At,le.width,le.height),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+Et,t.RENDERBUFFER,Se.__webglColorRenderbuffer[Et])}t.bindRenderbuffer(t.RENDERBUFFER,null),le.depthBuffer&&(Se.__webglDepthRenderbuffer=t.createRenderbuffer(),_e(Se.__webglDepthRenderbuffer,le,!0)),n.bindFramebuffer(t.FRAMEBUFFER,null)}}if(ze){n.bindTexture(t.TEXTURE_CUBE_MAP,De.__webglTexture),Z(t.TEXTURE_CUBE_MAP,se);for(let Et=0;Et<6;Et++)if(se.mipmaps&&se.mipmaps.length>0)for(let zt=0;zt<se.mipmaps.length;zt++)ge(Se.__webglFramebuffer[Et][zt],le,se,t.COLOR_ATTACHMENT0,t.TEXTURE_CUBE_MAP_POSITIVE_X+Et,zt);else ge(Se.__webglFramebuffer[Et],le,se,t.COLOR_ATTACHMENT0,t.TEXTURE_CUBE_MAP_POSITIVE_X+Et,0);y(se)&&A(t.TEXTURE_CUBE_MAP),n.unbindTexture()}else if(kt){for(let Et=0,zt=Be.length;Et<zt;Et++){const Mt=Be[Et],at=r.get(Mt);let At=t.TEXTURE_2D;(le.isWebGL3DRenderTarget||le.isWebGLArrayRenderTarget)&&(At=le.isWebGL3DRenderTarget?t.TEXTURE_3D:t.TEXTURE_2D_ARRAY),n.bindTexture(At,at.__webglTexture),Z(At,Mt),ge(Se.__webglFramebuffer,le,Mt,t.COLOR_ATTACHMENT0+Et,At,0),y(Mt)&&A(At)}n.unbindTexture()}else{let Et=t.TEXTURE_2D;if((le.isWebGL3DRenderTarget||le.isWebGLArrayRenderTarget)&&(Et=le.isWebGL3DRenderTarget?t.TEXTURE_3D:t.TEXTURE_2D_ARRAY),n.bindTexture(Et,De.__webglTexture),Z(Et,se),se.mipmaps&&se.mipmaps.length>0)for(let zt=0;zt<se.mipmaps.length;zt++)ge(Se.__webglFramebuffer[zt],le,se,t.COLOR_ATTACHMENT0,Et,zt);else ge(Se.__webglFramebuffer,le,se,t.COLOR_ATTACHMENT0,Et,0);y(se)&&A(Et),n.unbindTexture()}le.depthBuffer&&ke(le)}function Me(le){const se=le.textures;for(let Se=0,De=se.length;Se<De;Se++){const Be=se[Se];if(y(Be)){const ze=C(le),kt=r.get(Be).__webglTexture;n.bindTexture(ze,kt),A(ze),n.unbindTexture()}}}const Ue=[],Ge=[];function ut(le){if(le.samples>0){if($e(le)===!1){const se=le.textures,Se=le.width,De=le.height;let Be=t.COLOR_BUFFER_BIT;const ze=le.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT,kt=r.get(le),Et=se.length>1;if(Et)for(let Mt=0;Mt<se.length;Mt++)n.bindFramebuffer(t.FRAMEBUFFER,kt.__webglMultisampledFramebuffer),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+Mt,t.RENDERBUFFER,null),n.bindFramebuffer(t.FRAMEBUFFER,kt.__webglFramebuffer),t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0+Mt,t.TEXTURE_2D,null,0);n.bindFramebuffer(t.READ_FRAMEBUFFER,kt.__webglMultisampledFramebuffer);const zt=le.texture.mipmaps;zt&&zt.length>0?n.bindFramebuffer(t.DRAW_FRAMEBUFFER,kt.__webglFramebuffer[0]):n.bindFramebuffer(t.DRAW_FRAMEBUFFER,kt.__webglFramebuffer);for(let Mt=0;Mt<se.length;Mt++){if(le.resolveDepthBuffer&&(le.depthBuffer&&(Be|=t.DEPTH_BUFFER_BIT),le.stencilBuffer&&le.resolveStencilBuffer&&(Be|=t.STENCIL_BUFFER_BIT)),Et){t.framebufferRenderbuffer(t.READ_FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.RENDERBUFFER,kt.__webglColorRenderbuffer[Mt]);const at=r.get(se[Mt]).__webglTexture;t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,at,0)}t.blitFramebuffer(0,0,Se,De,0,0,Se,De,Be,t.NEAREST),l===!0&&(Ue.length=0,Ge.length=0,Ue.push(t.COLOR_ATTACHMENT0+Mt),le.depthBuffer&&le.resolveDepthBuffer===!1&&(Ue.push(ze),Ge.push(ze),t.invalidateFramebuffer(t.DRAW_FRAMEBUFFER,Ge)),t.invalidateFramebuffer(t.READ_FRAMEBUFFER,Ue))}if(n.bindFramebuffer(t.READ_FRAMEBUFFER,null),n.bindFramebuffer(t.DRAW_FRAMEBUFFER,null),Et)for(let Mt=0;Mt<se.length;Mt++){n.bindFramebuffer(t.FRAMEBUFFER,kt.__webglMultisampledFramebuffer),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+Mt,t.RENDERBUFFER,kt.__webglColorRenderbuffer[Mt]);const at=r.get(se[Mt]).__webglTexture;n.bindFramebuffer(t.FRAMEBUFFER,kt.__webglFramebuffer),t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0+Mt,t.TEXTURE_2D,at,0)}n.bindFramebuffer(t.DRAW_FRAMEBUFFER,kt.__webglMultisampledFramebuffer)}else if(le.depthBuffer&&le.resolveDepthBuffer===!1&&l){const se=le.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT;t.invalidateFramebuffer(t.DRAW_FRAMEBUFFER,[se])}}}function ve(le){return Math.min(i.maxSamples,le.samples)}function $e(le){const se=r.get(le);return le.samples>0&&e.has("WEBGL_multisampled_render_to_texture")===!0&&se.__useRenderToTexture!==!1}function gt(le){const se=o.render.frame;c.get(le)!==se&&(c.set(le,se),le.update())}function it(le,se){const Se=le.colorSpace,De=le.format,Be=le.type;return le.isCompressedTexture===!0||le.isVideoTexture===!0||Se!==BE&&Se!==Iy&&(Ri.getTransfer(Se)===as?(De!==df||Be!==uf)&&Tr("WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):Xi("WebGLTextures: Unsupported texture color space:",Se)),se}function ot(le){return typeof HTMLImageElement<"u"&&le instanceof HTMLImageElement?(u.width=le.naturalWidth||le.width,u.height=le.naturalHeight||le.height):typeof VideoFrame<"u"&&le instanceof VideoFrame?(u.width=le.displayWidth,u.height=le.displayHeight):(u.width=le.width,u.height=le.height),u}this.allocateTextureUnit=j,this.resetTextureUnits=z,this.setTexture2D=W,this.setTexture2DArray=O,this.setTexture3D=G,this.setTextureCube=q,this.rebindTextures=Fe,this.setupRenderTarget=Ee,this.updateRenderTargetMipmap=Me,this.updateMultisampleRenderTarget=ut,this.setupDepthRenderbuffer=ke,this.setupFrameBufferTexture=ge,this.useMultisampledRTT=$e,this.isReversedDepthBuffer=function(){return n.buffers.depth.getReversed()}}function X_e(t,e){function n(r,i=Iy){let s;const o=Ri.getTransfer(i);if(r===uf)return t.UNSIGNED_BYTE;if(r===LF)return t.UNSIGNED_SHORT_4_4_4_4;if(r===FF)return t.UNSIGNED_SHORT_5_5_5_1;if(r===GX)return t.UNSIGNED_INT_5_9_9_9_REV;if(r===KX)return t.UNSIGNED_INT_10F_11F_11F_REV;if(r===HX)return t.BYTE;if(r===VX)return t.SHORT;if(r===W_)return t.UNSIGNED_SHORT;if(r===NF)return t.INT;if(r===sm)return t.UNSIGNED_INT;if(r===cf)return t.FLOAT;if(r===Ic)return t.HALF_FLOAT;if(r===WX)return t.ALPHA;if(r===qX)return t.RGB;if(r===df)return t.RGBA;if(r===F0)return t.DEPTH_COMPONENT;if(r===cx)return t.DEPTH_STENCIL;if(r===$F)return t.RED;if(r===zF)return t.RED_INTEGER;if(r===IE)return t.RG;if(r===OF)return t.RG_INTEGER;if(r===jF)return t.RGBA_INTEGER;if(r===bB||r===xB||r===CB||r===EB)if(o===as)if(s=e.get("WEBGL_compressed_texture_s3tc_srgb"),s!==null){if(r===bB)return s.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(r===xB)return s.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(r===CB)return s.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(r===EB)return s.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(s=e.get("WEBGL_compressed_texture_s3tc"),s!==null){if(r===bB)return s.COMPRESSED_RGB_S3TC_DXT1_EXT;if(r===xB)return s.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(r===CB)return s.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(r===EB)return s.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(r===r6||r===i6||r===s6||r===o6)if(s=e.get("WEBGL_compressed_texture_pvrtc"),s!==null){if(r===r6)return s.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(r===i6)return s.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(r===s6)return s.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(r===o6)return s.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(r===a6||r===l6||r===u6||r===c6||r===d6||r===h6||r===f6)if(s=e.get("WEBGL_compressed_texture_etc"),s!==null){if(r===a6||r===l6)return o===as?s.COMPRESSED_SRGB8_ETC2:s.COMPRESSED_RGB8_ETC2;if(r===u6)return o===as?s.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:s.COMPRESSED_RGBA8_ETC2_EAC;if(r===c6)return s.COMPRESSED_R11_EAC;if(r===d6)return s.COMPRESSED_SIGNED_R11_EAC;if(r===h6)return s.COMPRESSED_RG11_EAC;if(r===f6)return s.COMPRESSED_SIGNED_RG11_EAC}else return null;if(r===p6||r===g6||r===m6||r===A6||r===y6||r===v6||r===b6||r===x6||r===C6||r===E6||r===S6||r===w6||r===_6||r===I6)if(s=e.get("WEBGL_compressed_texture_astc"),s!==null){if(r===p6)return o===as?s.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:s.COMPRESSED_RGBA_ASTC_4x4_KHR;if(r===g6)return o===as?s.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:s.COMPRESSED_RGBA_ASTC_5x4_KHR;if(r===m6)return o===as?s.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:s.COMPRESSED_RGBA_ASTC_5x5_KHR;if(r===A6)return o===as?s.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:s.COMPRESSED_RGBA_ASTC_6x5_KHR;if(r===y6)return o===as?s.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:s.COMPRESSED_RGBA_ASTC_6x6_KHR;if(r===v6)return o===as?s.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:s.COMPRESSED_RGBA_ASTC_8x5_KHR;if(r===b6)return o===as?s.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:s.COMPRESSED_RGBA_ASTC_8x6_KHR;if(r===x6)return o===as?s.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:s.COMPRESSED_RGBA_ASTC_8x8_KHR;if(r===C6)return o===as?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:s.COMPRESSED_RGBA_ASTC_10x5_KHR;if(r===E6)return o===as?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:s.COMPRESSED_RGBA_ASTC_10x6_KHR;if(r===S6)return o===as?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:s.COMPRESSED_RGBA_ASTC_10x8_KHR;if(r===w6)return o===as?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:s.COMPRESSED_RGBA_ASTC_10x10_KHR;if(r===_6)return o===as?s.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:s.COMPRESSED_RGBA_ASTC_12x10_KHR;if(r===I6)return o===as?s.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:s.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(r===B6||r===D6||r===T6)if(s=e.get("EXT_texture_compression_bptc"),s!==null){if(r===B6)return o===as?s.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:s.COMPRESSED_RGBA_BPTC_UNORM_EXT;if(r===D6)return s.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT;if(r===T6)return s.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT}else return null;if(r===M6||r===k6||r===P6||r===R6)if(s=e.get("EXT_texture_compression_rgtc"),s!==null){if(r===M6)return s.COMPRESSED_RED_RGTC1_EXT;if(r===k6)return s.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(r===P6)return s.COMPRESSED_RED_GREEN_RGTC2_EXT;if(r===R6)return s.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return r===q_?t.UNSIGNED_INT_24_8:t[r]!==void 0?t[r]:null}return{convert:n}}const J_e=`
void main() {

	gl_Position = vec4( position, 1.0 );

}`,Z_e=`
uniform sampler2DArray depthColor;
uniform float depthWidth;
uniform float depthHeight;

void main() {

	vec2 coord = vec2( gl_FragCoord.x / depthWidth, gl_FragCoord.y / depthHeight );

	if ( coord.x >= 1.0 ) {

		gl_FragDepth = texture( depthColor, vec3( coord.x - 1.0, coord.y, 1 ) ).r;

	} else {

		gl_FragDepth = texture( depthColor, vec3( coord.x, coord.y, 0 ) ).r;

	}

}`;class e3e{constructor(){this.texture=null,this.mesh=null,this.depthNear=0,this.depthFar=0}init(e,n){if(this.texture===null){const r=new lJ(e.texture);(e.depthNear!==n.depthNear||e.depthFar!==n.depthFar)&&(this.depthNear=e.depthNear,this.depthFar=e.depthFar),this.texture=r}}getMesh(e){if(this.texture!==null&&this.mesh===null){const n=e.cameras[0].viewport,r=new No({vertexShader:J_e,fragmentShader:Z_e,uniforms:{depthColor:{value:this.texture},depthWidth:{value:n.z},depthHeight:{value:n.w}}});this.mesh=new bf(new qF(20,20),r)}return this.mesh}reset(){this.texture=null,this.mesh=null}getDepthTexture(){return this.texture}}class t3e extends tS{constructor(e,n){super();const r=this;let i=null,s=1,o=null,a="local-floor",l=1,u=null,c=null,d=null,f=null,p=null,m=null;const v=typeof XRWebGLBinding<"u",y=new e3e,A={},C=n.getContextAttributes();let E=null,I=null;const D=[],T=[],M=new Er;let P=null;const k=new bc;k.viewport=new sa;const L=new bc;L.viewport=new sa;const $=[k,L],z=new d1e;let j=null,H=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(ae){let de=D[ae];return de===void 0&&(de=new P5,D[ae]=de),de.getTargetRaySpace()},this.getControllerGrip=function(ae){let de=D[ae];return de===void 0&&(de=new P5,D[ae]=de),de.getGripSpace()},this.getHand=function(ae){let de=D[ae];return de===void 0&&(de=new P5,D[ae]=de),de.getHandSpace()};function W(ae){const de=T.indexOf(ae.inputSource);if(de===-1)return;const ge=D[de];ge!==void 0&&(ge.update(ae.inputSource,ae.frame,u||o),ge.dispatchEvent({type:ae.type,data:ae.inputSource}))}function O(){i.removeEventListener("select",W),i.removeEventListener("selectstart",W),i.removeEventListener("selectend",W),i.removeEventListener("squeeze",W),i.removeEventListener("squeezestart",W),i.removeEventListener("squeezeend",W),i.removeEventListener("end",O),i.removeEventListener("inputsourceschange",G);for(let ae=0;ae<D.length;ae++){const de=T[ae];de!==null&&(T[ae]=null,D[ae].disconnect(de))}j=null,H=null,y.reset();for(const ae in A)delete A[ae];e.setRenderTarget(E),p=null,f=null,d=null,i=null,I=null,ue.stop(),r.isPresenting=!1,e.setPixelRatio(P),e.setSize(M.width,M.height,!1),r.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(ae){s=ae,r.isPresenting===!0&&Tr("WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(ae){a=ae,r.isPresenting===!0&&Tr("WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return u||o},this.setReferenceSpace=function(ae){u=ae},this.getBaseLayer=function(){return f!==null?f:p},this.getBinding=function(){return d===null&&v&&(d=new XRWebGLBinding(i,n)),d},this.getFrame=function(){return m},this.getSession=function(){return i},this.setSession=async function(ae){if(i=ae,i!==null){if(E=e.getRenderTarget(),i.addEventListener("select",W),i.addEventListener("selectstart",W),i.addEventListener("selectend",W),i.addEventListener("squeeze",W),i.addEventListener("squeezestart",W),i.addEventListener("squeezeend",W),i.addEventListener("end",O),i.addEventListener("inputsourceschange",G),C.xrCompatible!==!0&&await n.makeXRCompatible(),P=e.getPixelRatio(),e.getSize(M),v&&"createProjectionLayer"in XRWebGLBinding.prototype){let ge=null,_e=null,we=null;C.depth&&(we=C.stencil?n.DEPTH24_STENCIL8:n.DEPTH_COMPONENT24,ge=C.stencil?cx:F0,_e=C.stencil?q_:sm);const ke={colorFormat:n.RGBA8,depthFormat:we,scaleFactor:s};d=this.getBinding(),f=d.createProjectionLayer(ke),i.updateRenderState({layers:[f]}),e.setPixelRatio(1),e.setSize(f.textureWidth,f.textureHeight,!1),I=new Ou(f.textureWidth,f.textureHeight,{format:df,type:uf,depthTexture:new X_(f.textureWidth,f.textureHeight,_e,void 0,void 0,void 0,void 0,void 0,void 0,ge),stencilBuffer:C.stencil,colorSpace:e.outputColorSpace,samples:C.antialias?4:0,resolveDepthBuffer:f.ignoreDepthValues===!1,resolveStencilBuffer:f.ignoreDepthValues===!1})}else{const ge={antialias:C.antialias,alpha:!0,depth:C.depth,stencil:C.stencil,framebufferScaleFactor:s};p=new XRWebGLLayer(i,n,ge),i.updateRenderState({baseLayer:p}),e.setPixelRatio(1),e.setSize(p.framebufferWidth,p.framebufferHeight,!1),I=new Ou(p.framebufferWidth,p.framebufferHeight,{format:df,type:uf,colorSpace:e.outputColorSpace,stencilBuffer:C.stencil,resolveDepthBuffer:p.ignoreDepthValues===!1,resolveStencilBuffer:p.ignoreDepthValues===!1})}I.isXRRenderTarget=!0,this.setFoveation(l),u=null,o=await i.requestReferenceSpace(a),ue.setContext(i),ue.start(),r.isPresenting=!0,r.dispatchEvent({type:"sessionstart"})}},this.getEnvironmentBlendMode=function(){if(i!==null)return i.environmentBlendMode},this.getDepthTexture=function(){return y.getDepthTexture()};function G(ae){for(let de=0;de<ae.removed.length;de++){const ge=ae.removed[de],_e=T.indexOf(ge);_e>=0&&(T[_e]=null,D[_e].disconnect(ge))}for(let de=0;de<ae.added.length;de++){const ge=ae.added[de];let _e=T.indexOf(ge);if(_e===-1){for(let ke=0;ke<D.length;ke++)if(ke>=T.length){T.push(ge),_e=ke;break}else if(T[ke]===null){T[ke]=ge,_e=ke;break}if(_e===-1)break}const we=D[_e];we&&we.connect(ge)}}const q=new rt,J=new rt;function te(ae,de,ge){q.setFromMatrixPosition(de.matrixWorld),J.setFromMatrixPosition(ge.matrixWorld);const _e=q.distanceTo(J),we=de.projectionMatrix.elements,ke=ge.projectionMatrix.elements,Fe=we[14]/(we[10]-1),Ee=we[14]/(we[10]+1),Me=(we[9]+1)/we[5],Ue=(we[9]-1)/we[5],Ge=(we[8]-1)/we[0],ut=(ke[8]+1)/ke[0],ve=Fe*Ge,$e=Fe*ut,gt=_e/(-Ge+ut),it=gt*-Ge;if(de.matrixWorld.decompose(ae.position,ae.quaternion,ae.scale),ae.translateX(it),ae.translateZ(gt),ae.matrixWorld.compose(ae.position,ae.quaternion,ae.scale),ae.matrixWorldInverse.copy(ae.matrixWorld).invert(),we[10]===-1)ae.projectionMatrix.copy(de.projectionMatrix),ae.projectionMatrixInverse.copy(de.projectionMatrixInverse);else{const ot=Fe+gt,le=Ee+gt,se=ve-it,Se=$e+(_e-it),De=Me*Ee/le*ot,Be=Ue*Ee/le*ot;ae.projectionMatrix.makePerspective(se,Se,De,Be,ot,le),ae.projectionMatrixInverse.copy(ae.projectionMatrix).invert()}}function Y(ae,de){de===null?ae.matrixWorld.copy(ae.matrix):ae.matrixWorld.multiplyMatrices(de.matrixWorld,ae.matrix),ae.matrixWorldInverse.copy(ae.matrixWorld).invert()}this.updateCamera=function(ae){if(i===null)return;let de=ae.near,ge=ae.far;y.texture!==null&&(y.depthNear>0&&(de=y.depthNear),y.depthFar>0&&(ge=y.depthFar)),z.near=L.near=k.near=de,z.far=L.far=k.far=ge,(j!==z.near||H!==z.far)&&(i.updateRenderState({depthNear:z.near,depthFar:z.far}),j=z.near,H=z.far),z.layers.mask=ae.layers.mask|6,k.layers.mask=z.layers.mask&3,L.layers.mask=z.layers.mask&5;const _e=ae.parent,we=z.cameras;Y(z,_e);for(let ke=0;ke<we.length;ke++)Y(we[ke],_e);we.length===2?te(z,k,L):z.projectionMatrix.copy(k.projectionMatrix),Z(ae,z,_e)};function Z(ae,de,ge){ge===null?ae.matrix.copy(de.matrixWorld):(ae.matrix.copy(ge.matrixWorld),ae.matrix.invert(),ae.matrix.multiply(de.matrixWorld)),ae.matrix.decompose(ae.position,ae.quaternion,ae.scale),ae.updateMatrixWorld(!0),ae.projectionMatrix.copy(de.projectionMatrix),ae.projectionMatrixInverse.copy(de.projectionMatrixInverse),ae.isPerspectiveCamera&&(ae.fov=N6*2*Math.atan(1/ae.projectionMatrix.elements[5]),ae.zoom=1)}this.getCamera=function(){return z},this.getFoveation=function(){if(!(f===null&&p===null))return l},this.setFoveation=function(ae){l=ae,f!==null&&(f.fixedFoveation=ae),p!==null&&p.fixedFoveation!==void 0&&(p.fixedFoveation=ae)},this.hasDepthSensing=function(){return y.texture!==null},this.getDepthSensingMesh=function(){return y.getMesh(z)},this.getCameraTexture=function(ae){return A[ae]};let ee=null;function ie(ae,de){if(c=de.getViewerPose(u||o),m=de,c!==null){const ge=c.views;p!==null&&(e.setRenderTargetFramebuffer(I,p.framebuffer),e.setRenderTarget(I));let _e=!1;ge.length!==z.cameras.length&&(z.cameras.length=0,_e=!0);for(let Ee=0;Ee<ge.length;Ee++){const Me=ge[Ee];let Ue=null;if(p!==null)Ue=p.getViewport(Me);else{const ut=d.getViewSubImage(f,Me);Ue=ut.viewport,Ee===0&&(e.setRenderTargetTextures(I,ut.colorTexture,ut.depthStencilTexture),e.setRenderTarget(I))}let Ge=$[Ee];Ge===void 0&&(Ge=new bc,Ge.layers.enable(Ee),Ge.viewport=new sa,$[Ee]=Ge),Ge.matrix.fromArray(Me.transform.matrix),Ge.matrix.decompose(Ge.position,Ge.quaternion,Ge.scale),Ge.projectionMatrix.fromArray(Me.projectionMatrix),Ge.projectionMatrixInverse.copy(Ge.projectionMatrix).invert(),Ge.viewport.set(Ue.x,Ue.y,Ue.width,Ue.height),Ee===0&&(z.matrix.copy(Ge.matrix),z.matrix.decompose(z.position,z.quaternion,z.scale)),_e===!0&&z.cameras.push(Ge)}const we=i.enabledFeatures;if(we&&we.includes("depth-sensing")&&i.depthUsage=="gpu-optimized"&&v){d=r.getBinding();const Ee=d.getDepthInformation(ge[0]);Ee&&Ee.isValid&&Ee.texture&&y.init(Ee,i.renderState)}if(we&&we.includes("camera-access")&&v){e.state.unbindTexture(),d=r.getBinding();for(let Ee=0;Ee<ge.length;Ee++){const Me=ge[Ee].camera;if(Me){let Ue=A[Me];Ue||(Ue=new lJ,A[Me]=Ue);const Ge=d.getCameraImage(Me);Ue.sourceTexture=Ge}}}}for(let ge=0;ge<D.length;ge++){const _e=T[ge],we=D[ge];_e!==null&&we!==void 0&&we.update(_e,de,u||o)}ee&&ee(ae,de),de.detectedPlanes&&r.dispatchEvent({type:"planesdetected",data:de}),m=null}const ue=new dJ;ue.setAnimationLoop(ie),this.setAnimationLoop=function(ae){ee=ae},this.dispose=function(){}}}const Bb=new $0,n3e=new fo;function r3e(t,e){function n(y,A){y.matrixAutoUpdate===!0&&y.updateMatrix(),A.value.copy(y.matrix)}function r(y,A){A.color.getRGB(y.fogColor.value,rJ(t)),A.isFog?(y.fogNear.value=A.near,y.fogFar.value=A.far):A.isFogExp2&&(y.fogDensity.value=A.density)}function i(y,A,C,E,I){A.isMeshBasicMaterial||A.isMeshLambertMaterial?s(y,A):A.isMeshToonMaterial?(s(y,A),d(y,A)):A.isMeshPhongMaterial?(s(y,A),c(y,A)):A.isMeshStandardMaterial?(s(y,A),f(y,A),A.isMeshPhysicalMaterial&&p(y,A,I)):A.isMeshMatcapMaterial?(s(y,A),m(y,A)):A.isMeshDepthMaterial?s(y,A):A.isMeshDistanceMaterial?(s(y,A),v(y,A)):A.isMeshNormalMaterial?s(y,A):A.isLineBasicMaterial?(o(y,A),A.isLineDashedMaterial&&a(y,A)):A.isPointsMaterial?l(y,A,C,E):A.isSpriteMaterial?u(y,A):A.isShadowMaterial?(y.color.value.copy(A.color),y.opacity.value=A.opacity):A.isShaderMaterial&&(A.uniformsNeedUpdate=!1)}function s(y,A){y.opacity.value=A.opacity,A.color&&y.diffuse.value.copy(A.color),A.emissive&&y.emissive.value.copy(A.emissive).multiplyScalar(A.emissiveIntensity),A.map&&(y.map.value=A.map,n(A.map,y.mapTransform)),A.alphaMap&&(y.alphaMap.value=A.alphaMap,n(A.alphaMap,y.alphaMapTransform)),A.bumpMap&&(y.bumpMap.value=A.bumpMap,n(A.bumpMap,y.bumpMapTransform),y.bumpScale.value=A.bumpScale,A.side===gd&&(y.bumpScale.value*=-1)),A.normalMap&&(y.normalMap.value=A.normalMap,n(A.normalMap,y.normalMapTransform),y.normalScale.value.copy(A.normalScale),A.side===gd&&y.normalScale.value.negate()),A.displacementMap&&(y.displacementMap.value=A.displacementMap,n(A.displacementMap,y.displacementMapTransform),y.displacementScale.value=A.displacementScale,y.displacementBias.value=A.displacementBias),A.emissiveMap&&(y.emissiveMap.value=A.emissiveMap,n(A.emissiveMap,y.emissiveMapTransform)),A.specularMap&&(y.specularMap.value=A.specularMap,n(A.specularMap,y.specularMapTransform)),A.alphaTest>0&&(y.alphaTest.value=A.alphaTest);const C=e.get(A),E=C.envMap,I=C.envMapRotation;E&&(y.envMap.value=E,Bb.copy(I),Bb.x*=-1,Bb.y*=-1,Bb.z*=-1,E.isCubeTexture&&E.isRenderTargetTexture===!1&&(Bb.y*=-1,Bb.z*=-1),y.envMapRotation.value.setFromMatrix4(n3e.makeRotationFromEuler(Bb)),y.flipEnvMap.value=E.isCubeTexture&&E.isRenderTargetTexture===!1?-1:1,y.reflectivity.value=A.reflectivity,y.ior.value=A.ior,y.refractionRatio.value=A.refractionRatio),A.lightMap&&(y.lightMap.value=A.lightMap,y.lightMapIntensity.value=A.lightMapIntensity,n(A.lightMap,y.lightMapTransform)),A.aoMap&&(y.aoMap.value=A.aoMap,y.aoMapIntensity.value=A.aoMapIntensity,n(A.aoMap,y.aoMapTransform))}function o(y,A){y.diffuse.value.copy(A.color),y.opacity.value=A.opacity,A.map&&(y.map.value=A.map,n(A.map,y.mapTransform))}function a(y,A){y.dashSize.value=A.dashSize,y.totalSize.value=A.dashSize+A.gapSize,y.scale.value=A.scale}function l(y,A,C,E){y.diffuse.value.copy(A.color),y.opacity.value=A.opacity,y.size.value=A.size*C,y.scale.value=E*.5,A.map&&(y.map.value=A.map,n(A.map,y.uvTransform)),A.alphaMap&&(y.alphaMap.value=A.alphaMap,n(A.alphaMap,y.alphaMapTransform)),A.alphaTest>0&&(y.alphaTest.value=A.alphaTest)}function u(y,A){y.diffuse.value.copy(A.color),y.opacity.value=A.opacity,y.rotation.value=A.rotation,A.map&&(y.map.value=A.map,n(A.map,y.mapTransform)),A.alphaMap&&(y.alphaMap.value=A.alphaMap,n(A.alphaMap,y.alphaMapTransform)),A.alphaTest>0&&(y.alphaTest.value=A.alphaTest)}function c(y,A){y.specular.value.copy(A.specular),y.shininess.value=Math.max(A.shininess,1e-4)}function d(y,A){A.gradientMap&&(y.gradientMap.value=A.gradientMap)}function f(y,A){y.metalness.value=A.metalness,A.metalnessMap&&(y.metalnessMap.value=A.metalnessMap,n(A.metalnessMap,y.metalnessMapTransform)),y.roughness.value=A.roughness,A.roughnessMap&&(y.roughnessMap.value=A.roughnessMap,n(A.roughnessMap,y.roughnessMapTransform)),A.envMap&&(y.envMapIntensity.value=A.envMapIntensity)}function p(y,A,C){y.ior.value=A.ior,A.sheen>0&&(y.sheenColor.value.copy(A.sheenColor).multiplyScalar(A.sheen),y.sheenRoughness.value=A.sheenRoughness,A.sheenColorMap&&(y.sheenColorMap.value=A.sheenColorMap,n(A.sheenColorMap,y.sheenColorMapTransform)),A.sheenRoughnessMap&&(y.sheenRoughnessMap.value=A.sheenRoughnessMap,n(A.sheenRoughnessMap,y.sheenRoughnessMapTransform))),A.clearcoat>0&&(y.clearcoat.value=A.clearcoat,y.clearcoatRoughness.value=A.clearcoatRoughness,A.clearcoatMap&&(y.clearcoatMap.value=A.clearcoatMap,n(A.clearcoatMap,y.clearcoatMapTransform)),A.clearcoatRoughnessMap&&(y.clearcoatRoughnessMap.value=A.clearcoatRoughnessMap,n(A.clearcoatRoughnessMap,y.clearcoatRoughnessMapTransform)),A.clearcoatNormalMap&&(y.clearcoatNormalMap.value=A.clearcoatNormalMap,n(A.clearcoatNormalMap,y.clearcoatNormalMapTransform),y.clearcoatNormalScale.value.copy(A.clearcoatNormalScale),A.side===gd&&y.clearcoatNormalScale.value.negate())),A.dispersion>0&&(y.dispersion.value=A.dispersion),A.iridescence>0&&(y.iridescence.value=A.iridescence,y.iridescenceIOR.value=A.iridescenceIOR,y.iridescenceThicknessMinimum.value=A.iridescenceThicknessRange[0],y.iridescenceThicknessMaximum.value=A.iridescenceThicknessRange[1],A.iridescenceMap&&(y.iridescenceMap.value=A.iridescenceMap,n(A.iridescenceMap,y.iridescenceMapTransform)),A.iridescenceThicknessMap&&(y.iridescenceThicknessMap.value=A.iridescenceThicknessMap,n(A.iridescenceThicknessMap,y.iridescenceThicknessMapTransform))),A.transmission>0&&(y.transmission.value=A.transmission,y.transmissionSamplerMap.value=C.texture,y.transmissionSamplerSize.value.set(C.width,C.height),A.transmissionMap&&(y.transmissionMap.value=A.transmissionMap,n(A.transmissionMap,y.transmissionMapTransform)),y.thickness.value=A.thickness,A.thicknessMap&&(y.thicknessMap.value=A.thicknessMap,n(A.thicknessMap,y.thicknessMapTransform)),y.attenuationDistance.value=A.attenuationDistance,y.attenuationColor.value.copy(A.attenuationColor)),A.anisotropy>0&&(y.anisotropyVector.value.set(A.anisotropy*Math.cos(A.anisotropyRotation),A.anisotropy*Math.sin(A.anisotropyRotation)),A.anisotropyMap&&(y.anisotropyMap.value=A.anisotropyMap,n(A.anisotropyMap,y.anisotropyMapTransform))),y.specularIntensity.value=A.specularIntensity,y.specularColor.value.copy(A.specularColor),A.specularColorMap&&(y.specularColorMap.value=A.specularColorMap,n(A.specularColorMap,y.specularColorMapTransform)),A.specularIntensityMap&&(y.specularIntensityMap.value=A.specularIntensityMap,n(A.specularIntensityMap,y.specularIntensityMapTransform))}function m(y,A){A.matcap&&(y.matcap.value=A.matcap)}function v(y,A){const C=e.get(A).light;y.referencePosition.value.setFromMatrixPosition(C.matrixWorld),y.nearDistance.value=C.shadow.camera.near,y.farDistance.value=C.shadow.camera.far}return{refreshFogUniforms:r,refreshMaterialUniforms:i}}function i3e(t,e,n,r){let i={},s={},o=[];const a=t.getParameter(t.MAX_UNIFORM_BUFFER_BINDINGS);function l(C,E){const I=E.program;r.uniformBlockBinding(C,I)}function u(C,E){let I=i[C.id];I===void 0&&(m(C),I=c(C),i[C.id]=I,C.addEventListener("dispose",y));const D=E.program;r.updateUBOMapping(C,D);const T=e.render.frame;s[C.id]!==T&&(f(C),s[C.id]=T)}function c(C){const E=d();C.__bindingPointIndex=E;const I=t.createBuffer(),D=C.__size,T=C.usage;return t.bindBuffer(t.UNIFORM_BUFFER,I),t.bufferData(t.UNIFORM_BUFFER,D,T),t.bindBuffer(t.UNIFORM_BUFFER,null),t.bindBufferBase(t.UNIFORM_BUFFER,E,I),I}function d(){for(let C=0;C<a;C++)if(o.indexOf(C)===-1)return o.push(C),C;return Xi("WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function f(C){const E=i[C.id],I=C.uniforms,D=C.__cache;t.bindBuffer(t.UNIFORM_BUFFER,E);for(let T=0,M=I.length;T<M;T++){const P=Array.isArray(I[T])?I[T]:[I[T]];for(let k=0,L=P.length;k<L;k++){const $=P[k];if(p($,T,k,D)===!0){const z=$.__offset,j=Array.isArray($.value)?$.value:[$.value];let H=0;for(let W=0;W<j.length;W++){const O=j[W],G=v(O);typeof O=="number"||typeof O=="boolean"?($.__data[0]=O,t.bufferSubData(t.UNIFORM_BUFFER,z+H,$.__data)):O.isMatrix3?($.__data[0]=O.elements[0],$.__data[1]=O.elements[1],$.__data[2]=O.elements[2],$.__data[3]=0,$.__data[4]=O.elements[3],$.__data[5]=O.elements[4],$.__data[6]=O.elements[5],$.__data[7]=0,$.__data[8]=O.elements[6],$.__data[9]=O.elements[7],$.__data[10]=O.elements[8],$.__data[11]=0):(O.toArray($.__data,H),H+=G.storage/Float32Array.BYTES_PER_ELEMENT)}t.bufferSubData(t.UNIFORM_BUFFER,z,$.__data)}}}t.bindBuffer(t.UNIFORM_BUFFER,null)}function p(C,E,I,D){const T=C.value,M=E+"_"+I;if(D[M]===void 0)return typeof T=="number"||typeof T=="boolean"?D[M]=T:D[M]=T.clone(),!0;{const P=D[M];if(typeof T=="number"||typeof T=="boolean"){if(P!==T)return D[M]=T,!0}else if(P.equals(T)===!1)return P.copy(T),!0}return!1}function m(C){const E=C.uniforms;let I=0;const D=16;for(let M=0,P=E.length;M<P;M++){const k=Array.isArray(E[M])?E[M]:[E[M]];for(let L=0,$=k.length;L<$;L++){const z=k[L],j=Array.isArray(z.value)?z.value:[z.value];for(let H=0,W=j.length;H<W;H++){const O=j[H],G=v(O),q=I%D,J=q%G.boundary,te=q+J;I+=J,te!==0&&D-te<G.storage&&(I+=D-te),z.__data=new Float32Array(G.storage/Float32Array.BYTES_PER_ELEMENT),z.__offset=I,I+=G.storage}}}const T=I%D;return T>0&&(I+=D-T),C.__size=I,C.__cache={},this}function v(C){const E={boundary:0,storage:0};return typeof C=="number"||typeof C=="boolean"?(E.boundary=4,E.storage=4):C.isVector2?(E.boundary=8,E.storage=8):C.isVector3||C.isColor?(E.boundary=16,E.storage=12):C.isVector4?(E.boundary=16,E.storage=16):C.isMatrix3?(E.boundary=48,E.storage=48):C.isMatrix4?(E.boundary=64,E.storage=64):C.isTexture?Tr("WebGLRenderer: Texture samplers can not be part of an uniforms group."):Tr("WebGLRenderer: Unsupported uniform value type.",C),E}function y(C){const E=C.target;E.removeEventListener("dispose",y);const I=o.indexOf(E.__bindingPointIndex);o.splice(I,1),t.deleteBuffer(i[E.id]),delete i[E.id],delete s[E.id]}function A(){for(const C in i)t.deleteBuffer(i[C]);o=[],i={},s={}}return{bind:l,update:u,dispose:A}}const s3e=new Uint16Array([12469,15057,12620,14925,13266,14620,13807,14376,14323,13990,14545,13625,14713,13328,14840,12882,14931,12528,14996,12233,15039,11829,15066,11525,15080,11295,15085,10976,15082,10705,15073,10495,13880,14564,13898,14542,13977,14430,14158,14124,14393,13732,14556,13410,14702,12996,14814,12596,14891,12291,14937,11834,14957,11489,14958,11194,14943,10803,14921,10506,14893,10278,14858,9960,14484,14039,14487,14025,14499,13941,14524,13740,14574,13468,14654,13106,14743,12678,14818,12344,14867,11893,14889,11509,14893,11180,14881,10751,14852,10428,14812,10128,14765,9754,14712,9466,14764,13480,14764,13475,14766,13440,14766,13347,14769,13070,14786,12713,14816,12387,14844,11957,14860,11549,14868,11215,14855,10751,14825,10403,14782,10044,14729,9651,14666,9352,14599,9029,14967,12835,14966,12831,14963,12804,14954,12723,14936,12564,14917,12347,14900,11958,14886,11569,14878,11247,14859,10765,14828,10401,14784,10011,14727,9600,14660,9289,14586,8893,14508,8533,15111,12234,15110,12234,15104,12216,15092,12156,15067,12010,15028,11776,14981,11500,14942,11205,14902,10752,14861,10393,14812,9991,14752,9570,14682,9252,14603,8808,14519,8445,14431,8145,15209,11449,15208,11451,15202,11451,15190,11438,15163,11384,15117,11274,15055,10979,14994,10648,14932,10343,14871,9936,14803,9532,14729,9218,14645,8742,14556,8381,14461,8020,14365,7603,15273,10603,15272,10607,15267,10619,15256,10631,15231,10614,15182,10535,15118,10389,15042,10167,14963,9787,14883,9447,14800,9115,14710,8665,14615,8318,14514,7911,14411,7507,14279,7198,15314,9675,15313,9683,15309,9712,15298,9759,15277,9797,15229,9773,15166,9668,15084,9487,14995,9274,14898,8910,14800,8539,14697,8234,14590,7790,14479,7409,14367,7067,14178,6621,15337,8619,15337,8631,15333,8677,15325,8769,15305,8871,15264,8940,15202,8909,15119,8775,15022,8565,14916,8328,14804,8009,14688,7614,14569,7287,14448,6888,14321,6483,14088,6171,15350,7402,15350,7419,15347,7480,15340,7613,15322,7804,15287,7973,15229,8057,15148,8012,15046,7846,14933,7611,14810,7357,14682,7069,14552,6656,14421,6316,14251,5948,14007,5528,15356,5942,15356,5977,15353,6119,15348,6294,15332,6551,15302,6824,15249,7044,15171,7122,15070,7050,14949,6861,14818,6611,14679,6349,14538,6067,14398,5651,14189,5311,13935,4958,15359,4123,15359,4153,15356,4296,15353,4646,15338,5160,15311,5508,15263,5829,15188,6042,15088,6094,14966,6001,14826,5796,14678,5543,14527,5287,14377,4985,14133,4586,13869,4257,15360,1563,15360,1642,15358,2076,15354,2636,15341,3350,15317,4019,15273,4429,15203,4732,15105,4911,14981,4932,14836,4818,14679,4621,14517,4386,14359,4156,14083,3795,13808,3437,15360,122,15360,137,15358,285,15355,636,15344,1274,15322,2177,15281,2765,15215,3223,15120,3451,14995,3569,14846,3567,14681,3466,14511,3305,14344,3121,14037,2800,13753,2467,15360,0,15360,1,15359,21,15355,89,15346,253,15325,479,15287,796,15225,1148,15133,1492,15008,1749,14856,1882,14685,1886,14506,1783,14324,1608,13996,1398,13702,1183]);let Rg=null;function o3e(){return Rg===null&&(Rg=new KF(s3e,16,16,IE,Ic),Rg.name="DFG_LUT",Rg.minFilter=Wo,Rg.magFilter=Wo,Rg.wrapS=C0,Rg.wrapT=C0,Rg.generateMipmaps=!1,Rg.needsUpdate=!0),Rg}class W3{constructor(e={}){const{canvas:n=MCe(),context:r=null,depth:i=!0,stencil:s=!1,alpha:o=!1,antialias:a=!1,premultipliedAlpha:l=!0,preserveDrawingBuffer:u=!1,powerPreference:c="default",failIfMajorPerformanceCaveat:d=!1,reversedDepthBuffer:f=!1,outputBufferType:p=uf}=e;this.isWebGLRenderer=!0;let m;if(r!==null){if(typeof WebGLRenderingContext<"u"&&r instanceof WebGLRenderingContext)throw new Error("THREE.WebGLRenderer: WebGL 1 is not supported since r163.");m=r.getContextAttributes().alpha}else m=o;const v=p,y=new Set([jF,OF,zF]),A=new Set([uf,sm,W_,q_,LF,FF]),C=new Uint32Array(4),E=new Int32Array(4);let I=null,D=null;const T=[],M=[];let P=null;this.domElement=n,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.toneMapping=em,this.toneMappingExposure=1,this.transmissionResolutionScale=1;const k=this;let L=!1;this._outputColorSpace=rf;let $=0,z=0,j=null,H=-1,W=null;const O=new sa,G=new sa;let q=null;const J=new Gr(0);let te=0,Y=n.width,Z=n.height,ee=1,ie=null,ue=null;const ae=new sa(0,0,Y,Z),de=new sa(0,0,Y,Z);let ge=!1;const _e=new aJ;let we=!1,ke=!1;const Fe=new fo,Ee=new rt,Me=new sa,Ue={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};let Ge=!1;function ut(){return j===null?ee:1}let ve=r;function $e(me,He){return n.getContext(me,He)}try{const me={alpha:!0,depth:i,stencil:s,antialias:a,premultipliedAlpha:l,preserveDrawingBuffer:u,powerPreference:c,failIfMajorPerformanceCaveat:d};if("setAttribute"in n&&n.setAttribute("data-engine",`three.js r${IF}`),n.addEventListener("webglcontextlost",ct,!1),n.addEventListener("webglcontextrestored",Bt,!1),n.addEventListener("webglcontextcreationerror",Rt,!1),ve===null){const He="webgl2";if(ve=$e(He,me),ve===null)throw $e(He)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}}catch(me){throw Xi("WebGLRenderer: "+me.message),me}let gt,it,ot,le,se,Se,De,Be,ze,kt,Et,zt,Mt,at,At,Pt,wt,Lt,un,Oe,Wt,Vt,Xt,It;function St(){gt=new owe(ve),gt.init(),Vt=new X_e(ve,gt),it=new XSe(ve,gt,e,Vt),ot=new q_e(ve,gt),it.reversedDepthBuffer&&f&&ot.buffers.depth.setReversed(!0),le=new uwe(ve),se=new R_e,Se=new Y_e(ve,gt,ot,se,it,Vt,le),De=new ZSe(k),Be=new swe(k),ze=new f1e(ve),Xt=new qSe(ve,ze),kt=new awe(ve,ze,le,Xt),Et=new dwe(ve,kt,ze,le),un=new cwe(ve,it,Se),Pt=new JSe(se),zt=new P_e(k,De,Be,gt,it,Xt,Pt),Mt=new r3e(k,se),at=new L_e,At=new Q_e(gt),Lt=new WSe(k,De,Be,ot,Et,m,l),wt=new K_e(k,Et,it),It=new i3e(ve,le,it,ot),Oe=new YSe(ve,gt,le),Wt=new lwe(ve,gt,le),le.programs=zt.programs,k.capabilities=it,k.extensions=gt,k.properties=se,k.renderLists=at,k.shadowMap=wt,k.state=ot,k.info=le}St(),v!==uf&&(P=new fwe(v,n.width,n.height,i,s));const qt=new t3e(k,ve);this.xr=qt,this.getContext=function(){return ve},this.getContextAttributes=function(){return ve.getContextAttributes()},this.forceContextLoss=function(){const me=gt.get("WEBGL_lose_context");me&&me.loseContext()},this.forceContextRestore=function(){const me=gt.get("WEBGL_lose_context");me&&me.restoreContext()},this.getPixelRatio=function(){return ee},this.setPixelRatio=function(me){me!==void 0&&(ee=me,this.setSize(Y,Z,!1))},this.getSize=function(me){return me.set(Y,Z)},this.setSize=function(me,He,dt=!0){if(qt.isPresenting){Tr("WebGLRenderer: Can't change size while VR device is presenting.");return}Y=me,Z=He,n.width=Math.floor(me*ee),n.height=Math.floor(He*ee),dt===!0&&(n.style.width=me+"px",n.style.height=He+"px"),P!==null&&P.setSize(n.width,n.height),this.setViewport(0,0,me,He)},this.getDrawingBufferSize=function(me){return me.set(Y*ee,Z*ee).floor()},this.setDrawingBufferSize=function(me,He,dt){Y=me,Z=He,ee=dt,n.width=Math.floor(me*dt),n.height=Math.floor(He*dt),this.setViewport(0,0,me,He)},this.setEffects=function(me){if(v===uf){console.error("THREE.WebGLRenderer: setEffects() requires outputBufferType set to HalfFloatType or FloatType.");return}if(me){for(let He=0;He<me.length;He++)if(me[He].isOutputPass===!0){console.warn("THREE.WebGLRenderer: OutputPass is not needed in setEffects(). Tone mapping and color space conversion are applied automatically.");break}}P.setEffects(me||[])},this.getCurrentViewport=function(me){return me.copy(O)},this.getViewport=function(me){return me.copy(ae)},this.setViewport=function(me,He,dt,tt){me.isVector4?ae.set(me.x,me.y,me.z,me.w):ae.set(me,He,dt,tt),ot.viewport(O.copy(ae).multiplyScalar(ee).round())},this.getScissor=function(me){return me.copy(de)},this.setScissor=function(me,He,dt,tt){me.isVector4?de.set(me.x,me.y,me.z,me.w):de.set(me,He,dt,tt),ot.scissor(G.copy(de).multiplyScalar(ee).round())},this.getScissorTest=function(){return ge},this.setScissorTest=function(me){ot.setScissorTest(ge=me)},this.setOpaqueSort=function(me){ie=me},this.setTransparentSort=function(me){ue=me},this.getClearColor=function(me){return me.copy(Lt.getClearColor())},this.setClearColor=function(){Lt.setClearColor(...arguments)},this.getClearAlpha=function(){return Lt.getClearAlpha()},this.setClearAlpha=function(){Lt.setClearAlpha(...arguments)},this.clear=function(me=!0,He=!0,dt=!0){let tt=0;if(me){let Xe=!1;if(j!==null){const sn=j.texture.format;Xe=y.has(sn)}if(Xe){const sn=j.texture.type,cn=A.has(sn),tn=Lt.getClearColor(),hn=Lt.getClearAlpha(),bn=tn.r,he=tn.g,pe=tn.b;cn?(C[0]=bn,C[1]=he,C[2]=pe,C[3]=hn,ve.clearBufferuiv(ve.COLOR,0,C)):(E[0]=bn,E[1]=he,E[2]=pe,E[3]=hn,ve.clearBufferiv(ve.COLOR,0,E))}else tt|=ve.COLOR_BUFFER_BIT}He&&(tt|=ve.DEPTH_BUFFER_BIT),dt&&(tt|=ve.STENCIL_BUFFER_BIT,this.state.buffers.stencil.setMask(4294967295)),ve.clear(tt)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){n.removeEventListener("webglcontextlost",ct,!1),n.removeEventListener("webglcontextrestored",Bt,!1),n.removeEventListener("webglcontextcreationerror",Rt,!1),Lt.dispose(),at.dispose(),At.dispose(),se.dispose(),De.dispose(),Be.dispose(),Et.dispose(),Xt.dispose(),It.dispose(),zt.dispose(),qt.dispose(),qt.removeEventListener("sessionstart",yr),qt.removeEventListener("sessionend",zr),ii.stop()};function ct(me){me.preventDefault(),aO("WebGLRenderer: Context Lost."),L=!0}function Bt(){aO("WebGLRenderer: Context Restored."),L=!1;const me=le.autoReset,He=wt.enabled,dt=wt.autoUpdate,tt=wt.needsUpdate,Xe=wt.type;St(),le.autoReset=me,wt.enabled=He,wt.autoUpdate=dt,wt.needsUpdate=tt,wt.type=Xe}function Rt(me){Xi("WebGLRenderer: A WebGL context could not be created. Reason: ",me.statusMessage)}function Ht(me){const He=me.target;He.removeEventListener("dispose",Ht),Vn(He)}function Vn(me){In(me),se.remove(me)}function In(me){const He=se.get(me).programs;He!==void 0&&(He.forEach(function(dt){zt.releaseProgram(dt)}),me.isShaderMaterial&&zt.releaseShaderCache(me))}this.renderBufferDirect=function(me,He,dt,tt,Xe,sn){He===null&&(He=Ue);const cn=Xe.isMesh&&Xe.matrixWorld.determinant()<0,tn=Nl(me,He,dt,tt,Xe);ot.setMaterial(tt,cn);let hn=dt.index,bn=1;if(tt.wireframe===!0){if(hn=kt.getWireframeAttribute(dt),hn===void 0)return;bn=2}const he=dt.drawRange,pe=dt.attributes.position;let Ie=he.start*bn,Le=(he.start+he.count)*bn;sn!==null&&(Ie=Math.max(Ie,sn.start*bn),Le=Math.min(Le,(sn.start+sn.count)*bn)),hn!==null?(Ie=Math.max(Ie,0),Le=Math.min(Le,hn.count)):pe!=null&&(Ie=Math.max(Ie,0),Le=Math.min(Le,pe.count));const Ke=Le-Ie;if(Ke<0||Ke===1/0)return;Xt.setup(Xe,tt,tn,dt,hn);let pt,Ct=Oe;if(hn!==null&&(pt=ze.get(hn),Ct=Wt,Ct.setIndex(pt)),Xe.isMesh)tt.wireframe===!0?(ot.setLineWidth(tt.wireframeLinewidth*ut()),Ct.setMode(ve.LINES)):Ct.setMode(ve.TRIANGLES);else if(Xe.isLine){let nt=tt.linewidth;nt===void 0&&(nt=1),ot.setLineWidth(nt*ut()),Xe.isLineSegments?Ct.setMode(ve.LINES):Xe.isLineLoop?Ct.setMode(ve.LINE_LOOP):Ct.setMode(ve.LINE_STRIP)}else Xe.isPoints?Ct.setMode(ve.POINTS):Xe.isSprite&&Ct.setMode(ve.TRIANGLES);if(Xe.isBatchedMesh)if(Xe._multiDrawInstances!==null)Y_("WebGLRenderer: renderMultiDrawInstances has been deprecated and will be removed in r184. Append to renderMultiDraw arguments and use indirection."),Ct.renderMultiDrawInstances(Xe._multiDrawStarts,Xe._multiDrawCounts,Xe._multiDrawCount,Xe._multiDrawInstances);else if(gt.get("WEBGL_multi_draw"))Ct.renderMultiDraw(Xe._multiDrawStarts,Xe._multiDrawCounts,Xe._multiDrawCount);else{const nt=Xe._multiDrawStarts,Ft=Xe._multiDrawCounts,xt=Xe._multiDrawCount,Jt=hn?ze.get(hn).bytesPerElement:1,En=se.get(tt).currentProgram.getUniforms();for(let Un=0;Un<xt;Un++)En.setValue(ve,"_gl_DrawID",Un),Ct.render(nt[Un]/Jt,Ft[Un])}else if(Xe.isInstancedMesh)Ct.renderInstances(Ie,Ke,Xe.count);else if(dt.isInstancedBufferGeometry){const nt=dt._maxInstanceCount!==void 0?dt._maxInstanceCount:1/0,Ft=Math.min(dt.instanceCount,nt);Ct.renderInstances(Ie,Ke,Ft)}else Ct.render(Ie,Ke)};function rn(me,He,dt){me.transparent===!0&&me.side===qg&&me.forceSinglePass===!1?(me.side=gd,me.needsUpdate=!0,ul(me,He,dt),me.side=Jy,me.needsUpdate=!0,ul(me,He,dt),me.side=qg):ul(me,He,dt)}this.compile=function(me,He,dt=null){dt===null&&(dt=me),D=At.get(dt),D.init(He),M.push(D),dt.traverseVisible(function(Xe){Xe.isLight&&Xe.layers.test(He.layers)&&(D.pushLight(Xe),Xe.castShadow&&D.pushShadow(Xe))}),me!==dt&&me.traverseVisible(function(Xe){Xe.isLight&&Xe.layers.test(He.layers)&&(D.pushLight(Xe),Xe.castShadow&&D.pushShadow(Xe))}),D.setupLights();const tt=new Set;return me.traverse(function(Xe){if(!(Xe.isMesh||Xe.isPoints||Xe.isLine||Xe.isSprite))return;const sn=Xe.material;if(sn)if(Array.isArray(sn))for(let cn=0;cn<sn.length;cn++){const tn=sn[cn];rn(tn,dt,Xe),tt.add(tn)}else rn(sn,dt,Xe),tt.add(sn)}),D=M.pop(),tt},this.compileAsync=function(me,He,dt=null){const tt=this.compile(me,He,dt);return new Promise(Xe=>{function sn(){if(tt.forEach(function(cn){se.get(cn).currentProgram.isReady()&&tt.delete(cn)}),tt.size===0){Xe(me);return}setTimeout(sn,10)}gt.get("KHR_parallel_shader_compile")!==null?sn():setTimeout(sn,10)})};let ln=null;function nr(me){ln&&ln(me)}function yr(){ii.stop()}function zr(){ii.start()}const ii=new dJ;ii.setAnimationLoop(nr),typeof self<"u"&&ii.setContext(self),this.setAnimationLoop=function(me){ln=me,qt.setAnimationLoop(me),me===null?ii.stop():ii.start()},qt.addEventListener("sessionstart",yr),qt.addEventListener("sessionend",zr),this.render=function(me,He){if(He!==void 0&&He.isCamera!==!0){Xi("WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(L===!0)return;const dt=qt.enabled===!0&&qt.isPresenting===!0,tt=P!==null&&(j===null||dt)&&P.begin(k,j);if(me.matrixWorldAutoUpdate===!0&&me.updateMatrixWorld(),He.parent===null&&He.matrixWorldAutoUpdate===!0&&He.updateMatrixWorld(),qt.enabled===!0&&qt.isPresenting===!0&&(P===null||P.isCompositing()===!1)&&(qt.cameraAutoUpdate===!0&&qt.updateCamera(He),He=qt.getCamera()),me.isScene===!0&&me.onBeforeRender(k,me,He,j),D=At.get(me,M.length),D.init(He),M.push(D),Fe.multiplyMatrices(He.projectionMatrix,He.matrixWorldInverse),_e.setFromProjectionMatrix(Fe,Yg,He.reversedDepth),ke=this.localClippingEnabled,we=Pt.init(this.clippingPlanes,ke),I=at.get(me,T.length),I.init(),T.push(I),qt.enabled===!0&&qt.isPresenting===!0){const cn=k.xr.getDepthSensingMesh();cn!==null&&Or(cn,He,-1/0,k.sortObjects)}Or(me,He,0,k.sortObjects),I.finish(),k.sortObjects===!0&&I.sort(ie,ue),Ge=qt.enabled===!1||qt.isPresenting===!1||qt.hasDepthSensing()===!1,Ge&&Lt.addToRenderList(I,me),this.info.render.frame++,we===!0&&Pt.beginShadows();const Xe=D.state.shadowsArray;if(wt.render(Xe,me,He),we===!0&&Pt.endShadows(),this.info.autoReset===!0&&this.info.reset(),(tt&&P.hasRenderPass())===!1){const cn=I.opaque,tn=I.transmissive;if(D.setupLights(),He.isArrayCamera){const hn=He.cameras;if(tn.length>0)for(let bn=0,he=hn.length;bn<he;bn++){const pe=hn[bn];Hi(cn,tn,me,pe)}Ge&&Lt.render(me);for(let bn=0,he=hn.length;bn<he;bn++){const pe=hn[bn];Wn(I,me,pe,pe.viewport)}}else tn.length>0&&Hi(cn,tn,me,He),Ge&&Lt.render(me),Wn(I,me,He)}j!==null&&z===0&&(Se.updateMultisampleRenderTarget(j),Se.updateRenderTargetMipmap(j)),tt&&P.end(k),me.isScene===!0&&me.onAfterRender(k,me,He),Xt.resetDefaultState(),H=-1,W=null,M.pop(),M.length>0?(D=M[M.length-1],we===!0&&Pt.setGlobalState(k.clippingPlanes,D.state.camera)):D=null,T.pop(),T.length>0?I=T[T.length-1]:I=null};function Or(me,He,dt,tt){if(me.visible===!1)return;if(me.layers.test(He.layers)){if(me.isGroup)dt=me.renderOrder;else if(me.isLOD)me.autoUpdate===!0&&me.update(He);else if(me.isLight)D.pushLight(me),me.castShadow&&D.pushShadow(me);else if(me.isSprite){if(!me.frustumCulled||_e.intersectsSprite(me)){tt&&Me.setFromMatrixPosition(me.matrixWorld).applyMatrix4(Fe);const cn=Et.update(me),tn=me.material;tn.visible&&I.push(me,cn,tn,dt,Me.z,null)}}else if((me.isMesh||me.isLine||me.isPoints)&&(!me.frustumCulled||_e.intersectsObject(me))){const cn=Et.update(me),tn=me.material;if(tt&&(me.boundingSphere!==void 0?(me.boundingSphere===null&&me.computeBoundingSphere(),Me.copy(me.boundingSphere.center)):(cn.boundingSphere===null&&cn.computeBoundingSphere(),Me.copy(cn.boundingSphere.center)),Me.applyMatrix4(me.matrixWorld).applyMatrix4(Fe)),Array.isArray(tn)){const hn=cn.groups;for(let bn=0,he=hn.length;bn<he;bn++){const pe=hn[bn],Ie=tn[pe.materialIndex];Ie&&Ie.visible&&I.push(me,cn,Ie,dt,Me.z,pe)}}else tn.visible&&I.push(me,cn,tn,dt,Me.z,null)}}const sn=me.children;for(let cn=0,tn=sn.length;cn<tn;cn++)Or(sn[cn],He,dt,tt)}function Wn(me,He,dt,tt){const{opaque:Xe,transmissive:sn,transparent:cn}=me;D.setupLightsView(dt),we===!0&&Pt.setGlobalState(k.clippingPlanes,dt),tt&&ot.viewport(O.copy(tt)),Xe.length>0&&fs(Xe,He,dt),sn.length>0&&fs(sn,He,dt),cn.length>0&&fs(cn,He,dt),ot.buffers.depth.setTest(!0),ot.buffers.depth.setMask(!0),ot.buffers.color.setMask(!0),ot.setPolygonOffset(!1)}function Hi(me,He,dt,tt){if((dt.isScene===!0?dt.overrideMaterial:null)!==null)return;if(D.state.transmissionRenderTarget[tt.id]===void 0){const Ie=gt.has("EXT_color_buffer_half_float")||gt.has("EXT_color_buffer_float");D.state.transmissionRenderTarget[tt.id]=new Ou(1,1,{generateMipmaps:!0,type:Ie?Ic:uf,minFilter:ux,samples:it.samples,stencilBuffer:s,resolveDepthBuffer:!1,resolveStencilBuffer:!1,colorSpace:Ri.workingColorSpace})}const sn=D.state.transmissionRenderTarget[tt.id],cn=tt.viewport||O;sn.setSize(cn.z*k.transmissionResolutionScale,cn.w*k.transmissionResolutionScale);const tn=k.getRenderTarget(),hn=k.getActiveCubeFace(),bn=k.getActiveMipmapLevel();k.setRenderTarget(sn),k.getClearColor(J),te=k.getClearAlpha(),te<1&&k.setClearColor(16777215,.5),k.clear(),Ge&&Lt.render(dt);const he=k.toneMapping;k.toneMapping=em;const pe=tt.viewport;if(tt.viewport!==void 0&&(tt.viewport=void 0),D.setupLightsView(tt),we===!0&&Pt.setGlobalState(k.clippingPlanes,tt),fs(me,dt,tt),Se.updateMultisampleRenderTarget(sn),Se.updateRenderTargetMipmap(sn),gt.has("WEBGL_multisampled_render_to_texture")===!1){let Ie=!1;for(let Le=0,Ke=He.length;Le<Ke;Le++){const pt=He[Le],{object:Ct,geometry:nt,material:Ft,group:xt}=pt;if(Ft.side===qg&&Ct.layers.test(tt.layers)){const Jt=Ft.side;Ft.side=gd,Ft.needsUpdate=!0,ua(Ct,dt,tt,nt,Ft,xt),Ft.side=Jt,Ft.needsUpdate=!0,Ie=!0}}Ie===!0&&(Se.updateMultisampleRenderTarget(sn),Se.updateRenderTargetMipmap(sn))}k.setRenderTarget(tn,hn,bn),k.setClearColor(J,te),pe!==void 0&&(tt.viewport=pe),k.toneMapping=he}function fs(me,He,dt){const tt=He.isScene===!0?He.overrideMaterial:null;for(let Xe=0,sn=me.length;Xe<sn;Xe++){const cn=me[Xe],{object:tn,geometry:hn,group:bn}=cn;let he=cn.material;he.allowOverride===!0&&tt!==null&&(he=tt),tn.layers.test(dt.layers)&&ua(tn,He,dt,hn,he,bn)}}function ua(me,He,dt,tt,Xe,sn){me.onBeforeRender(k,He,dt,tt,Xe,sn),me.modelViewMatrix.multiplyMatrices(dt.matrixWorldInverse,me.matrixWorld),me.normalMatrix.getNormalMatrix(me.modelViewMatrix),Xe.onBeforeRender(k,He,dt,tt,me,sn),Xe.transparent===!0&&Xe.side===qg&&Xe.forceSinglePass===!1?(Xe.side=gd,Xe.needsUpdate=!0,k.renderBufferDirect(dt,He,tt,Xe,me,sn),Xe.side=Jy,Xe.needsUpdate=!0,k.renderBufferDirect(dt,He,tt,Xe,me,sn),Xe.side=qg):k.renderBufferDirect(dt,He,tt,Xe,me,sn),me.onAfterRender(k,He,dt,tt,Xe,sn)}function ul(me,He,dt){He.isScene!==!0&&(He=Ue);const tt=se.get(me),Xe=D.state.lights,sn=D.state.shadowsArray,cn=Xe.state.version,tn=zt.getParameters(me,Xe.state,sn,He,dt),hn=zt.getProgramCacheKey(tn);let bn=tt.programs;tt.environment=me.isMeshStandardMaterial?He.environment:null,tt.fog=He.fog,tt.envMap=(me.isMeshStandardMaterial?Be:De).get(me.envMap||tt.environment),tt.envMapRotation=tt.environment!==null&&me.envMap===null?He.environmentRotation:me.envMapRotation,bn===void 0&&(me.addEventListener("dispose",Ht),bn=new Map,tt.programs=bn);let he=bn.get(hn);if(he!==void 0){if(tt.currentProgram===he&&tt.lightsStateVersion===cn)return Vu(me,tn),he}else tn.uniforms=zt.getUniforms(me),me.onBeforeCompile(tn,k),he=zt.acquireProgram(tn,hn),bn.set(hn,he),tt.uniforms=tn.uniforms;const pe=tt.uniforms;return(!me.isShaderMaterial&&!me.isRawShaderMaterial||me.clipping===!0)&&(pe.clippingPlanes=Pt.uniform),Vu(me,tn),tt.needsLights=Vi(me),tt.lightsStateVersion=cn,tt.needsLights&&(pe.ambientLightColor.value=Xe.state.ambient,pe.lightProbe.value=Xe.state.probe,pe.directionalLights.value=Xe.state.directional,pe.directionalLightShadows.value=Xe.state.directionalShadow,pe.spotLights.value=Xe.state.spot,pe.spotLightShadows.value=Xe.state.spotShadow,pe.rectAreaLights.value=Xe.state.rectArea,pe.ltc_1.value=Xe.state.rectAreaLTC1,pe.ltc_2.value=Xe.state.rectAreaLTC2,pe.pointLights.value=Xe.state.point,pe.pointLightShadows.value=Xe.state.pointShadow,pe.hemisphereLights.value=Xe.state.hemi,pe.directionalShadowMap.value=Xe.state.directionalShadowMap,pe.directionalShadowMatrix.value=Xe.state.directionalShadowMatrix,pe.spotShadowMap.value=Xe.state.spotShadowMap,pe.spotLightMatrix.value=Xe.state.spotLightMatrix,pe.spotLightMap.value=Xe.state.spotLightMap,pe.pointShadowMap.value=Xe.state.pointShadowMap,pe.pointShadowMatrix.value=Xe.state.pointShadowMatrix),tt.currentProgram=he,tt.uniformsList=null,he}function Tc(me){if(me.uniformsList===null){const He=me.currentProgram.getUniforms();me.uniformsList=wB.seqWithValue(He.seq,me.uniforms)}return me.uniformsList}function Vu(me,He){const dt=se.get(me);dt.outputColorSpace=He.outputColorSpace,dt.batching=He.batching,dt.batchingColor=He.batchingColor,dt.instancing=He.instancing,dt.instancingColor=He.instancingColor,dt.instancingMorph=He.instancingMorph,dt.skinning=He.skinning,dt.morphTargets=He.morphTargets,dt.morphNormals=He.morphNormals,dt.morphColors=He.morphColors,dt.morphTargetsCount=He.morphTargetsCount,dt.numClippingPlanes=He.numClippingPlanes,dt.numIntersection=He.numClipIntersection,dt.vertexAlphas=He.vertexAlphas,dt.vertexTangents=He.vertexTangents,dt.toneMapping=He.toneMapping}function Nl(me,He,dt,tt,Xe){He.isScene!==!0&&(He=Ue),Se.resetTextureUnits();const sn=He.fog,cn=tt.isMeshStandardMaterial?He.environment:null,tn=j===null?k.outputColorSpace:j.isXRRenderTarget===!0?j.texture.colorSpace:BE,hn=(tt.isMeshStandardMaterial?Be:De).get(tt.envMap||cn),bn=tt.vertexColors===!0&&!!dt.attributes.color&&dt.attributes.color.itemSize===4,he=!!dt.attributes.tangent&&(!!tt.normalMap||tt.anisotropy>0),pe=!!dt.morphAttributes.position,Ie=!!dt.morphAttributes.normal,Le=!!dt.morphAttributes.color;let Ke=em;tt.toneMapped&&(j===null||j.isXRRenderTarget===!0)&&(Ke=k.toneMapping);const pt=dt.morphAttributes.position||dt.morphAttributes.normal||dt.morphAttributes.color,Ct=pt!==void 0?pt.length:0,nt=se.get(tt),Ft=D.state.lights;if(we===!0&&(ke===!0||me!==W)){const Ji=me===W&&tt.id===H;Pt.setState(tt,me,Ji)}let xt=!1;tt.version===nt.__version?(nt.needsLights&&nt.lightsStateVersion!==Ft.state.version||nt.outputColorSpace!==tn||Xe.isBatchedMesh&&nt.batching===!1||!Xe.isBatchedMesh&&nt.batching===!0||Xe.isBatchedMesh&&nt.batchingColor===!0&&Xe.colorTexture===null||Xe.isBatchedMesh&&nt.batchingColor===!1&&Xe.colorTexture!==null||Xe.isInstancedMesh&&nt.instancing===!1||!Xe.isInstancedMesh&&nt.instancing===!0||Xe.isSkinnedMesh&&nt.skinning===!1||!Xe.isSkinnedMesh&&nt.skinning===!0||Xe.isInstancedMesh&&nt.instancingColor===!0&&Xe.instanceColor===null||Xe.isInstancedMesh&&nt.instancingColor===!1&&Xe.instanceColor!==null||Xe.isInstancedMesh&&nt.instancingMorph===!0&&Xe.morphTexture===null||Xe.isInstancedMesh&&nt.instancingMorph===!1&&Xe.morphTexture!==null||nt.envMap!==hn||tt.fog===!0&&nt.fog!==sn||nt.numClippingPlanes!==void 0&&(nt.numClippingPlanes!==Pt.numPlanes||nt.numIntersection!==Pt.numIntersection)||nt.vertexAlphas!==bn||nt.vertexTangents!==he||nt.morphTargets!==pe||nt.morphNormals!==Ie||nt.morphColors!==Le||nt.toneMapping!==Ke||nt.morphTargetsCount!==Ct)&&(xt=!0):(xt=!0,nt.__version=tt.version);let Jt=nt.currentProgram;xt===!0&&(Jt=ul(tt,He,Xe));let En=!1,Un=!1,jr=!1;const _n=Jt.getUniforms(),Nr=nt.uniforms;if(ot.useProgram(Jt.program)&&(En=!0,Un=!0,jr=!0),tt.id!==H&&(H=tt.id,Un=!0),En||W!==me){ot.buffers.depth.getReversed()&&me.reversedDepth!==!0&&(me._reversedDepth=!0,me.updateProjectionMatrix()),_n.setValue(ve,"projectionMatrix",me.projectionMatrix),_n.setValue(ve,"viewMatrix",me.matrixWorldInverse);const Ci=_n.map.cameraPosition;Ci!==void 0&&Ci.setValue(ve,Ee.setFromMatrixPosition(me.matrixWorld)),it.logarithmicDepthBuffer&&_n.setValue(ve,"logDepthBufFC",2/(Math.log(me.far+1)/Math.LN2)),(tt.isMeshPhongMaterial||tt.isMeshToonMaterial||tt.isMeshLambertMaterial||tt.isMeshBasicMaterial||tt.isMeshStandardMaterial||tt.isShaderMaterial)&&_n.setValue(ve,"isOrthographic",me.isOrthographicCamera===!0),W!==me&&(W=me,Un=!0,jr=!0)}if(nt.needsLights&&(Ft.state.directionalShadowMap.length>0&&_n.setValue(ve,"directionalShadowMap",Ft.state.directionalShadowMap,Se),Ft.state.spotShadowMap.length>0&&_n.setValue(ve,"spotShadowMap",Ft.state.spotShadowMap,Se),Ft.state.pointShadowMap.length>0&&_n.setValue(ve,"pointShadowMap",Ft.state.pointShadowMap,Se)),Xe.isSkinnedMesh){_n.setOptional(ve,Xe,"bindMatrix"),_n.setOptional(ve,Xe,"bindMatrixInverse");const Ji=Xe.skeleton;Ji&&(Ji.boneTexture===null&&Ji.computeBoneTexture(),_n.setValue(ve,"boneTexture",Ji.boneTexture,Se))}Xe.isBatchedMesh&&(_n.setOptional(ve,Xe,"batchingTexture"),_n.setValue(ve,"batchingTexture",Xe._matricesTexture,Se),_n.setOptional(ve,Xe,"batchingIdTexture"),_n.setValue(ve,"batchingIdTexture",Xe._indirectTexture,Se),_n.setOptional(ve,Xe,"batchingColorTexture"),Xe._colorsTexture!==null&&_n.setValue(ve,"batchingColorTexture",Xe._colorsTexture,Se));const Qr=dt.morphAttributes;if((Qr.position!==void 0||Qr.normal!==void 0||Qr.color!==void 0)&&un.update(Xe,dt,Jt),(Un||nt.receiveShadow!==Xe.receiveShadow)&&(nt.receiveShadow=Xe.receiveShadow,_n.setValue(ve,"receiveShadow",Xe.receiveShadow)),tt.isMeshGouraudMaterial&&tt.envMap!==null&&(Nr.envMap.value=hn,Nr.flipEnvMap.value=hn.isCubeTexture&&hn.isRenderTargetTexture===!1?-1:1),tt.isMeshStandardMaterial&&tt.envMap===null&&He.environment!==null&&(Nr.envMapIntensity.value=He.environmentIntensity),Nr.dfgLUT!==void 0&&(Nr.dfgLUT.value=o3e()),Un&&(_n.setValue(ve,"toneMappingExposure",k.toneMappingExposure),nt.needsLights&&au(Nr,jr),sn&&tt.fog===!0&&Mt.refreshFogUniforms(Nr,sn),Mt.refreshMaterialUniforms(Nr,tt,ee,Z,D.state.transmissionRenderTarget[me.id]),wB.upload(ve,Tc(nt),Nr,Se)),tt.isShaderMaterial&&tt.uniformsNeedUpdate===!0&&(wB.upload(ve,Tc(nt),Nr,Se),tt.uniformsNeedUpdate=!1),tt.isSpriteMaterial&&_n.setValue(ve,"center",Xe.center),_n.setValue(ve,"modelViewMatrix",Xe.modelViewMatrix),_n.setValue(ve,"normalMatrix",Xe.normalMatrix),_n.setValue(ve,"modelMatrix",Xe.matrixWorld),tt.isShaderMaterial||tt.isRawShaderMaterial){const Ji=tt.uniformsGroups;for(let Ci=0,Mc=Ji.length;Ci<Mc;Ci++){const Yo=Ji[Ci];It.update(Yo,Jt),It.bind(Yo,Jt)}}return Jt}function au(me,He){me.ambientLightColor.needsUpdate=He,me.lightProbe.needsUpdate=He,me.directionalLights.needsUpdate=He,me.directionalLightShadows.needsUpdate=He,me.pointLights.needsUpdate=He,me.pointLightShadows.needsUpdate=He,me.spotLights.needsUpdate=He,me.spotLightShadows.needsUpdate=He,me.rectAreaLights.needsUpdate=He,me.hemisphereLights.needsUpdate=He}function Vi(me){return me.isMeshLambertMaterial||me.isMeshToonMaterial||me.isMeshPhongMaterial||me.isMeshStandardMaterial||me.isShadowMaterial||me.isShaderMaterial&&me.lights===!0}this.getActiveCubeFace=function(){return $},this.getActiveMipmapLevel=function(){return z},this.getRenderTarget=function(){return j},this.setRenderTargetTextures=function(me,He,dt){const tt=se.get(me);tt.__autoAllocateDepthBuffer=me.resolveDepthBuffer===!1,tt.__autoAllocateDepthBuffer===!1&&(tt.__useRenderToTexture=!1),se.get(me.texture).__webglTexture=He,se.get(me.depthTexture).__webglTexture=tt.__autoAllocateDepthBuffer?void 0:dt,tt.__hasExternalTextures=!0},this.setRenderTargetFramebuffer=function(me,He){const dt=se.get(me);dt.__webglFramebuffer=He,dt.__useDefaultFramebuffer=He===void 0};const si=ve.createFramebuffer();this.setRenderTarget=function(me,He=0,dt=0){j=me,$=He,z=dt;let tt=null,Xe=!1,sn=!1;if(me){const tn=se.get(me);if(tn.__useDefaultFramebuffer!==void 0){ot.bindFramebuffer(ve.FRAMEBUFFER,tn.__webglFramebuffer),O.copy(me.viewport),G.copy(me.scissor),q=me.scissorTest,ot.viewport(O),ot.scissor(G),ot.setScissorTest(q),H=-1;return}else if(tn.__webglFramebuffer===void 0)Se.setupRenderTarget(me);else if(tn.__hasExternalTextures)Se.rebindTextures(me,se.get(me.texture).__webglTexture,se.get(me.depthTexture).__webglTexture);else if(me.depthBuffer){const he=me.depthTexture;if(tn.__boundDepthTexture!==he){if(he!==null&&se.has(he)&&(me.width!==he.image.width||me.height!==he.image.height))throw new Error("WebGLRenderTarget: Attached DepthTexture is initialized to the incorrect size.");Se.setupDepthRenderbuffer(me)}}const hn=me.texture;(hn.isData3DTexture||hn.isDataArrayTexture||hn.isCompressedArrayTexture)&&(sn=!0);const bn=se.get(me).__webglFramebuffer;me.isWebGLCubeRenderTarget?(Array.isArray(bn[He])?tt=bn[He][dt]:tt=bn[He],Xe=!0):me.samples>0&&Se.useMultisampledRTT(me)===!1?tt=se.get(me).__webglMultisampledFramebuffer:Array.isArray(bn)?tt=bn[dt]:tt=bn,O.copy(me.viewport),G.copy(me.scissor),q=me.scissorTest}else O.copy(ae).multiplyScalar(ee).floor(),G.copy(de).multiplyScalar(ee).floor(),q=ge;if(dt!==0&&(tt=si),ot.bindFramebuffer(ve.FRAMEBUFFER,tt)&&ot.drawBuffers(me,tt),ot.viewport(O),ot.scissor(G),ot.setScissorTest(q),Xe){const tn=se.get(me.texture);ve.framebufferTexture2D(ve.FRAMEBUFFER,ve.COLOR_ATTACHMENT0,ve.TEXTURE_CUBE_MAP_POSITIVE_X+He,tn.__webglTexture,dt)}else if(sn){const tn=He;for(let hn=0;hn<me.textures.length;hn++){const bn=se.get(me.textures[hn]);ve.framebufferTextureLayer(ve.FRAMEBUFFER,ve.COLOR_ATTACHMENT0+hn,bn.__webglTexture,dt,tn)}}else if(me!==null&&dt!==0){const tn=se.get(me.texture);ve.framebufferTexture2D(ve.FRAMEBUFFER,ve.COLOR_ATTACHMENT0,ve.TEXTURE_2D,tn.__webglTexture,dt)}H=-1},this.readRenderTargetPixels=function(me,He,dt,tt,Xe,sn,cn,tn=0){if(!(me&&me.isWebGLRenderTarget)){Xi("WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let hn=se.get(me).__webglFramebuffer;if(me.isWebGLCubeRenderTarget&&cn!==void 0&&(hn=hn[cn]),hn){ot.bindFramebuffer(ve.FRAMEBUFFER,hn);try{const bn=me.textures[tn],he=bn.format,pe=bn.type;if(!it.textureFormatReadable(he)){Xi("WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}if(!it.textureTypeReadable(pe)){Xi("WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}He>=0&&He<=me.width-tt&&dt>=0&&dt<=me.height-Xe&&(me.textures.length>1&&ve.readBuffer(ve.COLOR_ATTACHMENT0+tn),ve.readPixels(He,dt,tt,Xe,Vt.convert(he),Vt.convert(pe),sn))}finally{const bn=j!==null?se.get(j).__webglFramebuffer:null;ot.bindFramebuffer(ve.FRAMEBUFFER,bn)}}},this.readRenderTargetPixelsAsync=async function(me,He,dt,tt,Xe,sn,cn,tn=0){if(!(me&&me.isWebGLRenderTarget))throw new Error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");let hn=se.get(me).__webglFramebuffer;if(me.isWebGLCubeRenderTarget&&cn!==void 0&&(hn=hn[cn]),hn)if(He>=0&&He<=me.width-tt&&dt>=0&&dt<=me.height-Xe){ot.bindFramebuffer(ve.FRAMEBUFFER,hn);const bn=me.textures[tn],he=bn.format,pe=bn.type;if(!it.textureFormatReadable(he))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in RGBA or implementation defined format.");if(!it.textureTypeReadable(pe))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in UnsignedByteType or implementation defined type.");const Ie=ve.createBuffer();ve.bindBuffer(ve.PIXEL_PACK_BUFFER,Ie),ve.bufferData(ve.PIXEL_PACK_BUFFER,sn.byteLength,ve.STREAM_READ),me.textures.length>1&&ve.readBuffer(ve.COLOR_ATTACHMENT0+tn),ve.readPixels(He,dt,tt,Xe,Vt.convert(he),Vt.convert(pe),0);const Le=j!==null?se.get(j).__webglFramebuffer:null;ot.bindFramebuffer(ve.FRAMEBUFFER,Le);const Ke=ve.fenceSync(ve.SYNC_GPU_COMMANDS_COMPLETE,0);return ve.flush(),await kCe(ve,Ke,4),ve.bindBuffer(ve.PIXEL_PACK_BUFFER,Ie),ve.getBufferSubData(ve.PIXEL_PACK_BUFFER,0,sn),ve.deleteBuffer(Ie),ve.deleteSync(Ke),sn}else throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: requested read bounds are out of range.")},this.copyFramebufferToTexture=function(me,He=null,dt=0){const tt=Math.pow(2,-dt),Xe=Math.floor(me.image.width*tt),sn=Math.floor(me.image.height*tt),cn=He!==null?He.x:0,tn=He!==null?He.y:0;Se.setTexture2D(me,0),ve.copyTexSubImage2D(ve.TEXTURE_2D,dt,0,0,cn,tn,Xe,sn),ot.unbindTexture()};const ca=ve.createFramebuffer(),xo=ve.createFramebuffer();this.copyTextureToTexture=function(me,He,dt=null,tt=null,Xe=0,sn=null){sn===null&&(Xe!==0?(Y_("WebGLRenderer: copyTextureToTexture function signature has changed to support src and dst mipmap levels."),sn=Xe,Xe=0):sn=0);let cn,tn,hn,bn,he,pe,Ie,Le,Ke;const pt=me.isCompressedTexture?me.mipmaps[sn]:me.image;if(dt!==null)cn=dt.max.x-dt.min.x,tn=dt.max.y-dt.min.y,hn=dt.isBox3?dt.max.z-dt.min.z:1,bn=dt.min.x,he=dt.min.y,pe=dt.isBox3?dt.min.z:0;else{const Qr=Math.pow(2,-Xe);cn=Math.floor(pt.width*Qr),tn=Math.floor(pt.height*Qr),me.isDataArrayTexture?hn=pt.depth:me.isData3DTexture?hn=Math.floor(pt.depth*Qr):hn=1,bn=0,he=0,pe=0}tt!==null?(Ie=tt.x,Le=tt.y,Ke=tt.z):(Ie=0,Le=0,Ke=0);const Ct=Vt.convert(He.format),nt=Vt.convert(He.type);let Ft;He.isData3DTexture?(Se.setTexture3D(He,0),Ft=ve.TEXTURE_3D):He.isDataArrayTexture||He.isCompressedArrayTexture?(Se.setTexture2DArray(He,0),Ft=ve.TEXTURE_2D_ARRAY):(Se.setTexture2D(He,0),Ft=ve.TEXTURE_2D),ve.pixelStorei(ve.UNPACK_FLIP_Y_WEBGL,He.flipY),ve.pixelStorei(ve.UNPACK_PREMULTIPLY_ALPHA_WEBGL,He.premultiplyAlpha),ve.pixelStorei(ve.UNPACK_ALIGNMENT,He.unpackAlignment);const xt=ve.getParameter(ve.UNPACK_ROW_LENGTH),Jt=ve.getParameter(ve.UNPACK_IMAGE_HEIGHT),En=ve.getParameter(ve.UNPACK_SKIP_PIXELS),Un=ve.getParameter(ve.UNPACK_SKIP_ROWS),jr=ve.getParameter(ve.UNPACK_SKIP_IMAGES);ve.pixelStorei(ve.UNPACK_ROW_LENGTH,pt.width),ve.pixelStorei(ve.UNPACK_IMAGE_HEIGHT,pt.height),ve.pixelStorei(ve.UNPACK_SKIP_PIXELS,bn),ve.pixelStorei(ve.UNPACK_SKIP_ROWS,he),ve.pixelStorei(ve.UNPACK_SKIP_IMAGES,pe);const _n=me.isDataArrayTexture||me.isData3DTexture,Nr=He.isDataArrayTexture||He.isData3DTexture;if(me.isDepthTexture){const Qr=se.get(me),Ji=se.get(He),Ci=se.get(Qr.__renderTarget),Mc=se.get(Ji.__renderTarget);ot.bindFramebuffer(ve.READ_FRAMEBUFFER,Ci.__webglFramebuffer),ot.bindFramebuffer(ve.DRAW_FRAMEBUFFER,Mc.__webglFramebuffer);for(let Yo=0;Yo<hn;Yo++)_n&&(ve.framebufferTextureLayer(ve.READ_FRAMEBUFFER,ve.COLOR_ATTACHMENT0,se.get(me).__webglTexture,Xe,pe+Yo),ve.framebufferTextureLayer(ve.DRAW_FRAMEBUFFER,ve.COLOR_ATTACHMENT0,se.get(He).__webglTexture,sn,Ke+Yo)),ve.blitFramebuffer(bn,he,cn,tn,Ie,Le,cn,tn,ve.DEPTH_BUFFER_BIT,ve.NEAREST);ot.bindFramebuffer(ve.READ_FRAMEBUFFER,null),ot.bindFramebuffer(ve.DRAW_FRAMEBUFFER,null)}else if(Xe!==0||me.isRenderTargetTexture||se.has(me)){const Qr=se.get(me),Ji=se.get(He);ot.bindFramebuffer(ve.READ_FRAMEBUFFER,ca),ot.bindFramebuffer(ve.DRAW_FRAMEBUFFER,xo);for(let Ci=0;Ci<hn;Ci++)_n?ve.framebufferTextureLayer(ve.READ_FRAMEBUFFER,ve.COLOR_ATTACHMENT0,Qr.__webglTexture,Xe,pe+Ci):ve.framebufferTexture2D(ve.READ_FRAMEBUFFER,ve.COLOR_ATTACHMENT0,ve.TEXTURE_2D,Qr.__webglTexture,Xe),Nr?ve.framebufferTextureLayer(ve.DRAW_FRAMEBUFFER,ve.COLOR_ATTACHMENT0,Ji.__webglTexture,sn,Ke+Ci):ve.framebufferTexture2D(ve.DRAW_FRAMEBUFFER,ve.COLOR_ATTACHMENT0,ve.TEXTURE_2D,Ji.__webglTexture,sn),Xe!==0?ve.blitFramebuffer(bn,he,cn,tn,Ie,Le,cn,tn,ve.COLOR_BUFFER_BIT,ve.NEAREST):Nr?ve.copyTexSubImage3D(Ft,sn,Ie,Le,Ke+Ci,bn,he,cn,tn):ve.copyTexSubImage2D(Ft,sn,Ie,Le,bn,he,cn,tn);ot.bindFramebuffer(ve.READ_FRAMEBUFFER,null),ot.bindFramebuffer(ve.DRAW_FRAMEBUFFER,null)}else Nr?me.isDataTexture||me.isData3DTexture?ve.texSubImage3D(Ft,sn,Ie,Le,Ke,cn,tn,hn,Ct,nt,pt.data):He.isCompressedArrayTexture?ve.compressedTexSubImage3D(Ft,sn,Ie,Le,Ke,cn,tn,hn,Ct,pt.data):ve.texSubImage3D(Ft,sn,Ie,Le,Ke,cn,tn,hn,Ct,nt,pt):me.isDataTexture?ve.texSubImage2D(ve.TEXTURE_2D,sn,Ie,Le,cn,tn,Ct,nt,pt.data):me.isCompressedTexture?ve.compressedTexSubImage2D(ve.TEXTURE_2D,sn,Ie,Le,pt.width,pt.height,Ct,pt.data):ve.texSubImage2D(ve.TEXTURE_2D,sn,Ie,Le,cn,tn,Ct,nt,pt);ve.pixelStorei(ve.UNPACK_ROW_LENGTH,xt),ve.pixelStorei(ve.UNPACK_IMAGE_HEIGHT,Jt),ve.pixelStorei(ve.UNPACK_SKIP_PIXELS,En),ve.pixelStorei(ve.UNPACK_SKIP_ROWS,Un),ve.pixelStorei(ve.UNPACK_SKIP_IMAGES,jr),sn===0&&He.generateMipmaps&&ve.generateMipmap(Ft),ot.unbindTexture()},this.initRenderTarget=function(me){se.get(me).__webglFramebuffer===void 0&&Se.setupRenderTarget(me)},this.initTexture=function(me){me.isCubeTexture?Se.setTextureCube(me,0):me.isData3DTexture?Se.setTexture3D(me,0):me.isDataArrayTexture||me.isCompressedArrayTexture?Se.setTexture2DArray(me,0):Se.setTexture2D(me,0),ot.unbindTexture()},this.resetState=function(){$=0,z=0,j=null,ot.reset(),Xt.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get coordinateSystem(){return Yg}get outputColorSpace(){return this._outputColorSpace}set outputColorSpace(e){this._outputColorSpace=e;const n=this.getContext();n.drawingBufferColorSpace=Ri._getDrawingBufferColorSpace(e),n.unpackColorSpace=Ri._getUnpackColorSpace()}}const Ex={name:"CopyShader",uniforms:{tDiffuse:{value:null},opacity:{value:1}},vertexShader:`

		varying vec2 vUv;

		void main() {

			vUv = uv;
			gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );

		}`,fragmentShader:`

		uniform float opacity;

		uniform sampler2D tDiffuse;

		varying vec2 vUv;

		void main() {

			vec4 texel = texture2D( tDiffuse, vUv );
			gl_FragColor = opacity * texel;


		}`};class iC{constructor(){this.isPass=!0,this.enabled=!0,this.needsSwap=!0,this.clear=!1,this.renderToScreen=!1}setSize(){}render(){console.error("THREE.Pass: .render() must be implemented in derived pass.")}dispose(){}}const a3e=new fT(-1,1,1,-1,0,1);class l3e extends Dc{constructor(){super(),this.setAttribute("position",new Fp([-1,3,0,-1,-1,0,3,-1,0],3)),this.setAttribute("uv",new Fp([0,2,0,0,2,0],2))}}const u3e=new l3e;class J_{constructor(e){this._mesh=new bf(u3e,e)}dispose(){this._mesh.geometry.dispose()}render(e){e.render(this._mesh,a3e)}get material(){return this._mesh.material}set material(e){this._mesh.material=e}}class c3e extends iC{constructor(e,n="tDiffuse"){super(),this.textureID=n,this.uniforms=null,this.material=null,e instanceof No?(this.uniforms=e.uniforms,this.material=e):e&&(this.uniforms=Fx.clone(e.uniforms),this.material=new No({name:e.name!==void 0?e.name:"unspecified",defines:Object.assign({},e.defines),uniforms:this.uniforms,vertexShader:e.vertexShader,fragmentShader:e.fragmentShader})),this._fsQuad=new J_(this.material)}render(e,n,r){this.uniforms[this.textureID]&&(this.uniforms[this.textureID].value=r.texture),this._fsQuad.material=this.material,this.renderToScreen?(e.setRenderTarget(null),this._fsQuad.render(e)):(e.setRenderTarget(n),this.clear&&e.clear(e.autoClearColor,e.autoClearDepth,e.autoClearStencil),this._fsQuad.render(e))}dispose(){this.material.dispose(),this._fsQuad.dispose()}}class JO extends iC{constructor(e,n){super(),this.scene=e,this.camera=n,this.clear=!0,this.needsSwap=!1,this.inverse=!1}render(e,n,r){const i=e.getContext(),s=e.state;s.buffers.color.setMask(!1),s.buffers.depth.setMask(!1),s.buffers.color.setLocked(!0),s.buffers.depth.setLocked(!0);let o,a;this.inverse?(o=0,a=1):(o=1,a=0),s.buffers.stencil.setTest(!0),s.buffers.stencil.setOp(i.REPLACE,i.REPLACE,i.REPLACE),s.buffers.stencil.setFunc(i.ALWAYS,o,4294967295),s.buffers.stencil.setClear(a),s.buffers.stencil.setLocked(!0),e.setRenderTarget(r),this.clear&&e.clear(),e.render(this.scene,this.camera),e.setRenderTarget(n),this.clear&&e.clear(),e.render(this.scene,this.camera),s.buffers.color.setLocked(!1),s.buffers.depth.setLocked(!1),s.buffers.color.setMask(!0),s.buffers.depth.setMask(!0),s.buffers.stencil.setLocked(!1),s.buffers.stencil.setFunc(i.EQUAL,1,4294967295),s.buffers.stencil.setOp(i.KEEP,i.KEEP,i.KEEP),s.buffers.stencil.setLocked(!0)}}class d3e extends iC{constructor(){super(),this.needsSwap=!1}render(e){e.state.buffers.stencil.setLocked(!1),e.state.buffers.stencil.setTest(!1)}}class q3{constructor(e,n){if(this.renderer=e,this._pixelRatio=e.getPixelRatio(),n===void 0){const r=e.getSize(new Er);this._width=r.width,this._height=r.height,n=new Ou(this._width*this._pixelRatio,this._height*this._pixelRatio,{type:Ic}),n.texture.name="EffectComposer.rt1"}else this._width=n.width,this._height=n.height;this.renderTarget1=n,this.renderTarget2=n.clone(),this.renderTarget2.texture.name="EffectComposer.rt2",this.writeBuffer=this.renderTarget1,this.readBuffer=this.renderTarget2,this.renderToScreen=!0,this.passes=[],this.copyPass=new c3e(Ex),this.copyPass.material.blending=Lp,this.clock=new rS}swapBuffers(){const e=this.readBuffer;this.readBuffer=this.writeBuffer,this.writeBuffer=e}addPass(e){this.passes.push(e),e.setSize(this._width*this._pixelRatio,this._height*this._pixelRatio)}insertPass(e,n){this.passes.splice(n,0,e),e.setSize(this._width*this._pixelRatio,this._height*this._pixelRatio)}removePass(e){const n=this.passes.indexOf(e);n!==-1&&this.passes.splice(n,1)}isLastEnabledPass(e){for(let n=e+1;n<this.passes.length;n++)if(this.passes[n].enabled)return!1;return!0}render(e){e===void 0&&(e=this.clock.getDelta());const n=this.renderer.getRenderTarget();let r=!1;for(let i=0,s=this.passes.length;i<s;i++){const o=this.passes[i];if(o.enabled!==!1){if(o.renderToScreen=this.renderToScreen&&this.isLastEnabledPass(i),o.render(this.renderer,this.writeBuffer,this.readBuffer,e,r),o.needsSwap){if(r){const a=this.renderer.getContext(),l=this.renderer.state.buffers.stencil;l.setFunc(a.NOTEQUAL,1,4294967295),this.copyPass.render(this.renderer,this.writeBuffer,this.readBuffer,e),l.setFunc(a.EQUAL,1,4294967295)}this.swapBuffers()}JO!==void 0&&(o instanceof JO?r=!0:o instanceof d3e&&(r=!1))}}this.renderer.setRenderTarget(n)}reset(e){if(e===void 0){const n=this.renderer.getSize(new Er);this._pixelRatio=this.renderer.getPixelRatio(),this._width=n.width,this._height=n.height,e=this.renderTarget1.clone(),e.setSize(this._width*this._pixelRatio,this._height*this._pixelRatio)}this.renderTarget1.dispose(),this.renderTarget2.dispose(),this.renderTarget1=e,this.renderTarget2=e.clone(),this.writeBuffer=this.renderTarget1,this.readBuffer=this.renderTarget2}setSize(e,n){this._width=e,this._height=n;const r=this._width*this._pixelRatio,i=this._height*this._pixelRatio;this.renderTarget1.setSize(r,i),this.renderTarget2.setSize(r,i);for(let s=0;s<this.passes.length;s++)this.passes[s].setSize(r,i)}setPixelRatio(e){this._pixelRatio=e,this.setSize(this._width,this._height)}dispose(){this.renderTarget1.dispose(),this.renderTarget2.dispose(),this.copyPass.dispose()}}class Y3 extends iC{constructor(e,n,r=null,i=null,s=null){super(),this.scene=e,this.camera=n,this.overrideMaterial=r,this.clearColor=i,this.clearAlpha=s,this.clear=!0,this.clearDepth=!1,this.needsSwap=!1,this.isRenderPass=!0,this._oldClearColor=new Gr}render(e,n,r){const i=e.autoClear;e.autoClear=!1;let s,o;this.overrideMaterial!==null&&(o=this.scene.overrideMaterial,this.scene.overrideMaterial=this.overrideMaterial),this.clearColor!==null&&(e.getClearColor(this._oldClearColor),e.setClearColor(this.clearColor,e.getClearAlpha())),this.clearAlpha!==null&&(s=e.getClearAlpha(),e.setClearAlpha(this.clearAlpha)),this.clearDepth==!0&&e.clearDepth(),e.setRenderTarget(this.renderToScreen?null:r),this.clear===!0&&e.clear(e.autoClearColor,e.autoClearDepth,e.autoClearStencil),e.render(this.scene,this.camera),this.clearColor!==null&&e.setClearColor(this._oldClearColor),this.clearAlpha!==null&&e.setClearAlpha(s),this.overrideMaterial!==null&&(this.scene.overrideMaterial=o),e.autoClear=i}}const j5={uniforms:{damp:{value:.96},tOld:{value:null},tNew:{value:null}},vertexShader:`

		varying vec2 vUv;

		void main() {

			vUv = uv;
			gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );

		}`,fragmentShader:`

		uniform float damp;

		uniform sampler2D tOld;
		uniform sampler2D tNew;

		varying vec2 vUv;

		vec4 when_gt( vec4 x, float y ) {

			return max( sign( x - y ), 0.0 );

		}

		void main() {

			vec4 texelOld = texture2D( tOld, vUv );
			vec4 texelNew = texture2D( tNew, vUv );

			texelOld *= damp * when_gt( texelOld, 0.1 );

			gl_FragColor = max(texelNew, texelOld);

		}`};class YF extends iC{constructor(e=.96){super(),this.uniforms=Fx.clone(j5.uniforms),this.damp=e,this.compFsMaterial=new No({uniforms:this.uniforms,vertexShader:j5.vertexShader,fragmentShader:j5.fragmentShader}),this.copyFsMaterial=new No({uniforms:Fx.clone(Ex.uniforms),vertexShader:Ex.vertexShader,fragmentShader:Ex.fragmentShader,blending:Lp,depthTest:!1,depthWrite:!1}),this._textureComp=new Ou(window.innerWidth,window.innerHeight,{magFilter:rl,type:Ic}),this._textureOld=new Ou(window.innerWidth,window.innerHeight,{magFilter:rl,type:Ic}),this._compFsQuad=new J_(this.compFsMaterial),this._copyFsQuad=new J_(this.copyFsMaterial)}get damp(){return this.uniforms.damp.value}set damp(e){this.uniforms.damp.value=e}render(e,n,r){this.uniforms.tOld.value=this._textureOld.texture,this.uniforms.tNew.value=r.texture,e.setRenderTarget(this._textureComp),this._compFsQuad.render(e),this._copyFsQuad.material.uniforms.tDiffuse.value=this._textureComp.texture,this.renderToScreen?(e.setRenderTarget(null),this._copyFsQuad.render(e)):(e.setRenderTarget(n),this.clear&&e.clear(),this._copyFsQuad.render(e));const i=this._textureOld;this._textureOld=this._textureComp,this._textureComp=i}setSize(e,n){this._textureComp.setSize(e,n),this._textureOld.setSize(e,n)}dispose(){this._textureComp.dispose(),this._textureOld.dispose(),this.compFsMaterial.dispose(),this.copyFsMaterial.dispose(),this._compFsQuad.dispose(),this._copyFsQuad.dispose()}}const h3e={uniforms:{tDiffuse:{value:null},luminosityThreshold:{value:1},smoothWidth:{value:1},defaultColor:{value:new Gr(0)},defaultOpacity:{value:0}},vertexShader:`

		varying vec2 vUv;

		void main() {

			vUv = uv;

			gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );

		}`,fragmentShader:`

		uniform sampler2D tDiffuse;
		uniform vec3 defaultColor;
		uniform float defaultOpacity;
		uniform float luminosityThreshold;
		uniform float smoothWidth;

		varying vec2 vUv;

		void main() {

			vec4 texel = texture2D( tDiffuse, vUv );

			float v = luminance( texel.xyz );

			vec4 outputColor = vec4( defaultColor.rgb, defaultOpacity );

			float alpha = smoothstep( luminosityThreshold, luminosityThreshold + smoothWidth, v );

			gl_FragColor = mix( outputColor, texel, alpha );

		}`};class z0 extends iC{constructor(e,n=1,r,i){super(),this.strength=n,this.radius=r,this.threshold=i,this.resolution=e!==void 0?new Er(e.x,e.y):new Er(256,256),this.clearColor=new Gr(0,0,0),this.needsSwap=!1,this.renderTargetsHorizontal=[],this.renderTargetsVertical=[],this.nMips=5;let s=Math.round(this.resolution.x/2),o=Math.round(this.resolution.y/2);this.renderTargetBright=new Ou(s,o,{type:Ic}),this.renderTargetBright.texture.name="UnrealBloomPass.bright",this.renderTargetBright.texture.generateMipmaps=!1;for(let c=0;c<this.nMips;c++){const d=new Ou(s,o,{type:Ic});d.texture.name="UnrealBloomPass.h"+c,d.texture.generateMipmaps=!1,this.renderTargetsHorizontal.push(d);const f=new Ou(s,o,{type:Ic});f.texture.name="UnrealBloomPass.v"+c,f.texture.generateMipmaps=!1,this.renderTargetsVertical.push(f),s=Math.round(s/2),o=Math.round(o/2)}const a=h3e;this.highPassUniforms=Fx.clone(a.uniforms),this.highPassUniforms.luminosityThreshold.value=i,this.highPassUniforms.smoothWidth.value=.01,this.materialHighPassFilter=new No({uniforms:this.highPassUniforms,vertexShader:a.vertexShader,fragmentShader:a.fragmentShader}),this.separableBlurMaterials=[];const l=[6,10,14,18,22];s=Math.round(this.resolution.x/2),o=Math.round(this.resolution.y/2);for(let c=0;c<this.nMips;c++)this.separableBlurMaterials.push(this._getSeparableBlurMaterial(l[c])),this.separableBlurMaterials[c].uniforms.invSize.value=new Er(1/s,1/o),s=Math.round(s/2),o=Math.round(o/2);this.compositeMaterial=this._getCompositeMaterial(this.nMips),this.compositeMaterial.uniforms.blurTexture1.value=this.renderTargetsVertical[0].texture,this.compositeMaterial.uniforms.blurTexture2.value=this.renderTargetsVertical[1].texture,this.compositeMaterial.uniforms.blurTexture3.value=this.renderTargetsVertical[2].texture,this.compositeMaterial.uniforms.blurTexture4.value=this.renderTargetsVertical[3].texture,this.compositeMaterial.uniforms.blurTexture5.value=this.renderTargetsVertical[4].texture,this.compositeMaterial.uniforms.bloomStrength.value=n,this.compositeMaterial.uniforms.bloomRadius.value=.1;const u=[1,.8,.6,.4,.2];this.compositeMaterial.uniforms.bloomFactors.value=u,this.bloomTintColors=[new rt(1,1,1),new rt(1,1,1),new rt(1,1,1),new rt(1,1,1),new rt(1,1,1)],this.compositeMaterial.uniforms.bloomTintColors.value=this.bloomTintColors,this.copyUniforms=Fx.clone(Ex.uniforms),this.blendMaterial=new No({uniforms:this.copyUniforms,vertexShader:Ex.vertexShader,fragmentShader:Ex.fragmentShader,premultipliedAlpha:!0,blending:Nx,depthTest:!1,depthWrite:!1,transparent:!0}),this._oldClearColor=new Gr,this._oldClearAlpha=1,this._basic=new VF,this._fsQuad=new J_(null)}dispose(){for(let e=0;e<this.renderTargetsHorizontal.length;e++)this.renderTargetsHorizontal[e].dispose();for(let e=0;e<this.renderTargetsVertical.length;e++)this.renderTargetsVertical[e].dispose();this.renderTargetBright.dispose();for(let e=0;e<this.separableBlurMaterials.length;e++)this.separableBlurMaterials[e].dispose();this.compositeMaterial.dispose(),this.blendMaterial.dispose(),this._basic.dispose(),this._fsQuad.dispose()}setSize(e,n){let r=Math.round(e/2),i=Math.round(n/2);this.renderTargetBright.setSize(r,i);for(let s=0;s<this.nMips;s++)this.renderTargetsHorizontal[s].setSize(r,i),this.renderTargetsVertical[s].setSize(r,i),this.separableBlurMaterials[s].uniforms.invSize.value=new Er(1/r,1/i),r=Math.round(r/2),i=Math.round(i/2)}render(e,n,r,i,s){e.getClearColor(this._oldClearColor),this._oldClearAlpha=e.getClearAlpha();const o=e.autoClear;e.autoClear=!1,e.setClearColor(this.clearColor,0),s&&e.state.buffers.stencil.setTest(!1),this.renderToScreen&&(this._fsQuad.material=this._basic,this._basic.map=r.texture,e.setRenderTarget(null),e.clear(),this._fsQuad.render(e)),this.highPassUniforms.tDiffuse.value=r.texture,this.highPassUniforms.luminosityThreshold.value=this.threshold,this._fsQuad.material=this.materialHighPassFilter,e.setRenderTarget(this.renderTargetBright),e.clear(),this._fsQuad.render(e);let a=this.renderTargetBright;for(let l=0;l<this.nMips;l++)this._fsQuad.material=this.separableBlurMaterials[l],this.separableBlurMaterials[l].uniforms.colorTexture.value=a.texture,this.separableBlurMaterials[l].uniforms.direction.value=z0.BlurDirectionX,e.setRenderTarget(this.renderTargetsHorizontal[l]),e.clear(),this._fsQuad.render(e),this.separableBlurMaterials[l].uniforms.colorTexture.value=this.renderTargetsHorizontal[l].texture,this.separableBlurMaterials[l].uniforms.direction.value=z0.BlurDirectionY,e.setRenderTarget(this.renderTargetsVertical[l]),e.clear(),this._fsQuad.render(e),a=this.renderTargetsVertical[l];this._fsQuad.material=this.compositeMaterial,this.compositeMaterial.uniforms.bloomStrength.value=this.strength,this.compositeMaterial.uniforms.bloomRadius.value=this.radius,this.compositeMaterial.uniforms.bloomTintColors.value=this.bloomTintColors,e.setRenderTarget(this.renderTargetsHorizontal[0]),e.clear(),this._fsQuad.render(e),this._fsQuad.material=this.blendMaterial,this.copyUniforms.tDiffuse.value=this.renderTargetsHorizontal[0].texture,s&&e.state.buffers.stencil.setTest(!0),this.renderToScreen?(e.setRenderTarget(null),this._fsQuad.render(e)):(e.setRenderTarget(r),this._fsQuad.render(e)),e.setClearColor(this._oldClearColor,this._oldClearAlpha),e.autoClear=o}_getSeparableBlurMaterial(e){const n=[],r=e/3;for(let i=0;i<e;i++)n.push(.39894*Math.exp(-.5*i*i/(r*r))/r);return new No({defines:{KERNEL_RADIUS:e},uniforms:{colorTexture:{value:null},invSize:{value:new Er(.5,.5)},direction:{value:new Er(.5,.5)},gaussianCoefficients:{value:n}},vertexShader:`

				varying vec2 vUv;

				void main() {

					vUv = uv;
					gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );

				}`,fragmentShader:`

				#include <common>

				varying vec2 vUv;

				uniform sampler2D colorTexture;
				uniform vec2 invSize;
				uniform vec2 direction;
				uniform float gaussianCoefficients[KERNEL_RADIUS];

				void main() {

					float weightSum = gaussianCoefficients[0];
					vec3 diffuseSum = texture2D( colorTexture, vUv ).rgb * weightSum;

					for ( int i = 1; i < KERNEL_RADIUS; i ++ ) {

						float x = float( i );
						float w = gaussianCoefficients[i];
						vec2 uvOffset = direction * invSize * x;
						vec3 sample1 = texture2D( colorTexture, vUv + uvOffset ).rgb;
						vec3 sample2 = texture2D( colorTexture, vUv - uvOffset ).rgb;
						diffuseSum += ( sample1 + sample2 ) * w;

					}

					gl_FragColor = vec4( diffuseSum, 1.0 );

				}`})}_getCompositeMaterial(e){return new No({defines:{NUM_MIPS:e},uniforms:{blurTexture1:{value:null},blurTexture2:{value:null},blurTexture3:{value:null},blurTexture4:{value:null},blurTexture5:{value:null},bloomStrength:{value:1},bloomFactors:{value:null},bloomTintColors:{value:null},bloomRadius:{value:0}},vertexShader:`

				varying vec2 vUv;

				void main() {

					vUv = uv;
					gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );

				}`,fragmentShader:`

				varying vec2 vUv;

				uniform sampler2D blurTexture1;
				uniform sampler2D blurTexture2;
				uniform sampler2D blurTexture3;
				uniform sampler2D blurTexture4;
				uniform sampler2D blurTexture5;
				uniform float bloomStrength;
				uniform float bloomRadius;
				uniform float bloomFactors[NUM_MIPS];
				uniform vec3 bloomTintColors[NUM_MIPS];

				float lerpBloomFactor( const in float factor ) {

					float mirrorFactor = 1.2 - factor;
					return mix( factor, mirrorFactor, bloomRadius );

				}

				void main() {

					// 3.0 for backwards compatibility with previous alpha-based intensity
					vec3 bloom = 3.0 * bloomStrength * (
						lerpBloomFactor( bloomFactors[ 0 ] ) * bloomTintColors[ 0 ] * texture2D( blurTexture1, vUv ).rgb +
						lerpBloomFactor( bloomFactors[ 1 ] ) * bloomTintColors[ 1 ] * texture2D( blurTexture2, vUv ).rgb +
						lerpBloomFactor( bloomFactors[ 2 ] ) * bloomTintColors[ 2 ] * texture2D( blurTexture3, vUv ).rgb +
						lerpBloomFactor( bloomFactors[ 3 ] ) * bloomTintColors[ 3 ] * texture2D( blurTexture4, vUv ).rgb +
						lerpBloomFactor( bloomFactors[ 4 ] ) * bloomTintColors[ 4 ] * texture2D( blurTexture5, vUv ).rgb
					);

					float bloomAlpha = max( bloom.r, max( bloom.g, bloom.b ) );
					gl_FragColor = vec4( bloom, bloomAlpha );

				}`})}}z0.BlurDirectionX=new Er(1,0);z0.BlurDirectionY=new Er(0,1);const Q2={name:"OutputShader",uniforms:{tDiffuse:{value:null},toneMappingExposure:{value:1}},vertexShader:`
		precision highp float;

		uniform mat4 modelViewMatrix;
		uniform mat4 projectionMatrix;

		attribute vec3 position;
		attribute vec2 uv;

		varying vec2 vUv;

		void main() {

			vUv = uv;
			gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );

		}`,fragmentShader:`

		precision highp float;

		uniform sampler2D tDiffuse;

		#include <tonemapping_pars_fragment>
		#include <colorspace_pars_fragment>

		varying vec2 vUv;

		void main() {

			gl_FragColor = texture2D( tDiffuse, vUv );

			// tone mapping

			#ifdef LINEAR_TONE_MAPPING

				gl_FragColor.rgb = LinearToneMapping( gl_FragColor.rgb );

			#elif defined( REINHARD_TONE_MAPPING )

				gl_FragColor.rgb = ReinhardToneMapping( gl_FragColor.rgb );

			#elif defined( CINEON_TONE_MAPPING )

				gl_FragColor.rgb = CineonToneMapping( gl_FragColor.rgb );

			#elif defined( ACES_FILMIC_TONE_MAPPING )

				gl_FragColor.rgb = ACESFilmicToneMapping( gl_FragColor.rgb );

			#elif defined( AGX_TONE_MAPPING )

				gl_FragColor.rgb = AgXToneMapping( gl_FragColor.rgb );

			#elif defined( NEUTRAL_TONE_MAPPING )

				gl_FragColor.rgb = NeutralToneMapping( gl_FragColor.rgb );

			#elif defined( CUSTOM_TONE_MAPPING )

				gl_FragColor.rgb = CustomToneMapping( gl_FragColor.rgb );

			#endif

			// color space

			#ifdef SRGB_TRANSFER

				gl_FragColor = sRGBTransferOETF( gl_FragColor );

			#endif

		}`};class X3 extends iC{constructor(){super(),this.isOutputPass=!0,this.uniforms=Fx.clone(Q2.uniforms),this.material=new cJ({name:Q2.name,uniforms:this.uniforms,vertexShader:Q2.vertexShader,fragmentShader:Q2.fragmentShader}),this._fsQuad=new J_(this.material),this._outputColorSpace=null,this._toneMapping=null}render(e,n,r){this.uniforms.tDiffuse.value=r.texture,this.uniforms.toneMappingExposure.value=e.toneMappingExposure,(this._outputColorSpace!==e.outputColorSpace||this._toneMapping!==e.toneMapping)&&(this._outputColorSpace=e.outputColorSpace,this._toneMapping=e.toneMapping,this.material.defines={},Ri.getTransfer(this._outputColorSpace)===as&&(this.material.defines.SRGB_TRANSFER=""),this._toneMapping===BF?this.material.defines.LINEAR_TONE_MAPPING="":this._toneMapping===DF?this.material.defines.REINHARD_TONE_MAPPING="":this._toneMapping===TF?this.material.defines.CINEON_TONE_MAPPING="":this._toneMapping===MF?this.material.defines.ACES_FILMIC_TONE_MAPPING="":this._toneMapping===PF?this.material.defines.AGX_TONE_MAPPING="":this._toneMapping===RF?this.material.defines.NEUTRAL_TONE_MAPPING="":this._toneMapping===kF&&(this.material.defines.CUSTOM_TONE_MAPPING=""),this.material.needsUpdate=!0),this.renderToScreen===!0?(e.setRenderTarget(null),this._fsQuad.render(e)):(e.setRenderTarget(n),this.clear&&e.clear(e.autoClearColor,e.autoClearDepth,e.autoClearStencil),this._fsQuad.render(e))}dispose(){this.material.dispose(),this._fsQuad.dispose()}}function f3e({preset:t,afterImageDamp:e=.35,bloomStrength:n=.4,bloomRadius:r=.3,bloomThreshold:i=.6}){const s=x.useRef(null),{targetMorphRef:o,contentRef:a,contentVersion:l,vortexRef:u}=sv(),c=x.useRef(0),d=x.useRef(1),f=x.useRef(null),p=x.useRef(null);return x.useEffect(()=>{const m=f.current;if(!m)return;const v=m.getAttribute("targetPos");v&&m.setAttribute("prevTargetPos",new mr(new Float32Array(v.array),3)),m.setAttribute("targetPos",new mr(L0(a.current),3)),d.current=0},[l,a]),x.useEffect(()=>{if(!s.current)return;const m=s.current,v=new K3,y=new bc(60,window.innerWidth/window.innerHeight,.1,1e3);y.position.set(0,0,200),y.lookAt(0,0,0);const A=new W3({antialias:!0,alpha:!0,powerPreference:"high-performance"});A.setPixelRatio(Math.min(window.devicePixelRatio,2)),A.setSize(window.innerWidth,window.innerHeight),m.appendChild(A.domElement);const C=new Dc,E=new Float32Array(wp*3),I=new Float32Array(wp),D=new Float32Array(wp),T=new Float32Array(wp);for(let ae=0;ae<wp;ae++){const de=ae*3;E[de]=(Math.random()-.5)*550,E[de+1]=(Math.random()-.5)*380,E[de+2]=(Math.random()-.5)*100,I[ae]=Math.random();const ge=Math.random();D[ae]=ge*ge;const _e=t.particleBaseSize+Math.random()*t.particleSizeVariance;T[ae]=_e*(1-D[ae]*t.layerSizeReduction)}const M=L0(a.current);C.setAttribute("position",new mr(E,3)),C.setAttribute("random",new mr(I,1)),C.setAttribute("heightLayer",new mr(D,1)),C.setAttribute("particleSize",new mr(T,1)),C.setAttribute("targetPos",new mr(M,3)),C.setAttribute("prevTargetPos",new mr(new Float32Array(M),3)),f.current=C;const k=window.matchMedia("(prefers-color-scheme: dark)").matches?t.colors.dark:t.colors.light,L=t.name==="sand"?new rt(.12,.06,0):new rt(.05,.05,.05),$=t.name==="sand"?new rt(.9,.8,.6):new rt(.85,.85,.9),z=t.shaderTweaks??{},j=new No({uniforms:{time:{value:0},morphProgress:{value:0},transitionProgress:{value:1},colorPrimary:{value:new rt(k.primary.r,k.primary.g,k.primary.b)},colorSecondary:{value:new rt(k.secondary.r,k.secondary.g,k.secondary.b)},colorDust:{value:new rt(k.dust.r,k.dust.g,k.dust.b)},morphColorTint:{value:L},hazeColor:{value:$},vortexActive:{value:0},vortexCenter:{value:new Er(0,0)},vortexStrength:{value:0},vortexRadius:{value:t.vortex.minRadius},vortexHeight:{value:0},primarySpeed:{value:t.drift.primarySpeed},primaryDirection:{value:t.drift.primaryDirection},lowLayerEffect:{value:t.drift.lowLayerEffect},midLayerEffect:{value:t.drift.midLayerEffect},highLayerEffect:{value:t.drift.highLayerEffect},waveSpeed:{value:t.drift.waveSpeed},waveScale:{value:t.drift.waveScale},clusterStrength:{value:t.drift.clusterStrength},clusterScale:{value:t.drift.clusterScale},turbulence:{value:t.form.turbulence},gustStrength:{value:t.form.gustStrength},gustFrequency:{value:t.form.gustFrequency},convergenceForce:{value:t.form.convergenceForce},rotationSpeed:{value:t.vortex.rotationSpeed},spiralTightness:{value:t.vortex.spiralTightness},suctionStrength:{value:t.vortex.suctionStrength},liftForce:{value:t.vortex.liftForce},coreDensity:{value:t.vortex.coreDensity},edgeDensity:{value:t.vortex.edgeDensity},tiltAmount:{value:t.vortex.tiltAmount},tiltDirection:{value:t.vortex.tiltDirection},maxVortexHeight:{value:t.vortex.maxHeight},formIntensityMultiplier:{value:z.formIntensityMultiplier??3.5},aliveBreathScale:{value:z.aliveBreathScale??2},vibrationScale:{value:z.vibrationScale??.6},baseAlphaLow:{value:t.baseAlpha.low},baseAlphaHigh:{value:t.baseAlpha.high}},vertexShader:qxe,fragmentShader:Yxe,transparent:!0,blending:t.blending==="additive"?Nx:Cx,depthWrite:!1});p.current=j;const H=window.matchMedia("(prefers-color-scheme: dark)"),W=ae=>{const de=ae.matches?t.colors.dark:t.colors.light;j.uniforms.colorPrimary.value.set(de.primary.r,de.primary.g,de.primary.b),j.uniforms.colorSecondary.value.set(de.secondary.r,de.secondary.g,de.secondary.b),j.uniforms.colorDust.value.set(de.dust.r,de.dust.g,de.dust.b)};H.addEventListener("change",W),v.add(new hT(C,j));const O=new q3(A),G=new Y3(v,y);O.addPass(G);const q=new YF(e);O.addPass(q);const J=new z0(new Er(window.innerWidth,window.innerHeight),n,r,i);O.addPass(J);const te=new X3;O.addPass(te);const Y=new rS;let Z;const ee=z.vortexFadeMultiplier??135,ie=()=>{const ae=Y.getDelta();j.uniforms.time.value+=ae;const de=o.current>c.current?j3:Q3;c.current+=(o.current-c.current)*de,j.uniforms.morphProgress.value=c.current,d.current+=(1-d.current)*zX,j.uniforms.transitionProgress.value=d.current;const ge=u.current;!ge.active&&ge.strength>0&&(ge.strength=Math.max(0,ge.strength-_F),ge.radius=t.vortex.minRadius+ge.strength*ee,ge.height=ge.strength*t.vortex.maxHeight),j.uniforms.vortexActive.value=ge.strength>.01?1:0,j.uniforms.vortexCenter.value.set(ge.x,ge.y),j.uniforms.vortexStrength.value=ge.strength,j.uniforms.vortexRadius.value=ge.radius,j.uniforms.vortexHeight.value=ge.height,O.render(),Z=requestAnimationFrame(ie)};ie();const ue=()=>{y.aspect=window.innerWidth/window.innerHeight,y.updateProjectionMatrix(),A.setSize(window.innerWidth,window.innerHeight),O.setSize(window.innerWidth,window.innerHeight),J.resolution.set(window.innerWidth,window.innerHeight)};return window.addEventListener("resize",ue),()=>{f.current=null,p.current=null,cancelAnimationFrame(Z),window.removeEventListener("resize",ue),H.removeEventListener("change",W),m.removeChild(A.domElement),C.dispose(),j.dispose(),O.dispose(),A.dispose()}},[o,a,u,t,e,n,r,i]),h.jsx("div",{ref:s,style:{position:"fixed",inset:0,zIndex:-1,pointerEvents:"none"}})}const p3e=.012,g3e=`
  attribute float size;
  attribute float life;
  attribute vec3 velocity;
  attribute vec3 targetPos;
  attribute vec3 prevTargetPos;

  uniform float time;
  uniform float morphProgress;
  uniform float transitionProgress;
  uniform float vortexActive;
  uniform vec2 vortexCenter;
  uniform float vortexStrength;

  varying float vLife;
  varying float vMorph;
  varying float vSpeed;
  varying float vTransition;

  // Simplex noise functions
  vec3 mod289(vec3 x) { return x - floor(x * (1.0 / 289.0)) * 289.0; }
  vec4 mod289(vec4 x) { return x - floor(x * (1.0 / 289.0)) * 289.0; }
  vec4 permute(vec4 x) { return mod289(((x*34.0)+1.0)*x); }
  vec4 taylorInvSqrt(vec4 r) { return 1.79284291400159 - 0.85373472095314 * r; }

  float snoise(vec3 v) {
    const vec2 C = vec2(1.0/6.0, 1.0/3.0);
    const vec4 D = vec4(0.0, 0.5, 1.0, 2.0);
    vec3 i = floor(v + dot(v, C.yyy));
    vec3 x0 = v - i + dot(i, C.xxx);
    vec3 g = step(x0.yzx, x0.xyz);
    vec3 l = 1.0 - g;
    vec3 i1 = min(g.xyz, l.zxy);
    vec3 i2 = max(g.xyz, l.zxy);
    vec3 x1 = x0 - i1 + C.xxx;
    vec3 x2 = x0 - i2 + C.yyy;
    vec3 x3 = x0 - D.yyy;
    i = mod289(i);
    vec4 p = permute(permute(permute(
              i.z + vec4(0.0, i1.z, i2.z, 1.0))
            + i.y + vec4(0.0, i1.y, i2.y, 1.0))
            + i.x + vec4(0.0, i1.x, i2.x, 1.0));
    float n_ = 0.142857142857;
    vec3 ns = n_ * D.wyz - D.xzx;
    vec4 j = p - 49.0 * floor(p * ns.z * ns.z);
    vec4 x_ = floor(j * ns.z);
    vec4 y_ = floor(j - 7.0 * x_);
    vec4 x = x_ * ns.x + ns.yyyy;
    vec4 y = y_ * ns.x + ns.yyyy;
    vec4 h = 1.0 - abs(x) - abs(y);
    vec4 b0 = vec4(x.xy, y.xy);
    vec4 b1 = vec4(x.zw, y.zw);
    vec4 s0 = floor(b0)*2.0 + 1.0;
    vec4 s1 = floor(b1)*2.0 + 1.0;
    vec4 sh = -step(h, vec4(0.0));
    vec4 a0 = b0.xzyw + s0.xzyw*sh.xxyy;
    vec4 a1 = b1.xzyw + s1.xzyw*sh.zzww;
    vec3 p0 = vec3(a0.xy, h.x);
    vec3 p1 = vec3(a0.zw, h.y);
    vec3 p2 = vec3(a1.xy, h.z);
    vec3 p3 = vec3(a1.zw, h.w);
    vec4 norm = taylorInvSqrt(vec4(dot(p0,p0), dot(p1,p1), dot(p2,p2), dot(p3,p3)));
    p0 *= norm.x; p1 *= norm.y; p2 *= norm.z; p3 *= norm.w;
    vec4 m = max(0.6 - vec4(dot(x0,x0), dot(x1,x1), dot(x2,x2), dot(x3,x3)), 0.0);
    m = m * m;
    return 42.0 * dot(m*m, vec4(dot(p0,x0), dot(p1,x1), dot(p2,x2), dot(p3,x3)));
  }

  // Curl Noise -    ( )
  vec3 curlNoise(vec3 p) {
    float e = 0.1;
    vec3 dx = vec3(e, 0.0, 0.0);
    vec3 dy = vec3(0.0, e, 0.0);
    vec3 dz = vec3(0.0, 0.0, e);

    float n1 = snoise(p + dy) - snoise(p - dy);
    float n2 = snoise(p + dz) - snoise(p - dz);
    float n3 = snoise(p + dx) - snoise(p - dx);
    float n4 = snoise(p + dz) - snoise(p - dz);
    float n5 = snoise(p + dx) - snoise(p - dx);
    float n6 = snoise(p + dy) - snoise(p - dy);

    return normalize(vec3(
      n1 - n2,
      n3 - n4,
      n5 - n6
    )) / (2.0 * e);
  }

  // Smooth easing function
  float easeInOutCubic(float t) {
    return t < 0.5 ? 4.0 * t * t * t : 1.0 - pow(-2.0 * t + 2.0, 3.0) / 2.0;
  }

  void main() {
    // /  (easing )
    float easedTransition = easeInOutCubic(transitionProgress);
    vec3 currentTarget = mix(prevTargetPos, targetPos, easedTransition);

    //  
    vec3 pos = position;

    //    (0~1   )
    float isTransitioning = 1.0 - abs(transitionProgress * 2.0 - 1.0);
    isTransitioning = smoothstep(0.0, 0.3, isTransitioning);

    // Curl Noise  (   )
    float noiseScale = 0.008;
    float noiseSpeed = time * 0.15;
    vec3 noisePos = pos * noiseScale + vec3(0.0, 0.0, noiseSpeed);
    vec3 curl = curlNoise(noisePos);

    //      
    vec3 toTarget = normalize(currentTarget - pos);
    float distToTarget = length(currentTarget - pos);

    //  :   + curl noise 
    vec3 transitionFlow = mix(curl, toTarget, 0.3) * isTransitioning * 40.0;

    //    (life  ,   )
    float baseFlowStrength = 25.0 * (0.5 + life * 0.5);
    float flowStrength = baseFlowStrength * (1.0 - isTransitioning * 0.5);
    vec3 flowOffset = curl * flowStrength + transitionFlow;

    //    (  )
    float floatIntensity = 1.0 - isTransitioning * 0.7;
    float floatY = sin(time * 0.3 + life * 6.28) * 8.0 * floatIntensity;
    float floatX = cos(time * 0.2 + life * 4.0) * 6.0 * floatIntensity;

    //  
    vec3 vortexOffset = vec3(0.0);
    if (vortexActive > 0.5 && vortexStrength > 0.01) {
      vec2 toVortex = pos.xy - vortexCenter;
      float dist = length(toVortex);
      float influence = smoothstep(200.0, 0.0, dist) * vortexStrength;

      if (influence > 0.01) {
        float angle = atan(toVortex.y, toVortex.x) + time * 2.0 * vortexStrength;
        float spiralRadius = dist * (1.0 - influence * 0.3);

        vortexOffset.xy = vec2(cos(angle), sin(angle)) * spiralRadius - toVortex;
        vortexOffset.y += influence * 50.0;
      }
    }

    //   (curl noise + float)
    vec3 flowPos = pos + flowOffset + vec3(floatX, floatY, 0.0) + vortexOffset;

    //   (easing)
    float easedMorph = easeInOutCubic(morphProgress);
    vec3 morphedPos = mix(flowPos, currentTarget, easedMorph);

    //     
    if (morphProgress > 0.5) {
      float aliveIntensity = (morphProgress - 0.5) * 2.0;

      //  
      float breathe = sin(time * 1.2 + life * 3.14) * 2.0;
      morphedPos += normalize(currentTarget) * breathe * aliveIntensity * 0.5;

      //  (   )
      vec3 ripple = curlNoise(currentTarget * 0.02 + vec3(time * 0.5, 0.0, 0.0)) * 3.0;
      morphedPos += ripple * aliveIntensity;

      //     (     )
      if (isTransitioning > 0.1) {
        vec3 flowToNew = curlNoise(morphedPos * 0.01 + vec3(time * 0.3, 0.0, 0.0));
        morphedPos += flowToNew * isTransitioning * 5.0;
      }
    }

    pos = morphedPos;

    //   (/ )
    vSpeed = length(curl) + vortexStrength * 0.5 + isTransitioning * 0.3;

    vLife = life;
    vMorph = morphProgress;
    vTransition = isTransitioning;

    vec4 mvPos = modelViewMatrix * vec4(pos, 1.0);
    gl_Position = projectionMatrix * mvPos;

    //   (   )
    float baseSize = size * (1.0 + morphProgress * 0.3);
    float speedSize = 1.0 + vSpeed * 0.2;
    float transitionSize = 1.0 + isTransitioning * 0.2;
    gl_PointSize = (baseSize * speedSize * transitionSize / -mvPos.z) * 150.0;
  }
`,m3e=`
  uniform vec3 color1;
  uniform vec3 color2;
  uniform vec3 color3;
  uniform float time;

  varying float vLife;
  varying float vMorph;
  varying float vSpeed;
  varying float vTransition;

  void main() {
    //   
    vec2 uv = gl_PointCoord - 0.5;
    float dist = length(uv);
    if (dist > 0.5) discard;

    //   
    float alpha = exp(-dist * dist * 8.0);

    //   (life + speed )
    float colorMix = vLife + vSpeed * 0.3;
    colorMix = fract(colorMix + time * 0.05);

    vec3 color;
    if (colorMix < 0.5) {
      color = mix(color1, color2, colorMix * 2.0);
    } else {
      color = mix(color2, color3, (colorMix - 0.5) * 2.0);
    }

    //   
    color += vec3(0.1) * vMorph;

    //    (  )
    color += vec3(0.08, 0.06, 0.1) * vTransition;

    //   
    color += vec3(0.05) * vSpeed;

    // 
    alpha *= 0.7 + vMorph * 0.3;

    gl_FragColor = vec4(color, alpha);
  }
`,U2={dark:{color1:{r:.4,g:.5,b:.7},color2:{r:.6,g:.6,b:.75},color3:{r:.75,g:.75,b:.85}},light:{color1:{r:.2,g:.25,b:.4},color2:{r:.3,g:.3,b:.45},color3:{r:.4,g:.4,b:.5}}};function A3e({colors:t,particleCount:e=wp,afterImageDamp:n=.35}){const r=x.useRef(null),{targetMorphRef:i,contentRef:s,contentVersion:o,vortexRef:a}=sv(),l=x.useRef(0),u=x.useRef(1),c=x.useRef(null),d=x.useRef(null);return x.useEffect(()=>{const f=c.current;if(!f)return;const p=f.getAttribute("targetPos");p&&f.setAttribute("prevTargetPos",new mr(new Float32Array(p.array),3)),f.setAttribute("targetPos",new mr(L0(s.current),3)),u.current=0},[o,s]),x.useEffect(()=>{if(!r.current)return;const f=r.current,p=new K3,m=new bc(60,window.innerWidth/window.innerHeight,.1,1e3);m.position.set(0,0,200),m.lookAt(0,0,0);const v=new W3({antialias:!0,alpha:!0,powerPreference:"high-performance"});v.setPixelRatio(Math.min(window.devicePixelRatio,2)),v.setSize(window.innerWidth,window.innerHeight),f.appendChild(v.domElement);const y=new Dc,A=new Float32Array(e*3),C=new Float32Array(e),E=new Float32Array(e),I=new Float32Array(e*3);for(let J=0;J<e;J++){const te=J*3;A[te]=(Math.random()-.5)*500,A[te+1]=(Math.random()-.5)*350,A[te+2]=(Math.random()-.5)*80,C[J]=.8+Math.random()*1.2,E[J]=Math.random(),I[te]=(Math.random()-.5)*2,I[te+1]=(Math.random()-.5)*2,I[te+2]=(Math.random()-.5)*.5}const D=L0(s.current);y.setAttribute("position",new mr(A,3)),y.setAttribute("size",new mr(C,1)),y.setAttribute("life",new mr(E,1)),y.setAttribute("velocity",new mr(I,3)),y.setAttribute("targetPos",new mr(D,3)),y.setAttribute("prevTargetPos",new mr(new Float32Array(D),3)),c.current=y;const T=window.matchMedia("(prefers-color-scheme: dark)").matches,M=t||(T?U2.dark:U2.light),P=new No({uniforms:{time:{value:0},morphProgress:{value:0},transitionProgress:{value:1},vortexActive:{value:0},vortexCenter:{value:new Er(0,0)},vortexStrength:{value:0},color1:{value:new rt(M.color1.r,M.color1.g,M.color1.b)},color2:{value:new rt(M.color2.r,M.color2.g,M.color2.b)},color3:{value:new rt(M.color3.r,M.color3.g,M.color3.b)}},vertexShader:g3e,fragmentShader:m3e,transparent:!0,blending:Nx,depthWrite:!1});d.current=P;const k=window.matchMedia("(prefers-color-scheme: dark)"),L=J=>{const te=J.matches?U2.dark:U2.light;P.uniforms.color1.value.set(te.color1.r,te.color1.g,te.color1.b),P.uniforms.color2.value.set(te.color2.r,te.color2.g,te.color2.b),P.uniforms.color3.value.set(te.color3.r,te.color3.g,te.color3.b)};k.addEventListener("change",L),p.add(new hT(y,P));const $=new q3(v),z=new Y3(p,m);$.addPass(z);const j=new YF(n);$.addPass(j);const H=new X3;$.addPass(H);const W=new rS;let O;const G=()=>{const J=W.getDelta();P.uniforms.time.value+=J;const te=i.current>l.current?j3:Q3;l.current+=(i.current-l.current)*te,P.uniforms.morphProgress.value=l.current,u.current+=(1-u.current)*p3e,P.uniforms.transitionProgress.value=u.current;const Y=a.current;!Y.active&&Y.strength>0&&(Y.strength=Math.max(0,Y.strength-_F)),P.uniforms.vortexActive.value=Y.strength>.01?1:0,P.uniforms.vortexCenter.value.set(Y.x,Y.y),P.uniforms.vortexStrength.value=Y.strength,$.render(),O=requestAnimationFrame(G)};G();const q=()=>{m.aspect=window.innerWidth/window.innerHeight,m.updateProjectionMatrix(),v.setSize(window.innerWidth,window.innerHeight),$.setSize(window.innerWidth,window.innerHeight)};return window.addEventListener("resize",q),()=>{c.current=null,d.current=null,cancelAnimationFrame(O),window.removeEventListener("resize",q),k.removeEventListener("change",L),f.removeChild(v.domElement),y.dispose(),P.dispose(),$.dispose(),v.dispose()}},[i,s,a,t,e,n]),h.jsx("div",{ref:r,style:{position:"fixed",inset:0,zIndex:-1,pointerEvents:"none"}})}const wl=Math.min(wp,2e4),ow=100,ZO=168,y3e=200,p1=.6,H2=2,Db=128,ej=150,V2=2,tj=.05,G2=168,nj=198,mJ="",AJ="",v3e=(()=>{let t="";for(const e of mJ)for(const n of AJ){const r=44032+(e.charCodeAt(0)-12593)*588+(n.charCodeAt(0)-12623)*28;r>=44032&&r<=55203&&(t+=String.fromCharCode(r))}return t})(),b3e="",x3e="",C3e="",E3e="",S3e="",Ry="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz{}[]()<>+-*/=!?;:.,@#$%^&|~`_\\\"'"+b3e+x3e+mJ+AJ+v3e+C3e+E3e+S3e;function w3e(){const e=Math.ceil(Ry.length/12),n=12*Db,r=e*Db,i=document.createElement("canvas");i.width=n,i.height=r;const s=i.getContext("2d");s.clearRect(0,0,n,r),s.font=`bold ${Db*.75}px "MS Gothic", "Meiryo", "Hiragino Kaku Gothic Pro", monospace`,s.textAlign="center",s.textBaseline="middle";for(let a=0;a<Ry.length;a++){const l=a%12,u=Math.floor(a/12),c=l*Db+Db/2,d=u*Db+Db/2;s.shadowColor="rgba(0, 255, 100, 1)",s.shadowBlur=8,s.fillStyle="#00ff66",s.fillText(Ry[a],c,d),s.shadowBlur=0,s.fillText(Ry[a],c,d)}const o=new WF(i);return o.minFilter=Wo,o.magFilter=Wo,o.needsUpdate=!0,o}const _3e=`
  attribute vec3 instancePosition;
  attribute float instanceCharIndex;
  attribute float instanceBrightness;
  attribute float instanceDepth;
  attribute float instanceSpeed;
  attribute float instanceSize;
  attribute float instanceSpawnTime;

  uniform float time;
  uniform float morphProgress;
  uniform sampler2D targetPositions;
  uniform vec2 targetSize;
  uniform float screenHeight;
  uniform float depthSpeedMultiplier;
  uniform float mouseWorldX;
  uniform float mouseWorldY;
  uniform float mouseActive;

  //   ( 1/2 )
  const float AVOID_RADIUS = 18.0;      //   
  const float AVOID_STRENGTH = 15.0;    //   
  const float RETURN_DISTANCE = 30.0;   //   

  varying vec2 vUv;
  varying float vBrightness;
  varying float vCharIndex;
  varying float vDepth;
  varying float vCollision;
  varying float vVisible;

  void main() {
    vUv = uv;
    vCharIndex = instanceCharIndex;
    vDepth = instanceDepth;

    //   :     
    float spawnProgress = step(instanceSpawnTime, time);
    vVisible = spawnProgress;

    //       
    if (spawnProgress < 0.5) {
      gl_Position = vec4(0.0, 0.0, -1000.0, 1.0);
      vBrightness = 0.0;
      vCollision = 0.0;
      return;
    }

    vec3 pos = instancePosition;

    // Matrix :   
    float vortexEffect = 0.0;

    //    ( )
    float instanceId = float(gl_InstanceID);
    vec2 targetUV = vec2(mod(instanceId, targetSize.x) / targetSize.x,
                         floor(instanceId / targetSize.x) / targetSize.y);
    vec4 targetData = texture2D(targetPositions, targetUV);
    vec3 targetPos = targetData.xyz;

    //  :     
    float distToTarget = length(pos.xy - targetPos.xy);
    float collisionRadius = 8.0;
    float collision = smoothstep(collisionRadius, 0.0, distToTarget) * morphProgress;
    vCollision = max(collision, vortexEffect); //   collision 

    //  :      
    if (collision > 0.1) {
      //   
      pos.xy = mix(pos.xy, targetPos.xy, collision * 0.8);
      //    :  ( depth)   
      float depthSpeedFactor = 1.0 + (1.0 - instanceDepth) * depthSpeedMultiplier;
      pos.y -= collision * time * instanceSpeed * depthSpeedFactor * 0.3;
      //   
      pos.x += sin(time * 2.0 + float(gl_InstanceID) * 0.1) * collision * 2.0;
    }

    //    ()
    float depthScale = 1.0 - instanceDepth * 0.4;

    // ==========    ==========
    //   
    float distToMouseX = pos.x - mouseWorldX;
    float distToMouseY = pos.y - mouseWorldY;
    float distToMouse = length(vec2(distToMouseX, distToMouseY));

    //    (  )
    float avoidOffset = 0.0;
    if (mouseActive > 0.5) {
      // X    (  )
      float xProximity = 1.0 - smoothstep(0.0, AVOID_RADIUS, abs(distToMouseX));

      // Y     
      float yFactor = 0.0;
      if (distToMouseY > 0.0) {
        //  :    ()
        yFactor = smoothstep(AVOID_RADIUS * 2.0, 0.0, distToMouseY);
      } else {
        //  :  
        yFactor = smoothstep(-RETURN_DISTANCE, 0.0, distToMouseY);
      }

      //    (  )
      float pushDir = sign(distToMouseX);
      //   /  ID  
      if (abs(distToMouseX) < 3.0) {
        pushDir = (mod(float(gl_InstanceID), 2.0) * 2.0 - 1.0);
      }

      //   
      avoidOffset = pushDir * xProximity * yFactor * AVOID_STRENGTH;
    }

    //   
    pos.x += avoidOffset;

    //       (  )
    float mouseGlow = smoothstep(AVOID_RADIUS * 1.5, 0.0, distToMouse) * mouseActive * 0.3;

    //    (   ,  )
    float finalSize = instanceSize * depthScale;

    //       
    //   = 1.0 (,  )
    //   =   ()
    float age = time - instanceSpawnTime;
    float fadeTime = 8.0; //     ()
    float ageBrightness = max(0.05, 1.0 - age / fadeTime);

    // :    +  
    vBrightness = ageBrightness * (1.0 - instanceDepth * 0.3);

    // /   
    vBrightness += vCollision * 0.5;

    //       
    vBrightness += mouseGlow;

    //      (  )
    vec3 transformed = position * finalSize + pos;

    // Billboard:   
    vec4 mvPosition = modelViewMatrix * vec4(pos, 1.0);
    mvPosition.xyz += position * finalSize;

    gl_Position = projectionMatrix * mvPosition;
  }
`,I3e=`
  uniform sampler2D charAtlas;
  uniform float charsPerRow;
  uniform float charRows;
  uniform float time;

  varying vec2 vUv;
  varying float vBrightness;
  varying float vCharIndex;
  varying float vDepth;
  varying float vCollision;
  varying float vVisible;

  void main() {
    //      
    if (vVisible < 0.5) discard;
    //   UV 
    float charIdx = floor(vCharIndex);
    float col = mod(charIdx, charsPerRow);
    float row = floor(charIdx / charsPerRow);

    vec2 charUV = vec2(
      (col + vUv.x) / charsPerRow,
      (row + (1.0 - vUv.y)) / charRows
    );

    vec4 texColor = texture2D(charAtlas, charUV);

    //  
    vec3 baseGreen = vec3(0.0, 1.0, 0.4);
    vec3 brightGreen = vec3(0.5, 1.0, 0.6);
    vec3 headWhite = vec3(0.9, 1.0, 0.95);

    //   
    vec3 color;
    if (vBrightness > 0.9) {
      // : 
      color = mix(brightGreen, headWhite, (vBrightness - 0.9) * 10.0);
    } else {
      // :  
      color = mix(baseGreen * 0.3, brightGreen, vBrightness);
    }

    //     
    color = mix(color, headWhite, vCollision * 0.5);

    //  
    float flicker = 0.9 + 0.1 * sin(time * 10.0 + vCharIndex * 2.5);
    color *= flicker;

    //    
    float fog = 1.0 - vDepth * 0.3;
    color *= fog;

    // 
    float alpha = texColor.a * vBrightness;

    //     
    alpha = mix(alpha, min(alpha * 1.5, 1.0), vCollision);

    if (alpha < 0.05) discard;

    gl_FragColor = vec4(color, alpha);
  }
`;function B3e({bloomStrength:t=1.2,bloomRadius:e=.8,bloomThreshold:n=.1,speedMultiplier:r=1}){const i=x.useRef(null),{targetMorphRef:s,contentRef:o,contentVersion:a}=sv(),l=x.useRef(0),u=x.useRef(null),c=x.useRef(null);return x.useEffect(()=>{if(!u.current)return;const d=L0(o.current),f=Math.ceil(Math.sqrt(wl)),p=new Float32Array(f*f*4);for(let v=0;v<wl;v++){const y=v*3,A=v*4;p[A]=d[y]||0,p[A+1]=d[y+1]||0,p[A+2]=d[y+2]||0,p[A+3]=1}const m=u.current.image?.data;m&&(m.set(p),u.current.needsUpdate=!0)},[a,o]),x.useEffect(()=>{if(!i.current)return;const d=i.current,f=new K3;f.background=new Gr(0),f.fog=new GF(0,100,400);const p=new bc(75,window.innerWidth/window.innerHeight,.1,1e3);p.position.set(0,0,100),p.lookAt(0,0,0);const m=new W3({antialias:!0,alpha:!1,powerPreference:"high-performance"});m.setPixelRatio(Math.min(window.devicePixelRatio,2)),m.setSize(window.innerWidth,window.innerHeight),d.appendChild(m.domElement);const v=w3e(),y=12,A=Math.ceil(Ry.length/y),C=Math.ceil(Math.sqrt(wl)),E=new Float32Array(C*C*4),I=new KF(E,C,C,df,cf);I.needsUpdate=!0,u.current=I;const D=window.innerWidth/window.innerHeight,T=2*Math.tan(75*Math.PI/360)*100,M=T*D,P=M/2,k=T/2,L=new qF(1,1),$=new Float32Array(wl*3),z=new Float32Array(wl),j=new Float32Array(wl),H=new Float32Array(wl),W=new Float32Array(wl),O=new Float32Array(wl),G=new Float32Array(wl),q=M*1.2/ow,J=[];for(let gt=0;gt<ow;gt++)J.push({speed:(.3+Math.random()*.7)*r,length:G2+Math.floor(Math.random()*(nj-G2+1)),depth:Math.random(),headY:k+Math.random()*k*2,charCount:ZO+Math.floor(Math.random()*(y3e-ZO+1)),startDelay:Math.random()*2,spawnedCount:0,lastSpawnTime:0});let te=0;for(let gt=0;gt<ow&&te<wl;gt++){const it=J[gt],le=-P*1.1+gt*q+q/2+(Math.random()-.5)*.3,se=(p1+H2)/2*1.2;for(let Se=0;Se<it.charCount&&te<wl;Se++){const De=te*3;$[De]=le;const Be=p1+Math.random()*(H2-p1);$[De+1]=it.headY-Se*se,$[De+2]=-it.depth*ej,z[te]=Math.floor(Math.random()*Ry.length);const ze=Se===0?1:Se<it.length?Math.max(.1,1-Se/it.length*.9):.05;j[te]=ze,H[te]=it.depth;const kt=1+(1-it.depth)*V2;W[te]=it.speed*kt,O[te]=Be,G[te]=it.startDelay+Se*tj,te++}}const Y=L.clone();Y.setAttribute("instancePosition",new p0($,3)),Y.setAttribute("instanceCharIndex",new p0(z,1)),Y.setAttribute("instanceBrightness",new p0(j,1)),Y.setAttribute("instanceDepth",new p0(H,1)),Y.setAttribute("instanceSpeed",new p0(W,1)),Y.setAttribute("instanceSize",new p0(O,1)),Y.setAttribute("instanceSpawnTime",new p0(G,1));const Z=new No({uniforms:{charAtlas:{value:v},charsPerRow:{value:y},charRows:{value:A},time:{value:0},morphProgress:{value:0},targetPositions:{value:I},targetSize:{value:new Er(C,C)},screenHeight:{value:T},depthSpeedMultiplier:{value:V2},mouseWorldX:{value:0},mouseWorldY:{value:0},mouseActive:{value:0}},vertexShader:_3e,fragmentShader:I3e,transparent:!0,blending:Nx,depthWrite:!1,depthTest:!0,side:qg});c.current=Z;const ee=new r1e(Y,Z,wl);ee.frustumCulled=!1;const ie=new Bc;for(let gt=0;gt<wl;gt++)ie.position.set(0,0,0),ie.updateMatrix(),ee.setMatrixAt(gt,ie.matrix);ee.instanceMatrix.needsUpdate=!0,f.add(ee);const ue=new q3(m);ue.addPass(new Y3(f,p));const ae=new z0(new Er(window.innerWidth,window.innerHeight),t,e,n);ue.addPass(ae),ue.addPass(new X3);const de=new rS;let ge;const _e=new Float32Array(wl);for(let gt=0;gt<wl;gt++)_e[gt]=Math.random()*30;let we=0,ke=0,Fe=0,Ee=0,Me=0;const Ue=.08,Ge=gt=>{const it=gt.clientX/window.innerWidth*2-1,ot=-(gt.clientY/window.innerHeight*2-1);we=it*P,ke=ot*k,Me=1},ut=()=>{Me=0};window.addEventListener("mousemove",Ge),window.addEventListener("mouseleave",ut);const ve=()=>{const gt=de.getDelta(),it=de.getElapsedTime();Z.uniforms.time.value=it,Fe+=(we-Fe)*Ue,Ee+=(ke-Ee)*Ue,Z.uniforms.mouseWorldX.value=Fe,Z.uniforms.mouseWorldY.value=Ee,Z.uniforms.mouseActive.value=Me;const le=l.current>.1?.1:1,se=s.current>l.current?j3:Q3;l.current+=(s.current-l.current)*se,Z.uniforms.morphProgress.value=l.current;const Se=Y.getAttribute("instancePosition"),De=Y.getAttribute("instanceCharIndex"),Be=Y.getAttribute("instanceBrightness"),ze=Y.getAttribute("instanceDepth"),kt=Y.getAttribute("instanceSize"),Et=Y.getAttribute("instanceSpeed"),zt=Y.getAttribute("instanceSpawnTime"),Mt=[];let at=0;for(let At=0;At<ow;At++)Mt[At]=at,at+=J[At].charCount;for(let At=0;At<ow;At++){const Pt=J[At],wt=-P*1.1+At*q+q/2,Lt=Mt[At],un=1+(1-Pt.depth)*V2,Oe=Pt.speed*un*gt*30*le;let Wt=1/0,Vt=Pt.headY;for(let Xt=0;Xt<Pt.charCount&&Lt+Xt<wl;Xt++){const It=Lt+Xt,St=It*3,qt=zt.array[It];if(it>=qt){const Bt=Se.array[St+1]-Oe;Se.array[St+1]=Bt,Wt=Bt,Vt=Bt;const Rt=Xt===0;_e[It]-=gt*60*(Rt?4:1),_e[It]<=0&&(De.array[It]=Math.floor(Math.random()*Ry.length),_e[It]=Rt?2+Math.random()*5:8+Math.random()*25)}else{const Bt=kt.array[It];Se.array[St+1]=Vt+Bt*1.5}}if(Wt!==1/0&&Wt<-k-30){const Xt=k+30+Math.random()*60,It=G2+Math.floor(Math.random()*(nj-G2+1)),St=Math.random();Pt.headY=Xt,Pt.length=It,Pt.depth=St,Pt.speed=(.3+Math.random()*.7)*r;const qt=wt+(Math.random()-.5)*.3,ct=(p1+H2)/2*1.2;for(let Bt=0;Bt<Pt.charCount&&Lt+Bt<wl;Bt++){const Rt=Lt+Bt,Ht=Rt*3;Se.array[Ht]=qt;const Vn=p1+Math.random()*(H2-p1);Se.array[Ht+1]=Xt-Bt*ct,Se.array[Ht+2]=-St*ej,De.array[Rt]=Math.floor(Math.random()*Ry.length);const In=Bt===0?1:Bt<It?Math.max(.1,1-Bt/It*.9):.05;Be.array[Rt]=In,ze.array[Rt]=St;const rn=1+(1-St)*V2;Et.array[Rt]=Pt.speed*rn,kt.array[Rt]=Vn,zt.array[Rt]=it+Bt*tj}Et.needsUpdate=!0,zt.needsUpdate=!0}}Se.needsUpdate=!0,De.needsUpdate=!0,Be.needsUpdate=!0,ze.needsUpdate=!0,kt.needsUpdate=!0,ue.render(),ge=requestAnimationFrame(ve)};ve();const $e=()=>{p.aspect=window.innerWidth/window.innerHeight,p.updateProjectionMatrix(),m.setSize(window.innerWidth,window.innerHeight),ue.setSize(window.innerWidth,window.innerHeight),ae.resolution.set(window.innerWidth,window.innerHeight)};return window.addEventListener("resize",$e),()=>{u.current=null,c.current=null,cancelAnimationFrame(ge),window.removeEventListener("resize",$e),window.removeEventListener("mousemove",Ge),window.removeEventListener("mouseleave",ut),d.removeChild(m.domElement),Y.dispose(),L.dispose(),Z.dispose(),v.dispose(),I.dispose(),ue.dispose(),m.dispose()}},[s,o,t,e,n,r]),h.jsx("div",{ref:i,style:{position:"fixed",inset:0,zIndex:-1,pointerEvents:"none"}})}const qh=Math.min(wp,15e3),Tb=24,yJ="",vJ="",D3e=(()=>{let t="";for(const e of yJ)for(const n of vJ){const r=44032+(e.charCodeAt(0)-12593)*588+(n.charCodeAt(0)-12623)*28;r>=44032&&r<=55203&&(t+=String.fromCharCode(r))}return t})(),T3e="",M3e="",k3e="",P3e="",R3e="",dx="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz{}[]()<>+-*/=!?;:.,@#$%^&|~`_\\\"'"+T3e+M3e+yJ+vJ+D3e+k3e+P3e+R3e;function N3e(){const e=Math.ceil(dx.length/12),n=12*Tb,r=e*Tb,i=document.createElement("canvas");i.width=n,i.height=r;const s=i.getContext("2d");s.clearRect(0,0,n,r),s.font=`bold ${Tb*.7}px "Fira Code", "Source Code Pro", "Consolas", monospace`,s.textAlign="center",s.textBaseline="middle";for(let a=0;a<dx.length;a++){const l=a%12,u=Math.floor(a/12),c=l*Tb+Tb/2,d=u*Tb+Tb/2;s.shadowColor="rgba(0, 255, 180, 0.8)",s.shadowBlur=4,s.fillStyle="#00ffaa",s.fillText(dx[a],c,d),s.shadowBlur=0,s.fillText(dx[a],c,d)}const o=new WF(i);return o.minFilter=Wo,o.magFilter=Wo,o.needsUpdate=!0,o}const L3e=`
  attribute float charIndex;
  attribute float random;
  attribute float heightLayer;
  attribute float particleSize;
  attribute float glowIntensity;
  attribute vec3 targetPos;
  attribute vec3 prevTargetPos;

  uniform float time;
  uniform float morphProgress;
  uniform float transitionProgress;

  // / 
  uniform float primarySpeed;
  uniform float primaryDirection;
  uniform float lowLayerEffect;
  uniform float midLayerEffect;
  uniform float highLayerEffect;
  uniform float waveSpeed;
  uniform float waveScale;
  uniform float clusterStrength;
  uniform float clusterScale;

  //  
  uniform float turbulence;
  uniform float gustStrength;
  uniform float gustFrequency;
  uniform float convergenceForce;
  uniform float formIntensityMultiplier;
  uniform float aliveBreathScale;
  uniform float vibrationScale;

  //  
  uniform float vortexActive;
  uniform vec2 vortexCenter;
  uniform float vortexStrength;
  uniform float vortexRadius;
  uniform float vortexHeight;
  uniform float rotationSpeed;
  uniform float spiralTightness;
  uniform float suctionStrength;
  uniform float liftForce;
  uniform float coreDensity;
  uniform float edgeDensity;
  uniform float tiltAmount;
  uniform float tiltDirection;
  uniform float maxVortexHeight;

  varying vec2 vUv;
  varying float vCharIndex;
  varying float vAlpha;
  varying float vMorphProgress;
  varying float vGlowIntensity;

  //   
  vec3 mod289(vec3 x) { return x - floor(x * (1.0 / 289.0)) * 289.0; }
  vec4 mod289(vec4 x) { return x - floor(x * (1.0 / 289.0)) * 289.0; }
  vec4 permute(vec4 x) { return mod289(((x*34.0)+1.0)*x); }
  vec4 taylorInvSqrt(vec4 r) { return 1.79284291400159 - 0.85373472095314 * r; }

  float snoise(vec3 v) {
    const vec2 C = vec2(1.0/6.0, 1.0/3.0);
    const vec4 D = vec4(0.0, 0.5, 1.0, 2.0);
    vec3 i = floor(v + dot(v, C.yyy));
    vec3 x0 = v - i + dot(i, C.xxx);
    vec3 g = step(x0.yzx, x0.xyz);
    vec3 l = 1.0 - g;
    vec3 i1 = min(g.xyz, l.zxy);
    vec3 i2 = max(g.xyz, l.zxy);
    vec3 x1 = x0 - i1 + C.xxx;
    vec3 x2 = x0 - i2 + C.yyy;
    vec3 x3 = x0 - D.yyy;
    i = mod289(i);
    vec4 p = permute(permute(permute(
              i.z + vec4(0.0, i1.z, i2.z, 1.0))
            + i.y + vec4(0.0, i1.y, i2.y, 1.0))
            + i.x + vec4(0.0, i1.x, i2.x, 1.0));
    float n_ = 0.142857142857;
    vec3 ns = n_ * D.wyz - D.xzx;
    vec4 j = p - 49.0 * floor(p * ns.z * ns.z);
    vec4 x_ = floor(j * ns.z);
    vec4 y_ = floor(j - 7.0 * x_);
    vec4 x = x_ * ns.x + ns.yyyy;
    vec4 y = y_ * ns.x + ns.yyyy;
    vec4 h = 1.0 - abs(x) - abs(y);
    vec4 b0 = vec4(x.xy, y.xy);
    vec4 b1 = vec4(x.zw, y.zw);
    vec4 s0 = floor(b0) * 2.0 + 1.0;
    vec4 s1 = floor(b1) * 2.0 + 1.0;
    vec4 sh = -step(h, vec4(0.0));
    vec4 a0 = b0.xzyw + s0.xzyw * sh.xxyy;
    vec4 a1 = b1.xzyw + s1.xzyw * sh.zzww;
    vec3 p0 = vec3(a0.xy, h.x);
    vec3 p1 = vec3(a0.zw, h.y);
    vec3 p2 = vec3(a1.xy, h.z);
    vec3 p3 = vec3(a1.zw, h.w);
    vec4 norm = taylorInvSqrt(vec4(dot(p0,p0), dot(p1,p1), dot(p2,p2), dot(p3,p3)));
    p0 *= norm.x; p1 *= norm.y; p2 *= norm.z; p3 *= norm.w;
    vec4 m = max(0.6 - vec4(dot(x0,x0), dot(x1,x1), dot(x2,x2), dot(x3,x3)), 0.0);
    m = m * m;
    return 42.0 * dot(m*m, vec4(dot(p0,x0), dot(p1,x1), dot(p2,x2), dot(p3,x3)));
  }

  void main() {
    vUv = uv;
    vCharIndex = charIndex;
    vMorphProgress = morphProgress;

    //   
    vec3 currentTarget = mix(prevTargetPos, targetPos, transitionProgress);
    vec3 pos = position;

    // ===== Curl Noise    (sin/cos  -  ) =====
    // CurlNoiseCanvas   

    float layerEffect = mix(
      mix(lowLayerEffect, midLayerEffect, heightLayer),
      highLayerEffect,
      heightLayer * heightLayer
    );

    // Curl noise :    
    // curl(f) = (df/dy, -df/dx)  sin/cos 
    float noiseScale = 0.008; //  
    float flowSpeed = time * 0.4; //  

    //  curl   (3 )
    float px1 = pos.x * noiseScale + flowSpeed;
    float py1 = pos.y * noiseScale + flowSpeed * 0.7;
    float pz1 = pos.z * noiseScale * 0.5;

    //    (  )
    float curl1x = sin(py1 * 2.0 + pz1) * cos(px1 * 1.3) - sin(pz1 * 1.5 + px1) * cos(py1 * 0.8);
    float curl1y = sin(pz1 * 2.0 + px1) * cos(py1 * 1.3) - sin(px1 * 1.5 + py1) * cos(pz1 * 0.8);
    float curl1z = sin(px1 * 2.0 + py1) * cos(pz1 * 1.3) - sin(py1 * 1.5 + pz1) * cos(px1 * 0.8);

    //    ( )
    float px2 = pos.x * noiseScale * 2.0 + flowSpeed * 1.3;
    float py2 = pos.y * noiseScale * 2.0 + flowSpeed * 0.9;
    float curl2x = sin(py2 * 2.5 + random * 3.0) * cos(px2 * 1.8) * 0.5;
    float curl2y = sin(px2 * 2.5 + random * 2.0) * cos(py2 * 1.8) * 0.5;

    //    ( )
    float px3 = pos.x * noiseScale * 4.0 + flowSpeed * 2.0;
    float py3 = pos.y * noiseScale * 4.0 + flowSpeed * 1.5;
    float curl3x = sin(py3 * 3.0) * cos(px3 * 2.5) * 0.25;
    float curl3y = sin(px3 * 3.0) * cos(py3 * 2.5) * 0.25;

    //  curl 
    vec3 curlFlow = vec3(
      curl1x + curl2x + curl3x,
      curl1y + curl2y + curl3y,
      curl1z * 0.3 // z 
    );

    //   (CurlNoiseCanvas flowStrength = 25.0 )
    float flowStrength = 20.0 * (0.6 + heightLayer * 0.4); //   
    vec3 flowOffset = normalize(curlFlow + vec3(0.001)) * flowStrength;

    // Float  (CurlNoiseCanvas  -   amplitude)
    float floatPhase = time * 0.3 + random * 6.28;
    float floatY = sin(floatPhase) * 8.0; // Y amplitude 8.0
    float floatX = cos(time * 0.2 + random * 4.0) * 6.0; // X amplitude 6.0
    float floatZ = sin(time * 0.15 + random * 5.0) * 4.0; // Z amplitude 4.0
    vec3 floatOffset = vec3(floatX, floatY, floatZ);

    //   (  )
    float wavePhase = pos.x * waveScale * 50.0 + pos.y * waveScale * 30.0 + time * waveSpeed;
    float wave = (sin(wavePhase) + cos(wavePhase * 0.7)) * 0.5 * layerEffect * 5.0;

    //   ( )
    float clusterPhase = pos.x * clusterScale * 80.0 + pos.y * clusterScale * 60.0 + time * 0.15 + random * 10.0;
    float cluster = sin(clusterPhase) * clusterStrength * 1.5;

    //   drift   (  )
    float driftReduction = 1.0 - morphProgress * morphProgress * 0.95; //   95% 

    //  : curl flow + float + wave + cluster (  )
    vec3 driftOffset = (flowOffset + floatOffset + vec3(wave, cluster, 0.0)) * driftReduction;

    // ===== /  =====
    float formIntensity = morphProgress * formIntensityMultiplier;

    vec3 toTarget = currentTarget - pos;
    float dist = length(toTarget);
    vec3 dir = normalize(toTarget + vec3(0.001));

    //    (:   )
    float pullStrength = convergenceForce * formIntensity * (1.0 + dist * 0.02);
    vec3 convergence = dir * pullStrength * 25.0; // 15.0  25.0 

    //      (morphProgress    )
    float accuracyBoost = morphProgress * morphProgress * morphProgress; // 3 
    vec3 accuracyCorrection = toTarget * accuracyBoost * 0.15;

    //  (sin   -  ) -    
    float turbReduction = 1.0 - morphProgress * 0.8; //   80% 
    float turbPhase = pos.x * 0.02 + pos.y * 0.015 + time * 0.3 + random * 6.28;
    float turbNoise = sin(turbPhase) * cos(turbPhase * 1.3) * turbulence * formIntensity * turbReduction;
    vec3 turbulenceOffset = vec3(turbNoise, turbNoise * 0.8, turbNoise * 0.5);

    //  -    
    float gustPhase = time * gustFrequency + random * 6.28;
    float gustMask = smoothstep(0.7, 1.0, sin(gustPhase));
    vec3 gustOffset = vec3(
      sin(gustPhase * 2.3) * gustStrength,
      cos(gustPhase * 1.7) * gustStrength * 0.6,
      0.0
    ) * gustMask * formIntensity * 0.3 * turbReduction;

    //   -    
    float breath = sin(time * 1.5 + random * 6.28) * aliveBreathScale * morphProgress * (1.0 - morphProgress * 0.7);
    vec3 breathOffset = dir * breath;

    //   (sin   -  ) -    
    float vibPhaseX = pos.x * 0.1 + pos.y * 0.08 + time * 3.0;
    float vibPhaseY = pos.x * 0.08 + pos.y * 0.1 + time * 3.0 + 1.57;
    vec3 vibration = vec3(
      sin(vibPhaseX) * cos(vibPhaseX * 0.5),
      sin(vibPhaseY) * cos(vibPhaseY * 0.5),
      0.0
    ) * vibrationScale * morphProgress * turbReduction;

    // =====   =====
    vec3 vortexOffset = vec3(0.0);
    if (vortexActive > 0.5 && vortexStrength > 0.01) {
      vec2 toVortex = pos.xy - vortexCenter;
      float vDist = length(toVortex);

      float influence = smoothstep(vortexRadius * 1.5, 0.0, vDist);
      influence *= vortexStrength;

      float angle = atan(toVortex.y, toVortex.x);
      float rotAngle = angle + time * rotationSpeed * (1.0 + (1.0 - vDist / vortexRadius) * 2.0);

      float spiralR = vDist * (1.0 - influence * spiralTightness);
      vec2 rotatedPos = vec2(cos(rotAngle), sin(rotAngle)) * spiralR;

      vec2 suctionDir = -normalize(toVortex + vec2(0.001));
      float suctionForce = suctionStrength * influence * (1.0 - vDist / vortexRadius);

      float heightProgress = vDist / vortexRadius;
      float targetHeight = vortexHeight * (1.0 - heightProgress * heightProgress);
      float currentLift = (targetHeight - pos.z) * liftForce * influence;

      float tiltOffset = sin(angle + tiltDirection) * tiltAmount * vortexHeight * influence;

      vortexOffset = vec3(
        (rotatedPos.x - toVortex.x) * influence + suctionDir.x * suctionForce,
        (rotatedPos.y - toVortex.y) * influence + suctionDir.y * suctionForce,
        currentLift + tiltOffset
      );
    }

    // =====   =====
    vec3 alivePos = pos + driftOffset;

    //  : morphProgress    
    //     (   )
    float vibX = sin(time * 2.5 + random * 6.28) * 1.5;
    float vibY = cos(time * 2.0 + random * 5.0) * 1.2;
    float vibZ = sin(time * 1.5 + random * 4.0) * 0.8;
    vec3 formedPos = currentTarget + vec3(vibX, vibY, vibZ);

    //  : morphProgress  alivePos  formedPos
    vec3 blendedPos = mix(alivePos, formedPos, morphProgress);

    //    (  )
    blendedPos += vortexOffset;

    // =====   =====
    float baseAlpha = mix(0.7, 0.4, heightLayer);
    float morphAlpha = 1.0 - morphProgress * 0.2;
    float distAlpha = smoothstep(300.0, 0.0, dist) * morphProgress + (1.0 - morphProgress);
    vAlpha = baseAlpha * morphAlpha * distAlpha;

    // =====   =====
    vec4 mvPosition = modelViewMatrix * vec4(blendedPos, 1.0);
    gl_Position = projectionMatrix * mvPosition;

    //   
    float sizeMod = 1.0 + morphProgress * 0.3;
    gl_PointSize = particleSize * sizeMod * (200.0 / -mvPosition.z);

    // =====      =====
    //   :   (mvPosition.z  )
    // mvPosition.z :  -250 ~ -150 ( z=200 )
    float depthNormalized = clamp((-mvPosition.z - 150.0) / 100.0, 0.0, 1.0); // 0() ~ 1()
    float depthFactor = 1.0 - depthNormalized; // 0() ~ 1()

    // =====     (sin   -  ) =====
    //      (random   )
    float glowPhase1 = random * 50.0 + time * 0.5;
    float glowPhase2 = random * 30.0 + time * 0.3;
    float glowNoise = sin(glowPhase1) * cos(glowPhase2) + sin(glowPhase1 * 0.7) * 0.5; // -1.5 ~ 1.5
    float glowThreshold = 0.9; //  20%  (glowNoise  -1.5~1.5,  3.0  0.6)

    //    (  )
    bool isGlowing = glowNoise > glowThreshold;

    if (isGlowing) {
      //  :    (1.5 ~ 3.0)
      float glowStrength = (glowNoise - glowThreshold) / (1.5 - glowThreshold); // 0 ~ 1
      vGlowIntensity = (1.5 + depthFactor * 1.5) * (0.7 + glowStrength * 0.3);
    } else {
      //  :  0.5,  0.15
      vGlowIntensity = 0.15 + depthFactor * 0.35;
    }
  }
`,F3e=`
  uniform sampler2D charAtlas;
  uniform float charsPerRow;
  uniform float charRows;
  uniform float time;

  uniform vec3 colorPrimary;
  uniform vec3 colorSecondary;
  uniform vec3 morphColorTint;

  varying vec2 vUv;
  varying float vCharIndex;
  varying float vAlpha;
  varying float vMorphProgress;
  varying float vGlowIntensity;

  void main() {
    //  UV 
    vec2 pointUV = gl_PointCoord;

    //   UV 
    float charIdx = floor(vCharIndex);
    float col = mod(charIdx, charsPerRow);
    float row = floor(charIdx / charsPerRow);

    vec2 charUV = vec2(
      (col + pointUV.x) / charsPerRow,
      (row + (1.0 - pointUV.y)) / charRows
    );

    vec4 texColor = texture2D(charAtlas, charUV);

    //   - /  
    vec3 baseColor = mix(colorPrimary, colorSecondary, pointUV.y * 0.5 + 0.25);

    //    
    baseColor = mix(baseColor, baseColor + morphColorTint, vMorphProgress * 0.5);

    //  
    float flicker = 0.9 + 0.1 * sin(time * 8.0 + vCharIndex * 1.5);
    baseColor *= flicker;

    //  :   (bloom threshold    )
    // vGlowIntensity    (1.0 = , 2.0+ = )
    baseColor *= vGlowIntensity;

    //  
    float alpha = texColor.a * vAlpha;

    if (alpha < 0.05) discard;

    gl_FragColor = vec4(baseColor, alpha);
  }
`;function $3e({afterImageDamp:t=.5,bloomStrength:e=.6,bloomRadius:n=.5,bloomThreshold:r=.4}){const i=x.useRef(null),{targetMorphRef:s,contentRef:o,contentVersion:a,vortexRef:l}=sv(),u=x.useRef(0),c=x.useRef(1),d=x.useRef(null);x.useEffect(()=>{u.current=s.current},[s]);const f=OX;return x.useEffect(()=>{const p=d.current;if(!p)return;const m=p.getAttribute("targetPos");m&&p.setAttribute("prevTargetPos",new mr(new Float32Array(m.array),3)),p.setAttribute("targetPos",new mr(L0(o.current),3)),c.current=0},[a,o]),x.useEffect(()=>{if(!i.current)return;const p=i.current,m=new K3,v=new bc(60,window.innerWidth/window.innerHeight,.1,1e3);v.position.set(0,0,200),v.lookAt(0,0,0);const y=new W3({antialias:!0,alpha:!0,powerPreference:"high-performance"});y.setPixelRatio(Math.min(window.devicePixelRatio,2)),y.setSize(window.innerWidth,window.innerHeight),p.appendChild(y.domElement);const A=N3e(),C=12,E=Math.ceil(dx.length/C),I=new Dc,D=new Float32Array(qh*3),T=new Float32Array(qh),M=new Float32Array(qh),P=new Float32Array(qh),k=new Float32Array(qh),L=new Float32Array(qh),$=.15;for(let ae=0;ae<qh;ae++){const de=ae*3;D[de]=(Math.random()-.5)*550,D[de+1]=(Math.random()-.5)*380,D[de+2]=(Math.random()-.5)*100,T[ae]=Math.floor(Math.random()*dx.length),M[ae]=Math.random();const ge=Math.random();P[ae]=ge*ge;const _e=12+Math.random()*8;k[ae]=_e*(1-P[ae]*.3),Math.random()<$?L[ae]=1:L[ae]=0}const z=L0(o.current);I.setAttribute("position",new mr(D,3)),I.setAttribute("charIndex",new mr(T,1)),I.setAttribute("random",new mr(M,1)),I.setAttribute("heightLayer",new mr(P,1)),I.setAttribute("particleSize",new mr(k,1)),I.setAttribute("glowIntensity",new mr(L,1)),I.setAttribute("targetPos",new mr(z,3)),I.setAttribute("prevTargetPos",new mr(new Float32Array(z),3)),d.current=I;const j=new rt(0,1,.7),H=new rt(0,.8,.5),W=new rt(.1,.2,.1),O=f.shaderTweaks??{},G=new No({uniforms:{charAtlas:{value:A},charsPerRow:{value:C},charRows:{value:E},time:{value:0},morphProgress:{value:u.current},transitionProgress:{value:c.current},colorPrimary:{value:j},colorSecondary:{value:H},morphColorTint:{value:W},vortexActive:{value:0},vortexCenter:{value:new Er(0,0)},vortexStrength:{value:0},vortexRadius:{value:f.vortex.minRadius},vortexHeight:{value:0},primarySpeed:{value:f.drift.primarySpeed},primaryDirection:{value:f.drift.primaryDirection},lowLayerEffect:{value:f.drift.lowLayerEffect},midLayerEffect:{value:f.drift.midLayerEffect},highLayerEffect:{value:f.drift.highLayerEffect},waveSpeed:{value:f.drift.waveSpeed},waveScale:{value:f.drift.waveScale},clusterStrength:{value:f.drift.clusterStrength},clusterScale:{value:f.drift.clusterScale},turbulence:{value:f.form.turbulence},gustStrength:{value:f.form.gustStrength},gustFrequency:{value:f.form.gustFrequency},convergenceForce:{value:f.form.convergenceForce},rotationSpeed:{value:f.vortex.rotationSpeed},spiralTightness:{value:f.vortex.spiralTightness},suctionStrength:{value:f.vortex.suctionStrength},liftForce:{value:f.vortex.liftForce},coreDensity:{value:f.vortex.coreDensity},edgeDensity:{value:f.vortex.edgeDensity},tiltAmount:{value:f.vortex.tiltAmount},tiltDirection:{value:f.vortex.tiltDirection},maxVortexHeight:{value:f.vortex.maxHeight},formIntensityMultiplier:{value:O.formIntensityMultiplier??4},aliveBreathScale:{value:O.aliveBreathScale??2.5},vibrationScale:{value:O.vibrationScale??.7}},vertexShader:L3e,fragmentShader:F3e,transparent:!0,blending:Nx,depthWrite:!1});m.add(new hT(I,G));const q=new q3(y);q.addPass(new Y3(m,v)),q.addPass(new YF(t));const J=new z0(new Er(window.innerWidth,window.innerHeight),e,n,r);q.addPass(J),q.addPass(new X3);const te=new Float32Array(qh);for(let ae=0;ae<qh;ae++)te[ae]=Math.random()*180;const Y=new rS;let Z;const ee=O.vortexFadeMultiplier??160,ie=()=>{const ae=Y.getDelta();G.uniforms.time.value+=ae;const de=s.current>u.current?j3:Q3;u.current+=(s.current-u.current)*de,G.uniforms.morphProgress.value=u.current,c.current+=(1-c.current)*zX,G.uniforms.transitionProgress.value=c.current;const ge=l.current;!ge.active&&ge.strength>0&&(ge.strength=Math.max(0,ge.strength-_F),ge.radius=f.vortex.minRadius+ge.strength*ee,ge.height=ge.strength*f.vortex.maxHeight),G.uniforms.vortexActive.value=ge.strength>.01?1:0,G.uniforms.vortexCenter.value.set(ge.x,ge.y),G.uniforms.vortexStrength.value=ge.strength,G.uniforms.vortexRadius.value=ge.radius,G.uniforms.vortexHeight.value=ge.height;const _e=I.getAttribute("charIndex");let we=!1;const ke=Math.ceil(qh/10),Fe=Math.floor(Math.random()*qh);for(let Ee=0;Ee<ke;Ee++){const Me=(Fe+Ee)%qh;te[Me]-=ae*60*10,te[Me]<=0&&(_e.array[Me]=Math.floor(Math.random()*dx.length),te[Me]=120+Math.random()*180,we=!0)}we&&(_e.needsUpdate=!0),q.render(),Z=requestAnimationFrame(ie)};ie();const ue=()=>{v.aspect=window.innerWidth/window.innerHeight,v.updateProjectionMatrix(),y.setSize(window.innerWidth,window.innerHeight),q.setSize(window.innerWidth,window.innerHeight),J.resolution.set(window.innerWidth,window.innerHeight)};return window.addEventListener("resize",ue),()=>{d.current=null,cancelAnimationFrame(Z),window.removeEventListener("resize",ue),p.removeChild(y.domElement),I.dispose(),G.dispose(),A.dispose(),q.dispose(),y.dispose()}},[s,o,l,f,t,e,n,r]),h.jsx("div",{ref:i,style:{position:"fixed",inset:0,zIndex:-1,pointerEvents:"none"}})}const K2=1.618033988749895,z6=6,z3e=60,bJ=12,hx=14,O3e=12e3,rj=3e3,W2=1500,Hb=4,Mb=64,xJ="",CJ="",j3e=(()=>{let t="";for(const e of xJ)for(const n of CJ){const r=44032+(e.charCodeAt(0)-12593)*588+(n.charCodeAt(0)-12623)*28;r>=44032&&r<=55203&&(t+=String.fromCharCode(r))}return t})(),Q3e="",U3e="",H3e="",V3e="",G3e="",K1="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz{}[]()<>+-*/=!?;:.,@#$%^&|~`_\\\"'"+Q3e+U3e+xJ+CJ+j3e+H3e+V3e+G3e,ij={red:new Gr(13378082),blue:new Gr(1710796),yellow:new Gr(15259680),white:new Gr(16119280),black:new Gr(1710618)},sj=[{color:"white",weight:.5},{color:"red",weight:.15},{color:"blue",weight:.15},{color:"yellow",weight:.14},{color:"black",weight:.06}];function K3e(){const e=Math.ceil(K1.length/16),n=16*Mb,r=e*Mb,i=document.createElement("canvas");i.width=n,i.height=r;const s=i.getContext("2d");s.clearRect(0,0,n,r),s.font=`bold ${Mb*.7}px "Fira Code", "Source Code Pro", "Consolas", monospace`,s.textAlign="center",s.textBaseline="middle";for(let a=0;a<K1.length;a++){const l=a%16,u=Math.floor(a/16),c=l*Mb+Mb/2,d=u*Mb+Mb/2;s.shadowColor="rgba(255, 255, 255, 0.5)",s.shadowBlur=2,s.fillStyle="#ffffff",s.fillText(K1[a],c,d),s.shadowBlur=0,s.fillText(K1[a],c,d)}const o=new WF(i);return o.minFilter=Wo,o.magFilter=Wo,o.needsUpdate=!0,o}function oj(){const t=sj.reduce((n,r)=>n+r.weight,0);let e=Math.random()*t;for(const{color:n,weight:r}of sj)if(e-=r,e<=0)return ij[n].clone();return ij.white.clone()}function W1(t,e,n,r,i,s=z3e){if(i===0||n<s*1.5||r<s*1.5)return[{x:t,y:e,width:n,height:r,color:oj()}];const o=Math.max(0,(z6-i)*.1);if(Math.random()<o)return[{x:t,y:e,width:n,height:r,color:oj()}];const a=n/r;if(a>1.2?Math.random()>.2:a<.8?Math.random()>.8:Math.random()>.5){const c=Math.random()>.4?Math.random()>.5?1/K2:1-1/K2:Math.random()*.4+.3,d=n*c;return[...W1(t,e,d-Hb/2,r,i-1,s),...W1(t+d+Hb/2,e,n-d-Hb/2,r,i-1,s)]}else{const c=Math.random()>.4?Math.random()>.5?1/K2:1-1/K2:Math.random()*.4+.3,d=r*c;return[...W1(t,e,n,d-Hb/2,i-1,s),...W1(t,e+d+Hb/2,n,r-d-Hb/2,i-1,s)]}}const aj=3.5;function lj(t,e){const n=[];for(let y=0;y<t.length;y+=3){const A=t[y]*aj,C=t[y+1]*aj,E=t[y+2];(A!==0||C!==0)&&n.push({x:A,y:C,z:E})}if(n.length===0)return new Float32Array(e*3);let r=1/0,i=-1/0,s=1/0,o=-1/0;for(const y of n)r=Math.min(r,y.x),i=Math.max(i,y.x),s=Math.min(s,y.y),o=Math.max(o,y.y);const a=i-r,l=o-s,u=hx,c=Math.max(1,Math.floor(a/u)),d=Math.max(1,Math.floor(l/u)),f=new Map;for(const y of n){const A=Math.floor((y.x-r)/u),C=Math.floor((y.y-s)/u);f.set(`${A},${C}`,!0)}const p=new Float32Array(e*3);let m=0;const v=[];for(let y=0;y<=d;y++)for(let A=0;A<=c;A++)f.has(`${A},${y}`)&&v.push({col:A,row:y});for(let y=0;y<e&&m<e*3;y++){const A=v[y%v.length];A&&(p[m]=r+A.col*u+u/2,p[m+1]=s+A.row*u+u/2,p[m+2]=(Math.random()-.5)*5),m+=3}return p}function uj(t,e,n){const r=[];for(const l of t){const u=Hb+bJ/2,c=l.width-u*2,d=l.height-u*2;if(c<hx||d<hx)continue;const f=Math.floor(c/hx),p=Math.floor(d/hx),m=c/Math.max(1,f),v=d/Math.max(1,p);for(let y=0;y<p;y++)for(let A=0;A<f;A++){const C=l.x+u+A*m+m/2,E=l.y+u+y*v+v/2,I=C-e/2,D=-(E-n/2),T=Math.floor(Math.random()*K1.length);r.push({x:I,y:D,color:l.color,charIndex:T})}}const i=r.length,s=new Float32Array(i*3),o=new Float32Array(i*3),a=new Float32Array(i);for(let l=0;l<i;l++){const u=r[l];s[l*3]=u.x,s[l*3+1]=u.y,s[l*3+2]=0,o[l*3]=u.color.r,o[l*3+1]=u.color.g,o[l*3+2]=u.color.b,a[l]=u.charIndex}return{positions:s,colors:o,charIndices:a,count:i}}const W3e=`
  attribute vec3 color;
  attribute float opacity;
  attribute float size;
  attribute float charIndex;
  attribute vec3 targetPosition;
  attribute vec3 targetColor;
  attribute float targetCharIndex;
  attribute float moveDelay;
  attribute vec3 morphTargetPos;
  attribute vec3 prevMorphTargetPos;

  uniform float morphProgress;
  uniform float time;
  uniform float charsPerRow;
  uniform float maxDelay;
  uniform float transitionDuration;
  uniform float hoverMorphProgress;
  uniform float morphTransitionProgress;

  varying vec3 vColor;
  varying float vOpacity;
  varying float vCharIndex;

  void main() {
    //      
    float totalDuration = transitionDuration + maxDelay;
    float particleStart = moveDelay / totalDuration;
    float particleEnd = (moveDelay + transitionDuration) / totalDuration;

    //     (0~1)
    float localProgress = clamp((morphProgress - particleStart) / (particleEnd - particleStart), 0.0, 1.0);

    // easeInOutQuad
    float easedProgress = localProgress < 0.5
      ? 2.0 * localProgress * localProgress
      : 1.0 - pow(-2.0 * localProgress + 2.0, 2.0) / 2.0;

    //    (/ )
    vec3 basePos;
    vec3 diff = targetPosition - position;

    if (easedProgress < 0.5) {
      // : X 
      float xProgress = easedProgress * 2.0;
      basePos.x = position.x + diff.x * xProgress;
      basePos.y = position.y;
      basePos.z = position.z;
    } else {
      // : Y 
      float yProgress = (easedProgress - 0.5) * 2.0;
      basePos.x = targetPosition.x;
      basePos.y = position.y + diff.y * yProgress;
      basePos.z = position.z;
    }

    //    (    )
    //     
    float morphTransStart = moveDelay / totalDuration;
    float morphTransEnd = (moveDelay + transitionDuration) / totalDuration;
    float localMorphTransProgress = clamp(
      (morphTransitionProgress - morphTransStart) / (morphTransEnd - morphTransStart),
      0.0, 1.0
    );

    // easeInOutQuad for smooth transition
    float easedMorphTransProgress = localMorphTransProgress < 0.5
      ? 2.0 * localMorphTransProgress * localMorphTransProgress
      : 1.0 - pow(-2.0 * localMorphTransProgress + 2.0, 2.0) / 2.0;

    vec3 currentMorphTarget;
    vec3 morphTransDiff = morphTargetPos - prevMorphTargetPos;

    if (easedMorphTransProgress < 0.5) {
      // : X 
      float xTransProgress = easedMorphTransProgress * 2.0;
      currentMorphTarget.x = prevMorphTargetPos.x + morphTransDiff.x * xTransProgress;
      currentMorphTarget.y = prevMorphTargetPos.y;
      currentMorphTarget.z = prevMorphTargetPos.z;
    } else {
      // : Y 
      float yTransProgress = (easedMorphTransProgress - 0.5) * 2.0;
      currentMorphTarget.x = morphTargetPos.x;
      currentMorphTarget.y = prevMorphTargetPos.y + morphTransDiff.y * yTransProgress;
      currentMorphTarget.z = prevMorphTargetPos.z + morphTransDiff.z * yTransProgress;
    }

    //    (/ ,  )
    vec3 pos;
    vec3 morphDiff = currentMorphTarget - basePos;

    if (hoverMorphProgress < 0.5) {
      // : X 
      float xMorphProgress = hoverMorphProgress * 2.0;
      pos.x = basePos.x + morphDiff.x * xMorphProgress;
      pos.y = basePos.y;
      pos.z = basePos.z;
    } else {
      // : Y 
      float yMorphProgress = (hoverMorphProgress - 0.5) * 2.0;
      pos.x = currentMorphTarget.x;
      pos.y = basePos.y + morphDiff.y * yMorphProgress;
      pos.z = basePos.z + morphDiff.z * yMorphProgress;
    }

    //   (  )
    vColor = mix(color, targetColor, step(0.9, localProgress));
    vOpacity = opacity;
    vCharIndex = mix(charIndex, targetCharIndex, step(0.9, localProgress));

    vec4 mvPosition = modelViewMatrix * vec4(pos, 1.0);
    gl_Position = projectionMatrix * mvPosition;
    gl_PointSize = size * (300.0 / -mvPosition.z);
  }
`,q3e=`
  uniform sampler2D charAtlas;
  uniform float charsPerRow;
  uniform float charRows;
  uniform float time;

  varying vec3 vColor;
  varying float vOpacity;
  varying float vCharIndex;

  void main() {
    //   UV 
    float charIdx = floor(vCharIndex);
    float col = mod(charIdx, charsPerRow);
    float row = floor(charIdx / charsPerRow);

    vec2 charUV = vec2(
      (col + gl_PointCoord.x) / charsPerRow,
      (row + (1.0 - gl_PointCoord.y)) / charRows
    );

    vec4 texColor = texture2D(charAtlas, charUV);

    //      
    float alpha = texColor.a * vOpacity;

    if (alpha < 0.1) discard;

    //  
    float flicker = 0.95 + 0.05 * sin(time * 3.0 + vCharIndex * 0.5);

    gl_FragColor = vec4(vColor * flicker, alpha);
  }
`;function Y3e({bloomStrength:t=.15,bloomRadius:e=.3,bloomThreshold:n=.9}){const r=x.useRef(null),{targetMorphRef:i,contentRef:s,contentVersion:o}=sv(),a=x.useRef(null),l=x.useRef(null),u=x.useRef(0),c=x.useRef(1);return x.useEffect(()=>{const d=a.current,f=l.current;if(!d||!f)return;const p=d.getAttribute("morphTargetPos"),m=d.getAttribute("prevMorphTargetPos");if(!p||!m)return;for(let C=0;C<p.array.length;C++)m.array[C]=p.array[C];m.needsUpdate=!0;const v=L0(s.current),y=p.array.length/3,A=lj(v,y);for(let C=0;C<A.length;C++)p.array[C]=A[C];p.needsUpdate=!0,c.current=0},[o,s]),x.useEffect(()=>{if(!r.current)return;const d=r.current,f=window.innerWidth,p=window.innerHeight,m=new K3;m.background=new Gr(1710618);const v=new fT(-f/2,f/2,p/2,-p/2,.1,1e3);v.position.z=100;const y=new W3({antialias:!0,alpha:!1});y.setSize(f,p),y.setPixelRatio(Math.min(window.devicePixelRatio,2)),d.appendChild(y.domElement);const A=K3e(),C=16,E=Math.ceil(K1.length/C),I=new q3(y);I.addPass(new Y3(m,v));const D=new z0(new Er(f,p),t,e,n);I.addPass(D),I.addPass(new X3);let T=W1(0,0,f,p,z6),M=uj(T,f,p),P=[],k=null;const L=Math.floor(f/hx*(p/hx)*1.5),$=new Dc,z=Math.max(L,wp),j=new Float32Array(z*3),H=new Float32Array(z*3),W=new Float32Array(z),O=new Float32Array(z),G=new Float32Array(z),q=new Float32Array(z*3),J=new Float32Array(z*3),te=new Float32Array(z),Y=new Float32Array(z),Z=new Float32Array(z*3),ee=new Float32Array(z*3);j.set(M.positions),H.set(M.colors),G.set(M.charIndices);for(let Ge=0;Ge<M.count;Ge++)W[Ge]=.95,O[Ge]=bJ,Y[Ge]=Math.random()*W2;q.set(M.positions),J.set(M.colors),te.set(M.charIndices);const ie=L0(s.current),ue=lj(ie,z);Z.set(ue),ee.set(ue),$.setAttribute("position",new mr(j,3)),$.setAttribute("color",new mr(H,3)),$.setAttribute("opacity",new mr(W,1)),$.setAttribute("size",new mr(O,1)),$.setAttribute("charIndex",new mr(G,1)),$.setAttribute("targetPosition",new mr(q,3)),$.setAttribute("targetColor",new mr(J,3)),$.setAttribute("targetCharIndex",new mr(te,1)),$.setAttribute("moveDelay",new mr(Y,1)),$.setAttribute("morphTargetPos",new mr(Z,3)),$.setAttribute("prevMorphTargetPos",new mr(ee,3)),$.setDrawRange(0,M.count),a.current=$;const ae=new No({uniforms:{morphProgress:{value:1},time:{value:0},charAtlas:{value:A},charsPerRow:{value:C},charRows:{value:E},maxDelay:{value:W2},transitionDuration:{value:rj},hoverMorphProgress:{value:0},morphTransitionProgress:{value:1}},vertexShader:W3e,fragmentShader:q3e,transparent:!0,depthWrite:!1});l.current=ae;const de=new hT($,ae);m.add(de);const ge=new rS;let _e,we=0,ke=1,Fe=0,Ee=!1;const Me=()=>{_e=requestAnimationFrame(Me);const Ge=ge.getElapsedTime(),ut=Ge*1e3;ae.uniforms.time.value=Ge;const ve=i.current>u.current?j3:Q3;u.current+=(i.current-u.current)*ve,ae.uniforms.hoverMorphProgress.value=u.current;const $e=.008;c.current<1&&(c.current=Math.min(1,c.current+$e),ae.uniforms.morphTransitionProgress.value=c.current);const gt=rj+W2;if(Ee&&k){const it=ut-Fe;if(ke=Math.min(1,it/gt),ae.uniforms.morphProgress.value=ke,ke>=1){Ee=!1,T=P,M=k;const ot=$.getAttribute("position"),le=$.getAttribute("color"),se=$.getAttribute("charIndex");ot.array.set(k.positions),le.array.set(k.colors),se.array.set(k.charIndices),ot.needsUpdate=!0,le.needsUpdate=!0,se.needsUpdate=!0,$.setDrawRange(0,M.count)}}if(ut-we>O3e&&!Ee){we=ut,P=W1(0,0,f,p,z6),k=uj(P,f,p);const it=$.getAttribute("targetPosition"),ot=$.getAttribute("targetColor"),le=$.getAttribute("targetCharIndex"),se=$.getAttribute("moveDelay"),Se=Math.max(M.count,k.count);$.setDrawRange(0,Se);for(let De=0;De<Se;De++){const Be=De*3;se.array[De]=Math.random()*W2,De<k.count?(it.array[Be]=k.positions[Be],it.array[Be+1]=k.positions[Be+1],it.array[Be+2]=k.positions[Be+2],ot.array[Be]=k.colors[Be],ot.array[Be+1]=k.colors[Be+1],ot.array[Be+2]=k.colors[Be+2],le.array[De]=k.charIndices[De],W[De]=.95):(it.array[Be]=(Math.random()-.5)*f,it.array[Be+1]=(Math.random()-.5)*p,it.array[Be+2]=0,ot.array[Be]=0,ot.array[Be+1]=0,ot.array[Be+2]=0,le.array[De]=0,W[De]=0)}it.needsUpdate=!0,ot.needsUpdate=!0,le.needsUpdate=!0,se.needsUpdate=!0,$.getAttribute("opacity").needsUpdate=!0,Ee=!0,Fe=ut,ke=0,ae.uniforms.morphProgress.value=0}I.render()};Me();const Ue=()=>{const Ge=window.innerWidth,ut=window.innerHeight;v.left=-Ge/2,v.right=Ge/2,v.top=ut/2,v.bottom=-ut/2,v.updateProjectionMatrix(),y.setSize(Ge,ut),I.setSize(Ge,ut),D.setSize(Ge,ut)};return window.addEventListener("resize",Ue),()=>{a.current=null,l.current=null,cancelAnimationFrame(_e),window.removeEventListener("resize",Ue),m.remove(de),$.dispose(),ae.dispose(),A.dispose(),y.dispose(),I.dispose(),d.contains(y.domElement)&&d.removeChild(y.domElement)}},[t,e,n,i,s]),h.jsx("div",{ref:r,style:{position:"fixed",inset:0,zIndex:-1,pointerEvents:"none"}})}function X3e(){const{effectType:t}=sv();return t==="matrix"?h.jsx(B3e,{bloomStrength:.8,bloomRadius:.5,bloomThreshold:.2,speedMultiplier:1}):t==="code"?h.jsx($3e,{afterImageDamp:.5,bloomStrength:.6,bloomRadius:.5,bloomThreshold:.4}):t==="art"?h.jsx(Y3e,{bloomStrength:.15,bloomRadius:.3,bloomThreshold:.9}):t==="curl"?h.jsx(A3e,{afterImageDamp:.35}):h.jsx(f3e,{preset:OX,afterImageDamp:.65,bloomStrength:.4,bloomRadius:.6,bloomThreshold:.6})}function Ng({children:t,size:e="md",variant:n="default",onClick:r,className:i=""}){const{setHoverContent:s}=sv(),o=x.useRef(null),a=x.useCallback(()=>{if(typeof t=="string"){s({type:"text",value:t});return}if(xe.isValidElement(t)&&o.current){const u=o.current.querySelector("svg");if(u){const c=u.outerHTML;s({type:"svg",value:c});return}}if(Array.isArray(t)){const u=t[0];if(typeof u=="string"){s({type:"text",value:u});return}if(o.current){const c=o.current.querySelector("svg");if(c){const d=c.outerHTML;s({type:"svg",value:d});return}}}},[t,s]),l=x.useCallback(()=>{s(null)},[s]);return h.jsx("button",{ref:o,className:`particle-button particle-button-${n} particle-button-${e} ${i}`,onClick:r,onMouseEnter:a,onMouseLeave:l,children:t})}const ce={color:"var(--color-gray-400)",strokeWidth:2,size:16},Q5={color:"var(--color-White)",strokeWidth:2,size:16},yn={color:"var(--color-gray-300)",strokeWidth:2,size:14},oh={size:12},J3={size:24};function Z3({legend:t,icon:e,children:n,className:r=""}){return h.jsxs("fieldset",{className:`properties-aria ${r}`,children:[t&&h.jsx("legend",{className:"fieldset-legend",children:t}),h.jsxs("div",{className:"react-aria-control react-aria-Group",children:[e&&h.jsx("label",{className:"control-label",children:h.jsx(e,{color:ce.color,size:ce.size,strokeWidth:ce.strokeWidth})}),n]})]})}const cj=t=>{let e;const n=new Set,r=(u,c)=>{const d=typeof u=="function"?u(e):u;if(!Object.is(d,e)){const f=e;e=c??(typeof d!="object"||d===null)?d:Object.assign({},e,d),n.forEach(p=>p(e,f))}},i=()=>e,a={setState:r,getState:i,getInitialState:()=>l,subscribe:u=>(n.add(u),()=>n.delete(u))},l=e=t(r,i,a);return a},J3e=(t=>t?cj(t):cj),Z3e=t=>t;function e4e(t,e=Z3e){const n=xe.useSyncExternalStore(t.subscribe,xe.useCallback(()=>e(t.getState()),[t,e]),xe.useCallback(()=>e(t.getInitialState()),[t,e]));return xe.useDebugValue(n),n}const dj=t=>{const e=J3e(t),n=r=>e4e(e,r);return Object.assign(n,e),n},aa=(t=>t?dj(t):dj),hj={BASE_URL:"/xstudio/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_CANVAS_COMPARE_MODE:"false",VITE_SUPABASE_ANON_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImxpbHhwc2N3aXFnZ3htZHJvc2huIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTU0NzI1NjYsImV4cCI6MjA3MTA0ODU2Nn0.XhCb-gSV9IM8w355prG4ebgKFHU4yasR3eXg3dr7_60",VITE_SUPABASE_URL:"https://lilxpscwiqggxmdroshn.supabase.co",VITE_USE_WEBGL_CANVAS:"true"},Z_=new Map,q2=t=>{const e=Z_.get(t);return e?Object.fromEntries(Object.entries(e.stores).map(([n,r])=>[n,r.getState()])):{}},t4e=(t,e,n)=>{if(t===void 0)return{type:"untracked",connection:e.connect(n)};const r=Z_.get(n.name);if(r)return{type:"tracked",store:t,...r};const i={connection:e.connect(n),stores:{}};return Z_.set(n.name,i),{type:"tracked",store:t,...i}},n4e=(t,e)=>{if(e===void 0)return;const n=Z_.get(t);n&&(delete n.stores[e],Object.keys(n.stores).length===0&&Z_.delete(t))},r4e=t=>{var e,n;if(!t)return;const r=t.split(`
`),i=r.findIndex(o=>o.includes("api.setState"));if(i<0)return;const s=((e=r[i+1])==null?void 0:e.trim())||"";return(n=/.+ (.+) .+/.exec(s))==null?void 0:n[1]},i4e=(t,e={})=>(n,r,i)=>{const{enabled:s,anonymousActionType:o,store:a,...l}=e;let u;try{u=(s??(hj?"production":void 0)!=="production")&&window.__REDUX_DEVTOOLS_EXTENSION__}catch{}if(!u)return t(n,r,i);const{connection:c,...d}=t4e(a,u,l);let f=!0;i.setState=((v,y,A)=>{const C=n(v,y);if(!f)return C;const E=A===void 0?{type:o||r4e(new Error().stack)||"anonymous"}:typeof A=="string"?{type:A}:A;return a===void 0?(c?.send(E,r()),C):(c?.send({...E,type:`${a}/${E.type}`},{...q2(l.name),[a]:i.getState()}),C)}),i.devtools={cleanup:()=>{c&&typeof c.unsubscribe=="function"&&c.unsubscribe(),n4e(l.name,a)}};const p=(...v)=>{const y=f;f=!1,n(...v),f=y},m=t(i.setState,r,i);if(d.type==="untracked"?c?.init(m):(d.stores[d.store]=i,c?.init(Object.fromEntries(Object.entries(d.stores).map(([v,y])=>[v,v===d.store?m:y.getState()])))),i.dispatchFromDevtools&&typeof i.dispatch=="function"){let v=!1;const y=i.dispatch;i.dispatch=(...A)=>{(hj?"production":void 0)!=="production"&&A[0].type==="__setState"&&!v&&(console.warn('[zustand devtools middleware] "__setState" action type is reserved to set state from the devtools. Avoid using it.'),v=!0),y(...A)}}return c.subscribe(v=>{var y;switch(v.type){case"ACTION":if(typeof v.payload!="string"){console.error("[zustand devtools middleware] Unsupported action format");return}return U5(v.payload,A=>{if(A.type==="__setState"){if(a===void 0){p(A.state);return}Object.keys(A.state).length!==1&&console.error(`
                    [zustand devtools middleware] Unsupported __setState action format.
                    When using 'store' option in devtools(), the 'state' should have only one key, which is a value of 'store' that was passed in devtools(),
                    and value of this only key should be a state object. Example: { "type": "__setState", "state": { "abc123Store": { "foo": "bar" } } }
                    `);const C=A.state[a];if(C==null)return;JSON.stringify(i.getState())!==JSON.stringify(C)&&p(C);return}i.dispatchFromDevtools&&typeof i.dispatch=="function"&&i.dispatch(A)});case"DISPATCH":switch(v.payload.type){case"RESET":return p(m),a===void 0?c?.init(i.getState()):c?.init(q2(l.name));case"COMMIT":if(a===void 0){c?.init(i.getState());return}return c?.init(q2(l.name));case"ROLLBACK":return U5(v.state,A=>{if(a===void 0){p(A),c?.init(i.getState());return}p(A[a]),c?.init(q2(l.name))});case"JUMP_TO_STATE":case"JUMP_TO_ACTION":return U5(v.state,A=>{if(a===void 0){p(A);return}JSON.stringify(i.getState())!==JSON.stringify(A[a])&&p(A[a])});case"IMPORT_STATE":{const{nextLiftedState:A}=v.payload,C=(y=A.computedStates.slice(-1)[0])==null?void 0:y.state;if(!C)return;p(a===void 0?C:C[a]),c?.send(null,A);return}case"PAUSE_RECORDING":return f=!f}return}}),m},s4e=i4e,U5=(t,e)=>{let n;try{n=JSON.parse(t)}catch(r){console.error("[zustand devtools middleware] Could not parse the received json",r)}n!==void 0&&e(n)},o4e=t=>(e,n,r)=>{const i=r.subscribe;return r.subscribe=((o,a,l)=>{let u=o;if(a){const c=l?.equalityFn||Object.is;let d=o(r.getState());u=f=>{const p=o(f);if(!c(d,p)){const m=d;a(d=p,m)}},l?.fireImmediately&&a(d,d)}return i(u)}),t(e,n,r)},XF=o4e;function a4e(t,e){let n;try{n=t()}catch{return}return{getItem:i=>{var s;const o=l=>l===null?null:JSON.parse(l,void 0),a=(s=n.getItem(i))!=null?s:null;return a instanceof Promise?a.then(o):o(a)},setItem:(i,s)=>n.setItem(i,JSON.stringify(s,void 0)),removeItem:i=>n.removeItem(i)}}const O6=t=>e=>{try{const n=t(e);return n instanceof Promise?n:{then(r){return O6(r)(n)},catch(r){return this}}}catch(n){return{then(r){return this},catch(r){return O6(r)(n)}}}},l4e=(t,e)=>(n,r,i)=>{let s={storage:a4e(()=>localStorage),partialize:v=>v,version:0,merge:(v,y)=>({...y,...v}),...e},o=!1;const a=new Set,l=new Set;let u=s.storage;if(!u)return t((...v)=>{console.warn(`[zustand persist middleware] Unable to update item '${s.name}', the given storage is currently unavailable.`),n(...v)},r,i);const c=()=>{const v=s.partialize({...r()});return u.setItem(s.name,{state:v,version:s.version})},d=i.setState;i.setState=(v,y)=>(d(v,y),c());const f=t((...v)=>(n(...v),c()),r,i);i.getInitialState=()=>f;let p;const m=()=>{var v,y;if(!u)return;o=!1,a.forEach(C=>{var E;return C((E=r())!=null?E:f)});const A=((y=s.onRehydrateStorage)==null?void 0:y.call(s,(v=r())!=null?v:f))||void 0;return O6(u.getItem.bind(u))(s.name).then(C=>{if(C)if(typeof C.version=="number"&&C.version!==s.version){if(s.migrate){const E=s.migrate(C.state,C.version);return E instanceof Promise?E.then(I=>[!0,I]):[!0,E]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,C.state];return[!1,void 0]}).then(C=>{var E;const[I,D]=C;if(p=s.merge(D,(E=r())!=null?E:f),n(p,!0),I)return c()}).then(()=>{A?.(p,void 0),p=r(),o=!0,l.forEach(C=>C(p))}).catch(C=>{A?.(void 0,C)})};return i.persist={setOptions:v=>{s={...s,...v},v.storage&&(u=v.storage)},clearStorage:()=>{u?.removeItem(s.name)},getOptions:()=>s,rehydrate:()=>m(),hasHydrated:()=>o,onHydrate:v=>(a.add(v),()=>{a.delete(v)}),onFinishHydration:v=>(l.add(v),()=>{l.delete(v)})},s.skipHydration||m(),p||f},e4=l4e,EJ=aa()(e4((t,e)=>({collapsedSections:new Set,focusMode:!1,activeFocusSection:null,toggleSection:n=>t(r=>{if(r.focusMode)return{activeFocusSection:n};{const i=new Set(r.collapsedSections);return i.has(n)?i.delete(n):i.add(n),{collapsedSections:i}}}),isCollapsed:n=>{const r=e();return r.focusMode?r.activeFocusSection!==n:r.collapsedSections.has(n)},expandAll:()=>t({collapsedSections:new Set}),collapseAll:()=>t({collapsedSections:new Set(["transform","layout","appearance","typography"])}),toggleFocusMode:()=>t(n=>{const r=!n.focusMode;return{focusMode:r,activeFocusSection:r?"transform":null}}),setFocusSection:n=>t(r=>r.focusMode?{activeFocusSection:n}:r)}),{name:"styles-panel-collapse",partialize:t=>({collapsedSections:Array.from(t.collapsedSections),focusMode:t.focusMode,activeFocusSection:t.activeFocusSection}),merge:(t,e)=>{const n=t;return{...e,collapsedSections:new Set(n?.collapsedSections||[]),focusMode:n?.focusMode||!1,activeFocusSection:n?.activeFocusSection||null}}})),Sc=x.memo(function({title:e,children:n,id:r,defaultExpanded:i=!0,onReset:s}){const{isCollapsed:o,toggleSection:a}=EJ(),[l,u]=xe.useState(i),[c,d]=x.useTransition(),f=r!==void 0,p=f?!o(r):l,m=()=>{d(()=>{f&&r?a(r):u(!l)})};return h.jsxs("div",{className:"section","data-section-id":r,style:{opacity:c?.7:1},children:[h.jsxs("div",{className:"section-header",children:[h.jsx("div",{className:"section-title",children:e}),h.jsxs("div",{className:"section-actions",children:[s&&h.jsx("button",{className:"iconButton",type:"button",onClick:s,"aria-label":"Reset section styles",title:"Reset section styles",children:h.jsx(xF,{color:ce.color,strokeWidth:ce.strokeWidth,size:ce.size})}),h.jsx("button",{className:"iconButton",type:"button",onClick:m,"aria-label":p?"Collapse section":"Expand section",children:h.jsx(Q_,{color:ce.color,strokeWidth:ce.strokeWidth,size:ce.size,style:{transform:p?"rotate(0deg)":"rotate(180deg)",transition:"transform 0.2s ease"}})})]})]}),p&&h.jsx("div",{className:"section-content",children:typeof n=="function"?n():n})]})},(t,e)=>t.title===e.title&&t.id===e.id&&t.defaultExpanded===e.defaultExpanded&&t.children===e.children),Fa=x.memo(function({label:e,value:n,onChange:r,type:i="text",icon:s,placeholder:o,className:a,multiline:l,min:u,max:c,disabled:d}){const[f,p]=x.useState(String(n||"")),m=x.useRef(!1);x.useEffect(()=>{p(String(n||"")),m.current=!1},[n]);const v=E=>{E.target.select(),m.current=!1},y=E=>{p(E)},A=()=>{if(m.current){m.current=!1;return}f!==String(n||"")&&r(f)},C=E=>{E.key==="Enter"&&!l&&(E.preventDefault(),f!==String(n||"")&&(r(f),m.current=!0),E.target.blur())};return h.jsx(Z3,{legend:e,icon:s,className:a,children:l?h.jsx("textarea",{className:"react-aria-TextArea resize-y",value:f,onChange:E=>y(E.target.value),onFocus:v,onBlur:A,onKeyDown:C,placeholder:o,rows:4,disabled:d}):h.jsx("input",{className:"react-aria-Input",type:i,value:f,onChange:E=>y(E.target.value),onFocus:v,onBlur:A,onKeyDown:C,placeholder:o,min:u,max:c,disabled:d})})},(t,e)=>t.label===e.label&&t.value===e.value&&t.type===e.type&&t.placeholder===e.placeholder&&t.className===e.className&&t.multiline===e.multiline&&t.min===e.min&&t.max===e.max&&t.disabled===e.disabled&&t.icon===e.icon),SJ=x.createContext(null),wJ=x.createContext(null),_J=x.createContext(null),IJ=x.createContext(null),u4e=x.createContext(null),c4e=x.createContext({}),d4e=x.createContext(null),BJ=x.createContext(null),di=typeof document<"u"?xe.useLayoutEffect:()=>{};function h4e(t){let[e,n]=x.useState(t),r=x.useRef(e),i=x.useRef(null),s=x.useRef(()=>{if(!i.current)return;let a=i.current.next();if(a.done){i.current=null;return}r.current===a.value?s.current():n(a.value)});di(()=>{r.current=e,i.current&&s.current()});let o=x.useCallback(a=>{i.current=a(r.current),s.current()},[s]);return[e,o]}const DJ={prefix:String(Math.round(Math.random()*1e10)),current:0},TJ=xe.createContext(DJ),f4e=xe.createContext(!1);let H5=new WeakMap;function p4e(t=!1){let e=x.useContext(TJ),n=x.useRef(null);if(n.current===null&&!t){var r,i;let s=(i=xe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED)===null||i===void 0||(r=i.ReactCurrentOwner)===null||r===void 0?void 0:r.current;if(s){let o=H5.get(s);o==null?H5.set(s,{id:e.current,state:s.memoizedState}):s.memoizedState!==o.state&&(e.current=o.id,H5.delete(s))}n.current=++e.current}return n.current}function g4e(t){let e=x.useContext(TJ),n=p4e(!!t),r=`react-aria${e.prefix}`;return t||`${r}-${n}`}function m4e(t){let e=xe.useId(),[n]=x.useState(ov()),r=n?"react-aria":`react-aria${DJ.prefix}`;return t||`${r}-${e}`}const A4e=typeof xe.useId=="function"?m4e:g4e;function y4e(){return!1}function v4e(){return!0}function b4e(t){return()=>{}}function ov(){return typeof xe.useSyncExternalStore=="function"?xe.useSyncExternalStore(b4e,y4e,v4e):x.useContext(f4e)}let x4e=!!(typeof window<"u"&&window.document&&window.document.createElement),uE=new Map,Vw;typeof FinalizationRegistry<"u"&&(Vw=new FinalizationRegistry(t=>{uE.delete(t)}));function Us(t){let[e,n]=x.useState(t),r=x.useRef(null),i=A4e(e),s=x.useRef(null);if(Vw&&Vw.register(s,i),x4e){const o=uE.get(i);o&&!o.includes(r)?o.push(r):uE.set(i,[r])}return di(()=>{let o=i;return()=>{Vw&&Vw.unregister(s),uE.delete(o)}},[i]),x.useEffect(()=>{let o=r.current;return o&&n(o),()=>{o&&(r.current=null)}}),i}function C4e(t,e){if(t===e)return t;let n=uE.get(t);if(n)return n.forEach(i=>i.current=e),e;let r=uE.get(e);return r?(r.forEach(i=>i.current=t),t):e}function TE(t=[]){let e=Us(),[n,r]=h4e(e),i=x.useCallback(()=>{r(function*(){yield e,yield document.getElementById(e)?e:void 0})},[e,r]);return di(i,[e,i,...t]),n}function If(...t){return(...e)=>{for(let n of t)typeof n=="function"&&n(...e)}}const xi=t=>{var e;return(e=t?.ownerDocument)!==null&&e!==void 0?e:document},th=t=>t&&"window"in t&&t.window===t?t:xi(t).defaultView||window;function E4e(t){return t!==null&&typeof t=="object"&&"nodeType"in t&&typeof t.nodeType=="number"}function S4e(t){return E4e(t)&&t.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&"host"in t}let w4e=!1;function mT(){return w4e}function cd(t,e){if(!mT())return e&&t?t.contains(e):!1;if(!t||!e)return!1;let n=e;for(;n!==null;){if(n===t)return!0;n.tagName==="SLOT"&&n.assignedSlot?n=n.assignedSlot.parentNode:S4e(n)?n=n.host:n=n.parentNode}return!1}const il=(t=document)=>{var e;if(!mT())return t.activeElement;let n=t.activeElement;for(;n&&"shadowRoot"in n&&(!((e=n.shadowRoot)===null||e===void 0)&&e.activeElement);)n=n.shadowRoot.activeElement;return n};function ia(t){return mT()&&t.target.shadowRoot&&t.composedPath?t.composedPath()[0]:t.target}class _4e{get currentNode(){return this._currentNode}set currentNode(e){if(!cd(this.root,e))throw new Error("Cannot set currentNode to a node that is not contained by the root node.");const n=[];let r=e,i=e;for(this._currentNode=e;r&&r!==this.root;)if(r.nodeType===Node.DOCUMENT_FRAGMENT_NODE){const o=r,a=this._doc.createTreeWalker(o,this.whatToShow,{acceptNode:this._acceptNode});n.push(a),a.currentNode=i,this._currentSetFor.add(a),r=i=o.host}else r=r.parentNode;const s=this._doc.createTreeWalker(this.root,this.whatToShow,{acceptNode:this._acceptNode});n.push(s),s.currentNode=i,this._currentSetFor.add(s),this._walkerStack=n}get doc(){return this._doc}firstChild(){let e=this.currentNode,n=this.nextNode();return cd(e,n)?(n&&(this.currentNode=n),n):(this.currentNode=e,null)}lastChild(){let n=this._walkerStack[0].lastChild();return n&&(this.currentNode=n),n}nextNode(){const e=this._walkerStack[0].nextNode();if(e){if(e.shadowRoot){var n;let i;if(typeof this.filter=="function"?i=this.filter(e):!((n=this.filter)===null||n===void 0)&&n.acceptNode&&(i=this.filter.acceptNode(e)),i===NodeFilter.FILTER_ACCEPT)return this.currentNode=e,e;let s=this.nextNode();return s&&(this.currentNode=s),s}return e&&(this.currentNode=e),e}else if(this._walkerStack.length>1){this._walkerStack.shift();let r=this.nextNode();return r&&(this.currentNode=r),r}else return null}previousNode(){const e=this._walkerStack[0];if(e.currentNode===e.root){if(this._currentSetFor.has(e))if(this._currentSetFor.delete(e),this._walkerStack.length>1){this._walkerStack.shift();let i=this.previousNode();return i&&(this.currentNode=i),i}else return null;return null}const n=e.previousNode();if(n){if(n.shadowRoot){var r;let s;if(typeof this.filter=="function"?s=this.filter(n):!((r=this.filter)===null||r===void 0)&&r.acceptNode&&(s=this.filter.acceptNode(n)),s===NodeFilter.FILTER_ACCEPT)return n&&(this.currentNode=n),n;let o=this.lastChild();return o&&(this.currentNode=o),o}return n&&(this.currentNode=n),n}else if(this._walkerStack.length>1){this._walkerStack.shift();let i=this.previousNode();return i&&(this.currentNode=i),i}else return null}nextSibling(){return null}previousSibling(){return null}parentNode(){return null}constructor(e,n,r,i){this._walkerStack=[],this._currentSetFor=new Set,this._acceptNode=o=>{if(o.nodeType===Node.ELEMENT_NODE){const l=o.shadowRoot;if(l){const u=this._doc.createTreeWalker(l,this.whatToShow,{acceptNode:this._acceptNode});return this._walkerStack.unshift(u),NodeFilter.FILTER_ACCEPT}else{var a;if(typeof this.filter=="function")return this.filter(o);if(!((a=this.filter)===null||a===void 0)&&a.acceptNode)return this.filter.acceptNode(o);if(this.filter===null)return NodeFilter.FILTER_ACCEPT}}return NodeFilter.FILTER_SKIP},this._doc=e,this.root=n,this.filter=i??null,this.whatToShow=r??NodeFilter.SHOW_ALL,this._currentNode=n,this._walkerStack.unshift(e.createTreeWalker(n,r,this._acceptNode));const s=n.shadowRoot;if(s){const o=this._doc.createTreeWalker(s,this.whatToShow,{acceptNode:this._acceptNode});this._walkerStack.unshift(o)}}}function I4e(t,e,n,r){return mT()?new _4e(t,e,n,r):t.createTreeWalker(e,n,r)}function MJ(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=MJ(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function B4e(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=MJ(t))&&(r&&(r+=" "),r+=e);return r}function on(...t){let e={...t[0]};for(let n=1;n<t.length;n++){let r=t[n];for(let i in r){let s=e[i],o=r[i];typeof s=="function"&&typeof o=="function"&&i[0]==="o"&&i[1]==="n"&&i.charCodeAt(2)>=65&&i.charCodeAt(2)<=90?e[i]=If(s,o):(i==="className"||i==="UNSAFE_className")&&typeof s=="string"&&typeof o=="string"?e[i]=B4e(s,o):i==="id"&&s&&o?e.id=C4e(s,o):e[i]=o!==void 0?o:s}}return e}function t4(...t){return t.length===1&&t[0]?t[0]:e=>{let n=!1;const r=t.map(i=>{const s=fj(i,e);return n||(n=typeof s=="function"),s});if(n)return()=>{r.forEach((i,s)=>{typeof i=="function"?i():fj(t[s],null)})}}}function fj(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}const D4e=new Set(["id"]),T4e=new Set(["aria-label","aria-labelledby","aria-describedby","aria-details"]),M4e=new Set(["href","hrefLang","target","rel","download","ping","referrerPolicy"]),k4e=new Set(["dir","lang","hidden","inert","translate"]),pj=new Set(["onClick","onAuxClick","onContextMenu","onDoubleClick","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp","onTouchCancel","onTouchEnd","onTouchMove","onTouchStart","onPointerDown","onPointerMove","onPointerUp","onPointerCancel","onPointerEnter","onPointerLeave","onPointerOver","onPointerOut","onGotPointerCapture","onLostPointerCapture","onScroll","onWheel","onAnimationStart","onAnimationEnd","onAnimationIteration","onTransitionCancel","onTransitionEnd","onTransitionRun","onTransitionStart"]),P4e=/^(data-.*)$/;function cr(t,e={}){let{labelable:n,isLink:r,global:i,events:s=i,propNames:o}=e,a={};for(const l in t)Object.prototype.hasOwnProperty.call(t,l)&&(D4e.has(l)||n&&T4e.has(l)||r&&M4e.has(l)||i&&k4e.has(l)||s&&(pj.has(l)||l.endsWith("Capture")&&pj.has(l.slice(0,-7)))||o?.has(l)||P4e.test(l))&&(a[l]=t[l]);return a}function ah(t){if(R4e())t.focus({preventScroll:!0});else{let e=N4e(t);t.focus(),L4e(e)}}let Y2=null;function R4e(){if(Y2==null){Y2=!1;try{document.createElement("div").focus({get preventScroll(){return Y2=!0,!0}})}catch{}}return Y2}function N4e(t){let e=t.parentNode,n=[],r=document.scrollingElement||document.documentElement;for(;e instanceof HTMLElement&&e!==r;)(e.offsetHeight<e.scrollHeight||e.offsetWidth<e.scrollWidth)&&n.push({element:e,scrollTop:e.scrollTop,scrollLeft:e.scrollLeft}),e=e.parentNode;return r instanceof HTMLElement&&n.push({element:r,scrollTop:r.scrollTop,scrollLeft:r.scrollLeft}),n}function L4e(t){for(let{element:e,scrollTop:n,scrollLeft:r}of t)e.scrollTop=n,e.scrollLeft=r}function AT(t){var e;if(typeof window>"u"||window.navigator==null)return!1;let n=(e=window.navigator.userAgentData)===null||e===void 0?void 0:e.brands;return Array.isArray(n)&&n.some(r=>t.test(r.brand))||t.test(window.navigator.userAgent)}function JF(t){var e;return typeof window<"u"&&window.navigator!=null?t.test(((e=window.navigator.userAgentData)===null||e===void 0?void 0:e.platform)||window.navigator.platform):!1}function W0(t){let e=null;return()=>(e==null&&(e=t()),e)}const O0=W0(function(){return JF(/^Mac/i)}),kJ=W0(function(){return JF(/^iPhone/i)}),ZF=W0(function(){return JF(/^iPad/i)||O0()&&navigator.maxTouchPoints>1}),sC=W0(function(){return kJ()||ZF()}),_B=W0(function(){return O0()||sC()}),yT=W0(function(){return AT(/AppleWebKit/i)&&!PJ()}),PJ=W0(function(){return AT(/Chrome/i)}),n4=W0(function(){return AT(/Android/i)}),F4e=W0(function(){return AT(/Firefox/i)}),$4e=x.createContext({isNative:!0,open:O4e,useHref:t=>t});function r4(){return x.useContext($4e)}function j0(t,e,n=!0){var r,i;let{metaKey:s,ctrlKey:o,altKey:a,shiftKey:l}=e;F4e()&&(!((i=window.event)===null||i===void 0||(r=i.type)===null||r===void 0)&&r.startsWith("key"))&&t.target==="_blank"&&(O0()?s=!0:o=!0);let u=yT()&&O0()&&!ZF()?new KeyboardEvent("keydown",{keyIdentifier:"Enter",metaKey:s,ctrlKey:o,altKey:a,shiftKey:l}):new MouseEvent("click",{metaKey:s,ctrlKey:o,altKey:a,shiftKey:l,detail:1,bubbles:!0,cancelable:!0});j0.isOpening=n,ah(t),t.dispatchEvent(u),j0.isOpening=!1}j0.isOpening=!1;function z4e(t,e){if(t instanceof HTMLAnchorElement)e(t);else if(t.hasAttribute("data-href")){let n=document.createElement("a");n.href=t.getAttribute("data-href"),t.hasAttribute("data-target")&&(n.target=t.getAttribute("data-target")),t.hasAttribute("data-rel")&&(n.rel=t.getAttribute("data-rel")),t.hasAttribute("data-download")&&(n.download=t.getAttribute("data-download")),t.hasAttribute("data-ping")&&(n.ping=t.getAttribute("data-ping")),t.hasAttribute("data-referrer-policy")&&(n.referrerPolicy=t.getAttribute("data-referrer-policy")),t.appendChild(n),e(n),t.removeChild(n)}}function O4e(t,e){z4e(t,n=>j0(n,e))}function j4e(t){let e=r4();var n;const r=e.useHref((n=t.href)!==null&&n!==void 0?n:"");return{"data-href":t.href?r:void 0,"data-target":t.target,"data-rel":t.rel,"data-download":t.download,"data-ping":t.ping,"data-referrer-policy":t.referrerPolicy}}function RJ(t){let e=r4();var n;const r=e.useHref((n=t?.href)!==null&&n!==void 0?n:"");return{href:t?.href?r:void 0,target:t?.target,rel:t?.rel,download:t?.download,ping:t?.ping,referrerPolicy:t?.referrerPolicy}}let By=new Map,j6=new Set;function gj(){if(typeof window>"u")return;function t(r){return"propertyName"in r}let e=r=>{if(!t(r)||!r.target)return;let i=By.get(r.target);i||(i=new Set,By.set(r.target,i),r.target.addEventListener("transitioncancel",n,{once:!0})),i.add(r.propertyName)},n=r=>{if(!t(r)||!r.target)return;let i=By.get(r.target);if(i&&(i.delete(r.propertyName),i.size===0&&(r.target.removeEventListener("transitioncancel",n),By.delete(r.target)),By.size===0)){for(let s of j6)s();j6.clear()}};document.body.addEventListener("transitionrun",e),document.body.addEventListener("transitionend",n)}typeof document<"u"&&(document.readyState!=="loading"?gj():document.addEventListener("DOMContentLoaded",gj));function Q4e(){for(const[t]of By)"isConnected"in t&&!t.isConnected&&By.delete(t)}function NJ(t){requestAnimationFrame(()=>{Q4e(),By.size===0?t():j6.add(t)})}function lm(){let t=x.useRef(new Map),e=x.useCallback((i,s,o,a)=>{let l=a?.once?(...u)=>{t.current.delete(o),o(...u)}:o;t.current.set(o,{type:s,eventTarget:i,fn:l,options:a}),i.addEventListener(s,l,a)},[]),n=x.useCallback((i,s,o,a)=>{var l;let u=((l=t.current.get(o))===null||l===void 0?void 0:l.fn)||o;i.removeEventListener(s,u,a),t.current.delete(o)},[]),r=x.useCallback(()=>{t.current.forEach((i,s)=>{n(i.eventTarget,i.type,s,i.options)})},[n]);return x.useEffect(()=>r,[r]),{addGlobalListener:e,removeGlobalListener:n,removeAllGlobalListeners:r}}function tm(t,e){let{id:n,"aria-label":r,"aria-labelledby":i}=t;return n=Us(n),i&&r?i=[...new Set([n,...i.trim().split(/\s+/)])].join(" "):i&&(i=i.trim().split(/\s+/).join(" ")),!r&&!i&&e&&(r=e),{id:n,"aria-label":r,"aria-labelledby":i}}function Hu(t){const e=x.useRef(null),n=x.useRef(void 0),r=x.useCallback(i=>{if(typeof t=="function"){const s=t,o=s(i);return()=>{typeof o=="function"?o():s(null)}}else if(t)return t.current=i,()=>{t.current=null}},[t]);return x.useMemo(()=>({get current(){return e.current},set current(i){e.current=i,n.current&&(n.current(),n.current=void 0),i!=null&&(n.current=r(i))}}),[r])}var V5;const U4e=(V5=xe.useInsertionEffect)!==null&&V5!==void 0?V5:di;function eo(t){const e=x.useRef(null);return U4e(()=>{e.current=t},[t]),x.useCallback((...n)=>{const r=e.current;return r?.(...n)},[])}function LJ(t,e){const n=x.useRef(!0),r=x.useRef(null);let i=eo(t);x.useEffect(()=>(n.current=!0,()=>{n.current=!1}),[]),x.useEffect(()=>{let s=r.current;n.current?n.current=!1:(!s||e.some((o,a)=>!Object.is(o,s[a])))&&i(),r.current=e},e)}function mj(t,e){const n=x.useRef(!0),r=x.useRef(null);di(()=>(n.current=!0,()=>{n.current=!1}),[]),di(()=>{n.current?n.current=!1:(!r.current||e.some((i,s)=>!Object.is(i,r[s])))&&t(),r.current=e},e)}function H4e(){return typeof window.ResizeObserver<"u"}function e3(t){const{ref:e,box:n,onResize:r}=t;let i=eo(r);x.useEffect(()=>{let s=e?.current;if(s)if(H4e()){const o=new window.ResizeObserver(a=>{a.length&&i()});return o.observe(s,{box:n}),()=>{s&&o.unobserve(s)}}else return window.addEventListener("resize",i,!1),()=>{window.removeEventListener("resize",i,!1)}},[e,n])}function e$(t,e){di(()=>{if(t&&t.ref&&e)return t.ref.current=e.current,()=>{t.ref&&(t.ref.current=null)}})}function Zy(t,e){if(!t)return!1;let n=window.getComputedStyle(t),r=/(auto|scroll)/.test(n.overflow+n.overflowX+n.overflowY);return r&&e&&(r=t.scrollHeight!==t.clientHeight||t.scrollWidth!==t.clientWidth),r}function Kg(t,e){let n=t;for(Zy(n,e)&&(n=n.parentElement);n&&!Zy(n,e);)n=n.parentElement;return n||document.scrollingElement||document.documentElement}function V4e(t,e){const n=[];for(;t&&t!==document.documentElement;)Zy(t,e)&&n.push(t),t=t.parentElement;return n}function z1(t){return O0()?t.metaKey:t.ctrlKey}const G4e=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);function f_(t){return t instanceof HTMLInputElement&&!G4e.has(t.type)||t instanceof HTMLTextAreaElement||t instanceof HTMLElement&&t.isContentEditable}let hd=typeof document<"u"&&window.visualViewport;function K4e(){let t=ov(),[e,n]=x.useState(()=>t?{width:0,height:0}:Aj());return x.useEffect(()=>{let r=()=>{hd&&hd.scale>1||n(o=>{let a=Aj();return a.width===o.width&&a.height===o.height?o:a})},i,s=o=>{hd&&hd.scale>1||f_(o.target)&&(i=requestAnimationFrame(()=>{(!document.activeElement||!f_(document.activeElement))&&n(a=>{let l={width:window.innerWidth,height:window.innerHeight};return l.width===a.width&&l.height===a.height?a:l})}))};return window.addEventListener("blur",s,!0),hd?hd.addEventListener("resize",r):window.addEventListener("resize",r),()=>{cancelAnimationFrame(i),window.removeEventListener("blur",s,!0),hd?hd.removeEventListener("resize",r):window.removeEventListener("resize",r)}},[]),e}function Aj(){return{width:hd?hd.width*hd.scale:window.innerWidth,height:hd?hd.height*hd.scale:window.innerHeight}}let W4e=0;const G5=new Map;function i4(t){let[e,n]=x.useState();return di(()=>{if(!t)return;let r=G5.get(t);if(r)n(r.element.id);else{let i=`react-aria-description-${W4e++}`;n(i);let s=document.createElement("div");s.id=i,s.style.display="none",s.textContent=t,document.body.appendChild(s),r={refCount:0,element:s},G5.set(t,r)}return r.refCount++,()=>{r&&--r.refCount===0&&(r.element.remove(),G5.delete(t))}},[t]),{"aria-describedby":t?e:void 0}}function q1(t,e,n,r){let i=eo(n),s=n==null;x.useEffect(()=>{if(s||!t.current)return;let o=t.current;return o.addEventListener(e,i,r),()=>{o.removeEventListener(e,i,r)}},[t,e,r,s])}function FJ(t,e){let n=yj(t,e,"left"),r=yj(t,e,"top"),i=e.offsetWidth,s=e.offsetHeight,o=t.scrollLeft,a=t.scrollTop,{borderTopWidth:l,borderLeftWidth:u,scrollPaddingTop:c,scrollPaddingRight:d,scrollPaddingBottom:f,scrollPaddingLeft:p}=getComputedStyle(t),m=o+parseInt(u,10),v=a+parseInt(l,10),y=m+t.clientWidth,A=v+t.clientHeight,C=parseInt(c,10)||0,E=parseInt(f,10)||0,I=parseInt(d,10)||0,D=parseInt(p,10)||0;n<=o+D?o=n-parseInt(u,10)-D:n+i>y-I&&(o+=n+i-y+I),r<=v+C?a=r-parseInt(l,10)-C:r+s>A-E&&(a+=r+s-A+E),t.scrollLeft=o,t.scrollTop=a}function yj(t,e,n){const r=n==="left"?"offsetLeft":"offsetTop";let i=0;for(;e.offsetParent&&(i+=e[r],e.offsetParent!==t);){if(e.offsetParent.contains(t)){i-=t[r];break}e=e.offsetParent}return i}function Sy(t,e){if(t&&document.contains(t)){let o=document.scrollingElement||document.documentElement,a=window.getComputedStyle(o).overflow==="hidden";if(a){let l=V4e(t);a||l.push(o);for(let u of l)FJ(u,t)}else{var n;let{left:l,top:u}=t.getBoundingClientRect();t==null||(n=t.scrollIntoView)===null||n===void 0||n.call(t,{block:"nearest"});let{left:c,top:d}=t.getBoundingClientRect();if(Math.abs(l-c)>1||Math.abs(u-d)>1){var r,i,s;e==null||(i=e.containingElement)===null||i===void 0||(r=i.scrollIntoView)===null||r===void 0||r.call(i,{block:"center",inline:"center"}),(s=t.scrollIntoView)===null||s===void 0||s.call(t,{block:"nearest"})}}}}function vT(t){return t.pointerType===""&&t.isTrusted?!0:n4()&&t.pointerType?t.type==="click"&&t.buttons===1:t.detail===0&&!t.pointerType}function t$(t){return!n4()&&t.width===0&&t.height===0||t.width===1&&t.height===1&&t.pressure===0&&t.detail===0&&t.pointerType==="mouse"}function av(t,e,n){let r=eo(()=>{n&&n(e)});x.useEffect(()=>{var i;let s=t==null||(i=t.current)===null||i===void 0?void 0:i.form;return s?.addEventListener("reset",r),()=>{s?.removeEventListener("reset",r)}},[t])}function $J(t,e){let{collection:n,onLoadMore:r,scrollOffset:i=1}=t,s=x.useRef(null),o=eo(a=>{for(let l of a)l.isIntersecting&&r&&r()});di(()=>(e.current&&(s.current=new IntersectionObserver(o,{root:Kg(e?.current),rootMargin:`0px ${100*i}% ${100*i}% ${100*i}%`}),s.current.observe(e.current)),()=>{s.current&&s.current.disconnect()}),[n,e,i])}function XB(t){const e=x.version.split(".");return parseInt(e[0],10)>=19?t:t?"true":void 0}const q4e="react-aria-clear-focus",Y4e="react-aria-focus";function bT(t,e=!0){let[n,r]=x.useState(!0),i=n&&e;return di(()=>{if(i&&t.current&&"getAnimations"in t.current)for(let s of t.current.getAnimations())s instanceof CSSTransition&&s.cancel()},[t,i]),zJ(t,i,x.useCallback(()=>r(!1),[])),i}function JB(t,e){let[n,r]=x.useState(e?"open":"closed");switch(n){case"open":e||r("exiting");break;case"closed":case"exiting":e&&r("open");break}let i=n==="exiting";return zJ(t,i,x.useCallback(()=>{r(s=>s==="exiting"?"closed":s)},[])),i}function zJ(t,e,n){di(()=>{if(e&&t.current){if(!("getAnimations"in t.current)){n();return}let r=t.current.getAnimations();if(r.length===0){n();return}let i=!1;return Promise.all(r.map(s=>s.finished)).then(()=>{i||Xy.flushSync(()=>{n()})}).catch(()=>{}),()=>{i=!0}}},[t,e,n])}const X4e=typeof Element<"u"&&"checkVisibility"in Element.prototype;function J4e(t){const e=th(t);if(!(t instanceof e.HTMLElement)&&!(t instanceof e.SVGElement))return!1;let{display:n,visibility:r}=t.style,i=n!=="none"&&r!=="hidden"&&r!=="collapse";if(i){const{getComputedStyle:s}=t.ownerDocument.defaultView;let{display:o,visibility:a}=s(t);i=o!=="none"&&a!=="hidden"&&a!=="collapse"}return i}function Z4e(t,e){return!t.hasAttribute("hidden")&&!t.hasAttribute("data-react-aria-prevent-focus")&&(t.nodeName==="DETAILS"&&e&&e.nodeName!=="SUMMARY"?t.hasAttribute("open"):!0)}function n$(t,e){return X4e?t.checkVisibility({visibilityProperty:!0})&&!t.closest("[data-react-aria-prevent-focus]"):t.nodeName!=="#comment"&&J4e(t)&&Z4e(t,e)&&(!t.parentElement||n$(t.parentElement,t))}const r$=["input:not([disabled]):not([type=hidden])","select:not([disabled])","textarea:not([disabled])","button:not([disabled])","a[href]","area[href]","summary","iframe","object","embed","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable^="false"])',"permission"],e2e=r$.join(":not([hidden]),")+",[tabindex]:not([disabled]):not([hidden])";r$.push('[tabindex]:not([tabindex="-1"]):not([disabled])');const t2e=r$.join(':not([hidden]):not([tabindex="-1"]),');function OJ(t){return t.matches(e2e)&&n$(t)&&!QJ(t)}function jJ(t){return t.matches(t2e)&&n$(t)&&!QJ(t)}function QJ(t){let e=t;for(;e!=null;){if(e instanceof e.ownerDocument.defaultView.HTMLElement&&e.inert)return!0;e=e.parentElement}return!1}var K5;const n2e=typeof document<"u"?(K5=xe.useInsertionEffect)!==null&&K5!==void 0?K5:xe.useLayoutEffect:()=>{};function al(t,e,n){let[r,i]=x.useState(t||e),s=x.useRef(r),o=x.useRef(t!==void 0),a=t!==void 0;x.useEffect(()=>{o.current,o.current=a},[a]);let l=a?t:r;n2e(()=>{s.current=l});let[,u]=x.useReducer(()=>({}),{}),c=x.useCallback((d,...f)=>{let p=typeof d=="function"?d(s.current):d;Object.is(s.current,p)||(s.current=p,i(p),u(),n?.(p,...f))},[n]);return[l,c]}function Pl(t,e=-1/0,n=1/0){return Math.min(Math.max(t,e),n)}function X2(t,e){let n=t,r=0,i=e.toString(),s=i.toLowerCase().indexOf("e-");if(s>0)r=Math.abs(Math.floor(Math.log10(Math.abs(e))))+s;else{let o=i.indexOf(".");o>=0&&(r=i.length-o)}if(r>0){let o=Math.pow(10,r);n=Math.round(n*o)/o}return n}function ka(t,e,n,r){e=Number(e),n=Number(n);let i=(t-(isNaN(e)?0:e))%r,s=X2(Math.abs(i)*2>=r?t+Math.sign(i)*(r-Math.abs(i)):t-i,r);return isNaN(e)?!isNaN(n)&&s>n&&(s=Math.floor(X2(n/r,r))*r):s<e?s=e:!isNaN(n)&&s>n&&(s=e+Math.floor(X2((n-e)/r,r))*r),s=X2(s,r),s}function Ra(t,e,n=10){const r=Math.pow(n,e);return Math.round(t*r)/r}const t3=Symbol("default");function ll({values:t,children:e}){for(let[n,r]of t)e=xe.createElement(n.Provider,{value:r},e);return e}function Rr(t){let{className:e,style:n,children:r,defaultClassName:i,defaultChildren:s,defaultStyle:o,values:a}=t;return x.useMemo(()=>{let l,u,c;return typeof e=="function"?l=e({...a,defaultClassName:i}):l=e,typeof n=="function"?u=n({...a,defaultStyle:o||{}}):u=n,typeof r=="function"?c=r({...a,defaultChildren:s}):r==null?c=s:c=r,{className:l??i,style:u||o?{...o,...u}:void 0,children:c??s,"data-rac":""}},[e,n,r,i,s,o,a])}function lv(t,e){return n=>e(typeof t=="function"?t(n):t,n)}function Kp(t,e){let n=x.useContext(t);if(e===null)return null;if(n&&typeof n=="object"&&"slots"in n&&n.slots){let r=e||t3;if(!n.slots[r]){let i=new Intl.ListFormat().format(Object.keys(n.slots).map(o=>`"${o}"`)),s=e?`Invalid slot "${e}".`:"A slot prop is required.";throw new Error(`${s} Valid slot names are ${i}.`)}return n.slots[r]}return n}function Fi(t,e,n){let r=Kp(n,t.slot)||{},{ref:i,...s}=r,o=Hu(x.useMemo(()=>t4(e,i),[e,i])),a=on(s,t);return"style"in s&&s.style&&"style"in t&&t.style&&(typeof s.style=="function"||typeof t.style=="function"?a.style=l=>{let u=typeof s.style=="function"?s.style(l):s.style,c={...l.defaultStyle,...u},d=typeof t.style=="function"?t.style({...l,defaultStyle:c}):t.style;return{...c,...d}}:a.style={...s.style,...t.style}),[a,o]}function um(t=!0){let[e,n]=x.useState(t),r=x.useRef(!1),i=x.useCallback(s=>{r.current=!0,n(!!s)},[]);return di(()=>{r.current||n(!1)},[]),[i,e]}function Qp(t){const e=/^(data-.*)$/;let n={};for(const r in t)e.test(r)||(n[r]=t[r]);return n}var UJ={};UJ={buttonLabel:" ",countAnnouncement:(t,e)=>`${e.plural(t.optionCount,{one:()=>`${e.number(t.optionCount)} `,other:()=>`${e.number(t.optionCount)} `})} .`,focusAnnouncement:(t,e)=>`${e.select({true:()=>`  ${t.groupTitle},  ${e.plural(t.groupCount,{one:()=>`${e.number(t.groupCount)} `,other:()=>`${e.number(t.groupCount)} `})}. `,other:""},t.isGroupChange)}${t.optionText}${e.select({true:", ",other:""},t.isSelected)}`,listboxLabel:"",selectedAnnouncement:t=>`${t.optionText} `};var HJ={};HJ={buttonLabel:" ",countAnnouncement:(t,e)=>`${e.plural(t.optionCount,{one:()=>`${e.number(t.optionCount)} `,other:()=>`${e.number(t.optionCount)} `})}  .`,focusAnnouncement:(t,e)=>`${e.select({true:()=>`  ${t.groupTitle},  ${e.plural(t.groupCount,{one:()=>`${e.number(t.groupCount)} `,other:()=>`${e.number(t.groupCount)} `})}. `,other:""},t.isGroupChange)}${t.optionText}${e.select({true:", ",other:""},t.isSelected)}`,listboxLabel:"",selectedAnnouncement:t=>`${t.optionText}, `};var VJ={};VJ={buttonLabel:"Zobrazit doporuen",countAnnouncement:(t,e)=>`K dispozici ${e.plural(t.optionCount,{one:()=>`je ${e.number(t.optionCount)} monost`,other:()=>`jsou/je ${e.number(t.optionCount)} monosti/-`})}.`,focusAnnouncement:(t,e)=>`${e.select({true:()=>`Zadan skupina ${t.groupTitle} ${e.plural(t.groupCount,{one:()=>`s ${e.number(t.groupCount)} monost`,other:()=>`se ${e.number(t.groupCount)} monostmi`})}. `,other:""},t.isGroupChange)}${t.optionText}${e.select({true:" (vybrno)",other:""},t.isSelected)}`,listboxLabel:"Nvrhy",selectedAnnouncement:t=>`${t.optionText}, vybrno`};var GJ={};GJ={buttonLabel:"Vis forslag",countAnnouncement:(t,e)=>`${e.plural(t.optionCount,{one:()=>`${e.number(t.optionCount)} mulighed tilgngelig`,other:()=>`${e.number(t.optionCount)} muligheder tilgngelige`})}.`,focusAnnouncement:(t,e)=>`${e.select({true:()=>`Angivet gruppe ${t.groupTitle}, med ${e.plural(t.groupCount,{one:()=>`${e.number(t.groupCount)} mulighed`,other:()=>`${e.number(t.groupCount)} muligheder`})}. `,other:""},t.isGroupChange)}${t.optionText}${e.select({true:", valgt",other:""},t.isSelected)}`,listboxLabel:"Forslag",selectedAnnouncement:t=>`${t.optionText}, valgt`};var KJ={};KJ={buttonLabel:"Empfehlungen anzeigen",countAnnouncement:(t,e)=>`${e.plural(t.optionCount,{one:()=>`${e.number(t.optionCount)} Option`,other:()=>`${e.number(t.optionCount)} Optionen`})} verfgbar.`,focusAnnouncement:(t,e)=>`${e.select({true:()=>`Eingetretene Gruppe ${t.groupTitle}, mit ${e.plural(t.groupCount,{one:()=>`${e.number(t.groupCount)} Option`,other:()=>`${e.number(t.groupCount)} Optionen`})}. `,other:""},t.isGroupChange)}${t.optionText}${e.select({true:", ausgewhlt",other:""},t.isSelected)}`,listboxLabel:"Empfehlungen",selectedAnnouncement:t=>`${t.optionText}, ausgewhlt`};var WJ={};WJ={buttonLabel:" ",countAnnouncement:(t,e)=>`${e.plural(t.optionCount,{one:()=>`${e.number(t.optionCount)} `,other:()=>`${e.number(t.optionCount)}  `})} .`,focusAnnouncement:(t,e)=>`${e.select({true:()=>`  ${t.groupTitle},  ${e.plural(t.groupCount,{one:()=>`${e.number(t.groupCount)} `,other:()=>`${e.number(t.groupCount)} `})}. `,other:""},t.isGroupChange)}${t.optionText}${e.select({true:", ",other:""},t.isSelected)}`,listboxLabel:"",selectedAnnouncement:t=>`${t.optionText}, `};var qJ={};qJ={focusAnnouncement:(t,e)=>`${e.select({true:()=>`Entered group ${t.groupTitle}, with ${e.plural(t.groupCount,{one:()=>`${e.number(t.groupCount)} option`,other:()=>`${e.number(t.groupCount)} options`})}. `,other:""},t.isGroupChange)}${t.optionText}${e.select({true:", selected",other:""},t.isSelected)}`,countAnnouncement:(t,e)=>`${e.plural(t.optionCount,{one:()=>`${e.number(t.optionCount)} option`,other:()=>`${e.number(t.optionCount)} options`})} available.`,selectedAnnouncement:t=>`${t.optionText}, selected`,buttonLabel:"Show suggestions",listboxLabel:"Suggestions"};var YJ={};YJ={buttonLabel:"Mostrar sugerencias",countAnnouncement:(t,e)=>`${e.plural(t.optionCount,{one:()=>`${e.number(t.optionCount)} opcin`,other:()=>`${e.number(t.optionCount)} opciones`})} disponible(s).`,focusAnnouncement:(t,e)=>`${e.select({true:()=>`Se ha unido al grupo ${t.groupTitle}, con ${e.plural(t.groupCount,{one:()=>`${e.number(t.groupCount)} opcin`,other:()=>`${e.number(t.groupCount)} opciones`})}. `,other:""},t.isGroupChange)}${t.optionText}${e.select({true:", seleccionado",other:""},t.isSelected)}`,listboxLabel:"Sugerencias",selectedAnnouncement:t=>`${t.optionText}, seleccionado`};var XJ={};XJ={buttonLabel:"Kuva soovitused",countAnnouncement:(t,e)=>`${e.plural(t.optionCount,{one:()=>`${e.number(t.optionCount)} valik`,other:()=>`${e.number(t.optionCount)} valikud`})} saadaval.`,focusAnnouncement:(t,e)=>`${e.select({true:()=>`Sisestatud rhm ${t.groupTitle}, valikuga ${e.plural(t.groupCount,{one:()=>`${e.number(t.groupCount)} valik`,other:()=>`${e.number(t.groupCount)} valikud`})}. `,other:""},t.isGroupChange)}${t.optionText}${e.select({true:", valitud",other:""},t.isSelected)}`,listboxLabel:"Soovitused",selectedAnnouncement:t=>`${t.optionText}, valitud`};var JJ={};JJ={buttonLabel:"Nyt ehdotukset",countAnnouncement:(t,e)=>`${e.plural(t.optionCount,{one:()=>`${e.number(t.optionCount)} vaihtoehto`,other:()=>`${e.number(t.optionCount)} vaihtoehdot`})} saatavilla.`,focusAnnouncement:(t,e)=>`${e.select({true:()=>`Mentiin ryhmn ${t.groupTitle}, ${e.plural(t.groupCount,{one:()=>`${e.number(t.groupCount)} vaihtoehdon`,other:()=>`${e.number(t.groupCount)} vaihtoehdon`})} kanssa.`,other:""},t.isGroupChange)}${t.optionText}${e.select({true:", valittu",other:""},t.isSelected)}`,listboxLabel:"Ehdotukset",selectedAnnouncement:t=>`${t.optionText}, valittu`};var ZJ={};ZJ={buttonLabel:"Afficher les suggestions",countAnnouncement:(t,e)=>`${e.plural(t.optionCount,{one:()=>`${e.number(t.optionCount)} option`,other:()=>`${e.number(t.optionCount)} options`})} disponible(s).`,focusAnnouncement:(t,e)=>`${e.select({true:()=>`Groupe ${t.groupTitle} rejoint, avec ${e.plural(t.groupCount,{one:()=>`${e.number(t.groupCount)} option`,other:()=>`${e.number(t.groupCount)} options`})}. `,other:""},t.isGroupChange)}${t.optionText}${e.select({true:", slectionn(s)",other:""},t.isSelected)}`,listboxLabel:"Suggestions",selectedAnnouncement:t=>`${t.optionText}, slectionn`};var eZ={};eZ={buttonLabel:" ",countAnnouncement:(t,e)=>`${e.plural(t.optionCount,{one:()=>` ${e.number(t.optionCount)}`,other:()=>`${e.number(t.optionCount)} `})}  .`,focusAnnouncement:(t,e)=>`${e.select({true:()=>`  ${t.groupTitle},  ${e.plural(t.groupCount,{one:()=>` ${e.number(t.groupCount)}`,other:()=>`${e.number(t.groupCount)} `})}. `,other:""},t.isGroupChange)}${t.optionText}${e.select({true:", ",other:""},t.isSelected)}`,listboxLabel:"",selectedAnnouncement:t=>`${t.optionText}, `};var tZ={};tZ={buttonLabel:"Prikai prijedloge",countAnnouncement:(t,e)=>`Dostupno jo: ${e.plural(t.optionCount,{one:()=>`${e.number(t.optionCount)} opcija`,other:()=>`${e.number(t.optionCount)} opcije/a`})}.`,focusAnnouncement:(t,e)=>`${e.select({true:()=>`Unesena skupina ${t.groupTitle}, s ${e.plural(t.groupCount,{one:()=>`${e.number(t.groupCount)} opcijom`,other:()=>`${e.number(t.groupCount)} opcije/a`})}. `,other:""},t.isGroupChange)}${t.optionText}${e.select({true:", odabranih",other:""},t.isSelected)}`,listboxLabel:"Prijedlozi",selectedAnnouncement:t=>`${t.optionText}, odabrano`};var nZ={};nZ={buttonLabel:"Javaslatok megjelentse",countAnnouncement:(t,e)=>`${e.plural(t.optionCount,{one:()=>`${e.number(t.optionCount)} lehetsg`,other:()=>`${e.number(t.optionCount)} lehetsg`})} ll rendelkezsre.`,focusAnnouncement:(t,e)=>`${e.select({true:()=>`Belpett a(z) ${t.groupTitle} csoportba, amely ${e.plural(t.groupCount,{one:()=>`${e.number(t.groupCount)} lehetsget`,other:()=>`${e.number(t.groupCount)} lehetsget`})} tartalmaz. `,other:""},t.isGroupChange)}${t.optionText}${e.select({true:", kijellve",other:""},t.isSelected)}`,listboxLabel:"Javaslatok",selectedAnnouncement:t=>`${t.optionText}, kijellve`};var rZ={};rZ={buttonLabel:"Mostra suggerimenti",countAnnouncement:(t,e)=>`${e.plural(t.optionCount,{one:()=>`${e.number(t.optionCount)} opzione disponibile`,other:()=>`${e.number(t.optionCount)} opzioni disponibili`})}.`,focusAnnouncement:(t,e)=>`${e.select({true:()=>`Ingresso nel gruppo ${t.groupTitle}, con ${e.plural(t.groupCount,{one:()=>`${e.number(t.groupCount)} opzione`,other:()=>`${e.number(t.groupCount)} opzioni`})}. `,other:""},t.isGroupChange)}${t.optionText}${e.select({true:", selezionato",other:""},t.isSelected)}`,listboxLabel:"Suggerimenti",selectedAnnouncement:t=>`${t.optionText}, selezionato`};var iZ={};iZ={buttonLabel:"",countAnnouncement:(t,e)=>`${e.plural(t.optionCount,{one:()=>`${e.number(t.optionCount)} `,other:()=>`${e.number(t.optionCount)} `})}`,focusAnnouncement:(t,e)=>`${e.select({true:()=>` ${t.groupTitle}${e.plural(t.groupCount,{one:()=>`${e.number(t.groupCount)} `,other:()=>`${e.number(t.groupCount)} `})}`,other:""},t.isGroupChange)}${t.optionText}${e.select({true:"",other:""},t.isSelected)}`,listboxLabel:"",selectedAnnouncement:t=>`${t.optionText}`};var sZ={};sZ={buttonLabel:"  ",countAnnouncement:(t,e)=>`${e.plural(t.optionCount,{one:()=>`${e.number(t.optionCount)} `,other:()=>`${e.number(t.optionCount)} `})}   .`,focusAnnouncement:(t,e)=>`${e.select({true:()=>`  ${t.groupTitle}, ${e.plural(t.groupCount,{one:()=>`${e.number(t.groupCount)} `,other:()=>`${e.number(t.groupCount)} `})}. `,other:""},t.isGroupChange)}${t.optionText}${e.select({true:", ",other:""},t.isSelected)}`,listboxLabel:"",selectedAnnouncement:t=>`${t.optionText}, `};var oZ={};oZ={buttonLabel:"Rodyti pasilymus",countAnnouncement:(t,e)=>`Yra ${e.plural(t.optionCount,{one:()=>`${e.number(t.optionCount)} parinktis`,other:()=>`${e.number(t.optionCount)} parinktys (-i)`})}.`,focusAnnouncement:(t,e)=>`${e.select({true:()=>`vesta grup ${t.groupTitle}, su ${e.plural(t.groupCount,{one:()=>`${e.number(t.groupCount)} parinktimi`,other:()=>`${e.number(t.groupCount)} parinktimis (-i)`})}. `,other:""},t.isGroupChange)}${t.optionText}${e.select({true:", pasirinkta",other:""},t.isSelected)}`,listboxLabel:"Pasilymai",selectedAnnouncement:t=>`${t.optionText}, pasirinkta`};var aZ={};aZ={buttonLabel:"Rdt ieteikumus",countAnnouncement:(t,e)=>`Pieejamo opciju skaits: ${e.plural(t.optionCount,{one:()=>`${e.number(t.optionCount)} opcija`,other:()=>`${e.number(t.optionCount)} opcijas`})}.`,focusAnnouncement:(t,e)=>`${e.select({true:()=>`Ievadta grupa ${t.groupTitle}, ar ${e.plural(t.groupCount,{one:()=>`${e.number(t.groupCount)} opciju`,other:()=>`${e.number(t.groupCount)} opcijm`})}. `,other:""},t.isGroupChange)}${t.optionText}${e.select({true:", atlasta",other:""},t.isSelected)}`,listboxLabel:"Ieteikumi",selectedAnnouncement:t=>`${t.optionText}, atlasta`};var lZ={};lZ={buttonLabel:"Vis forslag",countAnnouncement:(t,e)=>`${e.plural(t.optionCount,{one:()=>`${e.number(t.optionCount)} alternativ`,other:()=>`${e.number(t.optionCount)} alternativer`})} finnes.`,focusAnnouncement:(t,e)=>`${e.select({true:()=>`Angitt gruppe ${t.groupTitle}, med ${e.plural(t.groupCount,{one:()=>`${e.number(t.groupCount)} alternativ`,other:()=>`${e.number(t.groupCount)} alternativer`})}. `,other:""},t.isGroupChange)}${t.optionText}${e.select({true:", valgt",other:""},t.isSelected)}`,listboxLabel:"Forslag",selectedAnnouncement:t=>`${t.optionText}, valgt`};var uZ={};uZ={buttonLabel:"Suggesties weergeven",countAnnouncement:(t,e)=>`${e.plural(t.optionCount,{one:()=>`${e.number(t.optionCount)} optie`,other:()=>`${e.number(t.optionCount)} opties`})} beschikbaar.`,focusAnnouncement:(t,e)=>`${e.select({true:()=>`Groep ${t.groupTitle} ingevoerd met ${e.plural(t.groupCount,{one:()=>`${e.number(t.groupCount)} optie`,other:()=>`${e.number(t.groupCount)} opties`})}. `,other:""},t.isGroupChange)}${t.optionText}${e.select({true:", geselecteerd",other:""},t.isSelected)}`,listboxLabel:"Suggesties",selectedAnnouncement:t=>`${t.optionText}, geselecteerd`};var cZ={};cZ={buttonLabel:"Wywietlaj sugestie",countAnnouncement:(t,e)=>`dostpna/dostpne(-nych) ${e.plural(t.optionCount,{one:()=>`${e.number(t.optionCount)} opcja`,other:()=>`${e.number(t.optionCount)} opcje(-i)`})}.`,focusAnnouncement:(t,e)=>`${e.select({true:()=>`Doczono do grupy ${t.groupTitle}, z ${e.plural(t.groupCount,{one:()=>`${e.number(t.groupCount)} opcj`,other:()=>`${e.number(t.groupCount)} opcjami`})}. `,other:""},t.isGroupChange)}${t.optionText}${e.select({true:", wybrano",other:""},t.isSelected)}`,listboxLabel:"Sugestie",selectedAnnouncement:t=>`${t.optionText}, wybrano`};var dZ={};dZ={buttonLabel:"Mostrar sugestes",countAnnouncement:(t,e)=>`${e.plural(t.optionCount,{one:()=>`${e.number(t.optionCount)} opo`,other:()=>`${e.number(t.optionCount)} opes`})} disponvel.`,focusAnnouncement:(t,e)=>`${e.select({true:()=>`Grupo inserido ${t.groupTitle}, com ${e.plural(t.groupCount,{one:()=>`${e.number(t.groupCount)} opo`,other:()=>`${e.number(t.groupCount)} opes`})}. `,other:""},t.isGroupChange)}${t.optionText}${e.select({true:", selecionado",other:""},t.isSelected)}`,listboxLabel:"Sugestes",selectedAnnouncement:t=>`${t.optionText}, selecionado`};var hZ={};hZ={buttonLabel:"Apresentar sugestes",countAnnouncement:(t,e)=>`${e.plural(t.optionCount,{one:()=>`${e.number(t.optionCount)} opo`,other:()=>`${e.number(t.optionCount)} opes`})} disponvel.`,focusAnnouncement:(t,e)=>`${e.select({true:()=>`Grupo introduzido ${t.groupTitle}, com ${e.plural(t.groupCount,{one:()=>`${e.number(t.groupCount)} opo`,other:()=>`${e.number(t.groupCount)} opes`})}. `,other:""},t.isGroupChange)}${t.optionText}${e.select({true:", selecionado",other:""},t.isSelected)}`,listboxLabel:"Sugestes",selectedAnnouncement:t=>`${t.optionText}, selecionado`};var fZ={};fZ={buttonLabel:"Afiare sugestii",countAnnouncement:(t,e)=>`${e.plural(t.optionCount,{one:()=>`${e.number(t.optionCount)} opiune`,other:()=>`${e.number(t.optionCount)} opiuni`})} disponibile.`,focusAnnouncement:(t,e)=>`${e.select({true:()=>`Grup ${t.groupTitle} introdus, cu ${e.plural(t.groupCount,{one:()=>`${e.number(t.groupCount)} opiune`,other:()=>`${e.number(t.groupCount)} opiuni`})}. `,other:""},t.isGroupChange)}${t.optionText}${e.select({true:", selectat",other:""},t.isSelected)}`,listboxLabel:"Sugestii",selectedAnnouncement:t=>`${t.optionText}, selectat`};var pZ={};pZ={buttonLabel:" ",countAnnouncement:(t,e)=>`${e.plural(t.optionCount,{one:()=>`${e.number(t.optionCount)} `,other:()=>`${e.number(t.optionCount)} `})} .`,focusAnnouncement:(t,e)=>`${e.select({true:()=>`  ${t.groupTitle},  ${e.plural(t.groupCount,{one:()=>`${e.number(t.groupCount)} `,other:()=>`${e.number(t.groupCount)} `})}. `,other:""},t.isGroupChange)}${t.optionText}${e.select({true:", ",other:""},t.isSelected)}`,listboxLabel:"",selectedAnnouncement:t=>`${t.optionText}, `};var gZ={};gZ={buttonLabel:"Zobrazi nvrhy",countAnnouncement:(t,e)=>`${e.plural(t.optionCount,{one:()=>`${e.number(t.optionCount)} monos`,other:()=>`${e.number(t.optionCount)} monosti/-`})} k dispozcii.`,focusAnnouncement:(t,e)=>`${e.select({true:()=>`Zadan skupina ${t.groupTitle}, s ${e.plural(t.groupCount,{one:()=>`${e.number(t.groupCount)} monosou`,other:()=>`${e.number(t.groupCount)} monosami`})}. `,other:""},t.isGroupChange)}${t.optionText}${e.select({true:", vybrat",other:""},t.isSelected)}`,listboxLabel:"Nvrhy",selectedAnnouncement:t=>`${t.optionText}, vybrat`};var mZ={};mZ={buttonLabel:"Prikai predloge",countAnnouncement:(t,e)=>`Na voljo je ${e.plural(t.optionCount,{one:()=>`${e.number(t.optionCount)} opcija`,other:()=>`${e.number(t.optionCount)} opcije`})}.`,focusAnnouncement:(t,e)=>`${e.select({true:()=>`Vnesena skupina ${t.groupTitle}, z ${e.plural(t.groupCount,{one:()=>`${e.number(t.groupCount)} opcija`,other:()=>`${e.number(t.groupCount)} opcije`})}. `,other:""},t.isGroupChange)}${t.optionText}${e.select({true:", izbrano",other:""},t.isSelected)}`,listboxLabel:"Predlogi",selectedAnnouncement:t=>`${t.optionText}, izbrano`};var AZ={};AZ={buttonLabel:"Prikai predloge",countAnnouncement:(t,e)=>`Dostupno jo: ${e.plural(t.optionCount,{one:()=>`${e.number(t.optionCount)} opcija`,other:()=>`${e.number(t.optionCount)} opcije/a`})}.`,focusAnnouncement:(t,e)=>`${e.select({true:()=>`Unesena grupa ${t.groupTitle}, s ${e.plural(t.groupCount,{one:()=>`${e.number(t.groupCount)} opcijom`,other:()=>`${e.number(t.groupCount)} optione/a`})}. `,other:""},t.isGroupChange)}${t.optionText}${e.select({true:", izabranih",other:""},t.isSelected)}`,listboxLabel:"Predlozi",selectedAnnouncement:t=>`${t.optionText}, izabrano`};var yZ={};yZ={buttonLabel:"Visa frslag",countAnnouncement:(t,e)=>`${e.plural(t.optionCount,{one:()=>`${e.number(t.optionCount)} alternativ`,other:()=>`${e.number(t.optionCount)} alternativ`})} tillgngliga.`,focusAnnouncement:(t,e)=>`${e.select({true:()=>`Ingick i gruppen ${t.groupTitle} med ${e.plural(t.groupCount,{one:()=>`${e.number(t.groupCount)} alternativ`,other:()=>`${e.number(t.groupCount)} alternativ`})}. `,other:""},t.isGroupChange)}${t.optionText}${e.select({true:", valda",other:""},t.isSelected)}`,listboxLabel:"Frslag",selectedAnnouncement:t=>`${t.optionText}, valda`};var vZ={};vZ={buttonLabel:"nerileri gster",countAnnouncement:(t,e)=>`${e.plural(t.optionCount,{one:()=>`${e.number(t.optionCount)} seenek`,other:()=>`${e.number(t.optionCount)} seenekler`})} kullanlabilir.`,focusAnnouncement:(t,e)=>`${e.select({true:()=>`Girilen grup ${t.groupTitle}, ile ${e.plural(t.groupCount,{one:()=>`${e.number(t.groupCount)} seenek`,other:()=>`${e.number(t.groupCount)} seenekler`})}. `,other:""},t.isGroupChange)}${t.optionText}${e.select({true:", seildi",other:""},t.isSelected)}`,listboxLabel:"neriler",selectedAnnouncement:t=>`${t.optionText}, seildi`};var bZ={};bZ={buttonLabel:" ",countAnnouncement:(t,e)=>`${e.plural(t.optionCount,{one:()=>`${e.number(t.optionCount)} `,other:()=>`${e.number(t.optionCount)} (-)`})} .`,focusAnnouncement:(t,e)=>`${e.select({true:()=>`  ${t.groupTitle},  ${e.plural(t.groupCount,{one:()=>`${e.number(t.groupCount)} `,other:()=>`${e.number(t.groupCount)} (-)`})}. `,other:""},t.isGroupChange)}${t.optionText}${e.select({true:", ",other:""},t.isSelected)}`,listboxLabel:"",selectedAnnouncement:t=>`${t.optionText}, `};var xZ={};xZ={buttonLabel:"",countAnnouncement:(t,e)=>` ${e.plural(t.optionCount,{one:()=>`${e.number(t.optionCount)} `,other:()=>`${e.number(t.optionCount)} `})}`,focusAnnouncement:(t,e)=>`${e.select({true:()=>` ${t.groupTitle}  ${e.plural(t.groupCount,{one:()=>`${e.number(t.groupCount)} `,other:()=>`${e.number(t.groupCount)} `})}. `,other:""},t.isGroupChange)}${t.optionText}${e.select({true:", ",other:""},t.isSelected)}`,listboxLabel:"",selectedAnnouncement:t=>`${t.optionText}, `};var CZ={};CZ={buttonLabel:"",countAnnouncement:(t,e)=>`${e.plural(t.optionCount,{one:()=>`${e.number(t.optionCount)} `,other:()=>`${e.number(t.optionCount)} `})} `,focusAnnouncement:(t,e)=>`${e.select({true:()=>` ${t.groupTitle},  ${e.plural(t.groupCount,{one:()=>`${e.number(t.groupCount)} `,other:()=>`${e.number(t.groupCount)} `})}. `,other:""},t.isGroupChange)}${t.optionText}${e.select({true:", ",other:""},t.isSelected)}`,listboxLabel:"",selectedAnnouncement:t=>`${t.optionText}, `};var EZ={};EZ={"ar-AE":UJ,"bg-BG":HJ,"cs-CZ":VJ,"da-DK":GJ,"de-DE":KJ,"el-GR":WJ,"en-US":qJ,"es-ES":YJ,"et-EE":XJ,"fi-FI":JJ,"fr-FR":ZJ,"he-IL":eZ,"hr-HR":tZ,"hu-HU":nZ,"it-IT":rZ,"ja-JP":iZ,"ko-KR":sZ,"lt-LT":oZ,"lv-LV":aZ,"nb-NO":lZ,"nl-NL":uZ,"pl-PL":cZ,"pt-BR":dZ,"pt-PT":hZ,"ro-RO":fZ,"ru-RU":pZ,"sk-SK":gZ,"sl-SI":mZ,"sr-SP":AZ,"sv-SE":yZ,"tr-TR":vZ,"uk-UA":bZ,"zh-CN":xZ,"zh-TW":CZ};const SZ=7e3;let Jh=null;function Tp(t,e="assertive",n=SZ){Jh?Jh.announce(t,e,n):(Jh=new i2e,(typeof IS_REACT_ACT_ENVIRONMENT=="boolean"?IS_REACT_ACT_ENVIRONMENT:typeof jest<"u")?Jh.announce(t,e,n):setTimeout(()=>{Jh?.isAttached()&&Jh?.announce(t,e,n)},100))}function r2e(t){Jh&&Jh.clear(t)}class i2e{isAttached(){var e;return(e=this.node)===null||e===void 0?void 0:e.isConnected}createLog(e){let n=document.createElement("div");return n.setAttribute("role","log"),n.setAttribute("aria-live",e),n.setAttribute("aria-relevant","additions"),n}destroy(){this.node&&(document.body.removeChild(this.node),this.node=null)}announce(e,n="assertive",r=SZ){var i,s;if(!this.node)return;let o=document.createElement("div");typeof e=="object"?(o.setAttribute("role","img"),o.setAttribute("aria-labelledby",e["aria-labelledby"])):o.textContent=e,n==="assertive"?(i=this.assertiveLog)===null||i===void 0||i.appendChild(o):(s=this.politeLog)===null||s===void 0||s.appendChild(o),e!==""&&setTimeout(()=>{o.remove()},r)}clear(e){this.node&&((!e||e==="assertive")&&this.assertiveLog&&(this.assertiveLog.innerHTML=""),(!e||e==="polite")&&this.politeLog&&(this.politeLog.innerHTML=""))}constructor(){this.node=null,this.assertiveLog=null,this.politeLog=null,typeof document<"u"&&(this.node=document.createElement("div"),this.node.dataset.liveAnnouncer="true",Object.assign(this.node.style,{border:0,clip:"rect(0 0 0 0)",clipPath:"inset(50%)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"absolute",width:"1px",whiteSpace:"nowrap"}),this.assertiveLog=this.createLog("assertive"),this.node.appendChild(this.assertiveLog),this.politeLog=this.createLog("polite"),this.node.appendChild(this.politeLog),document.body.prepend(this.node))}}const sf={top:"top",bottom:"top",left:"left",right:"left"},ZB={top:"bottom",bottom:"top",left:"right",right:"left"},s2e={top:"left",left:"top"},Q6={top:"height",left:"width"},wZ={width:"totalWidth",height:"totalHeight"},J2={};let o2e=()=>typeof document<"u"?window.visualViewport:null;function vj(t,e){let n=0,r=0,i=0,s=0,o=0,a=0,l={};var u;let c=((u=e?.scale)!==null&&u!==void 0?u:1)>1;if(t.tagName==="BODY"||t.tagName==="HTML"){let v=document.documentElement;i=v.clientWidth,s=v.clientHeight;var d;n=(d=e?.width)!==null&&d!==void 0?d:i;var f;r=(f=e?.height)!==null&&f!==void 0?f:s,l.top=v.scrollTop||t.scrollTop,l.left=v.scrollLeft||t.scrollLeft,e&&(o=e.offsetTop,a=e.offsetLeft)}else({width:n,height:r,top:o,left:a}=n3(t,!1)),l.top=t.scrollTop,l.left=t.scrollLeft,i=n,s=r;if(yT()&&(t.tagName==="BODY"||t.tagName==="HTML")&&c){l.top=0,l.left=0;var p;o=(p=e?.pageTop)!==null&&p!==void 0?p:0;var m;a=(m=e?.pageLeft)!==null&&m!==void 0?m:0}return{width:n,height:r,totalWidth:i,totalHeight:s,scroll:l,top:o,left:a}}function a2e(t){return{top:t.scrollTop,left:t.scrollLeft,width:t.scrollWidth,height:t.scrollHeight}}function bj(t,e,n,r,i,s,o){var a;let l=(a=i.scroll[t])!==null&&a!==void 0?a:0,u=r[Q6[t]],c=o[t]+r.scroll[sf[t]]+s,d=o[t]+r.scroll[sf[t]]+u-s,f=e-l+r.scroll[sf[t]]+o[t]-r[sf[t]],p=e-l+n+r.scroll[sf[t]]+o[t]-r[sf[t]];return f<c?c-f:p>d?Math.max(d-p,c-f):0}function l2e(t){let e=window.getComputedStyle(t);return{top:parseInt(e.marginTop,10)||0,bottom:parseInt(e.marginBottom,10)||0,left:parseInt(e.marginLeft,10)||0,right:parseInt(e.marginRight,10)||0}}function xj(t){if(J2[t])return J2[t];let[e,n]=t.split(" "),r=sf[e]||"right",i=s2e[r];sf[n]||(n="center");let s=Q6[r],o=Q6[i];return J2[t]={placement:e,crossPlacement:n,axis:r,crossAxis:i,size:s,crossSize:o},J2[t]}function W5(t,e,n,r,i,s,o,a,l,u,c){let{placement:d,crossPlacement:f,axis:p,crossAxis:m,size:v,crossSize:y}=r,A={};var C;A[m]=(C=t[m])!==null&&C!==void 0?C:0;var E,I,D,T;f==="center"?A[m]+=(((E=t[y])!==null&&E!==void 0?E:0)-((I=n[y])!==null&&I!==void 0?I:0))/2:f!==m&&(A[m]+=((D=t[y])!==null&&D!==void 0?D:0)-((T=n[y])!==null&&T!==void 0?T:0)),A[m]+=s;const M=t[m]-n[y]+l+u,P=t[m]+t[y]-l-u;if(A[m]=Pl(A[m],M,P),d===p){let k=a?c[v]:c[wZ[v]];A[ZB[p]]=Math.floor(k-t[p]+i)}else A[p]=Math.floor(t[p]+t[v]+i);return A}function u2e(t,e,n,r,i,s,o,a,l,u,c){var d,f;let p=(t.top!=null?t.top:l[wZ.height]-((d=t.bottom)!==null&&d!==void 0?d:0)-o)-((f=l.scroll.top)!==null&&f!==void 0?f:0),m=u?n.top:0;var v,y,A;let C={top:Math.max(e.top+m,((v=c?.offsetTop)!==null&&v!==void 0?v:e.top)+m),bottom:Math.min(e.top+e.height+m,((y=c?.offsetTop)!==null&&y!==void 0?y:0)+((A=c?.height)!==null&&A!==void 0?A:0))};var E,I,D,T;return a!=="top"?Math.max(0,C.bottom-p-(((E=i.top)!==null&&E!==void 0?E:0)+((I=i.bottom)!==null&&I!==void 0?I:0)+s)):Math.max(0,p+o-C.top-(((D=i.top)!==null&&D!==void 0?D:0)+((T=i.bottom)!==null&&T!==void 0?T:0)+s))}function Cj(t,e,n,r,i,s,o,a){let{placement:l,axis:u,size:c}=s;var d,f;if(l===u)return Math.max(0,n[u]-((d=o.scroll[u])!==null&&d!==void 0?d:0)-(t[u]+(a?e[u]:0))-((f=r[u])!==null&&f!==void 0?f:0)-r[ZB[u]]-i);var p,m;return Math.max(0,t[c]+t[u]+(a?e[u]:0)-n[u]-n[c]+((p=o.scroll[u])!==null&&p!==void 0?p:0)-((m=r[u])!==null&&m!==void 0?m:0)-r[ZB[u]]-i)}function c2e(t,e,n,r,i,s,o,a,l,u,c,d,f,p,m,v,y,A){let C=xj(t),{size:E,crossAxis:I,crossSize:D,placement:T,crossPlacement:M}=C,P=W5(e,a,n,C,c,d,u,f,m,v,l),k=c,L=Cj(a,u,e,i,s+c,C,l,y);if(o&&n[E]>L){let _e=xj(`${ZB[T]} ${M}`),we=W5(e,a,n,_e,c,d,u,f,m,v,l);Cj(a,u,e,i,s+c,_e,l,y)>L&&(C=_e,P=we,k=c)}let $="bottom";C.axis==="top"?C.placement==="top"?$="top":C.placement==="bottom"&&($="bottom"):C.crossAxis==="top"&&(C.crossPlacement==="top"?$="bottom":C.crossPlacement==="bottom"&&($="top"));let z=bj(I,P[I],n[D],a,l,s,u);P[I]+=z;let j=u2e(P,a,u,f,i,s,n.height,$,l,y,A);p&&p<j&&(j=p),n.height=Math.min(n.height,j),P=W5(e,a,n,C,k,d,u,f,m,v,l),z=bj(I,P[I],n[D],a,l,s,u),P[I]+=z;let H={},W=e[I]-P[I]-i[sf[I]],O=W+.5*e[D];const G=m/2+v;var q,J,te,Y;const Z=sf[I]==="left"?((q=i.left)!==null&&q!==void 0?q:0)+((J=i.right)!==null&&J!==void 0?J:0):((te=i.top)!==null&&te!==void 0?te:0)+((Y=i.bottom)!==null&&Y!==void 0?Y:0),ee=n[D]-Z-m/2-v,ie=e[I]+m/2-(P[I]+i[sf[I]]),ue=e[I]+e[D]-m/2-(P[I]+i[sf[I]]),ae=Pl(O,ie,ue);H[I]=Pl(ae,G,ee),{placement:T,crossPlacement:M}=C,m?W=H[I]:M==="right"?W+=e[D]:M==="center"&&(W+=e[D]/2);let de=T==="left"||T==="top"?n[E]:0,ge={x:T==="top"||T==="bottom"?W:de,y:T==="left"||T==="right"?W:de};return{position:P,maxHeight:j,arrowOffsetLeft:H.left,arrowOffsetTop:H.top,placement:T,triggerAnchorPoint:ge}}function d2e(t){let{placement:e,targetNode:n,overlayNode:r,scrollNode:i,padding:s,shouldFlip:o,boundaryElement:a,offset:l,crossOffset:u,maxHeight:c,arrowSize:d=0,arrowBoundaryOffset:f=0}=t,p=o2e(),m=r instanceof HTMLElement?h2e(r):document.documentElement,v=m===document.documentElement;const y=window.getComputedStyle(m).position;let A=!!y&&y!=="static",C=v?n3(n,!1):Ej(n,m,!1);if(!v){let{marginTop:H,marginLeft:W}=window.getComputedStyle(n);C.top+=parseInt(H,10)||0,C.left+=parseInt(W,10)||0}let E=n3(r,!0),I=l2e(r);var D,T;E.width+=((D=I.left)!==null&&D!==void 0?D:0)+((T=I.right)!==null&&T!==void 0?T:0);var M,P;E.height+=((M=I.top)!==null&&M!==void 0?M:0)+((P=I.bottom)!==null&&P!==void 0?P:0);let k=a2e(i),L=vj(a,p),$=vj(m,p),z=Ej(a,m,!1),j=a.contains(m);return c2e(e,C,E,k,I,s,o,L,$,z,l,u,A,c,d,f,j,p)}function i$(t,e){let{top:n,left:r,width:i,height:s}=t.getBoundingClientRect();return e&&t instanceof t.ownerDocument.defaultView.HTMLElement&&(i=t.offsetWidth,s=t.offsetHeight),{top:n,left:r,width:i,height:s}}function n3(t,e){let{top:n,left:r,width:i,height:s}=i$(t,e),{scrollTop:o,scrollLeft:a,clientTop:l,clientLeft:u}=document.documentElement;return{top:n+o-l,left:r+a-u,width:i,height:s}}function Ej(t,e,n){let r=window.getComputedStyle(t),i;if(r.position==="fixed")i=i$(t,n);else{i=n3(t,n);let s=n3(e,n),o=window.getComputedStyle(e);s.top+=(parseInt(o.borderTopWidth,10)||0)-e.scrollTop,s.left+=(parseInt(o.borderLeftWidth,10)||0)-e.scrollLeft,i.top-=s.top,i.left-=s.left}return i.top-=parseInt(r.marginTop,10)||0,i.left-=parseInt(r.marginLeft,10)||0,i}function h2e(t){let e=t.offsetParent;if(e&&e===document.body&&window.getComputedStyle(e).position==="static"&&!Sj(e)&&(e=document.documentElement),e==null)for(e=t.parentElement;e&&!Sj(e);)e=e.parentElement;return e||document.documentElement}function Sj(t){let e=window.getComputedStyle(t);return e.transform!=="none"||/transform|perspective/.test(e.willChange)||e.filter!=="none"||e.contain==="paint"||"backdropFilter"in e&&e.backdropFilter!=="none"||"WebkitBackdropFilter"in e&&e.WebkitBackdropFilter!=="none"}const _Z=new WeakMap;function f2e(t){let{triggerRef:e,isOpen:n,onClose:r}=t;x.useEffect(()=>{if(!n||r===null)return;let i=s=>{let o=s.target;if(!e.current||o instanceof Node&&!o.contains(e.current)||s.target instanceof HTMLInputElement||s.target instanceof HTMLTextAreaElement)return;let a=r||_Z.get(e.current);a&&a()};return window.addEventListener("scroll",i,!0),()=>{window.removeEventListener("scroll",i,!0)}},[n,r,e])}const p2e=new Set(["Arab","Syrc","Samr","Mand","Thaa","Mend","Nkoo","Adlm","Rohg","Hebr"]),g2e=new Set(["ae","ar","arc","bcc","bqi","ckb","dv","fa","glk","he","ku","mzn","nqo","pnb","ps","sd","ug","ur","yi"]);function m2e(t){if(Intl.Locale){let n=new Intl.Locale(t).maximize(),r=typeof n.getTextInfo=="function"?n.getTextInfo():n.textInfo;if(r)return r.direction==="rtl";if(n.script)return p2e.has(n.script)}let e=t.split("-")[0];return g2e.has(e)}const IZ=Symbol.for("react-aria.i18n.locale");function BZ(){let t=typeof window<"u"&&window[IZ]||typeof navigator<"u"&&(navigator.language||navigator.userLanguage)||"en-US";try{Intl.DateTimeFormat.supportedLocalesOf([t])}catch{t="en-US"}return{locale:t,direction:m2e(t)?"rtl":"ltr"}}let U6=BZ(),Gw=new Set;function wj(){U6=BZ();for(let t of Gw)t(U6)}function A2e(){let t=ov(),[e,n]=x.useState(U6);return x.useEffect(()=>(Gw.size===0&&window.addEventListener("languagechange",wj),Gw.add(n),()=>{Gw.delete(n),Gw.size===0&&window.removeEventListener("languagechange",wj)}),[]),t?{locale:typeof window<"u"&&window[IZ]||"en-US",direction:"ltr"}:e}const y2e=xe.createContext(null);function yo(){let t=A2e();return x.useContext(y2e)||t}function xT(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function v2e(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(c){try{u(r.next(c))}catch(d){o(d)}}function l(c){try{u(r.throw(c))}catch(d){o(d)}}function u(c){c.done?s(c.value):i(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})}const b2e=Symbol.for("react-aria.i18n.locale"),x2e=Symbol.for("react-aria.i18n.strings");let g1;class Uy{getStringForLocale(e,n){let i=this.getStringsForLocale(n)[e];if(!i)throw new Error(`Could not find intl message ${e} in ${n} locale`);return i}getStringsForLocale(e){let n=this.strings[e];return n||(n=C2e(e,this.strings,this.defaultLocale),this.strings[e]=n),n}static getGlobalDictionaryForPackage(e){if(typeof window>"u")return null;let n=window[b2e];if(g1===void 0){let i=window[x2e];if(!i)return null;g1={};for(let s in i)g1[s]=new Uy({[n]:i[s]},n)}let r=g1?.[e];if(!r)throw new Error(`Strings for package "${e}" were not included by LocalizedStringProvider. Please add it to the list passed to createLocalizedStringDictionary.`);return r}constructor(e,n="en-US"){this.strings=Object.fromEntries(Object.entries(e).filter(([,r])=>r)),this.defaultLocale=n}}function C2e(t,e,n="en-US"){if(e[t])return e[t];let r=E2e(t);if(e[r])return e[r];for(let i in e)if(i.startsWith(r+"-"))return e[i];return e[n]}function E2e(t){return Intl.Locale?new Intl.Locale(t).language:t.split("-")[0]}const _j=new Map,Ij=new Map;class DZ{format(e,n){let r=this.strings.getStringForLocale(e,this.locale);return typeof r=="function"?r(n,this):r}plural(e,n,r="cardinal"){let i=n["="+e];if(i)return typeof i=="function"?i():i;let s=this.locale+":"+r,o=_j.get(s);o||(o=new Intl.PluralRules(this.locale,{type:r}),_j.set(s,o));let a=o.select(e);return i=n[a]||n.other,typeof i=="function"?i():i}number(e){let n=Ij.get(this.locale);return n||(n=new Intl.NumberFormat(this.locale),Ij.set(this.locale,n)),n.format(e)}select(e,n){let r=e[n]||e.other;return typeof r=="function"?r():r}constructor(e,n){this.locale=e,this.strings=n}}const Bj=new WeakMap;function S2e(t){let e=Bj.get(t);return e||(e=new Uy(t),Bj.set(t,e)),e}function w2e(t,e){return e&&Uy.getGlobalDictionaryForPackage(e)||S2e(t)}function Rl(t,e){let{locale:n}=yo(),r=w2e(t,e);return x.useMemo(()=>new DZ(n,r),[n,r])}function _2e(t={}){let{locale:e}=yo();return x.useMemo(()=>new Intl.ListFormat(e,t),[e,t])}function I2e(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function B2e(t,e,n){I2e(t,e),e.set(t,n)}let q5=new Map,H6=!1;try{H6=new Intl.NumberFormat("de-DE",{signDisplay:"exceptZero"}).resolvedOptions().signDisplay==="exceptZero"}catch{}let eD=!1;try{eD=new Intl.NumberFormat("de-DE",{style:"unit",unit:"degree"}).resolvedOptions().style==="unit"}catch{}const TZ={degree:{narrow:{default:"","ja-JP":" ","zh-TW":"","sl-SI":" "}}};class ev{format(e){let n="";if(!H6&&this.options.signDisplay!=null?n=T2e(this.numberFormatter,this.options.signDisplay,e):n=this.numberFormatter.format(e),this.options.style==="unit"&&!eD){var r;let{unit:i,unitDisplay:s="short",locale:o}=this.resolvedOptions();if(!i)return n;let a=(r=TZ[i])===null||r===void 0?void 0:r[s];n+=a[o]||a.default}return n}formatToParts(e){return this.numberFormatter.formatToParts(e)}formatRange(e,n){if(typeof this.numberFormatter.formatRange=="function")return this.numberFormatter.formatRange(e,n);if(n<e)throw new RangeError("End date must be >= start date");return`${this.format(e)}  ${this.format(n)}`}formatRangeToParts(e,n){if(typeof this.numberFormatter.formatRangeToParts=="function")return this.numberFormatter.formatRangeToParts(e,n);if(n<e)throw new RangeError("End date must be >= start date");let r=this.numberFormatter.formatToParts(e),i=this.numberFormatter.formatToParts(n);return[...r.map(s=>({...s,source:"startRange"})),{type:"literal",value:"  ",source:"shared"},...i.map(s=>({...s,source:"endRange"}))]}resolvedOptions(){let e=this.numberFormatter.resolvedOptions();return!H6&&this.options.signDisplay!=null&&(e={...e,signDisplay:this.options.signDisplay}),!eD&&this.options.style==="unit"&&(e={...e,style:"unit",unit:this.options.unit,unitDisplay:this.options.unitDisplay}),e}constructor(e,n={}){this.numberFormatter=D2e(e,n),this.options=n}}function D2e(t,e={}){let{numberingSystem:n}=e;if(n&&t.includes("-nu-")&&(t.includes("-u-")||(t+="-u-"),t+=`-nu-${n}`),e.style==="unit"&&!eD){var r;let{unit:o,unitDisplay:a="short"}=e;if(!o)throw new Error('unit option must be provided with style: "unit"');if(!(!((r=TZ[o])===null||r===void 0)&&r[a]))throw new Error(`Unsupported unit ${o} with unitDisplay = ${a}`);e={...e,style:"decimal"}}let i=t+(e?Object.entries(e).sort((o,a)=>o[0]<a[0]?-1:1).join():"");if(q5.has(i))return q5.get(i);let s=new Intl.NumberFormat(t,e);return q5.set(i,s),s}function T2e(t,e,n){if(e==="auto")return t.format(n);if(e==="never")return t.format(Math.abs(n));{let r=!1;if(e==="always"?r=n>0||Object.is(n,0):e==="exceptZero"&&(Object.is(n,-0)||Object.is(n,0)?n=Math.abs(n):r=n>0),r){let i=t.format(-n),s=t.format(n),o=i.replace(s,"").replace(/\u200e|\u061C/,"");return[...o].length!==1&&console.warn("@react-aria/i18n polyfill for NumberFormat signDisplay: Unsupported case"),i.replace(s,"!!!").replace(o,"+").replace("!!!",s)}else return t.format(n)}}const M2e=new RegExp("^.*\\(.*\\).*$"),k2e=["latn","arab","hanidec","deva","beng","fullwide"];class MZ{parse(e){return Y5(this.locale,this.options,e).parse(e)}isValidPartialNumber(e,n,r){return Y5(this.locale,this.options,e).isValidPartialNumber(e,n,r)}getNumberingSystem(e){return Y5(this.locale,this.options,e).options.numberingSystem}constructor(e,n={}){this.locale=e,this.options=n}}const Dj=new Map;function Y5(t,e,n){let r=Tj(t,e);if(!t.includes("-nu-")&&!r.isValidPartialNumber(n)){for(let i of k2e)if(i!==r.options.numberingSystem){let s=Tj(t+(t.includes("-u-")?"-nu-":"-u-nu-")+i,e);if(s.isValidPartialNumber(n))return s}}return r}function Tj(t,e){let n=t+(e?Object.entries(e).sort((i,s)=>i[0]<s[0]?-1:1).join():""),r=Dj.get(n);return r||(r=new P2e(t,e),Dj.set(n,r)),r}class P2e{parse(e){let n=this.sanitize(e);if(this.symbols.group&&(n=m1(n,this.symbols.group,"")),this.symbols.decimal&&(n=n.replace(this.symbols.decimal,".")),this.symbols.minusSign&&(n=n.replace(this.symbols.minusSign,"-")),n=n.replace(this.symbols.numeral,this.symbols.index),this.options.style==="percent"){let o=n.indexOf("-");n=n.replace("-",""),n=n.replace("+","");let a=n.indexOf(".");a===-1&&(a=n.length),n=n.replace(".",""),a-2===0?n=`0.${n}`:a-2===-1?n=`0.0${n}`:a-2===-2?n="0.00":n=`${n.slice(0,a-2)}.${n.slice(a-2)}`,o>-1&&(n=`-${n}`)}let r=n?+n:NaN;if(isNaN(r))return NaN;if(this.options.style==="percent"){var i,s;let o={...this.options,style:"decimal",minimumFractionDigits:Math.min(((i=this.options.minimumFractionDigits)!==null&&i!==void 0?i:0)+2,20),maximumFractionDigits:Math.min(((s=this.options.maximumFractionDigits)!==null&&s!==void 0?s:0)+2,20)};return new MZ(this.locale,o).parse(new ev(this.locale,o).format(r))}return this.options.currencySign==="accounting"&&M2e.test(e)&&(r=-1*r),r}sanitize(e){return e=e.replace(this.symbols.literals,""),this.symbols.minusSign&&(e=e.replace("-",this.symbols.minusSign)),this.options.numberingSystem==="arab"&&(this.symbols.decimal&&(e=e.replace(",",this.symbols.decimal),e=e.replace("",this.symbols.decimal)),this.symbols.group&&(e=m1(e,".",this.symbols.group))),this.symbols.group===""&&e.includes("'")&&(e=m1(e,"'",this.symbols.group)),this.options.locale==="fr-FR"&&this.symbols.group&&(e=m1(e," ",this.symbols.group),e=m1(e,/\u00A0/g,this.symbols.group)),e}isValidPartialNumber(e,n=-1/0,r=1/0){return e=this.sanitize(e),this.symbols.minusSign&&e.startsWith(this.symbols.minusSign)&&n<0?e=e.slice(this.symbols.minusSign.length):this.symbols.plusSign&&e.startsWith(this.symbols.plusSign)&&r>0&&(e=e.slice(this.symbols.plusSign.length)),this.symbols.group&&e.startsWith(this.symbols.group)||this.symbols.decimal&&e.indexOf(this.symbols.decimal)>-1&&this.options.maximumFractionDigits===0?!1:(this.symbols.group&&(e=m1(e,this.symbols.group,"")),e=e.replace(this.symbols.numeral,""),this.symbols.decimal&&(e=e.replace(this.symbols.decimal,"")),e.length===0)}constructor(e,n={}){this.locale=e,n.roundingIncrement!==1&&n.roundingIncrement!=null&&(n.maximumFractionDigits==null&&n.minimumFractionDigits==null?(n.maximumFractionDigits=0,n.minimumFractionDigits=0):n.maximumFractionDigits==null?n.maximumFractionDigits=n.minimumFractionDigits:n.minimumFractionDigits==null&&(n.minimumFractionDigits=n.maximumFractionDigits)),this.formatter=new Intl.NumberFormat(e,n),this.options=this.formatter.resolvedOptions(),this.symbols=N2e(e,this.formatter,this.options,n);var r,i;this.options.style==="percent"&&(((r=this.options.minimumFractionDigits)!==null&&r!==void 0?r:0)>18||((i=this.options.maximumFractionDigits)!==null&&i!==void 0?i:0)>18)&&console.warn("NumberParser cannot handle percentages with greater than 18 decimal places, please reduce the number in your options.")}}const Mj=new Set(["decimal","fraction","integer","minusSign","plusSign","group"]),R2e=[0,4,2,1,11,20,3,7,100,21,.1,1.1];function N2e(t,e,n,r){var i,s,o,a;let l=new Intl.NumberFormat(t,{...n,minimumSignificantDigits:1,maximumSignificantDigits:21,roundingIncrement:1,roundingPriority:"auto",roundingMode:"halfExpand"}),u=l.formatToParts(-10000.111),c=l.formatToParts(10000.111),d=R2e.map(L=>l.formatToParts(L));var f;let p=(f=(i=u.find(L=>L.type==="minusSign"))===null||i===void 0?void 0:i.value)!==null&&f!==void 0?f:"-",m=(s=c.find(L=>L.type==="plusSign"))===null||s===void 0?void 0:s.value;!m&&(r?.signDisplay==="exceptZero"||r?.signDisplay==="always")&&(m="+");let y=(o=new Intl.NumberFormat(t,{...n,minimumFractionDigits:2,maximumFractionDigits:2}).formatToParts(.001).find(L=>L.type==="decimal"))===null||o===void 0?void 0:o.value,A=(a=u.find(L=>L.type==="group"))===null||a===void 0?void 0:a.value,C=u.filter(L=>!Mj.has(L.type)).map(L=>kj(L.value)),E=d.flatMap(L=>L.filter($=>!Mj.has($.type)).map($=>kj($.value))),I=[...new Set([...C,...E])].sort((L,$)=>$.length-L.length),D=I.length===0?new RegExp("[\\p{White_Space}]","gu"):new RegExp(`${I.join("|")}|[\\p{White_Space}]`,"gu"),T=[...new Intl.NumberFormat(n.locale,{useGrouping:!1}).format(9876543210)].reverse(),M=new Map(T.map((L,$)=>[L,$])),P=new RegExp(`[${T.join("")}]`,"g");return{minusSign:p,plusSign:m,decimal:y,group:A,literals:D,numeral:P,index:L=>String(M.get(L))}}function m1(t,e,n){return t.replaceAll?t.replaceAll(e,n):t.split(e).join(n)}function kj(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function Pj(t={}){let{locale:e}=yo();return x.useMemo(()=>new ev(e,t),[e,t])}let X5=new Map;function s4(t){let{locale:e}=yo(),n=e+(t?Object.entries(t).sort((i,s)=>i[0]<s[0]?-1:1).join():"");if(X5.has(n))return X5.get(n);let r=new Intl.Collator(e,t);return X5.set(n,r),r}function L2e(t){let e=s4({usage:"search",...t}),n=x.useCallback((s,o)=>o.length===0?!0:(s=s.normalize("NFC"),o=o.normalize("NFC"),e.compare(s.slice(0,o.length),o)===0),[e]),r=x.useCallback((s,o)=>o.length===0?!0:(s=s.normalize("NFC"),o=o.normalize("NFC"),e.compare(s.slice(-o.length),o)===0),[e]),i=x.useCallback((s,o)=>{if(o.length===0)return!0;s=s.normalize("NFC"),o=o.normalize("NFC");let a=0,l=o.length;for(;a+l<=s.length;a++){let u=s.slice(a,a+l);if(e.compare(o,u)===0)return!0}return!1},[e]);return x.useMemo(()=>({startsWith:n,endsWith:r,contains:i}),[n,r,i])}let na=typeof document<"u"?window.visualViewport:null;function F2e(t){let{direction:e}=yo(),{arrowSize:n,targetRef:r,overlayRef:i,arrowRef:s,scrollRef:o=i,placement:a="bottom",containerPadding:l=12,shouldFlip:u=!0,boundaryElement:c=typeof document<"u"?document.body:null,offset:d=0,crossOffset:f=0,shouldUpdatePosition:p=!0,isOpen:m=!0,onClose:v,maxHeight:y,arrowBoundaryOffset:A=0}=t,[C,E]=x.useState(null),I=[p,a,i.current,r.current,s?.current,o.current,l,u,c,d,f,m,e,y,A,n],D=x.useRef(na?.scale);x.useEffect(()=>{m&&(D.current=na?.scale)},[m]);let T=x.useCallback(()=>{if(p===!1||!m||!i.current||!r.current||!c||na?.scale!==D.current)return;let z=null;if(o.current&&o.current.contains(document.activeElement)){var j;let te=(j=document.activeElement)===null||j===void 0?void 0:j.getBoundingClientRect(),Y=o.current.getBoundingClientRect();var H;if(z={type:"top",offset:((H=te?.top)!==null&&H!==void 0?H:0)-Y.top},z.offset>Y.height/2){z.type="bottom";var W;z.offset=((W=te?.bottom)!==null&&W!==void 0?W:0)-Y.bottom}}let O=i.current;if(!y&&i.current){var G;O.style.top="0px",O.style.bottom="";var q;O.style.maxHeight=((q=(G=window.visualViewport)===null||G===void 0?void 0:G.height)!==null&&q!==void 0?q:window.innerHeight)+"px"}let J=d2e({placement:z2e(a,e),overlayNode:i.current,targetNode:r.current,scrollNode:o.current||i.current,padding:l,shouldFlip:u,boundaryElement:c,offset:d,crossOffset:f,maxHeight:y,arrowSize:n??(s?.current?i$(s.current,!0).width:0),arrowBoundaryOffset:A});if(J.position){if(O.style.top="",O.style.bottom="",O.style.left="",O.style.right="",Object.keys(J.position).forEach(te=>O.style[te]=J.position[te]+"px"),O.style.maxHeight=J.maxHeight!=null?J.maxHeight+"px":"",z&&document.activeElement&&o.current){let te=document.activeElement.getBoundingClientRect(),Y=o.current.getBoundingClientRect(),Z=te[z.type]-Y[z.type];o.current.scrollTop+=Z-z.offset}E(J)}},I);di(T,I),$2e(T),e3({ref:i,onResize:T}),e3({ref:r,onResize:T});let M=x.useRef(!1);di(()=>{let z,j=()=>{M.current=!0,clearTimeout(z),z=setTimeout(()=>{M.current=!1},500),T()},H=()=>{M.current&&j()};return na?.addEventListener("resize",j),na?.addEventListener("scroll",H),()=>{na?.removeEventListener("resize",j),na?.removeEventListener("scroll",H)}},[T]);let P=x.useCallback(()=>{M.current||v?.()},[v,M]);f2e({triggerRef:r,isOpen:m,onClose:v&&P});var k,L,$;return{overlayProps:{style:{position:C?"absolute":"fixed",top:C?void 0:0,left:C?void 0:0,zIndex:1e5,...C?.position,maxHeight:(k=C?.maxHeight)!==null&&k!==void 0?k:"100vh"}},placement:(L=C?.placement)!==null&&L!==void 0?L:null,triggerAnchorPoint:($=C?.triggerAnchorPoint)!==null&&$!==void 0?$:null,arrowProps:{"aria-hidden":"true",role:"presentation",style:{left:C?.arrowOffsetLeft,top:C?.arrowOffsetTop}},updatePosition:T}}function $2e(t){di(()=>(window.addEventListener("resize",t,!1),()=>{window.removeEventListener("resize",t,!1)}),[t])}function z2e(t,e){return e==="rtl"?t.replace("start","right").replace("end","left"):t.replace("start","left").replace("end","right")}function s$(t){let e=t;return e.nativeEvent=t,e.isDefaultPrevented=()=>e.defaultPrevented,e.isPropagationStopped=()=>e.cancelBubble,e.persist=()=>{},e}function kZ(t,e){Object.defineProperty(t,"target",{value:e}),Object.defineProperty(t,"currentTarget",{value:e})}function PZ(t){let e=x.useRef({isFocused:!1,observer:null});return di(()=>{const n=e.current;return()=>{n.observer&&(n.observer.disconnect(),n.observer=null)}},[]),x.useCallback(n=>{if(n.target instanceof HTMLButtonElement||n.target instanceof HTMLInputElement||n.target instanceof HTMLTextAreaElement||n.target instanceof HTMLSelectElement){e.current.isFocused=!0;let r=n.target,i=s=>{if(e.current.isFocused=!1,r.disabled){let o=s$(s);t?.(o)}e.current.observer&&(e.current.observer.disconnect(),e.current.observer=null)};r.addEventListener("focusout",i,{once:!0}),e.current.observer=new MutationObserver(()=>{if(e.current.isFocused&&r.disabled){var s;(s=e.current.observer)===null||s===void 0||s.disconnect();let o=r===document.activeElement?null:document.activeElement;r.dispatchEvent(new FocusEvent("blur",{relatedTarget:o})),r.dispatchEvent(new FocusEvent("focusout",{bubbles:!0,relatedTarget:o}))}}),e.current.observer.observe(r,{attributes:!0,attributeFilter:["disabled"]})}},[t])}let tD=!1;function O2e(t){for(;t&&!OJ(t);)t=t.parentElement;let e=th(t),n=e.document.activeElement;if(!n||n===t)return;tD=!0;let r=!1,i=c=>{(c.target===n||r)&&c.stopImmediatePropagation()},s=c=>{(c.target===n||r)&&(c.stopImmediatePropagation(),!t&&!r&&(r=!0,ah(n),l()))},o=c=>{(c.target===t||r)&&c.stopImmediatePropagation()},a=c=>{(c.target===t||r)&&(c.stopImmediatePropagation(),r||(r=!0,ah(n),l()))};e.addEventListener("blur",i,!0),e.addEventListener("focusout",s,!0),e.addEventListener("focusin",a,!0),e.addEventListener("focus",o,!0);let l=()=>{cancelAnimationFrame(u),e.removeEventListener("blur",i,!0),e.removeEventListener("focusout",s,!0),e.removeEventListener("focusin",a,!0),e.removeEventListener("focus",o,!0),tD=!1,r=!1},u=requestAnimationFrame(l);return l}let Y1="default",V6="",IB=new WeakMap;function RZ(t){if(sC()){if(Y1==="default"){const e=xi(t);V6=e.documentElement.style.webkitUserSelect,e.documentElement.style.webkitUserSelect="none"}Y1="disabled"}else if(t instanceof HTMLElement||t instanceof SVGElement){let e="userSelect"in t.style?"userSelect":"webkitUserSelect";IB.set(t,t.style[e]),t.style[e]="none"}}function G6(t){if(sC()){if(Y1!=="disabled")return;Y1="restoring",setTimeout(()=>{NJ(()=>{if(Y1==="restoring"){const e=xi(t);e.documentElement.style.webkitUserSelect==="none"&&(e.documentElement.style.webkitUserSelect=V6||""),V6="",Y1="default"}})},300)}else if((t instanceof HTMLElement||t instanceof SVGElement)&&t&&IB.has(t)){let e=IB.get(t),n="userSelect"in t.style?"userSelect":"webkitUserSelect";t.style[n]==="none"&&(t.style[n]=e),t.getAttribute("style")===""&&t.removeAttribute("style"),IB.delete(t)}}const r3=xe.createContext({register:()=>{}});r3.displayName="PressResponderContext";function j2e(t,e){return e.get?e.get.call(t):e.value}function NZ(t,e,n){if(!e.has(t))throw new TypeError("attempted to "+n+" private field on non-instance");return e.get(t)}function Q2e(t,e){var n=NZ(t,e,"get");return j2e(t,n)}function U2e(t,e,n){if(e.set)e.set.call(t,n);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=n}}function Rj(t,e,n){var r=NZ(t,e,"set");return U2e(t,r,n),n}function H2e(t){let e=x.useContext(r3);if(e){let{register:n,...r}=e;t=on(r,t),n()}return e$(e,t.ref),t}var Z2=new WeakMap;class eI{continuePropagation(){Rj(this,Z2,!1)}get shouldStopPropagation(){return Q2e(this,Z2)}constructor(e,n,r,i){B2e(this,Z2,{writable:!0,value:void 0}),Rj(this,Z2,!0);var s;let o=(s=i?.target)!==null&&s!==void 0?s:r.currentTarget;const a=o?.getBoundingClientRect();let l,u=0,c,d=null;r.clientX!=null&&r.clientY!=null&&(c=r.clientX,d=r.clientY),a&&(c!=null&&d!=null?(l=c-a.left,u=d-a.top):(l=a.width/2,u=a.height/2)),this.type=e,this.pointerType=n,this.target=r.currentTarget,this.shiftKey=r.shiftKey,this.metaKey=r.metaKey,this.ctrlKey=r.ctrlKey,this.altKey=r.altKey,this.x=l,this.y=u}}const Nj=Symbol("linkClicked"),Lj="react-aria-pressable-style",Fj="data-react-aria-pressable";function tv(t){let{onPress:e,onPressChange:n,onPressStart:r,onPressEnd:i,onPressUp:s,onClick:o,isDisabled:a,isPressed:l,preventFocusOnPress:u,shouldCancelOnPointerExit:c,allowTextSelectionOnPress:d,ref:f,...p}=H2e(t),[m,v]=x.useState(!1),y=x.useRef({isPressed:!1,ignoreEmulatedMouseEvents:!1,didFirePressStart:!1,isTriggeringEvent:!1,activePointerId:null,target:null,isOverTarget:!1,pointerType:null,disposables:[]}),{addGlobalListener:A,removeAllGlobalListeners:C,removeGlobalListener:E}=lm(),I=x.useCallback((te,Y)=>{let Z=y.current;if(a||Z.didFirePressStart)return!1;let ee=!0;if(Z.isTriggeringEvent=!0,r){let ie=new eI("pressstart",Y,te);r(ie),ee=ie.shouldStopPropagation}return n&&n(!0),Z.isTriggeringEvent=!1,Z.didFirePressStart=!0,v(!0),ee},[a,r,n]),D=x.useCallback((te,Y,Z=!0)=>{let ee=y.current;if(!ee.didFirePressStart)return!1;ee.didFirePressStart=!1,ee.isTriggeringEvent=!0;let ie=!0;if(i){let ue=new eI("pressend",Y,te);i(ue),ie=ue.shouldStopPropagation}if(n&&n(!1),v(!1),e&&Z&&!a){let ue=new eI("press",Y,te);e(ue),ie&&(ie=ue.shouldStopPropagation)}return ee.isTriggeringEvent=!1,ie},[a,i,n,e]),T=eo(D),M=x.useCallback((te,Y)=>{let Z=y.current;if(a)return!1;if(s){Z.isTriggeringEvent=!0;let ee=new eI("pressup",Y,te);return s(ee),Z.isTriggeringEvent=!1,ee.shouldStopPropagation}return!0},[a,s]),P=eo(M),k=x.useCallback(te=>{let Y=y.current;if(Y.isPressed&&Y.target){Y.didFirePressStart&&Y.pointerType!=null&&D(kb(Y.target,te),Y.pointerType,!1),Y.isPressed=!1,q(null),Y.isOverTarget=!1,Y.activePointerId=null,Y.pointerType=null,C(),d||G6(Y.target);for(let Z of Y.disposables)Z();Y.disposables=[]}},[d,C,D]),L=eo(k),$=x.useCallback(te=>{c&&k(te)},[c,k]),z=x.useCallback(te=>{a||o?.(te)},[a,o]),j=x.useCallback((te,Y)=>{if(!a&&o){let Z=new MouseEvent("click",te);kZ(Z,Y),o(s$(Z))}},[a,o]),H=eo(j),[W,O]=x.useState(!1);di(()=>{let te=y.current;if(W){let Y=ue=>{var ae;if(te.isPressed&&te.target&&J5(ue,te.target)){var de;$j(ia(ue),ue.key)&&ue.preventDefault();let _e=ia(ue),we=cd(te.target,ia(ue));T(kb(te.target,ue),"keyboard",we),we&&H(ue,te.target),C(),ue.key!=="Enter"&&o$(te.target)&&cd(te.target,_e)&&!ue[Nj]&&(ue[Nj]=!0,j0(te.target,ue,!1)),te.isPressed=!1,O(!1),(de=te.metaKeyEvents)===null||de===void 0||de.delete(ue.key)}else if(ue.key==="Meta"&&(!((ae=te.metaKeyEvents)===null||ae===void 0)&&ae.size)){var ge;let _e=te.metaKeyEvents;te.metaKeyEvents=void 0;for(let we of _e.values())(ge=te.target)===null||ge===void 0||ge.dispatchEvent(new KeyboardEvent("keyup",we))}},Z=te.target,ie=If(ue=>{Z&&J5(ue,Z)&&!ue.repeat&&cd(Z,ia(ue))&&te.target&&P(kb(te.target,ue),"keyboard")},Y);return A(xi(te.target),"keyup",ie,!0),()=>{E(xi(te.target),"keyup",ie,!0)}}},[W,A,C,E]);let[G,q]=x.useState(null);di(()=>{let te=y.current;if(G==="pointer"){let Y=ee=>{if(ee.pointerId===te.activePointerId&&te.isPressed&&ee.button===0&&te.target){if(cd(te.target,ia(ee))&&te.pointerType!=null){let ie=!1,ue=setTimeout(()=>{te.isPressed&&te.target instanceof HTMLElement&&(ie?L(ee):(ah(te.target),te.target.click()))},80);A(ee.currentTarget,"click",()=>ie=!0,!0),te.disposables.push(()=>clearTimeout(ue))}else L(ee);te.isOverTarget=!1}},Z=ee=>{L(ee)};return A(xi(te.target),"pointerup",Y,!1),A(xi(te.target),"pointercancel",Z,!1),()=>{E(xi(te.target),"pointerup",Y,!1),E(xi(te.target),"pointercancel",Z,!1)}}},[G,A,E]);let J=x.useMemo(()=>{let te=y.current,Y={onKeyDown(Z){if(J5(Z.nativeEvent,Z.currentTarget)&&cd(Z.currentTarget,ia(Z.nativeEvent))){var ee;$j(ia(Z.nativeEvent),Z.key)&&Z.preventDefault();let ie=!0;!te.isPressed&&!Z.repeat&&(te.target=Z.currentTarget,te.isPressed=!0,O(!0),te.pointerType="keyboard",ie=I(Z,"keyboard")),ie&&Z.stopPropagation(),Z.metaKey&&O0()&&((ee=te.metaKeyEvents)===null||ee===void 0||ee.set(Z.key,Z.nativeEvent))}else Z.key==="Meta"&&(te.metaKeyEvents=new Map)},onClick(Z){if(!(Z&&!cd(Z.currentTarget,ia(Z.nativeEvent)))&&Z&&Z.button===0&&!te.isTriggeringEvent&&!j0.isOpening){let ee=!0;if(a&&Z.preventDefault(),!te.ignoreEmulatedMouseEvents&&!te.isPressed&&(te.pointerType==="virtual"||vT(Z.nativeEvent))){let ie=I(Z,"virtual"),ue=M(Z,"virtual"),ae=D(Z,"virtual");z(Z),ee=ie&&ue&&ae}else if(te.isPressed&&te.pointerType!=="keyboard"){let ie=te.pointerType||Z.nativeEvent.pointerType||"virtual",ue=M(kb(Z.currentTarget,Z),ie),ae=D(kb(Z.currentTarget,Z),ie,!0);ee=ue&&ae,te.isOverTarget=!1,z(Z),k(Z)}te.ignoreEmulatedMouseEvents=!1,ee&&Z.stopPropagation()}}};return typeof PointerEvent<"u"&&(Y.onPointerDown=Z=>{if(Z.button!==0||!cd(Z.currentTarget,ia(Z.nativeEvent)))return;if(t$(Z.nativeEvent)){te.pointerType="virtual";return}te.pointerType=Z.pointerType;let ee=!0;if(!te.isPressed){te.isPressed=!0,q("pointer"),te.isOverTarget=!0,te.activePointerId=Z.pointerId,te.target=Z.currentTarget,d||RZ(te.target),ee=I(Z,te.pointerType);let ie=ia(Z.nativeEvent);"releasePointerCapture"in ie&&ie.releasePointerCapture(Z.pointerId)}ee&&Z.stopPropagation()},Y.onMouseDown=Z=>{if(cd(Z.currentTarget,ia(Z.nativeEvent))&&Z.button===0){if(u){let ee=O2e(Z.target);ee&&te.disposables.push(ee)}Z.stopPropagation()}},Y.onPointerUp=Z=>{!cd(Z.currentTarget,ia(Z.nativeEvent))||te.pointerType==="virtual"||Z.button===0&&!te.isPressed&&M(Z,te.pointerType||Z.pointerType)},Y.onPointerEnter=Z=>{Z.pointerId===te.activePointerId&&te.target&&!te.isOverTarget&&te.pointerType!=null&&(te.isOverTarget=!0,I(kb(te.target,Z),te.pointerType))},Y.onPointerLeave=Z=>{Z.pointerId===te.activePointerId&&te.target&&te.isOverTarget&&te.pointerType!=null&&(te.isOverTarget=!1,D(kb(te.target,Z),te.pointerType,!1),$(Z))},Y.onDragStart=Z=>{cd(Z.currentTarget,ia(Z.nativeEvent))&&k(Z)}),Y},[a,u,C,d,k,$,D,I,M,z,j]);return x.useEffect(()=>{if(!f)return;const te=xi(f.current);if(!te||!te.head||te.getElementById(Lj))return;const Y=te.createElement("style");Y.id=Lj,Y.textContent=`
@layer {
  [${Fj}] {
    touch-action: pan-x pan-y pinch-zoom;
  }
}
    `.trim(),te.head.prepend(Y)},[f]),x.useEffect(()=>{let te=y.current;return()=>{var Y;d||G6((Y=te.target)!==null&&Y!==void 0?Y:void 0);for(let Z of te.disposables)Z();te.disposables=[]}},[d]),{isPressed:l||m,pressProps:on(p,J,{[Fj]:!0})}}function o$(t){return t.tagName==="A"&&t.hasAttribute("href")}function J5(t,e){const{key:n,code:r}=t,i=e,s=i.getAttribute("role");return(n==="Enter"||n===" "||n==="Spacebar"||r==="Space")&&!(i instanceof th(i).HTMLInputElement&&!LZ(i,n)||i instanceof th(i).HTMLTextAreaElement||i.isContentEditable)&&!((s==="link"||!s&&o$(i))&&n!=="Enter")}function kb(t,e){let n=e.clientX,r=e.clientY;return{currentTarget:t,shiftKey:e.shiftKey,ctrlKey:e.ctrlKey,metaKey:e.metaKey,altKey:e.altKey,clientX:n,clientY:r}}function V2e(t){return t instanceof HTMLInputElement?!1:t instanceof HTMLButtonElement?t.type!=="submit"&&t.type!=="reset":!o$(t)}function $j(t,e){return t instanceof HTMLInputElement?!LZ(t,e):V2e(t)}const G2e=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);function LZ(t,e){return t.type==="checkbox"||t.type==="radio"?e===" ":G2e.has(t.type)}let Q0=null,i3=new Set,p_=new Map,$x=!1,K6=!1;const K2e={Tab:!0,Escape:!0};function CT(t,e){for(let n of i3)n(t,e)}function W2e(t){return!(t.metaKey||!O0()&&t.altKey||t.ctrlKey||t.key==="Control"||t.key==="Shift"||t.key==="Meta")}function nD(t){$x=!0,!j0.isOpening&&W2e(t)&&(Q0="keyboard",CT("keyboard",t))}function cE(t){Q0="pointer","pointerType"in t&&t.pointerType,(t.type==="mousedown"||t.type==="pointerdown")&&($x=!0,CT("pointer",t))}function FZ(t){!j0.isOpening&&vT(t)&&($x=!0,Q0="virtual")}function $Z(t){t.target===window||t.target===document||tD||!t.isTrusted||(!$x&&!K6&&(Q0="virtual",CT("virtual",t)),$x=!1,K6=!1)}function zZ(){tD||($x=!1,K6=!0)}function rD(t){if(typeof window>"u"||typeof document>"u"||p_.get(th(t)))return;const e=th(t),n=xi(t);let r=e.HTMLElement.prototype.focus;e.HTMLElement.prototype.focus=function(){$x=!0,r.apply(this,arguments)},n.addEventListener("keydown",nD,!0),n.addEventListener("keyup",nD,!0),n.addEventListener("click",FZ,!0),e.addEventListener("focus",$Z,!0),e.addEventListener("blur",zZ,!1),typeof PointerEvent<"u"&&(n.addEventListener("pointerdown",cE,!0),n.addEventListener("pointermove",cE,!0),n.addEventListener("pointerup",cE,!0)),e.addEventListener("beforeunload",()=>{OZ(t)},{once:!0}),p_.set(e,{focus:r})}const OZ=(t,e)=>{const n=th(t),r=xi(t);e&&r.removeEventListener("DOMContentLoaded",e),p_.has(n)&&(n.HTMLElement.prototype.focus=p_.get(n).focus,r.removeEventListener("keydown",nD,!0),r.removeEventListener("keyup",nD,!0),r.removeEventListener("click",FZ,!0),n.removeEventListener("focus",$Z,!0),n.removeEventListener("blur",zZ,!1),typeof PointerEvent<"u"&&(r.removeEventListener("pointerdown",cE,!0),r.removeEventListener("pointermove",cE,!0),r.removeEventListener("pointerup",cE,!0)),p_.delete(n))};function q2e(t){const e=xi(t);let n;return e.readyState!=="loading"?rD(t):(n=()=>{rD(t)},e.addEventListener("DOMContentLoaded",n)),()=>OZ(t,n)}typeof document<"u"&&q2e();function s3(){return Q0!=="pointer"}function o3(){return Q0}function fx(t){Q0=t,CT(t,null)}function jZ(){rD();let[t,e]=x.useState(Q0);return x.useEffect(()=>{let n=()=>{e(Q0)};return i3.add(n),()=>{i3.delete(n)}},[]),ov()?null:t}const Y2e=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);function X2e(t,e,n){let r=xi(n?.target);const i=typeof window<"u"?th(n?.target).HTMLInputElement:HTMLInputElement,s=typeof window<"u"?th(n?.target).HTMLTextAreaElement:HTMLTextAreaElement,o=typeof window<"u"?th(n?.target).HTMLElement:HTMLElement,a=typeof window<"u"?th(n?.target).KeyboardEvent:KeyboardEvent;return t=t||r.activeElement instanceof i&&!Y2e.has(r.activeElement.type)||r.activeElement instanceof s||r.activeElement instanceof o&&r.activeElement.isContentEditable,!(t&&e==="keyboard"&&n instanceof a&&!K2e[n.key])}function J2e(t,e,n){rD(),x.useEffect(()=>{let r=(i,s)=>{X2e(!!n?.isTextInput,i,s)&&t(s3())};return i3.add(r),()=>{i3.delete(r)}},e)}function vc(t){const e=xi(t);if(o3()==="virtual"){let n=il(e);NJ(()=>{const r=il(e);(r===n||r===e.body)&&t.isConnected&&ah(t)})}else ah(t)}function ME(t){let{isDisabled:e,onFocus:n,onBlur:r,onFocusChange:i}=t;const s=x.useCallback(l=>{if(l.target===l.currentTarget)return r&&r(l),i&&i(!1),!0},[r,i]),o=PZ(s),a=x.useCallback(l=>{const u=xi(l.target),c=u?il(u):il();l.target===l.currentTarget&&c===ia(l.nativeEvent)&&(n&&n(l),i&&i(!0),o(l))},[i,n,o]);return{focusProps:{onFocus:!e&&(n||i||r)?a:void 0,onBlur:!e&&(r||i)?s:void 0}}}function zj(t){if(!t)return;let e=!0;return n=>{let r={...n,preventDefault(){n.preventDefault()},isDefaultPrevented(){return n.isDefaultPrevented()},stopPropagation(){e=!0},continuePropagation(){e=!1},isPropagationStopped(){return e}};t(r),e&&n.stopPropagation()}}function a$(t){return{keyboardProps:t.isDisabled?{}:{onKeyDown:zj(t.onKeyDown),onKeyUp:zj(t.onKeyUp)}}}let W6=xe.createContext(null);function Z2e(t){let e=x.useContext(W6)||{};e$(e,t);let{ref:n,...r}=e;return r}function sS(t,e){let{focusProps:n}=ME(t),{keyboardProps:r}=a$(t),i=on(n,r),s=Z2e(e),o=t.isDisabled?{}:s,a=x.useRef(t.autoFocus);x.useEffect(()=>{a.current&&e.current&&vc(e.current),a.current=!1},[e]);let l=t.excludeFromTabOrder?-1:0;return t.isDisabled&&(l=void 0),{focusableProps:on({...i,tabIndex:l},o)}}const eIe=xe.forwardRef(({children:t,...e},n)=>{let r=x.useRef(!1),i=x.useContext(r3);n=Hu(n||i?.ref);let s=on(i||{},{...e,ref:n,register(){r.current=!0,i&&i.register()}});return e$(i,n),x.useEffect(()=>{r.current||(r.current=!0)},[]),xe.createElement(r3.Provider,{value:s},t)});function tIe({children:t}){let e=x.useMemo(()=>({register:()=>{}}),[]);return xe.createElement(r3.Provider,{value:e},t)}function uv(t){let{isDisabled:e,onBlurWithin:n,onFocusWithin:r,onFocusWithinChange:i}=t,s=x.useRef({isFocusWithin:!1}),{addGlobalListener:o,removeAllGlobalListeners:a}=lm(),l=x.useCallback(d=>{d.currentTarget.contains(d.target)&&s.current.isFocusWithin&&!d.currentTarget.contains(d.relatedTarget)&&(s.current.isFocusWithin=!1,a(),n&&n(d),i&&i(!1))},[n,i,s,a]),u=PZ(l),c=x.useCallback(d=>{if(!d.currentTarget.contains(d.target))return;const f=xi(d.target),p=il(f);if(!s.current.isFocusWithin&&p===ia(d.nativeEvent)){r&&r(d),i&&i(!0),s.current.isFocusWithin=!0,u(d);let m=d.currentTarget;o(f,"focus",v=>{if(s.current.isFocusWithin&&!cd(m,v.target)){let y=new f.defaultView.FocusEvent("blur",{relatedTarget:v.target});kZ(y,m);let A=s$(y);l(A)}},{capture:!0})}},[r,i,u,o,l]);return e?{focusWithinProps:{onFocus:void 0,onBlur:void 0}}:{focusWithinProps:{onFocus:c,onBlur:l}}}let q6=!1,tI=0;function nIe(){q6=!0,setTimeout(()=>{q6=!1},50)}function Oj(t){t.pointerType==="touch"&&nIe()}function rIe(){if(!(typeof document>"u"))return tI===0&&typeof PointerEvent<"u"&&document.addEventListener("pointerup",Oj),tI++,()=>{tI--,!(tI>0)&&typeof PointerEvent<"u"&&document.removeEventListener("pointerup",Oj)}}function hh(t){let{onHoverStart:e,onHoverChange:n,onHoverEnd:r,isDisabled:i}=t,[s,o]=x.useState(!1),a=x.useRef({isHovered:!1,ignoreEmulatedMouseEvents:!1,pointerType:"",target:null}).current;x.useEffect(rIe,[]);let{addGlobalListener:l,removeAllGlobalListeners:u}=lm(),{hoverProps:c,triggerHoverEnd:d}=x.useMemo(()=>{let f=(v,y)=>{if(a.pointerType=y,i||y==="touch"||a.isHovered||!v.currentTarget.contains(v.target))return;a.isHovered=!0;let A=v.currentTarget;a.target=A,l(xi(v.target),"pointerover",C=>{a.isHovered&&a.target&&!cd(a.target,C.target)&&p(C,C.pointerType)},{capture:!0}),e&&e({type:"hoverstart",target:A,pointerType:y}),n&&n(!0),o(!0)},p=(v,y)=>{let A=a.target;a.pointerType="",a.target=null,!(y==="touch"||!a.isHovered||!A)&&(a.isHovered=!1,u(),r&&r({type:"hoverend",target:A,pointerType:y}),n&&n(!1),o(!1))},m={};return typeof PointerEvent<"u"&&(m.onPointerEnter=v=>{q6&&v.pointerType==="mouse"||f(v,v.pointerType)},m.onPointerLeave=v=>{!i&&v.currentTarget.contains(v.target)&&p(v,v.pointerType)}),{hoverProps:m,triggerHoverEnd:p}},[e,n,r,i,a,l,u]);return x.useEffect(()=>{i&&d({currentTarget:a.target},a.pointerType)},[i]),{hoverProps:c,isHovered:s}}function iIe(t){let{ref:e,onInteractOutside:n,isDisabled:r,onInteractOutsideStart:i}=t,s=x.useRef({isPointerDown:!1,ignoreEmulatedMouseEvents:!1}),o=eo(l=>{n&&jj(l,e)&&(i&&i(l),s.current.isPointerDown=!0)}),a=eo(l=>{n&&n(l)});x.useEffect(()=>{let l=s.current;if(r)return;const u=e.current,c=xi(u);if(typeof PointerEvent<"u"){let d=f=>{l.isPointerDown&&jj(f,e)&&a(f),l.isPointerDown=!1};return c.addEventListener("pointerdown",o,!0),c.addEventListener("click",d,!0),()=>{c.removeEventListener("pointerdown",o,!0),c.removeEventListener("click",d,!0)}}},[e,r])}function jj(t,e){if(t.button>0)return!1;if(t.target){const n=t.target.ownerDocument;if(!n||!n.documentElement.contains(t.target)||t.target.closest("[data-react-aria-top-layer]"))return!1}return e.current?!t.composedPath().includes(e.current):!1}function iD(t){let{onMoveStart:e,onMove:n,onMoveEnd:r}=t,i=x.useRef({didMove:!1,lastPosition:null,id:null}),{addGlobalListener:s,removeGlobalListener:o}=lm(),a=x.useCallback((m,v,y,A)=>{y===0&&A===0||(i.current.didMove||(i.current.didMove=!0,e?.({type:"movestart",pointerType:v,shiftKey:m.shiftKey,metaKey:m.metaKey,ctrlKey:m.ctrlKey,altKey:m.altKey})),n?.({type:"move",pointerType:v,deltaX:y,deltaY:A,shiftKey:m.shiftKey,metaKey:m.metaKey,ctrlKey:m.ctrlKey,altKey:m.altKey}))},[e,n,i]),l=eo(a),u=x.useCallback((m,v)=>{G6(),i.current.didMove&&r?.({type:"moveend",pointerType:v,shiftKey:m.shiftKey,metaKey:m.metaKey,ctrlKey:m.ctrlKey,altKey:m.altKey})},[r,i]),c=eo(u),[d,f]=x.useState(null);return di(()=>{if(d==="pointer"){let m=y=>{if(y.pointerId===i.current.id){var A,C;let D=y.pointerType||"mouse";var E,I;l(y,D,y.pageX-((E=(A=i.current.lastPosition)===null||A===void 0?void 0:A.pageX)!==null&&E!==void 0?E:0),y.pageY-((I=(C=i.current.lastPosition)===null||C===void 0?void 0:C.pageY)!==null&&I!==void 0?I:0)),i.current.lastPosition={pageX:y.pageX,pageY:y.pageY}}},v=y=>{if(y.pointerId===i.current.id){let A=y.pointerType||"mouse";c(y,A),i.current.id=null,o(window,"pointermove",m,!1),o(window,"pointerup",v,!1),o(window,"pointercancel",v,!1),f(null)}};return s(window,"pointermove",m,!1),s(window,"pointerup",v,!1),s(window,"pointercancel",v,!1),()=>{o(window,"pointermove",m,!1),o(window,"pointerup",v,!1),o(window,"pointercancel",v,!1)}}},[d,s,o]),{moveProps:x.useMemo(()=>{let m={},v=()=>{RZ(),i.current.didMove=!1};m.onPointerDown=A=>{A.button===0&&i.current.id==null&&(v(),A.stopPropagation(),A.preventDefault(),i.current.lastPosition={pageX:A.pageX,pageY:A.pageY},i.current.id=A.pointerId,f("pointer"))};let y=(A,C,E)=>{v(),a(A,"keyboard",C,E),u(A,"keyboard")};return m.onKeyDown=A=>{switch(A.key){case"Left":case"ArrowLeft":A.preventDefault(),A.stopPropagation(),y(A,-1,0);break;case"Right":case"ArrowRight":A.preventDefault(),A.stopPropagation(),y(A,1,0);break;case"Up":case"ArrowUp":A.preventDefault(),A.stopPropagation(),y(A,0,-1);break;case"Down":case"ArrowDown":A.preventDefault(),A.stopPropagation(),y(A,0,1);break}},m},[i,a,u])}}function QZ(t,e){let{onScroll:n,isDisabled:r}=t,i=x.useCallback(s=>{s.ctrlKey||(s.preventDefault(),s.stopPropagation(),n&&n({deltaX:s.deltaX,deltaY:s.deltaY}))},[n]);q1(e,"wheel",r?void 0:i)}const sIe=500;function UZ(t){let{isDisabled:e,onLongPressStart:n,onLongPressEnd:r,onLongPress:i,threshold:s=sIe,accessibilityDescription:o}=t;const a=x.useRef(void 0);let{addGlobalListener:l,removeGlobalListener:u}=lm(),{pressProps:c}=tv({isDisabled:e,onPressStart(f){if(f.continuePropagation(),(f.pointerType==="mouse"||f.pointerType==="touch")&&(n&&n({...f,type:"longpressstart"}),a.current=setTimeout(()=>{f.target.dispatchEvent(new PointerEvent("pointercancel",{bubbles:!0})),xi(f.target).activeElement!==f.target&&ah(f.target),i&&i({...f,type:"longpress"}),a.current=void 0},s),f.pointerType==="touch")){let p=m=>{m.preventDefault()};l(f.target,"contextmenu",p,{once:!0}),l(window,"pointerup",()=>{setTimeout(()=>{u(f.target,"contextmenu",p)},30)},{once:!0})}},onPressEnd(f){a.current&&clearTimeout(a.current),r&&(f.pointerType==="mouse"||f.pointerType==="touch")&&r({...f,type:"longpressend"})}}),d=i4(i&&!e?o:void 0);return{longPressProps:on(c,d)}}const Qj=xe.createContext(null),Y6="react-aria-focus-scope-restore";let zs=null;function ET(t){let{children:e,contain:n,restoreFocus:r,autoFocus:i}=t,s=x.useRef(null),o=x.useRef(null),a=x.useRef([]),{parentNode:l}=x.useContext(Qj)||{},u=x.useMemo(()=>new J6({scopeRef:a}),[a]);di(()=>{let f=l||Ma.root;if(Ma.getTreeNode(f.scopeRef)&&zs&&!sD(zs,f.scopeRef)){let p=Ma.getTreeNode(zs);p&&(f=p)}f.addChild(u),Ma.addNode(u)},[u,l]),di(()=>{let f=Ma.getTreeNode(a);f&&(f.contain=!!n)},[n]),di(()=>{var f;let p=(f=s.current)===null||f===void 0?void 0:f.nextSibling,m=[],v=y=>y.stopPropagation();for(;p&&p!==o.current;)m.push(p),p.addEventListener(Y6,v),p=p.nextSibling;return a.current=m,()=>{for(let y of m)y.removeEventListener(Y6,v)}},[e]),dIe(a,r,n),lIe(a,n),hIe(a,r,n),cIe(a,i),x.useEffect(()=>{const f=il(xi(a.current?a.current[0]:void 0));let p=null;if(xf(f,a.current)){for(let m of Ma.traverse())m.scopeRef&&xf(f,m.scopeRef.current)&&(p=m);p===Ma.getTreeNode(a)&&(zs=p.scopeRef)}},[a]),di(()=>()=>{var f,p,m;let v=(m=(p=Ma.getTreeNode(a))===null||p===void 0||(f=p.parent)===null||f===void 0?void 0:f.scopeRef)!==null&&m!==void 0?m:null;(a===zs||sD(a,zs))&&(!v||Ma.getTreeNode(v))&&(zs=v),Ma.removeTreeNode(a)},[a]);let c=x.useMemo(()=>oIe(a),[]),d=x.useMemo(()=>({focusManager:c,parentNode:u}),[u,c]);return xe.createElement(Qj.Provider,{value:d},xe.createElement("span",{"data-focus-scope-start":!0,hidden:!0,ref:s}),e,xe.createElement("span",{"data-focus-scope-end":!0,hidden:!0,ref:o}))}function oIe(t){return{focusNext(e={}){let n=t.current,{from:r,tabbable:i,wrap:s,accept:o}=e;var a;let l=r||il(xi((a=n[0])!==null&&a!==void 0?a:void 0)),u=n[0].previousElementSibling,c=px(n),d=iu(c,{tabbable:i,accept:o},n);d.currentNode=xf(l,n)?l:u;let f=d.nextNode();return!f&&s&&(d.currentNode=u,f=d.nextNode()),f&&fd(f,!0),f},focusPrevious(e={}){let n=t.current,{from:r,tabbable:i,wrap:s,accept:o}=e;var a;let l=r||il(xi((a=n[0])!==null&&a!==void 0?a:void 0)),u=n[n.length-1].nextElementSibling,c=px(n),d=iu(c,{tabbable:i,accept:o},n);d.currentNode=xf(l,n)?l:u;let f=d.previousNode();return!f&&s&&(d.currentNode=u,f=d.previousNode()),f&&fd(f,!0),f},focusFirst(e={}){let n=t.current,{tabbable:r,accept:i}=e,s=px(n),o=iu(s,{tabbable:r,accept:i},n);o.currentNode=n[0].previousElementSibling;let a=o.nextNode();return a&&fd(a,!0),a},focusLast(e={}){let n=t.current,{tabbable:r,accept:i}=e,s=px(n),o=iu(s,{tabbable:r,accept:i},n);o.currentNode=n[n.length-1].nextElementSibling;let a=o.previousNode();return a&&fd(a,!0),a}}}function px(t){return t[0].parentElement}function Kw(t){let e=Ma.getTreeNode(zs);for(;e&&e.scopeRef!==t;){if(e.contain)return!1;e=e.parent}return!0}function aIe(t){if(t.checked)return!0;let e=[];if(!t.form)e=[...xi(t).querySelectorAll(`input[type="radio"][name="${CSS.escape(t.name)}"]`)].filter(s=>!s.form);else{var n,r;let s=(r=t.form)===null||r===void 0||(n=r.elements)===null||n===void 0?void 0:n.namedItem(t.name);e=[...s??[]]}return e?!e.some(s=>s.checked):!1}function lIe(t,e){let n=x.useRef(void 0),r=x.useRef(void 0);di(()=>{let i=t.current;if(!e){r.current&&(cancelAnimationFrame(r.current),r.current=void 0);return}const s=xi(i?i[0]:void 0);let o=u=>{if(u.key!=="Tab"||u.altKey||u.ctrlKey||u.metaKey||!Kw(t)||u.isComposing)return;let c=il(s),d=t.current;if(!d||!xf(c,d))return;let f=px(d),p=iu(f,{tabbable:!0},d);if(!c)return;p.currentNode=c;let m=u.shiftKey?p.previousNode():p.nextNode();m||(p.currentNode=u.shiftKey?d[d.length-1].nextElementSibling:d[0].previousElementSibling,m=u.shiftKey?p.previousNode():p.nextNode()),u.preventDefault(),m&&fd(m,!0)},a=u=>{(!zs||sD(zs,t))&&xf(ia(u),t.current)?(zs=t,n.current=ia(u)):Kw(t)&&!Ny(ia(u),t)?n.current?n.current.focus():zs&&zs.current&&X6(zs.current):Kw(t)&&(n.current=ia(u))},l=u=>{r.current&&cancelAnimationFrame(r.current),r.current=requestAnimationFrame(()=>{let c=o3(),d=(c==="virtual"||c===null)&&n4()&&PJ(),f=il(s);if(!d&&f&&Kw(t)&&!Ny(f,t)){zs=t;let m=ia(u);if(m&&m.isConnected){var p;n.current=m,(p=n.current)===null||p===void 0||p.focus()}else zs.current&&X6(zs.current)}})};return s.addEventListener("keydown",o,!1),s.addEventListener("focusin",a,!1),i?.forEach(u=>u.addEventListener("focusin",a,!1)),i?.forEach(u=>u.addEventListener("focusout",l,!1)),()=>{s.removeEventListener("keydown",o,!1),s.removeEventListener("focusin",a,!1),i?.forEach(u=>u.removeEventListener("focusin",a,!1)),i?.forEach(u=>u.removeEventListener("focusout",l,!1))}},[t,e]),di(()=>()=>{r.current&&cancelAnimationFrame(r.current)},[r])}function HZ(t){return Ny(t)}function xf(t,e){return!t||!e?!1:e.some(n=>n.contains(t))}function Ny(t,e=null){if(t instanceof Element&&t.closest("[data-react-aria-top-layer]"))return!0;for(let{scopeRef:n}of Ma.traverse(Ma.getTreeNode(e)))if(n&&xf(t,n.current))return!0;return!1}function uIe(t){return Ny(t,zs)}function sD(t,e){var n;let r=(n=Ma.getTreeNode(e))===null||n===void 0?void 0:n.parent;for(;r;){if(r.scopeRef===t)return!0;r=r.parent}return!1}function fd(t,e=!1){if(t!=null&&!e)try{vc(t)}catch{}else if(t!=null)try{t.focus()}catch{}}function VZ(t,e=!0){let n=t[0].previousElementSibling,r=px(t),i=iu(r,{tabbable:e},t);i.currentNode=n;let s=i.nextNode();return e&&!s&&(r=px(t),i=iu(r,{tabbable:!1},t),i.currentNode=n,s=i.nextNode()),s}function X6(t,e=!0){fd(VZ(t,e))}function cIe(t,e){const n=xe.useRef(e);x.useEffect(()=>{if(n.current){zs=t;const r=xi(t.current?t.current[0]:void 0);!xf(il(r),zs.current)&&t.current&&X6(t.current)}n.current=!1},[t])}function dIe(t,e,n){di(()=>{if(e||n)return;let r=t.current;const i=xi(r?r[0]:void 0);let s=o=>{let a=ia(o);xf(a,t.current)?zs=t:HZ(a)||(zs=null)};return i.addEventListener("focusin",s,!1),r?.forEach(o=>o.addEventListener("focusin",s,!1)),()=>{i.removeEventListener("focusin",s,!1),r?.forEach(o=>o.removeEventListener("focusin",s,!1))}},[t,e,n])}function Uj(t){let e=Ma.getTreeNode(zs);for(;e&&e.scopeRef!==t;){if(e.nodeToRestore)return!1;e=e.parent}return e?.scopeRef===t}function hIe(t,e,n){const r=x.useRef(typeof document<"u"?il(xi(t.current?t.current[0]:void 0)):null);di(()=>{let i=t.current;const s=xi(i?i[0]:void 0);if(!e||n)return;let o=()=>{(!zs||sD(zs,t))&&xf(il(s),t.current)&&(zs=t)};return s.addEventListener("focusin",o,!1),i?.forEach(a=>a.addEventListener("focusin",o,!1)),()=>{s.removeEventListener("focusin",o,!1),i?.forEach(a=>a.removeEventListener("focusin",o,!1))}},[t,n]),di(()=>{const i=xi(t.current?t.current[0]:void 0);if(!e)return;let s=o=>{if(o.key!=="Tab"||o.altKey||o.ctrlKey||o.metaKey||!Kw(t)||o.isComposing)return;let a=i.activeElement;if(!Ny(a,t)||!Uj(t))return;let l=Ma.getTreeNode(t);if(!l)return;let u=l.nodeToRestore,c=iu(i.body,{tabbable:!0});c.currentNode=a;let d=o.shiftKey?c.previousNode():c.nextNode();if((!u||!u.isConnected||u===i.body)&&(u=void 0,l.nodeToRestore=void 0),(!d||!Ny(d,t))&&u){c.currentNode=u;do d=o.shiftKey?c.previousNode():c.nextNode();while(Ny(d,t));o.preventDefault(),o.stopPropagation(),d?fd(d,!0):HZ(u)?fd(u,!0):a.blur()}};return n||i.addEventListener("keydown",s,!0),()=>{n||i.removeEventListener("keydown",s,!0)}},[t,e,n]),di(()=>{const i=xi(t.current?t.current[0]:void 0);if(!e)return;let s=Ma.getTreeNode(t);if(s){var o;return s.nodeToRestore=(o=r.current)!==null&&o!==void 0?o:void 0,()=>{let a=Ma.getTreeNode(t);if(!a)return;let l=a.nodeToRestore,u=il(i);if(e&&l&&(u&&Ny(u,t)||u===i.body&&Uj(t))){let c=Ma.clone();requestAnimationFrame(()=>{if(i.activeElement===i.body){let d=c.getTreeNode(t);for(;d;){if(d.nodeToRestore&&d.nodeToRestore.isConnected){Hj(d.nodeToRestore);return}d=d.parent}for(d=c.getTreeNode(t);d;){if(d.scopeRef&&d.scopeRef.current&&Ma.getTreeNode(d.scopeRef)){let f=VZ(d.scopeRef.current,!0);Hj(f);return}d=d.parent}}})}}}},[t,e])}function Hj(t){t.dispatchEvent(new CustomEvent(Y6,{bubbles:!0,cancelable:!0}))&&fd(t)}function iu(t,e,n){let r=e?.tabbable?jJ:OJ,i=t?.nodeType===Node.ELEMENT_NODE?t:null,s=xi(i),o=I4e(s,t||s,NodeFilter.SHOW_ELEMENT,{acceptNode(a){var l;return!(e==null||(l=e.from)===null||l===void 0)&&l.contains(a)||e?.tabbable&&a.tagName==="INPUT"&&a.getAttribute("type")==="radio"&&(!aIe(a)||o.currentNode.tagName==="INPUT"&&o.currentNode.type==="radio"&&o.currentNode.name===a.name)?NodeFilter.FILTER_REJECT:r(a)&&(!n||xf(a,n))&&(!e?.accept||e.accept(a))?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});return e?.from&&(o.currentNode=e.from),o}function fIe(t,e={}){return{focusNext(n={}){let r=t.current;if(!r)return null;let{from:i,tabbable:s=e.tabbable,wrap:o=e.wrap,accept:a=e.accept}=n,l=i||il(xi(r)),u=iu(r,{tabbable:s,accept:a});r.contains(l)&&(u.currentNode=l);let c=u.nextNode();return!c&&o&&(u.currentNode=r,c=u.nextNode()),c&&fd(c,!0),c},focusPrevious(n=e){let r=t.current;if(!r)return null;let{from:i,tabbable:s=e.tabbable,wrap:o=e.wrap,accept:a=e.accept}=n,l=i||il(xi(r)),u=iu(r,{tabbable:s,accept:a});if(r.contains(l))u.currentNode=l;else{let d=Z5(u);return d&&fd(d,!0),d??null}let c=u.previousNode();if(!c&&o){u.currentNode=r;let d=Z5(u);if(!d)return null;c=d}return c&&fd(c,!0),c??null},focusFirst(n=e){let r=t.current;if(!r)return null;let{tabbable:i=e.tabbable,accept:s=e.accept}=n,a=iu(r,{tabbable:i,accept:s}).nextNode();return a&&fd(a,!0),a},focusLast(n=e){let r=t.current;if(!r)return null;let{tabbable:i=e.tabbable,accept:s=e.accept}=n,o=iu(r,{tabbable:i,accept:s}),a=Z5(o);return a&&fd(a,!0),a??null}}}function Z5(t){let e,n;do n=t.lastChild(),n&&(e=n);while(n);return e}class l${get size(){return this.fastMap.size}getTreeNode(e){return this.fastMap.get(e)}addTreeNode(e,n,r){let i=this.fastMap.get(n??null);if(!i)return;let s=new J6({scopeRef:e});i.addChild(s),s.parent=i,this.fastMap.set(e,s),r&&(s.nodeToRestore=r)}addNode(e){this.fastMap.set(e.scopeRef,e)}removeTreeNode(e){if(e===null)return;let n=this.fastMap.get(e);if(!n)return;let r=n.parent;for(let s of this.traverse())s!==n&&n.nodeToRestore&&s.nodeToRestore&&n.scopeRef&&n.scopeRef.current&&xf(s.nodeToRestore,n.scopeRef.current)&&(s.nodeToRestore=n.nodeToRestore);let i=n.children;r&&(r.removeChild(n),i.size>0&&i.forEach(s=>r&&r.addChild(s))),this.fastMap.delete(n.scopeRef)}*traverse(e=this.root){if(e.scopeRef!=null&&(yield e),e.children.size>0)for(let n of e.children)yield*this.traverse(n)}clone(){var e;let n=new l$;var r;for(let i of this.traverse())n.addTreeNode(i.scopeRef,(r=(e=i.parent)===null||e===void 0?void 0:e.scopeRef)!==null&&r!==void 0?r:null,i.nodeToRestore);return n}constructor(){this.fastMap=new Map,this.root=new J6({scopeRef:null}),this.fastMap.set(null,this.root)}}class J6{addChild(e){this.children.add(e),e.parent=this}removeChild(e){this.children.delete(e),e.parent=void 0}constructor(e){this.children=new Set,this.contain=!1,this.scopeRef=e.scopeRef}}let Ma=new l$;function su(t={}){let{autoFocus:e=!1,isTextInput:n,within:r}=t,i=x.useRef({isFocused:!1,isFocusVisible:e||s3()}),[s,o]=x.useState(!1),[a,l]=x.useState(()=>i.current.isFocused&&i.current.isFocusVisible),u=x.useCallback(()=>l(i.current.isFocused&&i.current.isFocusVisible),[]),c=x.useCallback(p=>{i.current.isFocused=p,o(p),u()},[u]);J2e(p=>{i.current.isFocusVisible=p,u()},[],{isTextInput:n});let{focusProps:d}=ME({isDisabled:r,onFocusChange:c}),{focusWithinProps:f}=uv({isDisabled:!r,onFocusWithinChange:c});return{isFocused:s,isFocusVisible:a,focusProps:r?f:d}}function GZ(t,e){let n=e?.isDisabled,[r,i]=x.useState(!1);return di(()=>{if(t?.current&&!n){let s=()=>{if(t.current){let a=iu(t.current,{tabbable:!0});i(!!a.nextNode())}};s();let o=new MutationObserver(s);return o.observe(t.current,{subtree:!0,childList:!0,attributes:!0,attributeFilter:["tabIndex","disabled"]}),()=>{o.disconnect()}}}),n?!1:r}function KZ(t){let e=gIe(xi(t));e!==t&&(e&&pIe(e,t),t&&u$(t,e))}function pIe(t,e){t.dispatchEvent(new FocusEvent("blur",{relatedTarget:e})),t.dispatchEvent(new FocusEvent("focusout",{bubbles:!0,relatedTarget:e}))}function u$(t,e){t.dispatchEvent(new FocusEvent("focus",{relatedTarget:e})),t.dispatchEvent(new FocusEvent("focusin",{bubbles:!0,relatedTarget:e}))}function gIe(t){let e=il(t),n=e?.getAttribute("aria-activedescendant");return n&&t.getElementById(n)||e}const Lg=[];function WZ(t,e){let{onClose:n,shouldCloseOnBlur:r,isOpen:i,isDismissable:s=!1,isKeyboardDismissDisabled:o=!1,shouldCloseOnInteractOutside:a}=t;x.useEffect(()=>{if(i&&!Lg.includes(e))return Lg.push(e),()=>{let m=Lg.indexOf(e);m>=0&&Lg.splice(m,1)}},[i,e]);let l=()=>{Lg[Lg.length-1]===e&&n&&n()},u=m=>{(!a||a(m.target))&&Lg[Lg.length-1]===e&&(m.stopPropagation(),m.preventDefault())},c=m=>{(!a||a(m.target))&&(Lg[Lg.length-1]===e&&(m.stopPropagation(),m.preventDefault()),l())},d=m=>{m.key==="Escape"&&!o&&!m.nativeEvent.isComposing&&(m.stopPropagation(),m.preventDefault(),l())};iIe({ref:e,onInteractOutside:s&&i?c:void 0,onInteractOutsideStart:u});let{focusWithinProps:f}=uv({isDisabled:!r,onBlurWithin:m=>{!m.relatedTarget||uIe(m.relatedTarget)||(!a||a(m.relatedTarget))&&n?.()}}),p=m=>{m.target===m.currentTarget&&m.preventDefault()};return{overlayProps:{onKeyDown:d,...f},underlayProps:{onPointerDown:p}}}function qZ(t,e,n){let{type:r}=t,{isOpen:i}=e;x.useEffect(()=>{n&&n.current&&_Z.set(n.current,e.close)});let s;r==="menu"?s=!0:r==="listbox"&&(s="listbox");let o=Us();return{triggerProps:{"aria-haspopup":s,"aria-expanded":i,"aria-controls":i?o:void 0,onPress:e.toggle},overlayProps:{id:o}}}const g_=typeof document<"u"&&window.visualViewport;let nI=0,ek;function YZ(t={}){let{isDisabled:e}=t;di(()=>{if(!e)return nI++,nI===1&&(sC()?ek=AIe():ek=mIe()),()=>{nI--,nI===0&&ek()}},[e])}function mIe(){let t=window.innerWidth-document.documentElement.clientWidth;return If(t>0&&("scrollbarGutter"in document.documentElement.style?tk(document.documentElement,"scrollbarGutter","stable"):tk(document.documentElement,"paddingRight",`${t}px`)),tk(document.documentElement,"overflow","hidden"))}function AIe(){let t,e=!1,n=l=>{let u=l.target;t=Zy(u)?u:Kg(u,!0),e=!1;let c=u.ownerDocument.defaultView.getSelection();c&&!c.isCollapsed&&c.containsNode(u,!0)&&(e=!0),"selectionStart"in u&&"selectionEnd"in u&&u.selectionStart<u.selectionEnd&&u.ownerDocument.activeElement===u&&(e=!0)},r=document.createElement("style");r.textContent=`
@layer {
  * {
    overscroll-behavior: contain;
  }
}`.trim(),document.head.prepend(r);let i=l=>{if(!(l.touches.length===2||e)){if(!t||t===document.documentElement||t===document.body){l.preventDefault();return}t.scrollHeight===t.clientHeight&&t.scrollWidth===t.clientWidth&&l.preventDefault()}},s=l=>{let u=l.target,c=l.relatedTarget;if(c&&f_(c))c.focus({preventScroll:!0}),Vj(c,f_(u));else if(!c){var d;let f=(d=u.parentElement)===null||d===void 0?void 0:d.closest("[tabindex]");f?.focus({preventScroll:!0})}},o=HTMLElement.prototype.focus;HTMLElement.prototype.focus=function(l){let u=document.activeElement!=null&&f_(document.activeElement);o.call(this,{...l,preventScroll:!0}),(!l||!l.preventScroll)&&Vj(this,u)};let a=If(nk(document,"touchstart",n,{passive:!1,capture:!0}),nk(document,"touchmove",i,{passive:!1,capture:!0}),nk(document,"blur",s,!0));return()=>{a(),r.remove(),HTMLElement.prototype.focus=o}}function tk(t,e,n){let r=t.style[e];return t.style[e]=n,()=>{t.style[e]=r}}function nk(t,e,n,r){return t.addEventListener(e,n,r),()=>{t.removeEventListener(e,n,r)}}function Vj(t,e){e||!g_?Gj(t):g_.addEventListener("resize",()=>Gj(t),{once:!0})}function Gj(t){let e=document.scrollingElement||document.documentElement,n=t;for(;n&&n!==e;){let r=Kg(n);if(r!==document.documentElement&&r!==document.body&&r!==n){let i=r.getBoundingClientRect(),s=n.getBoundingClientRect();if(s.top<i.top||s.bottom>i.top+n.clientHeight){let o=i.bottom;g_&&(o=Math.min(o,g_.offsetTop+g_.height));let a=s.top-i.top-((o-i.top)/2-s.height/2);r.scrollTo({top:Math.max(0,Math.min(r.scrollHeight-r.clientHeight,r.scrollTop+a)),behavior:"smooth"})}}n=r.parentElement}}const yIe=x.createContext({});function vIe(){var t;return(t=x.useContext(yIe))!==null&&t!==void 0?t:{}}var XZ={};XZ={dismiss:""};var JZ={};JZ={dismiss:""};var ZZ={};ZZ={dismiss:"Odstranit"};var eee={};eee={dismiss:"Luk"};var tee={};tee={dismiss:"Schlieen"};var nee={};nee={dismiss:""};var ree={};ree={dismiss:"Dismiss"};var iee={};iee={dismiss:"Descartar"};var see={};see={dismiss:"Lpeta"};var oee={};oee={dismiss:"Hylk"};var aee={};aee={dismiss:"Rejeter"};var lee={};lee={dismiss:""};var uee={};uee={dismiss:"Odbaci"};var cee={};cee={dismiss:"Elutasts"};var dee={};dee={dismiss:"Ignora"};var hee={};hee={dismiss:""};var fee={};fee={dismiss:""};var pee={};pee={dismiss:"Atmesti"};var gee={};gee={dismiss:"Nerdt"};var mee={};mee={dismiss:"Lukk"};var Aee={};Aee={dismiss:"Negeren"};var yee={};yee={dismiss:"Zignoruj"};var vee={};vee={dismiss:"Descartar"};var bee={};bee={dismiss:"Dispensar"};var xee={};xee={dismiss:"Revocare"};var Cee={};Cee={dismiss:""};var Eee={};Eee={dismiss:"Zrui"};var See={};See={dismiss:"Opusti"};var wee={};wee={dismiss:"Odbaci"};var _ee={};_ee={dismiss:"Avvisa"};var Iee={};Iee={dismiss:"Kapat"};var Bee={};Bee={dismiss:""};var Dee={};Dee={dismiss:""};var Tee={};Tee={dismiss:""};var Mee={};Mee={"ar-AE":XZ,"bg-BG":JZ,"cs-CZ":ZZ,"da-DK":eee,"de-DE":tee,"el-GR":nee,"en-US":ree,"es-ES":iee,"et-EE":see,"fi-FI":oee,"fr-FR":aee,"he-IL":lee,"hr-HR":uee,"hu-HU":cee,"it-IT":dee,"ja-JP":hee,"ko-KR":fee,"lt-LT":pee,"lv-LV":gee,"nb-NO":mee,"nl-NL":Aee,"pl-PL":yee,"pt-BR":vee,"pt-PT":bee,"ro-RO":xee,"ru-RU":Cee,"sk-SK":Eee,"sl-SI":See,"sr-SP":wee,"sv-SE":_ee,"tr-TR":Iee,"uk-UA":Bee,"zh-CN":Dee,"zh-TW":Tee};const Kj={border:0,clip:"rect(0 0 0 0)",clipPath:"inset(50%)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"absolute",width:"1px",whiteSpace:"nowrap"};function oC(t={}){let{style:e,isFocusable:n}=t,[r,i]=x.useState(!1),{focusWithinProps:s}=uv({isDisabled:!n,onFocusWithinChange:a=>i(a)}),o=x.useMemo(()=>r?e:e?{...Kj,...e}:Kj,[r]);return{visuallyHiddenProps:{...s,style:o}}}function ST(t){let{children:e,elementType:n="div",isFocusable:r,style:i,...s}=t,{visuallyHiddenProps:o}=oC(t);return xe.createElement(n,on(s,o),e)}function bIe(t){return t&&t.__esModule?t.default:t}function Z6(t){let{onDismiss:e,...n}=t,r=Rl(bIe(Mee),"@react-aria/overlays"),i=tm(n,r.format("dismiss")),s=()=>{e&&e()};return xe.createElement(ST,null,xe.createElement("button",{...i,tabIndex:-1,onClick:s,style:{width:1,height:1}}))}const xIe=typeof HTMLElement<"u"&&"inert"in HTMLElement.prototype;let aw=new WeakMap,ld=[];function wT(t,e){let n=th(t?.[0]),r=e instanceof n.Element?{root:e}:e;var i;let s=(i=r?.root)!==null&&i!==void 0?i:document.body,o=r?.shouldUseInert&&xIe,a=new Set(t),l=new Set,u=v=>o&&v instanceof n.HTMLElement?v.inert:v.getAttribute("aria-hidden")==="true",c=(v,y)=>{o&&v instanceof n.HTMLElement?v.inert=y:y?v.setAttribute("aria-hidden","true"):(v.removeAttribute("aria-hidden"),v instanceof n.HTMLElement&&(v.inert=!1))},d=v=>{for(let E of v.querySelectorAll("[data-live-announcer], [data-react-aria-top-layer]"))a.add(E);let y=E=>{if(l.has(E)||a.has(E)||E.parentElement&&l.has(E.parentElement)&&E.parentElement.getAttribute("role")!=="row")return NodeFilter.FILTER_REJECT;for(let I of a)if(E.contains(I))return NodeFilter.FILTER_SKIP;return NodeFilter.FILTER_ACCEPT},A=document.createTreeWalker(v,NodeFilter.SHOW_ELEMENT,{acceptNode:y}),C=y(v);if(C===NodeFilter.FILTER_ACCEPT&&f(v),C!==NodeFilter.FILTER_REJECT){let E=A.nextNode();for(;E!=null;)f(E),E=A.nextNode()}},f=v=>{var y;let A=(y=aw.get(v))!==null&&y!==void 0?y:0;u(v)&&A===0||(A===0&&c(v,!0),l.add(v),aw.set(v,A+1))};ld.length&&ld[ld.length-1].disconnect(),d(s);let p=new MutationObserver(v=>{for(let y of v)if(y.type==="childList"&&![...a,...l].some(A=>A.contains(y.target)))for(let A of y.addedNodes)(A instanceof HTMLElement||A instanceof SVGElement)&&(A.dataset.liveAnnouncer==="true"||A.dataset.reactAriaTopLayer==="true")?a.add(A):A instanceof Element&&d(A)});p.observe(s,{childList:!0,subtree:!0});let m={visibleNodes:a,hiddenNodes:l,observe(){p.observe(s,{childList:!0,subtree:!0})},disconnect(){p.disconnect()}};return ld.push(m),()=>{p.disconnect();for(let v of l){let y=aw.get(v);y!=null&&(y===1?(c(v,!1),aw.delete(v)):aw.set(v,y-1))}m===ld[ld.length-1]?(ld.pop(),ld.length&&ld[ld.length-1].observe()):ld.splice(ld.indexOf(m),1)}}function CIe(t){let e=ld[ld.length-1];if(e&&!e.visibleNodes.has(t))return e.visibleNodes.add(t),()=>{e.visibleNodes.delete(t)}}function EIe(t,e){let{triggerRef:n,popoverRef:r,groupRef:i,isNonModal:s,isKeyboardDismissDisabled:o,shouldCloseOnInteractOutside:a,...l}=t,u=l.trigger==="SubmenuTrigger",{overlayProps:c,underlayProps:d}=WZ({isOpen:e.isOpen,onClose:e.close,shouldCloseOnBlur:!0,isDismissable:!s||u,isKeyboardDismissDisabled:o,shouldCloseOnInteractOutside:a},i??r),{overlayProps:f,arrowProps:p,placement:m,triggerAnchorPoint:v}=F2e({...l,targetRef:n,overlayRef:r,isOpen:e.isOpen,onClose:s&&!u?e.close:null});return YZ({isDisabled:s||!e.isOpen}),x.useEffect(()=>{if(e.isOpen&&r.current){var y,A;return s?CIe((y=i?.current)!==null&&y!==void 0?y:r.current):wT([(A=i?.current)!==null&&A!==void 0?A:r.current],{shouldUseInert:!0})}},[s,e.isOpen,r,i]),{popoverProps:on(c,f),arrowProps:p,underlayProps:d,placement:m,triggerAnchorPoint:v}}const kee=xe.createContext(null);function e8(t){let e=ov(),{portalContainer:n=e?null:document.body,isExiting:r}=t,[i,s]=x.useState(!1),o=x.useMemo(()=>({contain:i,setContain:s}),[i,s]),{getContainer:a}=vIe();if(!t.portalContainer&&a&&(n=a()),!n)return null;let l=t.children;return t.disableFocusManagement||(l=xe.createElement(ET,{restoreFocus:!0,contain:(t.shouldContainFocus||i)&&!r},l)),l=xe.createElement(kee.Provider,{value:o},xe.createElement(tIe,null,l)),oAe.createPortal(l,n)}function Pee(){let t=x.useContext(kee),e=t?.setContain;di(()=>{e?.(!0)},[e])}function SIe(t,e,n){let{overlayProps:r,underlayProps:i}=WZ({...t,isOpen:e.isOpen,onClose:e.close},n);return YZ({isDisabled:!e.isOpen}),Pee(),x.useEffect(()=>{if(e.isOpen&&n.current)return wT([n.current],{shouldUseInert:!0})},[e.isOpen,n]),{modalProps:on(r),underlayProps:i}}const _T=new WeakMap;function wIe(t){return typeof t=="string"?t.replace(/\s*/g,""):""+t}function Ree(t,e){let n=_T.get(t);if(!n)throw new Error("Unknown list");return`${n.id}-option-${wIe(e)}`}function IT(t){let{id:e,label:n,"aria-labelledby":r,"aria-label":i,labelElementType:s="label"}=t;e=Us(e);let o=Us(),a={};n&&(r=r?`${o} ${r}`:o,a={id:o,htmlFor:s==="label"?e:void 0});let l=tm({id:e,"aria-label":i,"aria-labelledby":r});return{labelProps:a,fieldProps:l}}function c$(t){let{description:e,errorMessage:n,isInvalid:r,validationState:i}=t,{labelProps:s,fieldProps:o}=IT(t),a=TE([!!e,!!n,r,i]),l=TE([!!e,!!n,r,i]);return o=on(o,{"aria-describedby":[a,l,t["aria-describedby"]].filter(Boolean).join(" ")||void 0}),{labelProps:s,fieldProps:o,descriptionProps:{id:a},errorMessageProps:{id:l}}}function t8(t){return _B()?t.altKey:t.ctrlKey}function BB(t,e){var n,r;let i=`[data-key="${CSS.escape(String(e))}"]`,s=(n=t.current)===null||n===void 0?void 0:n.dataset.collection;return s&&(i=`[data-collection="${CSS.escape(s)}"]${i}`),(r=t.current)===null||r===void 0?void 0:r.querySelector(i)}const Nee=new WeakMap;function _Ie(t){let e=Us();return Nee.set(t,e),e}function IIe(t){return Nee.get(t)}const BIe=1e3;function Lee(t){let{keyboardDelegate:e,selectionManager:n,onTypeSelect:r}=t,i=x.useRef({search:"",timeout:void 0}).current,s=o=>{let a=DIe(o.key);if(!(!a||o.ctrlKey||o.metaKey||!o.currentTarget.contains(o.target)||i.search.length===0&&a===" ")){if(a===" "&&i.search.trim().length>0&&(o.preventDefault(),"continuePropagation"in o||o.stopPropagation()),i.search+=a,e.getKeyForSearch!=null){let l=e.getKeyForSearch(i.search,n.focusedKey);l==null&&(l=e.getKeyForSearch(i.search)),l!=null&&(n.setFocusedKey(l),r&&r(l))}clearTimeout(i.timeout),i.timeout=setTimeout(()=>{i.search=""},BIe)}};return{typeSelectProps:{onKeyDownCapture:e.getKeyForSearch?s:void 0}}}function DIe(t){return t.length===1||!/^[A-Z]/i.test(t)?t:""}function d$(t){let{selectionManager:e,keyboardDelegate:n,ref:r,autoFocus:i=!1,shouldFocusWrap:s=!1,disallowEmptySelection:o=!1,disallowSelectAll:a=!1,escapeKeyBehavior:l="clearSelection",selectOnFocus:u=e.selectionBehavior==="replace",disallowTypeAhead:c=!1,shouldUseVirtualFocus:d,allowsTabNavigation:f=!1,isVirtualized:p,scrollRef:m=r,linkBehavior:v="action"}=t,{direction:y}=yo(),A=r4(),C=W=>{var O;if(W.altKey&&W.key==="Tab"&&W.preventDefault(),!(!((O=r.current)===null||O===void 0)&&O.contains(W.target)))return;const G=(we,ke)=>{if(we!=null){if(e.isLink(we)&&v==="selection"&&u&&!t8(W)){Xy.flushSync(()=>{e.setFocusedKey(we,ke)});let Fe=BB(r,we),Ee=e.getItemProps(we);Fe&&A.open(Fe,W,Ee.href,Ee.routerOptions);return}if(e.setFocusedKey(we,ke),e.isLink(we)&&v==="override")return;W.shiftKey&&e.selectionMode==="multiple"?e.extendSelection(we):u&&!t8(W)&&e.replaceSelection(we)}};switch(W.key){case"ArrowDown":if(n.getKeyBelow){var q,J,te;let we=e.focusedKey!=null?(q=n.getKeyBelow)===null||q===void 0?void 0:q.call(n,e.focusedKey):(J=n.getFirstKey)===null||J===void 0?void 0:J.call(n);we==null&&s&&(we=(te=n.getFirstKey)===null||te===void 0?void 0:te.call(n,e.focusedKey)),we!=null&&(W.preventDefault(),G(we))}break;case"ArrowUp":if(n.getKeyAbove){var Y,Z,ee;let we=e.focusedKey!=null?(Y=n.getKeyAbove)===null||Y===void 0?void 0:Y.call(n,e.focusedKey):(Z=n.getLastKey)===null||Z===void 0?void 0:Z.call(n);we==null&&s&&(we=(ee=n.getLastKey)===null||ee===void 0?void 0:ee.call(n,e.focusedKey)),we!=null&&(W.preventDefault(),G(we))}break;case"ArrowLeft":if(n.getKeyLeftOf){var ie,ue,ae;let we=e.focusedKey!=null?(ie=n.getKeyLeftOf)===null||ie===void 0?void 0:ie.call(n,e.focusedKey):null;we==null&&s&&(we=y==="rtl"?(ue=n.getFirstKey)===null||ue===void 0?void 0:ue.call(n,e.focusedKey):(ae=n.getLastKey)===null||ae===void 0?void 0:ae.call(n,e.focusedKey)),we!=null&&(W.preventDefault(),G(we,y==="rtl"?"first":"last"))}break;case"ArrowRight":if(n.getKeyRightOf){var de,ge,_e;let we=e.focusedKey!=null?(de=n.getKeyRightOf)===null||de===void 0?void 0:de.call(n,e.focusedKey):null;we==null&&s&&(we=y==="rtl"?(ge=n.getLastKey)===null||ge===void 0?void 0:ge.call(n,e.focusedKey):(_e=n.getFirstKey)===null||_e===void 0?void 0:_e.call(n,e.focusedKey)),we!=null&&(W.preventDefault(),G(we,y==="rtl"?"last":"first"))}break;case"Home":if(n.getFirstKey){if(e.focusedKey===null&&W.shiftKey)return;W.preventDefault();let we=n.getFirstKey(e.focusedKey,z1(W));e.setFocusedKey(we),we!=null&&(z1(W)&&W.shiftKey&&e.selectionMode==="multiple"?e.extendSelection(we):u&&e.replaceSelection(we))}break;case"End":if(n.getLastKey){if(e.focusedKey===null&&W.shiftKey)return;W.preventDefault();let we=n.getLastKey(e.focusedKey,z1(W));e.setFocusedKey(we),we!=null&&(z1(W)&&W.shiftKey&&e.selectionMode==="multiple"?e.extendSelection(we):u&&e.replaceSelection(we))}break;case"PageDown":if(n.getKeyPageBelow&&e.focusedKey!=null){let we=n.getKeyPageBelow(e.focusedKey);we!=null&&(W.preventDefault(),G(we))}break;case"PageUp":if(n.getKeyPageAbove&&e.focusedKey!=null){let we=n.getKeyPageAbove(e.focusedKey);we!=null&&(W.preventDefault(),G(we))}break;case"a":z1(W)&&e.selectionMode==="multiple"&&a!==!0&&(W.preventDefault(),e.selectAll());break;case"Escape":l==="clearSelection"&&!o&&e.selectedKeys.size!==0&&(W.stopPropagation(),W.preventDefault(),e.clearSelection());break;case"Tab":if(!f){if(W.shiftKey)r.current.focus();else{let we=iu(r.current,{tabbable:!0}),ke,Fe;do Fe=we.lastChild(),Fe&&(ke=Fe);while(Fe);ke&&(!ke.contains(document.activeElement)||document.activeElement&&!jJ(document.activeElement))&&ah(ke)}break}}},E=x.useRef({top:0,left:0});q1(m,"scroll",p?void 0:()=>{var W,O,G,q;E.current={top:(G=(W=m.current)===null||W===void 0?void 0:W.scrollTop)!==null&&G!==void 0?G:0,left:(q=(O=m.current)===null||O===void 0?void 0:O.scrollLeft)!==null&&q!==void 0?q:0}});let I=W=>{if(e.isFocused){W.currentTarget.contains(W.target)||e.setFocused(!1);return}if(W.currentTarget.contains(W.target)){if(e.setFocused(!0),e.focusedKey==null){var O,G;let te=Z=>{Z!=null&&(e.setFocusedKey(Z),u&&!e.isSelected(Z)&&e.replaceSelection(Z))},Y=W.relatedTarget;var q,J;Y&&W.currentTarget.compareDocumentPosition(Y)&Node.DOCUMENT_POSITION_FOLLOWING?te((q=e.lastSelectedKey)!==null&&q!==void 0?q:(O=n.getLastKey)===null||O===void 0?void 0:O.call(n)):te((J=e.firstSelectedKey)!==null&&J!==void 0?J:(G=n.getFirstKey)===null||G===void 0?void 0:G.call(n))}else!p&&m.current&&(m.current.scrollTop=E.current.top,m.current.scrollLeft=E.current.left);if(e.focusedKey!=null&&m.current){let te=BB(r,e.focusedKey);te instanceof HTMLElement&&(!te.contains(document.activeElement)&&!d&&ah(te),o3()==="keyboard"&&Sy(te,{containingElement:r.current}))}}},D=W=>{W.currentTarget.contains(W.relatedTarget)||e.setFocused(!1)},T=x.useRef(!1);q1(r,Y4e,d?W=>{let{detail:O}=W;W.stopPropagation(),e.setFocused(!0),O?.focusStrategy==="first"&&(T.current=!0)}:void 0),mj(()=>{if(T.current){var W,O;let G=(O=(W=n.getFirstKey)===null||W===void 0?void 0:W.call(n))!==null&&O!==void 0?O:null;if(G==null){let q=il();KZ(r.current),u$(q,null),e.collection.size>0&&(T.current=!1)}else e.setFocusedKey(G),T.current=!1}},[e.collection]),mj(()=>{e.collection.size>0&&(T.current=!1)},[e.focusedKey]),q1(r,q4e,d?W=>{var O;W.stopPropagation(),e.setFocused(!1),!((O=W.detail)===null||O===void 0)&&O.clearFocusKey&&e.setFocusedKey(null)}:void 0);const M=x.useRef(i),P=x.useRef(!1);x.useEffect(()=>{if(M.current){var W,O;let J=null;var G;i==="first"&&(J=(G=(W=n.getFirstKey)===null||W===void 0?void 0:W.call(n))!==null&&G!==void 0?G:null);var q;i==="last"&&(J=(q=(O=n.getLastKey)===null||O===void 0?void 0:O.call(n))!==null&&q!==void 0?q:null);let te=e.selectedKeys;if(te.size){for(let Y of te)if(e.canSelectItem(Y)){J=Y;break}}e.setFocused(!0),e.setFocusedKey(J),J==null&&!d&&r.current&&vc(r.current),e.collection.size>0&&(M.current=!1,P.current=!0)}});let k=x.useRef(e.focusedKey),L=x.useRef(null);x.useEffect(()=>{if(e.isFocused&&e.focusedKey!=null&&(e.focusedKey!==k.current||P.current)&&m.current&&r.current){let W=o3(),O=BB(r,e.focusedKey);if(!(O instanceof HTMLElement))return;(W==="keyboard"||P.current)&&(L.current&&cancelAnimationFrame(L.current),L.current=requestAnimationFrame(()=>{m.current&&(FJ(m.current,O),W!=="virtual"&&Sy(O,{containingElement:r.current}))}))}!d&&e.isFocused&&e.focusedKey==null&&k.current!=null&&r.current&&vc(r.current),k.current=e.focusedKey,P.current=!1}),x.useEffect(()=>()=>{L.current&&cancelAnimationFrame(L.current)},[]),q1(r,"react-aria-focus-scope-restore",W=>{W.preventDefault(),e.setFocused(!0)});let $={onKeyDown:C,onFocus:I,onBlur:D,onMouseDown(W){m.current===W.target&&W.preventDefault()}},{typeSelectProps:z}=Lee({keyboardDelegate:n,selectionManager:e});c||($=on(z,$));let j;d||(j=e.focusedKey==null?0:-1);let H=_Ie(e.collection);return{collectionProps:on($,{tabIndex:j,"data-collection":H})}}function h$(t){let{id:e,selectionManager:n,key:r,ref:i,shouldSelectOnPressUp:s,shouldUseVirtualFocus:o,focus:a,isDisabled:l,onAction:u,allowsDifferentPressOrigin:c,linkBehavior:d="action"}=t,f=r4();e=Us(e);let p=te=>{if(te.pointerType==="keyboard"&&t8(te))n.toggleSelection(r);else{if(n.selectionMode==="none")return;if(n.isLink(r)){if(d==="selection"&&i.current){let Y=n.getItemProps(r);f.open(i.current,te,Y.href,Y.routerOptions),n.setSelectedKeys(n.selectedKeys);return}else if(d==="override"||d==="none")return}n.selectionMode==="single"?n.isSelected(r)&&!n.disallowEmptySelection?n.toggleSelection(r):n.replaceSelection(r):te&&te.shiftKey?n.extendSelection(r):n.selectionBehavior==="toggle"||te&&(z1(te)||te.pointerType==="touch"||te.pointerType==="virtual")?n.toggleSelection(r):n.replaceSelection(r)}};x.useEffect(()=>{r===n.focusedKey&&n.isFocused&&(o?KZ(i.current):a?a():document.activeElement!==i.current&&i.current&&vc(i.current))},[i,r,n.focusedKey,n.childFocusStrategy,n.isFocused,o]),l=l||n.isDisabled(r);let m={};!o&&!l?m={tabIndex:r===n.focusedKey?0:-1,onFocus(te){te.target===i.current&&n.setFocusedKey(r)}}:l&&(m.onMouseDown=te=>{te.preventDefault()});let v=n.isLink(r)&&d==="override",y=u&&t.UNSTABLE_itemBehavior==="action",A=n.isLink(r)&&d!=="selection"&&d!=="none",C=!l&&n.canSelectItem(r)&&!v&&!y,E=(u||A)&&!l,I=E&&(n.selectionBehavior==="replace"?!C:!C||n.isEmpty),D=E&&C&&n.selectionBehavior==="replace",T=I||D,M=x.useRef(null),P=T&&C,k=x.useRef(!1),L=x.useRef(!1),$=n.getItemProps(r),z=te=>{if(u){var Y;u(),(Y=i.current)===null||Y===void 0||Y.dispatchEvent(new CustomEvent("react-aria-item-action",{bubbles:!0}))}A&&i.current&&f.open(i.current,te,$.href,$.routerOptions)},j={ref:i};if(s?(j.onPressStart=te=>{M.current=te.pointerType,k.current=P,te.pointerType==="keyboard"&&(!T||qj())&&p(te)},c?(j.onPressUp=I?void 0:te=>{te.pointerType==="mouse"&&C&&p(te)},j.onPress=I?z:te=>{te.pointerType!=="keyboard"&&te.pointerType!=="mouse"&&C&&p(te)}):j.onPress=te=>{if(I||D&&te.pointerType!=="mouse"){if(te.pointerType==="keyboard"&&!Wj())return;z(te)}else te.pointerType!=="keyboard"&&C&&p(te)}):(j.onPressStart=te=>{M.current=te.pointerType,k.current=P,L.current=I,C&&(te.pointerType==="mouse"&&!I||te.pointerType==="keyboard"&&(!E||qj()))&&p(te)},j.onPress=te=>{(te.pointerType==="touch"||te.pointerType==="pen"||te.pointerType==="virtual"||te.pointerType==="keyboard"&&T&&Wj()||te.pointerType==="mouse"&&L.current)&&(T?z(te):C&&p(te))}),m["data-collection"]=IIe(n.collection),m["data-key"]=r,j.preventFocusOnPress=o,o&&(j=on(j,{onPressStart(te){te.pointerType!=="touch"&&(n.setFocused(!0),n.setFocusedKey(r))},onPress(te){te.pointerType==="touch"&&(n.setFocused(!0),n.setFocusedKey(r))}})),$)for(let te of["onPressStart","onPressEnd","onPressChange","onPress","onPressUp","onClick"])$[te]&&(j[te]=If(j[te],$[te]));let{pressProps:H,isPressed:W}=tv(j),O=D?te=>{M.current==="mouse"&&(te.stopPropagation(),te.preventDefault(),z(te))}:void 0,{longPressProps:G}=UZ({isDisabled:!P,onLongPress(te){te.pointerType==="touch"&&(p(te),n.setSelectionBehavior("toggle"))}}),q=te=>{M.current==="touch"&&k.current&&te.preventDefault()},J=d!=="none"&&n.isLink(r)?te=>{j0.isOpening||te.preventDefault()}:void 0;return{itemProps:on(m,C||I||o&&!l?H:{},P?G:{},{onDoubleClick:O,onDragStartCapture:q,onClick:J,id:e},o?{onMouseDown:te=>te.preventDefault()}:void 0),isPressed:W,isSelected:n.isSelected(r),isFocused:n.isFocused&&n.focusedKey===r,isDisabled:l,allowsSelection:C,hasAction:T}}function Wj(){let t=window.event;return t?.key==="Enter"}function qj(){let t=window.event;return t?.key===" "||t?.code==="Space"}class Yj{getItemRect(e){let n=this.ref.current;if(!n)return null;let r=e!=null?BB(this.ref,e):null;if(!r)return null;let i=n.getBoundingClientRect(),s=r.getBoundingClientRect();return{x:s.left-i.left-n.clientLeft+n.scrollLeft,y:s.top-i.top-n.clientTop+n.scrollTop,width:s.width,height:s.height}}getContentSize(){let e=this.ref.current;var n,r;return{width:(n=e?.scrollWidth)!==null&&n!==void 0?n:0,height:(r=e?.scrollHeight)!==null&&r!==void 0?r:0}}getVisibleRect(){let e=this.ref.current;var n,r,i,s;return{x:(n=e?.scrollLeft)!==null&&n!==void 0?n:0,y:(r=e?.scrollTop)!==null&&r!==void 0?r:0,width:(i=e?.clientWidth)!==null&&i!==void 0?i:0,height:(s=e?.clientHeight)!==null&&s!==void 0?s:0}}constructor(e){this.ref=e}}class o4{isDisabled(e){var n;return this.disabledBehavior==="all"&&(((n=e.props)===null||n===void 0?void 0:n.isDisabled)||this.disabledKeys.has(e.key))}findNextNonDisabled(e,n){let r=e;for(;r!=null;){let i=this.collection.getItem(r);if(i?.type==="item"&&!this.isDisabled(i))return r;r=n(r)}return null}getNextKey(e){let n=e;return n=this.collection.getKeyAfter(n),this.findNextNonDisabled(n,r=>this.collection.getKeyAfter(r))}getPreviousKey(e){let n=e;return n=this.collection.getKeyBefore(n),this.findNextNonDisabled(n,r=>this.collection.getKeyBefore(r))}findKey(e,n,r){let i=e,s=this.layoutDelegate.getItemRect(i);if(!s||i==null)return null;let o=s;do{if(i=n(i),i==null)break;s=this.layoutDelegate.getItemRect(i)}while(s&&r(o,s)&&i!=null);return i}isSameRow(e,n){return e.y===n.y||e.x!==n.x}isSameColumn(e,n){return e.x===n.x||e.y!==n.y}getKeyBelow(e){return this.layout==="grid"&&this.orientation==="vertical"?this.findKey(e,n=>this.getNextKey(n),this.isSameRow):this.getNextKey(e)}getKeyAbove(e){return this.layout==="grid"&&this.orientation==="vertical"?this.findKey(e,n=>this.getPreviousKey(n),this.isSameRow):this.getPreviousKey(e)}getNextColumn(e,n){return n?this.getPreviousKey(e):this.getNextKey(e)}getKeyRightOf(e){let n=this.direction==="ltr"?"getKeyRightOf":"getKeyLeftOf";return this.layoutDelegate[n]?(e=this.layoutDelegate[n](e),this.findNextNonDisabled(e,r=>this.layoutDelegate[n](r))):this.layout==="grid"?this.orientation==="vertical"?this.getNextColumn(e,this.direction==="rtl"):this.findKey(e,r=>this.getNextColumn(r,this.direction==="rtl"),this.isSameColumn):this.orientation==="horizontal"?this.getNextColumn(e,this.direction==="rtl"):null}getKeyLeftOf(e){let n=this.direction==="ltr"?"getKeyLeftOf":"getKeyRightOf";return this.layoutDelegate[n]?(e=this.layoutDelegate[n](e),this.findNextNonDisabled(e,r=>this.layoutDelegate[n](r))):this.layout==="grid"?this.orientation==="vertical"?this.getNextColumn(e,this.direction==="ltr"):this.findKey(e,r=>this.getNextColumn(r,this.direction==="ltr"),this.isSameColumn):this.orientation==="horizontal"?this.getNextColumn(e,this.direction==="ltr"):null}getFirstKey(){let e=this.collection.getFirstKey();return this.findNextNonDisabled(e,n=>this.collection.getKeyAfter(n))}getLastKey(){let e=this.collection.getLastKey();return this.findNextNonDisabled(e,n=>this.collection.getKeyBefore(n))}getKeyPageAbove(e){let n=this.ref.current,r=this.layoutDelegate.getItemRect(e);if(!r)return null;if(n&&!Zy(n))return this.getFirstKey();let i=e;if(this.orientation==="horizontal"){let s=Math.max(0,r.x+r.width-this.layoutDelegate.getVisibleRect().width);for(;r&&r.x>s&&i!=null;)i=this.getKeyAbove(i),r=i==null?null:this.layoutDelegate.getItemRect(i)}else{let s=Math.max(0,r.y+r.height-this.layoutDelegate.getVisibleRect().height);for(;r&&r.y>s&&i!=null;)i=this.getKeyAbove(i),r=i==null?null:this.layoutDelegate.getItemRect(i)}return i??this.getFirstKey()}getKeyPageBelow(e){let n=this.ref.current,r=this.layoutDelegate.getItemRect(e);if(!r)return null;if(n&&!Zy(n))return this.getLastKey();let i=e;if(this.orientation==="horizontal"){let s=Math.min(this.layoutDelegate.getContentSize().width,r.y-r.width+this.layoutDelegate.getVisibleRect().width);for(;r&&r.x<s&&i!=null;)i=this.getKeyBelow(i),r=i==null?null:this.layoutDelegate.getItemRect(i)}else{let s=Math.min(this.layoutDelegate.getContentSize().height,r.y-r.height+this.layoutDelegate.getVisibleRect().height);for(;r&&r.y<s&&i!=null;)i=this.getKeyBelow(i),r=i==null?null:this.layoutDelegate.getItemRect(i)}return i??this.getLastKey()}getKeyForSearch(e,n){if(!this.collator)return null;let r=this.collection,i=n||this.getFirstKey();for(;i!=null;){let s=r.getItem(i);if(!s)return null;let o=s.textValue.slice(0,e.length);if(s.textValue&&this.collator.compare(o,e)===0)return i;i=this.getNextKey(i)}return null}constructor(...e){if(e.length===1){let n=e[0];this.collection=n.collection,this.ref=n.ref,this.collator=n.collator,this.disabledKeys=n.disabledKeys||new Set,this.disabledBehavior=n.disabledBehavior||"all",this.orientation=n.orientation||"vertical",this.direction=n.direction,this.layout=n.layout||"stack",this.layoutDelegate=n.layoutDelegate||new Yj(n.ref)}else this.collection=e[0],this.disabledKeys=e[1],this.ref=e[2],this.collator=e[3],this.layout="stack",this.orientation="vertical",this.disabledBehavior="all",this.layoutDelegate=new Yj(this.ref);this.layout==="stack"&&this.orientation==="vertical"&&(this.getKeyLeftOf=void 0,this.getKeyRightOf=void 0)}}function Fee(t){let{selectionManager:e,collection:n,disabledKeys:r,ref:i,keyboardDelegate:s,layoutDelegate:o}=t,a=s4({usage:"search",sensitivity:"base"}),l=e.disabledBehavior,u=x.useMemo(()=>s||new o4({collection:n,disabledKeys:r,disabledBehavior:l,ref:i,collator:a,layoutDelegate:o}),[s,o,n,r,i,a,l]),{collectionProps:c}=d$({...t,ref:i,selectionManager:e,keyboardDelegate:u});return{listProps:c}}function TIe(t,e,n){let r=cr(t,{labelable:!0}),i=t.selectionBehavior||"toggle",s=t.linkBehavior||(i==="replace"?"action":"override");i==="toggle"&&s==="action"&&(s="override");let{listProps:o}=Fee({...t,ref:n,selectionManager:e.selectionManager,collection:e.collection,disabledKeys:e.disabledKeys,linkBehavior:s}),{focusWithinProps:a}=uv({onFocusWithin:t.onFocus,onBlurWithin:t.onBlur,onFocusWithinChange:t.onFocusChange}),l=Us(t.id);_T.set(e,{id:l,shouldUseVirtualFocus:t.shouldUseVirtualFocus,shouldSelectOnPressUp:t.shouldSelectOnPressUp,shouldFocusOnHover:t.shouldFocusOnHover,isVirtualized:t.isVirtualized,onAction:t.onAction,linkBehavior:s,UNSTABLE_itemBehavior:t.UNSTABLE_itemBehavior});let{labelProps:u,fieldProps:c}=IT({...t,id:l,labelElementType:"span"});return{labelProps:u,listBoxProps:on(r,a,e.selectionManager.selectionMode==="multiple"?{"aria-multiselectable":"true"}:{},{role:"listbox",...on(c,o)})}}class MIe{build(e,n){return this.context=n,Xj(()=>this.iterateCollection(e))}*iterateCollection(e){let{children:n,items:r}=e;if(xe.isValidElement(n)&&n.type===xe.Fragment)yield*this.iterateCollection({children:n.props.children,items:r});else if(typeof n=="function"){if(!r)throw new Error("props.children was a function but props.items is missing");let i=0;for(let s of r)yield*this.getFullNode({value:s,index:i},{renderer:n}),i++}else{let i=[];xe.Children.forEach(n,o=>{o&&i.push(o)});let s=0;for(let o of i){let a=this.getFullNode({element:o,index:s},{});for(let l of a)s++,yield l}}}getKey(e,n,r,i){if(e.key!=null)return e.key;if(n.type==="cell"&&n.key!=null)return`${i}${n.key}`;let s=n.value;if(s!=null){var o;let a=(o=s.key)!==null&&o!==void 0?o:s.id;if(a==null)throw new Error("No key found for item");return a}return i?`${i}.${n.index}`:`$.${n.index}`}getChildState(e,n){return{renderer:n.renderer||e.renderer}}*getFullNode(e,n,r,i){if(xe.isValidElement(e.element)&&e.element.type===xe.Fragment){let y=[];xe.Children.forEach(e.element.props.children,C=>{y.push(C)});var s;let A=(s=e.index)!==null&&s!==void 0?s:0;for(const C of y)yield*this.getFullNode({element:C,index:A++},n,r,i);return}let o=e.element;if(!o&&e.value&&n&&n.renderer){let y=this.cache.get(e.value);if(y&&(!y.shouldInvalidate||!y.shouldInvalidate(this.context))){y.index=e.index,y.parentKey=i?i.key:null,yield y;return}o=n.renderer(e.value)}if(xe.isValidElement(o)){let y=o.type;if(typeof y!="function"&&typeof y.getCollectionNode!="function"){let I=o.type;throw new Error(`Unknown element <${I}> in collection.`)}let A=y.getCollectionNode(o.props,this.context);var a;let C=(a=e.index)!==null&&a!==void 0?a:0,E=A.next();for(;!E.done&&E.value;){let I=E.value;e.index=C;var l;let D=(l=I.key)!==null&&l!==void 0?l:null;D==null&&(D=I.element?null:this.getKey(o,e,n,r));let M=[...this.getFullNode({...I,key:D,index:C,wrapper:kIe(e.wrapper,I.wrapper)},this.getChildState(n,I),r?`${r}${o.key}`:o.key,i)];for(let P of M){var u,c;P.value=(c=(u=I.value)!==null&&u!==void 0?u:e.value)!==null&&c!==void 0?c:null,P.value&&this.cache.set(P.value,P);var d;if(e.type&&P.type!==e.type)throw new Error(`Unsupported type <${rk(P.type)}> in <${rk((d=i?.type)!==null&&d!==void 0?d:"unknown parent type")}>. Only <${rk(e.type)}> is supported.`);C++,yield P}E=A.next(M)}return}if(e.key==null||e.type==null)return;let f=this;var p,m;let v={type:e.type,props:e.props,key:e.key,parentKey:i?i.key:null,value:(p=e.value)!==null&&p!==void 0?p:null,level:i?i.level+1:0,index:e.index,rendered:e.rendered,textValue:(m=e.textValue)!==null&&m!==void 0?m:"","aria-label":e["aria-label"],wrapper:e.wrapper,shouldInvalidate:e.shouldInvalidate,hasChildNodes:e.hasChildNodes||!1,childNodes:Xj(function*(){if(!e.hasChildNodes||!e.childNodes)return;let y=0;for(let A of e.childNodes()){A.key!=null&&(A.key=`${v.key}${A.key}`);let C=f.getFullNode({...A,index:y},f.getChildState(n,A),v.key,v);for(let E of C)y++,yield E}})};yield v}constructor(){this.cache=new WeakMap}}function Xj(t){let e=[],n=null;return{*[Symbol.iterator](){for(let r of e)yield r;n||(n=t());for(let r of n)e.push(r),yield r}}}function kIe(t,e){if(t&&e)return n=>t(e(n));if(t)return t;if(e)return e}function rk(t){return t[0].toUpperCase()+t.slice(1)}function $ee(t,e,n){let r=x.useMemo(()=>new MIe,[]),{children:i,items:s,collection:o}=t;return x.useMemo(()=>{if(o)return o;let l=r.build({children:i,items:s},n);return e(l)},[r,i,s,o,n,e])}function a4(t,e){return typeof e.getChildren=="function"?e.getChildren(t.key):t.childNodes}function PIe(t){return RIe(t)}function RIe(t,e){for(let n of t)return n}function ik(t,e,n){if(e.parentKey===n.parentKey)return e.index-n.index;let r=[...Jj(t,e),e],i=[...Jj(t,n),n],s=r.slice(0,i.length).findIndex((o,a)=>o!==i[a]);return s!==-1?(e=r[s],n=i[s],e.index-n.index):r.findIndex(o=>o===n)>=0?1:(i.findIndex(o=>o===e)>=0,-1)}function Jj(t,e){let n=[],r=e;for(;r?.parentKey!=null;)r=t.getItem(r.parentKey),r&&n.unshift(r);return n}const Zj=new WeakMap;function zee(t){let e=Zj.get(t);if(e!=null)return e;let n=0,r=i=>{for(let s of i)s.type==="section"?r(a4(s,t)):s.type==="item"&&n++};return r(t),Zj.set(t,n),n}function NIe(t,e,n){var r,i;let{key:s}=t,o=_T.get(e);var a;let l=(a=t.isDisabled)!==null&&a!==void 0?a:e.selectionManager.isDisabled(s);var u;let c=(u=t.isSelected)!==null&&u!==void 0?u:e.selectionManager.isSelected(s);var d;let f=(d=t.shouldSelectOnPressUp)!==null&&d!==void 0?d:o?.shouldSelectOnPressUp;var p;let m=(p=t.shouldFocusOnHover)!==null&&p!==void 0?p:o?.shouldFocusOnHover;var v;let y=(v=t.shouldUseVirtualFocus)!==null&&v!==void 0?v:o?.shouldUseVirtualFocus;var A;let C=(A=t.isVirtualized)!==null&&A!==void 0?A:o?.isVirtualized,E=TE(),I=TE(),D={role:"option","aria-disabled":l||void 0,"aria-selected":e.selectionManager.selectionMode!=="none"?c:void 0};O0()&&yT()||(D["aria-label"]=t["aria-label"],D["aria-labelledby"]=E,D["aria-describedby"]=I);let T=e.collection.getItem(s);if(C){let G=Number(T?.index);D["aria-posinset"]=Number.isNaN(G)?void 0:G+1,D["aria-setsize"]=zee(e.collection)}let M=o?.onAction?()=>{var G;return o==null||(G=o.onAction)===null||G===void 0?void 0:G.call(o,s)}:void 0,P=Ree(e,s),{itemProps:k,isPressed:L,isFocused:$,hasAction:z,allowsSelection:j}=h$({selectionManager:e.selectionManager,key:s,ref:n,shouldSelectOnPressUp:f,allowsDifferentPressOrigin:f&&m,isVirtualized:C,shouldUseVirtualFocus:y,isDisabled:l,onAction:M||!(T==null||(r=T.props)===null||r===void 0)&&r.onAction?If(T==null||(i=T.props)===null||i===void 0?void 0:i.onAction,M):void 0,linkBehavior:o?.linkBehavior,UNSTABLE_itemBehavior:o?.UNSTABLE_itemBehavior,id:P}),{hoverProps:H}=hh({isDisabled:l||!m,onHoverStart(){s3()||(e.selectionManager.setFocused(!0),e.selectionManager.setFocusedKey(s))}}),W=cr(T?.props);delete W.id;let O=RJ(T?.props);return{optionProps:{...D,...on(W,k,H,O),id:P},labelProps:{id:E},descriptionProps:{id:I},isFocused:$,isFocusVisible:$&&e.selectionManager.isFocused&&s3(),isSelected:c,isDisabled:l,isPressed:L,allowsSelection:j,hasAction:z}}function LIe(t){let{heading:e,"aria-label":n}=t,r=Us();return{itemProps:{role:"presentation"},headingProps:e?{id:r,role:"presentation"}:{},groupProps:{role:"group","aria-label":n,"aria-labelledby":e?r:void 0}}}const Oee={badInput:!1,customError:!1,patternMismatch:!1,rangeOverflow:!1,rangeUnderflow:!1,stepMismatch:!1,tooLong:!1,tooShort:!1,typeMismatch:!1,valueMissing:!1,valid:!0},jee={...Oee,customError:!0,valid:!1},O1={isInvalid:!1,validationDetails:Oee,validationErrors:[]},FIe=x.createContext({}),zx="__formValidationState"+Date.now();function cv(t){if(t[zx]){let{realtimeValidation:e,displayValidation:n,updateValidation:r,resetValidation:i,commitValidation:s}=t[zx];return{realtimeValidation:e,displayValidation:n,updateValidation:r,resetValidation:i,commitValidation:s}}return $Ie(t)}function $Ie(t){let{isInvalid:e,validationState:n,name:r,value:i,builtinValidation:s,validate:o,validationBehavior:a="aria"}=t;n&&(e||(e=n==="invalid"));let l=e!==void 0?{isInvalid:e,validationErrors:[],validationDetails:jee}:null,u=x.useMemo(()=>{if(!o||i==null)return null;let L=zIe(o,i);return e9(L)},[o,i]);s?.validationDetails.valid&&(s=void 0);let c=x.useContext(FIe),d=x.useMemo(()=>r?Array.isArray(r)?r.flatMap(L=>n8(c[L])):n8(c[r]):[],[c,r]),[f,p]=x.useState(c),[m,v]=x.useState(!1);c!==f&&(p(c),v(!1));let y=x.useMemo(()=>e9(m?[]:d),[m,d]),A=x.useRef(O1),[C,E]=x.useState(O1),I=x.useRef(O1),D=()=>{if(!T)return;M(!1);let L=u||s||A.current;sk(L,I.current)||(I.current=L,E(L))},[T,M]=x.useState(!1);return x.useEffect(D),{realtimeValidation:l||y||u||s||O1,displayValidation:a==="native"?l||y||C:l||y||u||s||C,updateValidation(L){a==="aria"&&!sk(C,L)?E(L):A.current=L},resetValidation(){let L=O1;sk(L,I.current)||(I.current=L,E(L)),a==="native"&&M(!1),v(!0)},commitValidation(){a==="native"&&M(!0),v(!0)}}}function n8(t){return t?Array.isArray(t)?t:[t]:[]}function zIe(t,e){if(typeof t=="function"){let n=t(e);if(n&&typeof n!="boolean")return n8(n)}return[]}function e9(t){return t.length?{isInvalid:!0,validationErrors:t,validationDetails:jee}:null}function sk(t,e){return t===e?!0:!!t&&!!e&&t.isInvalid===e.isInvalid&&t.validationErrors.length===e.validationErrors.length&&t.validationErrors.every((n,r)=>n===e.validationErrors[r])&&Object.entries(t.validationDetails).every(([n,r])=>e.validationDetails[n]===r)}var Qee={};Qee={longPressMessage:"     Alt +    "};var Uee={};Uee={longPressMessage:"    Alt+  ,    "};var Hee={};Hee={longPressMessage:"Dlouhm stiskem nebo stisknutm klves Alt + ipka dol otevete nabdku"};var Vee={};Vee={longPressMessage:"Langt tryk eller tryk p Alt + pil ned for at bne menuen"};var Gee={};Gee={longPressMessage:"Drcken Sie lange oder drcken Sie Alt + Nach-unten, um das Men zu ffnen"};var Kee={};Kee={longPressMessage:"    Alt +       "};var Wee={};Wee={longPressMessage:"Long press or press Alt + ArrowDown to open menu"};var qee={};qee={longPressMessage:"Mantenga pulsado o pulse Alt + flecha abajo para abrir el men"};var Yee={};Yee={longPressMessage:"Men avamiseks vajutage pikalt vi vajutage klahve Alt + allanool"};var Xee={};Xee={longPressMessage:"Avaa valikko painamalla pohjassa tai nppinyhdistelmll Alt + Alanuoli"};var Jee={};Jee={longPressMessage:"Appuyez de manire prolonge ou appuyez sur Alt+Flche vers le bas pour ouvrir le menu."};var Zee={};Zee={longPressMessage:"     Alt + ArrowDown    "};var ete={};ete={longPressMessage:"Dugo pritisnite ili pritisnite Alt + strelicu prema dolje za otvaranje izbornika"};var tte={};tte={longPressMessage:"Nyomja meg hosszan, vagy nyomja meg az Alt + lefele nyl gombot a men megnyitshoz"};var nte={};nte={longPressMessage:"Premi a lungo o premi Alt + Freccia gi per aprire il menu"};var rte={};rte={longPressMessage:" Alt+"};var ite={};ite={longPressMessage:"  Alt +     "};var ste={};ste={longPressMessage:"Nordami atidaryti meniu, nuspaud palaikykite arba paspauskite Alt + ArrowDown."};var ote={};ote={longPressMessage:"Lai atvrtu izvlni, turiet nospiestu vai nospiediet taustiu kombinciju Alt + lejupvrst bultia"};var ate={};ate={longPressMessage:"Langt trykk eller trykk Alt + PilNed for  pne menyen"};var lte={};lte={longPressMessage:"Druk lang op Alt + pijl-omlaag of druk op Alt om het menu te openen"};var ute={};ute={longPressMessage:"Nacinij i przytrzymaj lub nacinij klawisze Alt + Strzaka w d, aby otworzy menu"};var cte={};cte={longPressMessage:"Pressione e segure ou pressione Alt + Seta para baixo para abrir o menu"};var dte={};dte={longPressMessage:"Prima continuamente ou prima Alt + Seta Para Baixo para abrir o menu"};var hte={};hte={longPressMessage:"Apsai lung sau apsai pe Alt + sgeat n jos pentru a deschide meniul"};var fte={};fte={longPressMessage:"     Alt +  ,   "};var pte={};pte={longPressMessage:"Ponuku otvorte dlhm stlaenm alebo stlaenm klvesu Alt + klvesu so pkou nadol"};var gte={};gte={longPressMessage:"Za odprtje menija pritisnite in drite gumb ali pritisnite Alt+puica navzdol"};var mte={};mte={longPressMessage:"Dugo pritisnite ili pritisnite Alt + strelicu prema dole da otvorite meni"};var Ate={};Ate={longPressMessage:"Hll nedtryckt eller tryck p Alt + pil nedt fr att ppna menyn"};var yte={};yte={longPressMessage:"Meny amak iin uzun basn veya Alt + Aa Ok tuuna basn"};var vte={};vte={longPressMessage:"      Alt   ,   "};var bte={};bte={longPressMessage:" Alt + "};var xte={};xte={longPressMessage:" Alt+"};var Cte={};Cte={"ar-AE":Qee,"bg-BG":Uee,"cs-CZ":Hee,"da-DK":Vee,"de-DE":Gee,"el-GR":Kee,"en-US":Wee,"es-ES":qee,"et-EE":Yee,"fi-FI":Xee,"fr-FR":Jee,"he-IL":Zee,"hr-HR":ete,"hu-HU":tte,"it-IT":nte,"ja-JP":rte,"ko-KR":ite,"lt-LT":ste,"lv-LV":ote,"nb-NO":ate,"nl-NL":lte,"pl-PL":ute,"pt-BR":cte,"pt-PT":dte,"ro-RO":hte,"ru-RU":fte,"sk-SK":pte,"sl-SI":gte,"sr-SP":mte,"sv-SE":Ate,"tr-TR":yte,"uk-UA":vte,"zh-CN":bte,"zh-TW":xte};function OIe(t){return t&&t.__esModule?t.default:t}function Ete(t,e,n){let{type:r="menu",isDisabled:i,trigger:s="press"}=t,o=Us(),{triggerProps:a,overlayProps:l}=qZ({type:r},e,n),u=p=>{if(!i&&!(s==="longPress"&&!p.altKey)&&n&&n.current)switch(p.key){case"Enter":case" ":if(s==="longPress"||p.isDefaultPrevented())return;case"ArrowDown":"continuePropagation"in p||p.stopPropagation(),p.preventDefault(),e.toggle("first");break;case"ArrowUp":"continuePropagation"in p||p.stopPropagation(),p.preventDefault(),e.toggle("last");break;default:"continuePropagation"in p&&p.continuePropagation()}},c=Rl(OIe(Cte),"@react-aria/menu"),{longPressProps:d}=UZ({isDisabled:i||s!=="longPress",accessibilityDescription:c.format("longPressMessage"),onLongPressStart(){e.close()},onLongPress(){e.open("first")}}),f={preventFocusOnPress:!0,onPressStart(p){p.pointerType!=="touch"&&p.pointerType!=="keyboard"&&!i&&(ah(p.target),e.open(p.pointerType==="virtual"?"first":null))},onPress(p){p.pointerType==="touch"&&!i&&(ah(p.target),e.toggle())}};return delete a.onPress,{menuTriggerProps:{...a,...s==="press"?f:d,id:o,onKeyDown:u},menuProps:{...l,"aria-labelledby":o,autoFocus:e.focusStrategy||!0,onClose:e.close}}}function BT(t,e,n){let{validationBehavior:r,focus:i}=t;di(()=>{if(r==="native"&&n?.current&&!n.current.disabled){let u=e.realtimeValidation.isInvalid?e.realtimeValidation.validationErrors.join(" ")||"Invalid value.":"";n.current.setCustomValidity(u),n.current.hasAttribute("title")||(n.current.title=""),e.realtimeValidation.isInvalid||e.updateValidation(QIe(n.current))}});let s=x.useRef(!1),o=eo(()=>{s.current||e.resetValidation()}),a=eo(u=>{var c;e.displayValidation.isInvalid||e.commitValidation();let d=n==null||(c=n.current)===null||c===void 0?void 0:c.form;if(!u.defaultPrevented&&n&&d&&UIe(d)===n.current){var f;i?i():(f=n.current)===null||f===void 0||f.focus(),fx("keyboard")}u.preventDefault()}),l=eo(()=>{e.commitValidation()});x.useEffect(()=>{let u=n?.current;if(!u)return;let c=u.form,d=c?.reset;return c&&(c.reset=()=>{s.current=!window.event||window.event.type==="message"&&window.event.target instanceof MessagePort,d?.call(c),s.current=!1}),u.addEventListener("invalid",a),u.addEventListener("change",l),c?.addEventListener("reset",o),()=>{u.removeEventListener("invalid",a),u.removeEventListener("change",l),c?.removeEventListener("reset",o),c&&(c.reset=d)}},[n,r])}function jIe(t){let e=t.validity;return{badInput:e.badInput,customError:e.customError,patternMismatch:e.patternMismatch,rangeOverflow:e.rangeOverflow,rangeUnderflow:e.rangeUnderflow,stepMismatch:e.stepMismatch,tooLong:e.tooLong,tooShort:e.tooShort,typeMismatch:e.typeMismatch,valueMissing:e.valueMissing,valid:e.valid}}function QIe(t){return{isInvalid:!t.validity.valid,validationDetails:jIe(t),validationErrors:t.validationMessage?[t.validationMessage]:[]}}function UIe(t){for(let e=0;e<t.elements.length;e++){let n=t.elements[e];if(!n.validity.valid)return n}return null}function DT(t,e){let{inputElementType:n="input",isDisabled:r=!1,isRequired:i=!1,isReadOnly:s=!1,type:o="text",validationBehavior:a="aria"}=t,[l,u]=al(t.value,t.defaultValue||"",t.onChange),{focusableProps:c}=sS(t,e),d=cv({...t,value:l}),{isInvalid:f,validationErrors:p,validationDetails:m}=d.displayValidation,{labelProps:v,fieldProps:y,descriptionProps:A,errorMessageProps:C}=c$({...t,isInvalid:f,errorMessage:t.errorMessage||p}),E=cr(t,{labelable:!0});const I={type:o,pattern:t.pattern};let[D]=x.useState(l);var T;return av(e,(T=t.defaultValue)!==null&&T!==void 0?T:D,u),BT(t,d,e),{labelProps:v,inputProps:on(E,n==="input"?I:void 0,{disabled:r,readOnly:s,required:i&&a==="native","aria-required":i&&a==="aria"||void 0,"aria-invalid":f||void 0,"aria-errormessage":t["aria-errormessage"],"aria-activedescendant":t["aria-activedescendant"],"aria-autocomplete":t["aria-autocomplete"],"aria-haspopup":t["aria-haspopup"],"aria-controls":t["aria-controls"],value:l,onChange:M=>u(M.target.value),autoComplete:t.autoComplete,autoCapitalize:t.autoCapitalize,maxLength:t.maxLength,minLength:t.minLength,name:t.name,form:t.form,placeholder:t.placeholder,inputMode:t.inputMode,autoCorrect:t.autoCorrect,spellCheck:t.spellCheck,[parseInt(xe.version,10)>=17?"enterKeyHint":"enterkeyhint"]:t.enterKeyHint,onCopy:t.onCopy,onCut:t.onCut,onPaste:t.onPaste,onCompositionEnd:t.onCompositionEnd,onCompositionStart:t.onCompositionStart,onCompositionUpdate:t.onCompositionUpdate,onSelect:t.onSelect,onBeforeInput:t.onBeforeInput,onInput:t.onInput,...c,...y}),descriptionProps:A,errorMessageProps:C,isInvalid:f,validationErrors:p,validationDetails:m}}function t9(){return typeof window<"u"&&window.InputEvent&&typeof InputEvent.prototype.getTargetRanges=="function"}function Ste(t,e,n){let r=eo(d=>{let f=n.current;if(!f)return;let p=null;switch(d.inputType){case"historyUndo":case"historyRedo":return;case"insertLineBreak":return;case"deleteContent":case"deleteByCut":case"deleteByDrag":p=f.value.slice(0,f.selectionStart)+f.value.slice(f.selectionEnd);break;case"deleteContentForward":p=f.selectionEnd===f.selectionStart?f.value.slice(0,f.selectionStart)+f.value.slice(f.selectionEnd+1):f.value.slice(0,f.selectionStart)+f.value.slice(f.selectionEnd);break;case"deleteContentBackward":p=f.selectionEnd===f.selectionStart?f.value.slice(0,f.selectionStart-1)+f.value.slice(f.selectionStart):f.value.slice(0,f.selectionStart)+f.value.slice(f.selectionEnd);break;case"deleteSoftLineBackward":case"deleteHardLineBackward":p=f.value.slice(f.selectionStart);break;default:d.data!=null&&(p=f.value.slice(0,f.selectionStart)+d.data+f.value.slice(f.selectionEnd));break}(p==null||!e.validate(p))&&d.preventDefault()});x.useEffect(()=>{if(!t9()||!n.current)return;let d=n.current;return d.addEventListener("beforeinput",r,!1),()=>{d.removeEventListener("beforeinput",r,!1)}},[n]);let i=t9()?null:d=>{let f=d.target.value.slice(0,d.target.selectionStart)+d.data+d.target.value.slice(d.target.selectionEnd);e.validate(f)||d.preventDefault()},{labelProps:s,inputProps:o,descriptionProps:a,errorMessageProps:l,...u}=DT(t,n),c=x.useRef(null);return{inputProps:on(o,{onBeforeInput:i,onCompositionStart(){let{value:d,selectionStart:f,selectionEnd:p}=n.current;c.current={value:d,selectionStart:f,selectionEnd:p}},onCompositionEnd(){if(n.current&&!e.validate(n.current.value)){let{value:d,selectionStart:f,selectionEnd:p}=c.current;n.current.value=d,n.current.setSelectionRange(f,p),e.setInputValue(d)}}}),labelProps:s,descriptionProps:a,errorMessageProps:l,...u}}function HIe(t){return t&&t.__esModule?t.default:t}function VIe(t,e){let{buttonRef:n,popoverRef:r,inputRef:i,listBoxRef:s,keyboardDelegate:o,layoutDelegate:a,shouldFocusWrap:l,isReadOnly:u,isDisabled:c}=t,d=x.useRef(null);n=n??d;let f=Rl(HIe(EZ),"@react-aria/combobox"),{menuTriggerProps:p,menuProps:m}=Ete({type:"listbox",isDisabled:c||u},e,n);_T.set(e,{id:m.id});let{collection:v}=e,{disabledKeys:y}=e.selectionManager,A=x.useMemo(()=>o||new o4({collection:v,disabledKeys:y,ref:s,layoutDelegate:a}),[o,a,v,y,s]),{collectionProps:C}=d$({selectionManager:e.selectionManager,keyboardDelegate:A,disallowTypeAhead:!0,disallowEmptySelection:!0,shouldFocusWrap:l,ref:i,isVirtualized:!0}),E=r4(),I=ke=>{if(!ke.nativeEvent.isComposing)switch(ke.key){case"Enter":case"Tab":if(e.isOpen&&ke.key==="Enter"&&ke.preventDefault(),e.isOpen&&s.current&&e.selectionManager.focusedKey!=null){let Fe=e.collection.getItem(e.selectionManager.focusedKey);if(Fe?.props.href){let Ee=s.current.querySelector(`[data-key="${CSS.escape(e.selectionManager.focusedKey.toString())}"]`);ke.key==="Enter"&&Ee instanceof HTMLAnchorElement&&E.open(Ee,ke,Fe.props.href,Fe.props.routerOptions),e.close();break}else if(Fe?.props.onAction){Fe.props.onAction(),e.close();break}}e.commit();break;case"Escape":(e.selectedKey!==null||e.inputValue===""||t.allowsCustomValue)&&ke.continuePropagation(),e.revert();break;case"ArrowDown":e.open("first","manual");break;case"ArrowUp":e.open("last","manual");break;case"ArrowLeft":case"ArrowRight":e.selectionManager.setFocusedKey(null);break}},D=ke=>{var Fe;let Ee=n?.current&&n.current===ke.relatedTarget,Me=(Fe=r.current)===null||Fe===void 0?void 0:Fe.contains(ke.relatedTarget);Ee||Me||(t.onBlur&&t.onBlur(ke),e.setFocused(!1))},T=ke=>{e.isFocused||(t.onFocus&&t.onFocus(ke),e.setFocused(!0))},{isInvalid:M,validationErrors:P,validationDetails:k}=e.displayValidation,{labelProps:L,inputProps:$,descriptionProps:z,errorMessageProps:j}=DT({...t,onChange:e.setInputValue,onKeyDown:u?t.onKeyDown:If(e.isOpen&&C.onKeyDown,I,t.onKeyDown),onBlur:D,value:e.inputValue,defaultValue:e.defaultInputValue,onFocus:T,autoComplete:"off",validate:void 0,[zx]:e},i),H=ke=>{if(ke.pointerType==="touch"){var Fe;(Fe=i.current)===null||Fe===void 0||Fe.focus(),e.toggle(null,"manual")}},W=ke=>{if(ke.pointerType!=="touch"){var Fe;(Fe=i.current)===null||Fe===void 0||Fe.focus(),e.toggle(ke.pointerType==="keyboard"||ke.pointerType==="virtual"?"first":null,"manual")}},O=tm({id:p.id,"aria-label":f.format("buttonLabel"),"aria-labelledby":t["aria-labelledby"]||L.id}),G=tm({id:m.id,"aria-label":f.format("listboxLabel"),"aria-labelledby":t["aria-labelledby"]||L.id}),q=x.useRef(0),J=ke=>{if(c||u)return;if(ke.timeStamp-q.current<500){var Fe;ke.preventDefault(),(Fe=i.current)===null||Fe===void 0||Fe.focus();return}let Ee=ke.target.getBoundingClientRect(),Me=ke.changedTouches[0],Ue=Math.ceil(Ee.left+.5*Ee.width),Ge=Math.ceil(Ee.top+.5*Ee.height);if(Me.clientX===Ue&&Me.clientY===Ge){var ut;ke.preventDefault(),(ut=i.current)===null||ut===void 0||ut.focus(),e.toggle(null,"manual"),q.current=ke.timeStamp}},te=e.selectionManager.focusedKey!=null&&e.isOpen?e.collection.getItem(e.selectionManager.focusedKey):void 0;var Y;let Z=(Y=te?.parentKey)!==null&&Y!==void 0?Y:null;var ee;let ie=(ee=e.selectionManager.focusedKey)!==null&&ee!==void 0?ee:null,ue=x.useRef(Z),ae=x.useRef(ie);x.useEffect(()=>{if(_B()&&te!=null&&ie!=null&&ie!==ae.current){let Fe=e.selectionManager.isSelected(ie),Ee=Z!=null?e.collection.getItem(Z):null,Me=Ee?.["aria-label"]||(typeof Ee?.rendered=="string"?Ee.rendered:"")||"";var ke;let Ue=f.format("focusAnnouncement",{isGroupChange:(ke=Ee&&Z!==ue.current)!==null&&ke!==void 0?ke:!1,groupTitle:Me,groupCount:Ee?[...a4(Ee,e.collection)].length:0,optionText:te["aria-label"]||te.textValue||"",isSelected:Fe});Tp(Ue)}ue.current=Z,ae.current=ie});let de=zee(e.collection),ge=x.useRef(de),_e=x.useRef(e.isOpen);x.useEffect(()=>{let ke=e.isOpen!==_e.current&&(e.selectionManager.focusedKey==null||_B());if(e.isOpen&&(ke||de!==ge.current)){let Fe=f.format("countAnnouncement",{optionCount:de});Tp(Fe)}ge.current=de,_e.current=e.isOpen});let we=x.useRef(e.selectedKey);return x.useEffect(()=>{if(_B()&&e.isFocused&&e.selectedItem&&e.selectedKey!==we.current){let ke=e.selectedItem["aria-label"]||e.selectedItem.textValue||"",Fe=f.format("selectedAnnouncement",{optionText:ke});Tp(Fe)}we.current=e.selectedKey}),x.useEffect(()=>{if(e.isOpen)return wT([i.current,r.current].filter(ke=>ke!=null))},[e.isOpen,i,r]),LJ(()=>{!te&&i.current&&il(xi(i.current))===i.current&&u$(i.current,null)},[te]),q1(s,"react-aria-item-action",e.isOpen?()=>{e.close()}:void 0),{labelProps:L,buttonProps:{...p,...O,excludeFromTabOrder:!0,preventFocusOnPress:!0,onPress:H,onPressStart:W,isDisabled:c||u},inputProps:on($,{role:"combobox","aria-expanded":p["aria-expanded"],"aria-controls":e.isOpen?m.id:void 0,"aria-autocomplete":"list","aria-activedescendant":te?Ree(e,te.key):void 0,onTouchEnd:J,autoCorrect:"off",spellCheck:"false"}),listBoxProps:on(m,G,{autoFocus:e.focusStrategy||!0,shouldUseVirtualFocus:!0,shouldSelectOnPressUp:!0,shouldFocusOnHover:!0,linkBehavior:"selection",UNSTABLE_itemBehavior:"action"}),descriptionProps:z,errorMessageProps:j,isInvalid:M,validationErrors:P,validationDetails:k}}var wte={};wte={"Clear search":" "};var _te={};_te={"Clear search":"  "};var Ite={};Ite={"Clear search":"Vymazat hledn"};var Bte={};Bte={"Clear search":"Ryd sgning"};var Dte={};Dte={"Clear search":"Suche zurcksetzen"};var Tte={};Tte={"Clear search":" "};var Mte={};Mte={"Clear search":"Clear search"};var kte={};kte={"Clear search":"Borrar bsqueda"};var Pte={};Pte={"Clear search":"Thjenda otsing"};var Rte={};Rte={"Clear search":"Tyhjenn haku"};var Nte={};Nte={"Clear search":"Effacer la recherche"};var Lte={};Lte={"Clear search":" "};var Fte={};Fte={"Clear search":"Obrii pretragu"};var $te={};$te={"Clear search":"Keress trlse"};var zte={};zte={"Clear search":"Cancella ricerca"};var Ote={};Ote={"Clear search":""};var jte={};jte={"Clear search":" "};var Qte={};Qte={"Clear search":"Ivalyti iek"};var Ute={};Ute={"Clear search":"Notrt meklanu"};var Hte={};Hte={"Clear search":"Tm sk"};var Vte={};Vte={"Clear search":"Zoekactie wissen"};var Gte={};Gte={"Clear search":"Wyczy zawarto wyszukiwania"};var Kte={};Kte={"Clear search":"Limpar pesquisa"};var Wte={};Wte={"Clear search":"Limpar pesquisa"};var qte={};qte={"Clear search":"tergei cutarea"};var Yte={};Yte={"Clear search":" "};var Xte={};Xte={"Clear search":"Vymaza vyhadvanie"};var Jte={};Jte={"Clear search":"Poisti iskanje"};var Zte={};Zte={"Clear search":"Obrii pretragu"};var ene={};ene={"Clear search":"Rensa skning"};var tne={};tne={"Clear search":"Aramay temizle"};var nne={};nne={"Clear search":" "};var rne={};rne={"Clear search":""};var ine={};ine={"Clear search":""};var sne={};sne={"ar-AE":wte,"bg-BG":_te,"cs-CZ":Ite,"da-DK":Bte,"de-DE":Dte,"el-GR":Tte,"en-US":Mte,"es-ES":kte,"et-EE":Pte,"fi-FI":Rte,"fr-FR":Nte,"he-IL":Lte,"hr-HR":Fte,"hu-HU":$te,"it-IT":zte,"ja-JP":Ote,"ko-KR":jte,"lt-LT":Qte,"lv-LV":Ute,"nb-NO":Hte,"nl-NL":Vte,"pl-PL":Gte,"pt-BR":Kte,"pt-PT":Wte,"ro-RO":qte,"ru-RU":Yte,"sk-SK":Xte,"sl-SI":Jte,"sr-SP":Zte,"sv-SE":ene,"tr-TR":tne,"uk-UA":nne,"zh-CN":rne,"zh-TW":ine};function GIe(t){return t&&t.__esModule?t.default:t}function KIe(t,e,n){let r=Rl(GIe(sne),"@react-aria/searchfield"),{isDisabled:i,isReadOnly:s,onSubmit:o,onClear:a,type:l="search"}=t,u=A=>{const C=A.key;C==="Enter"&&(i||s)&&A.preventDefault(),!(i||s)&&(C==="Enter"&&o&&(A.preventDefault(),o(e.value)),C==="Escape"&&(e.value===""&&(!n.current||n.current.value==="")?A.continuePropagation():(A.preventDefault(),e.setValue(""),a&&a())))},c=()=>{e.setValue(""),a&&a()},d=()=>{var A;(A=n.current)===null||A===void 0||A.focus()},{labelProps:f,inputProps:p,descriptionProps:m,errorMessageProps:v,...y}=DT({...t,value:e.value,onChange:e.setValue,onKeyDown:s?t.onKeyDown:If(u,t.onKeyDown),type:l},n);return{labelProps:f,inputProps:{...p,defaultValue:void 0},clearButtonProps:{"aria-label":r.format("Clear search"),excludeFromTabOrder:!0,preventFocusOnPress:!0,isDisabled:i||s,onPress:c,onPressStart:d},descriptionProps:m,errorMessageProps:v,...y}}class q0{get childNodes(){throw new Error("childNodes is not supported")}clone(){let e=new this.constructor(this.key);return e.value=this.value,e.level=this.level,e.hasChildNodes=this.hasChildNodes,e.rendered=this.rendered,e.textValue=this.textValue,e["aria-label"]=this["aria-label"],e.index=this.index,e.parentKey=this.parentKey,e.prevKey=this.prevKey,e.nextKey=this.nextKey,e.firstChildKey=this.firstChildKey,e.lastChildKey=this.lastChildKey,e.props=this.props,e.render=this.render,e.colSpan=this.colSpan,e.colIndex=this.colIndex,e}filter(e,n,r){let i=this.clone();return n.addDescendants(i,e),i}constructor(e){this.value=null,this.level=0,this.hasChildNodes=!1,this.rendered=null,this.textValue="",this["aria-label"]=void 0,this.index=0,this.parentKey=null,this.prevKey=null,this.nextKey=null,this.firstChildKey=null,this.lastChildKey=null,this.props={},this.colSpan=null,this.colIndex=null,this.type=this.constructor.type,this.key=e}}class one extends q0{filter(e,n,r){let[i,s]=lne(e,n,this.firstChildKey,r),o=this.clone();return o.firstChildKey=i,o.lastChildKey=s,o}}class WIe extends q0{}WIe.type="header";class f$ extends q0{}f$.type="loader";class ane extends one{filter(e,n,r){if(r(this.textValue,this)){let i=this.clone();return n.addDescendants(i,e),i}return null}}ane.type="item";class qIe extends one{filter(e,n,r){let i=super.filter(e,n,r);if(i&&i.lastChildKey!==null){let s=e.getItem(i.lastChildKey);if(s&&s.type!=="header")return i}return null}}qIe.type="section";class YIe{get size(){return this.itemCount}getKeys(){return this.keyMap.keys()}*[Symbol.iterator](){let e=this.firstKey!=null?this.keyMap.get(this.firstKey):void 0;for(;e;)yield e,e=e.nextKey!=null?this.keyMap.get(e.nextKey):void 0}getChildren(e){let n=this.keyMap;return{*[Symbol.iterator](){let r=n.get(e),i=r?.firstChildKey!=null?n.get(r.firstChildKey):null;for(;i;)yield i,i=i.nextKey!=null?n.get(i.nextKey):void 0}}}getKeyBefore(e){let n=this.keyMap.get(e);if(!n)return null;if(n.prevKey!=null){for(n=this.keyMap.get(n.prevKey);n&&n.type!=="item"&&n.lastChildKey!=null;)n=this.keyMap.get(n.lastChildKey);var r;return(r=n?.key)!==null&&r!==void 0?r:null}return n.parentKey}getKeyAfter(e){let n=this.keyMap.get(e);if(!n)return null;if(n.type!=="item"&&n.firstChildKey!=null)return n.firstChildKey;for(;n;){if(n.nextKey!=null)return n.nextKey;if(n.parentKey!=null)n=this.keyMap.get(n.parentKey);else return null}return null}getFirstKey(){return this.firstKey}getLastKey(){let e=this.lastKey!=null?this.keyMap.get(this.lastKey):null;for(;e?.lastChildKey!=null;)e=this.keyMap.get(e.lastChildKey);var n;return(n=e?.key)!==null&&n!==void 0?n:null}getItem(e){var n;return(n=this.keyMap.get(e))!==null&&n!==void 0?n:null}at(){throw new Error("Not implemented")}clone(){let e=this.constructor,n=new e;return n.keyMap=new Map(this.keyMap),n.firstKey=this.firstKey,n.lastKey=this.lastKey,n.itemCount=this.itemCount,n}addNode(e){if(this.frozen)throw new Error("Cannot add a node to a frozen collection");e.type==="item"&&this.keyMap.get(e.key)==null&&this.itemCount++,this.keyMap.set(e.key,e)}addDescendants(e,n){this.addNode(e);let r=n.getChildren(e.key);for(let i of r)this.addDescendants(i,n)}removeNode(e){if(this.frozen)throw new Error("Cannot remove a node to a frozen collection");let n=this.keyMap.get(e);n!=null&&n.type==="item"&&this.itemCount--,this.keyMap.delete(e)}commit(e,n,r=!1){if(this.frozen)throw new Error("Cannot commit a frozen collection");this.firstKey=e,this.lastKey=n,this.frozen=!r}filter(e){let n=new this.constructor,[r,i]=lne(this,n,this.firstKey,e);return n?.commit(r,i),n}constructor(){this.keyMap=new Map,this.firstKey=null,this.lastKey=null,this.frozen=!1,this.itemCount=0}}function lne(t,e,n,r){if(n==null)return[null,null];let i=null,s=null,o=t.getItem(n);for(;o!=null;){let u=o.filter(t,e,r);u!=null&&(u.nextKey=null,s&&(u.prevKey=s.key,s.nextKey=u.key),i==null&&(i=u),e.addNode(u),s=u),o=o.nextKey?t.getItem(o.nextKey):null}if(s&&s.type==="separator"){let u=s.prevKey;e.removeNode(s.key),u?(s=e.getItem(u),s.nextKey=null):s=null}var a,l;return[(a=i?.key)!==null&&a!==void 0?a:null,(l=s?.key)!==null&&l!==void 0?l:null]}class une{*[Symbol.iterator](){let e=this.firstChild;for(;e;)yield e,e=e.nextSibling}get firstChild(){return this._firstChild}set firstChild(e){this._firstChild=e,this.ownerDocument.markDirty(this)}get lastChild(){return this._lastChild}set lastChild(e){this._lastChild=e,this.ownerDocument.markDirty(this)}get previousSibling(){return this._previousSibling}set previousSibling(e){this._previousSibling=e,this.ownerDocument.markDirty(this)}get nextSibling(){return this._nextSibling}set nextSibling(e){this._nextSibling=e,this.ownerDocument.markDirty(this)}get parentNode(){return this._parentNode}set parentNode(e){this._parentNode=e,this.ownerDocument.markDirty(this)}get isConnected(){var e;return((e=this.parentNode)===null||e===void 0?void 0:e.isConnected)||!1}invalidateChildIndices(e){(this._minInvalidChildIndex==null||!this._minInvalidChildIndex.isConnected||e.index<this._minInvalidChildIndex.index)&&(this._minInvalidChildIndex=e,this.ownerDocument.markDirty(this))}updateChildIndices(){let e=this._minInvalidChildIndex;for(;e;)e.index=e.previousSibling?e.previousSibling.index+1:0,e=e.nextSibling;this._minInvalidChildIndex=null}appendChild(e){e.parentNode&&e.parentNode.removeChild(e),this.firstChild==null&&(this.firstChild=e),this.lastChild?(this.lastChild.nextSibling=e,e.index=this.lastChild.index+1,e.previousSibling=this.lastChild):(e.previousSibling=null,e.index=0),e.parentNode=this,e.nextSibling=null,this.lastChild=e,this.ownerDocument.markDirty(this),this.isConnected&&this.ownerDocument.queueUpdate()}insertBefore(e,n){if(n==null)return this.appendChild(e);e.parentNode&&e.parentNode.removeChild(e),e.nextSibling=n,e.previousSibling=n.previousSibling,e.index=n.index-1,this.firstChild===n?this.firstChild=e:n.previousSibling&&(n.previousSibling.nextSibling=e),n.previousSibling=e,e.parentNode=n.parentNode,this.invalidateChildIndices(e),this.isConnected&&this.ownerDocument.queueUpdate()}removeChild(e){e.parentNode===this&&(this._minInvalidChildIndex===e&&(this._minInvalidChildIndex=null),e.nextSibling&&(this.invalidateChildIndices(e.nextSibling),e.nextSibling.previousSibling=e.previousSibling),e.previousSibling&&(e.previousSibling.nextSibling=e.nextSibling),this.firstChild===e&&(this.firstChild=e.nextSibling),this.lastChild===e&&(this.lastChild=e.previousSibling),e.parentNode=null,e.nextSibling=null,e.previousSibling=null,e.index=0,this.ownerDocument.markDirty(e),this.isConnected&&this.ownerDocument.queueUpdate())}addEventListener(){}removeEventListener(){}get previousVisibleSibling(){let e=this.previousSibling;for(;e&&e.isHidden;)e=e.previousSibling;return e}get nextVisibleSibling(){let e=this.nextSibling;for(;e&&e.isHidden;)e=e.nextSibling;return e}get firstVisibleChild(){let e=this.firstChild;for(;e&&e.isHidden;)e=e.nextSibling;return e}get lastVisibleChild(){let e=this.lastChild;for(;e&&e.isHidden;)e=e.previousSibling;return e}constructor(e){this._firstChild=null,this._lastChild=null,this._previousSibling=null,this._nextSibling=null,this._parentNode=null,this._minInvalidChildIndex=null,this.ownerDocument=e}}class dE extends une{get index(){return this._index}set index(e){this._index=e,this.ownerDocument.markDirty(this)}get level(){var e;return this.parentNode instanceof dE?this.parentNode.level+(((e=this.node)===null||e===void 0?void 0:e.type)==="item"?1:0):0}getMutableNode(){return this.node==null?null:(this.isMutated||(this.node=this.node.clone(),this.isMutated=!0),this.ownerDocument.markDirty(this),this.node)}updateNode(){var e,n,r,i,s,o,a,l;let u=this.nextVisibleSibling,c=this.getMutableNode();if(c!=null){c.index=this.index,c.level=this.level;var d;c.parentKey=this.parentNode instanceof dE&&(d=(e=this.parentNode.node)===null||e===void 0?void 0:e.key)!==null&&d!==void 0?d:null;var f;c.prevKey=(f=(r=this.previousVisibleSibling)===null||r===void 0||(n=r.node)===null||n===void 0?void 0:n.key)!==null&&f!==void 0?f:null;var p;c.nextKey=(p=u==null||(i=u.node)===null||i===void 0?void 0:i.key)!==null&&p!==void 0?p:null,c.hasChildNodes=!!this.firstChild;var m;c.firstChildKey=(m=(o=this.firstVisibleChild)===null||o===void 0||(s=o.node)===null||s===void 0?void 0:s.key)!==null&&m!==void 0?m:null;var v;if(c.lastChildKey=(v=(l=this.lastVisibleChild)===null||l===void 0||(a=l.node)===null||a===void 0?void 0:a.key)!==null&&v!==void 0?v:null,(c.colSpan!=null||c.colIndex!=null)&&u){var y,A;let C=((y=c.colIndex)!==null&&y!==void 0?y:c.index)+((A=c.colSpan)!==null&&A!==void 0?A:1);if(u.node!=null&&C!==u.node.colIndex){let E=u.getMutableNode();E.colIndex=C}}}}setProps(e,n,r,i,s){let o,{value:a,textValue:l,id:u,...c}=e;if(this.node==null?(o=new r(u??`react-aria-${++this.ownerDocument.nodeId}`),this.node=o):o=this.getMutableNode(),c.ref=n,o.props=c,o.rendered=i,o.render=s,o.value=a,e["aria-label"]&&(o["aria-label"]=e["aria-label"]),o.textValue=l||(typeof c.children=="string"?c.children:"")||e["aria-label"]||"",u!=null&&u!==o.key)throw new Error("Cannot change the id of an item");c.colSpan!=null&&(o.colSpan=c.colSpan),this.isConnected&&this.ownerDocument.queueUpdate()}get style(){let e=this;return{get display(){return e.isHidden?"none":""},set display(n){let r=n==="none";if(e.isHidden!==r){var i,s;(((i=e.parentNode)===null||i===void 0?void 0:i.firstVisibleChild)===e||((s=e.parentNode)===null||s===void 0?void 0:s.lastVisibleChild)===e)&&e.ownerDocument.markDirty(e.parentNode);let o=e.previousVisibleSibling,a=e.nextVisibleSibling;o&&e.ownerDocument.markDirty(o),a&&e.ownerDocument.markDirty(a),e.isHidden=r,e.ownerDocument.markDirty(e)}}}}hasAttribute(){}setAttribute(){}setAttributeNS(){}removeAttribute(){}constructor(e,n){super(n),this.nodeType=8,this.isMutated=!0,this._index=0,this.isHidden=!1,this.node=null}}class XIe extends une{get isConnected(){return!0}createElement(e){return new dE(e,this)}getMutableCollection(){return this.nextCollection||(this.nextCollection=this.collection.clone()),this.nextCollection}markDirty(e){this.dirtyNodes.add(e)}addNode(e){if(e.isHidden||e.node==null)return;let n=this.getMutableCollection();if(!n.getItem(e.node.key))for(let r of e)this.addNode(r);n.addNode(e.node)}removeNode(e){for(let n of e)this.removeNode(n);e.node&&this.getMutableCollection().removeNode(e.node.key)}getCollection(){return this.inSubscription?this.collection.clone():(this.queuedRender=!1,this.updateCollection(),this.collection)}updateCollection(){for(let a of this.dirtyNodes)a instanceof dE&&(!a.isConnected||a.isHidden)?this.removeNode(a):a.updateChildIndices();for(let a of this.dirtyNodes)a instanceof dE?(a.isConnected&&!a.isHidden&&(a.updateNode(),this.addNode(a)),a.node&&this.dirtyNodes.delete(a),a.isMutated=!1):this.dirtyNodes.delete(a);if(this.nextCollection){var e,n,r,i,s,o;this.nextCollection.commit((s=(n=this.firstVisibleChild)===null||n===void 0||(e=n.node)===null||e===void 0?void 0:e.key)!==null&&s!==void 0?s:null,(o=(i=this.lastVisibleChild)===null||i===void 0||(r=i.node)===null||r===void 0?void 0:r.key)!==null&&o!==void 0?o:null,this.isSSR),this.isSSR||(this.collection=this.nextCollection,this.nextCollection=null)}}queueUpdate(){if(!(this.dirtyNodes.size===0||this.queuedRender)){this.queuedRender=!0,this.inSubscription=!0;for(let e of this.subscriptions)e();this.inSubscription=!1}}subscribe(e){return this.subscriptions.add(e),()=>this.subscriptions.delete(e)}resetAfterSSR(){this.isSSR&&(this.isSSR=!1,this.firstChild=null,this.lastChild=null,this.nodeId=0)}constructor(e){super(null),this.nodeType=11,this.ownerDocument=this,this.dirtyNodes=new Set,this.isSSR=!1,this.nodeId=0,this.nodesByProps=new WeakMap,this.nextCollection=null,this.subscriptions=new Set,this.queuedRender=!1,this.inSubscription=!1,this.collection=e,this.nextCollection=e}}function p$(t){let{children:e,items:n,idScope:r,addIdAndValue:i,dependencies:s=[]}=t,o=x.useMemo(()=>new WeakMap,s);return x.useMemo(()=>{if(n&&typeof e=="function"){let u=[];for(let c of n){let d=o.get(c);if(!d){d=e(c);var a,l;let f=(l=(a=d.props.id)!==null&&a!==void 0?a:c.key)!==null&&l!==void 0?l:c.id;if(f==null)throw new Error("Could not determine key for item");r!=null&&(f=r+":"+f),d=x.cloneElement(d,i?{key:f,id:f,value:c}:{key:f}),o.set(c,d)}u.push(d)}return u}else if(typeof e!="function")return e},[e,n,o,r,i])}if(typeof HTMLTemplateElement<"u"){const t=Object.getOwnPropertyDescriptor(Node.prototype,"firstChild").get;Object.defineProperty(HTMLTemplateElement.prototype,"firstChild",{configurable:!0,enumerable:!0,get:function(){return this.dataset.reactAriaHidden?this.content.firstChild:t.call(this)}})}const oD=x.createContext(!1);function JIe(t){if(x.useContext(oD))return xe.createElement(xe.Fragment,null,t.children);let n=xe.createElement(oD.Provider,{value:!0},t.children);return xe.createElement("template",{"data-react-aria-hidden":!0},n)}function aC(t){let e=(n,r)=>x.useContext(oD)?null:t(n,r);return e.displayName=t.displayName||t.name,x.forwardRef(e)}function ZIe(){return x.useContext(oD)}var ok={exports:{}},ak={};var n9;function eBe(){if(n9)return ak;n9=1;var t=qE();function e(d,f){return d===f&&(d!==0||1/d===1/f)||d!==d&&f!==f}var n=typeof Object.is=="function"?Object.is:e,r=t.useState,i=t.useEffect,s=t.useLayoutEffect,o=t.useDebugValue;function a(d,f){var p=f(),m=r({inst:{value:p,getSnapshot:f}}),v=m[0].inst,y=m[1];return s(function(){v.value=p,v.getSnapshot=f,l(v)&&y({inst:v})},[d,p,f]),i(function(){return l(v)&&y({inst:v}),d(function(){l(v)&&y({inst:v})})},[d]),o(p),p}function l(d){var f=d.getSnapshot;d=d.value;try{var p=f();return!n(d,p)}catch{return!0}}function u(d,f){return f()}var c=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?u:a;return ak.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:c,ak}var r9;function cne(){return r9||(r9=1,ok.exports=eBe()),ok.exports}var tBe=cne();const dne=x.createContext(!1),a3=x.createContext(null);function l4(t){if(x.useContext(a3))return t.content;let{collection:n,document:r}=sBe(t.createCollection);return xe.createElement(xe.Fragment,null,xe.createElement(JIe,null,xe.createElement(a3.Provider,{value:r},t.content)),xe.createElement(nBe,{render:t.children,collection:n}))}function nBe({collection:t,render:e}){return e(t)}function rBe(t,e,n){let r=ov(),i=x.useRef(r);i.current=r;let s=x.useCallback(()=>i.current?n():e(),[e,n]);return tBe.useSyncExternalStore(t,s)}const iBe=typeof xe.useSyncExternalStore=="function"?xe.useSyncExternalStore:rBe;function sBe(t){let[e]=x.useState(()=>new XIe(t?.()||new YIe)),n=x.useCallback(o=>e.subscribe(o),[e]),r=x.useCallback(()=>{let o=e.getCollection();return e.isSSR&&e.resetAfterSSR(),o},[e]),i=x.useCallback(()=>(e.isSSR=!0,e.getCollection()),[e]);return{collection:iBe(n,r,i),document:e}}const r8=x.createContext(null);function oBe(t){var e;return e=class extends q0{},e.type=t,e}function hne(t,e,n,r,i,s){typeof t=="string"&&(t=oBe(t));let o=x.useCallback(l=>{l?.setProps(e,n,t,r,s)},[e,n,r,s,t]),a=x.useContext(r8);if(a){let l=a.ownerDocument.nodesByProps.get(e);return l||(l=a.ownerDocument.createElement(t.type),l.setProps(e,n,t,r,s),a.appendChild(l),a.ownerDocument.updateCollection(),a.ownerDocument.nodesByProps.set(e,l)),i?xe.createElement(r8.Provider,{value:l},i):null}return xe.createElement(t.type,{ref:o},i)}function u4(t,e){let n=({node:i})=>e(i.props,i.props.ref,i),r=x.forwardRef((i,s)=>{let o=x.useContext(W6);if(!x.useContext(dne)){if(e.length>=3)throw new Error(e.name+" cannot be rendered outside a collection.");return e(i,s)}return hne(t,i,s,"children"in i?i.children:null,null,l=>xe.createElement(W6.Provider,{value:o},xe.createElement(n,{node:l})))});return r.displayName=e.name,r}function aBe(t,e,n=fne){let r=({node:s})=>e(s.props,s.props.ref,s),i=x.forwardRef((s,o)=>{let a=n(s);var l;return(l=hne(t,s,o,null,a,u=>xe.createElement(r,{node:u})))!==null&&l!==void 0?l:xe.createElement(xe.Fragment,null)});return i.displayName=e.name,i}function fne(t){return p$({...t,addIdAndValue:!0})}const i9=x.createContext(null);function TT(t){let e=x.useContext(i9),n=(e?.dependencies||[]).concat(t.dependencies);var r;let i=(r=t.idScope)!==null&&r!==void 0?r:e?.idScope,s=fne({...t,idScope:i,dependencies:n});return x.useContext(a3)&&(s=xe.createElement(lBe,null,s)),e=x.useMemo(()=>({dependencies:n,idScope:i}),[i,...n]),xe.createElement(i9.Provider,{value:e},s)}function lBe({children:t}){let e=x.useContext(a3),n=x.useMemo(()=>xe.createElement(a3.Provider,{value:null},xe.createElement(dne.Provider,{value:!0},t)),[t]);return ov()?xe.createElement(r8.Provider,{value:e},n):Xy.createPortal(n,e)}const uBe=x.createContext(null),g$={CollectionRoot({collection:t,renderDropIndicator:e}){return s9(t,null,e)},CollectionBranch({collection:t,parent:e,renderDropIndicator:n}){return s9(t,e,n)}};function s9(t,e,n){return p$({items:e?t.getChildren(e.key):t,dependencies:[n],children(r){let i=r.render(r);return!n||r.type!=="item"?i:xe.createElement(xe.Fragment,null,n({type:"item",key:r.key,dropPosition:"before"}),i,cBe(t,r,n))}})}function cBe(t,e,n){let r=e.key,i=t.getKeyAfter(r),s=i!=null?t.getItem(i):null;for(;s!=null&&s.type!=="item";)i=t.getKeyAfter(s.key),s=i!=null?t.getItem(i):null;let o=e.nextKey!=null?t.getItem(e.nextKey):null;for(;o!=null&&o.type!=="item";)o=o.nextKey!=null?t.getItem(o.nextKey):null;let a=[];if(o==null){let l=e;for(;l?.type==="item"&&(!s||l.parentKey!==s.parentKey&&s.level<l.level);){let u=n({type:"item",key:l.key,dropPosition:"after"});x.isValidElement(u)&&a.push(x.cloneElement(u,{key:`${l.key}-after`})),l=l.parentKey!=null?t.getItem(l.parentKey):null}}return a}const dv=x.createContext(g$);function dBe(t){return x.useMemo(()=>t!=null?new Set([t]):null,[t])}function pne(t,e){let{elementType:n="button",isDisabled:r,onPress:i,onPressStart:s,onPressEnd:o,onPressUp:a,onPressChange:l,preventFocusOnPress:u,allowFocusWhenDisabled:c,onClick:d,href:f,target:p,rel:m,type:v="button"}=t,y;n==="button"?y={type:v,disabled:r,form:t.form,formAction:t.formAction,formEncType:t.formEncType,formMethod:t.formMethod,formNoValidate:t.formNoValidate,formTarget:t.formTarget,name:t.name,value:t.value}:y={role:"button",href:n==="a"&&!r?f:void 0,target:n==="a"?p:void 0,type:n==="input"?v:void 0,disabled:n==="input"?r:void 0,"aria-disabled":!r||n==="input"?void 0:r,rel:n==="a"?m:void 0};let{pressProps:A,isPressed:C}=tv({onPressStart:s,onPressEnd:o,onPressChange:l,onPress:i,onPressUp:a,onClick:d,isDisabled:r,preventFocusOnPress:u,ref:e}),{focusableProps:E}=sS(t,e);c&&(E.tabIndex=r?-1:E.tabIndex);let I=on(E,A,cr(t,{labelable:!0}));return{isPressed:C,buttonProps:on(y,I,{"aria-haspopup":t["aria-haspopup"],"aria-expanded":t["aria-expanded"],"aria-controls":t["aria-controls"],"aria-pressed":t["aria-pressed"],"aria-current":t["aria-current"],"aria-disabled":t["aria-disabled"]})}}function gne(t,e,n){const{isSelected:r}=e,{isPressed:i,buttonProps:s}=pne({...t,onPress:If(e.toggle,t.onPress)},n);return{isPressed:i,isSelected:r,isDisabled:t.isDisabled||!1,buttonProps:on(s,{"aria-pressed":r})}}function hBe(t,e){const{"aria-label":n,"aria-labelledby":r,orientation:i="horizontal"}=t;let[s,o]=x.useState(!1);di(()=>{var m;o(!!(e.current&&(!((m=e.current.parentElement)===null||m===void 0)&&m.closest('[role="toolbar"]'))))});const{direction:a}=yo(),l=a==="rtl"&&i==="horizontal";let u=fIe(e);const c=m=>{if(m.currentTarget.contains(m.target)){if(i==="horizontal"&&m.key==="ArrowRight"||i==="vertical"&&m.key==="ArrowDown")l?u.focusPrevious():u.focusNext();else if(i==="horizontal"&&m.key==="ArrowLeft"||i==="vertical"&&m.key==="ArrowUp")l?u.focusNext():u.focusPrevious();else if(m.key==="Tab"){m.stopPropagation(),d.current=document.activeElement,m.shiftKey?u.focusFirst():u.focusLast();return}else return;m.stopPropagation(),m.preventDefault()}},d=x.useRef(null),f=m=>{!m.currentTarget.contains(m.relatedTarget)&&!d.current&&(d.current=m.target)},p=m=>{var v;if(d.current&&!m.currentTarget.contains(m.relatedTarget)&&(!((v=e.current)===null||v===void 0)&&v.contains(m.target))){var y;(y=d.current)===null||y===void 0||y.focus(),d.current=null}};return{toolbarProps:{...cr(t,{labelable:!0}),role:s?"group":"toolbar","aria-orientation":i,"aria-label":n,"aria-labelledby":n==null?r:void 0,onKeyDownCapture:s?void 0:c,onFocusCapture:s?void 0:p,onBlurCapture:s?void 0:f}}}function fBe(t,e,n){let{isDisabled:r}=t,{toolbarProps:i}=hBe(t,n);return{groupProps:{...i,role:e.selectionMode==="single"?"radiogroup":i.role,"aria-disabled":r}}}function pBe(t,e,n){let r={isSelected:e.selectedKeys.has(t.id),defaultSelected:!1,setSelected(l){e.setSelected(t.id,l)},toggle(){e.toggleKey(t.id)}},{isPressed:i,isSelected:s,isDisabled:o,buttonProps:a}=gne({...t,id:void 0,isDisabled:t.isDisabled||e.isDisabled},r,n);return e.selectionMode==="single"&&(a.role="radio",a["aria-checked"]=r.isSelected,delete a["aria-pressed"]),{isPressed:i,isSelected:s,isDisabled:o,buttonProps:a}}function mne(t,e,n){let{isDisabled:r=!1,isReadOnly:i=!1,value:s,name:o,form:a,children:l,"aria-label":u,"aria-labelledby":c,validationState:d="valid",isInvalid:f,onPressStart:p,onPressEnd:m,onPressChange:v,onPress:y,onPressUp:A,onClick:C}=t,E=$=>{$.stopPropagation(),e.setSelected($.target.checked)},{pressProps:I,isPressed:D}=tv({onPressStart:p,onPressEnd:m,onPressChange:v,onPress:y,onPressUp:A,onClick:C,isDisabled:r}),{pressProps:T,isPressed:M}=tv({onPressStart:p,onPressEnd:m,onPressChange:v,onPressUp:A,onClick:C,onPress($){var z;y?.($),e.toggle(),(z=n.current)===null||z===void 0||z.focus()},isDisabled:r||i}),{focusableProps:P}=sS(t,n),k=on(I,P),L=cr(t,{labelable:!0});return av(n,e.defaultSelected,e.setSelected),{labelProps:on(T,{onClick:$=>$.preventDefault()}),inputProps:on(L,{"aria-invalid":f||d==="invalid"||void 0,"aria-errormessage":t["aria-errormessage"],"aria-controls":t["aria-controls"],"aria-readonly":i||void 0,onChange:E,disabled:r,...s==null?{}:{value:s},name:o,form:a,type:"checkbox",...k}),isSelected:e.isSelected,isPressed:D||M,isDisabled:r,isReadOnly:i,isInvalid:f||d==="invalid"}}function Ane(t,e,n){let r=cv({...t,value:e.isSelected}),{isInvalid:i,validationErrors:s,validationDetails:o}=r.displayValidation,{labelProps:a,inputProps:l,isSelected:u,isPressed:c,isDisabled:d,isReadOnly:f}=mne({...t,isInvalid:i},e,n);BT(t,r,n);let{isIndeterminate:p,isRequired:m,validationBehavior:v="aria"}=t;x.useEffect(()=>{n.current&&(n.current.indeterminate=!!p)});let{pressProps:y}=tv({isDisabled:d||f,onPress(){let{[zx]:A}=t,{commitValidation:C}=A||r;C()}});return{labelProps:on(a,y,x.useMemo(()=>({onMouseDown:A=>A.preventDefault()}),[])),inputProps:{...l,checked:u,"aria-required":m&&v==="aria"||void 0,required:m&&v==="native"},isSelected:u,isPressed:c,isDisabled:d,isReadOnly:f,isInvalid:i,validationErrors:s,validationDetails:o}}const gBe=new WeakMap;function MT(t={}){let{isReadOnly:e}=t,[n,r]=al(t.isSelected,t.defaultSelected||!1,t.onChange),[i]=x.useState(n);function s(l){e||r(l)}function o(){e||r(!n)}var a;return{isSelected:n,defaultSelected:(a=t.defaultSelected)!==null&&a!==void 0?a:i,setSelected:s,toggle:o}}function mBe(t){let{selectionMode:e="single",disallowEmptySelection:n,isDisabled:r=!1}=t,[i,s]=al(x.useMemo(()=>t.selectedKeys?new Set(t.selectedKeys):void 0,[t.selectedKeys]),x.useMemo(()=>t.defaultSelectedKeys?new Set(t.defaultSelectedKeys):new Set,[t.defaultSelectedKeys]),t.onSelectionChange);return{selectionMode:e,isDisabled:r,selectedKeys:i,setSelectedKeys:s,toggleKey(o){let a;e==="multiple"?(a=new Set(i),a.has(o)&&(!n||a.size>1)?a.delete(o):a.add(o)):a=new Set(i.has(o)&&!n?[]:[o]),s(a)},setSelected(o,a){a!==i.has(o)&&this.toggleKey(o)}}}function ABe(t,e,n){const r=MT({isReadOnly:t.isReadOnly||e.isReadOnly,isSelected:e.isSelected(t.value),defaultSelected:e.defaultValue.includes(t.value),onChange(A){A?e.addValue(t.value):e.removeValue(t.value),t.onChange&&t.onChange(A)}});let{name:i,form:s,descriptionId:o,errorMessageId:a,validationBehavior:l}=gBe.get(e);var u;l=(u=t.validationBehavior)!==null&&u!==void 0?u:l;let{realtimeValidation:c}=cv({...t,value:r.isSelected,name:void 0,validationBehavior:"aria"}),d=x.useRef(O1),f=()=>{e.setInvalid(t.value,c.isInvalid?c:d.current)};x.useEffect(f);let p=e.realtimeValidation.isInvalid?e.realtimeValidation:c,m=l==="native"?e.displayValidation:p;var v;let y=Ane({...t,isReadOnly:t.isReadOnly||e.isReadOnly,isDisabled:t.isDisabled||e.isDisabled,name:t.name||i,form:t.form||s,isRequired:(v=t.isRequired)!==null&&v!==void 0?v:e.isRequired,validationBehavior:l,[zx]:{realtimeValidation:p,displayValidation:m,resetValidation:e.resetValidation,commitValidation:e.commitValidation,updateValidation(A){d.current=A,f()}}},r,n);return{...y,inputProps:{...y.inputProps,"aria-describedby":[t["aria-describedby"],e.isInvalid?a:null,o].filter(Boolean).join(" ")||void 0}}}var yne={};yne={colorInputLabel:t=>`${t.label}, ${t.channelLabel}`,colorNameAndValue:t=>`${t.name}: ${t.value}`,colorPicker:"  ",colorSwatch:" ",transparent:"",twoDimensionalSlider:" 2D"};var vne={};vne={colorInputLabel:t=>`${t.label}, ${t.channelLabel}`,colorNameAndValue:t=>`${t.name}: ${t.value}`,colorPicker:"    ",colorSwatch:" ",transparent:"",twoDimensionalSlider:"2D "};var bne={};bne={colorInputLabel:t=>`${t.label}, ${t.channelLabel}`,colorNameAndValue:t=>`${t.name}: ${t.value}`,colorPicker:"Vbr barvy",colorSwatch:"barevn vzorek",transparent:"prhledn",twoDimensionalSlider:"2D posuvnk"};var xne={};xne={colorInputLabel:t=>`${t.label}, ${t.channelLabel}`,colorNameAndValue:t=>`${t.name}: ${t.value}`,colorPicker:"Farvevlger",colorSwatch:"farveprve",transparent:"gennemsigtig",twoDimensionalSlider:"2D-skyder"};var Cne={};Cne={colorInputLabel:t=>`${t.label}, ${t.channelLabel}`,colorNameAndValue:t=>`${t.name}: ${t.value}`,colorPicker:"Farbwhler",colorSwatch:"Farbfeld",transparent:"transparent",twoDimensionalSlider:"2D-Schieberegler"};var Ene={};Ene={colorInputLabel:t=>`${t.label}, ${t.channelLabel}`,colorNameAndValue:t=>`${t.name}: ${t.value}`,colorPicker:" ",colorSwatch:" ",transparent:"",twoDimensionalSlider:" 2D"};var Sne={};Sne={colorPicker:"Color picker",twoDimensionalSlider:"2D slider",colorNameAndValue:t=>`${t.name}: ${t.value}`,colorInputLabel:t=>`${t.label}, ${t.channelLabel}`,colorSwatch:"color swatch",transparent:"transparent"};var wne={};wne={colorInputLabel:t=>`${t.label}, ${t.channelLabel}`,colorNameAndValue:t=>`${t.name}: ${t.value}`,colorPicker:"Selector de color",colorSwatch:"muestra de color",transparent:"transparente",twoDimensionalSlider:"Regulador 2D"};var _ne={};_ne={colorInputLabel:t=>`${t.label}, ${t.channelLabel}`,colorNameAndValue:t=>`${t.name}: ${t.value}`,colorPicker:"Vrvivalija",colorSwatch:"vrvinidis",transparent:"lbipaistev",twoDimensionalSlider:"2D-liugur"};var Ine={};Ine={colorInputLabel:t=>`${t.label}, ${t.channelLabel}`,colorNameAndValue:t=>`${t.name}: ${t.value}`,colorPicker:"Vrimuokkain",colorSwatch:"vrimalli",transparent:"lpinkyv",twoDimensionalSlider:"2D-liukusdin"};var Bne={};Bne={colorInputLabel:t=>`${t.label}, ${t.channelLabel}`,colorNameAndValue:t=>`${t.name}: ${t.value}`,colorPicker:"Slecteur de couleurs",colorSwatch:"chantillon de couleurs",transparent:"Transparent",twoDimensionalSlider:"Curseur2D"};var Dne={};Dne={colorInputLabel:t=>`${t.label}, ${t.channelLabel}`,colorNameAndValue:t=>`${t.name}: ${t.value}`,colorPicker:" ",colorSwatch:" ",transparent:"",twoDimensionalSlider:"  "};var Tne={};Tne={colorInputLabel:t=>`${t.label}, ${t.channelLabel}`,colorNameAndValue:t=>`${t.name}: ${t.value}`,colorPicker:"Odabir boje",colorSwatch:"uzorak boje",transparent:"transparentno",twoDimensionalSlider:"2D kliza"};var Mne={};Mne={colorInputLabel:t=>`${t.label}, ${t.channelLabel}`,colorNameAndValue:t=>`${t.name}: ${t.value}`,colorPicker:"Sznvlaszt",colorSwatch:"szntr",transparent:"tltsz",twoDimensionalSlider:"2D-csszka"};var kne={};kne={colorInputLabel:t=>`${t.label}, ${t.channelLabel}`,colorNameAndValue:t=>`${t.name}: ${t.value}`,colorPicker:"Selettore colore",colorSwatch:"campione di colore",transparent:"trasparente",twoDimensionalSlider:"Cursore 2D"};var Pne={};Pne={colorInputLabel:t=>`${t.label}${t.channelLabel}`,colorNameAndValue:t=>`${t.name} : ${t.value}`,colorPicker:"",colorSwatch:"",transparent:"",twoDimensionalSlider:"2D "};var Rne={};Rne={colorInputLabel:t=>`${t.label}, ${t.channelLabel}`,colorNameAndValue:t=>`${t.name}: ${t.value}`,colorPicker:" ",colorSwatch:" ",transparent:"",twoDimensionalSlider:"2D "};var Nne={};Nne={colorInputLabel:t=>`${t.label}, ${t.channelLabel}`,colorNameAndValue:t=>`${t.name}: ${t.value}`,colorPicker:"Spalv parinkiklis",colorSwatch:"spalv pavyzdys",transparent:"skaidrus",twoDimensionalSlider:"2D slankiklis"};var Lne={};Lne={colorInputLabel:t=>`${t.label}, ${t.channelLabel}`,colorNameAndValue:t=>`${t.name}: ${t.value}`,colorPicker:"Krsu atlastjs",colorSwatch:"krsu paraugs",transparent:"caurspdgs",twoDimensionalSlider:"2D sldnis"};var Fne={};Fne={colorInputLabel:t=>`${t.label}, ${t.channelLabel}`,colorNameAndValue:t=>`${t.name}: ${t.value}`,colorPicker:"Fargevelger",colorSwatch:"fargekart",transparent:"gjennomsiktig",twoDimensionalSlider:"2D-glidebryter"};var $ne={};$ne={colorInputLabel:t=>`${t.label}, ${t.channelLabel}`,colorNameAndValue:t=>`${t.name}: ${t.value}`,colorPicker:"Kleurkiezer",colorSwatch:"kleurstaal",transparent:"transparant",twoDimensionalSlider:"2D-schuifregelaar"};var zne={};zne={colorInputLabel:t=>`${t.label}, ${t.channelLabel}`,colorNameAndValue:t=>`${t.name}: ${t.value}`,colorPicker:"Prbnik kolorw",colorSwatch:"prbka koloru",transparent:"przezroczysty",twoDimensionalSlider:"Suwak 2D"};var One={};One={colorInputLabel:t=>`${t.label}, ${t.channelLabel}`,colorNameAndValue:t=>`${t.name}: ${t.value}`,colorPicker:"Seletor de cores",colorSwatch:"amostra de cores",transparent:"transparente",twoDimensionalSlider:"Controle deslizante 2D"};var jne={};jne={colorInputLabel:t=>`${t.label}, ${t.channelLabel}`,colorNameAndValue:t=>`${t.name}: ${t.value}`,colorPicker:"Seletor de cores",colorSwatch:"amostra de cor",transparent:"transparente",twoDimensionalSlider:"Controle deslizante 2D"};var Qne={};Qne={colorInputLabel:t=>`${t.label}, ${t.channelLabel}`,colorNameAndValue:t=>`${t.name}: ${t.value}`,colorPicker:"Selector de culori",colorSwatch:"specimen de culoare",transparent:"transparent",twoDimensionalSlider:"Glisor 2D"};var Une={};Une={colorInputLabel:t=>`${t.label}, ${t.channelLabel}`,colorNameAndValue:t=>`${t.name}: ${t.value}`,colorPicker:" ",colorSwatch:" ",transparent:"",twoDimensionalSlider:" 2D"};var Hne={};Hne={colorInputLabel:t=>`${t.label}, ${t.channelLabel}`,colorNameAndValue:t=>`${t.name}: ${t.value}`,colorPicker:"Vber farieb",colorSwatch:"vzorkovnk farieb",transparent:"transparentn",twoDimensionalSlider:"2D jazdec"};var Vne={};Vne={colorInputLabel:t=>`${t.label}, ${t.channelLabel}`,colorNameAndValue:t=>`${t.name}: ${t.value}`,colorPicker:"Izbirnik barv",colorSwatch:"barvna paleta",transparent:"prozorno",twoDimensionalSlider:"2D drsnik"};var Gne={};Gne={colorInputLabel:t=>`${t.label}, ${t.channelLabel}`,colorNameAndValue:t=>`${t.name}: ${t.value}`,colorPicker:"Bira boja",colorSwatch:"Uzorak boje",transparent:"providno",twoDimensionalSlider:"2D kliza"};var Kne={};Kne={colorInputLabel:t=>`${t.label}, ${t.channelLabel}`,colorNameAndValue:t=>`${t.name}: ${t.value}`,colorPicker:"Frgvljaren",colorSwatch:"frgruta",transparent:"genomskinlig",twoDimensionalSlider:"2D-reglage"};var Wne={};Wne={colorInputLabel:t=>`${t.label}, ${t.channelLabel}`,colorNameAndValue:t=>`${t.name}: ${t.value}`,colorPicker:"Renk Seici",colorSwatch:"renk rnei",transparent:"saydam",twoDimensionalSlider:"2D srg"};var qne={};qne={colorInputLabel:t=>`${t.label}, ${t.channelLabel}`,colorNameAndValue:t=>`${t.name}: ${t.value}`,colorPicker:" ",colorSwatch:" ",transparent:"",twoDimensionalSlider:" 2D"};var Yne={};Yne={colorInputLabel:t=>`${t.label}${t.channelLabel}`,colorNameAndValue:t=>`${t.name}${t.value}`,colorPicker:"",colorSwatch:"",transparent:"",twoDimensionalSlider:"2D "};var Xne={};Xne={colorInputLabel:t=>`${t.label}${t.channelLabel}`,colorNameAndValue:t=>`${t.name}${t.value}`,colorPicker:"",colorSwatch:"",transparent:"",twoDimensionalSlider:"2D "};var m$={};m$={"ar-AE":yne,"bg-BG":vne,"cs-CZ":bne,"da-DK":xne,"de-DE":Cne,"el-GR":Ene,"en-US":Sne,"es-ES":wne,"et-EE":_ne,"fi-FI":Ine,"fr-FR":Bne,"he-IL":Dne,"hr-HR":Tne,"hu-HU":Mne,"it-IT":kne,"ja-JP":Pne,"ko-KR":Rne,"lt-LT":Nne,"lv-LV":Lne,"nb-NO":Fne,"nl-NL":$ne,"pl-PL":zne,"pt-BR":One,"pt-PT":jne,"ro-RO":Qne,"ru-RU":Une,"sk-SK":Hne,"sl-SI":Vne,"sr-SP":Gne,"sv-SE":Kne,"tr-TR":Wne,"uk-UA":qne,"zh-CN":Yne,"zh-TW":Xne};var Jne={};Jne={alpha:"",black:"",blue:"","blue purple":" ",brightness:"",brown:"","brown yellow":" ",colorName:t=>`${t.lightness} ${t.chroma} ${t.hue}`,cyan:"","cyan blue":" ",dark:"",gray:"",grayish:" ",green:"","green cyan":" ",hue:" ",light:"",lightness:"",magenta:"","magenta pink":" ",orange:"","orange yellow":" ",pale:"",pink:"","pink red":" ",purple:"","purple magenta":"",red:"","red orange":" ",saturation:"",transparentColorName:t=>`${t.lightness} ${t.chroma} ${t.hue}, ${t.percentTransparent} `,"very dark":" ","very light":" ",vibrant:"",white:"",yellow:"","yellow green":" "};var Zne={};Zne={alpha:"",black:"",blue:"","blue purple":" ",brightness:"",brown:"","brown yellow":" ",colorName:t=>`${t.lightness} ${t.chroma} ${t.hue}`,cyan:"","cyan blue":" ",dark:"",gray:"",grayish:"",green:"","green cyan":" ",hue:"",light:"",lightness:"",magenta:"","magenta pink":" ",orange:"","orange yellow":" ",pale:"",pink:"","pink red":" ",purple:"","purple magenta":" ",red:"","red orange":" ",saturation:"",transparentColorName:t=>`${t.lightness} ${t.chroma} ${t.hue}, ${t.percentTransparent} `,"very dark":" ","very light":" ",vibrant:" ",white:"",yellow:"","yellow green":" "};var ere={};ere={alpha:"Alfa",black:"ern",blue:"Modr","blue purple":"modrofialov",brightness:"Jas",brown:"hnd","brown yellow":"hndolut",colorName:t=>`${t.lightness} ${t.chroma} ${t.hue}`,cyan:"tyrkysov","cyan blue":"tyrkysovomodr",dark:"tmav",gray:"ed",grayish:"naedl",green:"Zelen","green cyan":"zelenotyrkysov",hue:"Odstn",light:"svtl",lightness:"Svtlost",magenta:"purpurov","magenta pink":"purpurov rov",orange:"oranov","orange yellow":"oranovolut",pale:"bled",pink:"rov","pink red":"rovoerven",purple:"fialov","purple magenta":"fialov purpurov",red:"erven","red orange":"ervenooranov",saturation:"Sytost",transparentColorName:t=>`${t.lightness} ${t.chroma} ${t.hue}, ${t.percentTransparent} prhledn`,"very dark":"velmi tmav","very light":"velmi svtl",vibrant:"ziv",white:"bl",yellow:"lut","yellow green":"lutozelen"};var tre={};tre={alpha:"Alfa",black:"sort",blue:"Bl","blue purple":"bllilla",brightness:"Lysstyrke",brown:"brun","brown yellow":"brungul",colorName:t=>`${t.lightness} ${t.chroma} ${t.hue}`,cyan:"cyan","cyan blue":"cyan bl",dark:"mrk",gray:"gr",grayish:"grlig",green:"Grn","green cyan":"grn cyan",hue:"Tone",light:"lys",lightness:"Lyshed",magenta:"magenta","magenta pink":"magenta pink",orange:"orange","orange yellow":"orangegul",pale:"bleg",pink:"lyserd","pink red":"lyserdlig rd",purple:"lilla","purple magenta":"lilla magenta",red:"Rd","red orange":"rdorange",saturation:"Farvemtning",transparentColorName:t=>`${t.lightness} ${t.chroma} ${t.hue}, ${t.percentTransparent} gennemsigtig`,"very dark":"meget mrk","very light":"meget lys",vibrant:"klar",white:"hvid",yellow:"gul","yellow green":"gulgrn"};var nre={};nre={alpha:"Alpha",black:"Schwarz",blue:"Blau","blue purple":"Blaulila",brightness:"Helligkeit",brown:"Braun","brown yellow":"Braungelb",colorName:t=>`${t.lightness} ${t.chroma} ${t.hue}`,cyan:"Cyan","cyan blue":"Cyanblau",dark:"dunkles",gray:"Grau",grayish:"gruliches",green:"Grn","green cyan":"Grncyan",hue:"Farbton",light:"helles",lightness:"Leuchtkraft",magenta:"Magenta","magenta pink":"Magentarosa",orange:"Orange","orange yellow":"Orangegelb",pale:"blasses",pink:"Rosa","pink red":"Rosarot",purple:"Lila","purple magenta":"Lilamagenta",red:"Rot","red orange":"Rotorange",saturation:"Sttigung",transparentColorName:t=>`${t.lightness} ${t.chroma} ${t.hue}, zu ${t.percentTransparent} transparent`,"very dark":"sehr dunkles","very light":"sehr helles",vibrant:"lebhaftes",white:"Wei",yellow:"Gelb","yellow green":"Gelbgrn"};var rre={};rre={alpha:"",black:"",blue:"","blue purple":" ",brightness:"",brown:"","brown yellow":" ",colorName:t=>`${t.lightness} ${t.chroma} ${t.hue}`,cyan:"","cyan blue":" ",dark:"",gray:"",grayish:"",green:"","green cyan":" ",hue:"",light:"",lightness:"",magenta:"","magenta pink":" ",orange:"","orange yellow":" ",pale:"",pink:"","pink red":" ",purple:"","purple magenta":" ",red:"","red orange":" ",saturation:"",transparentColorName:t=>`${t.lightness} ${t.chroma} ${t.hue}, ${t.percentTransparent} `,"very dark":" ","very light":" ",vibrant:"",white:"",yellow:"","yellow green":" "};var ire={};ire={hue:"Hue",saturation:"Saturation",lightness:"Lightness",brightness:"Brightness",red:"Red",green:"Green",blue:"Blue",alpha:"Alpha",colorName:t=>`${t.lightness} ${t.chroma} ${t.hue}`,transparentColorName:t=>`${t.lightness} ${t.chroma} ${t.hue}, ${t.percentTransparent} transparent`,"very dark":"very dark",dark:"dark",light:"light","very light":"very light",pale:"pale",grayish:"grayish",vibrant:"vibrant",black:"black",white:"white",gray:"gray",pink:"pink","pink red":"pink red","red orange":"red orange",brown:"brown",orange:"orange","orange yellow":"orange yellow","brown yellow":"brown yellow",yellow:"yellow","yellow green":"yellow green","green cyan":"green cyan",cyan:"cyan","cyan blue":"cyan blue","blue purple":"blue purple",purple:"purple","purple magenta":"purple magenta",magenta:"magenta","magenta pink":"magenta pink"};var sre={};sre={alpha:"Alpha",black:"negro",blue:"Azul","blue purple":"prpura azulado",brightness:"Brillo",brown:"marrn","brown yellow":"amarillo amarronado",colorName:t=>`${t.lightness} ${t.chroma} ${t.hue}`,cyan:"cian","cyan blue":"azul cian",dark:"oscuro",gray:"gris",grayish:"grisceo",green:"Verde","green cyan":"cian verdoso",hue:"Tono",light:"claro",lightness:"Luminosidad",magenta:"magenta","magenta pink":"rosa magenta",orange:"naranja","orange yellow":"amarillo anaranjado",pale:"plido",pink:"rosa","pink red":"rojo rosado",purple:"morado","purple magenta":"magenta violceo",red:"Rojo","red orange":"naranja rojizo",saturation:"Saturacin",transparentColorName:t=>`${t.lightness} ${t.chroma} ${t.hue}, ${t.percentTransparent} transparente`,"very dark":"muy oscuro","very light":"muy claro",vibrant:"intenso",white:"blanco",yellow:"amarillo","yellow green":"verde amarillento"};var ore={};ore={alpha:"Alfa",black:"must",blue:"Sinine","blue purple":"sinakaslilla",brightness:"Heledus",brown:"pruun","brown yellow":"pruunikaskollane",colorName:t=>`${t.lightness} ${t.chroma} ${t.hue}`,cyan:"tsaan","cyan blue":"tsaansinine",dark:"tume",gray:"hall",grayish:"hallikas",green:"Roheline","green cyan":"tsaanroheline",hue:"Vrv",light:"valgus",lightness:"Valgus",magenta:"magentapunane","magenta pink":"magentaroosa",orange:"oran","orange yellow":"oranikaskollane",pale:"kahvatu",pink:"roosa","pink red":"vaarikapunane",purple:"lilla","purple magenta":"purpurne magenta",red:"Punane","red orange":"punakasoran",saturation:"Kllastus",transparentColorName:t=>`${t.lightness} ${t.chroma} ${t.hue}, ${t.percentTransparent} lbipaistev`,"very dark":"vga tume","very light":"vga hele",vibrant:"ere",white:"valge",yellow:"kollane","yellow green":"kollakasroheline"};var are={};are={alpha:"Alpha",black:"musta",blue:"Sininen","blue purple":"sinivioletti",brightness:"Kirkkaus",brown:"ruskea","brown yellow":"ruskeankeltainen",colorName:t=>`${t.lightness} ${t.chroma} ${t.hue}`,cyan:"syaani","cyan blue":"syaaninsininen",dark:"tumma",gray:"harmaa",grayish:"harmahtava",green:"Vihre","green cyan":"vihrensyaani",hue:"Svy",light:"vaalea",lightness:"Valomr",magenta:"magenta","magenta pink":"magentapinkki",orange:"oranssi","orange yellow":"oranssinkeltainen",pale:"vaalea",pink:"pinkki","pink red":"vaaleanpunainen",purple:"violetti","purple magenta":"violettimagenta",red:"Punainen","red orange":"punaoranssi",saturation:"Vrikyllisyys",transparentColorName:t=>`${t.lightness} ${t.chroma} ${t.hue}, ${t.percentTransparent} lpinkyv`,"very dark":"hyvin tumma","very light":"erittin vaalea",vibrant:"eloisa",white:"valkea",yellow:"keltainen","yellow green":"keltavihre"};var lre={};lre={alpha:"Alpha",black:"Noir",blue:"Bleu","blue purple":"Violet bleu",brightness:"Luminosit",brown:"Brun","brown yellow":"Jaune brun",colorName:t=>`${t.lightness} ${t.chroma} ${t.hue}`,cyan:"Cyan","cyan blue":"Bleu cyan",dark:"Sombre",gray:"Gris",grayish:"Gristre",green:"Vert","green cyan":"Cyan vert",hue:"Teinte",light:"Clair",lightness:"Luminosit",magenta:"Magenta","magenta pink":"Rose magenta",orange:"Orange","orange yellow":"Jaune orang",pale:"Ple",pink:"Rose","pink red":"Rouge ros",purple:"Violet","purple magenta":"Magenta violet",red:"Rouge","red orange":"Orange rouge",saturation:"Saturation",transparentColorName:t=>`${t.lightness} ${t.chroma} ${t.hue}, ${t.percentTransparent} transparent`,"very dark":"Trs sombre","very light":"Trs clair",vibrant:"Vif",white:"Blanc",yellow:"Jaune","yellow green":"Vert jaune"};var ure={};ure={alpha:"",black:"",blue:"","blue purple":" ",brightness:"",brown:"","brown yellow":" ",colorName:t=>`${t.lightness} ${t.chroma} ${t.hue}`,cyan:"","cyan blue":" ",dark:"",gray:"",grayish:"",green:"","green cyan":" ",hue:"",light:"",lightness:" ",magenta:"'","magenta pink":" '",orange:"","orange yellow":" ",pale:"",pink:"","pink red":" ",purple:"","purple magenta":"' ",red:"","red orange":" ",saturation:"",transparentColorName:t=>`${t.lightness} ${t.chroma} ${t.hue}, ${t.percentTransparent} `,"very dark":" ","very light":" ",vibrant:"",white:"",yellow:"","yellow green":" "};var cre={};cre={alpha:"Alfa",black:"crno",blue:"Plava","blue purple":"plavo ljubiasta",brightness:"Svjetlina",brown:"smea","brown yellow":"smee uta",colorName:t=>`${t.lightness} ${t.chroma} ${t.hue}`,cyan:"cijan","cyan blue":"cijan plava",dark:"tamno",gray:"siva",grayish:"sivkasto",green:"Zelena","green cyan":"zelena cijan",hue:"Nijansa",light:"svjetlo",lightness:"Osvijetljenost",magenta:"magenta","magenta pink":"magentno ruiasta",orange:"naranasta","orange yellow":"naranasto uta",pale:"blijeda",pink:"ruiasta","pink red":"ruiasto crvena",purple:"ljubiasta","purple magenta":"ljubiasta magenta",red:"Crvena","red orange":"crveno naranasta",saturation:"Zasienost",transparentColorName:t=>`${t.lightness} ${t.chroma} ${t.hue}, ${t.percentTransparent} prozirnosti`,"very dark":"jako tamna","very light":"vrlo svijetlo",vibrant:"vibrantna",white:"bijela",yellow:"uto","yellow green":"uto zelena"};var dre={};dre={alpha:"Alfa",black:"fekete",blue:"Kk","blue purple":"kk lila",brightness:"Fnyessg",brown:"barna","brown yellow":"barna srga",colorName:t=>`${t.lightness} ${t.chroma} ${t.hue}`,cyan:"cinkk","cyan blue":"cinkk",dark:"stt",gray:"szrke",grayish:"szrks",green:"Zld","green cyan":"zld cinkk",hue:"Sznrnyalat",light:"vilgos",lightness:"Vilgossg",magenta:"bbor","magenta pink":"bbor rzsaszn",orange:"narancs","orange yellow":"narancssrga",pale:"halvny",pink:"rzsaszn","pink red":"rzsaszn piros",purple:"lila","purple magenta":"lila bbor",red:"Piros","red orange":"piros narancs",saturation:"Teltettsg",transparentColorName:t=>`${t.lightness} ${t.chroma} ${t.hue}, ${t.percentTransparent} tltsz`,"very dark":"nagyon stt","very light":"nagyon vilgos",vibrant:"lnk",white:"fehr",yellow:"srga","yellow green":"srga zld"};var hre={};hre={alpha:"Alfa",black:"nero",blue:"Blu","blue purple":"blu viola",brightness:"Luminosit",brown:"marrone","brown yellow":"giallo bruno",colorName:t=>`${t.hue} ${t.chroma} ${t.lightness}`,cyan:"ciano","cyan blue":"blu ciano",dark:"scuro",gray:"grigio",grayish:"grigiastro",green:"Verde","green cyan":"verde ciano",hue:"Tonalit",light:"chiaro",lightness:"Luminosit",magenta:"magenta","magenta pink":"rosa magenta",orange:"arancio","orange yellow":"giallo arancio",pale:"tenue",pink:"rosa","pink red":"rosa rosso",purple:"viola","purple magenta":"viola magenta",red:"Rosso","red orange":"rosso arancio",saturation:"Saturazione",transparentColorName:t=>`${t.hue} ${t.chroma} ${t.lightness}, trasparenza ${t.percentTransparent}`,"very dark":"molto scuro","very light":"molto chiaro",vibrant:"vivace",white:"bianco",yellow:"giallo","yellow green":"giallo verde"};var fre={};fre={alpha:"",black:"",blue:"","blue purple":"",brightness:"",brown:"","brown yellow":"",colorName:t=>`${t.lightness} ${t.chroma} ${t.hue}`,cyan:"","cyan blue":"",dark:"",gray:"",grayish:"",green:"","green cyan":"",hue:"",light:"",lightness:"",magenta:"","magenta pink":"",orange:"","orange yellow":"",pale:"",pink:"","pink red":"",purple:"","purple magenta":"",red:"","red orange":"",saturation:"",transparentColorName:t=>`${t.lightness} ${t.chroma} ${t.hue}, ${t.percentTransparent} `,"very dark":"","very light":"",vibrant:"",white:"",yellow:"","yellow green":""};var pre={};pre={alpha:"",black:"",blue:"","blue purple":"",brightness:"",brown:"","brown yellow":"",colorName:t=>`${t.lightness}, ${t.chroma}, ${t.hue}`,cyan:"","cyan blue":"",dark:"",gray:"",grayish:"",green:"","green cyan":"",hue:"",light:"",lightness:"",magenta:"","magenta pink":" ",orange:"","orange yellow":" ",pale:"",pink:"","pink red":" ",purple:"","purple magenta":" ",red:"","red orange":" ",saturation:"",transparentColorName:t=>`${t.lightness}, ${t.chroma}, ${t.hue}, ${t.percentTransparent} `,"very dark":" ","very light":" ",vibrant:"",white:"",yellow:"","yellow green":""};var gre={};gre={alpha:"Alfa",black:"juoda",blue:"Mlyna","blue purple":"melsvai violetin",brightness:"Rykumas",brown:"ruda","brown yellow":"rusvai geltona",colorName:t=>`${t.lightness} ${t.chroma} ${t.hue}`,cyan:"alsvai mlyna","cyan blue":"alsvai mlyna",dark:"tamsi",gray:"pilka",grayish:"pilkva",green:"alia","green cyan":"alsvai mlyna",hue:"Atspalvis",light:"viesi",lightness:"viesumas",magenta:"rausvai raudona","magenta pink":"purpurin",orange:"oranin","orange yellow":"oraninio atspalvio geltona",pale:"blyki",pink:"roin","pink red":"roin raudona",purple:"violetin","purple magenta":"purpurin rausvai raudona",red:"Raudona","red orange":"rausvai oranin",saturation:"sotinimas",transparentColorName:t=>`${t.lightness} ${t.chroma} ${t.hue}, ${t.percentTransparent} skaidri`,"very dark":"labai tamsi","very light":"labai viesi",vibrant:"ryki",white:"balta",yellow:"geltona","yellow green":"gelsvai alia"};var mre={};mre={alpha:"Alfa",black:"melns",blue:"Zila","blue purple":"zili violets",brightness:"Spilgtums",brown:"brns","brown yellow":"brni dzeltens",colorName:t=>`${t.lightness} ${t.chroma} ${t.hue}`,cyan:"cins","cyan blue":"cina zils",dark:"tums",gray:"pelks",grayish:"pelcgs",green:"Zaa","green cyan":"za cins",hue:"Nokrsa",light:"gais",lightness:"Gaiums",magenta:"fuksiju","magenta pink":"fuksiju roz",orange:"orans","orange yellow":"orani dzeltens",pale:"bls",pink:"roz","pink red":"rozgi sarkans",purple:"violets","purple magenta":"violets fuksiju",red:"Sarkana","red orange":"sarkangi orans",saturation:"Piestinjums",transparentColorName:t=>`${t.lightness} ${t.chroma} ${t.hue}, ${t.percentTransparent} caurspdgs`,"very dark":"oti tums","very light":"oti gais",vibrant:"kos",white:"balts",yellow:"dzeltens","yellow green":"dzelteni za"};var Are={};Are={alpha:"Alfa",black:"svart",blue:"Bl","blue purple":"bllilla",brightness:"Lysstyrke",brown:"brun","brown yellow":"brungul",colorName:t=>`${t.lightness} ${t.chroma} ${t.hue}`,cyan:"cyan","cyan blue":"cyanbl",dark:"mrk",gray:"gr",grayish:"graktig",green:"Grnn","green cyan":"grnncyan",hue:"Fargetone",light:"lys",lightness:"Lyshet",magenta:"magenta","magenta pink":"magentarosa",orange:"oransje","orange yellow":"oransjegul",pale:"blek",pink:"rosa","pink red":"rosard",purple:"lilla","purple magenta":"lillamagenta",red:"Rd","red orange":"rdoransje",saturation:"Metning",transparentColorName:t=>`${t.lightness} ${t.chroma} ${t.hue}, ${t.percentTransparent} gjennomsiktig`,"very dark":"svrt mrk","very light":"svrt lys",vibrant:"levende",white:"hvit",yellow:"gul","yellow green":"gulgrnn"};var yre={};yre={alpha:"Alfa",black:"zwart",blue:"Blauw","blue purple":"paarsblauw",brightness:"Helderheid",brown:"bruin","brown yellow":"bruingeel",colorName:t=>`${t.lightness} ${t.chroma} ${t.hue}`,cyan:"cyaan","cyan blue":"cyaanblauw",dark:"donker",gray:"grijs",grayish:"grijsachtig",green:"Groen","green cyan":"cyaangroen",hue:"Kleurtoon",light:"licht",lightness:"Lichtsterkte",magenta:"magenta","magenta pink":"magentaroze",orange:"oranje","orange yellow":"oranjegeel",pale:"bleek",pink:"roze","pink red":"rozerood",purple:"paars","purple magenta":"magentapaars",red:"Rood","red orange":"roodoranje",saturation:"Verzadiging",transparentColorName:t=>`${t.lightness} ${t.chroma} ${t.hue}, ${t.percentTransparent} transparant`,"very dark":"heel donker","very light":"heel licht",vibrant:"levendig",white:"wit",yellow:"geel","yellow green":"geelgroen"};var vre={};vre={alpha:"Alfa",black:"czarny",blue:"Niebieski","blue purple":"niebiesko-fioletowy",brightness:"Jasno",brown:"brzowy","brown yellow":"brzowo-ty",colorName:t=>`${t.lightness} ${t.chroma} ${t.hue}`,cyan:"cyjanowy","cyan blue":"cyjanowo-niebieski",dark:"ciemny",gray:"szary",grayish:"szarawy",green:"Zielony","green cyan":"zielono-cyjanowy",hue:"Odcie",light:"jasny",lightness:"Jaskrawo",magenta:"purpurowy","magenta pink":"purpurowo-rowy",orange:"pomaraczowy","orange yellow":"pomaraczowo-ty",pale:"blady",pink:"rowy","pink red":"rowo-czerwony",purple:"fioletowy","purple magenta":"fioletowo-purpurowy",red:"Czerwony","red orange":"czerwono-pomaraczowy",saturation:"Nasycenie",transparentColorName:t=>`${t.lightness} ${t.chroma} ${t.hue}, ${t.percentTransparent} przezroczystoci`,"very dark":"bardzo ciemny","very light":"bardzo jasny",vibrant:"intensywny",white:"biay",yellow:"ty","yellow green":"to-zielony"};var bre={};bre={alpha:"Alfa",black:"preto",blue:"Azul","blue purple":"roxo azulado",brightness:"Brilho",brown:"marrom","brown yellow":"marrom amarelado",colorName:t=>`${t.lightness} ${t.chroma} ${t.hue}`,cyan:"ciano","cyan blue":"azul-ciano",dark:"escuro",gray:"cinza",grayish:"acinzentado",green:"Verde","green cyan":"verde-ciano",hue:"Matiz",light:"claro",lightness:"Luminosidade",magenta:"magenta","magenta pink":"rosa-magenta",orange:"laranja","orange yellow":"amarelo alaranjado",pale:"plido",pink:"rosa","pink red":"rosa avermelhado",purple:"roxo","purple magenta":"roxo-magenta",red:"Vermelho","red orange":"laranja avermelhado",saturation:"Saturao",transparentColorName:t=>`${t.lightness} ${t.chroma} ${t.hue}, ${t.percentTransparent} transparente`,"very dark":"muito escuro","very light":"muito claro",vibrant:"vibrante",white:"branco",yellow:"amarelo","yellow green":"verde amarelado"};var xre={};xre={alpha:"Alfa",black:"preto",blue:"Azul","blue purple":"azul-prpura",brightness:"Luminosidade",brown:"castanho","brown yellow":"amarelo-castanho",colorName:t=>`${t.lightness} ${t.chroma} ${t.hue}`,cyan:"ciano","cyan blue":"azul-ciano",dark:"escuro",gray:"cinzento",grayish:"acinzentado",green:"Verde","green cyan":"verde-ciano",hue:"Tonalidade",light:"claro",lightness:"Claridade",magenta:"magenta","magenta pink":"rosa-magenta",orange:"laranja","orange yellow":"amarelo-laranja",pale:"plido",pink:"cor-de-rosa","pink red":"vermelho-rosa",purple:"prpura","purple magenta":"prpura-magenta",red:"Vermelho","red orange":"laranja-vermelho",saturation:"Saturao",transparentColorName:t=>`${t.lightness} ${t.chroma} ${t.hue}, ${t.percentTransparent} transparente`,"very dark":"muito escuro","very light":"muito claro",vibrant:"vibrante",white:"branco",yellow:"amarelo","yellow green":"verde-amarelo"};var Cre={};Cre={alpha:"Alfa",black:"negru",blue:"Albastru","blue purple":"albastru-violet",brightness:"Luminozitate",brown:"maro","brown yellow":"galben maro",colorName:t=>`${t.lightness} ${t.chroma} ${t.hue}`,cyan:"bleu","cyan blue":"albastru-bleu",dark:"nchis",gray:"gri",grayish:"cenuiu",green:"Verde","green cyan":"verde bleu",hue:"Nuan",light:"deschis",lightness:"Luminozitate",magenta:"fucsia","magenta pink":"roz-fucsia",orange:"portocaliu","orange yellow":"galben-portocaliu",pale:"pal",pink:"roz","pink red":"roz-rou",purple:"violet","purple magenta":"violet-fucsia",red:"Rou","red orange":"portocaliu-rou",saturation:"Saturaie",transparentColorName:t=>`${t.lightness} ${t.chroma} ${t.hue}, ${t.percentTransparent} transparent`,"very dark":"foarte nchis","very light":"foarte deschis",vibrant:"plin de via",white:"alb",yellow:"galben","yellow green":"galben-verde"};var Ere={};Ere={alpha:"",black:"",blue:"","blue purple":"-",brightness:"",brown:"","brown yellow":"-",colorName:t=>`${t.lightness} ${t.chroma} ${t.hue}`,cyan:"","cyan blue":"  ",dark:"",gray:"",grayish:"",green:"","green cyan":"-",hue:"",light:"",lightness:"",magenta:"","magenta pink":"-",orange:"","orange yellow":"-",pale:"",pink:"","pink red":"-",purple:"","purple magenta":"-",red:"","red orange":"-",saturation:"",transparentColorName:t=>`${t.lightness} ${t.chroma} ${t.hue},   ${t.percentTransparent}`,"very dark":" ","very light":" ",vibrant:"",white:"",yellow:"","yellow green":"-"};var Sre={};Sre={alpha:"Alfa",black:"ierna",blue:"Modr","blue purple":"modrofialov",brightness:"Jas",brown:"hned","brown yellow":"hnedolt",colorName:t=>`${t.lightness} ${t.chroma} ${t.hue}`,cyan:"azrov","cyan blue":"azrov modr",dark:"tmav",gray:"siv",grayish:"sivast",green:"Zelen","green cyan":"zelen azrov",hue:"Odtie",light:"svetl",lightness:"Svetlos",magenta:"purpurov","magenta pink":"ruov purpurov",orange:"oranov","orange yellow":"oranovolt",pale:"bled",pink:"ruov","pink red":"ruovoerven",purple:"fialov","purple magenta":"fialov purpurov",red:"erven","red orange":"ervenooranov",saturation:"Stos",transparentColorName:t=>`${t.lightness} ${t.chroma} ${t.hue}, ${t.percentTransparent} priehadn`,"very dark":"vemi tmav","very light":"vemi svetl",vibrant:"energick",white:"biela",yellow:"lt","yellow green":"ltozelen"};var wre={};wre={alpha:"Alfa",black:"rna",blue:"Modra","blue purple":"modro vijolina",brightness:"Svetlost",brown:"rjava","brown yellow":"rjavo rumena",colorName:t=>`${t.lightness} ${t.chroma} ${t.hue}`,cyan:"cian","cyan blue":"cian modra",dark:"temna",gray:"siva",grayish:"sivkasta",green:"Zelena","green cyan":"zelena cian",hue:"Barva",light:"svetla",lightness:"Lahkost",magenta:"krlatna","magenta pink":"krlatno roza",orange:"oranna","orange yellow":"oranno rumena",pale:"bleda",pink:"roza","pink red":"roza rdea",purple:"vijolina","purple magenta":"vijolino krlatna",red:"Rdea","red orange":"rdee oranna",saturation:"Nasienost",transparentColorName:t=>`${t.lightness} ${t.chroma} ${t.hue}, ${t.percentTransparent} prozorna`,"very dark":"zelo temna","very light":"zelo svetla",vibrant:"ivahna",white:"bela",yellow:"rumena","yellow green":"rumeno zelena"};var _re={};_re={alpha:"Alfa",black:"crno",blue:"Plava","blue purple":"plavoljubiasta",brightness:"Osvetljenost",brown:"smea","brown yellow":"smeeuta",colorName:t=>`${t.lightness} ${t.chroma} ${t.hue}`,cyan:"cijan","cyan blue":"cijan plava",dark:"tamno",gray:"siva",grayish:"sivkasta",green:"Zelena","green cyan":"zeleno cijan",hue:"Nijansa",light:"svetla",lightness:"Osvetljenje",magenta:"purpurnocrvena","magenta pink":"magenta ruiasta",orange:"narandasta","orange yellow":"narandastouta",pale:"bledo",pink:"ruiasta","pink red":"ruiastocrvena",purple:"ljubiasta","purple magenta":"ljubiasta magenta",red:"Crvena","red orange":"crvenonarandasta",saturation:"Zasienje",transparentColorName:t=>`${t.lightness} ${t.chroma} ${t.hue}, ${t.percentTransparent} prozirna`,"very dark":"veoma tamno","very light":"vrlo svetlo",vibrant:"ivopisna",white:"bela",yellow:"uto","yellow green":"utozelena"};var Ire={};Ire={alpha:"Alfa",black:"svart",blue:"Bltt","blue purple":"bllila",brightness:"Ljusstyrka",brown:"brun","brown yellow":"brungul",colorName:t=>`${t.lightness} ${t.chroma} ${t.hue}`,cyan:"cyan","cyan blue":"cyanbl",dark:"mrk",gray:"gr",grayish:"graktig",green:"Grnt","green cyan":"grn cyan",hue:"Nyans",light:"ljus",lightness:"Ljushet",magenta:"magenta","magenta pink":"magentarosa",orange:"orange","orange yellow":"orangegul",pale:"blek",pink:"rosa","pink red":"rosard",purple:"lila","purple magenta":"lila magenta",red:"Rtt","red orange":"rdorange",saturation:"Mttnad",transparentColorName:t=>`${t.lightness} ${t.chroma} ${t.hue}, ${t.percentTransparent} genomskinlig`,"very dark":"mycket mrk","very light":"mycket ljus",vibrant:"livfull",white:"vit",yellow:"gul","yellow green":"gulgrn"};var Bre={};Bre={alpha:"Alfa",black:"siyah",blue:"Mavi","blue purple":"mavi mor",brightness:"Parlaklk",brown:"kahverengi","brown yellow":"kahverengi sar",colorName:t=>`${t.lightness} ${t.chroma} ${t.hue}`,cyan:"camgbei","cyan blue":"camgbei mavi",dark:"koyu",gray:"gri",grayish:"grimsi",green:"Yeil","green cyan":"yeil camgbei",hue:"Ton",light:"ak",lightness:"Canllk",magenta:"eflatun","magenta pink":"eflatun pembe",orange:"turuncu","orange yellow":"turuncu sar",pale:"solgun",pink:"pembe","pink red":"pembe krmz",purple:"mor","purple magenta":"mor eflatun",red:"Krmz","red orange":"krmz portakal",saturation:"Doygunluk",transparentColorName:t=>`${t.lightness} ${t.chroma} ${t.hue}, ${t.percentTransparent} saydam`,"very dark":"ok koyu","very light":"ok ak",vibrant:"canl",white:"beyaz",yellow:"sar","yellow green":"sar yeil"};var Dre={};Dre={alpha:"",black:"",blue:"","blue purple":"-",brightness:"",brown:"","brown yellow":"-",colorName:t=>`${t.lightness} ${t.chroma} ${t.hue}`,cyan:"","cyan blue":"-",dark:"",gray:"",grayish:"",green:"","green cyan":"-",hue:"",light:"",lightness:"",magenta:"","magenta pink":"-",orange:"","orange yellow":"-",pale:"",pink:"","pink red":"-",purple:"","purple magenta":"-",red:"","red orange":"-",saturation:"",transparentColorName:t=>`${t.lightness} ${t.chroma} ${t.hue},   ${t.percentTransparent}`,"very dark":" ","very light":" ",vibrant:"",white:"",yellow:"","yellow green":"-"};var Tre={};Tre={alpha:"Alpha",black:"",blue:"","blue purple":"",brightness:"",brown:"","brown yellow":"",colorName:t=>`${t.lightness} ${t.chroma} ${t.hue}`,cyan:"","cyan blue":"",dark:"",gray:"",grayish:"",green:"","green cyan":"",hue:"",light:"",lightness:"",magenta:"","magenta pink":"",orange:"","orange yellow":"",pale:"",pink:"","pink red":"",purple:"","purple magenta":"",red:"","red orange":"",saturation:"",transparentColorName:t=>`${t.lightness} ${t.chroma} ${t.hue}, ${t.percentTransparent} `,"very dark":"","very light":"",vibrant:"",white:"",yellow:"","yellow green":"/"};var Mre={};Mre={alpha:"Alpha",black:"",blue:"","blue purple":"",brightness:"",brown:"","brown yellow":"",colorName:t=>`${t.lightness} ${t.chroma} ${t.hue}`,cyan:"","cyan blue":"",dark:"",gray:"",grayish:"",green:"","green cyan":"",hue:"",light:"",lightness:"",magenta:"","magenta pink":"",orange:"","orange yellow":"",pale:"",pink:"","pink red":"",purple:"","purple magenta":"",red:"","red orange":"",saturation:"",transparentColorName:t=>`${t.lightness} ${t.chroma} ${t.hue}, ${t.percentTransparent} `,"very dark":"","very light":"",vibrant:"",white:"",yellow:"","yellow green":""};var kre={};kre={"ar-AE":Jne,"bg-BG":Zne,"cs-CZ":ere,"da-DK":tre,"de-DE":nre,"el-GR":rre,"en-US":ire,"es-ES":sre,"et-EE":ore,"fi-FI":are,"fr-FR":lre,"he-IL":ure,"hr-HR":cre,"hu-HU":dre,"it-IT":hre,"ja-JP":fre,"ko-KR":pre,"lt-LT":gre,"lv-LV":mre,"nb-NO":Are,"nl-NL":yre,"pl-PL":vre,"pt-BR":bre,"pt-PT":xre,"ro-RO":Cre,"ru-RU":Ere,"sk-SK":Sre,"sl-SI":wre,"sr-SP":_re,"sv-SE":Ire,"tr-TR":Bre,"uk-UA":Dre,"zh-CN":Tre,"zh-TW":Mre};function yBe(t){return t&&t.__esModule?t.default:t}let lk=new Uy(yBe(kre));function md(t){let e=Hy.parse(t)||Vy.parse(t)||Gy.parse(t);if(e)return e;throw new Error("Invalid color value: "+t)}function hE(t){return typeof t=="string"?md(t):t}function Pre(t){return t===360?t:(t%360+360)%360}const o9=.68,vBe=.85,a9=.55,l9=.001,uk=[[0,"pink"],[15,"red"],[48,"orange"],[94,"yellow"],[135,"green"],[175,"cyan"],[264,"blue"],[284,"purple"],[320,"magenta"],[349,"pink"]];class A${toHexInt(){return this.toFormat("rgb").toHexInt()}getChannelValue(e){if(e in this)return this[e];throw new Error("Unsupported color channel: "+e)}withChannelValue(e,n){if(e in this){let r=this.clone();return r[e]=n,r}throw new Error("Unsupported color channel: "+e)}getChannelName(e,n){return(Uy.getGlobalDictionaryForPackage("@react-stately/color")||lk).getStringForLocale(e,n)}getColorSpaceAxes(e){let{xChannel:n,yChannel:r}=e,i=n||this.getColorChannels().find(a=>a!==r),s=r||this.getColorChannels().find(a=>a!==i),o=this.getColorChannels().find(a=>a!==i&&a!==s);return{xChannel:i,yChannel:s,zChannel:o}}getColorName(e){let[n,r,i]=u9(this),s=Uy.getGlobalDictionaryForPackage("@react-stately/color")||lk;if(n>.999)return s.getStringForLocale("white",e);if(n<.001)return s.getStringForLocale("black",e);let o;[o,n]=this.getOklchHue(n,r,i,e);let a="",l="";r<=.1&&r>=l9?n>=.7?l="pale":l="grayish":r>=.15&&(l="vibrant"),n<.3?a="very dark":n<a9?a="dark":n<.7||(n<.85?a="light":a="very light"),l&&(l=s.getStringForLocale(l,e)),a&&(a=s.getStringForLocale(a,e));let u=this.getChannelValue("alpha"),c=new DZ(e,s);if(u<1){let d=new ev(e,{style:"percent"}).format(1-u);return c.format("transparentColorName",{lightness:a,chroma:l,hue:o,percentTransparent:d}).replace(/\s+/g," ").trim()}else return c.format("colorName",{lightness:a,chroma:l,hue:o}).replace(/\s+/g," ").trim()}getOklchHue(e,n,r,i){let s=Uy.getGlobalDictionaryForPackage("@react-stately/color")||lk;if(n<l9)return[s.getStringForLocale("gray",i),e];for(let o=0;o<uk.length;o++){let[a,l]=uk[o],[u,c]=uk[o+1]||[360,"pink"];if(r>=a&&r<u)return l==="orange"&&(e<o9?l="brown":e=e-o9+a9),r>a+(u-a)/2&&l!==c?l=`${l} ${c}`:l==="yellow"&&e<vBe&&(l="yellow green"),[s.getStringForLocale(l,i).toLocaleLowerCase(i),e]}throw new Error("Unexpected hue")}getHueName(e){let[n,r,i]=u9(this),[s]=this.getOklchHue(n,r,i,e);return s}}class Hy extends A${static parse(e){let n=[];if(/^#[\da-f]+$/i.test(e)&&[4,5,7,9].includes(e.length)){const s=(e.length<6?e.replace(/[^#]/gi,"$&$&"):e).slice(1).split("");for(;s.length>0;)n.push(parseInt(s.splice(0,2).join(""),16));n[3]=n[3]!==void 0?n[3]/255:void 0}const r=e.match(/^rgba?\((.*)\)$/);if(r?.[1]&&(n=r[1].split(",").map(s=>Number(s.trim())),n=n.map((s,o)=>Pl(s??0,0,o<3?255:1))),!(n[0]===void 0||n[1]===void 0||n[2]===void 0)){var i;return n.length<3?void 0:new Hy(n[0],n[1],n[2],(i=n[3])!==null&&i!==void 0?i:1)}}toString(e="css"){switch(e){case"hex":return"#"+(this.red.toString(16).padStart(2,"0")+this.green.toString(16).padStart(2,"0")+this.blue.toString(16).padStart(2,"0")).toUpperCase();case"hexa":return"#"+(this.red.toString(16).padStart(2,"0")+this.green.toString(16).padStart(2,"0")+this.blue.toString(16).padStart(2,"0")+Math.round(this.alpha*255).toString(16).padStart(2,"0")).toUpperCase();case"rgb":return`rgb(${this.red}, ${this.green}, ${this.blue})`;case"css":case"rgba":return`rgba(${this.red}, ${this.green}, ${this.blue}, ${this.alpha})`;default:return this.toFormat(e).toString(e)}}toFormat(e){switch(e){case"hex":case"hexa":case"rgb":case"rgba":return this;case"hsb":case"hsba":return this.toHSB();case"hsl":case"hsla":return this.toHSL();default:throw new Error("Unsupported color conversion: rgb -> "+e)}}toHexInt(){return this.red<<16|this.green<<8|this.blue}toHSB(){const e=this.red/255,n=this.green/255,r=this.blue/255,i=Math.min(e,n,r),s=Math.max(e,n,r),o=s-i,a=s===0?0:o/s;let l=0;if(o!==0){switch(s){case e:l=(n-r)/o+(n<r?6:0);break;case n:l=(r-e)/o+2;break;case r:l=(e-n)/o+4;break}l/=6}return new Vy(Ra(l*360,2),Ra(a*100,2),Ra(s*100,2),this.alpha)}toHSL(){const e=this.red/255,n=this.green/255,r=this.blue/255,i=Math.min(e,n,r),s=Math.max(e,n,r),o=(s+i)/2,a=s-i;let l,u;if(a===0)l=u=0;else{switch(u=a/(o<.5?s+i:2-s-i),s){case e:l=(n-r)/a+(n<r?6:0);break;case n:l=(r-e)/a+2;break;case r:default:l=(e-n)/a+4;break}l/=6}return new Gy(Ra(l*360,2),Ra(u*100,2),Ra(o*100,2),this.alpha)}clone(){return new Hy(this.red,this.green,this.blue,this.alpha)}getChannelRange(e){switch(e){case"red":case"green":case"blue":return{minValue:0,maxValue:255,step:1,pageSize:17};case"alpha":return{minValue:0,maxValue:1,step:.01,pageSize:.1};default:throw new Error("Unknown color channel: "+e)}}getChannelFormatOptions(e){switch(e){case"red":case"green":case"blue":return{style:"decimal"};case"alpha":return{style:"percent"};default:throw new Error("Unknown color channel: "+e)}}formatChannelValue(e,n){let r=this.getChannelFormatOptions(e),i=this.getChannelValue(e);return new ev(n,r).format(i)}getColorSpace(){return"rgb"}getColorChannels(){return Hy.colorChannels}constructor(e,n,r,i){super(),this.red=e,this.green=n,this.blue=r,this.alpha=i}}Hy.colorChannels=["red","green","blue"];const bBe=/hsb\(([-+]?\d+(?:.\d+)?\s*,\s*[-+]?\d+(?:.\d+)?%\s*,\s*[-+]?\d+(?:.\d+)?%)\)|hsba\(([-+]?\d+(?:.\d+)?\s*,\s*[-+]?\d+(?:.\d+)?%\s*,\s*[-+]?\d+(?:.\d+)?%\s*,\s*[-+]?\d(.\d+)?)\)/;class Vy extends A${static parse(e){let n;if(n=e.match(bBe)){var r;const[i,s,o,a]=((r=n[1])!==null&&r!==void 0?r:n[2]).split(",").map(l=>Number(l.trim().replace("%","")));return new Vy(Pre(i),Pl(s,0,100),Pl(o,0,100),Pl(a??1,0,1))}}toString(e="css"){switch(e){case"css":return this.toHSL().toString("css");case"hex":return this.toRGB().toString("hex");case"hexa":return this.toRGB().toString("hexa");case"hsb":return`hsb(${this.hue}, ${Ra(this.saturation,2)}%, ${Ra(this.brightness,2)}%)`;case"hsba":return`hsba(${this.hue}, ${Ra(this.saturation,2)}%, ${Ra(this.brightness,2)}%, ${this.alpha})`;default:return this.toFormat(e).toString(e)}}toFormat(e){switch(e){case"hsb":case"hsba":return this;case"hsl":case"hsla":return this.toHSL();case"rgb":case"rgba":return this.toRGB();default:throw new Error("Unsupported color conversion: hsb -> "+e)}}toHSL(){let e=this.saturation/100,n=this.brightness/100,r=n*(1-e/2);return e=r===0||r===1?0:(n-r)/Math.min(r,1-r),new Gy(Ra(this.hue,2),Ra(e*100,2),Ra(r*100,2),this.alpha)}toRGB(){let e=this.hue,n=this.saturation/100,r=this.brightness/100,i=(s,o=(s+e/60)%6)=>r-n*r*Math.max(Math.min(o,4-o,1),0);return new Hy(Math.round(i(5)*255),Math.round(i(3)*255),Math.round(i(1)*255),this.alpha)}clone(){return new Vy(this.hue,this.saturation,this.brightness,this.alpha)}getChannelRange(e){switch(e){case"hue":return{minValue:0,maxValue:360,step:1,pageSize:15};case"saturation":case"brightness":return{minValue:0,maxValue:100,step:1,pageSize:10};case"alpha":return{minValue:0,maxValue:1,step:.01,pageSize:.1};default:throw new Error("Unknown color channel: "+e)}}getChannelFormatOptions(e){switch(e){case"hue":return{style:"unit",unit:"degree",unitDisplay:"narrow"};case"saturation":case"brightness":case"alpha":return{style:"percent"};default:throw new Error("Unknown color channel: "+e)}}formatChannelValue(e,n){let r=this.getChannelFormatOptions(e),i=this.getChannelValue(e);return(e==="saturation"||e==="brightness")&&(i/=100),new ev(n,r).format(i)}getColorSpace(){return"hsb"}getColorChannels(){return Vy.colorChannels}constructor(e,n,r,i){super(),this.hue=e,this.saturation=n,this.brightness=r,this.alpha=i}}Vy.colorChannels=["hue","saturation","brightness"];const xBe=/hsl\(([-+]?\d+(?:.\d+)?\s*,\s*[-+]?\d+(?:.\d+)?%\s*,\s*[-+]?\d+(?:.\d+)?%)\)|hsla\(([-+]?\d+(?:.\d+)?\s*,\s*[-+]?\d+(?:.\d+)?%\s*,\s*[-+]?\d+(?:.\d+)?%\s*,\s*[-+]?\d(.\d+)?)\)/;class Gy extends A${static parse(e){let n;if(n=e.match(xBe)){var r;const[i,s,o,a]=((r=n[1])!==null&&r!==void 0?r:n[2]).split(",").map(l=>Number(l.trim().replace("%","")));return new Gy(Pre(i),Pl(s,0,100),Pl(o,0,100),Pl(a??1,0,1))}}toString(e="css"){switch(e){case"hex":return this.toRGB().toString("hex");case"hexa":return this.toRGB().toString("hexa");case"hsl":return`hsl(${this.hue}, ${Ra(this.saturation,2)}%, ${Ra(this.lightness,2)}%)`;case"css":case"hsla":return`hsla(${this.hue}, ${Ra(this.saturation,2)}%, ${Ra(this.lightness,2)}%, ${this.alpha})`;default:return this.toFormat(e).toString(e)}}toFormat(e){switch(e){case"hsl":case"hsla":return this;case"hsb":case"hsba":return this.toHSB();case"rgb":case"rgba":return this.toRGB();default:throw new Error("Unsupported color conversion: hsl -> "+e)}}toHSB(){let e=this.saturation/100,n=this.lightness/100,r=n+e*Math.min(n,1-n);return e=r===0?0:2*(1-n/r),new Vy(Ra(this.hue,2),Ra(e*100,2),Ra(r*100,2),this.alpha)}toRGB(){let e=this.hue,n=this.saturation/100,r=this.lightness/100,i=n*Math.min(r,1-r),s=(o,a=(o+e/30)%12)=>r-i*Math.max(Math.min(a-3,9-a,1),-1);return new Hy(Math.round(s(0)*255),Math.round(s(8)*255),Math.round(s(4)*255),this.alpha)}clone(){return new Gy(this.hue,this.saturation,this.lightness,this.alpha)}getChannelRange(e){switch(e){case"hue":return{minValue:0,maxValue:360,step:1,pageSize:15};case"saturation":case"lightness":return{minValue:0,maxValue:100,step:1,pageSize:10};case"alpha":return{minValue:0,maxValue:1,step:.01,pageSize:.1};default:throw new Error("Unknown color channel: "+e)}}getChannelFormatOptions(e){switch(e){case"hue":return{style:"unit",unit:"degree",unitDisplay:"narrow"};case"saturation":case"lightness":case"alpha":return{style:"percent"};default:throw new Error("Unknown color channel: "+e)}}formatChannelValue(e,n){let r=this.getChannelFormatOptions(e),i=this.getChannelValue(e);return(e==="saturation"||e==="lightness")&&(i/=100),new ev(n,r).format(i)}getColorSpace(){return"hsl"}getColorChannels(){return Gy.colorChannels}constructor(e,n,r,i){super(),this.hue=e,this.saturation=n,this.lightness=r,this.alpha=i}}Gy.colorChannels=["hue","saturation","lightness"];function u9(t){let e=t.toFormat("rgb"),n=e.getChannelValue("red")/255,r=e.getChannelValue("green")/255,i=e.getChannelValue("blue")/255;[n,r,i]=EBe(n,r,i);let[s,o,a]=SBe(n,r,i),[l,u,c]=wBe(s,o,a);return CBe(l,u,c)}function CBe(t,e,n){var r=Math.atan2(n,e)*180/Math.PI;return[t,Math.sqrt(e**2+n**2),r>=0?r:r+360]}function EBe(t,e,n){return[ck(t),ck(e),ck(n)]}function ck(t){let e=t<0?-1:1,n=Math.abs(t);return n<=.04045?t/12.92:e*Math.pow((n+.055)/1.055,2.4)}function SBe(t,e,n){return i8([.4123907992659595,.35758433938387796,.1804807884018343,.21263900587151036,.7151686787677559,.07219231536073371,.01933081871559185,.11919477979462599,.9505321522496606],t,e,n)}function wBe(t,e,n){const r=[.819022437996703,.3619062600528904,-.1288737815209879,.0329836539323885,.9292868615863434,.0361446663506424,.0481771893596242,.2642395317527308,.6335478284694309],i=[.210454268309314,.7936177747023054,-.0040720430116193,1.9779985324311684,-2.42859224204858,.450593709617411,.0259040424655478,.7827717124575296,-.8086757549230774];let[s,o,a]=i8(r,t,e,n);return i8(i,Math.cbrt(s),Math.cbrt(o),Math.cbrt(a))}function i8(t,e,n,r){let i=t[0]*e+t[1]*n+t[2]*r,s=t[3]*e+t[4]*n+t[5]*r,o=t[6]*e+t[7]*n+t[8]*r;return[i,s,o]}const _Be=md("#ffffff");function IBe(t){let{value:e,defaultValue:n,colorSpace:r,xChannel:i,yChannel:s,onChange:o,onChangeEnd:a}=t;!e&&!n&&(n=_Be),e&&(e=hE(e)),n&&(n=hE(n));let[l,u]=al(e,n,o),[c]=x.useState(l),d=x.useMemo(()=>r&&l?l.toFormat(r):l,[l,r]),f=x.useRef(d),p=O=>{f.current=O,u(O)},m=x.useMemo(()=>d.getColorSpaceAxes({xChannel:i,yChannel:s}),[d,i,s]),v=d.getChannelRange(m.xChannel),y=d.getChannelRange(m.yChannel),{minValue:A,maxValue:C,step:E,pageSize:I}=v,{minValue:D,maxValue:T,step:M,pageSize:P}=y,[k,L]=x.useState(!1),$=x.useRef(!1),z=d.getChannelValue(m.xChannel),j=d.getChannelValue(m.yChannel),H=O=>{if(O===z)return;let G=d.withChannelValue(m.xChannel,O);p(G)},W=O=>{if(O===j)return;let G=d.withChannelValue(m.yChannel,O);p(G)};return{channels:m,xChannelStep:E,yChannelStep:M,xChannelPageStep:I,yChannelPageStep:P,value:d,defaultValue:e!==void 0?c:n,setValue(O){p(hE(O))},xValue:z,setXValue:H,yValue:j,setYValue:W,setColorFromPoint(O,G){let q=A+Pl(O,0,1)*(C-A),J=D+(1-Pl(G,0,1))*(T-D),te;q!==z&&(q=ka(q,A,C,E),te=d.withChannelValue(m.xChannel,q)),J!==j&&(J=ka(J,D,T,M),te=(te||d).withChannelValue(m.yChannel,J)),te&&p(te)},getThumbPosition(){let O=(z-A)/(C-A),G=1-(j-D)/(T-D);return{x:O,y:G}},incrementX(O=1){H(z+O>C?C:ka(z+O,A,C,E))},incrementY(O=1){W(j+O>T?T:ka(j+O,D,T,M))},decrementX(O=1){H(ka(z-O,A,C,E))},decrementY(O=1){W(ka(j-O,D,T,M))},setDragging(O){let G=$.current;$.current=O,a&&!O&&G&&a(f.current),L(O)},isDragging:k,getDisplayColor(){return d.withChannelValue("alpha",1)}}}const BBe=0,DBe=100,TBe=1;function MBe(t){const{isDisabled:e=!1,minValue:n=BBe,maxValue:r=DBe,numberFormatter:i,step:s=TBe,orientation:o="horizontal"}=t;let a=x.useMemo(()=>{let Z=(r-n)/10;return Z=ka(Z,0,Z+s,s),Math.max(Z,s)},[s,r,n]),l=x.useCallback(Z=>Z?.map((ee,ie)=>{let ue=ie===0?n:Z[ie-1],ae=ie===Z.length-1?r:Z[ie+1];return ka(ee,ue,ae,s)}),[n,r,s]),u=x.useMemo(()=>l(d9(t.value)),[t.value,l]),c=x.useMemo(()=>{var Z;return l((Z=d9(t.defaultValue))!==null&&Z!==void 0?Z:[n])},[t.defaultValue,n,l]),d=h9(t.value,t.defaultValue,t.onChange),f=h9(t.value,t.defaultValue,t.onChangeEnd);const[p,m]=al(u,c,d);let[v]=x.useState(p);const[y,A]=x.useState(new Array(p.length).fill(!1)),C=x.useRef(new Array(p.length).fill(!0)),[E,I]=x.useState(void 0),D=x.useRef(p),T=x.useRef(y);let M=Z=>{D.current=Z,m(Z)},P=Z=>{T.current=Z,A(Z)};function k(Z){return(Z-n)/(r-n)}function L(Z){return Z===0?n:p[Z-1]}function $(Z){return Z===p.length-1?r:p[Z+1]}function z(Z){return C.current[Z]}function j(Z,ee){C.current[Z]=ee}function H(Z,ee){if(e||!z(Z))return;const ie=L(Z),ue=$(Z);ee=ka(ee,ie,ue,s);let ae=c9(D.current,Z,ee);M(ae)}function W(Z,ee){if(e||!z(Z))return;ee&&(D.current=p);const ie=T.current[Z];T.current=c9(T.current,Z,ee),P(T.current),f&&ie&&!T.current.some(Boolean)&&f(D.current)}function O(Z){return i.format(Z)}function G(Z,ee){H(Z,J(ee))}function q(Z){return Math.round((Z-n)/s)*s+n}function J(Z){const ee=Z*(r-n)+n;return Pl(q(ee),n,r)}function te(Z,ee=1){let ie=Math.max(ee,s);H(Z,ka(p[Z]+ie,n,r,s))}function Y(Z,ee=1){let ie=Math.max(ee,s);H(Z,ka(p[Z]-ie,n,r,s))}return{values:p,defaultValues:t.defaultValue!==void 0?c:v,getThumbValue:Z=>p[Z],setThumbValue:H,setThumbPercent:G,isThumbDragging:Z=>y[Z],setThumbDragging:W,focusedThumb:E,setFocusedThumb:I,getThumbPercent:Z=>k(p[Z]),getValuePercent:k,getThumbValueLabel:Z=>O(p[Z]),getFormattedValue:O,getThumbMinValue:L,getThumbMaxValue:$,getPercentValue:J,isThumbEditable:z,setThumbEditable:j,incrementThumb:te,decrementThumb:Y,step:s,pageSize:a,orientation:o,isDisabled:e}}function c9(t,e,n){return t[e]===n?t:[...t.slice(0,e),n,...t.slice(e+1)]}function d9(t){if(t!=null)return Array.isArray(t)?t:[t]}function h9(t,e,n){return r=>{n?.(typeof t=="number"||typeof e=="number"?r[0]:r)}}function kBe(t){let{channel:e,colorSpace:n,value:r,defaultValue:i,onChange:s,locale:o,...a}=t;if(r==null&&i==null)throw new Error("useColorSliderState requires a value or defaultValue");r&&(r=hE(r)),i&&(i=hE(i));let[l,u]=al(r,i,s),c=x.useMemo(()=>n&&l?l.toFormat(n):l,[l,n]),[d]=x.useState(l),f=i??d,p=x.useMemo(()=>n&&f?f.toFormat(n):f,[f,n]),m=MBe({...c.getChannelRange(e),...a,numberFormatter:null,value:c.getChannelValue(e),defaultValue:p.getChannelValue(e),onChange(A){u(c.withChannelValue(e,A))},onChangeEnd(A){t.onChangeEnd&&t.onChangeEnd(c.withChannelValue(e,A))}}),{step:v,pageSize:y}=c.getChannelRange(e);return{...m,value:c,setValue(A){u(hE(A))},getDisplayColor(){switch(e){case"hue":return md(`hsl(${c.getChannelValue("hue")}, 100%, 50%)`);case"lightness":case"brightness":case"saturation":case"red":case"green":case"blue":return c.withChannelValue("alpha",1);case"alpha":return c;default:throw new Error("Unknown color channel: "+e)}},getThumbValueLabel(){return c.formatChannelValue(e,o)},step:v,pageSize:y,isDragging:m.isThumbDragging(0)}}function Ox(t){return x.useMemo(()=>{if(typeof t=="string")try{return md(t)}catch{return}return t},[t])}const aD=md("#000000"),Rre=md("#FFFFFF"),PBe=aD.toHexInt(),RBe=Rre.toHexInt();function NBe(t){let{value:e,defaultValue:n,onChange:r}=t,{step:i}=aD.getChannelRange("red"),s=Ox(n),[o,a]=al(Ox(e),s,r),[l]=x.useState(o),[u,c]=x.useState(()=>(e||n)&&o?o.toString("hex"):""),d=cv({...t,value:o}),f=T=>{if(!o||!T){a(T);return}if(T.toHexInt()!==o.toHexInt()){a(T);return}},[p,m]=x.useState(o);p!==o&&(c(o?o.toString("hex"):""),m(o));let v=x.useMemo(()=>{let T;try{T=md(u.startsWith("#")?u:`#${u}`)}catch{T=null}return T},[u]);return{...d,validate:T=>{var M;return T===""||!!(!((M=T.match(/^#?[0-9a-f]{0,6}$/i))===null||M===void 0)&&M[0])},colorValue:o,defaultColorValue:s??l,setColorValue:a,inputValue:u,setInputValue:c,commit:()=>{if(!u.length){f(null),c(e===void 0||o===null?"":o.toString("hex"));return}if(v==null){c(o?o.toString("hex"):"");return}f(v);let T="";o&&(T=o.toString("hex")),c(T),d.commitValidation()},increment:()=>{let T=f9(v,i);T===o&&c(T.toString("hex")),f(T),d.commitValidation()},incrementToMax:()=>f(Rre),decrement:()=>{let T=f9(v,-i);T===o&&c(T.toString("hex")),f(T),d.commitValidation()},decrementToMin:()=>f(aD)}}function f9(t,e){let n=t||aD,r=n.toHexInt(),i=Math.min(Math.max(r+e,PBe),RBe);if(i!==r){let s=`#${i.toString(16).padStart(6,"0").toUpperCase()}`;n=md(s)}return n}function Nre(t){let{minValue:e,maxValue:n,step:r,formatOptions:i,value:s,defaultValue:o=NaN,onChange:a,locale:l,isDisabled:u,isReadOnly:c}=t;s===null&&(s=NaN),s!==void 0&&!isNaN(s)&&(r!==void 0&&!isNaN(r)?s=ka(s,e,n,r):s=Pl(s,e,n)),isNaN(o)||(r!==void 0&&!isNaN(r)?o=ka(o,e,n,r):o=Pl(o,e,n));let[d,f]=al(s,isNaN(o)?NaN:o,a),[p]=x.useState(d),[m,v]=x.useState(()=>isNaN(d)?"":new ev(l,i).format(d)),y=x.useMemo(()=>new MZ(l,i),[l,i]),A=x.useMemo(()=>y.getNumberingSystem(m),[y,m]),C=x.useMemo(()=>new ev(l,{...i,numberingSystem:A}),[l,i,A]),E=x.useMemo(()=>C.resolvedOptions(),[C]),I=x.useCallback(ee=>isNaN(ee)||ee===null?"":C.format(ee),[C]),D=cv({...t,value:d}),T=r!==void 0&&!isNaN(r)?r:1;E.style==="percent"&&(r===void 0||isNaN(r))&&(T=.01);let[M,P]=x.useState(d),[k,L]=x.useState(l),[$,z]=x.useState(i);(!Object.is(d,M)||l!==k||i!==$)&&(v(I(d)),P(d),L(l),z(i));let j=x.useMemo(()=>y.parse(m),[y,m]),H=()=>{if(!m.length){f(NaN),v(s===void 0?"":I(d));return}if(isNaN(j)){v(I(d));return}let ee;r===void 0||isNaN(r)?ee=Pl(j,e,n):ee=ka(j,e,n,r),ee=y.parse(I(ee)),f(ee),v(I(s===void 0?ee:d)),D.commitValidation()},W=(ee,ie=0)=>{let ue=j;if(isNaN(ue)){let ae=isNaN(ie)?0:ie;return ka(ae,e,n,T)}else{let ae=ka(ue,e,n,T);return ee==="+"&&ae>ue||ee==="-"&&ae<ue?ae:ka(dk(ee,ue,T),e,n,T)}},O=()=>{let ee=W("+",e);ee===d&&v(I(ee)),f(ee),D.commitValidation()},G=()=>{let ee=W("-",n);ee===d&&v(I(ee)),f(ee),D.commitValidation()},q=()=>{n!=null&&(f(ka(n,e,n,T)),D.commitValidation())},J=()=>{e!=null&&(f(e),D.commitValidation())},te=x.useMemo(()=>!u&&!c&&(isNaN(j)||n===void 0||isNaN(n)||ka(j,e,n,T)>j||dk("+",j,T)<=n),[u,c,e,n,T,j]),Y=x.useMemo(()=>!u&&!c&&(isNaN(j)||e===void 0||isNaN(e)||ka(j,e,n,T)<j||dk("-",j,T)>=e),[u,c,e,n,T,j]);return{...D,validate:ee=>y.isValidPartialNumber(ee,e,n),increment:O,incrementToMax:q,decrement:G,decrementToMin:J,canIncrement:te,canDecrement:Y,minValue:e,maxValue:n,numberValue:j,defaultNumberValue:isNaN(o)?p:o,setNumberValue:f,setInputValue:v,inputValue:m,commit:H}}function dk(t,e,n){let r=t==="+"?e+n:e-n;if(e%1!==0||n%1!==0){const i=e.toString().split("."),s=n.toString().split("."),o=i[1]&&i[1].length||0,a=s[1]&&s[1].length||0,l=Math.pow(10,Math.max(o,a));e=Math.round(e*l),n=Math.round(n*l),r=t==="+"?e+n:e-n,r/=l}return r}function LBe(t){let{channel:e,colorSpace:n,locale:r}=t,i=Ox(t.value),s=Ox(t.defaultValue),[o,a]=al(i,s??null,t.onChange),l=p9(o,n),[u]=x.useState(o),c=s??u,d=p9(c,n),f=l.getChannelValue(e),p=l.getChannelRange(e),m=x.useMemo(()=>l.getChannelFormatOptions(e),[l,e]),v=m.style==="percent"&&p.maxValue===100?100:1;return{...Nre({locale:r,value:o===null?NaN:f/v,defaultValue:c===null?NaN:d.getChannelValue(e)/v,onChange:A=>{Number.isNaN(A)?a(null):a(l.withChannelValue(e,A*v))},minValue:p.minValue/v,maxValue:p.maxValue/v,step:p.step/v,formatOptions:m}),colorValue:l,defaultColorValue:c,setColorValue:a}}function p9(t,e){let n=Ox("#000");return x.useMemo(()=>{let r=t||n;return e&&r?r.toFormat(e):r},[n,t,e])}function Lre(t){let e=Ox(t.value),n=Ox(t.defaultValue||"#000000"),[r,i]=al(e||void 0,n,t.onChange);return{color:r,setColor(s){s!=null&&i(s||md("#000000"))}}}const Fre=t=>[0,60,120,180,240,300,360].map(e=>t.withChannelValue("hue",e).toString("css")).join(", "),$re=t=>`${t.withChannelValue("saturation",0)}, transparent`,FBe={hue:Fre,saturation:$re,lightness:()=>"black, transparent, white"},$Be={hue:Fre,saturation:$re,brightness:()=>"black, transparent"};function zBe({direction:t,state:e,zChannel:n,xChannel:r,yChannel:i}){return x.useMemo(()=>{let o=t==="rtl"?"left":"right",a={},l=e.value.getChannelValue(n);switch(e.value.getColorSpace()){case"rgb":{let f=md("rgb(0, 0, 0)");a={background:[`linear-gradient(to ${o}, ${f.withChannelValue(r,0)}, ${f.withChannelValue(r,255)})`,`linear-gradient(to top, ${f.withChannelValue(i,0)}, ${f.withChannelValue(i,255)})`,f.withChannelValue(n,l)].join(","),backgroundBlendMode:"screen"};break}case"hsl":{let f=e.value.getColorChannels(),p=md("hsl(0, 100%, 50%)").withChannelValue(n,l),m=f.filter(v=>v!==n).map(v=>`linear-gradient(to ${v===r?o:"top"}, ${FBe[v](p)})`).reverse();n==="hue"&&m.push(p.toString("css")),a={background:m.join(", ")};break}case"hsb":{let f=e.value.getColorChannels(),p=md("hsb(0, 100%, 100%)").withChannelValue(n,l),m=f.filter(v=>v!==n).map(v=>`linear-gradient(to ${v===r?o:"top"}, ${$Be[v](p)})`).reverse();n==="hue"&&m.push(p.toString("css")),a={background:m.join(", ")};break}}let{x:u,y:c}=e.getThumbPosition();t==="rtl"&&(u=1-u);let d={forcedColorAdjust:"none"};return{colorAreaStyleProps:{style:{position:"relative",touchAction:"none",...d,...a}},thumbStyleProps:{style:{position:"absolute",left:`${u*100}%`,top:`${c*100}%`,transform:"translate(-50%, -50%)",touchAction:"none",...d}}}},[t,e,n,r,i])}function OBe(t){return t&&t.__esModule?t.default:t}function jBe(t,e){let{isDisabled:n,inputXRef:r,inputYRef:i,containerRef:s,"aria-label":o,xName:a,yName:l,form:u}=t,c=Rl(OBe(m$),"@react-aria/color"),{addGlobalListener:d,removeGlobalListener:f}=lm(),{direction:p,locale:m}=yo(),[v,y]=x.useState(null),A=x.useCallback(($e=r)=>{$e.current&&ah($e.current)},[r]);av(r,e.defaultValue,e.setValue);let[C,E]=x.useState(!1),[I,D]=x.useState(!1),{xChannel:T,yChannel:M,zChannel:P}=e.channels,k=e.xChannelStep,L=e.yChannelStep,$=x.useRef(null),{keyboardProps:z}=a$({onKeyDown($e){if(!/^(PageUp|PageDown|Home|End)$/.test($e.key)){$e.continuePropagation();return}$e.preventDefault(),e.setDragging(!0),E(!0);let gt;switch($e.key){case"PageUp":e.incrementY(e.yChannelPageStep),gt="y";break;case"PageDown":e.decrementY(e.yChannelPageStep),gt="y";break;case"Home":p==="rtl"?e.incrementX(e.xChannelPageStep):e.decrementX(e.xChannelPageStep),gt="x";break;case"End":p==="rtl"?e.decrementX(e.xChannelPageStep):e.incrementX(e.xChannelPageStep),gt="x";break}e.setDragging(!1),gt&&(A(gt==="x"?r:i),y(gt))}}),j={onMoveStart(){$.current=null,e.setDragging(!0)},onMove({deltaX:$e,deltaY:gt,pointerType:it,shiftKey:ot}){var le;let{incrementX:se,decrementX:Se,incrementY:De,decrementY:Be,xChannelPageStep:ze,xChannelStep:kt,yChannelPageStep:Et,yChannelStep:zt,getThumbPosition:Mt,setColorFromPoint:at}=e;$.current==null&&($.current=Mt());let{width:At,height:Pt}=((le=s.current)===null||le===void 0?void 0:le.getBoundingClientRect())||{width:0,height:0},wt=$e!==0||gt!==0;if(it==="keyboard"){let Lt=ot&&ze>kt?ze:kt,un=ot&&Et>zt?Et:zt;$e>0&&p==="ltr"||$e<0&&p==="rtl"?se(Lt):$e<0&&p==="ltr"||$e>0&&p==="rtl"?Se(Lt):gt>0?Be(un):gt<0&&De(un),E(wt),v=wt&&Math.abs(gt)>Math.abs($e)?"y":"x",y(v)}else $.current.x+=(p==="rtl"?-1:1)*$e/At,$.current.y+=gt/Pt,at($.current.x,$.current.y)},onMoveEnd(){G.current=!1,e.setDragging(!1),A(v==="x"?r:i)}},{moveProps:H}=iD(j),{focusWithinProps:W}=uv({onFocusWithinChange:$e=>{$e||(E(!1),D(!1))}}),O=x.useRef(void 0),G=x.useRef(!1),{moveProps:q}=iD({onMoveStart(){G.current&&j.onMoveStart()},onMove($e){G.current&&j.onMove($e)},onMoveEnd(){G.current&&j.onMoveEnd()}}),J=$e=>{e.isDragging||(O.current=$e,E(!1),A(),e.setDragging(!0),typeof PointerEvent<"u"?d(window,"pointerup",te,!1):(d(window,"mouseup",te,!1),d(window,"touchend",te,!1)))},te=$e=>{var gt,it;((it=$e.pointerId)!==null&&it!==void 0?it:(gt=$e.changedTouches)===null||gt===void 0?void 0:gt[0].identifier)===O.current&&(E(!1),A(),e.setDragging(!1),O.current=void 0,G.current=!1,typeof PointerEvent<"u"?f(window,"pointerup",te,!1):(f(window,"mouseup",te,!1),f(window,"touchend",te,!1)))},Y=($e,gt,it,ot)=>{let le=$e.getBoundingClientRect(),{width:se,height:Se}=le,De=(it-le.x)/se,Be=(ot-le.y)/Se;p==="rtl"&&(De=1-De),De>=0&&De<=1&&Be>=0&&Be<=1&&!e.isDragging&&O.current===void 0&&(G.current=!0,E(!1),O.current=gt,e.setColorFromPoint(De,Be),A(),e.setDragging(!0),typeof PointerEvent<"u"?d(window,"pointerup",Z,!1):(d(window,"mouseup",Z,!1),d(window,"touchend",Z,!1)))},Z=$e=>{var gt,it;let ot=(it=$e.pointerId)!==null&&it!==void 0?it:(gt=$e.changedTouches)===null||gt===void 0?void 0:gt[0].identifier;G.current&&ot===O.current&&(G.current=!1,E(!1),O.current=void 0,e.setDragging(!1),A(),typeof PointerEvent<"u"?f(window,"pointerup",Z,!1):(f(window,"mouseup",Z,!1),f(window,"touchend",Z,!1)))},ee=n?{}:on({...typeof PointerEvent<"u"?{onPointerDown:$e=>{$e.pointerType==="mouse"&&($e.button!==0||$e.altKey||$e.ctrlKey||$e.metaKey)||Y($e.currentTarget,$e.pointerId,$e.clientX,$e.clientY)}}:{onMouseDown:$e=>{$e.button!==0||$e.altKey||$e.ctrlKey||$e.metaKey||Y($e.currentTarget,void 0,$e.clientX,$e.clientY)},onTouchStart:$e=>{Y($e.currentTarget,$e.changedTouches[0].identifier,$e.changedTouches[0].clientX,$e.changedTouches[0].clientY)}}},q),ie=n?{}:on({...typeof PointerEvent<"u"?{onPointerDown:$e=>{$e.pointerType==="mouse"&&($e.button!==0||$e.altKey||$e.ctrlKey||$e.metaKey)||J($e.pointerId)}}:{onMouseDown:$e=>{$e.button!==0||$e.altKey||$e.ctrlKey||$e.metaKey||J(void 0)},onTouchStart:$e=>{J($e.changedTouches[0].identifier)}}},W,z,H),{focusProps:ue}=ME({onFocus:()=>{y("x")}}),{focusProps:ae}=ME({onFocus:()=>{y("y")}});const de=$e=>{const{target:gt}=$e;D(!0),gt===r.current?e.setXValue(parseFloat(gt.value)):gt===i.current&&e.setYValue(parseFloat(gt.value))};let ge=sC()||n4(),_e=e.getDisplayColor();const we=x.useCallback($e=>`${I||C?c.format("colorNameAndValue",{name:_e.getChannelName($e,m),value:_e.formatChannelValue($e,m)}):[c.format("colorNameAndValue",{name:_e.getChannelName($e,m),value:_e.formatChannelValue($e,m)}),c.format("colorNameAndValue",{name:_e.getChannelName($e===M?T:M,m),value:_e.formatChannelValue($e===M?T:M,m)}),c.format("colorNameAndValue",{name:_e.getChannelName(P,m),value:_e.formatChannelValue(P,m)})].join(", ")}, ${_e.getColorName(m)}`,[m,_e,c,I,C,T,M,P]);let ke=c.format("colorPicker"),Fe=tm({...t,"aria-label":o?c.format("colorInputLabel",{label:o,channelLabel:ke}):ke}),Ee=tm({...t,"aria-label":o?c.format("colorInputLabel",{label:o,channelLabel:ke}):ke}),Me=tm({...t,"aria-label":o?`${o}, ${ke}`:void 0},ge?ke:void 0),Ue=c.format("twoDimensionalSlider"),{visuallyHiddenProps:Ge}=oC({style:{opacity:"0.0001",width:"100%",height:"100%",pointerEvents:"none"}}),{colorAreaStyleProps:ut,thumbStyleProps:ve}=zBe({direction:p,state:e,xChannel:T,yChannel:M,zChannel:P});return{colorAreaProps:{...Me,...ee,...ut,role:"group"},thumbProps:{...ie,...ve,role:"presentation"},xInputProps:{...Fe,...Ge,...ue,type:"range",min:e.value.getChannelRange(T).minValue,max:e.value.getChannelRange(T).maxValue,step:k,"aria-roledescription":Ue,"aria-valuetext":we(T),"aria-orientation":"horizontal","aria-describedby":t["aria-describedby"],"aria-details":t["aria-details"],disabled:n,value:e.value.getChannelValue(T),name:a,form:u,tabIndex:ge||!v||v==="x"?void 0:-1,"aria-hidden":ge||!v||v==="x"||C?void 0:"true",onChange:de},yInputProps:{...Ee,...Ge,...ae,type:"range",min:e.value.getChannelRange(M).minValue,max:e.value.getChannelRange(M).maxValue,step:L,"aria-roledescription":Ue,"aria-valuetext":we(M),"aria-orientation":"vertical","aria-describedby":t["aria-describedby"],"aria-details":t["aria-details"],disabled:n,value:e.value.getChannelValue(M),name:l,form:u,tabIndex:ge||v==="y"?void 0:-1,"aria-hidden":ge||v==="y"||C?void 0:"true",onChange:de}}}const y$=new WeakMap;function s8(t,e){let n=y$.get(t);if(!n)throw new Error("Unknown slider state");return`${n.id}-${e}`}function QBe(t,e,n){let{labelProps:r,fieldProps:i}=IT(t),s=t.orientation==="vertical";var o;y$.set(e,{id:(o=r.id)!==null&&o!==void 0?o:i.id,"aria-describedby":t["aria-describedby"],"aria-details":t["aria-details"]});let{direction:a}=yo(),{addGlobalListener:l,removeGlobalListener:u}=lm();const c=x.useRef(null),d=a==="rtl",f=x.useRef(null),{moveProps:p}=iD({onMoveStart(){f.current=null},onMove({deltaX:A,deltaY:C}){if(!n.current)return;let{height:E,width:I}=n.current.getBoundingClientRect(),D=s?E:I;f.current==null&&c.current!=null&&(f.current=e.getThumbPercent(c.current)*D);let T=s?C:A;if((s||d)&&(T=-T),f.current+=T,c.current!=null&&n.current){const M=Pl(f.current/D,0,1);e.setThumbPercent(c.current,M)}},onMoveEnd(){c.current!=null&&(e.setThumbDragging(c.current,!1),c.current=null)}});let m=x.useRef(void 0),v=(A,C,E,I)=>{if(n.current&&!t.isDisabled&&e.values.every((D,T)=>!e.isThumbDragging(T))){let{height:D,width:T,top:M,left:P}=n.current.getBoundingClientRect(),k=s?D:T,j=((s?I:E)-(s?M:P))/k;(a==="rtl"||s)&&(j=1-j);let H=e.getPercentValue(j),W,O=e.values.findIndex(G=>H-G<0);if(O===0)W=O;else if(O===-1)W=e.values.length-1;else{let G=e.values[O-1],q=e.values[O];Math.abs(G-H)<Math.abs(q-H)?W=O-1:W=O}W>=0&&e.isThumbEditable(W)?(A.preventDefault(),c.current=W,e.setFocusedThumb(W),m.current=C,e.setThumbDragging(c.current,!0),e.setThumbValue(W,H),l(window,"mouseup",y,!1),l(window,"touchend",y,!1),l(window,"pointerup",y,!1)):c.current=null}},y=A=>{var C,E;((E=A.pointerId)!==null&&E!==void 0?E:(C=A.changedTouches)===null||C===void 0?void 0:C[0].identifier)===m.current&&(c.current!=null&&(e.setThumbDragging(c.current,!1),c.current=null),u(window,"mouseup",y,!1),u(window,"touchend",y,!1),u(window,"pointerup",y,!1))};return"htmlFor"in r&&r.htmlFor&&(delete r.htmlFor,r.onClick=()=>{var A;(A=document.getElementById(s8(e,0)))===null||A===void 0||A.focus(),fx("keyboard")}),{labelProps:r,groupProps:{role:"group",...i},trackProps:on({onMouseDown(A){A.button!==0||A.altKey||A.ctrlKey||A.metaKey||v(A,void 0,A.clientX,A.clientY)},onPointerDown(A){A.pointerType==="mouse"&&(A.button!==0||A.altKey||A.ctrlKey||A.metaKey)||v(A,A.pointerId,A.clientX,A.clientY)},onTouchStart(A){v(A,A.changedTouches[0].identifier,A.changedTouches[0].clientX,A.changedTouches[0].clientY)},style:{position:"relative",touchAction:"none"}},p),outputProps:{htmlFor:e.values.map((A,C)=>s8(e,C)).join(" "),"aria-live":"off"}}}function UBe(t,e){let{index:n=0,isRequired:r,validationState:i,isInvalid:s,trackRef:o,inputRef:a,orientation:l=e.orientation,name:u,form:c}=t,d=t.isDisabled||e.isDisabled,f=l==="vertical",{direction:p}=yo(),{addGlobalListener:m,removeGlobalListener:v}=lm(),y=y$.get(e);var A;const{labelProps:C,fieldProps:E}=IT({...t,id:s8(e,n),"aria-labelledby":`${y.id} ${(A=t["aria-labelledby"])!==null&&A!==void 0?A:""}`.trim()}),I=e.values[n],D=x.useCallback(()=>{a.current&&ah(a.current)},[a]),T=e.focusedThumb===n;x.useEffect(()=>{T&&D()},[T,D]);let M=p==="rtl",P=x.useRef(null),{keyboardProps:k}=a$({onKeyDown(G){let{getThumbMaxValue:q,getThumbMinValue:J,decrementThumb:te,incrementThumb:Y,setThumbValue:Z,setThumbDragging:ee,pageSize:ie}=e;if(!/^(PageUp|PageDown|Home|End)$/.test(G.key)){G.continuePropagation();return}switch(G.preventDefault(),ee(n,!0),G.key){case"PageUp":Y(n,ie);break;case"PageDown":te(n,ie);break;case"Home":Z(n,J(n));break;case"End":Z(n,q(n));break}ee(n,!1)}}),{moveProps:L}=iD({onMoveStart(){P.current=null,e.setThumbDragging(n,!0)},onMove({deltaX:G,deltaY:q,pointerType:J,shiftKey:te}){const{getThumbPercent:Y,setThumbPercent:Z,decrementThumb:ee,incrementThumb:ie,step:ue,pageSize:ae}=e;if(!o.current)return;let{width:de,height:ge}=o.current.getBoundingClientRect(),_e=f?ge:de;if(P.current==null&&(P.current=Y(n)*_e),J==="keyboard")G>0&&M||G<0&&!M||q>0?ee(n,te?ae:ue):ie(n,te?ae:ue);else{let we=f?q:G;(f||M)&&(we=-we),P.current+=we,Z(n,Pl(P.current/_e,0,1))}},onMoveEnd(){e.setThumbDragging(n,!1)}});e.setThumbEditable(n,!d);const{focusableProps:$}=sS(on(t,{onFocus:()=>e.setFocusedThumb(n),onBlur:()=>e.setFocusedThumb(void 0)}),a);let z=x.useRef(void 0),j=G=>{D(),z.current=G,e.setThumbDragging(n,!0),m(window,"mouseup",H,!1),m(window,"touchend",H,!1),m(window,"pointerup",H,!1)},H=G=>{var q,J;((J=G.pointerId)!==null&&J!==void 0?J:(q=G.changedTouches)===null||q===void 0?void 0:q[0].identifier)===z.current&&(D(),e.setThumbDragging(n,!1),v(window,"mouseup",H,!1),v(window,"touchend",H,!1),v(window,"pointerup",H,!1))},W=e.getThumbPercent(n);(f||p==="rtl")&&(W=1-W);let O=d?{}:on(k,L,{onMouseDown:G=>{G.button!==0||G.altKey||G.ctrlKey||G.metaKey||j()},onPointerDown:G=>{G.button!==0||G.altKey||G.ctrlKey||G.metaKey||j(G.pointerId)},onTouchStart:G=>{j(G.changedTouches[0].identifier)}});return av(a,e.defaultValues[n],G=>{e.setThumbValue(n,G)}),{inputProps:on($,E,{type:"range",tabIndex:d?void 0:0,min:e.getThumbMinValue(n),max:e.getThumbMaxValue(n),step:e.step,value:I,name:u,form:c,disabled:d,"aria-orientation":l,"aria-valuetext":e.getThumbValueLabel(n),"aria-required":r||void 0,"aria-invalid":s||i==="invalid"||void 0,"aria-errormessage":t["aria-errormessage"],"aria-describedby":[y["aria-describedby"],t["aria-describedby"]].filter(Boolean).join(" "),"aria-details":[y["aria-details"],t["aria-details"]].filter(Boolean).join(" "),onChange:G=>{e.setThumbValue(n,parseFloat(G.target.value))}}),thumbProps:{...O,style:{position:"absolute",[f?"top":"left"]:`${W*100}%`,transform:"translate(-50%, -50%)",touchAction:"none"}},labelProps:C,isDragging:e.isThumbDragging(n),isDisabled:d,isFocused:T}}function HBe(t,e){let{trackRef:n,inputRef:r,orientation:i,channel:s,"aria-label":o,name:a,form:l}=t,{locale:u,direction:c}=yo();!t.label&&!o&&!t["aria-labelledby"]&&(o=e.value.getChannelName(s,u));let{groupProps:d,trackProps:f,labelProps:p,outputProps:m}=QBe({...t,"aria-label":o},e,n),{inputProps:v,thumbProps:y}=UBe({index:0,orientation:i,isDisabled:t.isDisabled,name:a,form:l,trackRef:n,inputRef:r},e),A=e.getDisplayColor(),C=()=>{let D;switch(i==="vertical"?D="top":c==="ltr"?D="right":D="left",s){case"hue":{let T=[0,60,120,180,240,300,360].map(M=>A.withChannelValue("hue",M).toString("css")).join(", ");return`linear-gradient(to ${D}, ${T})`}case"lightness":{let T=e.getThumbMinValue(0),M=e.getThumbMaxValue(0),P=A.withChannelValue(s,T).toString("css"),k=A.withChannelValue(s,(M-T)/2).toString("css"),L=A.withChannelValue(s,M).toString("css");return`linear-gradient(to ${D}, ${P}, ${k}, ${L})`}case"saturation":case"brightness":case"red":case"green":case"blue":case"alpha":{let T=A.withChannelValue(s,e.getThumbMinValue(0)).toString("css"),M=A.withChannelValue(s,e.getThumbMaxValue(0)).toString("css");return`linear-gradient(to ${D}, ${T}, ${M})`}default:throw new Error("Unknown color channel: "+s)}},E={forcedColorAdjust:"none"};s==="hue"?v["aria-valuetext"]+=`, ${A.getHueName(u)}`:s!=="alpha"&&(v["aria-valuetext"]+=`, ${A.getColorName(u)}`);let{visuallyHiddenProps:I}=oC({style:{opacity:"0.0001",width:"100%",height:"100%",pointerEvents:"none"}});return{trackProps:{...on(d,f),style:{...f.style,...E,background:C()}},inputProps:{...v,style:{...v.style,...I.style}},thumbProps:{...y,style:{...y.style,...E}},labelProps:p,outputProps:m}}var zre={};zre={Empty:""};var Ore={};Ore={Empty:""};var jre={};jre={Empty:"Przdn"};var Qre={};Qre={Empty:"Tom"};var Ure={};Ure={Empty:"Leer"};var Hre={};Hre={Empty:""};var Vre={};Vre={Empty:"Empty"};var Gre={};Gre={Empty:"Vaco"};var Kre={};Kre={Empty:"Thjenda"};var Wre={};Wre={Empty:"Tyhj"};var qre={};qre={Empty:"Vide"};var Yre={};Yre={Empty:""};var Xre={};Xre={Empty:"Prazno"};var Jre={};Jre={Empty:"res"};var Zre={};Zre={Empty:"Vuoto"};var eie={};eie={Empty:""};var tie={};tie={Empty:" "};var nie={};nie={Empty:"Tuias"};var rie={};rie={Empty:"Tuks"};var iie={};iie={Empty:"Tom"};var sie={};sie={Empty:"Leeg"};var oie={};oie={Empty:"Pusty"};var aie={};aie={Empty:"Vazio"};var lie={};lie={Empty:"Vazio"};var uie={};uie={Empty:"Gol"};var cie={};cie={Empty:" "};var die={};die={Empty:"Przdne"};var hie={};hie={Empty:"Prazen"};var fie={};fie={Empty:"Prazno"};var pie={};pie={Empty:"Tomt"};var gie={};gie={Empty:"Bo"};var mie={};mie={Empty:""};var Aie={};Aie={Empty:""};var yie={};yie={Empty:""};var vie={};vie={"ar-AE":zre,"bg-BG":Ore,"cs-CZ":jre,"da-DK":Qre,"de-DE":Ure,"el-GR":Hre,"en-US":Vre,"es-ES":Gre,"et-EE":Kre,"fi-FI":Wre,"fr-FR":qre,"he-IL":Yre,"hr-HR":Xre,"hu-HU":Jre,"it-IT":Zre,"ja-JP":eie,"ko-KR":tie,"lt-LT":nie,"lv-LV":rie,"nb-NO":iie,"nl-NL":sie,"pl-PL":oie,"pt-BR":aie,"pt-PT":lie,"ro-RO":uie,"ru-RU":cie,"sk-SK":die,"sl-SI":hie,"sr-SP":fie,"sv-SE":pie,"tr-TR":gie,"uk-UA":mie,"zh-CN":Aie,"zh-TW":yie};function VBe(t){return t&&t.__esModule?t.default:t}function bie(t){const e=x.useRef(void 0);let{value:n,textValue:r,minValue:i,maxValue:s,isDisabled:o,isReadOnly:a,isRequired:l,onIncrement:u,onIncrementPage:c,onDecrement:d,onDecrementPage:f,onDecrementToMin:p,onIncrementToMax:m}=t;const v=Rl(VBe(vie),"@react-aria/spinbutton");let y=x.useRef(!1);const A=x.useCallback(()=>{clearTimeout(e.current),y.current=!1},[]),C=eo(()=>{A()});x.useEffect(()=>()=>C(),[]);let E=J=>{if(!(J.ctrlKey||J.metaKey||J.shiftKey||J.altKey||a||J.nativeEvent.isComposing))switch(J.key){case"PageUp":if(c){J.preventDefault(),c?.();break}case"ArrowUp":case"Up":u&&(J.preventDefault(),u?.());break;case"PageDown":if(f){J.preventDefault(),f?.();break}case"ArrowDown":case"Down":d&&(J.preventDefault(),d?.());break;case"Home":p&&(J.preventDefault(),p?.());break;case"End":m&&(J.preventDefault(),m?.());break}},I=x.useRef(!1),D=()=>{I.current=!0},T=()=>{I.current=!1},M=r===""?v.format("Empty"):(r||`${n}`).replace("-","");x.useEffect(()=>{I.current&&(r2e("assertive"),Tp(M,"assertive"))},[M]);let P=x.useCallback(()=>{A()},[A]);const k=eo(J=>{C(),y.current=!0,u?.(),e.current=window.setTimeout(()=>{(s===void 0||isNaN(s)||n===void 0||isNaN(n)||n<s)&&k(60)},J)}),L=eo(J=>{C(),y.current=!0,d?.(),e.current=window.setTimeout(()=>{(i===void 0||isNaN(i)||n===void 0||isNaN(n)||n>i)&&L(60)},J)});let $=J=>{J.preventDefault()},{addGlobalListener:z,removeAllGlobalListeners:j}=lm(),H=x.useRef(!1),[W,O]=x.useState(null);x.useEffect(()=>{W==="touch"?k(60):W&&k(400)},[W]);let[G,q]=x.useState(null);return x.useEffect(()=>{G==="touch"?L(60):G&&L(400)},[G]),{spinButtonProps:{role:"spinbutton","aria-valuenow":n!==void 0&&!isNaN(n)?n:void 0,"aria-valuetext":M,"aria-valuemin":i,"aria-valuemax":s,"aria-disabled":o||void 0,"aria-readonly":a||void 0,"aria-required":l||void 0,onKeyDown:E,onFocus:D,onBlur:T},incrementButtonProps:{onPressStart:J=>{J.pointerType!=="touch"?O("mouse"):(e.current&&A(),z(window,"pointercancel",P,{capture:!0}),H.current=!1,e.current=window.setTimeout(()=>{O("touch")},600)),z(window,"contextmenu",$)},onPressUp:J=>{J.pointerType==="touch"&&(H.current=!0),A(),j(),O(null)},onPressEnd:J=>{J.pointerType==="touch"&&!y.current&&H.current&&u?.(),A(),H.current=!1,O(null)},onFocus:D,onBlur:T},decrementButtonProps:{onPressStart:J=>{J.pointerType!=="touch"?q("mouse"):(e.current&&A(),z(window,"pointercancel",P,{capture:!0}),H.current=!1,e.current=window.setTimeout(()=>{q("touch")},600))},onPressUp:J=>{J.pointerType==="touch"&&(H.current=!0),A(),j(),q(null)},onPressEnd:J=>{J.pointerType==="touch"&&!y.current&&H.current&&d?.(),A(),H.current=!1,q(null)},onFocus:D,onBlur:T}}}function GBe(t,e,n){let{isDisabled:r,isReadOnly:i,isRequired:s,isWheelDisabled:o,validationBehavior:a="aria"}=t,{colorValue:l,inputValue:u,increment:c,decrement:d,incrementToMax:f,decrementToMin:p,commit:m}=e,v=Us(),{spinButtonProps:y}=bie({isDisabled:r,isReadOnly:i,isRequired:s,maxValue:16777215,minValue:0,onIncrement:c,onIncrementToMax:f,onDecrement:d,onDecrementToMin:p,value:l?l.toHexInt():void 0,textValue:l?l.toString("hex"):void 0}),[A,C]=x.useState(!1),{focusWithinProps:E}=uv({isDisabled:r,onFocusWithinChange:C}),I=x.useCallback(k=>{Math.abs(k.deltaY)<=Math.abs(k.deltaX)||(k.deltaY>0?c():k.deltaY<0&&d())},[d,c]);QZ({onScroll:I,isDisabled:o||r||i||!A},n);let T=k=>{e.validate(k)&&e.setInputValue(k)},{inputProps:M,...P}=Ste({...t,id:v,value:u,defaultValue:"!",validate:void 0,[zx]:e,type:"text",autoComplete:"off",onChange:T},e,n);return av(n,e.defaultColorValue,e.setColorValue),M=on(M,y,E,{role:"textbox","aria-valuemax":null,"aria-valuemin":null,"aria-valuenow":null,"aria-valuetext":null,autoCorrect:"off",spellCheck:"false",onBlur:m}),a==="native"&&(M["aria-required"]=void 0),{inputProps:M,...P}}function KBe(t){return t&&t.__esModule?t.default:t}function WBe(t){let{color:e,colorName:n}=t,r=e||"#fff0",i=x.useMemo(()=>typeof r=="string"?md(r):r,[r]),{locale:s}=yo(),o=cr(t,{labelable:!0}),a=Rl(KBe(m$),"@react-aria/color"),l=Us(t.id);return n||(n=i.getChannelValue("alpha")===0?a.format("transparent"):i.getColorName(s)),{colorSwatchProps:{...o,role:"img","aria-roledescription":a.format("colorSwatch"),"aria-label":[n,t["aria-label"]||""].filter(Boolean).join(", "),"aria-labelledby":t["aria-labelledby"]?`${l} ${t["aria-labelledby"]}`:void 0,id:l,style:{backgroundColor:i.toString("css"),forcedColorAdjust:"none"}},color:i||null}}var xie={};xie={decrease:t=>` ${t.fieldLabel}`,increase:t=>` ${t.fieldLabel}`,numberField:" "};var Cie={};Cie={decrease:t=>` ${t.fieldLabel}`,increase:t=>` ${t.fieldLabel}`,numberField:"  "};var Eie={};Eie={decrease:t=>`Snit ${t.fieldLabel}`,increase:t=>`Zvit ${t.fieldLabel}`,numberField:"seln pole"};var Sie={};Sie={decrease:t=>`Reducer ${t.fieldLabel}`,increase:t=>`g ${t.fieldLabel}`,numberField:"Talfelt"};var wie={};wie={decrease:t=>`${t.fieldLabel} verringern`,increase:t=>`${t.fieldLabel} erhhen`,numberField:"Nummernfeld"};var _ie={};_ie={decrease:t=>` ${t.fieldLabel}`,increase:t=>` ${t.fieldLabel}`,numberField:" "};var Iie={};Iie={decrease:t=>`Decrease ${t.fieldLabel}`,increase:t=>`Increase ${t.fieldLabel}`,numberField:"Number field"};var Bie={};Bie={decrease:t=>`Reducir ${t.fieldLabel}`,increase:t=>`Aumentar ${t.fieldLabel}`,numberField:"Campo de nmero"};var Die={};Die={decrease:t=>`Vhenda ${t.fieldLabel}`,increase:t=>`Suurenda ${t.fieldLabel}`,numberField:"Numbri vli"};var Tie={};Tie={decrease:t=>`Vhenn ${t.fieldLabel}`,increase:t=>`Lis ${t.fieldLabel}`,numberField:"Numerokentt"};var Mie={};Mie={decrease:t=>`Diminuer ${t.fieldLabel}`,increase:t=>`Augmenter ${t.fieldLabel}`,numberField:"Champ de nombre"};var kie={};kie={decrease:t=>` ${t.fieldLabel}`,increase:t=>` ${t.fieldLabel}`,numberField:" "};var Pie={};Pie={decrease:t=>`Smanji ${t.fieldLabel}`,increase:t=>`Poveaj ${t.fieldLabel}`,numberField:"Polje broja"};var Rie={};Rie={decrease:t=>`${t.fieldLabel} cskkentse`,increase:t=>`${t.fieldLabel} nvelse`,numberField:"Szmmez"};var Nie={};Nie={decrease:t=>`Riduci ${t.fieldLabel}`,increase:t=>`Aumenta ${t.fieldLabel}`,numberField:"Campo numero"};var Lie={};Lie={decrease:t=>`${t.fieldLabel}`,increase:t=>`${t.fieldLabel}`,numberField:""};var Fie={};Fie={decrease:t=>`${t.fieldLabel} `,increase:t=>`${t.fieldLabel} `,numberField:" "};var $ie={};$ie={decrease:t=>`Sumainti ${t.fieldLabel}`,increase:t=>`Padidinti ${t.fieldLabel}`,numberField:"Numerio laukas"};var zie={};zie={decrease:t=>`Samazinana ${t.fieldLabel}`,increase:t=>`Palielinana ${t.fieldLabel}`,numberField:"Skaitu lauks"};var Oie={};Oie={decrease:t=>`Reduser ${t.fieldLabel}`,increase:t=>`k ${t.fieldLabel}`,numberField:"Tallfelt"};var jie={};jie={decrease:t=>`${t.fieldLabel} verlagen`,increase:t=>`${t.fieldLabel} verhogen`,numberField:"Getalveld"};var Qie={};Qie={decrease:t=>`Zmniejsz ${t.fieldLabel}`,increase:t=>`Zwiksz ${t.fieldLabel}`,numberField:"Pole numeru"};var Uie={};Uie={decrease:t=>`Diminuir ${t.fieldLabel}`,increase:t=>`Aumentar ${t.fieldLabel}`,numberField:"Campo de nmero"};var Hie={};Hie={decrease:t=>`Diminuir ${t.fieldLabel}`,increase:t=>`Aumentar ${t.fieldLabel}`,numberField:"Campo numrico"};var Vie={};Vie={decrease:t=>`Scdere ${t.fieldLabel}`,increase:t=>`Cretere ${t.fieldLabel}`,numberField:"Cmp numeric"};var Gie={};Gie={decrease:t=>` ${t.fieldLabel}`,increase:t=>` ${t.fieldLabel}`,numberField:" "};var Kie={};Kie={decrease:t=>`Zni ${t.fieldLabel}`,increase:t=>`Zvi ${t.fieldLabel}`,numberField:"seln pole"};var Wie={};Wie={decrease:t=>`Upadati ${t.fieldLabel}`,increase:t=>`Poveajte ${t.fieldLabel}`,numberField:"tevilno polje"};var qie={};qie={decrease:t=>`Smanji ${t.fieldLabel}`,increase:t=>`Poveaj ${t.fieldLabel}`,numberField:"Polje broja"};var Yie={};Yie={decrease:t=>`Minska ${t.fieldLabel}`,increase:t=>`ka ${t.fieldLabel}`,numberField:"Nummerflt"};var Xie={};Xie={decrease:t=>`${t.fieldLabel} azalt`,increase:t=>`${t.fieldLabel} arttr`,numberField:"Say alan"};var Jie={};Jie={decrease:t=>` ${t.fieldLabel}`,increase:t=>` ${t.fieldLabel}`,numberField:" "};var Zie={};Zie={decrease:t=>` ${t.fieldLabel}`,increase:t=>` ${t.fieldLabel}`,numberField:""};var ese={};ese={decrease:t=>` ${t.fieldLabel}`,increase:t=>` ${t.fieldLabel}`,numberField:""};var tse={};tse={"ar-AE":xie,"bg-BG":Cie,"cs-CZ":Eie,"da-DK":Sie,"de-DE":wie,"el-GR":_ie,"en-US":Iie,"es-ES":Bie,"et-EE":Die,"fi-FI":Tie,"fr-FR":Mie,"he-IL":kie,"hr-HR":Pie,"hu-HU":Rie,"it-IT":Nie,"ja-JP":Lie,"ko-KR":Fie,"lt-LT":$ie,"lv-LV":zie,"nb-NO":Oie,"nl-NL":jie,"pl-PL":Qie,"pt-BR":Uie,"pt-PT":Hie,"ro-RO":Vie,"ru-RU":Gie,"sk-SK":Kie,"sl-SI":Wie,"sr-SP":qie,"sv-SE":Yie,"tr-TR":Xie,"uk-UA":Jie,"zh-CN":Zie,"zh-TW":ese};function qBe(t){return t&&t.__esModule?t.default:t}function nse(t,e,n){let{id:r,decrementAriaLabel:i,incrementAriaLabel:s,isDisabled:o,isReadOnly:a,isRequired:l,minValue:u,maxValue:c,autoFocus:d,label:f,formatOptions:p,onBlur:m=()=>{},onFocus:v,onFocusChange:y,onKeyDown:A,onKeyUp:C,description:E,errorMessage:I,isWheelDisabled:D,...T}=t,{increment:M,incrementToMax:P,decrement:k,decrementToMin:L,numberValue:$,inputValue:z,commit:j,commitValidation:H}=e;const W=Rl(qBe(tse),"@react-aria/numberfield");let O=Us(r),{focusProps:G}=ME({onBlur(){j()}}),q=Pj(p),J=x.useMemo(()=>q.resolvedOptions(),[q]),te=Pj({...p,currencySign:void 0}),Y=x.useMemo(()=>isNaN($)?"":te.format($),[te,$]),{spinButtonProps:Z,incrementButtonProps:ee,decrementButtonProps:ie}=bie({isDisabled:o,isReadOnly:a,isRequired:l,maxValue:c,minValue:u,onIncrement:M,onIncrementToMax:P,onDecrement:k,onDecrementToMin:L,value:$,textValue:Y}),[ue,ae]=x.useState(!1),{focusWithinProps:de}=uv({isDisabled:o,onFocusWithinChange:ae}),ge=x.useCallback(Mt=>{Math.abs(Mt.deltaY)<=Math.abs(Mt.deltaX)||(Mt.deltaY>0?M():Mt.deltaY<0&&k())},[k,M]);QZ({onScroll:ge,isDisabled:D||o||a||!ue},n);var we;let ke=((we=J.maximumFractionDigits)!==null&&we!==void 0?we:0)>0,Fe=e.minValue===void 0||isNaN(e.minValue)||e.minValue<0,Ee="numeric";kJ()?Fe?Ee="text":ke&&(Ee="decimal"):n4()&&(Fe?Ee="numeric":ke&&(Ee="decimal"));let Me=Mt=>{e.validate(Mt)&&e.setInputValue(Mt)},Ue=cr(t),Ge=x.useCallback(Mt=>{Mt.nativeEvent.isComposing||(Mt.key==="Enter"?(j(),H()):Mt.continuePropagation())},[j,H]),{isInvalid:ut,validationErrors:ve,validationDetails:$e}=e.displayValidation,{labelProps:gt,inputProps:it,descriptionProps:ot,errorMessageProps:le}=Ste({...T,...Ue,name:void 0,form:void 0,label:f,autoFocus:d,isDisabled:o,isReadOnly:a,isRequired:l,validate:void 0,[zx]:e,value:z,defaultValue:"!",autoComplete:"off","aria-label":t["aria-label"]||void 0,"aria-labelledby":t["aria-labelledby"]||void 0,id:O,type:"text",inputMode:Ee,onChange:Me,onBlur:m,onFocus:v,onFocusChange:y,onKeyDown:x.useMemo(()=>If(Ge,A),[Ge,A]),onKeyUp:C,description:E,errorMessage:I},e,n);av(n,e.defaultNumberValue,e.setNumberValue);let se=on(Z,G,it,{role:null,"aria-roledescription":sC()?null:W.format("numberField"),"aria-valuemax":null,"aria-valuemin":null,"aria-valuenow":null,"aria-valuetext":null,autoCorrect:"off",spellCheck:"false"});t.validationBehavior==="native"&&(se["aria-required"]=void 0);let Se=Mt=>{var at;document.activeElement!==n.current&&(Mt.pointerType==="mouse"?(at=n.current)===null||at===void 0||at.focus():Mt.target.focus())},De=t["aria-label"]||(typeof t.label=="string"?t.label:""),Be;De||(Be=t.label!=null?gt.id:t["aria-labelledby"]);let ze=Us(),kt=Us(),Et=on(ee,{"aria-label":s||W.format("increase",{fieldLabel:De}).trim(),id:Be&&!s?ze:null,"aria-labelledby":Be&&!s?`${ze} ${Be}`:null,"aria-controls":O,excludeFromTabOrder:!0,preventFocusOnPress:!0,allowFocusWhenDisabled:!0,isDisabled:!e.canIncrement,onPressStart:Se}),zt=on(ie,{"aria-label":i||W.format("decrease",{fieldLabel:De}).trim(),id:Be&&!i?kt:null,"aria-labelledby":Be&&!i?`${kt} ${Be}`:null,"aria-controls":O,excludeFromTabOrder:!0,preventFocusOnPress:!0,allowFocusWhenDisabled:!0,isDisabled:!e.canDecrement,onPressStart:Se});return{groupProps:{...de,role:"group","aria-disabled":o,"aria-invalid":ut?"true":void 0},labelProps:gt,inputProps:se,incrementButtonProps:Et,decrementButtonProps:zt,errorMessageProps:le,descriptionProps:ot,isInvalid:ut,validationErrors:ve,validationDetails:$e}}function YBe(t,e,n){let{locale:r}=yo();return nse({...t,value:void 0,defaultValue:void 0,onChange:void 0,validate:void 0,"aria-label":t["aria-label"]||(t.label||t["aria-labelledby"]?void 0:e.colorValue.getChannelName(t.channel,r))},e,n)}function XBe(t,e){let{role:n="dialog"}=t,r=TE();r=t["aria-label"]?void 0:r;let i=x.useRef(!1);return x.useEffect(()=>{if(e.current&&!e.current.contains(document.activeElement)){vc(e.current);let s=setTimeout(()=>{(document.activeElement===e.current||document.activeElement===document.body)&&(i.current=!0,e.current&&(e.current.blur(),vc(e.current)),i.current=!1)},500);return()=>{clearTimeout(s)}}},[e]),Pee(),{dialogProps:{...cr(t,{labelable:!0}),role:n,tabIndex:-1,"aria-labelledby":t["aria-labelledby"]||r,onBlur:s=>{i.current&&s.stopPropagation()}},titleProps:{id:r}}}var Na=(function(t){return t[t.none=0]="none",t[t.cancel=0]="cancel",t[t.move=1]="move",t[t.copy=2]="copy",t[t.link=4]="link",t[t.all=7]="all",t})({});const rse={...Na,copyMove:3,copyLink:6,linkMove:5,all:7,uninitialized:7},ise=sse(rse);ise[7]="all";const m_={none:"cancel",link:"link",copy:"copy",move:"move"},hk=sse(m_);function sse(t){let e={};for(let n in t)e[t[n]]=n;return e}const JBe=new Set(["text/plain","text/uri-list","text/html"]),lD="application/vnd.react-aria.items+json",uD="application/octet-stream",v$=new WeakMap,ose=Symbol();function ZBe(t){let{id:e}=v$.get(t)||{};if(!e)throw new Error("Droppable item outside a droppable collection");return e}function eDe(t){let{ref:e}=v$.get(t)||{};if(!e)throw new Error("Droppable item outside a droppable collection");return e}function Sx(t){let e=new Set;for(let n of t)for(let r of Object.keys(n))e.add(r);return e}function ase(t){return t||(t="virtual"),t==="pointer"&&(t="virtual"),t==="virtual"&&typeof window<"u"&&"ontouchstart"in window&&(t="touch"),t}function b$(){return ase(jZ())}function lse(){return ase(o3())}function tDe(t,e){let n=new Map,r=!1,i=[];for(let s of e){let o=Object.keys(s);o.length>1&&(r=!0);let a={};for(let l of o){let u=n.get(l);u?r=!0:(u=[],n.set(l,u));let c=s[l];a[l]=c,u.push(c)}i.push(a)}for(let[s,o]of n)if(JBe.has(s)){let a=o.join(`
`);t.items.add(a,s)}else t.items.add(o[0],s);if(r){let s=JSON.stringify(i);t.items.add(s,lD)}}class rI{has(e){return this.includesUnknownTypes||e===ose&&this.types.has(uD)?!0:typeof e=="string"&&this.types.has(e)}constructor(e){this.types=new Set;let n=!1;for(let r of e.items)r.type!==lD&&(r.kind==="file"&&(n=!0),r.type?this.types.add(r.type):this.types.add(uD));this.includesUnknownTypes=!n&&e.types.includes("Files")}}function nDe(t){let e=[];if(!t)return e;let n=!1;if(t.types.includes(lD))try{let r=t.getData(lD),i=JSON.parse(r);for(let s of i)e.push({kind:"text",types:new Set(Object.keys(s)),getText:o=>Promise.resolve(s[o])});n=!0}catch{}if(!n){let r=new Map;for(let i of t.items)if(i.kind==="string")r.set(i.type||uD,t.getData(i.type));else if(i.kind==="file")if(typeof i.webkitGetAsEntry=="function"){let s=i.webkitGetAsEntry();if(!s)continue;s.isFile?e.push(o8(i.getAsFile())):s.isDirectory&&e.push(use(s))}else e.push(o8(i.getAsFile()));r.size>0&&e.push({kind:"text",types:new Set(r.keys()),getText:i=>Promise.resolve(r.get(i))})}return e}function rDe(t){return typeof t.text=="function"?t.text():new Promise((e,n)=>{let r=new FileReader;r.onload=()=>{e(r.result)},r.onerror=n,r.readAsText(t)})}function o8(t){if(!t)throw new Error("No file provided");return{kind:"file",type:t.type||uD,name:t.name,getText:()=>rDe(t),getFile:()=>Promise.resolve(t)}}function use(t){return{kind:"directory",name:t.name,getEntries:()=>iDe(t)}}async function*iDe(t){let e=t.createReader(),n;do{n=await new Promise((r,i)=>{e.readEntries(r,i)});for(let r of n)if(r.isFile){let i=await sDe(r);yield o8(i)}else r.isDirectory&&(yield use(r))}while(n.length>0)}function sDe(t){return new Promise((e,n)=>t.file(e,n))}let el={draggingKeys:new Set};function oDe(t){el.draggingCollectionRef=t}function aDe(t){el.draggingKeys=t}function A1(t){el.dropCollectionRef=t}function cse(){el={draggingKeys:new Set}}function lDe(t){el=t}function Hg(t){let{draggingCollectionRef:e,dropCollectionRef:n}=el;return e?.current!=null&&e.current===(t?.current||n?.current)}let DB;function cD(t){DB=t}let a8=Na.none;function fk(t){a8=t}let l8=new Map,A_=new Map,xc=null,dD=new Set;function dse(t){return l8.set(t.element,t),xc?.updateValidDropTargets(),()=>{l8.delete(t.element),xc?.updateValidDropTargets()}}function uDe(t){return A_.set(t.element,t),()=>{A_.delete(t.element)}}function cDe(t,e){if(xc)throw new Error("Cannot begin dragging while already dragging");xc=new gDe(t,e),requestAnimationFrame(()=>{xc&&(xc.setup(),lse()==="keyboard"&&xc.next())});for(let n of dD)n()}function x$(){let[t,e]=x.useState(xc);return x.useEffect(()=>{let n=()=>e(xc);return dD.add(n),()=>{dD.delete(n)}},[]),t}function dDe(){return!!xc}function hDe(){xc=null;for(let t of dD)t()}const g9=["pointerdown","pointermove","pointerenter","pointerleave","pointerover","pointerout","pointerup","mousedown","mousemove","mouseenter","mouseleave","mouseover","mouseout","mouseup","touchstart","touchmove","touchend","focusin","focusout"],fDe=["pointerup","mouseup","touchend"],pDe={keyboard:"dragStartedKeyboard",touch:"dragStartedTouch",virtual:"dragStartedVirtual"};class gDe{setup(){document.addEventListener("keydown",this.onKeyDown,!0),document.addEventListener("keyup",this.onKeyUp,!0),window.addEventListener("focus",this.onFocus,!0),window.addEventListener("blur",this.onBlur,!0),document.addEventListener("click",this.onClick,!0),document.addEventListener("pointerdown",this.onPointerDown,!0);for(let e of g9)document.addEventListener(e,this.cancelEvent,!0);this.mutationObserver=new MutationObserver(()=>this.updateValidDropTargets()),this.updateValidDropTargets(),Tp(this.stringFormatter.format(pDe[lse()]))}teardown(){var e,n,r;document.removeEventListener("keydown",this.onKeyDown,!0),document.removeEventListener("keyup",this.onKeyUp,!0),window.removeEventListener("focus",this.onFocus,!0),window.removeEventListener("blur",this.onBlur,!0),document.removeEventListener("click",this.onClick,!0),document.removeEventListener("pointerdown",this.onPointerDown,!0);for(let i of g9)document.removeEventListener(i,this.cancelEvent,!0);(e=this.mutationObserver)===null||e===void 0||e.disconnect(),(n=(r=this).restoreAriaHidden)===null||n===void 0||n.call(r)}onKeyDown(e){var n;if(this.cancelEvent(e),e.key==="Escape"){this.cancel();return}e.key==="Tab"&&!(e.metaKey||e.altKey||e.ctrlKey)&&(e.shiftKey?this.previous():this.next()),typeof((n=this.currentDropTarget)===null||n===void 0?void 0:n.onKeyDown)=="function"&&this.currentDropTarget.onKeyDown(e,this.dragTarget)}onKeyUp(e){if(this.cancelEvent(e),e.key==="Enter"){var n;e.altKey||!((n=this.getCurrentActivateButton())===null||n===void 0)&&n.contains(e.target)?this.activate(this.currentDropTarget,this.currentDropItem):this.drop()}}getCurrentActivateButton(){var e,n,r,i,s,o;return(o=(s=(n=this.currentDropItem)===null||n===void 0||(e=n.activateButtonRef)===null||e===void 0?void 0:e.current)!==null&&s!==void 0?s:(i=this.currentDropTarget)===null||i===void 0||(r=i.activateButtonRef)===null||r===void 0?void 0:r.current)!==null&&o!==void 0?o:null}onFocus(e){let n=this.getCurrentActivateButton();if(e.target===n){this.cancelEvent(e);return}if(e.target!==this.dragTarget.element&&this.cancelEvent(e),!(e.target instanceof HTMLElement)||e.target===this.dragTarget.element)return;let r=this.validDropTargets.find(s=>s.element===e.target)||this.validDropTargets.find(s=>s.element.contains(e.target));if(!r){this.currentDropTarget?this.currentDropTarget.element.focus():this.dragTarget.element.focus();return}let i=A_.get(e.target);r&&this.setCurrentDropTarget(r,i)}onBlur(e){let n=this.getCurrentActivateButton();if(e.relatedTarget===n){this.cancelEvent(e);return}e.target!==this.dragTarget.element&&this.cancelEvent(e),(!e.relatedTarget||!(e.relatedTarget instanceof HTMLElement))&&(this.currentDropTarget?this.currentDropTarget.element.focus():this.dragTarget.element.focus())}onClick(e){if(this.cancelEvent(e),vT(e)||this.isVirtualClick){var n,r;let o=[...A_.values()].find(u=>{var c,d;return u.element===e.target||((d=u.activateButtonRef)===null||d===void 0||(c=d.current)===null||c===void 0?void 0:c.contains(e.target))}),a=this.validDropTargets.find(u=>u.element.contains(e.target));var i;let l=(i=o==null||(n=o.activateButtonRef)===null||n===void 0?void 0:n.current)!==null&&i!==void 0?i:a==null||(r=a.activateButtonRef)===null||r===void 0?void 0:r.current;if(l?.contains(e.target)&&a){this.activate(a,o);return}if(e.target===this.dragTarget.element){this.cancel();return}a&&(this.setCurrentDropTarget(a,o),this.drop(o))}}onPointerDown(e){this.cancelEvent(e),this.isVirtualClick=t$(e)}cancelEvent(e){var n;(e.type==="focusin"||e.type==="focusout")&&(e.target===((n=this.dragTarget)===null||n===void 0?void 0:n.element)||e.target===this.getCurrentActivateButton())||(fDe.includes(e.type)||e.preventDefault(),e.stopPropagation(),e.stopImmediatePropagation())}updateValidDropTargets(){if(!this.mutationObserver)return;if(this.mutationObserver.disconnect(),this.restoreAriaHidden&&this.restoreAriaHidden(),this.validDropTargets=mDe(this.dragTarget),this.validDropTargets.length>0){let i=this.findNearestDropTarget();this.validDropTargets=[...this.validDropTargets.slice(i),...this.validDropTargets.slice(0,i)]}this.currentDropTarget&&!this.validDropTargets.includes(this.currentDropTarget)&&this.setCurrentDropTarget(this.validDropTargets[0]);let e=Sx(this.dragTarget.items),n=[...A_.values()].filter(i=>typeof i.getDropOperation=="function"?i.getDropOperation(e,this.dragTarget.allowedDropOperations)!=="cancel":!0),r=this.validDropTargets.filter(i=>!n.some(s=>i.element.contains(s.element)));this.restoreAriaHidden=wT([this.dragTarget.element,...n.flatMap(i=>{var s,o;return!((s=i.activateButtonRef)===null||s===void 0)&&s.current?[i.element,(o=i.activateButtonRef)===null||o===void 0?void 0:o.current]:[i.element]}),...r.flatMap(i=>{var s,o;return!((s=i.activateButtonRef)===null||s===void 0)&&s.current?[i.element,(o=i.activateButtonRef)===null||o===void 0?void 0:o.current]:[i.element]})],{shouldUseInert:!0}),this.mutationObserver.observe(document.body,{subtree:!0,attributes:!0,attributeFilter:["aria-hidden","inert"]})}next(){if(!this.currentDropTarget){this.setCurrentDropTarget(this.validDropTargets[0]);return}let e=this.validDropTargets.indexOf(this.currentDropTarget);if(e<0){this.setCurrentDropTarget(this.validDropTargets[0]);return}e===this.validDropTargets.length-1?this.dragTarget.element.closest('[aria-hidden="true"], [inert]')?this.setCurrentDropTarget(this.validDropTargets[0]):(this.setCurrentDropTarget(null),this.dragTarget.element.focus()):this.setCurrentDropTarget(this.validDropTargets[e+1])}previous(){if(!this.currentDropTarget){this.setCurrentDropTarget(this.validDropTargets[this.validDropTargets.length-1]);return}let e=this.validDropTargets.indexOf(this.currentDropTarget);if(e<0){this.setCurrentDropTarget(this.validDropTargets[this.validDropTargets.length-1]);return}e===0?this.dragTarget.element.closest('[aria-hidden="true"], [inert]')?this.setCurrentDropTarget(this.validDropTargets[this.validDropTargets.length-1]):(this.setCurrentDropTarget(null),this.dragTarget.element.focus()):this.setCurrentDropTarget(this.validDropTargets[e-1])}findNearestDropTarget(){let e=this.dragTarget.element.getBoundingClientRect(),n=1/0,r=-1;for(let i=0;i<this.validDropTargets.length;i++){let o=this.validDropTargets[i].element.getBoundingClientRect(),a=o.left-e.left,l=o.top-e.top,u=a*a+l*l;u<n&&(n=u,r=i)}return r}setCurrentDropTarget(e,n){if(e!==this.currentDropTarget){if(this.currentDropTarget&&typeof this.currentDropTarget.onDropExit=="function"){let r=this.currentDropTarget.element.getBoundingClientRect();this.currentDropTarget.onDropExit({type:"dropexit",x:r.left+r.width/2,y:r.top+r.height/2})}if(this.currentDropTarget=e,e){if(typeof e.onDropEnter=="function"){let r=e.element.getBoundingClientRect();e.onDropEnter({type:"dropenter",x:r.left+r.width/2,y:r.top+r.height/2},this.dragTarget)}n||e?.element.focus()}}if(n!=null&&n!==this.currentDropItem&&(this.currentDropTarget&&typeof this.currentDropTarget.onDropTargetEnter=="function"&&this.currentDropTarget.onDropTargetEnter(n.target),n.element.focus(),this.currentDropItem=n,!this.initialFocused)){let r=n?.element.getAttribute("aria-label");r&&Tp(r,"polite"),this.initialFocused=!0}}end(){var e;if(this.teardown(),hDe(),typeof this.dragTarget.onDragEnd=="function"){let r=(this.currentDropTarget&&this.dropOperation!=="cancel"?this.currentDropTarget:this.dragTarget).element.getBoundingClientRect();this.dragTarget.onDragEnd({type:"dragend",x:r.x+r.width/2,y:r.y+r.height/2,dropOperation:this.dropOperation||"cancel"})}this.currentDropTarget&&!this.currentDropTarget.preventFocusOnDrop&&((e=document.activeElement)===null||e===void 0||e.dispatchEvent(new FocusEvent("focusin",{bubbles:!0}))),this.setCurrentDropTarget(null)}cancel(){this.setCurrentDropTarget(null),this.end(),this.dragTarget.element.closest('[aria-hidden="true"], [inert]')||this.dragTarget.element.focus(),Tp(this.stringFormatter.format("dropCanceled"))}drop(e){if(!this.currentDropTarget){this.cancel();return}if(typeof e?.getDropOperation=="function"){let r=Sx(this.dragTarget.items);this.dropOperation=e.getDropOperation(r,this.dragTarget.allowedDropOperations)}else if(typeof this.currentDropTarget.getDropOperation=="function"){let r=Sx(this.dragTarget.items);this.dropOperation=this.currentDropTarget.getDropOperation(r,this.dragTarget.allowedDropOperations)}else this.dropOperation=this.dragTarget.allowedDropOperations[0];if(typeof this.currentDropTarget.onDrop=="function"){let r=this.dragTarget.items.map(s=>({kind:"text",types:new Set(Object.keys(s)),getText:o=>Promise.resolve(s[o])})),i=this.currentDropTarget.element.getBoundingClientRect();var n;this.currentDropTarget.onDrop({type:"drop",x:i.left+i.width/2,y:i.top+i.height/2,items:r,dropOperation:this.dropOperation},(n=e?.target)!==null&&n!==void 0?n:null)}this.end(),Tp(this.stringFormatter.format("dropComplete"))}activate(e,n){if(e&&typeof e.onDropActivate=="function"){var r;let i=(r=n?.target)!==null&&r!==void 0?r:null,s=e.element.getBoundingClientRect();e.onDropActivate({type:"dropactivate",x:s.left+s.width/2,y:s.top+s.height/2},i)}}constructor(e,n){this.validDropTargets=[],this.currentDropTarget=null,this.currentDropItem=null,this.dropOperation=null,this.mutationObserver=null,this.restoreAriaHidden=null,this.isVirtualClick=!1,this.dragTarget=e,this.stringFormatter=n,this.onKeyDown=this.onKeyDown.bind(this),this.onKeyUp=this.onKeyUp.bind(this),this.onFocus=this.onFocus.bind(this),this.onBlur=this.onBlur.bind(this),this.onClick=this.onClick.bind(this),this.onPointerDown=this.onPointerDown.bind(this),this.cancelEvent=this.cancelEvent.bind(this),this.initialFocused=!1}}function mDe(t){let e=Sx(t.items);return[...l8.values()].filter(n=>n.element.closest('[aria-hidden="true"], [inert]')?!1:typeof n.getDropOperation=="function"?n.getDropOperation(e,t.allowedDropOperations)!=="cancel":!0)}var hse={};hse={dragDescriptionKeyboard:" Enter  .",dragDescriptionKeyboardAlt:"  Alt + Enter  .",dragDescriptionLongPress:"   .",dragDescriptionTouch:"   .",dragDescriptionVirtual:"  .",dragItem:t=>` ${t.itemText}`,dragSelectedItems:(t,e)=>` ${e.plural(t.count,{one:()=>`${e.number(t.count)}  `,other:()=>`${e.number(t.count)}  `})}`,dragSelectedKeyboard:(t,e)=>`  Enter  ${e.plural(t.count,{one:"  ",other:"  "})}.`,dragSelectedKeyboardAlt:(t,e)=>`   Alt + Enter  ${e.plural(t.count,{one:"  ",other:"  "})}.`,dragSelectedLongPress:(t,e)=>`   ${e.plural(t.count,{one:"  ",other:"  "})}.`,dragStartedKeyboard:" .  Tab       Enter    Escape .",dragStartedTouch:" .        .",dragStartedVirtual:" .         Enter .",dropCanceled:"  .",dropComplete:" .",dropDescriptionKeyboard:" Enter .  Escape  .",dropDescriptionTouch:"  .",dropDescriptionVirtual:" .",dropIndicator:" ",dropOnItem:t=>` ${t.itemText}`,dropOnRoot:"",endDragKeyboard:".  Enter  .",endDragTouch:".    .",endDragVirtual:".   .",insertAfter:t=>`  ${t.itemText}`,insertBefore:t=>`  ${t.itemText}`,insertBetween:t=>`  ${t.beforeItemText}  ${t.afterItemText}`};var fse={};fse={dragDescriptionKeyboard:" Enter,     .",dragDescriptionKeyboardAlt:" Alt + Enter,     .",dragDescriptionLongPress:" ,     .",dragDescriptionTouch:" ,     .",dragDescriptionVirtual:",     .",dragItem:t=>` ${t.itemText}`,dragSelectedItems:(t,e)=>` ${e.plural(t.count,{one:()=>`${e.number(t.count)}  `,other:()=>`${e.number(t.count)}  `})}`,dragSelectedKeyboard:(t,e)=>` Enter,    ${e.plural(t.count,{one:()=>`${e.number(t.count)}  `,other:()=>`${e.number(t.count)}  `})}.`,dragSelectedKeyboardAlt:(t,e)=>` Alt  Enter,    ${e.plural(t.count,{one:()=>`${e.number(t.count)}  `,other:()=>`${e.number(t.count)}  `})}.`,dragSelectedLongPress:(t,e)=>` ,    ${e.plural(t.count,{one:()=>`${e.number(t.count)}  `,other:()=>`${e.number(t.count)}  `})}.`,dragStartedKeyboard:" .  Tab,      ,    Enter     Escape  .",dragStartedTouch:" .    ,    ,   .",dragStartedVirtual:" .    ,      Enter  .",dropCanceled:"  .",dropComplete:"  .",dropDescriptionKeyboard:" Enter  .  Escape    .",dropDescriptionTouch:"   .",dropDescriptionVirtual:"  .",dropIndicator:"  ",dropOnItem:t=>`  ${t.itemText}`,dropOnRoot:" ",endDragKeyboard:".  Enter    .",endDragTouch:".      .",endDragVirtual:".   .",insertAfter:t=>`  ${t.itemText}`,insertBefore:t=>`  ${t.itemText}`,insertBetween:t=>`  ${t.beforeItemText}  ${t.afterItemText}`};var pse={};pse={dragDescriptionKeyboard:"Stisknutm klvesy Enter zanete s petahovnm.",dragDescriptionKeyboardAlt:"Stisknutm Alt + Enter zahjte petahovn.",dragDescriptionLongPress:"Dlouhm stisknutm zahjte petahovn.",dragDescriptionTouch:"Poklepnm zanete s petahovnm.",dragDescriptionVirtual:"Kliknutm zanete s petahovnm.",dragItem:t=>`Pethnout ${t.itemText}`,dragSelectedItems:(t,e)=>`Pethnout ${e.plural(t.count,{one:()=>`${e.number(t.count)} vybranou poloku`,few:()=>`${e.number(t.count)} vybran poloky`,other:()=>`${e.number(t.count)} vybranch poloek`})}`,dragSelectedKeyboard:(t,e)=>`Stisknutm klvesy Enter pethnte ${e.plural(t.count,{one:()=>`${e.number(t.count)} vybranou poloku`,other:()=>`${e.number(t.count)} vybran poloky`})}.`,dragSelectedKeyboardAlt:(t,e)=>`Stisknutm Alt + Enter pethnte ${e.plural(t.count,{one:()=>`${e.number(t.count)} vybranou poloku`,other:()=>`${e.number(t.count)} vybran poloky`})}.`,dragSelectedLongPress:(t,e)=>`Dlouhm stisknutm pethnete ${e.plural(t.count,{one:()=>`${e.number(t.count)} vybranou poloku`,other:()=>`${e.number(t.count)} vybran poloky`})}.`,dragStartedKeyboard:"Zante s petahovnm. Po stisknut klvesy Tab najdte poadovan cl a stisknutm klvesy Enter petaen dokonete nebo stisknutm klvesy Esc akci zrute.",dragStartedTouch:"Zante s petahovnm. Najdte poadovan cl a poklepnm petaen dokonete.",dragStartedVirtual:"Zante s petahovnm. Najdte poadovan cl a kliknutm nebo stisknutm klvesy Enter petaen dokonete.",dropCanceled:"Petaen bylo zrueno.",dropComplete:"Petaen bylo dokoneno.",dropDescriptionKeyboard:"Stisknutm klvesy Enter petaen dokonete nebo stisknutm klvesy Esc akci zrute.",dropDescriptionTouch:"Poklepnm petaen dokonete.",dropDescriptionVirtual:"Kliknutm objekt pethnte.",dropIndicator:"indiktor petaen",dropOnItem:t=>`Pethnout na ${t.itemText}`,dropOnRoot:"Pethnout na",endDragKeyboard:"Probh petahovn. Stisknutm klvesy Enter petaen zrute.",endDragTouch:"Probh petahovn. Poklepnm petaen zrute.",endDragVirtual:"Probh petahovn. Kliknutm petaen zrute.",insertAfter:t=>`Vloit za ${t.itemText}`,insertBefore:t=>`Vloit ped ${t.itemText}`,insertBetween:t=>`Vloit mezi ${t.beforeItemText} a ${t.afterItemText}`};var gse={};gse={dragDescriptionKeyboard:"Tryk p Enter for at starte med at trkke.",dragDescriptionKeyboardAlt:"Tryk p Alt + Enter for at starte med at trkke.",dragDescriptionLongPress:"Tryk lnge for at starte med at trkke.",dragDescriptionTouch:"Dobbelttryk for at starte med at trkke.",dragDescriptionVirtual:"Klik for at starte med at trkke.",dragItem:t=>`Trk ${t.itemText}`,dragSelectedItems:(t,e)=>`Trk ${e.plural(t.count,{one:()=>`${e.number(t.count)} valgt element`,other:()=>`${e.number(t.count)} valgte elementer`})}`,dragSelectedKeyboard:(t,e)=>`Tryk p Enter for at trkke ${e.plural(t.count,{one:()=>`${e.number(t.count)} valgte element`,other:()=>`${e.number(t.count)} valgte elementer`})}.`,dragSelectedKeyboardAlt:(t,e)=>`Tryk p Alt + Enter for at trkke ${e.plural(t.count,{one:()=>`${e.number(t.count)} valgte element`,other:()=>`${e.number(t.count)} valgte elementer`})}.`,dragSelectedLongPress:(t,e)=>`Tryk lnge for at trkke ${e.plural(t.count,{one:()=>`${e.number(t.count)} valgte element`,other:()=>`${e.number(t.count)} valgte elementer`})}.`,dragStartedKeyboard:"Startet med at trkke. Tryk p Tab for at g til et slip-ml, tryk derefter p Enter for at slippe, eller tryk p Escape for at annullere.",dragStartedTouch:"Startet med at trkke. G til et slip-ml, og dobbelttryk derefter for at slippe.",dragStartedVirtual:"Startet med at trkke. G til et slip-ml, og klik eller tryk derefter p enter for at slippe.",dropCanceled:"Slip annulleret.",dropComplete:"Slip fuldfrt.",dropDescriptionKeyboard:"Tryk p Enter for at slippe. Tryk p Escape for at annullere trkning.",dropDescriptionTouch:"Dobbelttryk for at slippe.",dropDescriptionVirtual:"Klik for at slippe.",dropIndicator:"slip-indikator",dropOnItem:t=>`Slip p ${t.itemText}`,dropOnRoot:"Slip p",endDragKeyboard:"Trkning. Tryk p enter for at annullere trk.",endDragTouch:"Trkning. Dobbelttryk for at annullere trk.",endDragVirtual:"Trkning. Klik for at annullere trkning.",insertAfter:t=>`Indst efter ${t.itemText}`,insertBefore:t=>`Indst fr ${t.itemText}`,insertBetween:t=>`Indst mellem ${t.beforeItemText} og ${t.afterItemText}`};var mse={};mse={dragDescriptionKeyboard:"Drcken Sie die Eingabetaste, um den Ziehvorgang zu starten.",dragDescriptionKeyboardAlt:"Alt + Eingabe drcken, um den Ziehvorgang zu starten.",dragDescriptionLongPress:"Lang drcken, um mit dem Ziehen zu beginnen.",dragDescriptionTouch:"Tippen Sie doppelt, um den Ziehvorgang zu starten.",dragDescriptionVirtual:"Zum Starten des Ziehvorgangs klicken.",dragItem:t=>`${t.itemText} ziehen`,dragSelectedItems:(t,e)=>`${e.plural(t.count,{one:()=>`${e.number(t.count)} ausgewhltes Objekt`,other:()=>`${e.number(t.count)} ausgewhlte Objekte`})} ziehen`,dragSelectedKeyboard:(t,e)=>`Eingabetaste drcken, um ${e.plural(t.count,{one:()=>`${e.number(t.count)} ausgewhltes Element`,other:()=>`${e.number(t.count)} ausgewhlte Elemente`})} zu ziehen.`,dragSelectedKeyboardAlt:(t,e)=>`Alt + Eingabetaste drcken, um ${e.plural(t.count,{one:()=>`${e.number(t.count)} ausgewhltes Element`,other:()=>`${e.number(t.count)} ausgewhlte Elemente`})} zu ziehen.`,dragSelectedLongPress:(t,e)=>`Lang drcken, um ${e.plural(t.count,{one:()=>`${e.number(t.count)} ausgewhltes Element`,other:()=>`${e.number(t.count)} ausgewhlte Elemente`})} zu ziehen.`,dragStartedKeyboard:"Ziehvorgang gestartet. Drcken Sie die Tabulatortaste, um zu einem Ablegeziel zu navigieren und drcken Sie dann die Eingabetaste, um das Objekt abzulegen, oder Escape, um den Vorgang abzubrechen.",dragStartedTouch:"Ziehvorgang gestartet. Navigieren Sie zu einem Ablegeziel und tippen Sie doppelt, um das Objekt abzulegen.",dragStartedVirtual:"Ziehvorgang gestartet. Navigieren Sie zu einem Ablegeziel und klicken Sie oder drcken Sie die Eingabetaste, um das Objekt abzulegen.",dropCanceled:"Ablegen abgebrochen.",dropComplete:"Ablegen abgeschlossen.",dropDescriptionKeyboard:"Drcken Sie die Eingabetaste, um das Objekt abzulegen. Drcken Sie Escape, um den Vorgang abzubrechen.",dropDescriptionTouch:"Tippen Sie doppelt, um das Objekt abzulegen.",dropDescriptionVirtual:"Zum Ablegen klicken.",dropIndicator:"Ablegeanzeiger",dropOnItem:t=>`Auf ${t.itemText} ablegen`,dropOnRoot:"Ablegen auf",endDragKeyboard:"Ziehvorgang luft. Drcken Sie die Eingabetaste, um den Vorgang abzubrechen.",endDragTouch:"Ziehvorgang luft. Tippen Sie doppelt, um den Vorgang abzubrechen.",endDragVirtual:"Ziehvorgang luft. Klicken Sie, um den Vorgang abzubrechen.",insertAfter:t=>`Nach ${t.itemText} einfgen`,insertBefore:t=>`Vor ${t.itemText} einfgen`,insertBetween:t=>`Zwischen ${t.beforeItemText} und ${t.afterItemText} einfgen`};var Ase={};Ase={dragDescriptionKeyboard:" Enter    .",dragDescriptionKeyboardAlt:" Alt + Enter    .",dragDescriptionLongPress:"      .",dragDescriptionTouch:"      .",dragDescriptionVirtual:"      .",dragItem:t=>` ${t.itemText}`,dragSelectedItems:(t,e)=>`  ${e.plural(t.count,{one:()=>`${e.number(t.count)}  `,other:()=>`${e.number(t.count)}  `})}`,dragSelectedKeyboard:(t,e)=>` Enter    ${e.plural(t.count,{one:()=>`${e.number(t.count)}  `,other:()=>`${e.number(t.count)}  `})}.`,dragSelectedKeyboardAlt:(t,e)=>` Alt + Enter    ${e.plural(t.count,{one:()=>`${e.number(t.count)}  `,other:()=>`${e.number(t.count)}  `})}.`,dragSelectedLongPress:(t,e)=>`     ${e.plural(t.count,{one:()=>`${e.number(t.count)}  `,other:()=>`${e.number(t.count)}  `})}.`,dragStartedKeyboard:"  .    Tab        ,  ,  Enter     Escape  .",dragStartedTouch:"  .      ,  ,     .",dragStartedVirtual:"  .      ,  ,     Enter  .",dropCanceled:"  .",dropComplete:"  .",dropDescriptionKeyboard:" Enter  .  Escape    .",dropDescriptionTouch:"    .",dropDescriptionVirtual:"   .",dropIndicator:" ",dropOnItem:t=>`  ${t.itemText}`,dropOnRoot:" ",endDragKeyboard:"  .  Enter    .",endDragTouch:"  .       .",endDragVirtual:"  .      .",insertAfter:t=>`   ${t.itemText}`,insertBefore:t=>`   ${t.itemText}`,insertBetween:t=>`  ${t.beforeItemText}  ${t.afterItemText}`};var yse={};yse={dragItem:t=>`Drag ${t.itemText}`,dragSelectedItems:(t,e)=>`Drag ${e.plural(t.count,{one:()=>`${e.number(t.count)} selected item`,other:()=>`${e.number(t.count)} selected items`})}`,dragDescriptionKeyboard:"Press Enter to start dragging.",dragDescriptionKeyboardAlt:"Press Alt + Enter to start dragging.",dragDescriptionTouch:"Double tap to start dragging.",dragDescriptionVirtual:"Click to start dragging.",dragDescriptionLongPress:"Long press to start dragging.",dragSelectedKeyboard:(t,e)=>`Press Enter to drag ${e.plural(t.count,{one:()=>`${e.number(t.count)} selected item`,other:()=>`${e.number(t.count)} selected items`})}.`,dragSelectedKeyboardAlt:(t,e)=>`Press Alt + Enter to drag ${e.plural(t.count,{one:()=>`${e.number(t.count)} selected item`,other:()=>`${e.number(t.count)} selected items`})}.`,dragSelectedLongPress:(t,e)=>`Long press to drag ${e.plural(t.count,{one:()=>`${e.number(t.count)} selected item`,other:()=>`${e.number(t.count)} selected items`})}.`,dragStartedKeyboard:"Started dragging. Press Tab to navigate to a drop target, then press Enter to drop, or press Escape to cancel.",dragStartedTouch:"Started dragging. Navigate to a drop target, then double tap to drop.",dragStartedVirtual:"Started dragging. Navigate to a drop target, then click or press Enter to drop.",endDragKeyboard:"Dragging. Press Enter to cancel drag.",endDragTouch:"Dragging. Double tap to cancel drag.",endDragVirtual:"Dragging. Click to cancel drag.",dropDescriptionKeyboard:"Press Enter to drop. Press Escape to cancel drag.",dropDescriptionTouch:"Double tap to drop.",dropDescriptionVirtual:"Click to drop.",dropCanceled:"Drop canceled.",dropComplete:"Drop complete.",dropIndicator:"drop indicator",dropOnRoot:"Drop on",dropOnItem:t=>`Drop on ${t.itemText}`,insertBefore:t=>`Insert before ${t.itemText}`,insertBetween:t=>`Insert between ${t.beforeItemText} and ${t.afterItemText}`,insertAfter:t=>`Insert after ${t.itemText}`};var vse={};vse={dragDescriptionKeyboard:"Pulse Intro para empezar a arrastrar.",dragDescriptionKeyboardAlt:"Pulse Intro para empezar a arrastrar.",dragDescriptionLongPress:"Mantenga pulsado para comenzar a arrastrar.",dragDescriptionTouch:"Pulse dos veces para iniciar el arrastre.",dragDescriptionVirtual:"Haga clic para iniciar el arrastre.",dragItem:t=>`Arrastrar ${t.itemText}`,dragSelectedItems:(t,e)=>`Arrastrar ${e.plural(t.count,{one:()=>`${e.number(t.count)} elemento seleccionado`,other:()=>`${e.number(t.count)} elementos seleccionados`})}`,dragSelectedKeyboard:(t,e)=>`Pulse Intro para arrastrar ${e.plural(t.count,{one:()=>`${e.number(t.count)} elemento seleccionado`,other:()=>`${e.number(t.count)} elementos seleccionados`})}.`,dragSelectedKeyboardAlt:(t,e)=>`Pulse Alt + Intro para arrastrar ${e.plural(t.count,{one:()=>`${e.number(t.count)} elemento seleccionado`,other:()=>`${e.number(t.count)} elementos seleccionados`})}.`,dragSelectedLongPress:(t,e)=>`Mantenga pulsado para arrastrar ${e.plural(t.count,{one:()=>`${e.number(t.count)} elemento seleccionado`,other:()=>`${e.number(t.count)} elementos seleccionados`})}.`,dragStartedKeyboard:"Se ha empezado a arrastrar. Pulse el tabulador para ir al destino donde se vaya a colocar y, a continuacin, pulse Intro para soltar, o pulse Escape para cancelar.",dragStartedTouch:"Se ha empezado a arrastrar. Vaya al destino donde se vaya a colocar y, a continuacin, pulse dos veces para soltar.",dragStartedVirtual:"Se ha empezado a arrastrar. Vaya al destino donde se vaya a colocar y, a continuacin, haga clic o pulse Intro para soltar.",dropCanceled:"Se ha cancelado la colocacin.",dropComplete:"Colocacin finalizada.",dropDescriptionKeyboard:"Pulse Intro para soltar. Pulse Escape para cancelar el arrastre.",dropDescriptionTouch:"Pulse dos veces para soltar.",dropDescriptionVirtual:"Haga clic para soltar.",dropIndicator:"indicador de colocacin",dropOnItem:t=>`Soltar en ${t.itemText}`,dropOnRoot:"Soltar en",endDragKeyboard:"Arrastrando. Pulse Intro para cancelar el arrastre.",endDragTouch:"Arrastrando. Pulse dos veces para cancelar el arrastre.",endDragVirtual:"Arrastrando. Haga clic para cancelar el arrastre.",insertAfter:t=>`Insertar despus de ${t.itemText}`,insertBefore:t=>`Insertar antes de ${t.itemText}`,insertBetween:t=>`Insertar entre ${t.beforeItemText} y ${t.afterItemText}`};var bse={};bse={dragDescriptionKeyboard:"Lohistamise alustamiseks vajutage klahvi Enter.",dragDescriptionKeyboardAlt:"Lohistamise alustamiseks vajutage klahvikombinatsiooni Alt + Enter.",dragDescriptionLongPress:"Vajutage pikalt lohistamise alustamiseks.",dragDescriptionTouch:"Topeltpuudutage lohistamise alustamiseks.",dragDescriptionVirtual:"Klpsake lohistamise alustamiseks.",dragItem:t=>`Lohista ${t.itemText}`,dragSelectedItems:(t,e)=>`Lohista ${e.plural(t.count,{one:()=>`${e.number(t.count)} valitud ksust`,other:()=>`${e.number(t.count)} valitud ksust`})}`,dragSelectedKeyboard:(t,e)=>`${e.plural(t.count,{one:()=>`${e.number(t.count)} valitud ksuse`,other:()=>`${e.number(t.count)} valitud ksuse`})} lohistamiseks vajutage sisestusklahvi Enter.`,dragSelectedKeyboardAlt:(t,e)=>`Lohistamiseks vajutage klahvikombinatsiooni Alt + Enter ${e.plural(t.count,{one:()=>`${e.number(t.count)} valitud ksuse`,other:()=>`${e.number(t.count)} valitud ksuse`})} jaoks.`,dragSelectedLongPress:(t,e)=>`Pikk vajutus ${e.plural(t.count,{one:()=>`${e.number(t.count)} valitud ksuse`,other:()=>`${e.number(t.count)} valitud ksuse`})} lohistamiseks.`,dragStartedKeyboard:"Alustati lohistamist. Kukutamise sihtmrgi juurde navigeerimiseks vajutage klahvi Tab, seejrel vajutage kukutamiseks klahvi Enter vi loobumiseks klahvi Escape.",dragStartedTouch:"Alustati lohistamist. Navigeerige kukutamise sihtmrgi juurde ja topeltpuudutage kukutamiseks.",dragStartedVirtual:"Alustati lohistamist. Navigeerige kukutamise sihtmrgi juurde ja kukutamiseks klpsake vi vajutage klahvi Enter.",dropCanceled:"Lohistamisest loobuti.",dropComplete:"Lohistamine on tehtud.",dropDescriptionKeyboard:"Kukutamiseks vajutage klahvi Enter. Lohistamisest loobumiseks vajutage klahvi Escape.",dropDescriptionTouch:"Kukutamiseks topeltpuudutage.",dropDescriptionVirtual:"Kukutamiseks klpsake.",dropIndicator:"lohistamise indikaator",dropOnItem:t=>`Kukuta asukohta ${t.itemText}`,dropOnRoot:"Kukuta asukohta",endDragKeyboard:"Lohistamine. Lohistamisest loobumiseks vajutage klahvi Enter.",endDragTouch:"Lohistamine. Lohistamisest loobumiseks topeltpuudutage.",endDragVirtual:"Lohistamine. Lohistamisest loobumiseks klpsake.",insertAfter:t=>`Sisesta ${t.itemText} jrele`,insertBefore:t=>`Sisesta ${t.itemText} ette`,insertBetween:t=>`Sisesta ${t.beforeItemText} ja ${t.afterItemText} vahele`};var xse={};xse={dragDescriptionKeyboard:"Aloita vetminen painamalla Enter-nppint.",dragDescriptionKeyboardAlt:"Aloita vetminen painamalla Alt + Enter -nppinyhdistelm.",dragDescriptionLongPress:"Aloita vetminen pitmll painettuna.",dragDescriptionTouch:"Aloita vetminen kaksoisnapauttamalla.",dragDescriptionVirtual:"Aloita vetminen napsauttamalla.",dragItem:t=>`Ved kohdetta ${t.itemText}`,dragSelectedItems:(t,e)=>`Ved ${e.plural(t.count,{one:()=>`${e.number(t.count)} valittua kohdetta`,other:()=>`${e.number(t.count)} valittua kohdetta`})}`,dragSelectedKeyboard:(t,e)=>`Ved painamalla Enter ${e.plural(t.count,{one:()=>`${e.number(t.count)} valittu kohde`,other:()=>`${e.number(t.count)} valittua kohdetta`})}.`,dragSelectedKeyboardAlt:(t,e)=>`Ved painamalla Alt + Enter ${e.plural(t.count,{one:()=>`${e.number(t.count)} valittu kohde`,other:()=>`${e.number(t.count)} valittua kohdetta`})}.`,dragSelectedLongPress:(t,e)=>`Ved pitmll painettuna ${e.plural(t.count,{one:()=>`${e.number(t.count)} valittu kohde`,other:()=>`${e.number(t.count)} valittua kohdetta`})}.`,dragStartedKeyboard:"Vetminen aloitettu. Siirry pudotuskohteeseen painamalla sarkainnppint ja sitten pudota painamalla Enter-nppint tai peruuta painamalla Escape-nppint.",dragStartedTouch:"Vetminen aloitettu. Siirry pudotuskohteeseen ja pudota kaksoisnapauttamalla.",dragStartedVirtual:"Vetminen aloitettu. Siirry pudotuskohteeseen ja pudota napsauttamalla tai painamalla Enter-nppint.",dropCanceled:"Pudotus peruutettu.",dropComplete:"Pudotus suoritettu.",dropDescriptionKeyboard:"Pudota painamalla Enter-nppint. Peruuta vetminen painamalla Escape-nppint.",dropDescriptionTouch:"Pudota kaksoisnapauttamalla.",dropDescriptionVirtual:"Pudota napsauttamalla.",dropIndicator:"pudotuksen ilmaisin",dropOnItem:t=>`Pudota kohteeseen ${t.itemText}`,dropOnRoot:"Pudota kohteeseen",endDragKeyboard:"Vedetn. Peruuta vetminen painamalla Enter-nppint.",endDragTouch:"Vedetn. Peruuta vetminen kaksoisnapauttamalla.",endDragVirtual:"Vedetn. Peruuta vetminen napsauttamalla.",insertAfter:t=>`Lis kohteen ${t.itemText} jlkeen`,insertBefore:t=>`Lis ennen kohdetta ${t.itemText}`,insertBetween:t=>`Lis kohteiden ${t.beforeItemText} ja ${t.afterItemText} vliin`};var Cse={};Cse={dragDescriptionKeyboard:"Appuyez sur Entre pour commencer le dplacement.",dragDescriptionKeyboardAlt:"Appuyez sur Alt+Entre pour commencer  faire glisser.",dragDescriptionLongPress:"Appuyez de manire prolonge pour commencer  faire glisser.",dragDescriptionTouch:"Touchez deux fois pour commencer le dplacement.",dragDescriptionVirtual:"Cliquez pour commencer le dplacement.",dragItem:t=>`Dplacer ${t.itemText}`,dragSelectedItems:(t,e)=>`Dplacer ${e.plural(t.count,{one:()=>`${e.number(t.count)} lment slectionn`,other:()=>`${e.number(t.count)} lments slectionns`})}`,dragSelectedKeyboard:(t,e)=>`Appuyez sur Entre pour faire glisser ${e.plural(t.count,{one:()=>`${e.number(t.count)} lment slectionn`,other:()=>`${e.number(t.count)} lments slectionns`})}.`,dragSelectedKeyboardAlt:(t,e)=>`Appuyez sur Alt+Entre pour faire glisser ${e.plural(t.count,{one:()=>`${e.number(t.count)} lment slectionn`,other:()=>`${e.number(t.count)} lments slectionns`})}.`,dragSelectedLongPress:(t,e)=>`Appuyez de manire prolonge pour faire glisser ${e.plural(t.count,{one:()=>`${e.number(t.count)} lment slectionn`,other:()=>`${e.number(t.count)} lments slectionns`})}.`,dragStartedKeyboard:"Dplacement commenc. Appuyez sur Tabulation pour accder  une cible de dpt, puis appuyez sur Entre pour dposer, ou appuyez sur chap pour annuler.",dragStartedTouch:"Dplacement commenc. Accdez  une cible de dpt, puis touchez deux fois pour dposer.",dragStartedVirtual:"Dplacement commenc. Accdez  une cible de dpt, puis cliquez ou appuyez sur Entre pour dposer.",dropCanceled:"Dpt annul.",dropComplete:"Dpt termin.",dropDescriptionKeyboard:"Appuyez sur Entre pour dposer. Appuyez sur chap pour annuler le dplacement.",dropDescriptionTouch:"Touchez deux fois pour dposer.",dropDescriptionVirtual:"Cliquez pour dposer.",dropIndicator:"indicateur de dpt",dropOnItem:t=>`Dposer sur ${t.itemText}`,dropOnRoot:"Dposer sur",endDragKeyboard:"Dplacement. Appuyez sur Entre pour annuler le dplacement.",endDragTouch:"Dplacement. Touchez deux fois pour annuler le dplacement.",endDragVirtual:"Dplacement. Cliquez pour annuler le dplacement.",insertAfter:t=>`Insrer aprs ${t.itemText}`,insertBefore:t=>`Insrer avant ${t.itemText}`,insertBetween:t=>`Insrer entre ${t.beforeItemText} et ${t.afterItemText}`};var Ese={};Ese={dragDescriptionKeyboard:"  Enter   .",dragDescriptionKeyboardAlt:" Alt + Enter   .",dragDescriptionLongPress:"     .",dragDescriptionTouch:"    .",dragDescriptionVirtual:"   .",dragItem:t=>`  ${t.itemText}`,dragSelectedItems:(t,e)=>` ${e.plural(t.count,{one:()=>`  ${e.number(t.count)}`,other:()=>`${e.number(t.count)}  `})}`,dragSelectedKeyboard:(t,e)=>`  Enter   ${e.plural(t.count,{one:()=>`${e.number(t.count)}  `,other:()=>`${e.number(t.count)}  `})}.`,dragSelectedKeyboardAlt:(t,e)=>` Alt + Enter   ${e.plural(t.count,{one:()=>`${e.number(t.count)}  `,other:()=>`${e.number(t.count)}  `})}.`,dragSelectedLongPress:(t,e)=>`     ${e.plural(t.count,{one:()=>`${e.number(t.count)}  `,other:()=>`${e.number(t.count)}  `})}.`,dragStartedKeyboard:" .   Tab         Enter     Escape  .",dragStartedTouch:" .         .",dragStartedVirtual:" .          Enter  .",dropCanceled:" .",dropComplete:" .",dropDescriptionKeyboard:"  Enter  .   Escape    .",dropDescriptionTouch:"   .",dropDescriptionVirtual:"  .",dropIndicator:" ",dropOnItem:t=>`  ${t.itemText}`,dropOnRoot:" ",endDragKeyboard:".   Enter    .",endDragTouch:".      .",endDragVirtual:".     .",insertAfter:t=>`  ${t.itemText}`,insertBefore:t=>`  ${t.itemText}`,insertBetween:t=>`  ${t.beforeItemText}  ${t.afterItemText}`};var Sse={};Sse={dragDescriptionKeyboard:"Pritisnite Enter da biste poeli povlaiti.",dragDescriptionKeyboardAlt:"Pritisnite Alt + Enter za poetak povlaenja.",dragDescriptionLongPress:"Dugo pritisnite za poetak povlaenja.",dragDescriptionTouch:"Dvaput dodirnite da biste poeli povlaiti.",dragDescriptionVirtual:"Kliknite da biste poeli povlaiti.",dragItem:t=>`Povucite stavku ${t.itemText}`,dragSelectedItems:(t,e)=>`Povucite ${e.plural(t.count,{one:()=>`${e.number(t.count)} odabranu stavku`,other:()=>`ovoliko odabranih stavki: ${e.number(t.count)}`})}`,dragSelectedKeyboard:(t,e)=>`Pritisnite Enter za povlaenje ${e.plural(t.count,{one:()=>`${e.number(t.count)} odabrana stavka`,other:()=>`${e.number(t.count)} odabrane stavke`})}.`,dragSelectedKeyboardAlt:(t,e)=>`Pritisnite Alt + Enter za povlaenje ${e.plural(t.count,{one:()=>`${e.number(t.count)} odabrana stavka`,other:()=>`${e.number(t.count)} odabrane stavke`})}.`,dragSelectedLongPress:(t,e)=>`Dugo pritisnite za povlaenje ${e.plural(t.count,{one:()=>`${e.number(t.count)} odabrana stavka`,other:()=>`${e.number(t.count)} odabrane stavke`})}.`,dragStartedKeyboard:"Poeli ste povlaiti. Pritisnite tipku tabulatora da biste doli do cilja isputanja, a zatim Enter da biste ispustili stavku ili Escape da biste prekinuli povlaenje.",dragStartedTouch:"Poeli ste povlaiti. Doite do cilja isputanja, a zatim dvaput dodirnite da biste ispustili stavku.",dragStartedVirtual:"Poeli ste povlaiti. Doite do cilja isputanja, a zatim kliknite ili pritisnite Enter da biste ispustili stavku.",dropCanceled:"Povlaenje je prekinuto.",dropComplete:"Isputanje je dovreno.",dropDescriptionKeyboard:"Pritisnite Enter da biste ispustili stavku. Pritisnite Escape da biste prekinuli povlaenje.",dropDescriptionTouch:"Dvaput dodirnite da biste ispustili stavku.",dropDescriptionVirtual:"Kliknite da biste ispustili stavku.",dropIndicator:"pokazatelj isputanja",dropOnItem:t=>`Ispustite na stavku ${t.itemText}`,dropOnRoot:"Ispustite na",endDragKeyboard:"Povlaenje. Pritisnite Enter da biste prekinuli povlaenje.",endDragTouch:"Povlaenje. Dvaput dodirnite da biste prekinuli povlaenje.",endDragVirtual:"Povlaenje. Kliknite da biste prekinuli povlaenje.",insertAfter:t=>`Umetnite iza stavke ${t.itemText}`,insertBefore:t=>`Ispustite ispred stavke ${t.itemText}`,insertBetween:t=>`Umetnite izmeu stavki ${t.beforeItemText} i ${t.afterItemText}`};var wse={};wse={dragDescriptionKeyboard:"Nyomja le az Enter billentyt a hzs megkezdshez.",dragDescriptionKeyboardAlt:"Nyomja le az Alt + Enter billentyket a hzs megkezdshez.",dragDescriptionLongPress:"Hosszan nyomja meg a hzs elindtshoz.",dragDescriptionTouch:"Koppintson dupln a hzs megkezdshez.",dragDescriptionVirtual:"Kattintson a hzs megkezdshez.",dragItem:t=>`${t.itemText} hzsa`,dragSelectedItems:(t,e)=>`${e.plural(t.count,{one:()=>`${e.number(t.count)} kijellt elem`,other:()=>`${e.number(t.count)} kijellt elem`})} hzsa`,dragSelectedKeyboard:(t,e)=>`Nyomja meg az Entert ${e.plural(t.count,{one:()=>`${e.number(t.count)} kijellt elem`,other:()=>`${e.number(t.count)} kijellt elem`})} hzshoz.`,dragSelectedKeyboardAlt:(t,e)=>`Nyomja meg az Alt + Enter billentyket ${e.plural(t.count,{one:()=>`${e.number(t.count)} kijellt elem`,other:()=>`${e.number(t.count)} kijellt elem`})} hzshoz.`,dragSelectedLongPress:(t,e)=>`Tartsa lenyomva hosszan ${e.plural(t.count,{one:()=>`${e.number(t.count)} kijellt elem`,other:()=>`${e.number(t.count)} kijellt elem`})} hzshoz.`,dragStartedKeyboard:"Hzs megkezdve. Nyomja le a Tab billentyt az elengedsi clhoz naviglshoz, majd nyomja le az Enter billentyt az elengedshez, vagy nyomja le az Escape billentyt a megszaktshoz.",dragStartedTouch:"Hzs megkezdve. Navigljon egy elengedsi clhoz, majd koppintson dupln az elengedshez.",dragStartedVirtual:"Hzs megkezdve. Navigljon egy elengedsi clhoz, majd kattintson vagy nyomja le az Enter billentyt az elengedshez.",dropCanceled:"Elengeds megszaktva.",dropComplete:"Elengeds teljestve.",dropDescriptionKeyboard:"Nyomja le az Enter billentyt az elengedshez. Nyomja le az Escape billentyt a hzs megszaktshoz.",dropDescriptionTouch:"Koppintson dupln az elengedshez.",dropDescriptionVirtual:"Kattintson az elengedshez.",dropIndicator:"elengedsjelz",dropOnItem:t=>`Elengeds erre: ${t.itemText}`,dropOnRoot:"Elengeds erre:",endDragKeyboard:"Hzs folyamatban. Nyomja le az Enter billentyt a hzs megszaktshoz.",endDragTouch:"Hzs folyamatban. Koppintson dupln a hzs megszaktshoz.",endDragVirtual:"Hzs folyamatban. Kattintson a hzs megszaktshoz.",insertAfter:t=>`Beszrs ${t.itemText} utn`,insertBefore:t=>`Beszrs ${t.itemText} el`,insertBetween:t=>`Beszrs ${t.beforeItemText} s ${t.afterItemText} kz`};var _se={};_se={dragDescriptionKeyboard:"Premi Invio per iniziare a trascinare.",dragDescriptionKeyboardAlt:"Premi Alt + Invio per iniziare a trascinare.",dragDescriptionLongPress:"Premi a lungo per iniziare a trascinare.",dragDescriptionTouch:"Tocca due volte per iniziare a trascinare.",dragDescriptionVirtual:"Fai clic per iniziare a trascinare.",dragItem:t=>`Trascina ${t.itemText}`,dragSelectedItems:(t,e)=>`Trascina ${e.plural(t.count,{one:()=>`${e.number(t.count)} altro elemento selezionato`,other:()=>`${e.number(t.count)} altri elementi selezionati`})}`,dragSelectedKeyboard:(t,e)=>`Premi Invio per trascinare ${e.plural(t.count,{one:()=>`${e.number(t.count)} elemento selezionato`,other:()=>`${e.number(t.count)} elementi selezionati`})}.`,dragSelectedKeyboardAlt:(t,e)=>`Premi Alt + Invio per trascinare ${e.plural(t.count,{one:()=>`${e.number(t.count)} elemento selezionato`,other:()=>`${e.number(t.count)} elementi selezionati`})}.`,dragSelectedLongPress:(t,e)=>`Premi a lungo per trascinare ${e.plural(t.count,{one:()=>`${e.number(t.count)} elemento selezionato`,other:()=>`${e.number(t.count)} elementi selezionati`})}.`,dragStartedKeyboard:"Hai iniziato a trascinare. Premi Tab per arrivare sullarea di destinazione, quindi premi Invio per rilasciare o Esc per annullare.",dragStartedTouch:"Hai iniziato a trascinare. Arriva sullarea di destinazione, quindi tocca due volte per rilasciare.",dragStartedVirtual:"Hai iniziato a trascinare. Arriva sullarea di destinazione, quindi fai clic o premi Invio per rilasciare.",dropCanceled:"Rilascio annullato.",dropComplete:"Rilascio completato.",dropDescriptionKeyboard:"Premi Invio per rilasciare. Premi Esc per annullare.",dropDescriptionTouch:"Tocca due volte per rilasciare.",dropDescriptionVirtual:"Fai clic per rilasciare.",dropIndicator:"indicatore di rilascio",dropOnItem:t=>`Rilascia su ${t.itemText}`,dropOnRoot:"Rilascia su",endDragKeyboard:"Trascinamento. Premi Invio per annullare.",endDragTouch:"Trascinamento. Tocca due volte per annullare.",endDragVirtual:"Trascinamento. Fai clic per annullare.",insertAfter:t=>`Inserisci dopo ${t.itemText}`,insertBefore:t=>`Inserisci prima di ${t.itemText}`,insertBetween:t=>`Inserisci tra ${t.beforeItemText} e ${t.afterItemText}`};var Ise={};Ise={dragDescriptionKeyboard:"Enter ",dragDescriptionKeyboardAlt:"Alt+Enter ",dragDescriptionLongPress:"",dragDescriptionTouch:"",dragDescriptionVirtual:"",dragItem:t=>`${t.itemText} `,dragSelectedItems:(t,e)=>`${e.plural(t.count,{one:()=>`${e.number(t.count)} `,other:()=>`${e.number(t.count)} `})} `,dragSelectedKeyboard:(t,e)=>`Enter ${e.plural(t.count,{one:()=>`${e.number(t.count)} `,other:()=>`${e.number(t.count)} `})}`,dragSelectedKeyboardAlt:(t,e)=>`Alt+Enter ${e.plural(t.count,{one:()=>`${e.number(t.count)} `,other:()=>`${e.number(t.count)} `})}`,dragSelectedLongPress:(t,e)=>`${e.plural(t.count,{one:()=>`${e.number(t.count)} `,other:()=>`${e.number(t.count)} `})}`,dragStartedKeyboard:"Tab Enter Esc ",dragStartedTouch:"",dragStartedVirtual:" Enter ",dropCanceled:"",dropComplete:"",dropDescriptionKeyboard:"Enter Esc ",dropDescriptionTouch:"",dropDescriptionVirtual:"",dropIndicator:"",dropOnItem:t=>`${t.itemText} `,dropOnRoot:"",endDragKeyboard:"Enter ",endDragTouch:"",endDragVirtual:"",insertAfter:t=>`${t.itemText} `,insertBefore:t=>`${t.itemText} `,insertBetween:t=>`${t.beforeItemText}  ${t.afterItemText} `};var Bse={};Bse={dragDescriptionKeyboard:"  Enter .",dragDescriptionKeyboardAlt:"  Alt + Enter .",dragDescriptionLongPress:"   .",dragDescriptionTouch:"   .",dragDescriptionVirtual:"  .",dragItem:t=>`${t.itemText} `,dragSelectedItems:(t,e)=>`${e.plural(t.count,{one:()=>`${e.number(t.count)}  `,other:()=>`${e.number(t.count)}  `})} `,dragSelectedKeyboard:(t,e)=>`${e.plural(t.count,{one:()=>`${e.number(t.count)}  `,other:()=>`${e.number(t.count)}  `})}  Enter .`,dragSelectedKeyboardAlt:(t,e)=>`${e.plural(t.count,{one:()=>`${e.number(t.count)}  `,other:()=>`${e.number(t.count)}  `})}  Alt + Enter .`,dragSelectedLongPress:(t,e)=>`${e.plural(t.count,{one:()=>`${e.number(t.count)}  `,other:()=>`${e.number(t.count)}  `})}   .`,dragStartedKeyboard:" . Tab      Enter   Esc  .",dragStartedTouch:" .       .",dragStartedVirtual:" .      Enter  .",dropCanceled:" .",dropComplete:" .",dropDescriptionKeyboard:" Enter .   Esc .",dropDescriptionTouch:"  .",dropDescriptionVirtual:" .",dropIndicator:" ",dropOnItem:t=>`${t.itemText} `,dropOnRoot:" ",endDragKeyboard:" .   Enter .",endDragTouch:" .    .",endDragVirtual:" .   .",insertAfter:t=>`${t.itemText}  `,insertBefore:t=>`${t.itemText}  `,insertBetween:t=>`${t.beforeItemText}  ${t.afterItemText}  `};var Dse={};Dse={dragDescriptionKeyboard:"Paspauskite Enter, kad pradtumte vilkti.",dragDescriptionKeyboardAlt:"Paspauskite Alt + Enter, kad pradtumte vilkti.",dragDescriptionLongPress:"Palaikykite nuspaud, kad pradtumte vilkti.",dragDescriptionTouch:"Palieskite dukart, kad pradtumte vilkti.",dragDescriptionVirtual:"Spustelkite, kad pradtumte vilkti.",dragItem:t=>`Vilkti ${t.itemText}`,dragSelectedItems:(t,e)=>`Vilkti ${e.plural(t.count,{one:()=>`${e.number(t.count)} pasirinkt element`,other:()=>`${e.number(t.count)} pasirinktus elementus`})}`,dragSelectedKeyboard:(t,e)=>`Paspauskite Enter, jei norite nuvilkti ${e.plural(t.count,{one:()=>`${e.number(t.count)} pasirinkt element`,other:()=>`${e.number(t.count)} pasirinktus elementus`})}.`,dragSelectedKeyboardAlt:(t,e)=>`Paspauskite Alt + Enter, kad nuvilktumte ${e.plural(t.count,{one:()=>`${e.number(t.count)} pasirinkt element`,other:()=>`${e.number(t.count)} pasirinktus elementus`})}.`,dragSelectedLongPress:(t,e)=>`Nuspaud palaikykite, kad nuvilktumte ${e.plural(t.count,{one:()=>`${e.number(t.count)} pasirinkt element`,other:()=>`${e.number(t.count)} pasirinktus elementus`})}.`,dragStartedKeyboard:"Pradta vilkti. Paspauskite Tab, kad pereitumte  tiesiogin paskirties viet, tada paspauskite Enter, kad numestumte, arba Escape, kad atauktumte.",dragStartedTouch:"Pradta vilkti. Eikite  tiesiogin paskirties viet, tada palieskite dukart, kad numestumte.",dragStartedVirtual:"Pradta vilkti. Eikite  tiesiogin paskirties viet ir spustelkite arba paspauskite Enter, kad numestumte.",dropCanceled:"Numetimas atauktas.",dropComplete:"Numesta.",dropDescriptionKeyboard:"Paspauskite Enter, kad numestumte. Paspauskite Escape, kad atauktumte vilkim.",dropDescriptionTouch:"Palieskite dukart, kad numestumte.",dropDescriptionVirtual:"Spustelkite, kad numestumte.",dropIndicator:"numetimo indikatorius",dropOnItem:t=>`Numesti ant ${t.itemText}`,dropOnRoot:"Numesti ant",endDragKeyboard:"Velkama. Paspauskite Enter, kad atauktumte vilkim.",endDragTouch:"Velkama. Spustelkite dukart, kad atauktumte vilkim.",endDragVirtual:"Velkama. Spustelkite, kad atauktumte vilkim.",insertAfter:t=>`terpti po ${t.itemText}`,insertBefore:t=>`terpti prie ${t.itemText}`,insertBetween:t=>`terpti tarp ${t.beforeItemText} ir ${t.afterItemText}`};var Tse={};Tse={dragDescriptionKeyboard:"Nospiediet Enter, lai sktu vilkanu.",dragDescriptionKeyboardAlt:"Nospiediet taustiu kombinciju Alt+Enter, lai sktu vilkanu.",dragDescriptionLongPress:"Turiet nospiestu, lai sktu vilkanu.",dragDescriptionTouch:"Veiciet dubultskrienu, lai sktu vilkanu.",dragDescriptionVirtual:"Noklikiniet, lai sktu vilkanu.",dragItem:t=>`Velciet ${t.itemText}`,dragSelectedItems:(t,e)=>`Velciet ${e.plural(t.count,{one:()=>`${e.number(t.count)} atlasto vienumu`,other:()=>`${e.number(t.count)} atlastos vienumus`})}`,dragSelectedKeyboard:(t,e)=>`Nospiediet taustiu Enter, lai vilktu ${e.plural(t.count,{one:()=>`${e.number(t.count)} atlasto vienumu`,other:()=>`${e.number(t.count)} atlastos vienumus`})}.`,dragSelectedKeyboardAlt:(t,e)=>`Nospiediet taustiu kombinciju Alt+Enter, lai vilktu ${e.plural(t.count,{one:()=>`${e.number(t.count)} atlasto vienumu`,other:()=>`${e.number(t.count)} atlastos vienumus`})}.`,dragSelectedLongPress:(t,e)=>`Turiet nospiestu, lai vilktu ${e.plural(t.count,{one:()=>`${e.number(t.count)} atlasto vienumu`,other:()=>`${e.number(t.count)} atlastos vienumus`})}.`,dragStartedKeyboard:"Uzskta vilkana. Nospiediet taustiu Tab, lai prietu uz nomeanas mri, pc tam nospiediet Enter, lai nomestu, vai nospiediet Escape, lai atceltu.",dragStartedTouch:"Uzskta vilkana. Prejiet uz nomeanas mri, pc tam veiciet dubultskrienu, lai nomestu.",dragStartedVirtual:"Uzskta vilkana. Prejiet uz nomeanas mri, pc tam nospiediet Enter, lai nomestu.",dropCanceled:"Nomeana atcelta.",dropComplete:"Nomeana pabeigta.",dropDescriptionKeyboard:"Nospiediet Enter, lai nomestu. Nospiediet Escape, lai atceltu vilkanu.",dropDescriptionTouch:"Veiciet dubultskrienu, lai nomestu.",dropDescriptionVirtual:"Noklikiniet, lai nomestu.",dropIndicator:"nomeanas indikators",dropOnItem:t=>`Nometiet uz ${t.itemText}`,dropOnRoot:"Nometiet uz",endDragKeyboard:"Notiek vilkana. Nospiediet Enter, lai atceltu vilkanu.",endDragTouch:"Notiek vilkana. Veiciet dubultskrienu, lai atceltu vilkanu.",endDragVirtual:"Notiek vilkana. Noklikiniet, lai atceltu vilkanu.",insertAfter:t=>`Ievietojiet pc ${t.itemText}`,insertBefore:t=>`Ievietojiet pirms ${t.itemText}`,insertBetween:t=>`Ievietojiet starp ${t.beforeItemText} un ${t.afterItemText}`};var Mse={};Mse={dragDescriptionKeyboard:"Trykk p Enter for  begynne  dra.",dragDescriptionKeyboardAlt:"Trykk p Alt + Enter for  begynne  dra.",dragDescriptionLongPress:"Trykk lenge for  begynne  dra.",dragDescriptionTouch:"Dobbelttrykk for  begynne  dra.",dragDescriptionVirtual:"Klikk for  begynne  dra.",dragItem:t=>`Dra ${t.itemText}`,dragSelectedItems:(t,e)=>`Dra ${e.plural(t.count,{one:()=>`${e.number(t.count)} merket element`,other:()=>`${e.number(t.count)} merkede elementer`})}`,dragSelectedKeyboard:(t,e)=>`Trykk Enter for  dra ${e.plural(t.count,{one:()=>`${e.number(t.count)} valgt element`,other:()=>`${e.number(t.count)} valgte elementer`})}.`,dragSelectedKeyboardAlt:(t,e)=>`Trykk p Alt + Enter for  dra ${e.plural(t.count,{one:()=>`${e.number(t.count)} valgt element`,other:()=>`${e.number(t.count)} valgte elementer`})}.`,dragSelectedLongPress:(t,e)=>`Trykk lenge for  dra ${e.plural(t.count,{one:()=>`${e.number(t.count)} valgt element`,other:()=>`${e.number(t.count)} valgte elementer`})}.`,dragStartedKeyboard:"Begynte  dra. Trykk p Tab for  navigere til et ml, og trykk deretter p Enter for  slippe eller p Esc for  avbryte.",dragStartedTouch:"Begynte  dra. Naviger til et ml, og dobbelttrykk for  slippe.",dragStartedVirtual:"Begynte  dra. Naviger til et ml, og klikk eller trykk p Enter for  slippe.",dropCanceled:"Avbrt slipping.",dropComplete:"Slippingen er fullfrt.",dropDescriptionKeyboard:"Trykk p Enter for  slippe. Trykk p Esc hvis du vil avbryte draingen.",dropDescriptionTouch:"Dobbelttrykk for  slippe.",dropDescriptionVirtual:"Klikk for  slippe.",dropIndicator:"slippeindikator",dropOnItem:t=>`Slipp p ${t.itemText}`,dropOnRoot:"Slipp p",endDragKeyboard:"Drar. Trykk p Enter hvis du vil avbryte.",endDragTouch:"Drar. Dobbelttrykk hvis du vil avbryte.",endDragVirtual:"Drar. Klikk hvis du vil avbryte.",insertAfter:t=>`Sett inn etter ${t.itemText}`,insertBefore:t=>`Sett inn fr ${t.itemText}`,insertBetween:t=>`Sett inn mellom ${t.beforeItemText} og ${t.afterItemText}`};var kse={};kse={dragDescriptionKeyboard:"Druk op Enter om te slepen.",dragDescriptionKeyboardAlt:"Druk op Alt + Enter om te slepen.",dragDescriptionLongPress:"Houd lang ingedrukt om te slepen.",dragDescriptionTouch:"Dubbeltik om te slepen.",dragDescriptionVirtual:"Klik om met slepen te starten.",dragItem:t=>`${t.itemText} slepen`,dragSelectedItems:(t,e)=>`${e.plural(t.count,{one:()=>`${e.number(t.count)} geselecteerd item`,other:()=>`${e.number(t.count)} geselecteerde items`})} slepen`,dragSelectedKeyboard:(t,e)=>`Druk op Enter om ${e.plural(t.count,{one:()=>`${e.number(t.count)} geselecteerd item`,other:()=>`${e.number(t.count)} geselecteerde items`})} te slepen.`,dragSelectedKeyboardAlt:(t,e)=>`Druk op Alt + Enter om ${e.plural(t.count,{one:()=>`${e.number(t.count)} geselecteerd item`,other:()=>`${e.number(t.count)} geselecteerde items`})} te slepen.`,dragSelectedLongPress:(t,e)=>`Houd lang ingedrukt om ${e.plural(t.count,{one:()=>`${e.number(t.count)} geselecteerd item`,other:()=>`${e.number(t.count)} geselecteerde items`})} te slepen.`,dragStartedKeyboard:"Begonnen met slepen. Druk op Tab om naar een locatie te gaan. Druk dan op Enter om neer te zetten, of op Esc om te annuleren.",dragStartedTouch:"Begonnen met slepen. Ga naar de gewenste locatie en dubbeltik om neer te zetten.",dragStartedVirtual:"Begonnen met slepen. Ga naar de gewenste locatie en klik of druk op Enter om neer te zetten.",dropCanceled:"Neerzetten geannuleerd.",dropComplete:"Neerzetten voltooid.",dropDescriptionKeyboard:"Druk op Enter om neer te zetten. Druk op Esc om het slepen te annuleren.",dropDescriptionTouch:"Dubbeltik om neer te zetten.",dropDescriptionVirtual:"Klik om neer te zetten.",dropIndicator:"aanwijzer voor neerzetten",dropOnItem:t=>`Neerzetten op ${t.itemText}`,dropOnRoot:"Neerzetten op",endDragKeyboard:"Bezig met slepen. Druk op Enter om te annuleren.",endDragTouch:"Bezig met slepen. Dubbeltik om te annuleren.",endDragVirtual:"Bezig met slepen. Klik om te annuleren.",insertAfter:t=>`Plaatsen na ${t.itemText}`,insertBefore:t=>`Plaatsen vr ${t.itemText}`,insertBetween:t=>`Plaatsen tussen ${t.beforeItemText} en ${t.afterItemText}`};var Pse={};Pse={dragDescriptionKeyboard:"Nacinij Enter, aby rozpocz przeciganie.",dragDescriptionKeyboardAlt:"Nacinij Alt + Enter, aby rozpocz przeciganie.",dragDescriptionLongPress:"Nacinij i przytrzymaj, aby rozpocz przeciganie.",dragDescriptionTouch:"Dotknij dwukrotnie, aby rozpocz przeciganie.",dragDescriptionVirtual:"Kliknij, aby rozpocz przeciganie.",dragItem:t=>`Przecignij ${t.itemText}`,dragSelectedItems:(t,e)=>`Przecignij ${e.plural(t.count,{one:()=>`${e.number(t.count)} wybrany element`,other:()=>`${e.number(t.count)} wybranych elementw`})}`,dragSelectedKeyboard:(t,e)=>`Nacinij Enter, aby przecign ${e.plural(t.count,{one:()=>`${e.number(t.count)} wybrany element`,other:()=>`${e.number(t.count)} wybrane(-ych) elementy(-w)`})}.`,dragSelectedKeyboardAlt:(t,e)=>`Nacinij Alt + Enter, aby przecign ${e.plural(t.count,{one:()=>`${e.number(t.count)} wybrany element`,other:()=>`${e.number(t.count)} wybrane(-ych) elementy(-w)`})}.`,dragSelectedLongPress:(t,e)=>`Nacinij i przytrzymaj, aby przecign ${e.plural(t.count,{one:()=>`${e.number(t.count)} wybrany element`,other:()=>`${e.number(t.count)} wybrane(-ych) elementy(-w)`})}.`,dragStartedKeyboard:"Rozpoczto przeciganie. Nacinij Tab, aby wybra miejsce docelowe, a nastpnie nacinij Enter, aby upuci, lub Escape, aby anulowa.",dragStartedTouch:"Rozpoczto przeciganie. Wybierz miejsce, w ktrym chcesz upuci element, a nastpnie dotknij dwukrotnie, aby upuci.F",dragStartedVirtual:"Rozpoczto przeciganie. Wybierz miejsce, w ktrym chcesz upuci element, a nastpnie kliknij lub nacinij Enter, aby upuci.",dropCanceled:"Anulowano upuszczenie.",dropComplete:"Zakoczono upuszczanie.",dropDescriptionKeyboard:"Nacinij Enter, aby upuci. Nacinij Escape, aby anulowa przecignicie.",dropDescriptionTouch:"Dotknij dwukrotnie, aby upuci.",dropDescriptionVirtual:"Kliknij, aby upuci.",dropIndicator:"wskanik upuszczenia",dropOnItem:t=>`Upu na ${t.itemText}`,dropOnRoot:"Upu",endDragKeyboard:"Przeciganie. Nacinij Enter, aby anulowa przecignicie.",endDragTouch:"Przeciganie. Kliknij dwukrotnie, aby anulowa przecignicie.",endDragVirtual:"Przeciganie. Kliknij, aby anulowa przeciganie.",insertAfter:t=>`Umie za ${t.itemText}`,insertBefore:t=>`Umie przed ${t.itemText}`,insertBetween:t=>`Umie midzy ${t.beforeItemText} i ${t.afterItemText}`};var Rse={};Rse={dragDescriptionKeyboard:"Pressione Enter para comear a arrastar.",dragDescriptionKeyboardAlt:"Pressione Alt + Enter para comear a arrastar.",dragDescriptionLongPress:"Pressione e segure para comear a arrastar.",dragDescriptionTouch:"Toque duas vezes para comear a arrastar.",dragDescriptionVirtual:"Clique para comear a arrastar.",dragItem:t=>`Arrastar ${t.itemText}`,dragSelectedItems:(t,e)=>`Arrastar ${e.plural(t.count,{one:()=>`${e.number(t.count)} item selecionado`,other:()=>`${e.number(t.count)} itens selecionados`})}`,dragSelectedKeyboard:(t,e)=>`Pressione Enter para arrastar ${e.plural(t.count,{one:()=>`${e.number(t.count)} o item selecionado`,other:()=>`${e.number(t.count)} os itens selecionados`})}.`,dragSelectedKeyboardAlt:(t,e)=>`Pressione Alt + Enter para arrastar ${e.plural(t.count,{one:()=>`${e.number(t.count)} o item selecionado`,other:()=>`${e.number(t.count)} os itens selecionados`})}.`,dragSelectedLongPress:(t,e)=>`Pressione e segure para arrastar ${e.plural(t.count,{one:()=>`${e.number(t.count)} o item selecionado`,other:()=>`${e.number(t.count)} os itens selecionados`})}.`,dragStartedKeyboard:"Comece a arrastar. Pressione Tab para navegar at um alvo e, em seguida, pressione Enter para soltar ou pressione Escape para cancelar.",dragStartedTouch:"Comece a arrastar. Navegue at um alvo e toque duas vezes para soltar.",dragStartedVirtual:"Comece a arrastar. Navegue at um alvo e clique ou pressione Enter para soltar.",dropCanceled:"Liberao cancelada.",dropComplete:"Liberao concluda.",dropDescriptionKeyboard:"Pressione Enter para soltar. Pressione Escape para cancelar.",dropDescriptionTouch:"Toque duas vezes para soltar.",dropDescriptionVirtual:"Clique para soltar.",dropIndicator:"indicador de liberao",dropOnItem:t=>`Soltar em ${t.itemText}`,dropOnRoot:"Soltar",endDragKeyboard:"Arrastando. Pressione Enter para cancelar.",endDragTouch:"Arrastando. Toque duas vezes para cancelar.",endDragVirtual:"Arrastando. Clique para cancelar.",insertAfter:t=>`Inserir aps ${t.itemText}`,insertBefore:t=>`Inserir antes de ${t.itemText}`,insertBetween:t=>`Inserir entre ${t.beforeItemText} e ${t.afterItemText}`};var Nse={};Nse={dragDescriptionKeyboard:"Prima Enter para iniciar o arrasto.",dragDescriptionKeyboardAlt:"Prima Alt + Enter para iniciar o arrasto.",dragDescriptionLongPress:"Prima longamente para comear a arrastar.",dragDescriptionTouch:"Faa duplo toque para comear a arrastar.",dragDescriptionVirtual:"Clique para iniciar o arrasto.",dragItem:t=>`Arrastar ${t.itemText}`,dragSelectedItems:(t,e)=>`Arrastar ${e.plural(t.count,{one:()=>`${e.number(t.count)} item selecionado`,other:()=>`${e.number(t.count)} itens selecionados`})}`,dragSelectedKeyboard:(t,e)=>`Prima Enter para arrastar ${e.plural(t.count,{one:()=>`${e.number(t.count)} o item selecionado`,other:()=>`${e.number(t.count)} os itens selecionados`})}.`,dragSelectedKeyboardAlt:(t,e)=>`Prima Alt + Enter para arrastar ${e.plural(t.count,{one:()=>`${e.number(t.count)} o item selecionado`,other:()=>`${e.number(t.count)} os itens selecionados`})}.`,dragSelectedLongPress:(t,e)=>`Prima longamente para arrastar ${e.plural(t.count,{one:()=>`${e.number(t.count)} o item selecionado`,other:()=>`${e.number(t.count)} os itens selecionados`})}.`,dragStartedKeyboard:"Arrasto iniciado. Prima a tecla de tabulao para navegar para um destino para largar, e em seguida prima Enter para largar ou prima Escape para cancelar.",dragStartedTouch:"Arrasto iniciado. Navegue para um destino para largar, e em seguida faa duplo toque para largar.",dragStartedVirtual:"Arrasto iniciado. Navegue para um destino para largar, e em seguida clique ou prima Enter para largar.",dropCanceled:"Largar cancelado.",dropComplete:"Largar completo.",dropDescriptionKeyboard:"Prima Enter para largar. Prima Escape para cancelar o arrasto.",dropDescriptionTouch:"Faa duplo toque para largar.",dropDescriptionVirtual:"Clique para largar.",dropIndicator:"Indicador de largar",dropOnItem:t=>`Largar em ${t.itemText}`,dropOnRoot:"Largar em",endDragKeyboard:"A arrastar. Prima Enter para cancelar o arrasto.",endDragTouch:"A arrastar. Faa duplo toque para cancelar o arrasto.",endDragVirtual:"A arrastar. Clique para cancelar o arrasto.",insertAfter:t=>`Inserir depois de ${t.itemText}`,insertBefore:t=>`Inserir antes de ${t.itemText}`,insertBetween:t=>`Inserir entre ${t.beforeItemText} e ${t.afterItemText}`};var Lse={};Lse={dragDescriptionKeyboard:"Apsai pe Enter pentru a ncepe glisarea.",dragDescriptionKeyboardAlt:"Apsai pe Alt + Enter pentru a ncepe glisarea.",dragDescriptionLongPress:"Apsai lung pentru a ncepe glisarea.",dragDescriptionTouch:"Atingei de dou ori pentru a ncepe s glisai.",dragDescriptionVirtual:"Facei clic pentru a ncepe glisarea.",dragItem:t=>`Glisai ${t.itemText}`,dragSelectedItems:(t,e)=>`Glisai ${e.plural(t.count,{one:()=>`${e.number(t.count)} element selectat`,other:()=>`${e.number(t.count)} elemente selectate`})}`,dragSelectedKeyboard:(t,e)=>`Apsai pe Enter pentru a glisa ${e.plural(t.count,{one:()=>`${e.number(t.count)} element selectat`,other:()=>`${e.number(t.count)} elemente selectate`})}.`,dragSelectedKeyboardAlt:(t,e)=>`Apsai pe Alt + Enter pentru a glisa ${e.plural(t.count,{one:()=>`${e.number(t.count)} element selectat`,other:()=>`${e.number(t.count)} elemente selectate`})}.`,dragSelectedLongPress:(t,e)=>`Apsai lung pentru a glisa ${e.plural(t.count,{one:()=>`${e.number(t.count)} element selectat`,other:()=>`${e.number(t.count)} elemente selectate`})}.`,dragStartedKeyboard:"A nceput glisarea. Apsai pe Tab pentru a naviga la o int de fixare, apoi apsai pe Enter pentru a fixa sau apsai pe Escape pentru a anula glisarea.",dragStartedTouch:"A nceput glisarea. Navigai la o int de fixare, apoi atingei de dou ori pentru a fixa.",dragStartedVirtual:"A nceput glisarea. Navigai la o int de fixare, apoi facei clic sau apsai pe Enter pentru a fixa.",dropCanceled:"Fixare anulat.",dropComplete:"Fixare finalizat.",dropDescriptionKeyboard:"Apsai pe Enter pentru a fixa. Apsai pe Escape pentru a anula glisarea.",dropDescriptionTouch:"Atingei de dou ori pentru a fixa.",dropDescriptionVirtual:"Facei clic pentru a fixa.",dropIndicator:"indicator de fixare",dropOnItem:t=>`Fixai pe ${t.itemText}`,dropOnRoot:"Fixare pe",endDragKeyboard:"Se gliseaz. Apsai pe Enter pentru a anula glisarea.",endDragTouch:"Se gliseaz. Atingei de dou ori pentru a anula glisarea.",endDragVirtual:"Se gliseaz. Facei clic pentru a anula glisarea.",insertAfter:t=>`Inserai dup ${t.itemText}`,insertBefore:t=>`Inserai nainte de ${t.itemText}`,insertBetween:t=>`Inserai ntre ${t.beforeItemText} i ${t.afterItemText}`};var Fse={};Fse={dragDescriptionKeyboard:"  Enter   .",dragDescriptionKeyboardAlt:" Alt + Enter,   .",dragDescriptionLongPress:"  ,   .",dragDescriptionTouch:"    .",dragDescriptionVirtual:"   .",dragItem:t=>` ${t.itemText}`,dragSelectedItems:(t,e)=>` ${e.plural(t.count,{one:()=>`${e.number(t.count)}  `,other:()=>`${e.number(t.count)}  `})}`,dragSelectedKeyboard:(t,e)=>` Enter   ${e.plural(t.count,{one:()=>`${e.number(t.count)}  `,other:()=>`${e.number(t.count)}  `})}.`,dragSelectedKeyboardAlt:(t,e)=>` Alt + Enter   ${e.plural(t.count,{one:()=>`${e.number(t.count)}  `,other:()=>`${e.number(t.count)}  `})}.`,dragSelectedLongPress:(t,e)=>`     ${e.plural(t.count,{one:()=>`${e.number(t.count)}  `,other:()=>`${e.number(t.count)}  `})}.`,dragStartedKeyboard:" .   Tab   ,    Enter,   ,   Escape   .",dragStartedTouch:" .  ,   ,   .",dragStartedVirtual:" .   Tab   ,    Enter,   .",dropCanceled:" .",dropComplete:" .",dropDescriptionKeyboard:"  Enter,   .   Escape  .",dropDescriptionTouch:" ,   .",dropDescriptionVirtual:",   .",dropIndicator:" ",dropOnItem:t=>`  ${t.itemText}`,dropOnRoot:" ",endDragKeyboard:".   Enter  .",endDragTouch:".    .",endDragVirtual:".   .",insertAfter:t=>`  ${t.itemText}`,insertBefore:t=>`  ${t.itemText}`,insertBetween:t=>`  ${t.beforeItemText}  ${t.afterItemText}`};var $se={};$se={dragDescriptionKeyboard:"Stlaenm klvesu Enter zanete presvanie.",dragDescriptionKeyboardAlt:"Stlaenm klvesov Alt + Enter zanete presvanie.",dragDescriptionLongPress:"Dlhm stlaenm zanete presvanie.",dragDescriptionTouch:"Dvojitm kliknutm zanete presvanie.",dragDescriptionVirtual:"Kliknutm zanete presvanie.",dragItem:t=>`Presun poloku ${t.itemText}`,dragSelectedItems:(t,e)=>`Presun ${e.plural(t.count,{one:()=>`${e.number(t.count)} vybrat poloku`,other:()=>`${e.number(t.count)} vybrat poloky`})}`,dragSelectedKeyboard:(t,e)=>`Stlaenm klvesu Enter presuniete ${e.plural(t.count,{one:()=>`${e.number(t.count)} vybrat poloku`,other:()=>`${e.number(t.count)} vybratch poloiek`})}.`,dragSelectedKeyboardAlt:(t,e)=>`Stlaenm klvesov Alt + Enter presuniete ${e.plural(t.count,{one:()=>`${e.number(t.count)} vybrat poloku`,other:()=>`${e.number(t.count)} vybratch poloiek`})}.`,dragSelectedLongPress:(t,e)=>`Dlhm stlaenm presuniete ${e.plural(t.count,{one:()=>`${e.number(t.count)} vybrat poloku`,other:()=>`${e.number(t.count)} vybratch poloiek`})}.`,dragStartedKeyboard:"Presvanie sa zaalo. Do cieovho umiestnenia prejdete stlaenm klvesu Tab. Ak chcete poloku umiestni, stlate klves Enter alebo stlate klves Esc, ak chcete presvanie zrui.",dragStartedTouch:"Presvanie sa zaalo. Prejdite na cieov umiestnenie a dvojitm kliknutm umiestnite poloku.",dragStartedVirtual:"Presvanie sa zaalo. Prejdite na cieov umiestnenie a kliknutm alebo stlaenm klvesu Enter umiestnite poloku.",dropCanceled:"Umiestnenie zruen.",dropComplete:"Umiestnenie dokonen.",dropDescriptionKeyboard:"Stlaenm klvesu Enter umiestnite poloku. Stlaenm klvesu Esc zrute presvanie.",dropDescriptionTouch:"Dvojitm kliknutm umiestnite poloku.",dropDescriptionVirtual:"Kliknutm umiestnite poloku.",dropIndicator:"indiktor umiestnenia",dropOnItem:t=>`Umiestni na poloku ${t.itemText}`,dropOnRoot:"Umiestni na",endDragKeyboard:"Prebieha presvanie. Ak ho chcete zrui, stlate klves Enter.",endDragTouch:"Prebieha presvanie. Dvojitm kliknutm ho mete zrui.",endDragVirtual:"Prebieha presvanie.",insertAfter:t=>`Vloi za poloku ${t.itemText}`,insertBefore:t=>`Vloi pred poloku ${t.itemText}`,insertBetween:t=>`Vloi medzi poloky ${t.beforeItemText} a ${t.afterItemText}`};var zse={};zse={dragDescriptionKeyboard:"Pritisnite tipko Enter za zaetek vleenja.",dragDescriptionKeyboardAlt:"Pritisnite tipki Alt + Enter za zaetek vleenja.",dragDescriptionLongPress:"Pritisnite in zadrite za zaetek vleenja.",dragDescriptionTouch:"Dvotapnite za zaetek vleenja.",dragDescriptionVirtual:"Kliknite za zaetek vleenja.",dragItem:t=>`Povleci ${t.itemText}`,dragSelectedItems:(t,e)=>`Povlecite ${e.plural(t.count,{one:()=>`${e.number(t.count)} izbran element`,other:()=>`izbrane elemente (${e.number(t.count)})`})}`,dragSelectedKeyboard:(t,e)=>`Pritisnite tipko Enter, da povleete ${e.plural(t.count,{one:()=>`${e.number(t.count)} izbrani element`,other:()=>`${e.number(t.count)} izbranih elementov`})}.`,dragSelectedKeyboardAlt:(t,e)=>`Pritisnite tipki Alt + Enter, da povleete ${e.plural(t.count,{one:()=>`${e.number(t.count)} izbrani element`,other:()=>`${e.number(t.count)} izbranih elementov`})}.`,dragSelectedLongPress:(t,e)=>`Pritisnite in zadrite, da povleete ${e.plural(t.count,{one:()=>`${e.number(t.count)} izbrani element`,other:()=>`${e.number(t.count)} izbranih elementov`})}.`,dragStartedKeyboard:"Vleenje se je zaelo. Pritisnite tipko Tab za pomik na mesto, kamor elite spustiti elemente, in pritisnite tipko Enter, da jih spustite, ali tipko Escape, da prekliete postopek.",dragStartedTouch:"Vleenje se je zaelo. Pomaknite se na mesto, kamor elite spustiti elemente, in dvotapnite, da jih spustite.",dragStartedVirtual:"Vleenje se je zaelo. Pomaknite se na mesto, kamor elite spustiti elemente, in kliknite ali pritisnite tipko Enter, da jih spustite.",dropCanceled:"Spust je preklican.",dropComplete:"Spust je konan.",dropDescriptionKeyboard:"Pritisnite tipko Enter, da spustite. Pritisnite tipko Escape, da prekliete vleenje.",dropDescriptionTouch:"Dvotapnite, da spustite.",dropDescriptionVirtual:"Kliknite, da spustite.",dropIndicator:"indikator spusta",dropOnItem:t=>`Spusti na mesto ${t.itemText}`,dropOnRoot:"Spusti na mesto",endDragKeyboard:"Vleenje. Pritisnite tipko Enter za preklic vleenja.",endDragTouch:"Vleenje. Dvotapnite za preklic vleenja.",endDragVirtual:"Vleenje. Kliknite, da prekliete vleenje.",insertAfter:t=>`Vstavi za ${t.itemText}`,insertBefore:t=>`Vstavi pred ${t.itemText}`,insertBetween:t=>`Vstavi med ${t.beforeItemText} in ${t.afterItemText}`};var Ose={};Ose={dragDescriptionKeyboard:"Pritisnite Enter da biste zapoeli prevlaenje.",dragDescriptionKeyboardAlt:"Pritisnite Alt + Enter da biste zapoeli prevlaenje.",dragDescriptionLongPress:"Pritisnite dugo da biste zapoeli prevlaenje.",dragDescriptionTouch:"Dvaput dodirnite da biste zapoeli prevlaenje.",dragDescriptionVirtual:"Kliknite da biste zapoeli prevlaenje.",dragItem:t=>`Prevucite ${t.itemText}`,dragSelectedItems:(t,e)=>`Prevucite ${e.plural(t.count,{one:()=>`${e.number(t.count)} izabranu stavku`,other:()=>`${e.number(t.count)} izabrane stavke`})}`,dragSelectedKeyboard:(t,e)=>`Pritisnite Enter da biste prevukli ${e.plural(t.count,{one:()=>`${e.number(t.count)} izabranu stavku`,other:()=>`${e.number(t.count)} izabranih stavki`})}.`,dragSelectedKeyboardAlt:(t,e)=>`Pritisnite Alt + Enter da biste prevukli ${e.plural(t.count,{one:()=>`${e.number(t.count)} izabranu stavku`,other:()=>`${e.number(t.count)} izabranih stavki`})}.`,dragSelectedLongPress:(t,e)=>`Pritisnite dugo da biste prevukli ${e.plural(t.count,{one:()=>`${e.number(t.count)} izabranu stavku`,other:()=>`${e.number(t.count)} izabranih stavki`})}.`,dragStartedKeyboard:"Prevlaenje je zapoeto. Pritisnite Tab da biste otili do cilja za otputanje, zatim pritisnite Enter za isputanje ili pritisnite Escape za otkazivanje.",dragStartedTouch:"Prevlaenje je zapoeto. Idite do cilja za otputanje, a zatim dvaput dodirnite za otputanje.",dragStartedVirtual:"Prevlaenje je zapoeto. Idite do cilja za otputanje, a zatim kliknite ili pritinite Enter za otputanje.",dropCanceled:"Otputanje je otkazano.",dropComplete:"Prevlaenje je zavreno.",dropDescriptionKeyboard:"Pritisnite Enter da biste otpustili. Pritisnite Escape da biste otkazali prevlaenje.",dropDescriptionTouch:"Dvaput dodirnite za otputanje.",dropDescriptionVirtual:"Kliknite za otputanje.",dropIndicator:"Indikator otputanja",dropOnItem:t=>`Otpusti na ${t.itemText}`,dropOnRoot:"Otpusti na",endDragKeyboard:"Prevlaenje u toku. Pritisnite Enter da biste otkazali prevlaenje.",endDragTouch:"Prevlaenje u toku. Dvaput dodirnite da biste otkazali prevlaenje.",endDragVirtual:"Prevlaenje u toku. Kliknite da biste otkazali prevlaenje.",insertAfter:t=>`Umetnite posle ${t.itemText}`,insertBefore:t=>`Umetnite ispred ${t.itemText}`,insertBetween:t=>`Umetnite izmeu ${t.beforeItemText} i ${t.afterItemText}`};var jse={};jse={dragDescriptionKeyboard:"Tryck p enter fr att brja dra.",dragDescriptionKeyboardAlt:"Tryck p Alt + Retur fr att brja dra.",dragDescriptionLongPress:"Tryck lnge fr att brja dra.",dragDescriptionTouch:"Dubbeltryck fr att brja dra.",dragDescriptionVirtual:"Klicka fr att brja dra.",dragItem:t=>`Dra ${t.itemText}`,dragSelectedItems:(t,e)=>`Dra ${e.plural(t.count,{one:()=>`${e.number(t.count)} valt objekt`,other:()=>`${e.number(t.count)} valda objekt`})}`,dragSelectedKeyboard:(t,e)=>`Tryck p Retur fr att dra ${e.plural(t.count,{one:()=>`${e.number(t.count)} markerat objekt`,other:()=>`${e.number(t.count)} markerade objekt`})}.`,dragSelectedKeyboardAlt:(t,e)=>`Tryck p Alt + Retur fr att dra ${e.plural(t.count,{one:()=>`${e.number(t.count)} markerat objekt`,other:()=>`${e.number(t.count)} markerade objekt`})}.`,dragSelectedLongPress:(t,e)=>`Tryck lnge fr att dra ${e.plural(t.count,{one:()=>`${e.number(t.count)} markerat objekt`,other:()=>`${e.number(t.count)} markerade objekt`})}.`,dragStartedKeyboard:"Brja dra. Tryck p tabb fr att navigera till mlet, tryck p enter fr att slppa eller p escape fr att avbryta.",dragStartedTouch:"Brja dra. Navigera till ett ml och dubbeltryck fr att slppa.",dragStartedVirtual:"Brja dra. Navigera till ett ml och klicka eller tryck p enter fr att slppa.",dropCanceled:"Slpptgrd avbrts.",dropComplete:"Slpptgrd klar.",dropDescriptionKeyboard:"Tryck p enter fr att slppa. Tryck p escape fr att avbryta dragtgrd.",dropDescriptionTouch:"Dubbeltryck fr att slppa.",dropDescriptionVirtual:"Klicka fr att slppa.",dropIndicator:"slppindikator",dropOnItem:t=>`Slpp p ${t.itemText}`,dropOnRoot:"Slpp p",endDragKeyboard:"Drar. Tryck p enter fr att avbryta dragtgrd.",endDragTouch:"Drar. Dubbeltryck fr att avbryta dragtgrd.",endDragVirtual:"Drar. Klicka fr att avbryta dragtgrd.",insertAfter:t=>`Infoga efter ${t.itemText}`,insertBefore:t=>`Infoga fre ${t.itemText}`,insertBetween:t=>`Infoga mellan ${t.beforeItemText} och ${t.afterItemText}`};var Qse={};Qse={dragDescriptionKeyboard:"Srklemeyi balatmak iin Enter'a basn.",dragDescriptionKeyboardAlt:"Srklemeyi balatmak iin Alt + Enter'a basn.",dragDescriptionLongPress:"Srklemeye balamak iin uzun basn.",dragDescriptionTouch:"Srklemeyi balatmak iin ift tklayn.",dragDescriptionVirtual:"Srklemeyi balatmak iin tklayn.",dragItem:t=>`${t.itemText}i srkle`,dragSelectedItems:(t,e)=>`Srkle ${e.plural(t.count,{one:()=>`${e.number(t.count)} seili ge`,other:()=>`${e.number(t.count)} seili ge`})}`,dragSelectedKeyboard:(t,e)=>`${e.plural(t.count,{one:()=>`${e.number(t.count)} seilmi e`,other:()=>`${e.number(t.count)} seilmi e`})} esini srklemek iin Enter'a basn.`,dragSelectedKeyboardAlt:(t,e)=>`${e.plural(t.count,{one:()=>`${e.number(t.count)} seilmi e`,other:()=>`${e.number(t.count)} seilmi e`})} esini srklemek iin Alt + Enter tuuna basn.`,dragSelectedLongPress:(t,e)=>`${e.plural(t.count,{one:()=>`${e.number(t.count)} seilmi e`,other:()=>`${e.number(t.count)} seilmi e`})} esini srklemek iin uzun basn.`,dragStartedKeyboard:"Srkleme balatld. Bir brakma hedefine gitmek iin Taba basn, ardndan brakmak iin Entera basn veya iptal etmek iin Escapee basn.",dragStartedTouch:"Srkleme balatld. Bir brakma hedefine gidin, ardndan brakmak iin ift tklayn.",dragStartedVirtual:"Srkleme balatld. Bir brakma hedefine gidin, ardndan brakmak iin Entera tklayn veya basn.",dropCanceled:"Brakma iptal edildi.",dropComplete:"Brakma tamamland.",dropDescriptionKeyboard:"Brakmak iin Enter'a basn. Srklemeyi iptal etmek iin Escape'e basn.",dropDescriptionTouch:"Brakmak iin ift tklayn.",dropDescriptionVirtual:"Brakmak iin tklayn.",dropIndicator:"brakma gstergesi",dropOnItem:t=>`${t.itemText} zerine brak`,dropOnRoot:"Brakn",endDragKeyboard:"Srkleme. Srklemeyi iptal etmek iin Enter'a basn.",endDragTouch:"Srkleme. Srklemeyi iptal etmek iin ift tklayn.",endDragVirtual:"Srkleme. Srklemeyi iptal etmek iin tklayn.",insertAfter:t=>`${t.itemText}den sonra gir`,insertBefore:t=>`${t.itemText}den nce gir`,insertBetween:t=>`${t.beforeItemText} ve ${t.afterItemText} arasna gir`};var Use={};Use={dragDescriptionKeyboard:" Enter,   .",dragDescriptionKeyboardAlt:" Alt + Enter,   .",dragDescriptionLongPress:"  ,   .",dragDescriptionTouch:" ,   .",dragDescriptionVirtual:",   .",dragItem:t=>` ${t.itemText}`,dragSelectedItems:(t,e)=>` ${e.plural(t.count,{one:()=>`${e.number(t.count)}  `,other:()=>`${e.number(t.count)}  `})}`,dragSelectedKeyboard:(t,e)=>` Enter,   ${e.plural(t.count,{one:()=>`${e.number(t.count)}  `,other:()=>`${e.number(t.count)}  (-)`})}.`,dragSelectedKeyboardAlt:(t,e)=>` Alt + Enter,   ${e.plural(t.count,{one:()=>`${e.number(t.count)}  `,other:()=>`${e.number(t.count)}  (-)`})}.`,dragSelectedLongPress:(t,e)=>`,   ${e.plural(t.count,{one:()=>`${e.number(t.count)}  `,other:()=>`${e.number(t.count)}  (-)`})}.`,dragStartedKeyboard:" .  Tab,     ,   Enter,  ,  Escape,  .",dragStartedTouch:" .    ,   ,  .",dragStartedVirtual:" .    ,   Enter,  .",dropCanceled:" .",dropComplete:" .",dropDescriptionKeyboard:" Enter,  .  Escape,   .",dropDescriptionTouch:" ,  .",dropDescriptionVirtual:",  .",dropIndicator:" ",dropOnItem:t=>`  ${t.itemText}`,dropOnRoot:" ",endDragKeyboard:" .  Enter,   .",endDragTouch:" .  ,   .",endDragVirtual:" . ,   .",insertAfter:t=>`  ${t.itemText}`,insertBefore:t=>`  ${t.itemText}`,insertBetween:t=>`  ${t.beforeItemText}  ${t.afterItemText}`};var Hse={};Hse={dragDescriptionKeyboard:" Enter ",dragDescriptionKeyboardAlt:" Alt + Enter ",dragDescriptionLongPress:"",dragDescriptionTouch:"",dragDescriptionVirtual:"",dragItem:t=>` ${t.itemText}`,dragSelectedItems:(t,e)=>` ${e.plural(t.count,{one:()=>`${e.number(t.count)} `,other:()=>`${e.number(t.count)} `})}`,dragSelectedKeyboard:(t,e)=>` Enter  ${e.plural(t.count,{one:()=>`${e.number(t.count)} `,other:()=>`${e.number(t.count)} `})}`,dragSelectedKeyboardAlt:(t,e)=>` Alt + Enter  ${e.plural(t.count,{one:()=>`${e.number(t.count)} `,other:()=>`${e.number(t.count)} `})}`,dragSelectedLongPress:(t,e)=>` ${e.plural(t.count,{one:()=>`${e.number(t.count)} `,other:()=>`${e.number(t.count)} `})}`,dragStartedKeyboard:" Tab  Enter  Escape ",dragStartedTouch:"",dragStartedVirtual:" Enter ",dropCanceled:"",dropComplete:"",dropDescriptionKeyboard:" Enter  Escape ",dropDescriptionTouch:"",dropDescriptionVirtual:"",dropIndicator:"",dropOnItem:t=>` ${t.itemText}`,dropOnRoot:"",endDragKeyboard:" Enter ",endDragTouch:"",endDragVirtual:"",insertAfter:t=>` ${t.itemText} `,insertBefore:t=>` ${t.itemText} `,insertBetween:t=>` ${t.beforeItemText}  ${t.afterItemText} `};var Vse={};Vse={dragDescriptionKeyboard:" Enter ",dragDescriptionKeyboardAlt:" Alt+Enter ",dragDescriptionLongPress:"",dragDescriptionTouch:"",dragDescriptionVirtual:"",dragItem:t=>`${t.itemText}`,dragSelectedItems:(t,e)=>` ${e.plural(t.count,{one:()=>`${e.number(t.count)} `,other:()=>`${e.number(t.count)} `})}`,dragSelectedKeyboard:(t,e)=>` Enter  ${e.plural(t.count,{one:()=>`${e.number(t.count)} `,other:()=>`${e.number(t.count)} `})}`,dragSelectedKeyboardAlt:(t,e)=>` Alt+Enter  ${e.plural(t.count,{one:()=>`${e.number(t.count)} `,other:()=>`${e.number(t.count)} `})}`,dragSelectedLongPress:(t,e)=>` ${e.plural(t.count,{one:()=>`${e.number(t.count)} `,other:()=>`${e.number(t.count)} `})}`,dragStartedKeyboard:" Tab  Enter  Escape ",dragStartedTouch:"",dragStartedVirtual:" Enter ",dropCanceled:"",dropComplete:"",dropDescriptionKeyboard:" Enter  Escape ",dropDescriptionTouch:"",dropDescriptionVirtual:"",dropIndicator:"",dropOnItem:t=>`${t.itemText}`,dropOnRoot:"",endDragKeyboard:" Enter ",endDragTouch:"",endDragVirtual:"",insertAfter:t=>`${t.itemText}`,insertBefore:t=>`${t.itemText}`,insertBetween:t=>`${t.beforeItemText}${t.afterItemText}`};var c4={};c4={"ar-AE":hse,"bg-BG":fse,"cs-CZ":pse,"da-DK":gse,"de-DE":mse,"el-GR":Ase,"en-US":yse,"es-ES":vse,"et-EE":bse,"fi-FI":xse,"fr-FR":Cse,"he-IL":Ese,"hr-HR":Sse,"hu-HU":wse,"it-IT":_se,"ja-JP":Ise,"ko-KR":Bse,"lt-LT":Dse,"lv-LV":Tse,"nb-NO":Mse,"nl-NL":kse,"pl-PL":Pse,"pt-BR":Rse,"pt-PT":Nse,"ro-RO":Lse,"ru-RU":Fse,"sk-SK":$se,"sl-SI":zse,"sr-SP":Ose,"sv-SE":jse,"tr-TR":Qse,"uk-UA":Use,"zh-CN":Hse,"zh-TW":Vse};function ADe(t){return t&&t.__esModule?t.default:t}const m9={keyboard:{start:"dragDescriptionKeyboard",end:"endDragKeyboard"},touch:{start:"dragDescriptionTouch",end:"endDragTouch"},virtual:{start:"dragDescriptionVirtual",end:"endDragVirtual"}};function yDe(t){let{hasDragButton:e,isDisabled:n}=t,r=Rl(ADe(c4),"@react-aria/dnd"),i=x.useRef({options:t,x:0,y:0}).current;i.options=t;let s=x.useRef(null),[o,a]=x.useState(!1),l=D=>{s.current=D,a(!!D)},{addGlobalListener:u,removeAllGlobalListeners:c}=lm(),d=x.useRef(null),f=D=>{var T,M,P;if(D.defaultPrevented)return;if(D.stopPropagation(),d.current==="virtual"){D.preventDefault(),y(D.target),d.current=null;return}typeof t.onDragStart=="function"&&t.onDragStart({type:"dragstart",x:D.clientX,y:D.clientY});let k=t.getItems();(T=(M=D.dataTransfer).clearData)===null||T===void 0||T.call(M),tDe(D.dataTransfer,k);let L=Na.all;if(typeof t.getAllowedDropOperations=="function"){let j=t.getAllowedDropOperations();L=Na.none;for(let H of j)L|=Na[H]||Na.none}fk(L);let $=ise[L]||"none";D.dataTransfer.effectAllowed=$==="cancel"?"none":$,typeof((P=t.preview)===null||P===void 0?void 0:P.current)=="function"&&t.preview.current(k,(j,H,W)=>{if(!j)return;let O=j.getBoundingClientRect(),G=D.currentTarget.getBoundingClientRect(),q=D.clientX-G.x,J=D.clientY-G.y;(q>O.width||J>O.height)&&(q=O.width/2,J=O.height/2);let te=q,Y=J;typeof H=="number"&&typeof W=="number"&&(te=H,Y=W),te=Math.max(0,Math.min(te,O.width)),Y=Math.max(0,Math.min(Y,O.height));let Z=2*Math.round(O.height/2);j.style.height=`${Z}px`,D.dataTransfer.setDragImage(j,te,Y)}),u(window,"drop",j=>{j.preventDefault(),j.stopPropagation(),console.warn("Drags initiated from the React Aria useDrag hook may only be dropped on a target created with useDrop. This ensures that a keyboard and screen reader accessible alternative is available.")},{once:!0}),i.x=D.clientX,i.y=D.clientY;let z=D.target;requestAnimationFrame(()=>{l(z)})},p=D=>{D.stopPropagation(),!(D.clientX===i.x&&D.clientY===i.y)&&(typeof t.onDragMove=="function"&&t.onDragMove({type:"dragmove",x:D.clientX,y:D.clientY}),i.x=D.clientX,i.y=D.clientY)},m=D=>{if(D.stopPropagation(),typeof t.onDragEnd=="function"){let T={type:"dragend",x:D.clientX,y:D.clientY,dropOperation:m_[D.dataTransfer.dropEffect]};DB&&(T.dropOperation=m_[DB]),t.onDragEnd(T)}l(null),c(),fk(Na.none),cD(void 0)};x.useEffect(()=>()=>{if(s.current&&(!s.current.isConnected||parseInt(x.version,10)<17)){if(typeof i.options.onDragEnd=="function"){let D={type:"dragend",x:0,y:0,dropOperation:m_[DB||"none"]};i.options.onDragEnd(D)}l(null),fk(Na.none),cD(void 0)}},[i]);let v=D=>{D.pointerType!=="keyboard"&&D.pointerType!=="virtual"||y(D.target)},y=D=>{if(typeof i.options.onDragStart=="function"){let T=D.getBoundingClientRect();i.options.onDragStart({type:"dragstart",x:T.x+T.width/2,y:T.y+T.height/2})}cDe({element:D,items:i.options.getItems(),allowedDropOperations:typeof i.options.getAllowedDropOperations=="function"?i.options.getAllowedDropOperations():["move","copy","link"],onDragEnd(T){l(null),typeof i.options.onDragEnd=="function"&&i.options.onDragEnd(T)}},r),l(D)},A=b$(),C=o?m9[A].end:m9[A].start,E=i4(r.format(C)),I={};return e||(I={...E,onPointerDown(D){if(d.current=t$(D.nativeEvent)?"virtual":D.pointerType,D.width<1&&D.height<1)d.current="virtual";else{let T=D.currentTarget.getBoundingClientRect(),M=D.clientX-T.x,P=D.clientY-T.y,k=T.width/2,L=T.height/2;Math.abs(M-k)<=.5&&Math.abs(P-L)<=.5?d.current="virtual":d.current=D.pointerType}},onKeyDownCapture(D){D.target===D.currentTarget&&D.key==="Enter"&&(D.preventDefault(),D.stopPropagation())},onKeyUpCapture(D){D.target===D.currentTarget&&D.key==="Enter"&&(D.preventDefault(),D.stopPropagation(),y(D.target))},onClick(D){(vT(D.nativeEvent)||d.current==="virtual")&&(D.preventDefault(),D.stopPropagation(),y(D.target))}}),n?{dragProps:{draggable:"false"},dragButtonProps:{},isDragging:!1}:{dragProps:{...I,draggable:"true",onDragStart:f,onDrag:p,onDragEnd:m},dragButtonProps:{...E,onPress:v},isDragging:o}}function vDe(t){return t&&t.__esModule?t.default:t}const bDe={keyboard:"dropDescriptionKeyboard",touch:"dropDescriptionTouch",virtual:"dropDescriptionVirtual"};function Gse(){let t=Rl(vDe(c4),"@react-aria/dnd"),e=b$(),n=x$();return{dropProps:{...i4(n?t.format(bDe[e]):""),onClick:()=>{}}}}const xDe=800;function CDe(t){let{hasDropButton:e,isDisabled:n}=t,[r,i]=x.useState(!1),s=x.useRef({x:0,y:0,dragOverElements:new Set,dropEffect:"none",allowedOperations:Na.all,dropActivateTimer:void 0}).current,o=E=>{if(i(!0),typeof t.onDropEnter=="function"){let I=E.currentTarget.getBoundingClientRect();t.onDropEnter({type:"dropenter",x:E.clientX-I.x,y:E.clientY-I.y})}},a=E=>{if(i(!1),typeof t.onDropExit=="function"){let I=E.currentTarget.getBoundingClientRect();t.onDropExit({type:"dropexit",x:E.clientX-I.x,y:E.clientY-I.y})}},l=E=>{E.preventDefault(),E.stopPropagation();let I=A9(E);if(E.clientX===s.x&&E.clientY===s.y&&I===s.allowedOperations){E.dataTransfer.dropEffect=s.dropEffect;return}s.x=E.clientX,s.y=E.clientY;let D=s.dropEffect;if(I!==s.allowedOperations){let T=pk(I),M=T[0];if(typeof t.getDropOperation=="function"){let P=new rI(E.dataTransfer);M=iI(I,t.getDropOperation(P,T))}s.dropEffect=hk[M]||"none"}if(typeof t.getDropOperationForPoint=="function"){let T=new rI(E.dataTransfer),M=E.currentTarget.getBoundingClientRect(),P=iI(I,t.getDropOperationForPoint(T,pk(I),s.x-M.x,s.y-M.y));s.dropEffect=hk[P]||"none"}if(s.allowedOperations=I,E.dataTransfer.dropEffect=s.dropEffect,s.dropEffect==="none"&&D!=="none"?a(E):s.dropEffect!=="none"&&D==="none"&&o(E),typeof t.onDropMove=="function"&&s.dropEffect!=="none"){let T=E.currentTarget.getBoundingClientRect();t.onDropMove({type:"dropmove",x:s.x-T.x,y:s.y-T.y})}if(clearTimeout(s.dropActivateTimer),t.onDropActivate&&typeof t.onDropActivate=="function"&&s.dropEffect!=="none"){let T=t.onDropActivate,M=E.currentTarget.getBoundingClientRect();s.dropActivateTimer=setTimeout(()=>{T({type:"dropactivate",x:s.x-M.x,y:s.y-M.y})},xDe)}},u=E=>{if(E.preventDefault(),E.stopPropagation(),s.dragOverElements.add(E.target),s.dragOverElements.size>1)return;let I=A9(E),D=pk(I),T=D[0];if(typeof t.getDropOperation=="function"){let M=new rI(E.dataTransfer);T=iI(I,t.getDropOperation(M,D))}if(typeof t.getDropOperationForPoint=="function"){let M=new rI(E.dataTransfer),P=E.currentTarget.getBoundingClientRect();T=iI(I,t.getDropOperationForPoint(M,D,E.clientX-P.x,E.clientY-P.y))}s.x=E.clientX,s.y=E.clientY,s.allowedOperations=I,s.dropEffect=hk[T]||"none",E.dataTransfer.dropEffect=s.dropEffect,T!=="cancel"&&o(E)},c=E=>{E.preventDefault(),E.stopPropagation(),s.dragOverElements.delete(E.target);for(let I of s.dragOverElements)E.currentTarget.contains(I)||s.dragOverElements.delete(I);s.dragOverElements.size>0||(s.dropEffect!=="none"&&a(E),clearTimeout(s.dropActivateTimer))},d=E=>{if(E.preventDefault(),E.stopPropagation(),cD(s.dropEffect),typeof t.onDrop=="function"){let D=m_[s.dropEffect],T=nDe(E.dataTransfer),M=E.currentTarget.getBoundingClientRect(),P={type:"drop",x:E.clientX-M.x,y:E.clientY-M.y,items:T,dropOperation:D};t.onDrop(P)}let I={...el};s.dragOverElements.clear(),a(E),clearTimeout(s.dropActivateTimer),I.draggingCollectionRef==null?cD(void 0):lDe(I)},f=eo(E=>{typeof t.onDropEnter=="function"&&t.onDropEnter(E)}),p=eo(E=>{typeof t.onDropExit=="function"&&t.onDropExit(E)}),m=eo(E=>{typeof t.onDropActivate=="function"&&t.onDropActivate(E)}),v=eo(E=>{typeof t.onDrop=="function"&&t.onDrop(E)}),y=eo((E,I)=>t.getDropOperation?t.getDropOperation(E,I):I[0]),{ref:A}=t;di(()=>{if(!(n||!A.current))return dse({element:A.current,getDropOperation:y,onDropEnter(E){i(!0),f(E)},onDropExit(E){i(!1),p(E)},onDrop:v,onDropActivate:m})},[n,A]);let{dropProps:C}=Gse();return n?{dropProps:{},dropButtonProps:{isDisabled:!0},isDropTarget:!1}:{dropProps:{...!e&&C,onDragEnter:u,onDragOver:l,onDragLeave:c,onDrop:d},dropButtonProps:{...e&&C},isDropTarget:r}}function A9(t){let e=rse[t.dataTransfer.effectAllowed];a8&&(e&=a8);let n=Na.none;return O0()?(t.altKey&&(n|=Na.copy),t.ctrlKey&&!ZF()&&(n|=Na.link),t.metaKey&&(n|=Na.move)):(t.altKey&&(n|=Na.link),t.shiftKey&&(n|=Na.move),t.ctrlKey&&(n|=Na.copy)),n?e&n:e}function pk(t){let e=[];return t&Na.move&&e.push("move"),t&Na.copy&&e.push("copy"),t&Na.link&&e.push("link"),e}function iI(t,e){let n=Na[e];return t&n?e:"cancel"}function EDe(t,e,n,r,i=!1,s=!1){switch(r){case"left":return i?gk(t,e,n,s,"left"):mk(t,e,n,s,"left");case"right":return i?mk(t,e,n,s,"right"):gk(t,e,n,s,"right");case"up":return mk(t,e,n,s);case"down":return gk(t,e,n,s)}}function gk(t,e,n,r=!1,i=null){if(!n)return{type:"root"};if(n.type==="root"){var s,o;let c=(o=(s=t.getFirstKey)===null||s===void 0?void 0:s.call(t))!==null&&o!==void 0?o:null;return c!=null?{type:"item",key:c,dropPosition:"before"}:null}if(n.type==="item"){var a,l,u;let c=null;i?c=i==="right"?(a=t.getKeyRightOf)===null||a===void 0?void 0:a.call(t,n.key):(l=t.getKeyLeftOf)===null||l===void 0?void 0:l.call(t,n.key):c=(u=t.getKeyBelow)===null||u===void 0?void 0:u.call(t,n.key);let d=e.getKeyAfter(n.key);if(c!=null&&c!==d)return{type:"item",key:c,dropPosition:n.dropPosition};switch(n.dropPosition){case"before":return{type:"item",key:n.key,dropPosition:"on"};case"on":{let f=e.getItem(n.key),p=c!=null?e.getItem(c):null;return f&&p&&p.level>=f.level?{type:"item",key:p.key,dropPosition:"before"}:{type:"item",key:n.key,dropPosition:"after"}}case"after":{let f=e.getItem(n.key),p=f?.nextKey!=null?e.getItem(f.nextKey):null;for(;p!=null&&p.type!=="item";)p=p.nextKey!=null?e.getItem(p.nextKey):null;if(f&&p==null&&f.parentKey!=null){let m=e.getItem(f.parentKey);const v=m?.nextKey!=null?e.getItem(m.nextKey):null;if(v?.type==="item")return{type:"item",key:v.key,dropPosition:"before"};if(m?.type==="item")return{type:"item",key:m.key,dropPosition:"after"}}if(p)return{type:"item",key:p.key,dropPosition:"on"}}}}return r?{type:"root"}:null}function mk(t,e,n,r=!1,i=null){if(!n||r&&n.type==="root"){var s;let u=null,c=(s=t.getLastKey)===null||s===void 0?void 0:s.call(t);for(;c!=null;){let d=e.getItem(c);if(d?.type!=="item")break;u=c,c=d?.parentKey}return u!=null?{type:"item",key:u,dropPosition:"after"}:null}if(n.type==="item"){var o,a,l;let u=null;i?u=i==="left"?(o=t.getKeyLeftOf)===null||o===void 0?void 0:o.call(t,n.key):(a=t.getKeyRightOf)===null||a===void 0?void 0:a.call(t,n.key):u=(l=t.getKeyAbove)===null||l===void 0?void 0:l.call(t,n.key);let c=e.getKeyBefore(n.key);if(u!=null&&u!==c)return{type:"item",key:u,dropPosition:n.dropPosition};switch(n.dropPosition){case"before":{let d=e.getItem(n.key);if(d&&d.prevKey!=null){let f=y9(e,d.prevKey);if(f)return f}return u!=null?{type:"item",key:u,dropPosition:"on"}:{type:"root"}}case"on":return{type:"item",key:n.key,dropPosition:"before"};case"after":{let d=y9(e,n.key);return d||{type:"item",key:n.key,dropPosition:"on"}}}}return n.type!=="root"?{type:"root"}:null}function y9(t,e){let n=t.getItem(e),r=t.getKeyAfter(e),i=r!=null?t.getItem(r):null;if(n&&i&&i.level>n.level){let s=a4(n,t),o=null;for(let a of s)a.type==="item"&&(o=a);if(o)return{type:"item",key:o.key,dropPosition:"after"}}return null}const sI=20;function SDe(t){let e=x.useRef(null),n=x.useRef(!0),r=x.useRef(!0);x.useEffect(()=>{if(t.current){e.current=Zy(t.current)?t.current:Kg(t.current);let o=window.getComputedStyle(e.current);n.current=/(auto|scroll)/.test(o.overflowX),r.current=/(auto|scroll)/.test(o.overflowY)}},[t]);let i=x.useRef({timer:void 0,dx:0,dy:0}).current;x.useEffect(()=>()=>{i.timer&&(cancelAnimationFrame(i.timer),i.timer=void 0)},[i]);let s=x.useCallback(()=>{n.current&&e.current&&(e.current.scrollLeft+=i.dx),r.current&&e.current&&(e.current.scrollTop+=i.dy),i.timer&&(i.timer=requestAnimationFrame(s))},[e,i]);return{move(o,a){if(!yT()||sC()||!e.current)return;let l=e.current.getBoundingClientRect(),u=sI,c=sI,d=l.height-sI,f=l.width-sI;o<u||o>f||a<c||a>d?(o<u?i.dx=o-u:o>f&&(i.dx=o-f),a<c?i.dy=a-c:a>d&&(i.dy=a-d),i.timer||(i.timer=requestAnimationFrame(s))):this.stop()},stop(){i.timer&&(cancelAnimationFrame(i.timer),i.timer=void 0)}}}function wDe(t,e,n){let r=x.useRef({props:t,state:e,nextTarget:null,dropOperation:null}).current;r.props=t,r.state=e;let i=x.useCallback(async f=>{let{onInsert:p,onRootDrop:m,onItemDrop:v,onReorder:y,onMove:A,acceptedDragTypes:C="all",shouldAcceptItemDrop:E}=r.props,{draggingKeys:I}=el,D=Hg(n),{target:T,dropOperation:M,items:P}=f,k=P;(C!=="all"||E)&&(k=P.filter(L=>{let $;return L.kind==="directory"?$=new Set([ose]):$=L.kind==="file"?new Set([L.type]):L.types,C==="all"||C.some(z=>$.has(z))?T.type==="item"&&T.dropPosition==="on"&&E?E(T,$):!0:!1})),k.length>0&&(T.type==="root"&&m&&await m({items:k,dropOperation:M}),T.type==="item"&&(T.dropPosition==="on"&&v&&await v({items:k,dropOperation:M,isInternal:D,target:T}),A&&D&&await A({keys:I,dropOperation:M,target:T}),T.dropPosition!=="on"&&(!D&&p&&await p({items:k,dropOperation:M,target:T}),D&&y&&await y({keys:I,dropOperation:M,target:T}))))},[r,n]),s=SDe(n),{dropProps:o}=CDe({ref:n,onDropEnter(){r.nextTarget!=null&&e.setTarget(r.nextTarget)},onDropMove(f){r.nextTarget!=null&&e.setTarget(r.nextTarget),s.move(f.x,f.y)},getDropOperationForPoint(f,p,m,v){let{draggingKeys:y,dropCollectionRef:A}=el,C=Hg(n),E=D=>e.getDropOperation({target:D,types:f,allowedOperations:p,isInternal:C,draggingKeys:y})!=="cancel",I=t.dropTargetDelegate.getDropTargetFromPoint(m,v,E);if(!I)return r.dropOperation="cancel",r.nextTarget=null,"cancel";if(r.dropOperation=e.getDropOperation({target:I,types:f,allowedOperations:p,isInternal:C,draggingKeys:y}),r.dropOperation==="cancel"){let D={type:"root"},T=e.getDropOperation({target:D,types:f,allowedOperations:p,isInternal:C,draggingKeys:y});T!=="cancel"&&(I=D,r.dropOperation=T)}return I&&r.dropOperation!=="cancel"&&n?.current!==A?.current&&A1(n),r.nextTarget=r.dropOperation==="cancel"?null:I,r.dropOperation},onDropExit(){A1(void 0),e.setTarget(null),s.stop()},onDropActivate(f){var p;((p=e.target)===null||p===void 0?void 0:p.type)==="item"&&typeof t.onDropActivate=="function"&&t.onDropActivate({type:"dropactivate",x:f.x,y:f.y,target:e.target})},onDrop(f){A1(n),e.target&&u(f,e.target);let{draggingCollectionRef:p}=el;p==null&&cse()}}),a=x.useRef(null),l=x.useCallback(()=>{let{state:f}=r;if(a.current){var p;let{target:y,collection:A,selectedKeys:C,focusedKey:E,isInternal:I,draggingKeys:D}=a.current;if(f.collection.size>A.size&&f.selectionManager.isSelectionEqual(C)){let T=new Set;for(let M of f.collection.getKeys())A.getItem(M)||T.add(M);if(f.selectionManager.setSelectedKeys(T),f.selectionManager.focusedKey===E){let M=T.keys().next().value;if(M!=null){let P=f.collection.getItem(M);P?.type==="cell"&&(M=P.parentKey),M!=null&&f.selectionManager.setFocusedKey(M),f.selectionManager.selectionMode==="none"&&fx("keyboard")}}}else if(E!=null&&f.selectionManager.focusedKey===E&&I&&y.type==="item"&&y.dropPosition!=="on"&&D.has((p=f.collection.getItem(E))===null||p===void 0?void 0:p.parentKey)){var m,v;f.selectionManager.setFocusedKey((v=(m=f.collection.getItem(E))===null||m===void 0?void 0:m.parentKey)!==null&&v!==void 0?v:null),fx("keyboard")}else f.selectionManager.focusedKey===E&&y.type==="item"&&y.dropPosition==="on"&&f.collection.getItem(y.key)!=null?(f.selectionManager.setFocusedKey(y.key),fx("keyboard")):f.selectionManager.focusedKey!=null&&!f.selectionManager.isSelected(f.selectionManager.focusedKey)&&fx("keyboard");f.selectionManager.setFocused(!0)}},[r]),u=x.useCallback((f,p)=>{let{state:m}=r;a.current={timeout:void 0,focusedKey:m.selectionManager.focusedKey,collection:m.collection,selectedKeys:m.selectionManager.selectedKeys,draggingKeys:el.draggingKeys,isInternal:Hg(n),target:p},(r.props.onDrop||i)({type:"drop",x:f.x,y:f.y,target:p,items:f.items,dropOperation:f.dropOperation}),a.current.timeout=setTimeout(()=>{l(),a.current=null},50)},[r,i,n,l]);x.useEffect(()=>()=>{a.current&&clearTimeout(a.current.timeout)},[]),di(()=>{a.current&&e.collection!==a.current.collection&&l()});let{direction:c}=yo();x.useEffect(()=>{if(!n.current)return;let f=(v,y=!0,A="down")=>EDe(r.props.keyboardDelegate,r.state.collection,v,A,c==="rtl",y),p=(v,y=!0)=>f(v,y,"up"),m=(v,y,A,C,E=!0)=>{let I=0,D,{draggingKeys:T}=el,M=Hg(n);do{let P=C(v,E);if(!P)return null;v=P,D=r.state.getDropOperation({target:P,types:y,allowedOperations:A,isInternal:M,draggingKeys:T}),v.type==="root"&&I++}while(D==="cancel"&&!r.state.isDropTarget(v)&&I<2);return D==="cancel"?null:v};return dse({element:n.current,preventFocusOnDrop:!0,getDropOperation(v,y){if(r.state.target){let{draggingKeys:C}=el,E=Hg(n);return r.state.getDropOperation({target:r.state.target,types:v,allowedOperations:y,isInternal:E,draggingKeys:C})}return m(null,v,y,f)?"move":"cancel"},onDropEnter(v,y){let A=Sx(y.items),C=r.state.selectionManager,E=null;A1(n);let I=C.focusedKey,D="after",T=I!=null?r.state.collection.getItem(I):null;if(T?.type==="cell"&&(I=T.parentKey),I!=null&&C.isSelected(I)&&(C.selectedKeys.size>1&&C.firstSelectedKey===I?D="before":I=C.lastSelectedKey),I!=null){E={type:"item",key:I,dropPosition:D};let{draggingKeys:P}=el,k=Hg(n);var M;r.state.getDropOperation({target:E,types:A,allowedOperations:y.allowedDropOperations,isInternal:k,draggingKeys:P})==="cancel"&&(E=(M=m(E,A,y.allowedDropOperations,f,!1))!==null&&M!==void 0?M:m(E,A,y.allowedDropOperations,p,!1))}E||(E=m(null,A,y.allowedDropOperations,f)),r.state.setTarget(E)},onDropExit(){A1(void 0),r.state.setTarget(null)},onDropTargetEnter(v){r.state.setTarget(v)},onDropActivate(v,y){y?.type==="item"&&y?.dropPosition==="on"&&typeof r.props.onDropActivate=="function"&&r.props.onDropActivate({type:"dropactivate",x:v.x,y:v.y,target:y})},onDrop(v,y){A1(n),r.state.target&&u(v,y||r.state.target)},onKeyDown(v,y){var A,C;let{keyboardDelegate:E}=r.props,I=Sx(y.items);switch(v.key){case"ArrowDown":if(E.getKeyBelow){let j=m(r.state.target,I,y.allowedDropOperations,(H,W)=>f(H,W,"down"));r.state.setTarget(j)}break;case"ArrowUp":if(E.getKeyAbove){let j=m(r.state.target,I,y.allowedDropOperations,(H,W)=>f(H,W,"up"));r.state.setTarget(j)}break;case"ArrowLeft":if(E.getKeyLeftOf){let j=m(r.state.target,I,y.allowedDropOperations,(H,W)=>f(H,W,"left"));r.state.setTarget(j)}break;case"ArrowRight":if(E.getKeyRightOf){let j=m(r.state.target,I,y.allowedDropOperations,(H,W)=>f(H,W,"right"));r.state.setTarget(j)}break;case"Home":if(E.getFirstKey){let j=m(null,I,y.allowedDropOperations,f);r.state.setTarget(j)}break;case"End":if(E.getLastKey){let j=m(null,I,y.allowedDropOperations,p);r.state.setTarget(j)}break;case"PageDown":if(E.getKeyPageBelow){let j=r.state.target;if(!j)j=m(null,I,y.allowedDropOperations,f);else{var D,T;let H=(D=E.getFirstKey)===null||D===void 0?void 0:D.call(E);j.type==="item"&&(H=j.key);let W=null;H!=null&&(W=E.getKeyPageBelow(H));let O=j.type==="item"?j.dropPosition:"after";if(W==null||j.type==="item"&&j.key===((T=E.getLastKey)===null||T===void 0?void 0:T.call(E))){var M,P;W=(P=(M=E.getLastKey)===null||M===void 0?void 0:M.call(E))!==null&&P!==void 0?P:null,O="after"}if(W==null)break;j={type:"item",key:W,dropPosition:O};let{draggingCollectionRef:G,draggingKeys:q}=el,J=G?.current===n?.current,te=r.state.getDropOperation({target:j,types:I,allowedOperations:y.allowedDropOperations,isInternal:J,draggingKeys:q});var k;te==="cancel"&&(j=(k=m(j,I,y.allowedDropOperations,f,!1))!==null&&k!==void 0?k:m(j,I,y.allowedDropOperations,p,!1))}r.state.setTarget(j??r.state.target)}break;case"PageUp":{if(!E.getKeyPageAbove)break;let j=r.state.target;if(!j)j=m(null,I,y.allowedDropOperations,p);else if(j.type==="item"){var L;if(j.key===((L=E.getFirstKey)===null||L===void 0?void 0:L.call(E)))j={type:"root"};else{let G=E.getKeyPageAbove(j.key),q=j.dropPosition;if(G==null){var $;G=($=E.getFirstKey)===null||$===void 0?void 0:$.call(E),q="before"}if(G==null)break;j={type:"item",key:G,dropPosition:q}}let{draggingKeys:H}=el,W=Hg(n),O=r.state.getDropOperation({target:j,types:I,allowedOperations:y.allowedDropOperations,isInternal:W,draggingKeys:H});var z;O==="cancel"&&(j=(z=m(j,I,y.allowedDropOperations,p,!1))!==null&&z!==void 0?z:m(j,I,y.allowedDropOperations,f,!1))}r.state.setTarget(j??r.state.target);break}}(A=(C=r.props).onKeyDown)===null||A===void 0||A.call(C,v)}})},[r,n,u,c]);let d=Us();return v$.set(e,{id:d,ref:n}),{collectionProps:on(o,{id:d,"aria-describedby":null})}}function Kse(t,e,n){let{dropProps:r}=Gse(),i=eDe(e);x.useEffect(()=>{if(n.current)return uDe({element:n.current,target:t.target,getDropOperation(c,d){let{draggingKeys:f}=el,p=Hg(i);return e.getDropOperation({target:t.target,types:c,allowedOperations:d,isInternal:p,draggingKeys:f})},activateButtonRef:t.activateButtonRef})},[n,t.target,e,i,t.activateButtonRef]);let s=x$(),{draggingKeys:o}=el,a=Hg(i),l=s&&e.getDropOperation({target:t.target,types:Sx(s.dragTarget.items),allowedOperations:s.dragTarget.allowedDropOperations,isInternal:a,draggingKeys:o})!=="cancel",u=e.isDropTarget(t.target);return x.useEffect(()=>{s&&u&&n.current&&n.current.focus()},[u,s,n]),{dropProps:{...r,"aria-hidden":!s||l?void 0:"true"},isDropTarget:u}}function _De(t){return t&&t.__esModule?t.default:t}function IDe(t,e,n){let{target:r}=t,{collection:i}=e,s=Rl(_De(c4),"@react-aria/dnd"),o=x$(),{dropProps:a}=Kse(t,e,n),l=Us(),u=y=>{var A,C,E,I;return y==null?"":(I=(E=(A=i.getTextValue)===null||A===void 0?void 0:A.call(i,y))!==null&&E!==void 0?E:(C=i.getItem(y))===null||C===void 0?void 0:C.textValue)!==null&&I!==void 0?I:""},c="",d;if(r.type==="root")c=s.format("dropOnRoot"),d=`${l} ${ZBe(e)}`;else if(r.dropPosition==="on")c=s.format("dropOnItem",{itemText:u(r.key)});else{let y,A;if(r.dropPosition==="before"){var f;let C=(f=i.getItem(r.key))===null||f===void 0?void 0:f.prevKey,E=C!=null?i.getItem(C):null;y=E?.type==="item"?E.key:null}else y=r.key;if(r.dropPosition==="after"){var p;let C=(p=i.getItem(r.key))===null||p===void 0?void 0:p.nextKey,E=C!=null?i.getItem(C):null;A=E?.type==="item"?E.key:null}else A=r.key;y!=null&&A!=null?c=s.format("insertBetween",{beforeItemText:u(y),afterItemText:u(A)}):y!=null?c=s.format("insertAfter",{itemText:u(y)}):A!=null&&(c=s.format("insertBefore",{itemText:u(A)}))}let m=e.isDropTarget(r),v=o?a["aria-hidden"]:"true";return{dropIndicatorProps:{...a,id:l,"aria-roledescription":s.format("dropIndicator"),"aria-label":c,"aria-labelledby":d,"aria-hidden":v,tabIndex:-1},isDropTarget:m,isHidden:!m&&!!v}}function BDe(t){return t&&t.__esModule?t.default:t}const DDe={keyboard:{selected:"dragSelectedKeyboard",notSelected:"dragDescriptionKeyboard"},touch:{selected:"dragSelectedLongPress",notSelected:"dragDescriptionLongPress"},virtual:{selected:"dragDescriptionVirtual",notSelected:"dragDescriptionVirtual"}};function TDe(t,e){let n=Rl(BDe(c4),"@react-aria/dnd"),r=e.isDisabled||e.selectionManager.isDisabled(t.key),{dragProps:i,dragButtonProps:s}=yDe({getItems(){return e.getItems(t.key)},preview:e.preview,getAllowedDropOperations:e.getAllowedDropOperations,hasDragButton:t.hasDragButton,onDragStart(A){e.startDrag(t.key,A),aDe(e.draggingKeys)},onDragMove(A){e.moveDrag(A)},onDragEnd(A){let{dropOperation:C}=A,E=C==="cancel"?!1:Hg();e.endDrag({...A,keys:e.draggingKeys,isInternal:E}),cse()}}),o=e.collection.getItem(t.key),a=e.getKeysForDrag(t.key).size,l=a>1&&e.selectionManager.isSelected(t.key),u,c,d=b$();if(!t.hasDragButton&&e.selectionManager.selectionMode!=="none"){let A=DDe[d][l?"selected":"notSelected"];t.hasAction&&d==="keyboard"&&(A+="Alt"),l?c=n.format(A,{count:a}):c=n.format(A),delete i.onClick}else if(l)u=n.format("dragSelectedItems",{count:a});else{var f,p,m,v;let A=(v=(m=(f=(p=e.collection).getTextValue)===null||f===void 0?void 0:f.call(p,t.key))!==null&&m!==void 0?m:o?.textValue)!==null&&v!==void 0?v:"";u=n.format("dragItem",{itemText:A})}let y=i4(c);if(c&&Object.assign(i,y),!t.hasDragButton&&t.hasAction){let{onKeyDownCapture:A,onKeyUpCapture:C}=i;d==="touch"&&delete i["aria-describedby"],i.onKeyDownCapture=E=>{E.altKey&&A?.(E)},i.onKeyUpCapture=E=>{E.altKey&&C?.(E)}}return{dragProps:r?{}:i,dragButtonProps:{...s,isDisabled:r,"aria-label":u}}}function MDe(t,e,n){let{draggingCollectionRef:r}=el;e.draggingKeys.size>0&&r?.current!==n.current&&oDe(n)}const kDe=xe.forwardRef(function(e,n){let r=e.children,[i,s]=x.useState(null),o=x.useRef(null),a=x.useRef(void 0);return x.useImperativeHandle(n,()=>(l,u)=>{let c=r(l),d,f,p;c&&typeof c=="object"&&"element"in c?(d=c.element,f=c.x,p=c.y):d=c,Xy.flushSync(()=>{s(d)}),u(o.current,f,p),a.current=requestAnimationFrame(()=>{s(null)})},[r]),x.useEffect(()=>()=>{a.current&&cancelAnimationFrame(a.current)},[]),i?xe.createElement("div",{style:{zIndex:-100,position:"fixed",top:0,left:-1e5},ref:o},i):null});class PDe{getPrimaryStart(e){return this.orientation==="horizontal"?e.left:e.top}getPrimaryEnd(e){return this.orientation==="horizontal"?e.right:e.bottom}getSecondaryStart(e){return this.orientation==="horizontal"?e.top:e.left}getSecondaryEnd(e){return this.orientation==="horizontal"?e.bottom:e.right}getFlowStart(e){return this.layout==="stack"?this.getPrimaryStart(e):this.getSecondaryStart(e)}getFlowEnd(e){return this.layout==="stack"?this.getPrimaryEnd(e):this.getSecondaryEnd(e)}getFlowSize(e){return this.getFlowEnd(e)-this.getFlowStart(e)}getDropTargetFromPoint(e,n,r){var i;if(this.collection[Symbol.iterator]().next().done||!this.ref.current)return{type:"root"};let s=this.ref.current.getBoundingClientRect(),o=this.orientation==="horizontal"?e:n,a=this.orientation==="horizontal"?n:e;o+=this.getPrimaryStart(s),a+=this.getSecondaryStart(s);let l=this.layout==="stack"?o:a,u=this.orientation==="horizontal"&&this.direction==="rtl",c=this.layout==="grid"&&this.orientation==="vertical"&&this.direction==="rtl",d=this.layout==="stack"?u:c,f=(i=this.ref.current)===null||i===void 0?void 0:i.dataset.collection,p=this.ref.current.querySelectorAll(f?`[data-collection="${CSS.escape(f)}"]`:"[data-key]"),m=new Map;for(let I of p)I instanceof HTMLElement&&I.dataset.key!=null&&m.set(I.dataset.key,I);let v=[...this.collection].filter(I=>I.type==="item"),y=0,A=v.length;for(;y<A;){let I=Math.floor((y+A)/2),D=v[I],T=m.get(String(D.key));if(!T)break;let M=T.getBoundingClientRect(),P=k=>{k?y=I+1:A=I};if(o<this.getPrimaryStart(M))P(u);else if(o>this.getPrimaryEnd(M))P(!u);else if(a<this.getSecondaryStart(M))P(c);else if(a>this.getSecondaryEnd(M))P(!c);else{let k={type:"item",key:D.key,dropPosition:"on"};if(r(k))l<=this.getFlowStart(M)+5&&r({...k,dropPosition:"before"})?k.dropPosition=d?"after":"before":l>=this.getFlowEnd(M)-5&&r({...k,dropPosition:"after"})&&(k.dropPosition=d?"before":"after");else{let L=this.getFlowStart(M)+this.getFlowSize(M)/2;l<=L&&r({...k,dropPosition:"before"})?k.dropPosition=d?"after":"before":l>=L&&r({...k,dropPosition:"after"})&&(k.dropPosition=d?"before":"after")}return k}}let C=v[Math.min(y,v.length-1)],E=m.get(String(C.key));return s=E?.getBoundingClientRect(),s&&(o<this.getPrimaryStart(s)||Math.abs(l-this.getFlowStart(s))<Math.abs(l-this.getFlowEnd(s)))?{type:"item",key:C.key,dropPosition:d?"after":"before"}:{type:"item",key:C.key,dropPosition:d?"before":"after"}}constructor(e,n,r){this.collection=e,this.ref=n,this.layout=r?.layout||"stack",this.orientation=r?.orientation||"vertical",this.direction=r?.direction||"ltr"}}const C$=new WeakMap;function u8(t,e){var n;let{id:r}=(n=C$.get(t))!==null&&n!==void 0?n:{};if(!r)throw new Error("Unknown list");return`${r}-${RDe(e)}`}function RDe(t){return typeof t=="string"?t.replace(/\s*/g,""):""+t}var Wse={};Wse={deselectedItem:t=>`${t.item}  `,longPressToSelect:"     .",select:"",selectedAll:"  .",selectedCount:(t,e)=>`${e.plural(t.count,{"=0":"   ",one:()=>`${e.number(t.count)}  `,other:()=>`${e.number(t.count)}  `})}.`,selectedItem:t=>`${t.item} `};var qse={};qse={deselectedItem:t=>`${t.item}   .`,longPressToSelect:"        .",select:"",selectedAll:"   .",selectedCount:(t,e)=>`${e.plural(t.count,{"=0":"  ",one:()=>`${e.number(t.count)}  `,other:()=>`${e.number(t.count)}  `})}.`,selectedItem:t=>`${t.item} .`};var Yse={};Yse={deselectedItem:t=>`Poloka ${t.item} nen vybrna.`,longPressToSelect:"Dlouhm stisknutm pejdete do reimu vbru.",select:"Vybrat",selectedAll:"Vybrny vechny poloky.",selectedCount:(t,e)=>`${e.plural(t.count,{"=0":"Nevybrny dn poloky",one:()=>`Vybrna ${e.number(t.count)} poloka`,other:()=>`Vybrno ${e.number(t.count)} poloek`})}.`,selectedItem:t=>`Vybrna poloka ${t.item}.`};var Xse={};Xse={deselectedItem:t=>`${t.item} ikke valgt.`,longPressToSelect:"Lav et langt tryk for at aktivere valgtilstand.",select:"Vlg",selectedAll:"Alle elementer valgt.",selectedCount:(t,e)=>`${e.plural(t.count,{"=0":"Ingen elementer valgt",one:()=>`${e.number(t.count)} element valgt`,other:()=>`${e.number(t.count)} elementer valgt`})}.`,selectedItem:t=>`${t.item} valgt.`};var Jse={};Jse={deselectedItem:t=>`${t.item} nicht ausgewhlt.`,longPressToSelect:"Gedrckt halten, um Auswahlmodus zu ffnen.",select:"Auswhlen",selectedAll:"Alle Elemente ausgewhlt.",selectedCount:(t,e)=>`${e.plural(t.count,{"=0":"Keine Elemente ausgewhlt",one:()=>`${e.number(t.count)} Element ausgewhlt`,other:()=>`${e.number(t.count)} Elemente ausgewhlt`})}.`,selectedItem:t=>`${t.item} ausgewhlt.`};var Zse={};Zse={deselectedItem:t=>`    ${t.item}.`,longPressToSelect:"       .",select:"",selectedAll:"   .",selectedCount:(t,e)=>`${e.plural(t.count,{"=0":"  ",one:()=>` ${e.number(t.count)} `,other:()=>` ${e.number(t.count)} `})}.`,selectedItem:t=>`   ${t.item}.`};var eoe={};eoe={deselectedItem:t=>`${t.item} not selected.`,select:"Select",selectedCount:(t,e)=>`${e.plural(t.count,{"=0":"No items selected",one:()=>`${e.number(t.count)} item selected`,other:()=>`${e.number(t.count)} items selected`})}.`,selectedAll:"All items selected.",selectedItem:t=>`${t.item} selected.`,longPressToSelect:"Long press to enter selection mode."};var toe={};toe={deselectedItem:t=>`${t.item} no seleccionado.`,longPressToSelect:"Mantenga pulsado para abrir el modo de seleccin.",select:"Seleccionar",selectedAll:"Todos los elementos seleccionados.",selectedCount:(t,e)=>`${e.plural(t.count,{"=0":"Ningn elemento seleccionado",one:()=>`${e.number(t.count)} elemento seleccionado`,other:()=>`${e.number(t.count)} elementos seleccionados`})}.`,selectedItem:t=>`${t.item} seleccionado.`};var noe={};noe={deselectedItem:t=>`${t.item} pole valitud.`,longPressToSelect:"Valikureiimi sisenemiseks vajutage pikalt.",select:"Vali",selectedAll:"Kik ksused valitud.",selectedCount:(t,e)=>`${e.plural(t.count,{"=0":"ksusi pole valitud",one:()=>`${e.number(t.count)} ksus valitud`,other:()=>`${e.number(t.count)} ksust valitud`})}.`,selectedItem:t=>`${t.item} valitud.`};var roe={};roe={deselectedItem:t=>`Kohdetta ${t.item} ei valittu.`,longPressToSelect:"Siirry valintatilaan painamalla pitkn.",select:"Valitse",selectedAll:"Kaikki kohteet valittu.",selectedCount:(t,e)=>`${e.plural(t.count,{"=0":"Ei yhtn kohdetta valittu",one:()=>`${e.number(t.count)} kohde valittu`,other:()=>`${e.number(t.count)} kohdetta valittu`})}.`,selectedItem:t=>`${t.item} valittu.`};var ioe={};ioe={deselectedItem:t=>`${t.item} non slectionn.`,longPressToSelect:"Appuyez de manire prolonge pour passer en mode de slection.",select:"Slectionner",selectedAll:"Tous les lments slectionns.",selectedCount:(t,e)=>`${e.plural(t.count,{"=0":"Aucun lment slectionn",one:()=>`${e.number(t.count)} lment slectionn`,other:()=>`${e.number(t.count)} lments slectionns`})}.`,selectedItem:t=>`${t.item} slectionn.`};var soe={};soe={deselectedItem:t=>`${t.item}  .`,longPressToSelect:"    .",select:"",selectedAll:"  .",selectedCount:(t,e)=>`${e.plural(t.count,{"=0":"  ",one:()=>` ${e.number(t.count)} `,other:()=>`${e.number(t.count)}  `})}.`,selectedItem:t=>`${t.item} .`};var ooe={};ooe={deselectedItem:t=>`Stavka ${t.item} nije odabrana.`,longPressToSelect:"Dugo pritisnite za ulazak u nain odabira.",select:"Odaberite",selectedAll:"Odabrane su sve stavke.",selectedCount:(t,e)=>`${e.plural(t.count,{"=0":"Nije odabrana nijedna stavka",one:()=>`Odabrana je ${e.number(t.count)} stavka`,other:()=>`Odabrano je ${e.number(t.count)} stavki`})}.`,selectedItem:t=>`Stavka ${t.item} je odabrana.`};var aoe={};aoe={deselectedItem:t=>`${t.item} nincs kijellve.`,longPressToSelect:"Nyomja hosszan a kijellshez.",select:"Kijells",selectedAll:"Az sszes elem kijellve.",selectedCount:(t,e)=>`${e.plural(t.count,{"=0":"Egy elem sincs kijellve",one:()=>`${e.number(t.count)} elem kijellve`,other:()=>`${e.number(t.count)} elem kijellve`})}.`,selectedItem:t=>`${t.item} kijellve.`};var loe={};loe={deselectedItem:t=>`${t.item} non selezionato.`,longPressToSelect:"Premi a lungo per passare alla modalit di selezione.",select:"Seleziona",selectedAll:"Tutti gli elementi selezionati.",selectedCount:(t,e)=>`${e.plural(t.count,{"=0":"Nessun elemento selezionato",one:()=>`${e.number(t.count)} elemento selezionato`,other:()=>`${e.number(t.count)} elementi selezionati`})}.`,selectedItem:t=>`${t.item} selezionato.`};var uoe={};uoe={deselectedItem:t=>`${t.item} `,longPressToSelect:"",select:"",selectedAll:"",selectedCount:(t,e)=>`${e.plural(t.count,{"=0":"",one:()=>`${e.number(t.count)} `,other:()=>`${e.number(t.count)} `})}`,selectedItem:t=>`${t.item} `};var coe={};coe={deselectedItem:t=>`${t.item}()  .`,longPressToSelect:"    .",select:"",selectedAll:"  .",selectedCount:(t,e)=>`${e.plural(t.count,{"=0":"  ",one:()=>`${e.number(t.count)}  `,other:()=>`${e.number(t.count)}  `})}.`,selectedItem:t=>`${t.item}() .`};var doe={};doe={deselectedItem:t=>`${t.item} nepasirinkta.`,longPressToSelect:"Nordami jungti pasirinkimo reim, paspauskite ir palaikykite.",select:"Pasirinkti",selectedAll:"Pasirinkti visi elementai.",selectedCount:(t,e)=>`${e.plural(t.count,{"=0":"Nepasirinktas n vienas elementas",one:()=>`Pasirinktas ${e.number(t.count)} elementas`,other:()=>`Pasirinkta element: ${e.number(t.count)}`})}.`,selectedItem:t=>`Pasirinkta: ${t.item}.`};var hoe={};hoe={deselectedItem:t=>`Vienums ${t.item} nav atlasts.`,longPressToSelect:"Ilgi turiet nospiestu. lai ieslgtu atlases remu.",select:"Atlast",selectedAll:"Atlasti visi vienumi.",selectedCount:(t,e)=>`${e.plural(t.count,{"=0":"Nav atlasts neviens vienums",one:()=>`Atlasto vienumu skaits: ${e.number(t.count)}`,other:()=>`Atlasto vienumu skaits: ${e.number(t.count)}`})}.`,selectedItem:t=>`Atlasts vienums ${t.item}.`};var foe={};foe={deselectedItem:t=>`${t.item} er ikke valgt.`,longPressToSelect:"Bruk et langt trykk for  g inn i valgmodus.",select:"Velg",selectedAll:"Alle elementer er valgt.",selectedCount:(t,e)=>`${e.plural(t.count,{"=0":"Ingen elementer er valgt",one:()=>`${e.number(t.count)} element er valgt`,other:()=>`${e.number(t.count)} elementer er valgt`})}.`,selectedItem:t=>`${t.item} er valgt.`};var poe={};poe={deselectedItem:t=>`${t.item} niet geselecteerd.`,longPressToSelect:"Druk lang om de selectiemodus te openen.",select:"Selecteren",selectedAll:"Alle items geselecteerd.",selectedCount:(t,e)=>`${e.plural(t.count,{"=0":"Geen items geselecteerd",one:()=>`${e.number(t.count)} item geselecteerd`,other:()=>`${e.number(t.count)} items geselecteerd`})}.`,selectedItem:t=>`${t.item} geselecteerd.`};var goe={};goe={deselectedItem:t=>`Nie zaznaczono ${t.item}.`,longPressToSelect:"Nacinij i przytrzymaj, aby wej do trybu wyboru.",select:"Zaznacz",selectedAll:"Wszystkie zaznaczone elementy.",selectedCount:(t,e)=>`${e.plural(t.count,{"=0":"Nie zaznaczono adnych elementw",one:()=>`${e.number(t.count)} zaznaczony element`,other:()=>`${e.number(t.count)} zaznaczonych elementw`})}.`,selectedItem:t=>`Zaznaczono ${t.item}.`};var moe={};moe={deselectedItem:t=>`${t.item} no selecionado.`,longPressToSelect:"Mantenha pressionado para entrar no modo de seleo.",select:"Selecionar",selectedAll:"Todos os itens selecionados.",selectedCount:(t,e)=>`${e.plural(t.count,{"=0":"Nenhum item selecionado",one:()=>`${e.number(t.count)} item selecionado`,other:()=>`${e.number(t.count)} itens selecionados`})}.`,selectedItem:t=>`${t.item} selecionado.`};var Aoe={};Aoe={deselectedItem:t=>`${t.item} no selecionado.`,longPressToSelect:"Prima continuamente para entrar no modo de seleo.",select:"Selecionar",selectedAll:"Todos os itens selecionados.",selectedCount:(t,e)=>`${e.plural(t.count,{"=0":"Nenhum item selecionado",one:()=>`${e.number(t.count)} item selecionado`,other:()=>`${e.number(t.count)} itens selecionados`})}.`,selectedItem:t=>`${t.item} selecionado.`};var yoe={};yoe={deselectedItem:t=>`${t.item} neselectat.`,longPressToSelect:"Apsai lung pentru a intra n modul de selectare.",select:"Selectare",selectedAll:"Toate elementele selectate.",selectedCount:(t,e)=>`${e.plural(t.count,{"=0":"Niciun element selectat",one:()=>`${e.number(t.count)} element selectat`,other:()=>`${e.number(t.count)} elemente selectate`})}.`,selectedItem:t=>`${t.item} selectat.`};var voe={};voe={deselectedItem:t=>`${t.item}  .`,longPressToSelect:"       .",select:"",selectedAll:"  .",selectedCount:(t,e)=>`${e.plural(t.count,{"=0":"  ",one:()=>`${e.number(t.count)}  `,other:()=>`${e.number(t.count)}  `})}.`,selectedItem:t=>`${t.item} .`};var boe={};boe={deselectedItem:t=>`Nevybrat poloky: ${t.item}.`,longPressToSelect:"Dlhm stlaenm prejdite do reimu vberu.",select:"Vybra",selectedAll:"Vetky vybrat poloky.",selectedCount:(t,e)=>`${e.plural(t.count,{"=0":"iadne vybrat poloky",one:()=>`${e.number(t.count)} vybrat poloka`,other:()=>`Poet vybratch poloiek:${e.number(t.count)}`})}.`,selectedItem:t=>`Vybrat poloky: ${t.item}.`};var xoe={};xoe={deselectedItem:t=>`Element ${t.item} ni izbran.`,longPressToSelect:"Za izbirni nain pritisnite in dlje asa drite.",select:"Izberite",selectedAll:"Vsi elementi so izbrani.",selectedCount:(t,e)=>`${e.plural(t.count,{"=0":"Noben element ni izbran",one:()=>`${e.number(t.count)} element je izbran`,other:()=>`${e.number(t.count)} elementov je izbranih`})}.`,selectedItem:t=>`Element ${t.item} je izbran.`};var Coe={};Coe={deselectedItem:t=>`${t.item} nije izabrano.`,longPressToSelect:"Dugo pritisnite za ulazak u reim biranja.",select:"Izaberite",selectedAll:"Izabrane su sve stavke.",selectedCount:(t,e)=>`${e.plural(t.count,{"=0":"Nije izabrana nijedna stavka",one:()=>`Izabrana je ${e.number(t.count)} stavka`,other:()=>`Izabrano je ${e.number(t.count)} stavki`})}.`,selectedItem:t=>`${t.item} je izabrano.`};var Eoe={};Eoe={deselectedItem:t=>`${t.item} ej markerat.`,longPressToSelect:"Tryck lnge nr du vill ppna vljarlge.",select:"Markera",selectedAll:"Alla markerade objekt.",selectedCount:(t,e)=>`${e.plural(t.count,{"=0":"Inga markerade objekt",one:()=>`${e.number(t.count)} markerat objekt`,other:()=>`${e.number(t.count)} markerade objekt`})}.`,selectedItem:t=>`${t.item} markerat.`};var Soe={};Soe={deselectedItem:t=>`${t.item} seilmedi.`,longPressToSelect:"Seim moduna girmek iin uzun basn.",select:"Se",selectedAll:"Tm geler seildi.",selectedCount:(t,e)=>`${e.plural(t.count,{"=0":"Hibir ge seilmedi",one:()=>`${e.number(t.count)} ge seildi`,other:()=>`${e.number(t.count)} ge seildi`})}.`,selectedItem:t=>`${t.item} seildi.`};var woe={};woe={deselectedItem:t=>`${t.item}  .`,longPressToSelect:"  ,     .",select:"",selectedAll:"  .",selectedCount:(t,e)=>`${e.plural(t.count,{"=0":"   ",one:()=>`${e.number(t.count)}  `,other:()=>` : ${e.number(t.count)}`})}.`,selectedItem:t=>`${t.item} .`};var _oe={};_oe={deselectedItem:t=>` ${t.item}`,longPressToSelect:"",select:"",selectedAll:"",selectedCount:(t,e)=>`${e.plural(t.count,{"=0":"",one:()=>` ${e.number(t.count)} `,other:()=>` ${e.number(t.count)} `})}`,selectedItem:t=>` ${t.item}`};var Ioe={};Ioe={deselectedItem:t=>`${t.item}`,longPressToSelect:"",select:"",selectedAll:"",selectedCount:(t,e)=>`${e.plural(t.count,{"=0":"",one:()=>` ${e.number(t.count)} `,other:()=>` ${e.number(t.count)} `})}`,selectedItem:t=>`${t.item}`};var kT={};kT={"ar-AE":Wse,"bg-BG":qse,"cs-CZ":Yse,"da-DK":Xse,"de-DE":Jse,"el-GR":Zse,"en-US":eoe,"es-ES":toe,"et-EE":noe,"fi-FI":roe,"fr-FR":ioe,"he-IL":soe,"hr-HR":ooe,"hu-HU":aoe,"it-IT":loe,"ja-JP":uoe,"ko-KR":coe,"lt-LT":doe,"lv-LV":hoe,"nb-NO":foe,"nl-NL":poe,"pl-PL":goe,"pt-BR":moe,"pt-PT":Aoe,"ro-RO":yoe,"ru-RU":voe,"sk-SK":boe,"sl-SI":xoe,"sr-SP":Coe,"sv-SE":Eoe,"tr-TR":Soe,"uk-UA":woe,"zh-CN":_oe,"zh-TW":Ioe};function NDe(t){return t&&t.__esModule?t.default:t}function LDe(t,e){let{getRowText:n=a=>{var l,u,c,d;return(d=(l=(u=e.collection).getTextValue)===null||l===void 0?void 0:l.call(u,a))!==null&&d!==void 0?d:(c=e.collection.getItem(a))===null||c===void 0?void 0:c.textValue}}=t,r=Rl(NDe(kT),"@react-aria/grid"),i=e.selectionManager.rawSelection,s=x.useRef(i),o=x.useCallback(()=>{var a;if(!e.selectionManager.isFocused||i===s.current){s.current=i;return}let l=v9(i,s.current),u=v9(s.current,i),c=e.selectionManager.selectionBehavior==="replace",d=[];if(e.selectionManager.selectedKeys.size===1&&c){let f=e.selectionManager.selectedKeys.keys().next().value;if(f!=null&&e.collection.getItem(f)){let p=n(f);p&&d.push(r.format("selectedItem",{item:p}))}}else if(l.size===1&&u.size===0){let f=l.keys().next().value;if(f!=null){let p=n(f);p&&d.push(r.format("selectedItem",{item:p}))}}else if(u.size===1&&l.size===0){let f=u.keys().next().value;if(f!=null&&e.collection.getItem(f)){let p=n(f);p&&d.push(r.format("deselectedItem",{item:p}))}}e.selectionManager.selectionMode==="multiple"&&(d.length===0||i==="all"||i.size>1||s.current==="all"||((a=s.current)===null||a===void 0?void 0:a.size)>1)&&d.push(i==="all"?r.format("selectedAll"):r.format("selectedCount",{count:i.size})),d.length>0&&Tp(d.join(" ")),s.current=i},[i,e.selectionManager.selectedKeys,e.selectionManager.isFocused,e.selectionManager.selectionBehavior,e.selectionManager.selectionMode,e.collection,n,r]);LJ(()=>{if(e.selectionManager.isFocused)o();else{let a=requestAnimationFrame(o);return()=>cancelAnimationFrame(a)}},[i,e.selectionManager.isFocused])}function v9(t,e){let n=new Set;if(t==="all"||e==="all")return n;for(let r of t.keys())e.has(r)||n.add(r);return n}function FDe(t){return t&&t.__esModule?t.default:t}function $De(t){let e=Rl(FDe(kT),"@react-aria/grid"),n=jZ(),r=(n==="pointer"||n==="virtual"||n==null)&&typeof window<"u"&&"ontouchstart"in window,i=x.useMemo(()=>{let o=t.selectionManager.selectionMode,a=t.selectionManager.selectionBehavior,l;return r&&(l=e.format("longPressToSelect")),a==="replace"&&o!=="none"&&t.hasItemActions?l:void 0},[t.selectionManager.selectionMode,t.selectionManager.selectionBehavior,t.hasItemActions,e,r]);return i4(i)}function zDe(t){return t&&t.__esModule?t.default:t}function ODe(t,e){let{key:n}=t,r=e.selectionManager,i=Us(),s=!e.selectionManager.canSelectItem(n),o=e.selectionManager.isSelected(n),a=()=>r.toggleSelection(n);const l=Rl(zDe(kT),"@react-aria/grid");return{checkboxProps:{id:i,"aria-label":l.format("select"),isSelected:o,isDisabled:s,onChange:a}}}function jDe(t,e,n){let{isVirtualized:r,keyboardDelegate:i,layoutDelegate:s,onAction:o,disallowTypeAhead:a,linkBehavior:l="action",keyboardNavigationBehavior:u="arrow",escapeKeyBehavior:c="clearSelection",shouldSelectOnPressUp:d}=t;!t["aria-label"]&&!t["aria-labelledby"]&&console.warn("An aria-label or aria-labelledby prop is required for accessibility.");let{listProps:f}=Fee({selectionManager:e.selectionManager,collection:e.collection,disabledKeys:e.disabledKeys,ref:n,keyboardDelegate:i,layoutDelegate:s,isVirtualized:r,selectOnFocus:e.selectionManager.selectionBehavior==="replace",shouldFocusWrap:t.shouldFocusWrap,linkBehavior:l,disallowTypeAhead:a,autoFocus:t.autoFocus,escapeKeyBehavior:c}),p=Us(t.id);C$.set(e,{id:p,onAction:o,linkBehavior:l,keyboardNavigationBehavior:u,shouldSelectOnPressUp:d});let m=$De({selectionManager:e.selectionManager,hasItemActions:!!o}),v=GZ(n,{isDisabled:e.collection.size!==0}),y=cr(t,{labelable:!0}),A=on(y,{role:"grid",id:p,"aria-multiselectable":e.selectionManager.selectionMode==="multiple"?"true":void 0},e.collection.size===0?{tabIndex:v?-1:0}:f,m);return r&&(A["aria-rowcount"]=e.collection.size,A["aria-colcount"]=1),LDe({},e),{gridProps:A}}const b9={expand:{ltr:"ArrowRight",rtl:"ArrowLeft"},collapse:{ltr:"ArrowLeft",rtl:"ArrowRight"}};function QDe(t,e,n){var r,i;let{node:s,isVirtualized:o}=t,{direction:a}=yo(),{onAction:l,linkBehavior:u,keyboardNavigationBehavior:c,shouldSelectOnPressUp:d}=C$.get(e),f=TE(),p=x.useRef(null),m=()=>{var W;n.current!==null&&(p.current!=null&&s.key!==p.current||!(!((W=n.current)===null||W===void 0)&&W.contains(document.activeElement)))&&vc(n.current)},v={},y=t.hasChildItems,A=e.selectionManager.isLink(s.key);if(s!=null&&"expandedKeys"in e){var C,E;let W=(C=(E=e.collection).getChildren)===null||C===void 0?void 0:C.call(E,s.key);y=y||[...W??[]].length>1,l==null&&!A&&e.selectionManager.selectionMode==="none"&&y&&(l=()=>e.toggleKey(s.key));let O=y?e.expandedKeys.has(s.key):void 0,G=1;if(s.level>0&&s?.parentKey!=null){let q=e.collection.getItem(s.parentKey);if(q){var I,D;G=[...(I=(D=e.collection).getChildren)===null||I===void 0?void 0:I.call(D,q.key)].filter(te=>te.type==="item").length}}else G=[...e.collection].filter(q=>q.level===0&&q.type==="item").length;v={"aria-expanded":O,"aria-level":s.level+1,"aria-posinset":s?.index+1,"aria-setsize":G}}let{itemProps:T,...M}=h$({selectionManager:e.selectionManager,key:s.key,ref:n,isVirtualized:o,shouldSelectOnPressUp:t.shouldSelectOnPressUp||d,onAction:l||!((r=s.props)===null||r===void 0)&&r.onAction?If((i=s.props)===null||i===void 0?void 0:i.onAction,l?()=>l(s.key):void 0):void 0,focus:m,linkBehavior:u}),P=W=>{if(!W.currentTarget.contains(W.target)||!n.current||!document.activeElement)return;let O=iu(n.current);if(O.currentNode=document.activeElement,"expandedKeys"in e&&document.activeElement===n.current){if(W.key===b9.expand[a]&&e.selectionManager.focusedKey===s.key&&y&&!e.expandedKeys.has(s.key)){e.toggleKey(s.key),W.stopPropagation();return}else if(W.key===b9.collapse[a]&&e.selectionManager.focusedKey===s.key&&y&&e.expandedKeys.has(s.key)){e.toggleKey(s.key),W.stopPropagation();return}}switch(W.key){case"ArrowLeft":if(c==="arrow"){let q=a==="rtl"?O.nextNode():O.previousNode();if(q)W.preventDefault(),W.stopPropagation(),vc(q),Sy(q,{containingElement:Kg(n.current)});else if(W.preventDefault(),W.stopPropagation(),a==="rtl")vc(n.current),Sy(n.current,{containingElement:Kg(n.current)});else{O.currentNode=n.current;let J=x9(O);J&&(vc(J),Sy(J,{containingElement:Kg(n.current)}))}}break;case"ArrowRight":if(c==="arrow"){let q=a==="rtl"?O.previousNode():O.nextNode();if(q)W.preventDefault(),W.stopPropagation(),vc(q),Sy(q,{containingElement:Kg(n.current)});else if(W.preventDefault(),W.stopPropagation(),a==="ltr")vc(n.current),Sy(n.current,{containingElement:Kg(n.current)});else{O.currentNode=n.current;let J=x9(O);J&&(vc(J),Sy(J,{containingElement:Kg(n.current)}))}}break;case"ArrowUp":case"ArrowDown":if(!W.altKey&&n.current.contains(W.target)){var G;W.stopPropagation(),W.preventDefault(),(G=n.current.parentElement)===null||G===void 0||G.dispatchEvent(new KeyboardEvent(W.nativeEvent.type,W.nativeEvent))}break}},k=W=>{if(p.current=s.key,W.target!==n.current){s3()||e.selectionManager.setFocusedKey(s.key);return}},L=W=>{if(!(!W.currentTarget.contains(W.target)||!n.current||!document.activeElement))switch(W.key){case"Tab":if(c==="tab"){let O=iu(n.current,{tabbable:!0});O.currentNode=document.activeElement,(W.shiftKey?O.previousNode():O.nextNode())&&W.stopPropagation()}}},$=j4e(s.props),z=M.hasAction?$:{},j=on(T,z,{role:"row",onKeyDownCapture:P,onKeyDown:L,onFocus:k,"aria-label":s["aria-label"]||s.textValue||void 0,"aria-selected":e.selectionManager.canSelectItem(s.key)?e.selectionManager.isSelected(s.key):void 0,"aria-disabled":e.selectionManager.isDisabled(s.key)||void 0,"aria-labelledby":f&&(s["aria-label"]||s.textValue)?`${u8(e,s.key)} ${f}`:void 0,id:u8(e,s.key)});if(o){let{collection:W}=e,O=[...W];j["aria-rowindex"]=O.find(G=>G.type==="section")?[...W.getKeys()].filter(G=>{var q;return((q=W.getItem(G))===null||q===void 0?void 0:q.type)!=="section"}).findIndex(G=>G===s.key)+1:s.index+1}let H={role:"gridcell","aria-colindex":1};return{rowProps:{...on(j,v)},gridCellProps:H,descriptionProps:{id:f},...M}}function x9(t){let e=null,n=null;do n=t.lastChild(),n&&(e=n);while(n);return e}function UDe(t,e){let{key:n}=t;const{checkboxProps:r}=ODe(t,e);return{checkboxProps:{...r,"aria-labelledby":`${r.id} ${u8(e,n)}`}}}const Boe=new WeakMap;function HDe(t,e,n){let{value:r,children:i,"aria-label":s,"aria-labelledby":o,onPressStart:a,onPressEnd:l,onPressChange:u,onPress:c,onPressUp:d,onClick:f}=t;const p=t.isDisabled||e.isDisabled;let m=e.selectedValue===r,v=j=>{j.stopPropagation(),e.setSelectedValue(r)},{pressProps:y,isPressed:A}=tv({onPressStart:a,onPressEnd:l,onPressChange:u,onPress:c,onPressUp:d,onClick:f,isDisabled:p}),{pressProps:C,isPressed:E}=tv({onPressStart:a,onPressEnd:l,onPressChange:u,onPressUp:d,onClick:f,isDisabled:p,onPress(j){var H;c?.(j),e.setSelectedValue(r),(H=n.current)===null||H===void 0||H.focus()}}),{focusableProps:I}=sS(on(t,{onFocus:()=>e.setLastFocusedValue(r)}),n),D=on(y,I),T=cr(t,{labelable:!0}),M=-1;e.selectedValue!=null?e.selectedValue===r&&(M=0):(e.lastFocusedValue===r||e.lastFocusedValue==null)&&(M=0),p&&(M=void 0);let{name:P,form:k,descriptionId:L,errorMessageId:$,validationBehavior:z}=Boe.get(e);return av(n,e.defaultSelectedValue,e.setSelectedValue),BT({validationBehavior:z},e,n),{labelProps:on(C,x.useMemo(()=>({onClick:j=>j.preventDefault(),onMouseDown:j=>j.preventDefault()}),[])),inputProps:on(T,{...D,type:"radio",name:P,form:k,tabIndex:M,disabled:p,required:e.isRequired&&z==="native",checked:m,value:r,onChange:v,"aria-describedby":[t["aria-describedby"],e.isInvalid?$:null,L].filter(Boolean).join(" ")||void 0}),isDisabled:p,isSelected:m,isPressed:A||E}}function VDe(t,e){let{name:n,form:r,isReadOnly:i,isRequired:s,isDisabled:o,orientation:a="vertical",validationBehavior:l="aria"}=t,{direction:u}=yo(),{isInvalid:c,validationErrors:d,validationDetails:f}=e.displayValidation,{labelProps:p,fieldProps:m,descriptionProps:v,errorMessageProps:y}=c$({...t,labelElementType:"span",isInvalid:e.isInvalid,errorMessage:t.errorMessage||d}),A=cr(t,{labelable:!0}),{focusWithinProps:C}=uv({onBlurWithin(D){var T;(T=t.onBlur)===null||T===void 0||T.call(t,D),e.selectedValue||e.setLastFocusedValue(null)},onFocusWithin:t.onFocus,onFocusWithinChange:t.onFocusChange}),E=D=>{let T;switch(D.key){case"ArrowRight":u==="rtl"&&a!=="vertical"?T="prev":T="next";break;case"ArrowLeft":u==="rtl"&&a!=="vertical"?T="next":T="prev";break;case"ArrowDown":T="next";break;case"ArrowUp":T="prev";break;default:return}D.preventDefault();let M=iu(D.currentTarget,{from:D.target,accept:k=>k instanceof th(k).HTMLInputElement&&k.type==="radio"}),P;T==="next"?(P=M.nextNode(),P||(M.currentNode=D.currentTarget,P=M.firstChild())):(P=M.previousNode(),P||(M.currentNode=D.currentTarget,P=M.lastChild())),P&&(P.focus(),e.setSelectedValue(P.value))},I=Us(n);return Boe.set(e,{name:I,form:r,descriptionId:v.id,errorMessageId:y.id,validationBehavior:l}),{radioGroupProps:on(A,{role:"radiogroup",onKeyDown:E,"aria-invalid":e.isInvalid||void 0,"aria-errormessage":t["aria-errormessage"],"aria-readonly":i||void 0,"aria-required":s||void 0,"aria-disabled":o||void 0,"aria-orientation":a,...m,...C}),labelProps:p,descriptionProps:v,errorMessageProps:y,isInvalid:c,validationErrors:d,validationDetails:f}}const E$=new WeakMap;function GDe(t,e,n){let{keyboardDelegate:r,isDisabled:i,isRequired:s,name:o,form:a,validationBehavior:l="aria"}=t,u=s4({usage:"search",sensitivity:"base"}),c=x.useMemo(()=>r||new o4(e.collection,e.disabledKeys,n,u),[r,e.collection,e.disabledKeys,u,n]),{menuTriggerProps:d,menuProps:f}=Ete({isDisabled:i,type:"listbox"},e,n),p=k=>{if(e.selectionManager.selectionMode!=="multiple")switch(k.key){case"ArrowLeft":{var L,$;k.preventDefault();let H=e.selectedKey!=null?(L=c.getKeyAbove)===null||L===void 0?void 0:L.call(c,e.selectedKey):($=c.getFirstKey)===null||$===void 0?void 0:$.call(c);H&&e.setSelectedKey(H);break}case"ArrowRight":{var z,j;k.preventDefault();let H=e.selectedKey!=null?(z=c.getKeyBelow)===null||z===void 0?void 0:z.call(c,e.selectedKey):(j=c.getFirstKey)===null||j===void 0?void 0:j.call(c);H&&e.setSelectedKey(H);break}}},{typeSelectProps:m}=Lee({keyboardDelegate:c,selectionManager:e.selectionManager,onTypeSelect(k){e.setSelectedKey(k)}}),{isInvalid:v,validationErrors:y,validationDetails:A}=e.displayValidation,{labelProps:C,fieldProps:E,descriptionProps:I,errorMessageProps:D}=c$({...t,labelElementType:"span",isInvalid:v,errorMessage:t.errorMessage||y});m.onKeyDown=m.onKeyDownCapture,delete m.onKeyDownCapture,e.selectionManager.selectionMode==="multiple"&&(m={});let T=cr(t,{labelable:!0}),M=on(m,d,E),P=Us();return E$.set(e,{isDisabled:i,isRequired:s,name:o,form:a,validationBehavior:l}),{labelProps:{...C,onClick:()=>{if(!t.isDisabled){var k;(k=n.current)===null||k===void 0||k.focus(),fx("keyboard")}}},triggerProps:on(T,{...M,isDisabled:i,onKeyDown:If(M.onKeyDown,p,t.onKeyDown),onKeyUp:t.onKeyUp,"aria-labelledby":[P,M["aria-labelledby"],M["aria-label"]&&!M["aria-labelledby"]?M.id:null].filter(Boolean).join(" "),onFocus(k){e.isFocused||(t.onFocus&&t.onFocus(k),t.onFocusChange&&t.onFocusChange(!0),e.setFocused(!0))},onBlur(k){e.isOpen||(t.onBlur&&t.onBlur(k),t.onFocusChange&&t.onFocusChange(!1),e.setFocused(!1))}}),valueProps:{id:P},menuProps:{...f,autoFocus:e.focusStrategy||!0,shouldSelectOnPressUp:!0,shouldFocusOnHover:!0,disallowEmptySelection:!0,linkBehavior:"selection",onBlur:k=>{k.currentTarget.contains(k.relatedTarget)||(t.onBlur&&t.onBlur(k),t.onFocusChange&&t.onFocusChange(!1),e.setFocused(!1))},"aria-labelledby":[E["aria-labelledby"],M["aria-label"]&&!E["aria-labelledby"]?M.id:null].filter(Boolean).join(" ")},descriptionProps:I,errorMessageProps:D,isInvalid:v,validationErrors:y,validationDetails:A,hiddenSelectProps:{isDisabled:i,name:o,label:t.label,state:e,triggerRef:n,form:a}}}function KDe(t,e,n){let r=E$.get(e)||{},{autoComplete:i,name:s=r.name,form:o=r.form,isDisabled:a=r.isDisabled}=t,{validationBehavior:l,isRequired:u}=r,{visuallyHiddenProps:c}=oC({style:{position:"fixed",top:0,left:0}});av(t.selectRef,e.defaultValue,e.setValue),BT({validationBehavior:l,focus:()=>{var m;return(m=n.current)===null||m===void 0?void 0:m.focus()}},e,t.selectRef);let d=e.setValue,f=x.useCallback(m=>{m.target.multiple?d(Array.from(m.target.selectedOptions,v=>v.value)):d(m.currentTarget.value)},[d]);var p;return{containerProps:{...c,"aria-hidden":!0,"data-react-aria-prevent-focus":!0,"data-a11y-ignore":"aria-hidden-focus"},inputProps:{style:{display:"none"}},selectProps:{tabIndex:-1,autoComplete:i,disabled:a,multiple:e.selectionManager.selectionMode==="multiple",required:l==="native"&&u,name:s,form:o,value:(p=e.value)!==null&&p!==void 0?p:"",onChange:f,onInput:f}}}function WDe(t){let{state:e,triggerRef:n,label:r,name:i,form:s,isDisabled:o}=t,a=x.useRef(null),l=x.useRef(null),{containerProps:u,selectProps:c}=KDe({...t,selectRef:e.collection.size<=300?a:l},e,n);if(e.collection.size<=300)return xe.createElement("div",{...u,"data-testid":"hidden-select-container"},xe.createElement("label",null,r,xe.createElement("select",{...c,ref:a},xe.createElement("option",null),[...e.collection.getKeys()].map(d=>{let f=e.collection.getItem(d);if(f&&f.type==="item")return xe.createElement("option",{key:f.key,value:f.key},f.textValue)}))));if(i){let d=E$.get(e)||{},{validationBehavior:f}=d,p=Array.isArray(e.value)?e.value:[e.value];p.length===0&&(p=[null]);let m=p.map((v,y)=>{let A={type:"hidden",autoComplete:c.autoComplete,name:i,form:s,disabled:o,value:v??""};return f==="native"?xe.createElement("input",{key:y,...A,ref:y===0?l:null,style:{display:"none"},type:"text",required:y===0?c.required:!1,onChange:()=>{}}):xe.createElement("input",{key:y,...A,ref:y===0?l:null})});return xe.createElement(xe.Fragment,null,m)}return null}function qDe(t,e,n){let{labelProps:r,inputProps:i,isSelected:s,isPressed:o,isDisabled:a,isReadOnly:l}=mne(t,e,n);return{labelProps:r,inputProps:{...i,role:"switch",checked:s},isSelected:s,isPressed:o,isDisabled:a,isReadOnly:l}}const Doe=new WeakMap;function hD(t,e,n){return t?(typeof e=="string"&&(e=e.replace(/\s+/g,"")),`${Doe.get(t)}-${n}-${e}`):""}function YDe(t,e,n){let{key:r,isDisabled:i,shouldSelectOnPressUp:s}=t,{selectionManager:o,selectedKey:a}=e,l=r===a,u=i||e.isDisabled||e.selectionManager.isDisabled(r),{itemProps:c,isPressed:d}=h$({selectionManager:o,key:r,ref:n,isDisabled:u,shouldSelectOnPressUp:s,linkBehavior:"selection"}),f=hD(e,r,"tab"),p=hD(e,r,"tabpanel"),{tabIndex:m}=c,v=e.collection.getItem(r),y=cr(v?.props,{labelable:!0});delete y.id;let A=RJ(v?.props),{focusableProps:C}=sS({isDisabled:u},n);return{tabProps:on(y,C,A,c,{id:f,"aria-selected":l,"aria-disabled":u||void 0,"aria-controls":l?p:void 0,tabIndex:u?void 0:m,role:"tab"}),isSelected:l,isDisabled:u,isPressed:d}}function XDe(t,e,n){let r=GZ(n)?void 0:0;var i;const s=hD(e,(i=t.id)!==null&&i!==void 0?i:e?.selectedKey,"tabpanel"),o=tm({...t,id:s,"aria-labelledby":hD(e,e?.selectedKey,"tab")});return{tabPanelProps:on(o,{tabIndex:r,role:"tabpanel","aria-describedby":t["aria-describedby"],"aria-details":t["aria-details"]})}}class JDe{getKeyLeftOf(e){return this.flipDirection?this.getNextKey(e):this.getPreviousKey(e)}getKeyRightOf(e){return this.flipDirection?this.getPreviousKey(e):this.getNextKey(e)}isDisabled(e){var n,r;return this.disabledKeys.has(e)||!!(!((r=this.collection.getItem(e))===null||r===void 0||(n=r.props)===null||n===void 0)&&n.isDisabled)}getFirstKey(){let e=this.collection.getFirstKey();return e!=null&&this.isDisabled(e)&&(e=this.getNextKey(e)),e}getLastKey(){let e=this.collection.getLastKey();return e!=null&&this.isDisabled(e)&&(e=this.getPreviousKey(e)),e}getKeyAbove(e){return this.tabDirection?null:this.getPreviousKey(e)}getKeyBelow(e){return this.tabDirection?null:this.getNextKey(e)}getNextKey(e){let n=e;do n=this.collection.getKeyAfter(n),n==null&&(n=this.collection.getFirstKey());while(n!=null&&this.isDisabled(n));return n}getPreviousKey(e){let n=e;do n=this.collection.getKeyBefore(n),n==null&&(n=this.collection.getLastKey());while(n!=null&&this.isDisabled(n));return n}constructor(e,n,r,i=new Set){this.collection=e,this.flipDirection=n==="rtl"&&r==="horizontal",this.disabledKeys=i,this.tabDirection=r==="horizontal"}}function ZDe(t,e,n){let{orientation:r="horizontal",keyboardActivation:i="automatic"}=t,{collection:s,selectionManager:o,disabledKeys:a}=e,{direction:l}=yo(),u=x.useMemo(()=>new JDe(s,l,r,a),[s,a,r,l]),{collectionProps:c}=d$({ref:n,selectionManager:o,keyboardDelegate:u,selectOnFocus:i==="automatic",disallowEmptySelection:!0,scrollRef:n,linkBehavior:"selection"}),d=Us();Doe.set(e,d);let f=tm({...t,id:d});return{tabListProps:{...on(c,f),role:"tablist","aria-orientation":r,tabIndex:void 0}}}function eTe(t,e,n){let{gridProps:r}=jDe(t,e,n);return r.role="treegrid",{gridProps:r}}var Toe={};Toe={collapse:"",expand:""};var Moe={};Moe={collapse:"",expand:""};var koe={};koe={collapse:"Sbalit",expand:"Rozthnout"};var Poe={};Poe={collapse:"Skjul",expand:"Udvid"};var Roe={};Roe={collapse:"Reduzieren",expand:"Erweitern"};var Noe={};Noe={collapse:"",expand:""};var Loe={};Loe={expand:"Expand",collapse:"Collapse"};var Foe={};Foe={collapse:"Contraer",expand:"Ampliar"};var $oe={};$oe={collapse:"Ahenda",expand:"Laienda"};var zoe={};zoe={collapse:"Pienenn",expand:"Laajenna"};var Ooe={};Ooe={collapse:"Rduire",expand:"Dvelopper"};var joe={};joe={collapse:"",expand:""};var Qoe={};Qoe={collapse:"Sami",expand:"Proiri"};var Uoe={};Uoe={collapse:"sszecsuks",expand:"Kibonts"};var Hoe={};Hoe={collapse:"Comprimi",expand:"Espandi"};var Voe={};Voe={collapse:"",expand:""};var Goe={};Goe={collapse:"",expand:""};var Koe={};Koe={collapse:"Sutraukti",expand:"Iskleisti"};var Woe={};Woe={collapse:"Sakaut",expand:"Izvrst"};var qoe={};qoe={collapse:"Skjul",expand:"Utvid"};var Yoe={};Yoe={collapse:"Samenvouwen",expand:"Uitvouwen"};var Xoe={};Xoe={collapse:"Zwi",expand:"Rozwi"};var Joe={};Joe={collapse:"Recolher",expand:"Expandir"};var Zoe={};Zoe={collapse:"Colapsar",expand:"Expandir"};var eae={};eae={collapse:"Restrngei",expand:"Extindei"};var tae={};tae={collapse:"",expand:""};var nae={};nae={collapse:"Zbali",expand:"Rozbali"};var rae={};rae={collapse:"Strni",expand:"Raziri"};var iae={};iae={collapse:" Skupi",expand:"Proiri"};var sae={};sae={collapse:"Dlj",expand:"Expandera"};var oae={};oae={collapse:"Daralt",expand:"Genilet"};var aae={};aae={collapse:"",expand:""};var lae={};lae={collapse:"",expand:""};var uae={};uae={collapse:"",expand:""};var cae={};cae={"ar-AE":Toe,"bg-BG":Moe,"cs-CZ":koe,"da-DK":Poe,"de-DE":Roe,"el-GR":Noe,"en-US":Loe,"es-ES":Foe,"et-EE":$oe,"fi-FI":zoe,"fr-FR":Ooe,"he-IL":joe,"hr-HR":Qoe,"hu-HU":Uoe,"it-IT":Hoe,"ja-JP":Voe,"ko-KR":Goe,"lt-LT":Koe,"lv-LV":Woe,"nb-NO":qoe,"nl-NL":Yoe,"pl-PL":Xoe,"pt-BR":Joe,"pt-PT":Zoe,"ro-RO":eae,"ru-RU":tae,"sk-SK":nae,"sl-SI":rae,"sr-SP":iae,"sv-SE":sae,"tr-TR":oae,"uk-UA":aae,"zh-CN":lae,"zh-TW":uae};function tTe(t){return t&&t.__esModule?t.default:t}function dae(t,e,n){let{node:r}=t,i=QDe(t,e,n),s=i.rowProps["aria-expanded"]===!0,o=Rl(tTe(cae),"@react-aria/tree"),a=tm({"aria-label":s?o.format("collapse"):o.format("expand"),"aria-labelledby":i.rowProps.id}),l={onPress:()=>{i.isDisabled||(e.toggleKey(r.key),e.selectionManager.setFocused(!0),e.selectionManager.setFocusedKey(r.key))},excludeFromTabOrder:!0,preventFocusOnPress:!0,"data-react-aria-prevent-focus":!0,...a};return{...i,expandButtonProps:l}}const Wp=x.createContext({}),xn=aC(function(e,n){[e,n]=Fi(e,n,Wp);let{elementType:r="label",...i}=e;return xe.createElement(r,{className:"react-aria-Label",...i,ref:n})}),nTe=x.createContext(null),Y0=x.createContext({}),Yt=aC(function(e,n){[e,n]=Fi(e,n,Y0);let r=e,{isPending:i}=r,{buttonProps:s,isPressed:o}=pne(e,n);s=rTe(s,i);let{focusProps:a,isFocused:l,isFocusVisible:u}=su(e),{hoverProps:c,isHovered:d}=hh({...e,isDisabled:e.isDisabled||i}),f={isHovered:d,isPressed:(r.isPressed||o)&&!i,isFocused:l,isFocusVisible:u,isDisabled:e.isDisabled||!1,isPending:i??!1},p=Rr({...e,values:f,defaultClassName:"react-aria-Button"}),m=Us(s.id),v=Us(),y=s["aria-labelledby"];i&&(y?y=`${y} ${v}`:s["aria-label"]&&(y=`${m} ${v}`));let A=x.useRef(i);x.useEffect(()=>{let E={"aria-labelledby":y||m};(!A.current&&l&&i||A.current&&l&&!i)&&Tp(E,"assertive"),A.current=i},[i,l,y,m]);let C=cr(e,{global:!0});return delete C.onClick,xe.createElement("button",{...on(C,p,s,a,c),type:s.type==="submit"&&i?"button":s.type,id:m,ref:n,"aria-labelledby":y,slot:e.slot||void 0,"aria-disabled":i?"true":s["aria-disabled"],"data-disabled":e.isDisabled||void 0,"data-pressed":f.isPressed||void 0,"data-hovered":d||void 0,"data-focused":l||void 0,"data-pending":i||void 0,"data-focus-visible":u||void 0},xe.createElement(nTe.Provider,{value:{id:v}},p.children))});function rTe(t,e){if(e){for(const n in t)n.startsWith("on")&&!(n.includes("Focus")||n.includes("Blur"))&&(t[n]=void 0);t.href=void 0,t.target=void 0}return t}const Bf=x.createContext({}),kE=x.forwardRef(function(e,n){[e,n]=Fi(e,n,Bf);let{elementType:r="span",...i}=e;return xe.createElement(r,{className:"react-aria-Text",...i,ref:n})});class c8{*[Symbol.iterator](){yield*this.iterable}get size(){return this._size}getKeys(){return this.keyMap.keys()}getKeyBefore(e){let n=this.keyMap.get(e);var r;return n&&(r=n.prevKey)!==null&&r!==void 0?r:null}getKeyAfter(e){let n=this.keyMap.get(e);var r;return n&&(r=n.nextKey)!==null&&r!==void 0?r:null}getFirstKey(){return this.firstKey}getLastKey(){return this.lastKey}getItem(e){var n;return(n=this.keyMap.get(e))!==null&&n!==void 0?n:null}at(e){const n=[...this.getKeys()];return this.getItem(n[e])}getChildren(e){let n=this.keyMap.get(e);return n?.childNodes||[]}constructor(e){this.keyMap=new Map,this.firstKey=null,this.lastKey=null,this.iterable=e;let n=a=>{if(this.keyMap.set(a.key,a),a.childNodes&&a.type==="section")for(let l of a.childNodes)n(l)};for(let a of e)n(a);let r=null,i=0,s=0;for(let[a,l]of this.keyMap)r?(r.nextKey=a,l.prevKey=r.key):(this.firstKey=a,l.prevKey=void 0),l.type==="item"&&(l.index=i++),(l.type==="section"||l.type==="item")&&s++,r=l,r.nextKey=void 0;this._size=s;var o;this.lastKey=(o=r?.key)!==null&&o!==void 0?o:null}}class xp extends Set{constructor(e,n,r){super(e),e instanceof xp?(this.anchorKey=n??e.anchorKey,this.currentKey=r??e.currentKey):(this.anchorKey=n??null,this.currentKey=r??null)}}function iTe(t,e){if(t.size!==e.size)return!1;for(let n of t)if(!e.has(n))return!1;return!0}function hae(t){let{selectionMode:e="none",disallowEmptySelection:n=!1,allowDuplicateSelectionEvents:r,selectionBehavior:i="toggle",disabledBehavior:s="all"}=t,o=x.useRef(!1),[,a]=x.useState(!1),l=x.useRef(null),u=x.useRef(null),[,c]=x.useState(null),d=x.useMemo(()=>C9(t.selectedKeys),[t.selectedKeys]),f=x.useMemo(()=>C9(t.defaultSelectedKeys,new xp),[t.defaultSelectedKeys]),[p,m]=al(d,f,t.onSelectionChange),v=x.useMemo(()=>t.disabledKeys?new Set(t.disabledKeys):new Set,[t.disabledKeys]),[y,A]=x.useState(i);i==="replace"&&y==="toggle"&&typeof p=="object"&&p.size===0&&A("replace");let C=x.useRef(i);return x.useEffect(()=>{i!==C.current&&(A(i),C.current=i)},[i]),{selectionMode:e,disallowEmptySelection:n,selectionBehavior:y,setSelectionBehavior:A,get isFocused(){return o.current},setFocused(E){o.current=E,a(E)},get focusedKey(){return l.current},get childFocusStrategy(){return u.current},setFocusedKey(E,I="first"){l.current=E,u.current=I,c(E)},selectedKeys:p,setSelectedKeys(E){(r||!iTe(E,p))&&m(E)},disabledKeys:v,disabledBehavior:s}}function C9(t,e){return t?t==="all"?"all":new xp(t):e}class PT{get selectionMode(){return this.state.selectionMode}get disallowEmptySelection(){return this.state.disallowEmptySelection}get selectionBehavior(){return this.state.selectionBehavior}setSelectionBehavior(e){this.state.setSelectionBehavior(e)}get isFocused(){return this.state.isFocused}setFocused(e){this.state.setFocused(e)}get focusedKey(){return this.state.focusedKey}get childFocusStrategy(){return this.state.childFocusStrategy}setFocusedKey(e,n){(e==null||this.collection.getItem(e))&&this.state.setFocusedKey(e,n)}get selectedKeys(){return this.state.selectedKeys==="all"?new Set(this.getSelectAllKeys()):this.state.selectedKeys}get rawSelection(){return this.state.selectedKeys}isSelected(e){if(this.state.selectionMode==="none")return!1;let n=this.getKey(e);return n==null?!1:this.state.selectedKeys==="all"?this.canSelectItem(n):this.state.selectedKeys.has(n)}get isEmpty(){return this.state.selectedKeys!=="all"&&this.state.selectedKeys.size===0}get isSelectAll(){if(this.isEmpty)return!1;if(this.state.selectedKeys==="all")return!0;if(this._isSelectAll!=null)return this._isSelectAll;let e=this.getSelectAllKeys(),n=this.state.selectedKeys;return this._isSelectAll=e.every(r=>n.has(r)),this._isSelectAll}get firstSelectedKey(){let e=null;for(let r of this.state.selectedKeys){let i=this.collection.getItem(r);(!e||i&&ik(this.collection,i,e)<0)&&(e=i)}var n;return(n=e?.key)!==null&&n!==void 0?n:null}get lastSelectedKey(){let e=null;for(let r of this.state.selectedKeys){let i=this.collection.getItem(r);(!e||i&&ik(this.collection,i,e)>0)&&(e=i)}var n;return(n=e?.key)!==null&&n!==void 0?n:null}get disabledKeys(){return this.state.disabledKeys}get disabledBehavior(){return this.state.disabledBehavior}extendSelection(e){if(this.selectionMode==="none")return;if(this.selectionMode==="single"){this.replaceSelection(e);return}let n=this.getKey(e);if(n==null)return;let r;if(this.state.selectedKeys==="all")r=new xp([n],n,n);else{let o=this.state.selectedKeys;var i;let a=(i=o.anchorKey)!==null&&i!==void 0?i:n;r=new xp(o,a,n);var s;for(let l of this.getKeyRange(a,(s=o.currentKey)!==null&&s!==void 0?s:n))r.delete(l);for(let l of this.getKeyRange(n,a))this.canSelectItem(l)&&r.add(l)}this.state.setSelectedKeys(r)}getKeyRange(e,n){let r=this.collection.getItem(e),i=this.collection.getItem(n);return r&&i?ik(this.collection,r,i)<=0?this.getKeyRangeInternal(e,n):this.getKeyRangeInternal(n,e):[]}getKeyRangeInternal(e,n){var r;if(!((r=this.layoutDelegate)===null||r===void 0)&&r.getKeyRange)return this.layoutDelegate.getKeyRange(e,n);let i=[],s=e;for(;s!=null;){let o=this.collection.getItem(s);if(o&&(o.type==="item"||o.type==="cell"&&this.allowsCellSelection)&&i.push(s),s===n)return i;s=this.collection.getKeyAfter(s)}return[]}getKey(e){let n=this.collection.getItem(e);if(!n||n.type==="cell"&&this.allowsCellSelection)return e;for(;n&&n.type!=="item"&&n.parentKey!=null;)n=this.collection.getItem(n.parentKey);return!n||n.type!=="item"?null:n.key}toggleSelection(e){if(this.selectionMode==="none")return;if(this.selectionMode==="single"&&!this.isSelected(e)){this.replaceSelection(e);return}let n=this.getKey(e);if(n==null)return;let r=new xp(this.state.selectedKeys==="all"?this.getSelectAllKeys():this.state.selectedKeys);r.has(n)?r.delete(n):this.canSelectItem(n)&&(r.add(n),r.anchorKey=n,r.currentKey=n),!(this.disallowEmptySelection&&r.size===0)&&this.state.setSelectedKeys(r)}replaceSelection(e){if(this.selectionMode==="none")return;let n=this.getKey(e);if(n==null)return;let r=this.canSelectItem(n)?new xp([n],n,n):new xp;this.state.setSelectedKeys(r)}setSelectedKeys(e){if(this.selectionMode==="none")return;let n=new xp;for(let r of e){let i=this.getKey(r);if(i!=null&&(n.add(i),this.selectionMode==="single"))break}this.state.setSelectedKeys(n)}getSelectAllKeys(){let e=[],n=r=>{for(;r!=null;){if(this.canSelectItem(r)){var i;let o=this.collection.getItem(r);o?.type==="item"&&e.push(r);var s;o?.hasChildNodes&&(this.allowsCellSelection||o.type!=="item")&&n((s=(i=PIe(a4(o,this.collection)))===null||i===void 0?void 0:i.key)!==null&&s!==void 0?s:null)}r=this.collection.getKeyAfter(r)}};return n(this.collection.getFirstKey()),e}selectAll(){!this.isSelectAll&&this.selectionMode==="multiple"&&this.state.setSelectedKeys("all")}clearSelection(){!this.disallowEmptySelection&&(this.state.selectedKeys==="all"||this.state.selectedKeys.size>0)&&this.state.setSelectedKeys(new xp)}toggleSelectAll(){this.isSelectAll?this.clearSelection():this.selectAll()}select(e,n){this.selectionMode!=="none"&&(this.selectionMode==="single"?this.isSelected(e)&&!this.disallowEmptySelection?this.toggleSelection(e):this.replaceSelection(e):this.selectionBehavior==="toggle"||n&&(n.pointerType==="touch"||n.pointerType==="virtual")?this.toggleSelection(e):this.replaceSelection(e))}isSelectionEqual(e){if(e===this.state.selectedKeys)return!0;let n=this.selectedKeys;if(e.size!==n.size)return!1;for(let r of e)if(!n.has(r))return!1;for(let r of n)if(!e.has(r))return!1;return!0}canSelectItem(e){var n;if(this.state.selectionMode==="none"||this.state.disabledKeys.has(e))return!1;let r=this.collection.getItem(e);return!(!r||!(r==null||(n=r.props)===null||n===void 0)&&n.isDisabled||r.type==="cell"&&!this.allowsCellSelection)}isDisabled(e){var n,r;return this.state.disabledBehavior==="all"&&(this.state.disabledKeys.has(e)||!!(!((r=this.collection.getItem(e))===null||r===void 0||(n=r.props)===null||n===void 0)&&n.isDisabled))}isLink(e){var n,r;return!!(!((r=this.collection.getItem(e))===null||r===void 0||(n=r.props)===null||n===void 0)&&n.href)}getItemProps(e){var n;return(n=this.collection.getItem(e))===null||n===void 0?void 0:n.props}withCollection(e){return new PT(e,this.state,{allowsCellSelection:this.allowsCellSelection,layoutDelegate:this.layoutDelegate||void 0})}constructor(e,n,r){this.collection=e,this.state=n;var i;this.allowsCellSelection=(i=r?.allowsCellSelection)!==null&&i!==void 0?i:!1,this._isSelectAll=null,this.layoutDelegate=r?.layoutDelegate||null}}function S$(t){let{filter:e,layoutDelegate:n}=t,r=hae(t),i=x.useMemo(()=>t.disabledKeys?new Set(t.disabledKeys):new Set,[t.disabledKeys]),s=x.useCallback(u=>e?new c8(e(u)):new c8(u),[e]),o=x.useMemo(()=>({suppressTextValueWarning:t.suppressTextValueWarning}),[t.suppressTextValueWarning]),a=$ee(t,s,o),l=x.useMemo(()=>new PT(a,r,{layoutDelegate:n}),[a,r,n]);return fae(a,l),{collection:a,disabledKeys:i,selectionManager:l}}function sTe(t,e){let n=x.useMemo(()=>e?t.collection.filter(e):t.collection,[t.collection,e]),r=t.selectionManager.withCollection(n);return fae(n,r),{collection:n,selectionManager:r,disabledKeys:t.disabledKeys}}function fae(t,e){const n=x.useRef(null);x.useEffect(()=>{if(e.focusedKey!=null&&!t.getItem(e.focusedKey)&&n.current){const c=n.current.getItem(e.focusedKey),d=[...n.current.getKeys()].map(A=>{const C=n.current.getItem(A);return C?.type==="item"?C:null}).filter(A=>A!==null),f=[...t.getKeys()].map(A=>{const C=t.getItem(A);return C?.type==="item"?C:null}).filter(A=>A!==null);var r,i;const p=((r=d?.length)!==null&&r!==void 0?r:0)-((i=f?.length)!==null&&i!==void 0?i:0);var s,o,a;let m=Math.min(p>1?Math.max(((s=c?.index)!==null&&s!==void 0?s:0)-p+1,0):(o=c?.index)!==null&&o!==void 0?o:0,((a=f?.length)!==null&&a!==void 0?a:0)-1),v=null,y=!1;for(;m>=0;){if(!e.isDisabled(f[m].key)){v=f[m];break}if(m<f.length-1&&!y)m++;else{y=!0;var l,u;m>((l=c?.index)!==null&&l!==void 0?l:0)&&(m=(u=c?.index)!==null&&u!==void 0?u:0),m--}}e.setFocusedKey(v?v.key:null)}n.current=t},[t,e])}function pae(t){var e;let[n,r]=al(t.selectedKey,(e=t.defaultSelectedKey)!==null&&e!==void 0?e:null,t.onSelectionChange),i=x.useMemo(()=>n!=null?[n]:[],[n]),{collection:s,disabledKeys:o,selectionManager:a}=S$({...t,selectionMode:"single",disallowEmptySelection:!0,allowDuplicateSelectionEvents:!0,selectedKeys:i,onSelectionChange:u=>{if(u==="all")return;var c;let d=(c=u.values().next().value)!==null&&c!==void 0?c:null;d===n&&t.onSelectionChange&&t.onSelectionChange(d),r(d)}}),l=n!=null?s.getItem(n):null;return{collection:s,disabledKeys:o,selectionManager:a,selectedKey:n,setSelectedKey:r,selectedItem:l}}function d4(t){let[e,n]=al(t.isOpen,t.defaultOpen||!1,t.onOpenChange);const r=x.useCallback(()=>{n(!0)},[n]),i=x.useCallback(()=>{n(!1)},[n]),s=x.useCallback(()=>{n(!e)},[n,e]);return{isOpen:e,setOpen:n,open:r,close:i,toggle:s}}function oTe(t){var e;let{defaultFilter:n,menuTrigger:r="input",allowsEmptyCollection:i=!1,allowsCustomValue:s,shouldCloseOnBlur:o=!0}=t,[a,l]=x.useState(!1),[u,c]=x.useState(!1),[d,f]=x.useState(null),p=it=>{t.onSelectionChange&&t.onSelectionChange(it),it===A&&(ee(),te())};var m;let{collection:v,selectionManager:y,selectedKey:A,setSelectedKey:C,selectedItem:E,disabledKeys:I}=pae({...t,onSelectionChange:p,items:(m=t.items)!==null&&m!==void 0?m:t.defaultItems}),[D,T]=al(t.inputValue,E9(t.defaultInputValue,A,v)||"",t.onInputChange),[M]=x.useState(A),[P]=x.useState(D),k=v,L=x.useMemo(()=>t.items!=null||!n?v:aTe(v,D,n),[v,D,n,t.items]),[$,z]=x.useState(L),j=x.useRef("focus"),W=d4({...t,onOpenChange:it=>{t.onOpenChange&&t.onOpenChange(it,it?j.current:void 0),y.setFocused(it),it||y.setFocusedKey(null)},isOpen:void 0,defaultOpen:void 0}),O=(it=null,ot)=>{let le=ot==="manual"||ot==="focus"&&r==="focus";(i||L.size>0||le&&k.size>0||t.items)&&(le&&!W.isOpen&&t.items===void 0&&l(!0),j.current=ot,f(it),W.open())},G=(it=null,ot)=>{let le=ot==="manual"||ot==="focus"&&r==="focus";!(i||L.size>0||le&&k.size>0||t.items)&&!W.isOpen||(le&&!W.isOpen&&t.items===void 0&&l(!0),W.isOpen||(j.current=ot),J(it))},q=x.useCallback(()=>{z(a?k:L)},[a,k,L]),J=x.useCallback((it=null)=>{W.isOpen&&q(),f(it),W.toggle()},[W,q]),te=x.useCallback(()=>{W.isOpen&&(q(),W.close())},[W,q]),[Y,Z]=x.useState(D),ee=()=>{var it,ot;let le=A!=null&&(ot=(it=v.getItem(A))===null||it===void 0?void 0:it.textValue)!==null&&ot!==void 0?ot:"";Z(le),T(le)};var ie,ue;let ae=x.useRef((ue=(ie=t.selectedKey)!==null&&ie!==void 0?ie:t.defaultSelectedKey)!==null&&ue!==void 0?ue:null);var de;let ge=x.useRef(A!=null&&(de=(e=v.getItem(A))===null||e===void 0?void 0:e.textValue)!==null&&de!==void 0?de:"");x.useEffect(()=>{var it;u&&(L.size>0||i)&&!W.isOpen&&D!==Y&&r!=="manual"&&O(null,"input"),!a&&!i&&W.isOpen&&L.size===0&&te(),A!=null&&A!==ae.current&&te(),D!==Y&&(y.setFocusedKey(null),l(!1),D===""&&(t.inputValue===void 0||t.selectedKey===void 0)&&C(null)),A!==ae.current&&(t.inputValue===void 0||t.selectedKey===void 0)?ee():Y!==D&&Z(D);var ot;let le=A!=null&&(ot=(it=v.getItem(A))===null||it===void 0?void 0:it.textValue)!==null&&ot!==void 0?ot:"";!u&&A!=null&&t.inputValue===void 0&&A===ae.current&&ge.current!==le&&(Z(le),T(le)),ae.current=A,ge.current=le});let _e=cv({...t,value:x.useMemo(()=>({inputValue:D,selectedKey:A}),[D,A])}),we=()=>{s&&A==null?ke():Fe()},ke=()=>{ae.current=null,C(null),te()},Fe=()=>{if(t.selectedKey!==void 0&&t.inputValue!==void 0){var it,ot;(it=t.onSelectionChange)===null||it===void 0||it.call(t,A);var le;let se=A!=null&&(le=(ot=v.getItem(A))===null||ot===void 0?void 0:ot.textValue)!==null&&le!==void 0?le:"";Z(se),te()}else ee(),te()};const Ee=()=>{if(s){var it,ot;const le=A!=null&&(ot=(it=v.getItem(A))===null||it===void 0?void 0:it.textValue)!==null&&ot!==void 0?ot:"";D===le?Fe():ke()}else Fe()};let Me=()=>{W.isOpen&&y.focusedKey!=null?A===y.focusedKey?Fe():C(y.focusedKey):Ee()},Ue=x.useRef(D),Ge=it=>{it?(Ue.current=D,r==="focus"&&!t.isReadOnly&&O(null,"focus")):(o&&Ee(),D!==Ue.current&&_e.commitValidation()),c(it)},ut=x.useMemo(()=>W.isOpen?a?k:L:$,[W.isOpen,k,L,a,$]);var ve;let $e=(ve=t.defaultSelectedKey)!==null&&ve!==void 0?ve:M;var gt;return{..._e,...W,focusStrategy:d,toggle:G,open:O,close:Ee,selectionManager:y,selectedKey:A,defaultSelectedKey:$e,setSelectedKey:C,disabledKeys:I,isFocused:u,setFocused:Ge,selectedItem:E,collection:ut,inputValue:D,defaultInputValue:(gt=E9(t.defaultInputValue,$e,v))!==null&&gt!==void 0?gt:P,setInputValue:T,commit:Me,revert:we}}function aTe(t,e,n){return new c8(gae(t,t,e,n))}function gae(t,e,n,r){let i=[];for(let s of e)if(s.type==="section"&&s.hasChildNodes){let o=gae(t,a4(s,t),n,r);[...o].some(a=>a.type==="item")&&i.push({...s,childNodes:o})}else s.type==="item"&&r(s.textValue,n)?i.push({...s}):s.type!=="item"&&i.push({...s});return i}function E9(t,e,n){if(t==null){var r,i;if(e!=null)return(i=(r=n.getItem(e))===null||r===void 0?void 0:r.textValue)!==null&&i!==void 0?i:""}return t}function lTe(t){let{getItems:e,isDisabled:n,collection:r,selectionManager:i,onDragStart:s,onDragMove:o,onDragEnd:a,preview:l,getAllowedDropOperations:u}=t,[,c]=x.useState(!1),d=x.useRef(new Set),f=x.useRef(null),p=m=>{let v=new Set;if(i.isSelected(m))for(let y of i.selectedKeys){let A=r.getItem(y);if(A){let C=!1,E=A.parentKey;for(;E!=null;){if(i.selectedKeys.has(E)){C=!0;break}let I=r.getItem(E);E=I?I.parentKey:null}C||v.add(y)}}else v.add(m);return v};return{collection:r,selectionManager:i,get draggedKey(){return f.current},get draggingKeys(){return d.current},isDragging(m){return d.current.has(m)},getKeysForDrag:p,getItems(m){let v=p(m),y=[];for(let C of v){var A;let E=(A=r.getItem(C))===null||A===void 0?void 0:A.value;E!=null&&y.push(E)}return e(p(m),y)},isDisabled:n,preview:l,getAllowedDropOperations:u,startDrag(m,v){let y=p(m);d.current=y,f.current=m,i.setFocused(!1),c(!0),typeof s=="function"&&s({...v,keys:y})},moveDrag(m){typeof o=="function"&&o({...m,keys:d.current})},endDrag(m){let{isInternal:v}=m;typeof a=="function"&&a({...m,keys:d.current,isInternal:v}),d.current=new Set,f.current=null,c(!1)}}}function uTe(t){let{acceptedDragTypes:e="all",isDisabled:n,onInsert:r,onRootDrop:i,onItemDrop:s,onReorder:o,onMove:a,shouldAcceptItemDrop:l,collection:u,selectionManager:c,onDropEnter:d,getDropOperation:f,onDrop:p}=t,[m,v]=x.useState(null),y=x.useRef(null),A=E=>{if(E.dropPosition==="before"){let I=u.getItem(E.key);return I&&I.prevKey!=null?{type:"item",key:I.prevKey,dropPosition:"after"}:null}else if(E.dropPosition==="after"){let I=u.getItem(E.key);return I&&I.nextKey!=null?{type:"item",key:I.nextKey,dropPosition:"before"}:null}return null},C=x.useCallback(E=>{let{target:I,types:D,allowedOperations:T,isInternal:M,draggingKeys:P}=E;if(n||!I)return"cancel";if(e==="all"||e.some(k=>D.has(k))){let k=r&&I.type==="item"&&!M&&(I.dropPosition==="before"||I.dropPosition==="after"),L=o&&I.type==="item"&&M&&(I.dropPosition==="before"||I.dropPosition==="after")&&cTe(u,I,P),$=I.type!=="item"||I.dropPosition!=="on"||!l||l(I,D),z=a&&I.type==="item"&&M&&$,j=i&&I.type==="root"&&!M,H=s&&I.type==="item"&&I.dropPosition==="on"&&!(M&&I.key!=null&&P.has(I.key))&&$;if(p||k||L||z||j||H)return f?f(I,D,T):T[0]}return"cancel"},[n,u,e,f,r,i,s,l,o,a,p]);return{collection:u,selectionManager:c,isDisabled:n,target:m,setTarget(E){if(this.isDropTarget(E))return;let I=y.current;I&&typeof t.onDropExit=="function"&&t.onDropExit({type:"dropexit",x:0,y:0,target:I}),E&&typeof d=="function"&&d({type:"dropenter",x:0,y:0,target:E}),y.current=E??null,v(E??null)},isDropTarget(E){let I=y.current;return!I||!E?!1:Ak(E,I)?!0:E?.type==="item"&&I?.type==="item"&&E.key!==I.key&&E.dropPosition!==I.dropPosition&&E.dropPosition!=="on"&&I.dropPosition!=="on"?Ak(A(E),I)||Ak(E,A(I)):!1},getDropOperation(E){return C(E)}}}function Ak(t,e){if(!t)return!e;switch(t.type){case"root":return e?.type==="root";case"item":return e?.type==="item"&&e?.key===t.key&&e?.dropPosition===t.dropPosition}}function cTe(t,e,n){let r=t.getItem(e.key);for(let i of n){let s=t.getItem(i);if(s?.parentKey!==r?.parentKey)return!1}return!0}function oS(t){let{initialItems:e=[],initialSelectedKeys:n,getKey:r=u=>{var c;return(c=u.id)!==null&&c!==void 0?c:u.key},filter:i,initialFilterText:s=""}=t,[o,a]=x.useState({items:e,selectedKeys:n==="all"?"all":new Set(n||[]),filterText:s}),l=x.useMemo(()=>i?o.items.filter(u=>i(u,o.filterText)):o.items,[o.items,o.filterText,i]);return{...o,items:l,...mae({getKey:r},a),getItem(u){return o.items.find(c=>r(c)===u)}}}function mae(t,e){let{cursor:n,getKey:r}=t;return{setSelectedKeys(i){e(s=>({...s,selectedKeys:i}))},addKeysToSelection(i){e(s=>s.selectedKeys==="all"?s:i==="all"?{...s,selectedKeys:"all"}:{...s,selectedKeys:new Set([...s.selectedKeys,...i])})},removeKeysFromSelection(i){e(s=>{if(i==="all")return{...s,selectedKeys:new Set};let o=s.selectedKeys==="all"?new Set(s.items.map(r)):new Set(s.selectedKeys);for(let a of i)o.delete(a);return{...s,selectedKeys:o}})},setFilterText(i){e(s=>({...s,filterText:i}))},insert(i,...s){e(o=>lw(o,i,...s))},insertBefore(i,...s){e(o=>{let a=o.items.findIndex(l=>r?.(l)===i);if(a===-1)if(o.items.length===0)a=0;else return o;return lw(o,a,...s)})},insertAfter(i,...s){e(o=>{let a=o.items.findIndex(l=>r?.(l)===i);if(a===-1)if(o.items.length===0)a=0;else return o;return lw(o,a+1,...s)})},prepend(...i){e(s=>lw(s,0,...i))},append(...i){e(s=>lw(s,s.items.length,...i))},remove(...i){e(s=>{let o=new Set(i),a=s.items.filter(u=>!o.has(r(u))),l="all";if(s.selectedKeys!=="all"){l=new Set(s.selectedKeys);for(let u of i)l.delete(u)}return n==null&&a.length===0&&(l=new Set),{...s,items:a,selectedKeys:l}})},removeSelectedItems(){e(i=>{if(i.selectedKeys==="all")return{...i,items:[],selectedKeys:new Set};let s=i.selectedKeys,o=i.items.filter(a=>!s.has(r(a)));return{...i,items:o,selectedKeys:new Set}})},move(i,s){e(o=>{let a=o.items.findIndex(c=>r(c)===i);if(a===-1)return o;let l=o.items.slice(),[u]=l.splice(a,1);return l.splice(s,0,u),{...o,items:l}})},moveBefore(i,s){e(o=>{let a=o.items.findIndex(c=>r(c)===i);if(a===-1)return o;let u=(Array.isArray(s)?s:[...s]).map(c=>o.items.findIndex(d=>r(d)===c)).sort((c,d)=>c-d);return S9(o,u,a)})},moveAfter(i,s){e(o=>{let a=o.items.findIndex(c=>r(c)===i);if(a===-1)return o;let u=(Array.isArray(s)?s:[...s]).map(c=>o.items.findIndex(d=>r(d)===c)).sort((c,d)=>c-d);return S9(o,u,a+1)})},update(i,s){e(o=>{let a=o.items.findIndex(u=>r(u)===i);if(a===-1)return o;let l;return typeof s=="function"?l=s(o.items[a]):l=s,{...o,items:[...o.items.slice(0,a),l,...o.items.slice(a+1)]}})}}}function lw(t,e,...n){return{...t,items:[...t.items.slice(0,e),...n,...t.items.slice(e)]}}function S9(t,e,n){n-=e.filter(s=>s<n).length;let r=e.map(s=>({from:s,to:n++}));for(let s=0;s<r.length;s++){let o=r[s].from;for(let a=s;a<r.length;a++)r[a].from>o&&r[a].from--}for(let s=0;s<r.length;s++){let o=r[s];for(let a=r.length-1;a>s;a--){let l=r[a];l.from<o.to?o.to++:l.from++}}let i=t.items.slice();for(let s of r){let[o]=i.splice(s.from,1);i.splice(s.to,0,o)}return{...t,items:i}}function dTe(t,e){let n;switch(t.state){case"idle":case"error":switch(e.type){case"loading":case"loadingMore":case"sorting":case"filtering":var r,i;return{...t,filterText:(r=e.filterText)!==null&&r!==void 0?r:t.filterText,state:e.type,items:e.type==="loading"?[]:t.items,sortDescriptor:(i=e.sortDescriptor)!==null&&i!==void 0?i:t.sortDescriptor,abortController:e.abortController};case"update":var s;return{...t,...(s=e.updater)===null||s===void 0?void 0:s.call(e,t)};case"success":case"error":return t;default:throw new Error(`Invalid action "${e.type}" in state "${t.state}"`)}case"loading":case"sorting":case"filtering":switch(e.type){case"success":if(e.abortController!==t.abortController)return t;var o;n=(o=e.selectedKeys)!==null&&o!==void 0?o:t.selectedKeys;var a,l,u;return{...t,filterText:(a=e.filterText)!==null&&a!==void 0?a:t.filterText,state:"idle",items:[...(l=e.items)!==null&&l!==void 0?l:[]],selectedKeys:n==="all"?"all":new Set(n),sortDescriptor:(u=e.sortDescriptor)!==null&&u!==void 0?u:t.sortDescriptor,abortController:void 0,cursor:e.cursor};case"error":return e.abortController!==t.abortController?t:{...t,state:"error",error:e.error,abortController:void 0};case"loading":case"loadingMore":case"sorting":case"filtering":var c;(c=t.abortController)===null||c===void 0||c.abort("aborting current load and starting new one");var d;return{...t,filterText:(d=e.filterText)!==null&&d!==void 0?d:t.filterText,state:e.type,items:e.type==="loading"?[]:t.items,abortController:e.abortController};case"update":var f;return{...t,...(f=e.updater)===null||f===void 0?void 0:f.call(e,t)};default:throw new Error(`Invalid action "${e.type}" in state "${t.state}"`)}case"loadingMore":switch(e.type){case"success":var p;n=t.selectedKeys==="all"||e.selectedKeys==="all"?"all":new Set([...t.selectedKeys,...(p=e.selectedKeys)!==null&&p!==void 0?p:[]]);var m,v;return{...t,state:"idle",items:[...t.items,...(m=e.items)!==null&&m!==void 0?m:[]],selectedKeys:n,sortDescriptor:(v=e.sortDescriptor)!==null&&v!==void 0?v:t.sortDescriptor,abortController:void 0,cursor:e.cursor};case"error":return e.abortController!==t.abortController?t:{...t,state:"error",error:e.error};case"loading":case"sorting":case"filtering":var y;(y=t.abortController)===null||y===void 0||y.abort();var A;return{...t,filterText:(A=e.filterText)!==null&&A!==void 0?A:t.filterText,state:e.type,items:e.type==="loading"?[]:t.items,abortController:e.abortController};case"loadingMore":var C;return(C=e.abortController)===null||C===void 0||C.abort(),t;case"update":var E;return{...t,...(E=e.updater)===null||E===void 0?void 0:E.call(e,t)};default:throw new Error(`Invalid action "${e.type}" in state "${t.state}"`)}default:throw new Error(`Invalid state "${t.state}"`)}}function Aae(t){const{load:e,sort:n,initialSelectedKeys:r,initialSortDescriptor:i,getKey:s=d=>d.id||d.key,initialFilterText:o=""}=t;let[a,l]=x.useReducer(dTe,{state:"idle",error:void 0,items:[],selectedKeys:r==="all"?"all":new Set(r),sortDescriptor:i,filterText:o});const u=async(d,f)=>{let p=new AbortController;try{l({...d,abortController:p});var m;let A=(m=d.filterText)!==null&&m!==void 0?m:a.filterText;var v;let C=await f({items:a.items.slice(),selectedKeys:a.selectedKeys,sortDescriptor:(v=d.sortDescriptor)!==null&&v!==void 0?v:a.sortDescriptor,signal:p.signal,cursor:d.type==="loadingMore"?a.cursor:void 0,filterText:A,loadingState:a.state});var y;let E=(y=C.filterText)!==null&&y!==void 0?y:A;l({type:"success",...C,abortController:p}),E&&E!==A&&!p.signal.aborted&&u({type:"filtering",filterText:E},e)}catch(A){l({type:"error",error:A,abortController:p})}};let c=x.useRef(!1);return x.useEffect(()=>{c.current||(u({type:"loading"},e),c.current=!0)},[]),{items:a.items,selectedKeys:a.selectedKeys,sortDescriptor:a.sortDescriptor,isLoading:a.state==="loading"||a.state==="loadingMore"||a.state==="sorting"||a.state==="filtering",loadingState:a.state,error:a.error,filterText:a.filterText,getItem(d){return a.items.find(f=>s(f)===d)},reload(){u({type:"loading"},e)},loadMore(){a.state==="loading"||a.state==="loadingMore"||a.state==="filtering"||a.cursor==null||u({type:"loadingMore"},e)},sort(d){u({type:"sorting",sortDescriptor:d},n||e)},...mae({...t,getKey:s,cursor:a.cursor},d=>{l({type:"update",updater:d})}),setFilterText(d){u({type:"filtering",filterText:d},e)}}}function hTe(t){let e=d4(t),[n,r]=x.useState(null),[i,s]=x.useState([]),o=()=>{s([]),e.close()};return{focusStrategy:n,...e,open(u=null){r(u),e.open()},toggle(u=null){r(u),e.toggle()},close(){o()},expandedKeysStack:i,openSubmenu:(u,c)=>{s(d=>c>d.length?d:[...d.slice(0,c),u])},closeSubmenu:(u,c)=>{s(d=>d[c]===u?d.slice(0,c):d)}}}let fTe=Math.round(Math.random()*1e10),pTe=0;function gTe(t){let e=x.useMemo(()=>t.name||`radio-group-${fTe}-${++pTe}`,[t.name]);var n;let[r,i]=al(t.value,(n=t.defaultValue)!==null&&n!==void 0?n:null,t.onChange),[s]=x.useState(r),[o,a]=x.useState(null),l=cv({...t,value:r}),u=f=>{!t.isReadOnly&&!t.isDisabled&&(i(f),l.commitValidation())},c=l.displayValidation.isInvalid;var d;return{...l,name:e,selectedValue:r,defaultSelectedValue:t.value!==void 0?s:(d=t.defaultValue)!==null&&d!==void 0?d:null,setSelectedValue:u,lastFocusedValue:o,setLastFocusedValue:a,isDisabled:t.isDisabled||!1,isReadOnly:t.isReadOnly||!1,isRequired:t.isRequired||!1,validationState:t.validationState||(c?"invalid":null),isInvalid:c}}function mTe(t){let[e,n]=al(w9(t.value),w9(t.defaultValue)||"",t.onChange);return{value:e,setValue:n}}function w9(t){if(t!=null)return t.toString()}function ATe(t){let{selectionMode:e="single"}=t,n=d4(t),[r,i]=x.useState(null),s=x.useMemo(()=>{var I;return t.defaultValue!==void 0?t.defaultValue:e==="single"?(I=t.defaultSelectedKey)!==null&&I!==void 0?I:null:[]},[t.defaultValue,t.defaultSelectedKey,e]),o=x.useMemo(()=>t.value!==void 0?t.value:e==="single"?t.selectedKey:void 0,[t.value,t.selectedKey,e]),[a,l]=al(o,s,t.onChange),u=e==="single"&&Array.isArray(a)?a[0]:a,c=I=>{if(e==="single"){var D,T;let M=Array.isArray(I)?(T=I[0])!==null&&T!==void 0?T:null:I;l(M),M!==u&&((D=t.onSelectionChange)===null||D===void 0||D.call(t,M))}else{let M=[];Array.isArray(I)?M=I:I!=null&&(M=[I]),l(M)}},d=S$({...t,selectionMode:e,disallowEmptySelection:e==="single",allowDuplicateSelectionEvents:!0,selectedKeys:x.useMemo(()=>yTe(u),[u]),onSelectionChange:I=>{if(I!=="all"){if(e==="single"){var D;let T=(D=I.values().next().value)!==null&&D!==void 0?D:null;c(T),n.close()}else c([...I]);m.commitValidation()}}}),f=d.selectionManager.firstSelectedKey,p=x.useMemo(()=>[...d.selectionManager.selectedKeys].map(I=>d.collection.getItem(I)).filter(I=>I!=null),[d.selectionManager.selectedKeys,d.collection]),m=cv({...t,value:Array.isArray(u)&&u.length===0?null:u}),[v,y]=x.useState(!1),[A]=x.useState(u);var C,E;return{...m,...d,...n,value:u,defaultValue:s??A,setValue:c,selectedKey:f,setSelectedKey:c,selectedItem:(C=p[0])!==null&&C!==void 0?C:null,selectedItems:p,defaultSelectedKey:(E=t.defaultSelectedKey)!==null&&E!==void 0?E:t.selectionMode==="single"?A:null,focusStrategy:r,open(I=null){(d.collection.size!==0||t.allowsEmptyCollection)&&(i(I),n.open())},toggle(I=null){(d.collection.size!==0||t.allowsEmptyCollection)&&(i(I),n.toggle())},isFocused:v,setFocused:y}}function yTe(t){if(t!==void 0)return t===null?[]:Array.isArray(t)?t:[t]}function vTe(t){var e,n;let r=pae({...t,onSelectionChange:t.onSelectionChange?l=>{var u;l!=null&&((u=t.onSelectionChange)===null||u===void 0||u.call(t,l))}:void 0,suppressTextValueWarning:!0,defaultSelectedKey:(n=(e=t.defaultSelectedKey)!==null&&e!==void 0?e:_9(t.collection,t.disabledKeys?new Set(t.disabledKeys):new Set))!==null&&n!==void 0?n:void 0}),{selectionManager:i,collection:s,selectedKey:o}=r,a=x.useRef(o);return x.useEffect(()=>{let l=o;t.selectedKey==null&&(i.isEmpty||l==null||!s.getItem(l))&&(l=_9(s,r.disabledKeys),l!=null&&i.setSelectedKeys([l])),(l!=null&&i.focusedKey==null||!i.isFocused&&l!==a.current)&&i.setFocusedKey(l),a.current=l}),{...r,isDisabled:t.isDisabled||!1}}function _9(t,e){let n=null;if(t){var r,i,s,o;for(n=t.getFirstKey();n!=null&&(e.has(n)||!((i=t.getItem(n))===null||i===void 0||(r=i.props)===null||r===void 0)&&r.isDisabled)&&n!==t.getLastKey();)n=t.getKeyAfter(n);n!=null&&(e.has(n)||!((o=t.getItem(n))===null||o===void 0||(s=o.props)===null||s===void 0)&&s.isDisabled)&&n===t.getLastKey()&&(n=t.getFirstKey())}return n}class bTe{*[Symbol.iterator](){yield*this.iterable}get size(){return this.keyMap.size}getKeys(){return this.keyMap.keys()}getKeyBefore(e){let n=this.keyMap.get(e);var r;return n&&(r=n.prevKey)!==null&&r!==void 0?r:null}getKeyAfter(e){let n=this.keyMap.get(e);var r;return n&&(r=n.nextKey)!==null&&r!==void 0?r:null}getFirstKey(){return this.firstKey}getLastKey(){return this.lastKey}getItem(e){var n;return(n=this.keyMap.get(e))!==null&&n!==void 0?n:null}at(e){const n=[...this.getKeys()];return this.getItem(n[e])}constructor(e,{expandedKeys:n}={}){this.keyMap=new Map,this.firstKey=null,this.lastKey=null,this.iterable=e,n=n||new Set;let r=a=>{if(this.keyMap.set(a.key,a),a.childNodes&&(a.type==="section"||n.has(a.key)))for(let l of a.childNodes)r(l)};for(let a of e)r(a);let i=null,s=0;for(let[a,l]of this.keyMap)i?(i.nextKey=a,l.prevKey=i.key):(this.firstKey=a,l.prevKey=void 0),l.type==="item"&&(l.index=s++),i=l,i.nextKey=void 0;var o;this.lastKey=(o=i?.key)!==null&&o!==void 0?o:null}}function xTe(t){let{onExpandedChange:e}=t,[n,r]=al(t.expandedKeys?new Set(t.expandedKeys):void 0,t.defaultExpandedKeys?new Set(t.defaultExpandedKeys):new Set,e),i=hae(t),s=x.useMemo(()=>t.disabledKeys?new Set(t.disabledKeys):new Set,[t.disabledKeys]),o=$ee(t,x.useCallback(l=>new bTe(l,{expandedKeys:n}),[n]),null);return x.useEffect(()=>{i.focusedKey!=null&&!o.getItem(i.focusedKey)&&i.setFocusedKey(null)},[o,i.focusedKey]),{collection:o,expandedKeys:n,disabledKeys:s,toggleKey:l=>{r(CTe(n,l))},setExpandedKeys:r,selectionManager:new PT(o,i)}}function CTe(t,e){let n=new Set(t);return n.has(e)?n.delete(e):n.add(e),n}const X0=x.createContext(null),fD=x.forwardRef(function(e,n){let r=x.useContext(X0);return r?.isInvalid?xe.createElement(ETe,{...e,ref:n}):null}),ETe=x.forwardRef((t,e)=>{let n=x.useContext(X0),r=cr(t,{global:!0}),i=Rr({...t,defaultClassName:"react-aria-FieldError",defaultChildren:n.validationErrors.length===0?void 0:n.validationErrors.join(" "),values:n});return i.children==null?null:xe.createElement(kE,{slot:"errorMessage",...r,...i,ref:e})}),lC=x.createContext(null),STe=x.createContext(null),l3=x.forwardRef(function(e,n){let{inputRef:r=null,...i}=e;[e,n]=Fi(i,n,SJ);let{validationBehavior:s}=Kp(lC)||{};var o,a;let l=(a=(o=e.validationBehavior)!==null&&o!==void 0?o:s)!==null&&a!==void 0?a:"native",u=x.useContext(STe),c=Hu(x.useMemo(()=>t4(r,e.inputRef!==void 0?e.inputRef:null),[r,e.inputRef])),{labelProps:d,inputProps:f,isSelected:p,isDisabled:m,isReadOnly:v,isPressed:y,isInvalid:A}=u?ABe({...Qp(e),value:e.value,children:typeof e.children=="function"?!0:e.children},u,c):Ane({...Qp(e),children:typeof e.children=="function"?!0:e.children,validationBehavior:l},MT(e),c),{isFocused:C,isFocusVisible:E,focusProps:I}=su(),D=m||v,{hoverProps:T,isHovered:M}=hh({...e,isDisabled:D}),P=Rr({...e,defaultClassName:"react-aria-Checkbox",values:{isSelected:p,isIndeterminate:e.isIndeterminate||!1,isPressed:y,isHovered:M,isFocused:C,isFocusVisible:E,isDisabled:m,isReadOnly:v,isInvalid:A,isRequired:e.isRequired||!1}}),k=cr(e,{global:!0});return delete k.id,delete k.onClick,xe.createElement("label",{...on(k,d,T,P),ref:n,slot:e.slot||void 0,"data-selected":p||void 0,"data-indeterminate":e.isIndeterminate||void 0,"data-pressed":y||void 0,"data-hovered":M||void 0,"data-focused":C||void 0,"data-focus-visible":E||void 0,"data-disabled":m||void 0,"data-readonly":v||void 0,"data-invalid":A||void 0,"data-required":e.isRequired||void 0},xe.createElement(ST,{elementType:"span"},xe.createElement("input",{...on(f,I),ref:c})),P.children)}),w$=x.createContext(null),RT=x.forwardRef(function(e,n){let{state:r,thumbProps:i,inputXRef:s,inputYRef:o,xInputProps:a,yInputProps:l,isDisabled:u=!1}=x.useContext(w$),{focusProps:c,isFocused:d,isFocusVisible:f}=su(),{hoverProps:p,isHovered:m}=hh(e),v=Rr({...e,defaultClassName:"react-aria-ColorThumb",defaultStyle:{...i.style,backgroundColor:r.getDisplayColor().toString()},values:{color:r.getDisplayColor(),isHovered:m,isDragging:r.isDragging,isFocused:d,isFocusVisible:f,isDisabled:u}}),y=cr(e,{global:!0});return delete y.id,xe.createElement("div",{...on(i,p,y),...v,ref:n,"data-hovered":m||void 0,"data-dragging":r.isDragging||void 0,"data-focused":d||void 0,"data-focus-visible":f||void 0,"data-disabled":u||void 0},xe.createElement("input",{ref:s,...a,...c}),l&&xe.createElement("input",{ref:o,...l,...c}),v.children)}),wTe=x.createContext(null),yae=x.forwardRef(function(e,n){[e,n]=Fi(e,n,wJ);let r=x.useRef(null),i=x.useRef(null),s=IBe(e),{colorAreaProps:o,xInputProps:a,yInputProps:l,thumbProps:u}=jBe({...e,inputXRef:r,inputYRef:i,containerRef:n},s),c=Rr({...e,defaultClassName:"react-aria-ColorArea",defaultStyle:o.style,values:{state:s,isDisabled:e.isDisabled||!1}}),d=cr(e,{global:!0});return delete d.id,xe.createElement("div",{ref:n,...on(d,o,c),slot:e.slot||void 0,"data-disabled":e.isDisabled||void 0},xe.createElement(ll,{values:[[wTe,s],[w$,{state:s,thumbProps:u,inputXRef:r,xInputProps:a,inputYRef:i,yInputProps:l,isDisabled:e.isDisabled}]]},c.children))}),aS=x.createContext({}),uC=x.createContext({});let _Te=t=>{let{onHoverStart:e,onHoverChange:n,onHoverEnd:r,...i}=t;return i};const Br=aC(function(e,n){[e,n]=Fi(e,n,uC);let{hoverProps:r,isHovered:i}=hh({...e,isDisabled:e.disabled}),{isFocused:s,isFocusVisible:o,focusProps:a}=su({isTextInput:!0,autoFocus:e.autoFocus}),l=!!e["aria-invalid"]&&e["aria-invalid"]!=="false",u=Rr({...e,values:{isHovered:i,isFocused:s,isFocusVisible:o,isDisabled:e.disabled||!1,isInvalid:l},defaultClassName:"react-aria-Input"});return xe.createElement("input",{...on(_Te(e),a,r),...u,ref:n,"data-focused":s||void 0,"data-disabled":e.disabled||void 0,"data-hovered":i||void 0,"data-focus-visible":o||void 0,"data-invalid":l||void 0})}),ITe=x.createContext(null),BTe=x.forwardRef(function(e,n){return[e,n]=Fi(e,n,_J),e.channel?xe.createElement(DTe,{...e,channel:e.channel,forwardedRef:n}):xe.createElement(TTe,{...e,forwardedRef:n})});function DTe(t){let{locale:e}=yo(),n=LBe({...t,locale:e}),r=x.useRef(null),[i,s]=um(!t["aria-label"]&&!t["aria-labelledby"]);var o;let{labelProps:a,inputProps:l,descriptionProps:u,errorMessageProps:c,...d}=YBe({...Qp(t),label:s,validationBehavior:(o=t.validationBehavior)!==null&&o!==void 0?o:"native"},n,r);return xe.createElement(xe.Fragment,null,vae(t,n,t.forwardedRef,l,r,a,i,u,c,d),t.name&&xe.createElement("input",{type:"hidden",name:t.name,form:t.form,value:isNaN(n.numberValue)?"":n.numberValue}))}function TTe(t){var e;let n=NBe({...t,validationBehavior:(e=t.validationBehavior)!==null&&e!==void 0?e:"native"}),r=x.useRef(null),[i,s]=um(!t["aria-label"]&&!t["aria-labelledby"]);var o;let{labelProps:a,inputProps:l,descriptionProps:u,errorMessageProps:c,...d}=GBe({...Qp(t),label:s,validationBehavior:(o=t.validationBehavior)!==null&&o!==void 0?o:"native"},n,r);return vae(t,n,t.forwardedRef,l,r,a,i,u,c,d)}function vae(t,e,n,r,i,s,o,a,l,u){let c=Rr({...t,values:{state:e,channel:t.channel||"hex",isDisabled:t.isDisabled||!1,isInvalid:u.isInvalid||!1},defaultClassName:"react-aria-ColorField"}),d=cr(t,{global:!0});return delete d.id,xe.createElement(ll,{values:[[ITe,e],[uC,{...r,ref:i}],[Wp,{...s,ref:o}],[aS,{role:"presentation",isInvalid:u.isInvalid,isDisabled:t.isDisabled||!1}],[Bf,{slots:{description:a,errorMessage:l}}],[X0,u]]},xe.createElement("div",{...d,...c,ref:n,slot:t.slot||void 0,"data-channel":t.channel||"hex","data-disabled":t.isDisabled||void 0,"data-invalid":u.isInvalid||void 0}))}const _$=x.createContext(null),MTe=x.forwardRef(function(e,n){[e,n]=Fi(e,n,_$);let{colorSwatchProps:r,color:i}=WBe(e),s=Rr({...e,defaultClassName:"react-aria-ColorSwatch",defaultStyle:r.style,values:{color:i}}),o=cr(e,{global:!0});return xe.createElement("div",{...on(o,r,s),slot:e.slot||void 0,ref:n})});var bae={};bae={colorSwatchPicker:" ",dropzoneLabel:"DropZone",selectPlaceholder:" ",tableResizer:"  "};var xae={};xae={colorSwatchPicker:" ",dropzoneLabel:"DropZone",selectPlaceholder:" ",tableResizer:""};var Cae={};Cae={colorSwatchPicker:"Vzorky barev",dropzoneLabel:"Msto pro petaen",selectPlaceholder:"Vyberte poloku",tableResizer:"Zmna velikosti"};var Eae={};Eae={colorSwatchPicker:"Farveprver",dropzoneLabel:"DropZone",selectPlaceholder:"Vlg et element",tableResizer:"Strrelsesndring"};var Sae={};Sae={colorSwatchPicker:"Farbfelder",dropzoneLabel:"Ablegebereich",selectPlaceholder:"Element whlen",tableResizer:"Grenanpassung"};var wae={};wae={colorSwatchPicker:" ",dropzoneLabel:"DropZone",selectPlaceholder:"  ",tableResizer:" "};var _ae={};_ae={selectPlaceholder:"Select an item",tableResizer:"Resizer",dropzoneLabel:"DropZone",colorSwatchPicker:"Color swatches"};var Iae={};Iae={colorSwatchPicker:"Muestras de colores",dropzoneLabel:"DropZone",selectPlaceholder:"Seleccionar un artculo",tableResizer:"Cambiador de tamao"};var Bae={};Bae={colorSwatchPicker:"Vrvinidised",dropzoneLabel:"DropZone",selectPlaceholder:"Valige ksus",tableResizer:"Suuruse muutja"};var Dae={};Dae={colorSwatchPicker:"Vrimallit",dropzoneLabel:"DropZone",selectPlaceholder:"Valitse kohde",tableResizer:"Koon muuttaja"};var Tae={};Tae={colorSwatchPicker:"chantillons de couleurs",dropzoneLabel:"DropZone",selectPlaceholder:"Slectionner un lment",tableResizer:"Redimensionneur"};var Mae={};Mae={colorSwatchPicker:" ",dropzoneLabel:"DropZone",selectPlaceholder:" ",tableResizer:" "};var kae={};kae={colorSwatchPicker:"Uzorci boja",dropzoneLabel:"Zona sputanja",selectPlaceholder:"Odaberite stavku",tableResizer:"Promjena veliine"};var Pae={};Pae={colorSwatchPicker:"Szntrak",dropzoneLabel:"DropZone",selectPlaceholder:"Vlasszon ki egy elemet",tableResizer:"tmretez"};var Rae={};Rae={colorSwatchPicker:"Campioni di colore",dropzoneLabel:"Zona di rilascio",selectPlaceholder:"Seleziona un elemento",tableResizer:"Ridimensionamento"};var Nae={};Nae={colorSwatchPicker:"",dropzoneLabel:"",selectPlaceholder:"",tableResizer:""};var Lae={};Lae={colorSwatchPicker:" ",dropzoneLabel:" ",selectPlaceholder:" ",tableResizer:" "};var Fae={};Fae={colorSwatchPicker:"Spalv pavyzdiai",dropzoneLabel:"DropZone",selectPlaceholder:"Pasirinkite element",tableResizer:"Dydio keitiklis"};var $ae={};$ae={colorSwatchPicker:"Krsu paraugi",dropzoneLabel:"DropZone",selectPlaceholder:"Izvlties vienumu",tableResizer:"Izmra maintjs"};var zae={};zae={colorSwatchPicker:"Fargekart",dropzoneLabel:"Droppsone",selectPlaceholder:"Velg et element",tableResizer:"Strrelsesendrer"};var Oae={};Oae={colorSwatchPicker:"kleurstalen",dropzoneLabel:"DropZone",selectPlaceholder:"Selecteer een item",tableResizer:"Resizer"};var jae={};jae={colorSwatchPicker:"Prbki kolorw",dropzoneLabel:"Strefa upuszczania",selectPlaceholder:"Wybierz element",tableResizer:"Zmiana rozmiaru"};var Qae={};Qae={colorSwatchPicker:"Amostras de cores",dropzoneLabel:"DropZone",selectPlaceholder:"Selecione um item",tableResizer:"Redimensionador"};var Uae={};Uae={colorSwatchPicker:"Amostras de cores",dropzoneLabel:"DropZone",selectPlaceholder:"Selecione um item",tableResizer:"Redimensionador"};var Hae={};Hae={colorSwatchPicker:"Specimene de culoare",dropzoneLabel:"Zon de plasare",selectPlaceholder:"Selectai un element",tableResizer:"Instrument de redimensionare"};var Vae={};Vae={colorSwatchPicker:" ",dropzoneLabel:"DropZone",selectPlaceholder:" ",tableResizer:"  "};var Gae={};Gae={colorSwatchPicker:"Vzorkovnky farieb",dropzoneLabel:"DropZone",selectPlaceholder:"Vyberte poloku",tableResizer:"Nstroj na zmenu vekosti"};var Kae={};Kae={colorSwatchPicker:"Barvne palete",dropzoneLabel:"DropZone",selectPlaceholder:"Izberite element",tableResizer:"Spreminjanje velikosti"};var Wae={};Wae={colorSwatchPicker:"Uzorci boje",dropzoneLabel:"DropZone",selectPlaceholder:"Izaberite stavku",tableResizer:"Promena veliine"};var qae={};qae={colorSwatchPicker:"Frgrutor",dropzoneLabel:"DropZone",selectPlaceholder:"Vlj en artikel",tableResizer:"Storleksndrare"};var Yae={};Yae={colorSwatchPicker:"Renk rnekleri",dropzoneLabel:"Brakma Blgesi",selectPlaceholder:"Bir e sein",tableResizer:"Yeniden boyutlandrc"};var Xae={};Xae={colorSwatchPicker:" ",dropzoneLabel:"DropZone",selectPlaceholder:" ",tableResizer:"  "};var Jae={};Jae={colorSwatchPicker:"",dropzoneLabel:"",selectPlaceholder:"",tableResizer:""};var Zae={};Zae={colorSwatchPicker:"",dropzoneLabel:"",selectPlaceholder:"",tableResizer:""};var I$={};I$={"ar-AE":bae,"bg-BG":xae,"cs-CZ":Cae,"da-DK":Eae,"de-DE":Sae,"el-GR":wae,"en-US":_ae,"es-ES":Iae,"et-EE":Bae,"fi-FI":Dae,"fr-FR":Tae,"he-IL":Mae,"hr-HR":kae,"hu-HU":Pae,"it-IT":Rae,"ja-JP":Nae,"ko-KR":Lae,"lt-LT":Fae,"lv-LV":$ae,"nb-NO":zae,"nl-NL":Oae,"pl-PL":jae,"pt-BR":Qae,"pt-PT":Uae,"ro-RO":Hae,"ru-RU":Vae,"sk-SK":Gae,"sl-SI":Kae,"sr-SP":Wae,"sv-SE":qae,"tr-TR":Yae,"uk-UA":Xae,"zh-CN":Jae,"zh-TW":Zae};const hv=x.createContext({}),B$=x.createContext(null),d8=x.forwardRef(function(e,n){let{render:r}=x.useContext(B$);return xe.createElement(xe.Fragment,null,r(e,n))});function D$(t,e){var n;let r=t?.renderDropIndicator,i=t==null||(n=t.isVirtualDragging)===null||n===void 0?void 0:n.call(t),s=x.useCallback(o=>{if(i||e?.isDropTarget(o))return r?r(o):xe.createElement(d8,{target:o})},[e?.target,i,r]);return t?.useDropIndicator?s:void 0}function ele(t,e,n){var r,i;let s=t.focusedKey,o=null;if(!(e==null||(r=e.isVirtualDragging)===null||r===void 0)&&r.call(e)&&(n==null||(i=n.target)===null||i===void 0?void 0:i.type)==="item"&&(o=n.target.key,n.target.dropPosition==="after")){let d=n.collection.getKeyAfter(o),f=null;if(d!=null){var a,l;let p=(l=(a=n.collection.getItem(o))===null||a===void 0?void 0:a.level)!==null&&l!==void 0?l:0;for(;d;){let m=n.collection.getItem(d);if(!m)break;if(m.type!=="item"){d=n.collection.getKeyAfter(d);continue}var u;if(((u=m.level)!==null&&u!==void 0?u:0)<=p)break;f=d,d=n.collection.getKeyAfter(d)}}var c;o=(c=d??f)!==null&&c!==void 0?c:o}return x.useMemo(()=>new Set([s,o].filter(d=>d!=null)),[s,o])}const kTe=x.createContext({}),tle=x.createContext(null);function h4(t){let e=x.useRef({});return xe.createElement(tle.Provider,{value:e},t.children)}const PTe=x.forwardRef(function(e,n){let{name:r,isVisible:i=!0,children:s,className:o,style:a,...l}=e,[u,c]=x.useState(i?"visible":"hidden"),d=x.useContext(tle);if(!d)throw new Error("<SharedElement> must be rendered inside a <SharedElementTransition>");i&&u==="hidden"&&c("visible"),n=Hu(n),di(()=>{let p=n.current,m=d.current,v=m[r],y=null;if(p&&i&&v){c("visible");let A=p.getAnimations(),C=v.style.map(([E,I])=>{let D=p.style[E];if(E==="translate"){let T=v.rect,M=p.getBoundingClientRect(),P=T.left-M?.left,k=T.top-M?.top;p.style.translate=`${P}px ${k}px`}else p.style[E]=I;return[E,D]});for(let E of p.getAnimations())A.includes(E)||E.cancel();y=requestAnimationFrame(()=>{y=null;for(let[E,I]of C)p.style[E]=I}),delete m[r]}else p&&i&&!v?(queueMicrotask(()=>Xy.flushSync(()=>c("entering"))),y=requestAnimationFrame(()=>{y=null,c("visible")})):p&&!i&&queueMicrotask(()=>{m[r]?(delete m[r],Xy.flushSync(()=>c("exiting")),Promise.all(p.getAnimations().map(A=>A.finished)).then(()=>c("hidden")).catch(()=>{})):c("hidden")});return()=>{if(y!=null&&cancelAnimationFrame(y),p&&p.isConnected&&!p.hasAttribute("data-exiting")){let A=window.getComputedStyle(p);if(A.transitionProperty!=="none"){let C=A.transitionProperty.split(/\s*,\s*/);m[r]={rect:p.getBoundingClientRect(),style:C.map(E=>[E,A[E]])}}}}},[n,d,r,i]);let f=Rr({children:s,className:o,style:a,values:{isEntering:u==="entering",isExiting:u==="exiting"}});return u==="hidden"?null:xe.createElement("div",{...l,...f,ref:n,"data-entering":u==="entering"||void 0,"data-exiting":u==="exiting"||void 0})}),lS=x.createContext({isSelected:!1}),RTe=x.forwardRef(function(e,n){[e,n]=Fi(e,n,lS);let{isSelected:r,...i}=e;return xe.createElement(PTe,{...i,ref:n,className:e.className||"react-aria-SelectionIndicator",name:"SelectionIndicator",isVisible:r})}),NTe=x.createContext({});class LTe extends q0{filter(e,n){let r=n.getItem(this.prevKey);if(r&&r.type!=="separator"){let i=this.clone();return n.addDescendants(i,e),i}return null}}LTe.type="separator";const f4=x.createContext(null),cC=x.createContext(null),Ui=x.forwardRef(function(e,n){[e,n]=Fi(e,n,f4);let r=x.useContext(cC);return r?xe.createElement(nle,{state:r,props:e,listBoxRef:n}):xe.createElement(l4,{content:xe.createElement(TT,e)},i=>xe.createElement(FTe,{props:e,listBoxRef:n,collection:i}))});function FTe({props:t,listBoxRef:e,collection:n}){t={...t,collection:n,children:null,items:null};let{layoutDelegate:r}=x.useContext(dv),i=S$({...t,layoutDelegate:r});return xe.createElement(nle,{state:i,props:t,listBoxRef:e})}function nle({state:t,props:e,listBoxRef:n}){[e,n]=Fi(e,n,d4e);let{dragAndDropHooks:r,layout:i="stack",orientation:s="vertical",filter:o}=e,a=sTe(t,o),{collection:l,selectionManager:u}=a,c=!!r?.useDraggableCollectionState,d=!!r?.useDroppableCollectionState,{direction:f}=yo(),{disabledBehavior:p,disabledKeys:m}=u,v=s4({usage:"search",sensitivity:"base"}),{isVirtualized:y,layoutDelegate:A,dropTargetDelegate:C,CollectionRoot:E}=x.useContext(dv),I=x.useMemo(()=>e.keyboardDelegate||new o4({collection:l,collator:v,ref:n,disabledKeys:m,disabledBehavior:p,layout:i,orientation:s,direction:f,layoutDelegate:A}),[l,v,n,p,m,s,f,e.keyboardDelegate,i,A]),{listBoxProps:D}=TIe({...e,shouldSelectOnPressUp:c||e.shouldSelectOnPressUp,keyboardDelegate:I,isVirtualized:y},a,n);x.useRef(c),x.useRef(d),x.useEffect(()=>{},[c,d]);let T,M,P,k=!1,L=null,$=x.useRef(null);if(c&&r){T=r.useDraggableCollectionState({collection:l,selectionManager:u,preview:r.renderDragPreview?$:void 0}),r.useDraggableCollection({},T,n);let te=r.DragPreview;L=r.renderDragPreview?xe.createElement(te,{ref:$},r.renderDragPreview):null}if(d&&r){M=r.useDroppableCollectionState({collection:l,selectionManager:u});let te=r.dropTargetDelegate||C||new r.ListDropTargetDelegate(l,n,{orientation:s,layout:i,direction:f});P=r.useDroppableCollection({keyboardDelegate:I,dropTargetDelegate:te},M,n),k=M.isDropTarget({type:"root"})}let{focusProps:z,isFocused:j,isFocusVisible:H}=su(),W=a.collection.size===0,O={isDropTarget:k,isEmpty:W,isFocused:j,isFocusVisible:H,layout:e.layout||"stack",state:a},G=Rr({className:e.className,style:e.style,defaultClassName:"react-aria-ListBox",values:O}),q=null;W&&e.renderEmptyState&&(q=xe.createElement("div",{role:"option",style:{display:"contents"}},e.renderEmptyState(O)));let J=cr(e,{global:!0});return xe.createElement(ET,null,xe.createElement("div",{...on(J,G,D,z,P?.collectionProps),ref:n,slot:e.slot||void 0,onScroll:e.onScroll,"data-drop-target":k||void 0,"data-empty":W||void 0,"data-focused":j||void 0,"data-focus-visible":H||void 0,"data-layout":e.layout||"stack","data-orientation":e.orientation||"vertical"},xe.createElement(ll,{values:[[f4,e],[cC,a],[hv,{dragAndDropHooks:r,dragState:T,dropState:M}],[NTe,{elementType:"div"}],[B$,{render:zTe}],[uBe,{name:"ListBoxSection",render:$Te}]]},xe.createElement(h4,null,xe.createElement(E,{collection:l,scrollRef:n,persistedKeys:ele(u,r,M),renderDropIndicator:D$(r,M)}))),q,L))}function $Te(t,e,n,r="react-aria-ListBoxSection"){let i=x.useContext(cC),{dragAndDropHooks:s,dropState:o}=x.useContext(hv),{CollectionBranch:a}=x.useContext(dv),[l,u]=um();var c;let{headingProps:d,groupProps:f}=LIe({heading:u,"aria-label":(c=t["aria-label"])!==null&&c!==void 0?c:void 0}),p=Rr({defaultClassName:r,className:t.className,style:t.style,values:{}}),m=cr(t,{global:!0});return delete m.id,xe.createElement("section",{...on(m,p,f),ref:e},xe.createElement(kTe.Provider,{value:{...d,ref:l}},xe.createElement(a,{collection:i.collection,parent:n,renderDropIndicator:D$(s,o)})))}const tr=u4(ane,function(e,n,r){let i=Hu(n),s=x.useContext(cC),{dragAndDropHooks:o,dragState:a,dropState:l}=x.useContext(hv),{optionProps:u,labelProps:c,descriptionProps:d,...f}=NIe({key:r.key,"aria-label":e?.["aria-label"]},s,i),{hoverProps:p,isHovered:m}=hh({isDisabled:!f.allowsSelection&&!f.hasAction,onHoverStart:r.props.onHoverStart,onHoverChange:r.props.onHoverChange,onHoverEnd:r.props.onHoverEnd}),{focusProps:v}=ME(e),y=null;a&&o&&(y=o.useDraggableItem({key:r.key,hasAction:f.hasAction},a));let A=null;l&&o&&(A=o.useDroppableItem({target:{type:"item",key:r.key,dropPosition:"on"}},l,i));let C=a&&a.isDragging(r.key),E=Rr({...e,id:void 0,children:e.children,defaultClassName:"react-aria-ListBoxItem",values:{...f,isHovered:m,selectionMode:s.selectionManager.selectionMode,selectionBehavior:s.selectionManager.selectionBehavior,allowsDragging:!!a,isDragging:C,isDropTarget:A?.isDropTarget}});x.useEffect(()=>{r.textValue},[r.textValue]);let I=e.href?"a":"div",D=cr(e,{global:!0});return delete D.id,delete D.onClick,I==="a"&&u.tabIndex==null&&(u.tabIndex=-1),xe.createElement(I,{...on(D,E,u,p,v,y?.dragProps,A?.dropProps),ref:i,"data-allows-dragging":!!a||void 0,"data-selected":f.isSelected||void 0,"data-disabled":f.isDisabled||void 0,"data-hovered":m||void 0,"data-focused":f.isFocused||void 0,"data-focus-visible":f.isFocusVisible||void 0,"data-pressed":f.isPressed||void 0,"data-dragging":C||void 0,"data-drop-target":A?.isDropTarget||void 0,"data-selection-mode":s.selectionManager.selectionMode==="none"?void 0:s.selectionManager.selectionMode},xe.createElement(ll,{values:[[Bf,{slots:{[t3]:c,label:c,description:d}}],[lS,{isSelected:f.isSelected}]]},E.children))});function zTe(t,e){e=Hu(e);let{dragAndDropHooks:n,dropState:r}=x.useContext(hv),{dropIndicatorProps:i,isHidden:s,isDropTarget:o}=n.useDropIndicator(t,r,e);return s?null:xe.createElement(jTe,{...t,dropIndicatorProps:i,isDropTarget:o,ref:e})}function OTe(t,e){let{dropIndicatorProps:n,isDropTarget:r,...i}=t,s=Rr({...i,defaultClassName:"react-aria-DropIndicator",values:{isDropTarget:r}});return xe.createElement("div",{...n,...s,role:"option",ref:e,"data-drop-target":r||void 0})}const jTe=x.forwardRef(OTe);u4(f$,function(e,n,r){let i=x.useContext(cC),{isLoading:s,onLoadMore:o,scrollOffset:a,...l}=e,u=x.useRef(null),c=x.useMemo(()=>({onLoadMore:o,collection:i?.collection,sentinelRef:u,scrollOffset:a}),[o,a,i?.collection]);$J(c,u);let d=Rr({...l,id:void 0,children:r.rendered,defaultClassName:"react-aria-ListBoxLoadingIndicator",values:null}),f={tabIndex:-1};return xe.createElement(xe.Fragment,null,xe.createElement("div",{style:{position:"relative",width:0,height:0},inert:XB(!0)},xe.createElement("div",{"data-testid":"loadMoreSentinel",ref:u,style:{position:"absolute",height:1,width:1}})),s&&d.children&&xe.createElement("div",{...on(cr(e,{global:!0}),f),...d,role:"option",ref:n},d.children))});function QTe(t){return t&&t.__esModule?t.default:t}const rle=x.createContext(null),ile=x.createContext(null),UTe=x.forwardRef(function(e,n){[e,n]=Fi(e,n,rle);let r=Lre(e),i=x.useMemo(()=>new Map,[]),s=Rl(QTe(I$),"react-aria-components");return xe.createElement(Ui,{...cr(e,{labelable:!0}),ref:n,className:e.className||"react-aria-ColorSwatchPicker",style:e.style,"aria-label":e["aria-label"]||(e["aria-labelledby"]?void 0:s.format("colorSwatchPicker")),layout:e.layout||"grid",selectionMode:"single",selectedKeys:[r.color.toString("hexa")],onSelectionChange:o=>{o!=="all"&&r.setColor(i.get([...o][0]))},disallowEmptySelection:!0},xe.createElement(ile.Provider,{value:i},e.children))}),HTe=x.forwardRef(function(e,n){let r=e.color||"#0000",i=x.useMemo(()=>typeof r=="string"?md(r):r,[r]),{locale:s}=yo(),o=x.useContext(ile);x.useEffect(()=>{let l=i.toString("hexa");return o.set(l,i),()=>{o.delete(l)}},[i,o]);let a=l=>typeof l=="function"?u=>l({...u,color:i}):l;return xe.createElement(tr,{...e,ref:n,id:i.toString("hexa"),textValue:i.getColorName(s),className:a(e.className||"react-aria-ColorSwatchPickerItem"),style:a(e.style)},lv(a(e.children),l=>xe.createElement(_$.Provider,{value:{color:i}},l)))}),VTe=x.createContext(null),GTe=x.createContext(null);function KTe(t){let e=Kp(VTe,t.slot);t=on(e,t);let n=Lre(t),r=Rr({...t,values:{color:n.color}});return xe.createElement(ll,{values:[[GTe,n],[IJ,{value:n.color,onChange:n.setColor}],[wJ,{value:n.color,onChange:n.setColor}],[u4e,{value:n.color,onChange:n.setColor}],[_J,{value:n.color,onChange:n.setColor}],[_$,{color:n.color}],[rle,{value:n.color,onChange:n.setColor}]]},r.children)}const sle=x.createContext(null),ole=x.createContext(null),WTe=x.createContext(null),ale=x.forwardRef(function(e,n){[e,n]=Fi(e,n,ole);let r=x.useContext(sle),{onHoverStart:i,onHoverEnd:s,onHoverChange:o,...a}=e,{hoverProps:l,isHovered:u}=hh({onHoverStart:i,onHoverEnd:s,onHoverChange:o}),c=Rr({...e,defaultClassName:"react-aria-SliderTrack",values:{orientation:r.orientation,isDisabled:r.isDisabled,isHovered:u,state:r}});return xe.createElement("div",{...on(a,l),...c,ref:n,"data-hovered":u||void 0,"data-orientation":r.orientation||void 0,"data-disabled":r.isDisabled||void 0})}),qTe=x.createContext(null),lle=x.forwardRef(function(e,n){[e,n]=Fi(e,n,IJ);let{locale:r}=yo(),i=kBe({...e,locale:r}),s=xe.useRef(null),o=xe.useRef(null),[a,l]=um(!e["aria-label"]&&!e["aria-labelledby"]),{trackProps:u,thumbProps:c,inputProps:d,labelProps:f,outputProps:p}=HBe({...e,label:l,trackRef:s,inputRef:o},i),m=Rr({...e,values:{orientation:i.orientation,isDisabled:i.isDisabled,state:i},defaultClassName:"react-aria-ColorSlider"}),v=cr(e,{global:!0});return delete v.id,xe.createElement(ll,{values:[[qTe,i],[sle,i],[ole,{...u,ref:s}],[WTe,p],[Wp,{...f,ref:a,children:i.value.getChannelName(e.channel,r)}],[w$,{state:i,thumbProps:c,inputXRef:o,xInputProps:d,isDisabled:e.isDisabled}]]},xe.createElement("div",{...v,...m,ref:n,slot:e.slot||void 0,"data-orientation":i.orientation,"data-disabled":i.isDisabled||void 0}))}),ule=x.createContext({placement:"bottom"}),YTe=x.forwardRef(function(e,n){[e,n]=Fi(e,n,ule);let r=e.placement,i={position:"absolute",transform:r==="top"||r==="bottom"?"translateX(-50%)":"translateY(-50%)"};r!=null&&(i[r]="100%");let s=Rr({...e,defaultClassName:"react-aria-OverlayArrow",values:{placement:r}});s.style&&Object.keys(s.style).forEach(a=>s.style[a]===void 0&&delete s.style[a]);let o=cr(e);return xe.createElement("div",{...o,...s,style:{...i,...s.style},ref:n,"data-placement":r})}),NT=x.createContext(null),I9=x.createContext(null),Ss=x.forwardRef(function(e,n){[e,n]=Fi(e,n,NT);let r=x.useContext(fv),i=d4(e),s=e.isOpen!=null||e.defaultOpen!=null||!r?i:r,o=JB(n,s.isOpen)||e.isExiting||!1,a=ZIe(),{direction:l}=yo();if(a){let u=e.children;return typeof u=="function"&&(u=u({trigger:e.trigger||null,placement:"bottom",isEntering:!1,isExiting:!1,defaultChildren:null})),xe.createElement(xe.Fragment,null,u)}return s&&!s.isOpen&&!o?null:xe.createElement(XTe,{...e,triggerRef:e.triggerRef,state:s,popoverRef:n,isExiting:o,dir:l})});function XTe({state:t,isExiting:e,UNSTABLE_portalContainer:n,clearContexts:r,...i}){let s=x.useRef(null),o=x.useRef(null),a=x.useContext(I9),l=a&&i.trigger==="SubmenuTrigger";var u;let{popoverProps:c,underlayProps:d,arrowProps:f,placement:p,triggerAnchorPoint:m}=EIe({...i,offset:(u=i.offset)!==null&&u!==void 0?u:8,arrowRef:s,groupRef:l?a:o},t),v=i.popoverRef,y=bT(v,!!p)||i.isEntering||!1,A=Rr({...i,defaultClassName:"react-aria-Popover",values:{trigger:i.trigger||null,placement:p,isEntering:y,isExiting:e}}),C=!i.isNonModal||i.trigger==="SubmenuTrigger",[E,I]=x.useState(!1);di(()=>{v.current&&I(C&&!v.current.querySelector("[role=dialog]"))},[v,C]),x.useEffect(()=>{E&&i.trigger!=="SubmenuTrigger"&&v.current&&!v.current.contains(document.activeElement)&&vc(v.current)},[E,v,i.trigger]);let D=x.useMemo(()=>{let k=A.children;if(r)for(let L of r)k=xe.createElement(L.Provider,{value:null},k);return k},[A.children,r]),T={...c.style,"--trigger-anchor-point":m?`${m.x}px ${m.y}px`:void 0,...A.style},M=xe.createElement("div",{...on(cr(i,{global:!0}),c),...A,role:E?"dialog":void 0,tabIndex:E?-1:void 0,"aria-label":i["aria-label"],"aria-labelledby":i["aria-labelledby"],ref:v,slot:i.slot||void 0,style:T,dir:i.dir,"data-trigger":i.trigger,"data-placement":p,"data-entering":y||void 0,"data-exiting":e||void 0},!i.isNonModal&&xe.createElement(Z6,{onDismiss:t.close}),xe.createElement(ule.Provider,{value:{...f,placement:p,ref:s}},D),xe.createElement(Z6,{onDismiss:t.close}));if(!l)return xe.createElement(e8,{...i,shouldContainFocus:E,isExiting:e,portalContainer:n},!i.isNonModal&&t.isOpen&&xe.createElement("div",{"data-testid":"underlay",...d,style:{position:"fixed",inset:0}}),xe.createElement("div",{ref:o,style:{display:"contents"}},xe.createElement(I9.Provider,{value:o},M)));var P;return xe.createElement(e8,{...i,shouldContainFocus:E,isExiting:e,portalContainer:(P=n??a?.current)!==null&&P!==void 0?P:void 0},M)}const JTe=x.createContext(null);class ZTe extends q0{filter(e,n,r){let i=e.getItem(this.firstChildKey);if(i&&r(i.textValue,this)){let s=this.clone();return n.addDescendants(s,e),s}return null}}ZTe.type="submenutrigger";const cle=x.createContext(null),fv=x.createContext(null);function u3(t){let e=hTe(t),n=x.useRef(null),{triggerProps:r,overlayProps:i}=qZ({type:"dialog"},e,n),[s,o]=x.useState(null),a=x.useCallback(()=>{n.current&&o(n.current.offsetWidth+"px")},[n]);return e3({ref:n,onResize:a}),r.id=Us(),i["aria-labelledby"]=r.id,xe.createElement(ll,{values:[[fv,e],[JTe,e],[cle,i],[NT,{trigger:"DialogTrigger",triggerRef:n,"aria-labelledby":i["aria-labelledby"],style:{"--trigger-width":s}}]]},xe.createElement(eIe,{...r,ref:n,isPressed:e.isOpen},t.children))}const dle=x.forwardRef(function(e,n){let r=e["aria-labelledby"];[e,n]=Fi(e,n,cle);let{dialogProps:i,titleProps:s}=XBe({...e,"aria-labelledby":r},n),o=x.useContext(fv);!i["aria-label"]&&!i["aria-labelledby"]&&e["aria-labelledby"]&&(i["aria-labelledby"]=e["aria-labelledby"]);let a=Rr({defaultClassName:"react-aria-Dialog",className:e.className,style:e.style,children:e.children,values:{close:o?.close||(()=>{})}}),l=cr(e,{global:!0});return xe.createElement("section",{...on(l,a,i),ref:n,slot:e.slot||void 0},xe.createElement(ll,{values:[[c4e,{slots:{[t3]:{},title:{...s,level:2}}}],[Y0,{slots:{[t3]:{},close:{onPress:()=>o?.close()}}}]]},a.children))}),eMe=x.createContext(null),tMe=x.createContext(null),T$=x.forwardRef(function(e,n){[e,n]=Fi(e,n,eMe);let{children:r,isDisabled:i=!1,isInvalid:s=!1,isRequired:o=!1}=e,a=x.useMemo(()=>{var l;return xe.createElement(f4.Provider,{value:{items:(l=e.items)!==null&&l!==void 0?l:e.defaultItems}},typeof r=="function"?r({isOpen:!1,isDisabled:i,isInvalid:s,isRequired:o,defaultChildren:null}):r)},[r,i,s,o,e.items,e.defaultItems]);return xe.createElement(l4,{content:a},l=>xe.createElement(rMe,{props:e,collection:l,comboBoxRef:n}))}),nMe=[Wp,Y0,uC,aS,Bf];function rMe({props:t,collection:e,comboBoxRef:n}){let{name:r,formValue:i="key",allowsCustomValue:s}=t;s&&(i="text");let{validationBehavior:o}=Kp(lC)||{};var a,l;let u=(l=(a=t.validationBehavior)!==null&&a!==void 0?a:o)!==null&&l!==void 0?l:"native",{contains:c}=L2e({sensitivity:"base"}),d=oTe({defaultFilter:t.defaultFilter||c,...t,items:t.items,children:void 0,collection:e,validationBehavior:u}),f=x.useRef(null),p=x.useRef(null),m=x.useRef(null),v=x.useRef(null),[y,A]=um(!t["aria-label"]&&!t["aria-labelledby"]),{buttonProps:C,inputProps:E,listBoxProps:I,labelProps:D,descriptionProps:T,errorMessageProps:M,...P}=VIe({...Qp(t),label:A,inputRef:p,buttonRef:f,listBoxRef:m,popoverRef:v,name:i==="text"?r:void 0,validationBehavior:u},d),[k,L]=x.useState(null),$=x.useCallback(()=>{if(p.current){var O;let G=(O=f.current)===null||O===void 0?void 0:O.getBoundingClientRect(),q=p.current.getBoundingClientRect(),J=G?Math.min(G.left,q.left):q.left,te=G?Math.max(G.right,q.right):q.right;L(te-J+"px")}},[f,p,L]);e3({ref:p,onResize:$});let z=x.useMemo(()=>({isOpen:d.isOpen,isDisabled:t.isDisabled||!1,isInvalid:P.isInvalid||!1,isRequired:t.isRequired||!1}),[d.isOpen,t.isDisabled,P.isInvalid,t.isRequired]),j=Rr({...t,values:z,defaultClassName:"react-aria-ComboBox"}),H=cr(t,{global:!0});delete H.id;var W;return xe.createElement(ll,{values:[[tMe,d],[Wp,{...D,ref:y}],[Y0,{...C,ref:f,isPressed:d.isOpen}],[uC,{...E,ref:p}],[fv,d],[NT,{ref:v,triggerRef:p,scrollRef:m,placement:"bottom start",isNonModal:!0,trigger:"ComboBox",style:{"--trigger-width":k},clearContexts:nMe}],[f4,{...I,ref:m}],[cC,d],[Bf,{slots:{description:T,errorMessage:M}}],[aS,{isInvalid:P.isInvalid,isDisabled:t.isDisabled||!1}],[X0,P]]},xe.createElement("div",{...H,...j,ref:n,slot:t.slot||void 0,"data-focused":d.isFocused||void 0,"data-open":d.isOpen||void 0,"data-disabled":t.isDisabled||void 0,"data-invalid":P.isInvalid||void 0,"data-required":t.isRequired||void 0}),r&&i==="key"&&xe.createElement("input",{type:"hidden",name:r,form:t.form,value:(W=d.selectedKey)!==null&&W!==void 0?W:""}))}const iMe=x.createContext(null),M$=x.createContext(null),sMe=x.forwardRef(function(e,n){if(x.useContext(M$))return xe.createElement(B9,{...e,modalRef:n},e.children);let{isDismissable:i,isKeyboardDismissDisabled:s,isOpen:o,defaultOpen:a,onOpenChange:l,children:u,isEntering:c,isExiting:d,UNSTABLE_portalContainer:f,shouldCloseOnInteractOutside:p,...m}=e;return xe.createElement(hle,{isDismissable:i,isKeyboardDismissDisabled:s,isOpen:o,defaultOpen:a,onOpenChange:l,isEntering:c,isExiting:d,UNSTABLE_portalContainer:f,shouldCloseOnInteractOutside:p},xe.createElement(B9,{...m,modalRef:n},u))});function oMe(t,e){[t,e]=Fi(t,e,iMe);let n=x.useContext(fv),r=d4(t),i=t.isOpen!=null||t.defaultOpen!=null||!n?r:n,s=Hu(e),o=x.useRef(null),a=JB(s,i.isOpen),l=JB(o,i.isOpen),u=a||l||t.isExiting||!1,c=ov();return!i.isOpen&&!u||c?null:xe.createElement(aMe,{...t,state:i,isExiting:u,overlayRef:s,modalRef:o})}const hle=x.forwardRef(oMe);function aMe({UNSTABLE_portalContainer:t,...e}){let n=e.modalRef,{state:r}=e,{modalProps:i,underlayProps:s}=SIe(e,r,n),o=bT(e.overlayRef)||e.isEntering||!1,a=Rr({...e,defaultClassName:"react-aria-ModalOverlay",values:{isEntering:o,isExiting:e.isExiting,state:r}}),l=K4e(),u;if(typeof document<"u"){let d=Zy(document.body)?document.body:document.scrollingElement||document.documentElement,f=d.getBoundingClientRect().height%1;u=d.scrollHeight-f}let c={...a.style,"--visual-viewport-height":l.height+"px","--page-height":u!==void 0?u+"px":void 0};return xe.createElement(e8,{isExiting:e.isExiting,portalContainer:t},xe.createElement("div",{...on(cr(e,{global:!0}),s),...a,style:c,ref:e.overlayRef,"data-entering":o||void 0,"data-exiting":e.isExiting||void 0},xe.createElement(ll,{values:[[M$,{modalProps:i,modalRef:n,isExiting:e.isExiting,isDismissable:e.isDismissable}],[fv,r]]},a.children)))}function B9(t){let{modalProps:e,modalRef:n,isExiting:r,isDismissable:i}=x.useContext(M$),s=x.useContext(fv),o=x.useMemo(()=>t4(t.modalRef,n),[t.modalRef,n]),a=Hu(o),l=bT(a),u=Rr({...t,defaultClassName:"react-aria-Modal",values:{isEntering:l,isExiting:r,state:s}});return xe.createElement("div",{...on(cr(t,{global:!0}),e),...u,ref:a,"data-entering":l||void 0,"data-exiting":r||void 0},i&&xe.createElement(Z6,{onDismiss:s.close}),u.children)}const lMe=x.createContext(null),uMe=x.createContext(null),cMe=x.forwardRef(function(e,n){[e,n]=Fi(e,n,lMe);let{validationBehavior:r}=Kp(lC)||{};var i,s;let o=(s=(i=e.validationBehavior)!==null&&i!==void 0?i:r)!==null&&s!==void 0?s:"native",{locale:a}=yo(),l=Nre({...e,locale:a,validationBehavior:o}),u=x.useRef(null),[c,d]=um(!e["aria-label"]&&!e["aria-labelledby"]),{labelProps:f,groupProps:p,inputProps:m,incrementButtonProps:v,decrementButtonProps:y,descriptionProps:A,errorMessageProps:C,...E}=nse({...Qp(e),label:d,validationBehavior:o},l,u),I=Rr({...e,values:{state:l,isDisabled:e.isDisabled||!1,isInvalid:E.isInvalid||!1,isRequired:e.isRequired||!1},defaultClassName:"react-aria-NumberField"}),D=cr(e,{global:!0});return delete D.id,xe.createElement(ll,{values:[[uMe,l],[aS,p],[uC,{...m,ref:u}],[Wp,{...f,ref:c}],[Y0,{slots:{increment:v,decrement:y}}],[Bf,{slots:{description:A,errorMessage:C}}],[X0,E]]},xe.createElement("div",{...D,...I,ref:n,slot:e.slot||void 0,"data-disabled":e.isDisabled||void 0,"data-required":e.isRequired||void 0,"data-invalid":E.isInvalid||void 0}),e.name&&xe.createElement("input",{type:"hidden",name:e.name,form:e.form,value:isNaN(l.numberValue)?"":l.numberValue,disabled:e.isDisabled||void 0}))}),dMe=x.createContext(null),hMe=x.createContext(null),fle=x.createContext(null),fMe=x.forwardRef(function(e,n){[e,n]=Fi(e,n,dMe);let{validationBehavior:r}=Kp(lC)||{};var i,s;let o=(s=(i=e.validationBehavior)!==null&&i!==void 0?i:r)!==null&&s!==void 0?s:"native",a=gTe({...e,validationBehavior:o}),[l,u]=um(!e["aria-label"]&&!e["aria-labelledby"]),{radioGroupProps:c,labelProps:d,descriptionProps:f,errorMessageProps:p,...m}=VDe({...e,label:u,validationBehavior:o},a),v=Rr({...e,values:{orientation:e.orientation||"vertical",isDisabled:a.isDisabled,isReadOnly:a.isReadOnly,isRequired:a.isRequired,isInvalid:a.isInvalid,state:a},defaultClassName:"react-aria-RadioGroup"}),y=cr(e,{global:!0});return xe.createElement("div",{...on(y,v,c),ref:n,slot:e.slot||void 0,"data-orientation":e.orientation||"vertical","data-invalid":a.isInvalid||void 0,"data-disabled":a.isDisabled||void 0,"data-readonly":a.isReadOnly||void 0,"data-required":a.isRequired||void 0},xe.createElement(ll,{values:[[fle,a],[Wp,{...d,ref:l,elementType:"span"}],[Bf,{slots:{description:f,errorMessage:p}}],[X0,m]]},xe.createElement(h4,null,v.children)))}),yk=x.forwardRef(function(e,n){let{inputRef:r=null,...i}=e;[e,n]=Fi(i,n,hMe);let s=xe.useContext(fle),o=Hu(x.useMemo(()=>t4(r,e.inputRef!==void 0?e.inputRef:null),[r,e.inputRef])),{labelProps:a,inputProps:l,isSelected:u,isDisabled:c,isPressed:d}=HDe({...Qp(e),children:typeof e.children=="function"?!0:e.children},s,o),{isFocused:f,isFocusVisible:p,focusProps:m}=su(),v=c||s.isReadOnly,{hoverProps:y,isHovered:A}=hh({...e,isDisabled:v}),C=Rr({...e,defaultClassName:"react-aria-Radio",values:{isSelected:u,isPressed:d,isHovered:A,isFocused:f,isFocusVisible:p,isDisabled:c,isReadOnly:s.isReadOnly,isInvalid:s.isInvalid,isRequired:s.isRequired}}),E=cr(e,{global:!0});return delete E.id,delete E.onClick,xe.createElement("label",{...on(E,a,y,C),ref:n,"data-selected":u||void 0,"data-pressed":d||void 0,"data-hovered":A||void 0,"data-focused":f||void 0,"data-focus-visible":p||void 0,"data-disabled":c||void 0,"data-readonly":s.isReadOnly||void 0,"data-invalid":s.isInvalid||void 0,"data-required":s.isRequired||void 0},xe.createElement(ST,{elementType:"span"},xe.createElement("input",{...on(l,m),ref:o})),xe.createElement(lS.Provider,{value:{isSelected:u}},C.children))}),pMe=x.createContext(null),gMe=aC(function(e,n){[e,n]=Fi(e,n,pMe);let{validationBehavior:r}=Kp(lC)||{};var i,s;let o=(s=(i=e.validationBehavior)!==null&&i!==void 0?i:r)!==null&&s!==void 0?s:"native",a=x.useRef(null);[e,a]=Fi(e,a,BJ);let[l,u]=um(!e["aria-label"]&&!e["aria-labelledby"]),c=mTe({...e,validationBehavior:o}),{labelProps:d,inputProps:f,clearButtonProps:p,descriptionProps:m,errorMessageProps:v,...y}=KIe({...Qp(e),label:u,validationBehavior:o},c,a),A=Rr({...e,values:{isEmpty:c.value==="",isDisabled:e.isDisabled||!1,isInvalid:y.isInvalid||!1,isReadOnly:e.isReadOnly||!1,isRequired:e.isRequired||!1,state:c},defaultClassName:"react-aria-SearchField"}),C=cr(e,{global:!0});return delete C.id,xe.createElement("div",{...C,...A,ref:n,slot:e.slot||void 0,"data-empty":c.value===""||void 0,"data-disabled":e.isDisabled||void 0,"data-invalid":y.isInvalid||void 0,"data-readonly":e.isReadOnly||void 0,"data-required":e.isRequired||void 0},xe.createElement(ll,{values:[[Wp,{...d,ref:l}],[uC,{...f,ref:a}],[Y0,p],[Bf,{slots:{description:m,errorMessage:v}}],[aS,{isInvalid:y.isInvalid,isDisabled:e.isDisabled||!1}],[X0,y]]},A.children))});function mMe(t){return t&&t.__esModule?t.default:t}const k$=x.createContext(null),ple=x.createContext(null),po=x.forwardRef(function(e,n){[e,n]=Fi(e,n,k$);let{children:r,isDisabled:i=!1,isInvalid:s=!1,isRequired:o=!1}=e,a=x.useMemo(()=>typeof r=="function"?r({isOpen:!1,isDisabled:i,isInvalid:s,isRequired:o,isFocused:!1,isFocusVisible:!1,defaultChildren:null}):r,[r,i,s,o]);return xe.createElement(l4,{content:a},l=>xe.createElement(yMe,{props:e,collection:l,selectRef:n}))}),AMe=[Wp,Y0,Bf];function yMe({props:t,selectRef:e,collection:n}){let{validationBehavior:r}=Kp(lC)||{};var i,s;let o=(s=(i=t.validationBehavior)!==null&&i!==void 0?i:r)!==null&&s!==void 0?s:"native",a=ATe({...t,collection:n,children:void 0,validationBehavior:o}),{isFocusVisible:l,focusProps:u}=su({within:!0}),c=x.useRef(null),[d,f]=um(!t["aria-label"]&&!t["aria-labelledby"]),{labelProps:p,triggerProps:m,valueProps:v,menuProps:y,descriptionProps:A,errorMessageProps:C,hiddenSelectProps:E,...I}=GDe({...Qp(t),label:f,validationBehavior:o},a,c),[D,T]=x.useState(null),M=x.useCallback(()=>{c.current&&T(c.current.offsetWidth+"px")},[c]);e3({ref:c,onResize:M});let P=x.useMemo(()=>({isOpen:a.isOpen,isFocused:a.isFocused,isFocusVisible:l,isDisabled:t.isDisabled||!1,isInvalid:I.isInvalid||!1,isRequired:t.isRequired||!1}),[a.isOpen,a.isFocused,l,t.isDisabled,I.isInvalid,t.isRequired]),k=Rr({...t,values:P,defaultClassName:"react-aria-Select"}),L=cr(t,{global:!0});delete L.id;let $=x.useRef(null);return xe.createElement(ll,{values:[[k$,t],[ple,a],[gle,v],[Wp,{...p,ref:d,elementType:"span"}],[Y0,{...m,ref:c,isPressed:a.isOpen,autoFocus:t.autoFocus}],[fv,a],[NT,{trigger:"Select",triggerRef:c,scrollRef:$,placement:"bottom start",style:{"--trigger-width":D},"aria-labelledby":y["aria-labelledby"],clearContexts:AMe}],[f4,{...y,ref:$}],[cC,a],[Bf,{slots:{description:A,errorMessage:C}}],[X0,I]]},xe.createElement("div",{...on(L,k,u),ref:e,slot:t.slot||void 0,"data-focused":a.isFocused||void 0,"data-focus-visible":l||void 0,"data-open":a.isOpen||void 0,"data-disabled":t.isDisabled||void 0,"data-invalid":I.isInvalid||void 0,"data-required":t.isRequired||void 0},k.children,xe.createElement(WDe,{...E,autoComplete:t.autoComplete})))}const gle=x.createContext(null),go=aC(function(e,n){var r;[e,n]=Fi(e,n,gle);let i=x.useContext(ple),{placeholder:s}=Kp(k$),o=i.selectedItems.map(A=>{var C;let E=(C=A.props)===null||C===void 0?void 0:C.children;return typeof E=="function"&&(E=E({isHovered:!1,isPressed:!1,isSelected:!1,isFocused:!1,isFocusVisible:!1,isDisabled:!1,selectionMode:"single",selectionBehavior:"toggle"})),E}),a=_2e(),l=x.useMemo(()=>i.selectedItems.map(A=>A?.textValue),[i.selectedItems]),u=i.selectionManager.selectionMode,c=x.useMemo(()=>{var A;return u==="single"?(A=l[0])!==null&&A!==void 0?A:"":a.format(l)},[u,a,l]),d=x.useMemo(()=>{if(u==="single")return o[0];let A=a.formatToParts(l);if(A.length===0)return null;let C=0;return A.map(E=>E.type==="element"?xe.createElement(x.Fragment,{key:C},o[C++]):E.value)},[u,a,l,o]),f=Rl(mMe(I$),"react-aria-components");var p,m;let v=Rr({...e,defaultChildren:(p=d??s)!==null&&p!==void 0?p:f.format("selectPlaceholder"),defaultClassName:"react-aria-SelectValue",values:{selectedItem:(m=(r=i.selectedItems[0])===null||r===void 0?void 0:r.value)!==null&&m!==void 0?m:null,selectedItems:x.useMemo(()=>i.selectedItems.map(A=>{var C;return(C=A.value)!==null&&C!==void 0?C:null}),[i.selectedItems]),selectedText:c,isPlaceholder:i.selectedItems.length===0,state:i}}),y=cr(e,{global:!0});return xe.createElement("span",{ref:n,...y,...v,"data-placeholder":i.selectedItems.length===0||void 0},xe.createElement(Bf.Provider,{value:void 0},v.children))}),vMe=x.createContext(null),LT=x.forwardRef(function(e,n){let{inputRef:r=null,...i}=e;[e,n]=Fi(i,n,vMe);let s=Hu(t4(r,e.inputRef!==void 0?e.inputRef:null)),o=MT(e),{labelProps:a,inputProps:l,isSelected:u,isDisabled:c,isReadOnly:d,isPressed:f}=qDe({...Qp(e),children:typeof e.children=="function"?!0:e.children},o,s),{isFocused:p,isFocusVisible:m,focusProps:v}=su(),y=e.isDisabled||e.isReadOnly,{hoverProps:A,isHovered:C}=hh({...e,isDisabled:y}),E=Rr({...e,defaultClassName:"react-aria-Switch",values:{isSelected:u,isPressed:f,isHovered:C,isFocused:p,isFocusVisible:m,isDisabled:c,isReadOnly:d,state:o}}),I=cr(e,{global:!0});return delete I.id,delete I.onClick,xe.createElement("label",{...on(I,a,A,E),ref:n,slot:e.slot||void 0,"data-selected":u||void 0,"data-pressed":f||void 0,"data-hovered":C||void 0,"data-focused":p||void 0,"data-focus-visible":m||void 0,"data-disabled":c||void 0,"data-readonly":d||void 0},xe.createElement(ST,{elementType:"span"},xe.createElement("input",{...on(l,v),ref:s})),E.children)}),FT=x.createContext(null),jx=x.createContext(null),bMe=x.forwardRef(function(e,n){[e,n]=Fi(e,n,FT);let{children:r,orientation:i="horizontal"}=e;return r=x.useMemo(()=>typeof r=="function"?r({orientation:i,defaultChildren:null}):r,[r,i]),xe.createElement(l4,{content:r},s=>xe.createElement(xMe,{props:e,collection:s,tabsRef:n}))});function xMe({props:t,tabsRef:e,collection:n}){let{orientation:r="horizontal"}=t,i=vTe({...t,collection:n,children:void 0}),{focusProps:s,isFocused:o,isFocusVisible:a}=su({within:!0}),l=x.useMemo(()=>({orientation:r,isFocusWithin:o,isFocusVisible:a}),[r,o,a]),u=Rr({...t,defaultClassName:"react-aria-Tabs",values:l}),c=cr(t,{global:!0});return xe.createElement("div",{...on(c,u,s),ref:e,slot:t.slot||void 0,"data-focused":o||void 0,"data-orientation":r,"data-focus-visible":a||void 0,"data-disabled":i.isDisabled||void 0},xe.createElement(ll,{values:[[FT,t],[jx,i]]},u.children))}const CMe=x.forwardRef(function(e,n){return x.useContext(jx)?xe.createElement(EMe,{props:e,forwardedRef:n}):xe.createElement(TT,e)});function EMe({props:t,forwardedRef:e}){let n=x.useContext(jx),{CollectionRoot:r}=x.useContext(dv),{orientation:i="horizontal",keyboardActivation:s="automatic"}=Kp(FT),o=Hu(e),{tabListProps:a}=ZDe({...t,orientation:i,keyboardActivation:s},n,o),l=Rr({...t,children:null,defaultClassName:"react-aria-TabList",values:{orientation:i,state:n}}),u=cr(t,{global:!0});return delete u.id,xe.createElement("div",{...on(u,l,a),ref:o,"data-orientation":i||void 0},xe.createElement(h4,null,xe.createElement(r,{collection:n.collection,persistedKeys:dBe(n.selectionManager.focusedKey)})))}class mle extends q0{}mle.type="item";const uw=u4(mle,(t,e,n)=>{let r=x.useContext(jx),i=Hu(e),{tabProps:s,isSelected:o,isDisabled:a,isPressed:l}=YDe({key:n.key,...t},r,i),{focusProps:u,isFocused:c,isFocusVisible:d}=su(),{hoverProps:f,isHovered:p}=hh({isDisabled:a,onHoverStart:t.onHoverStart,onHoverEnd:t.onHoverEnd,onHoverChange:t.onHoverChange}),m=Rr({...t,id:void 0,children:n.rendered,defaultClassName:"react-aria-Tab",values:{isSelected:o,isDisabled:a,isFocused:c,isFocusVisible:d,isPressed:l,isHovered:p}}),v=n.props.href?"a":"div",y=cr(t,{global:!0});return delete y.id,delete y.onClick,xe.createElement(v,{...on(y,m,s,u,f),ref:i,"data-selected":o||void 0,"data-disabled":a||void 0,"data-focused":c||void 0,"data-focus-visible":d||void 0,"data-pressed":l||void 0,"data-hovered":p||void 0},xe.createElement(lS.Provider,{value:{isSelected:o}},m.children))}),cw=aC(function(e,n){const r=x.useContext(jx);let i=Hu(n),s=r.selectedKey===e.id,[o,a]=x.useState(r.selectedKey!=null?s:null);o==null&&r.selectedKey!=null?a(s):!s&&o&&a(!1);let l=JB(i,s);return!s&&!e.shouldForceMount&&!l?null:xe.createElement(SMe,{...e,tabPanelRef:i,isInitiallySelected:o||!1,isExiting:l})});function SMe(t){let e=x.useContext(jx),{id:n,tabPanelRef:r,isInitiallySelected:i,isExiting:s,...o}=t,{tabPanelProps:a}=XDe(t,e,r),{focusProps:l,isFocused:u,isFocusVisible:c}=su(),d=e.selectedKey===t.id,f=bT(r)&&!i,p=Rr({...t,defaultClassName:"react-aria-TabPanel",values:{isFocused:u,isFocusVisible:c,isInert:XB(!d),isEntering:f,isExiting:s,state:e}}),m=cr(o,{global:!0});delete m.id;let v=d?on(m,a,l,p):on(m,p);return xe.createElement("div",{...v,ref:r,"data-focused":u||void 0,"data-focus-visible":c||void 0,inert:XB(!d||t.inert),"data-inert":d?void 0:"true","data-entering":f||void 0,"data-exiting":s||void 0},xe.createElement(ll,{values:[[FT,null],[jx,null]]},xe.createElement(dv.Provider,{value:g$},p.children)))}const Ale=x.createContext({});let wMe=t=>{let{onHoverStart:e,onHoverChange:n,onHoverEnd:r,...i}=t;return i};const bd=x.forwardRef(function(e,n){[e,n]=Fi(e,n,Ale);let{hoverProps:r,isHovered:i}=hh(e),{isFocused:s,isFocusVisible:o,focusProps:a}=su({isTextInput:!0,autoFocus:e.autoFocus}),l=!!e["aria-invalid"]&&e["aria-invalid"]!=="false",u=Rr({...e,values:{isHovered:i,isFocused:s,isFocusVisible:o,isDisabled:e.disabled||!1,isInvalid:l},defaultClassName:"react-aria-TextArea"});return xe.createElement("textarea",{...on(wMe(e),a,r),...u,ref:n,"data-focused":s||void 0,"data-disabled":e.disabled||void 0,"data-hovered":i||void 0,"data-focus-visible":o||void 0,"data-invalid":l||void 0})}),_Me=x.createContext(null),br=aC(function(e,n){[e,n]=Fi(e,n,_Me);let{validationBehavior:r}=Kp(lC)||{};var i,s;let o=(s=(i=e.validationBehavior)!==null&&i!==void 0?i:r)!==null&&s!==void 0?s:"native",a=x.useRef(null);[e,a]=Fi(e,a,BJ);let[l,u]=um(!e["aria-label"]&&!e["aria-labelledby"]),[c,d]=x.useState("input"),{labelProps:f,inputProps:p,descriptionProps:m,errorMessageProps:v,...y}=DT({...Qp(e),inputElementType:c,label:u,validationBehavior:o},a),A=x.useCallback(I=>{a.current=I,I&&d(I instanceof HTMLTextAreaElement?"textarea":"input")},[a]),C=Rr({...e,values:{isDisabled:e.isDisabled||!1,isInvalid:y.isInvalid,isReadOnly:e.isReadOnly||!1,isRequired:e.isRequired||!1},defaultClassName:"react-aria-TextField"}),E=cr(e,{global:!0});return delete E.id,xe.createElement("div",{...E,...C,ref:n,slot:e.slot||void 0,"data-disabled":e.isDisabled||void 0,"data-invalid":y.isInvalid||void 0,"data-readonly":e.isReadOnly||void 0,"data-required":e.isRequired||void 0},xe.createElement(ll,{values:[[Wp,{...f,ref:l}],[uC,{...p,ref:A}],[Ale,{...p,ref:A}],[aS,{role:"presentation",isInvalid:y.isInvalid,isDisabled:e.isDisabled||!1}],[Bf,{slots:{description:m,errorMessage:v}}],[X0,y]]},C.children))}),IMe=x.createContext({}),yle=x.createContext(null),hy=x.forwardRef(function(e,n){[e,n]=Fi(e,n,IMe);let r=mBe(e),{groupProps:i}=fBe(e,r,n),s=Rr({...e,values:{orientation:e.orientation||"horizontal",isDisabled:r.isDisabled,state:r},defaultClassName:"react-aria-ToggleButtonGroup"}),o=cr(e,{global:!0});return xe.createElement("div",{...on(o,s,i),ref:n,slot:e.slot||void 0,"data-orientation":e.orientation||"horizontal","data-disabled":e.isDisabled||void 0},xe.createElement(yle.Provider,{value:r},xe.createElement(h4,null,s.children)))}),BMe=x.createContext({}),Dy=x.forwardRef(function(e,n){[e,n]=Fi(e,n,BMe);let r=x.useContext(yle),i=MT(r&&e.id!=null?{isSelected:r.selectedKeys.has(e.id),onChange(y){r.setSelected(e.id,y)}}:e),{buttonProps:s,isPressed:o,isSelected:a,isDisabled:l}=r&&e.id!=null?pBe({...e,id:e.id},r,n):gne({...e,id:e.id!=null?String(e.id):void 0},i,n),{focusProps:u,isFocused:c,isFocusVisible:d}=su(e),{hoverProps:f,isHovered:p}=hh(e),m=Rr({...e,id:void 0,values:{isHovered:p,isPressed:o,isFocused:c,isSelected:i.isSelected,isFocusVisible:d,isDisabled:l,state:i},defaultClassName:"react-aria-ToggleButton"}),v=cr(e,{global:!0});return delete v.id,delete v.onClick,xe.createElement("button",{...on(v,m,s,u,f),ref:n,slot:e.slot||void 0,"data-focused":c||void 0,"data-disabled":l||void 0,"data-pressed":o||void 0,"data-selected":a||void 0,"data-hovered":p||void 0,"data-focus-visible":d||void 0},xe.createElement(lS.Provider,{value:{isSelected:a}},m.children))}),D9=10,T9=5;class DMe{setup(e,n,r){this.delegate=e,this.state=n,this.direction=r}getDropTargetFromPoint(e,n,r){let i=this.delegate.getDropTargetFromPoint(e,n,r);return!i||i.type==="root"?i:this.resolveDropTarget(i,e,n,r)}resolveDropTarget(e,n,r,i){let s=this.pointerTracking,o=r-s.lastY,a=n-s.lastX,l=s.yDirection,u=s.xDirection;if(Math.abs(o)>T9&&(l=o>0?"down":"up",s.yDirection=l,s.lastY=r),Math.abs(a)>D9&&(u=a>0?"right":"left",s.xDirection=u,s.lastX=n),e.dropPosition==="before"){let f=this.state.collection.getKeyBefore(e.key);if(f!=null){let p={type:"item",key:f,dropPosition:"after"};i(p)&&(e=p)}}let c=this.getPotentialTargets(e,i);if(c.length===0)return{type:"root"};let d;return c.length>1?d=this.selectTarget(c,e,n,r,l,u):(d=c[0],s.boundaryContext=null),d}getPotentialTargets(e,n){if(e.dropPosition==="on")return[e];let r=e,i=this.state.collection,s=i.getItem(r.key);for(;s&&s?.type!=="item"&&s.nextKey!=null;)r.key=s.nextKey,s=i.getItem(s.nextKey);let o=[r];if(s&&s.hasChildNodes&&this.state.expandedKeys.has(s.key)&&i.getChildren&&r.dropPosition==="after"){let u=null;for(let c of i.getChildren(s.key))if(c.type==="item"){u=c;break}if(u){const c={type:"item",key:u.key,dropPosition:"before"};return n(c)?[c]:[]}}if(s?.nextKey!=null)return[e];let a=s?.parentKey,l=[];for(;a;){let u=i.getItem(a),c=u?.nextKey?i.getItem(u.nextKey):null;if(!c||c.parentKey!==a){let f={type:"item",key:a,dropPosition:"after"};if(n(f)&&l.push(f),c)break}a=u?.parentKey}if(l.length>0&&o.push(...l),o.length===1){let u=i.getKeyAfter(r.key),c=u?i.getItem(u):null;if(u!=null&&c&&s&&c.level!=null&&s.level!=null&&c.level>s.level){let d={type:"item",key:u,dropPosition:"before"};if(n(d))return[d]}}return o.filter(n)}selectTarget(e,n,r,i,s,o){if(e.length<2)return e[0];let a=this.pointerTracking,l=this.state.collection.getItem(n.key),u=l?.parentKey;if(!u)return e[0];if(!a.boundaryContext||a.boundaryContext.parentKey!==u){let m=a.yDirection==="up"?e.length-1:0;a.boundaryContext={parentKey:u,preferredTargetIndex:m,lastSwitchY:i,lastSwitchX:r}}let c=a.boundaryContext,d=Math.abs(r-c.lastSwitchX);if(Math.abs(i-c.lastSwitchY)>T9&&s){let m=c.preferredTargetIndex||0;s==="down"&&m===0?c.preferredTargetIndex=e.length-1:s==="up"&&m===e.length-1&&(c.preferredTargetIndex=0),a.xDirection=null}if(d>D9&&o){let m=c.preferredTargetIndex||0;o==="left"?this.direction==="ltr"?m<e.length-1&&(c.preferredTargetIndex=m+1,c.lastSwitchX=r):m>0&&(c.preferredTargetIndex=m-1,c.lastSwitchX=r):o==="right"&&(this.direction==="ltr"?m>0&&(c.preferredTargetIndex=m-1,c.lastSwitchX=r):m<e.length-1&&(c.preferredTargetIndex=m+1,c.lastSwitchX=r)),a.yDirection=null}let p=Math.max(0,Math.min(c.preferredTargetIndex||0,e.length-1));return e[p]}constructor(){this.delegate=null,this.state=null,this.direction="ltr",this.pointerTracking={lastY:0,lastX:0,yDirection:null,xDirection:null,boundaryContext:null}}}class TMe{*[Symbol.iterator](){yield*this.flattenedRows}get size(){return this.itemCount}getKeys(){return this.keyMap.keys()}getItem(e){return this.keyMap.get(e)||null}at(e){return this.flattenedRows[e]}getFirstKey(){var e;return(e=this.flattenedRows[0])===null||e===void 0?void 0:e.key}getLastKey(){var e;return(e=this.flattenedRows[this.flattenedRows.length-1])===null||e===void 0?void 0:e.key}getKeyAfter(e){var n;let r=this.flattenedRows.findIndex(i=>i.key===e);return(n=this.flattenedRows[r+1])===null||n===void 0?void 0:n.key}getKeyBefore(e){var n;let r=this.flattenedRows.findIndex(i=>i.key===e);return(n=this.flattenedRows[r-1])===null||n===void 0?void 0:n.key}getChildren(e){let n=this.keyMap;return{*[Symbol.iterator](){let r=n.get(e),i=r?.firstChildKey!=null?n.get(r.firstChildKey):null;for(;i;)yield i,i=i.nextKey!=null?n.get(i.nextKey):void 0}}}getTextValue(e){let n=this.getItem(e);return n?n.textValue:""}constructor(e){this.keyMap=new Map,this.itemCount=0;let{collection:n,expandedKeys:r}=e,{flattenedRows:i,keyMap:s,itemCount:o}=LMe(n,{expandedKeys:r});this.flattenedRows=i,this.keyMap=s,this.itemCount=o}}const MMe=x.createContext(null),P$=x.createContext(null),kMe=x.forwardRef(function(e,n){return[e,n]=Fi(e,n,MMe),xe.createElement(l4,{content:xe.createElement(TT,e)},r=>xe.createElement(PMe,{props:e,collection:r,treeRef:n}))}),M9={expand:{ltr:"ArrowRight",rtl:"ArrowLeft"},collapse:{ltr:"ArrowLeft",rtl:"ArrowRight"}};function PMe({props:t,collection:e,treeRef:n}){const{dragAndDropHooks:r}=t;let{direction:i}=yo(),s=s4({usage:"search",sensitivity:"base"}),o=!!r?.useDraggableCollectionState,a=!!r?.useDroppableCollectionState,l=x.useRef(o),u=x.useRef(a);x.useEffect(()=>{l.current!==o&&console.warn("Drag hooks were provided during one render, but not another. This should be avoided as it may produce unexpected behavior."),u.current!==a&&console.warn("Drop hooks were provided during one render, but not another. This should be avoided as it may produce unexpected behavior.")},[o,a]);let{selectionMode:c="none",expandedKeys:d,defaultExpandedKeys:f,onExpandedChange:p,disabledBehavior:m="all"}=t,{CollectionRoot:v,isVirtualized:y,layoutDelegate:A,dropTargetDelegate:C}=x.useContext(dv),[E,I]=al(d?k9(d):void 0,f?k9(f):new Set,p),D=x.useMemo(()=>new TMe({collection:e,expandedKeys:E}),[e,E]),T=xTe({...t,selectionMode:c,expandedKeys:E,onExpandedChange:I,collection:D,children:void 0,disabledBehavior:m}),{gridProps:M}=eTe({...t,isVirtualized:y,layoutDelegate:A},T,n),P,k,L,$=!1,z=null,j=x.useRef(null);if(o&&r){P=r.useDraggableCollectionState({collection:T.collection,selectionManager:T.selectionManager,preview:r.renderDragPreview?j:void 0}),r.useDraggableCollection({},P,n);let ee=r.DragPreview;z=r.renderDragPreview?xe.createElement(ee,{ref:j},r.renderDragPreview):null}let[H]=x.useState(()=>new DMe);if(a&&r){k=r.useDroppableCollectionState({collection:T.collection,selectionManager:T.selectionManager});let ee=r.dropTargetDelegate||C||new r.ListDropTargetDelegate(T.collection,n,{direction:i});H.setup(ee,T,i);let ie=new o4({collection:T.collection,collator:s,ref:n,disabledKeys:T.selectionManager.disabledKeys,disabledBehavior:T.selectionManager.disabledBehavior,direction:i,layoutDelegate:A});L=r.useDroppableCollection({keyboardDelegate:ie,dropTargetDelegate:H,onDropActivate:ae=>{if(ae.target.type==="item"){var de;let ge=ae.target.key,_e=T.collection.getItem(ge),we=E!=="all"&&E.has(ge);_e&&_e.hasChildNodes&&(!we||!(r==null||(de=r.isVirtualDragging)===null||de===void 0)&&de.call(r))&&T.toggleKey(ge)}},onKeyDown:ae=>{let de=k?.target;if(de&&de.type==="item"&&de.dropPosition==="on"){let ge=T.collection.getItem(de.key);(ae.key===M9.expand[i]&&ge?.hasChildNodes&&!T.expandedKeys.has(de.key)||ae.key===M9.collapse[i]&&ge?.hasChildNodes&&T.expandedKeys.has(de.key))&&T.toggleKey(de.key)}}},k,n);let ue=k.getDropOperation;k.getDropOperation=ae=>{let{target:de,isInternal:ge}=ae;var _e;let we=(_e=P?.draggingKeys)!==null&&_e!==void 0?_e:new Set;if(ge&&de.type==="item"&&we.size>0){if(we.has(de.key)&&de.dropPosition==="on")return"cancel";let ke=de.key;for(;ke!=null;){let Fe=T.collection.getItem(ke),Ee=Fe?.parentKey;if(Ee!=null&&we.has(Ee))return"cancel";ke=Ee??null}}return ue(ae)},$=k.isDropTarget({type:"root"})}let W=!!(o&&!P?.isDisabled),{focusProps:O,isFocused:G,isFocusVisible:q}=su(),J={isEmpty:T.collection.size===0,isFocused:G,isFocusVisible:q,isDropTarget:$,selectionMode:T.selectionManager.selectionMode,allowsDragging:!!W,state:T},te=Rr({className:t.className,style:t.style,defaultClassName:"react-aria-Tree",values:J}),Y=null;if(T.collection.size===0&&t.renderEmptyState){let{isEmpty:ee,...ie}=J,ue=t.renderEmptyState({...ie}),ae={"aria-level":1};Y=xe.createElement("div",{role:"row",style:{display:"contents"},...ae},xe.createElement("div",{role:"gridcell",style:{display:"contents"}},ue))}let Z=cr(t,{global:!0});return xe.createElement(xe.Fragment,null,xe.createElement(ET,null,xe.createElement("div",{...on(Z,te,M,O,L?.collectionProps),ref:n,slot:t.slot||void 0,"data-empty":T.collection.size===0||void 0,"data-focused":G||void 0,"data-drop-target":$||void 0,"data-focus-visible":q||void 0,"data-selection-mode":T.selectionManager.selectionMode==="none"?void 0:T.selectionManager.selectionMode,"data-allows-dragging":!!W||void 0},xe.createElement(ll,{values:[[P$,T],[hv,{dragAndDropHooks:r,dragState:P,dropState:k}],[B$,{render:FMe}]]},a&&xe.createElement(OMe,null),xe.createElement(h4,null,xe.createElement(v,{collection:T.collection,persistedKeys:ele(T.selectionManager,r,k),scrollRef:n,renderDropIndicator:D$(r,k)}))),Y)),z)}class vle extends q0{}vle.type="content";const RMe=u4(vle,function(e){let n=x.useContext(ble),r=Rr({children:e.children,values:n});return xe.createElement(dv.Provider,{value:g$},r.children)}),ble=x.createContext(null);class xle extends q0{}xle.type="item";const NMe=aBe(xle,(t,e,n)=>{var r;let i=x.useContext(P$);e=Hu(e);let{dragAndDropHooks:s,dragState:o,dropState:a}=x.useContext(hv),{rowProps:l,gridCellProps:u,expandButtonProps:c,descriptionProps:d,...f}=dae({node:n,shouldSelectOnPressUp:!!o},i,e),p=l["aria-expanded"]===!0,m=t.hasChildItems||((r=[...i.collection.getChildren(n.key)])===null||r===void 0?void 0:r.length)>1,v=l["aria-level"]||1,{hoverProps:y,isHovered:A}=hh({isDisabled:!f.allowsSelection&&!f.hasAction,onHoverStart:t.onHoverStart,onHoverChange:t.onHoverChange,onHoverEnd:t.onHoverEnd}),{isFocusVisible:C,focusProps:E}=su(),{isFocusVisible:I,focusProps:D}=su({within:!0}),{checkboxProps:T}=UDe({key:n.key},i),M=null;o&&s&&(M=s.useDraggableItem({key:n.key,hasDragButton:!0},o));let P=null,k=x.useRef(null),L=x.useRef(null),$=x.useRef(null),{visuallyHiddenProps:z}=oC();a&&s&&(P=s.useDropIndicator({target:{type:"item",key:n.key,dropPosition:"on"},activateButtonRef:$},a,L));let j=o&&o.isDragging(n.key),H=P?.isDropTarget,W=i.selectionManager.selectionMode,O=i.selectionManager.selectionBehavior,G=xe.useMemo(()=>({...f,isHovered:A,isFocusVisible:C,isExpanded:p,hasChildItems:m,level:v,selectionMode:W,selectionBehavior:O,isFocusVisibleWithin:I,state:i,id:n.key,allowsDragging:!!o,isDragging:j,isDropTarget:H}),[f,A,C,p,m,v,I,i,n.key,o,j,H,O,W]),q=Rr({...t,id:void 0,children:n.rendered,defaultClassName:"react-aria-TreeItem",defaultStyle:{"--tree-item-level":v},values:G});x.useEffect(()=>{n.textValue},[n.textValue]),x.useEffect(()=>{m&&k.current},[]);let J=x.useRef(null);x.useEffect(()=>{o&&J.current},[]);let te=p$({items:i.collection.getChildren(n.key),children:ee=>{switch(ee.type){case"content":return ee.render(ee);case"loader":case"item":return xe.createElement(xe.Fragment,null);default:throw new Error("Unsupported element type in TreeRow: "+ee.type)}}}),Y=Us(),Z=cr(t,{global:!0});return delete Z.id,delete Z.onClick,xe.createElement(xe.Fragment,null,P&&!P.isHidden&&xe.createElement("div",{role:"row","aria-level":l["aria-level"],"aria-expanded":l["aria-expanded"],"aria-label":P.dropIndicatorProps["aria-label"]},xe.createElement("div",{role:"gridcell","aria-colindex":1,style:{display:"contents"}},xe.createElement("div",{role:"button",...z,...P.dropIndicatorProps,ref:L}),l["aria-expanded"]!=null?xe.createElement("div",{role:"button",...z,id:Y,"aria-label":c["aria-label"],"aria-labelledby":`${Y} ${l.id}`,tabIndex:-1,ref:$}):null)),xe.createElement("div",{...on(Z,l,E,y,D,M?.dragProps),...q,ref:e,"data-expanded":m&&p||void 0,"data-has-child-items":m||void 0,"data-level":v,"data-selected":f.isSelected||void 0,"data-disabled":f.isDisabled||void 0,"data-hovered":A||void 0,"data-focused":f.isFocused||void 0,"data-focus-visible":C||void 0,"data-pressed":f.isPressed||void 0,"data-selection-mode":i.selectionManager.selectionMode==="none"?void 0:i.selectionManager.selectionMode,"data-allows-dragging":!!o||void 0,"data-dragging":j||void 0,"data-drop-target":H||void 0},xe.createElement("div",{...u,style:{display:"contents"}},xe.createElement(ll,{values:[[SJ,{slots:{selection:T}}],[Y0,{slots:{[t3]:{},chevron:{...c,ref:k},drag:{...M?.dragButtonProps,ref:J,style:{pointerEvents:"none"}}}}],[ble,{...G}],[lS,{isSelected:f.isSelected}]]},te))))});u4(f$,function(e,n,r){let{isVirtualized:i}=x.useContext(dv),s=x.useContext(P$),{isLoading:o,onLoadMore:a,scrollOffset:l,...u}=e,c=x.useRef(null),d=x.useMemo(()=>({onLoadMore:a,collection:s?.collection,sentinelRef:c,scrollOffset:l}),[a,l,s?.collection]);$J(d,c),n=Hu(n);let{rowProps:f,gridCellProps:p}=dae({node:r},s,n),m=f["aria-level"]||1,v={role:"row","aria-level":f["aria-level"]},y=Rr({...u,id:void 0,children:r.rendered,defaultClassName:"react-aria-TreeLoader",values:{level:m}}),A={};return i&&(A={display:"contents"}),xe.createElement(xe.Fragment,null,xe.createElement("div",{style:{position:"relative",width:0,height:0},inert:XB(!0)},xe.createElement("div",{"data-testid":"loadMoreSentinel",ref:c,style:{position:"absolute",height:1,width:1}})),o&&y.children&&xe.createElement("div",{ref:n,...on(cr(e),v),...y,"data-level":m},xe.createElement("div",{...p,style:A},y.children)))});function k9(t){return t?t==="all"?"all":new Set(t):new Set}function LMe(t,e){let{expandedKeys:n=new Set}=e,r=new Map,i=[],s=0,o=new Map,a=l=>{if(l.type==="item"||l.type==="loader"){let u=l?.parentKey,c={...l};u!=null?([...t.getChildren(u)][0].type!=="item"&&(c.index=l?.index!=null?l?.index-1:0),l.type==="loader"&&(c.level=l.level+1),r.set(c.key,c)):r.set(l.key,l);let d=r.get(l.key)||l;(d.level===0||d.parentKey!=null&&n.has(d.parentKey)&&o.get(d.parentKey))&&(d.type==="item"&&s++,i.push(d),o.set(d.key,!0))}else l.type!==null&&r.set(l.key,l);for(let u of t.getChildren(l.key))a(u)};for(let l of t)a(l);return{flattenedRows:i,keyMap:r,itemCount:s}}function FMe(t,e){var n;e=Hu(e);let{dragAndDropHooks:r,dropState:i}=x.useContext(hv),s=x.useRef(null),{dropIndicatorProps:o,isHidden:a,isDropTarget:l}=r.useDropIndicator(t,i,s);if(a)return null;let u=i&&t.target.type==="item"?(((n=i.collection.getItem(t.target.key))===null||n===void 0?void 0:n.level)||0)+1:1;return xe.createElement(zMe,{...t,dropIndicatorProps:o,isDropTarget:l,ref:e,buttonRef:s,level:u})}function $Me(t,e){let{dropIndicatorProps:n,isDropTarget:r,buttonRef:i,level:s,...o}=t,{visuallyHiddenProps:a}=oC(),l=Rr({...o,defaultClassName:"react-aria-DropIndicator",defaultStyle:{position:"relative","--tree-item-level":s},values:{isDropTarget:r}});return xe.createElement("div",{...l,role:"row","aria-level":s,ref:e,"data-drop-target":r||void 0},xe.createElement("div",{role:"gridcell"},xe.createElement("div",{...a,role:"button",...n,ref:i}),l.children))}const zMe=x.forwardRef($Me);function OMe(){let{dragAndDropHooks:t,dropState:e}=x.useContext(hv),n=x.useRef(null),{dropIndicatorProps:r}=t.useDropIndicator({target:{type:"root"}},e,n),i=e.isDropTarget({type:"root"}),{visuallyHiddenProps:s}=oC();return!i&&r["aria-hidden"]?null:xe.createElement("div",{role:"row","aria-hidden":r["aria-hidden"],style:{position:"absolute"}},xe.createElement("div",{role:"gridcell"},xe.createElement("div",{role:"button",...s,...r,ref:n})))}function jMe(t){return{dragAndDropHooks:x.useMemo(()=>{let{onDrop:n,onInsert:r,onItemDrop:i,onReorder:s,onMove:o,onRootDrop:a,getItems:l,renderDragPreview:u,renderDropIndicator:c,dropTargetDelegate:d}=t,f=!!l,p=!!(n||r||i||s||o||a),m={};return f&&(m.useDraggableCollectionState=function(y){return lTe({...y,...t})},m.useDraggableCollection=MDe,m.useDraggableItem=TDe,m.DragPreview=kDe,m.renderDragPreview=u,m.isVirtualDragging=dDe),p&&(m.useDroppableCollectionState=function(y){return uTe({...y,...t})},m.useDroppableItem=Kse,m.useDroppableCollection=function(y,A,C){return wDe({...y,...t},A,C)},m.useDropIndicator=IDe,m.renderDropIndicator=c,m.dropTargetDelegate=d,m.ListDropTargetDelegate=PDe),m},[t])}}function QMe({width:t,height:e,isLast:n,lastLineWidth:r,animation:i="shimmer",className:s,style:o}){const a=n&&r?r:t;return h.jsx("div",{className:s?`react-aria-Skeleton ${s}`:"react-aria-Skeleton","data-variant":"text","data-animation":i!=="none"?i:void 0,style:{width:typeof a=="number"?`${a}px`:a,height:typeof e=="number"?`${e}px`:e,...o},"aria-hidden":"true"})}function Up({variant:t="text",animation:e="shimmer",width:n,height:r,lines:i=1,lineHeight:s,lastLineWidth:o="60%",lineGap:a,componentVariant:l,size:u="md",className:c,style:d,index:f,"aria-label":p="Loading...","data-testid":m="skeleton"}){return l?h.jsx("div",{className:c?`react-aria-Skeleton ${c}`:"react-aria-Skeleton","data-component-variant":l,"data-size":u,"data-animation":e!=="none"?e:void 0,style:{"--skeleton-index":f,...d},role:"status","aria-label":p,"aria-busy":"true","data-testid":m,children:UMe(l)}):t==="text"&&i>1?h.jsx("div",{className:"react-aria-Skeleton-group",style:{display:"flex",flexDirection:"column",gap:typeof a=="number"?`${a}px`:a||"8px",...d},role:"status","aria-label":p,"aria-busy":"true","data-testid":m,children:Array.from({length:i}).map((v,y)=>h.jsx(QMe,{width:n||"100%",height:s||r||14,isLast:y===i-1,lastLineWidth:o,animation:e},y))}):h.jsx("div",{className:c?`react-aria-Skeleton ${c}`:"react-aria-Skeleton","data-variant":t,"data-animation":e!=="none"?e:void 0,style:{width:typeof n=="number"?`${n}px`:n,height:typeof r=="number"?`${r}px`:r,"--skeleton-index":f,...d},role:"status","aria-label":p,"aria-busy":"true","data-testid":m})}function UMe(t){switch(t){case"button":return h.jsx("span",{className:"skeleton-content"});case"badge":return h.jsx("span",{className:"skeleton-content"});case"input":return h.jsxs(h.Fragment,{children:[h.jsx("span",{className:"skeleton-label"}),h.jsx("span",{className:"skeleton-input"})]});case"checkbox":case"radio":return h.jsxs(h.Fragment,{children:[h.jsx("span",{className:"skeleton-box"}),h.jsx("span",{className:"skeleton-label"})]});case"switch":return h.jsxs(h.Fragment,{children:[h.jsx("span",{className:"skeleton-track"}),h.jsx("span",{className:"skeleton-label"})]});case"slider":return h.jsxs(h.Fragment,{children:[h.jsx("span",{className:"skeleton-track"}),h.jsx("span",{className:"skeleton-thumb"})]});case"list-item":case"menu-item":return h.jsxs(h.Fragment,{children:[h.jsx("span",{className:"skeleton-line title"}),h.jsx("span",{className:"skeleton-line desc"})]});case"grid-item":return h.jsxs(h.Fragment,{children:[h.jsx("span",{className:"skeleton-image"}),h.jsx("span",{className:"skeleton-line title"}),h.jsx("span",{className:"skeleton-line desc"})]});case"table-row":return h.jsx(h.Fragment,{children:[1,2,3,4].map(e=>h.jsx("span",{className:"skeleton-cell",style:{width:`${20+e*5}%`}},e))});case"table-cell":return h.jsx("span",{className:"skeleton-content"});case"tree-node":return h.jsxs(h.Fragment,{children:[h.jsx("span",{className:"skeleton-icon"}),h.jsx("span",{className:"skeleton-line title"})]});case"card":return h.jsxs(h.Fragment,{children:[h.jsxs("div",{className:"skeleton-header",children:[h.jsx("span",{className:"skeleton-line title"}),h.jsx("span",{className:"skeleton-line subtitle"})]}),h.jsxs("div",{className:"skeleton-body",children:[h.jsx("span",{className:"skeleton-line"}),h.jsx("span",{className:"skeleton-line"}),h.jsx("span",{className:"skeleton-line short"})]})]});case"card-gallery":return h.jsxs(h.Fragment,{children:[h.jsx("span",{className:"skeleton-image"}),h.jsxs("div",{className:"skeleton-content",children:[h.jsx("span",{className:"skeleton-line title"}),h.jsx("span",{className:"skeleton-line desc"})]})]});case"card-horizontal":return h.jsxs(h.Fragment,{children:[h.jsx("span",{className:"skeleton-image"}),h.jsxs("div",{className:"skeleton-content",children:[h.jsx("span",{className:"skeleton-line title"}),h.jsx("span",{className:"skeleton-line desc"}),h.jsx("span",{className:"skeleton-line short"})]})]});case"tabs":return h.jsxs(h.Fragment,{children:[h.jsx("div",{className:"skeleton-tab-list",children:[1,2,3].map(e=>h.jsx("span",{className:"skeleton-tab"},e))}),h.jsxs("div",{className:"skeleton-tab-panel",children:[h.jsx("span",{className:"skeleton-line"}),h.jsx("span",{className:"skeleton-line"}),h.jsx("span",{className:"skeleton-line short"})]})]});case"tab":return h.jsx("span",{className:"skeleton-content"});case"calendar":return h.jsxs(h.Fragment,{children:[h.jsxs("div",{className:"skeleton-calendar-header",children:[h.jsx("span",{className:"skeleton-nav"}),h.jsx("span",{className:"skeleton-title"}),h.jsx("span",{className:"skeleton-nav"})]}),h.jsx("div",{className:"skeleton-calendar-grid",children:Array.from({length:35}).map((e,n)=>h.jsx("span",{className:"skeleton-day"},n))})]});case"calendar-cell":return h.jsx("span",{className:"skeleton-content"});case"progress":case"meter":return h.jsxs(h.Fragment,{children:[h.jsx("span",{className:"skeleton-label"}),h.jsx("span",{className:"skeleton-bar"})]});case"avatar":return h.jsx("span",{className:"skeleton-circle"});case"breadcrumb":return h.jsxs(h.Fragment,{children:[h.jsx("span",{className:"skeleton-item"}),h.jsx("span",{className:"skeleton-separator"}),h.jsx("span",{className:"skeleton-item"}),h.jsx("span",{className:"skeleton-separator"}),h.jsx("span",{className:"skeleton-item current"})]});case"pagination":return h.jsxs(h.Fragment,{children:[h.jsx("span",{className:"skeleton-button"}),[1,2,3].map(e=>h.jsx("span",{className:"skeleton-page"},e)),h.jsx("span",{className:"skeleton-button"})]});case"color-swatch":return h.jsx("span",{className:"skeleton-swatch"});case"color-area":return h.jsx("span",{className:"skeleton-area"});case"tag":return h.jsxs(h.Fragment,{children:[h.jsx("span",{className:"skeleton-content"}),h.jsx("span",{className:"skeleton-remove"})]});case"disclosure":return h.jsxs(h.Fragment,{children:[h.jsx("span",{className:"skeleton-icon"}),h.jsx("span",{className:"skeleton-title"})]});default:return h.jsx("span",{className:"skeleton-content"})}}Up.Text=function({lines:e=1,...n}){return h.jsx(Up,{variant:"text",lines:e,...n})};Up.Circle=function({size:e=48,...n}){return h.jsx(Up,{variant:"circular",width:e,height:e,...n})};Up.Rect=function(e){return h.jsx(Up,{variant:"rectangular",...e})};const Kn=x.forwardRef(function(e,n){const{isLoading:r,loadingLabel:i="Loading...",children:s,variant:o="default",size:a="sm",className:l,...u}=e,{focusProps:c,isFocusVisible:d}=su();return h.jsx(Yt,{ref:n,...on(u,c),type:e.type,isDisabled:r||e.isDisabled,"data-variant":o,"data-size":a,"data-focus-visible":d||void 0,"data-loading":r||void 0,"aria-busy":r||void 0,className:lv(l,f=>f?`react-aria-Button ${f}`:"react-aria-Button"),children:r?h.jsxs(h.Fragment,{children:[h.jsx(Up,{componentVariant:"button",size:a,"aria-label":i}),h.jsx("span",{className:"sr-only",children:i})]}):s})}),dw=t=>({id:t,status:"idle",data:[],error:null,lastLoadedAt:null,consumers:[]});function HMe(t,e){if(!e)return t;let n=[...t];if(e.filter&&e.filter.length>0&&(n=n.filter(r=>e.filter.every(i=>{const s=r[i.field],o=i.value;switch(i.operator){case"eq":return s===o;case"ne":return s!==o;case"gt":return typeof s=="number"&&typeof o=="number"&&s>o;case"gte":return typeof s=="number"&&typeof o=="number"&&s>=o;case"lt":return typeof s=="number"&&typeof o=="number"&&s<o;case"lte":return typeof s=="number"&&typeof o=="number"&&s<=o;case"contains":return typeof s=="string"&&typeof o=="string"&&s.includes(o);case"startsWith":return typeof s=="string"&&typeof o=="string"&&s.startsWith(o);case"endsWith":return typeof s=="string"&&typeof o=="string"&&s.endsWith(o);default:return!0}}))),e.sort){const{field:r,direction:i}=e.sort;n.sort((s,o)=>{const a=s[r],l=o[r];if(a===l)return 0;if(a==null)return 1;if(l==null)return-1;const u=a<l?-1:1;return i==="asc"?u:-u})}return e.offset&&e.offset>0&&(n=n.slice(e.offset)),e.limit&&e.limit>0&&(n=n.slice(0,e.limit)),e.select&&e.select.length>0&&(n=n.map(r=>{const i={};return e.select.forEach(s=>{s in r&&(i[s]=r[s])}),i})),e.map&&Object.keys(e.map).length>0&&(n=n.map(r=>{const i={...r};return Object.entries(e.map).forEach(([s,o])=>{s in i&&(i[o]=i[s],delete i[s])}),i})),n}const R$=t=>`xstudio_datatable_cache_${t}`;function VMe(t,e){try{const n=R$(t),r=localStorage.getItem(n);if(!r)return null;const{data:i,timestamp:s}=JSON.parse(r);return Date.now()-s>e?(localStorage.removeItem(n),console.log(` DataTable cache expired: ${t}`),null):(console.log(` DataTable cache restored from localStorage: ${t}`),i)}catch(n){return console.warn(` Failed to load cached data for ${t}:`,n),null}}function GMe(t,e){try{const n=R$(t),r={data:e,timestamp:Date.now()};localStorage.setItem(n,JSON.stringify(r)),console.log(` DataTable cache saved to localStorage: ${t}`)}catch(n){console.warn(` Failed to save cache for ${t}:`,n)}}function P9(t){try{const e=R$(t);localStorage.removeItem(e),console.log(` DataTable cache cleared: ${t}`)}catch(e){console.warn(` Failed to clear cache for ${t}:`,e)}}async function KMe(t,e){if(!t||t.type!=="collection")return[];if(t.source==="static"){const r=t.config.data;if(r&&Array.isArray(r))return r;throw new Error("Static data is not an array or is missing")}if(t.source==="api"){const n=t.config;if(!n.baseUrl||!n.endpoint)throw new Error("API configuration is incomplete");if(n.baseUrl==="MOCK_DATA"){const{apiConfig:o}=await en(async()=>{const{apiConfig:l}=await Promise.resolve().then(()=>oue);return{apiConfig:l}},[]),a=o.MOCK_DATA;if(a){const l=await a(n.endpoint||"/data",n.params),u=n.dataMapping?.resultPath?l[n.dataMapping.resultPath]:l;return Array.isArray(u)?u:[]}throw new Error("Mock API function not found")}const r=await fetch(`${n.baseUrl}${n.customUrl||n.endpoint}`,{method:n.method||"GET",headers:{...n.headers,"Content-Type":"application/json"},body:n.method!=="GET"?JSON.stringify(n.params):void 0,signal:e});if(!r.ok)throw new Error(`HTTP error! status: ${r.status}`);const i=await r.json(),s=n.dataMapping?.resultPath?i[n.dataMapping.resultPath]:i;return Array.isArray(s)?s:[]}throw t.source==="supabase"?new Error("Supabase data binding not yet implemented"):new Error(`Unknown data source: ${t.source}`)}const Mp=aa((t,e)=>({dataTables:new Map,dataTableStates:new Map,registerDataTable:n=>{t(r=>{const i=new Map(r.dataTables),s=new Map(r.dataTableStates);return i.set(n.id,n),s.has(n.id)||s.set(n.id,dw(n.id)),console.log(` DataTable registered: ${n.id} (${n.name})`),{dataTables:i,dataTableStates:s}})},unregisterDataTable:n=>{const{dataTables:r}=e();r.get(n)?.persistCache&&P9(n),t(s=>{const o=new Map(s.dataTables),a=new Map(s.dataTableStates);return o.delete(n),a.delete(n),console.log(` DataTable unregistered: ${n}`),{dataTables:o,dataTableStates:a}})},loadDataTable:async n=>{const{dataTables:r,dataTableStates:i}=e(),s=r.get(n);if(!s){console.warn(` DataTable not found: ${n}`);return}const o=i.get(n),a=s.cacheTTL||300*1e3;if(s.useCache!==!1&&o?.status==="success"&&o.lastLoadedAt&&Date.now()-o.lastLoadedAt<a){console.log(` DataTable memory cache hit: ${n}`);return}if(s.persistCache&&s.useCache!==!1){const l=VMe(n,a);if(l){t(u=>{const c=new Map(u.dataTableStates),d=c.get(n)||dw(n);return c.set(n,{...d,status:"success",data:l,error:null,lastLoadedAt:Date.now()}),{dataTableStates:c}}),console.log(` DataTable localStorage cache hit: ${n}`);return}}t(l=>{const u=new Map(l.dataTableStates),c=u.get(n)||dw(n);return u.set(n,{...c,status:"loading",error:null}),{dataTableStates:u}});try{console.log(` DataTable loading: ${n}`);const l=await KMe(s.dataBinding),u=HMe(l,s.transform);s.persistCache&&GMe(n,u),t(c=>{const d=new Map(c.dataTableStates),f=d.get(n)||dw(n);return d.set(n,{...f,status:"success",data:u,error:null,lastLoadedAt:Date.now()}),console.log(` DataTable loaded: ${n} (raw: ${l.length}, transformed: ${u.length} items)`),{dataTableStates:d}})}catch(l){const u=l instanceof Error?l.message:"Unknown error";t(c=>{const d=new Map(c.dataTableStates),f=d.get(n)||dw(n);return d.set(n,{...f,status:"error",error:u}),console.error(` DataTable load error: ${n}`,u),{dataTableStates:d}})}},refreshDataTable:async n=>{const{dataTables:r}=e();if(!r.get(n)){console.warn(` DataTable not found: ${n}`);return}t(s=>{const o=new Map(s.dataTableStates),a=o.get(n);return a&&o.set(n,{...a,lastLoadedAt:null}),{dataTableStates:o}}),await e().loadDataTable(n)},refreshAllDataTables:async()=>{const{dataTables:n,refreshDataTable:r}=e(),i=Array.from(n.keys());console.log(` Refreshing all dataTables (${i.length})`),await Promise.all(i.map(s=>r(s))),console.log(" All dataTables refreshed")},addConsumer:(n,r)=>{t(i=>{const s=new Map(i.dataTableStates),o=s.get(n);return o&&!o.consumers.includes(r)&&(s.set(n,{...o,consumers:[...o.consumers,r]}),console.log(` Consumer added to ${n}: ${r}`)),{dataTableStates:s}})},removeConsumer:(n,r)=>{t(i=>{const s=new Map(i.dataTableStates),o=s.get(n);return o&&(s.set(n,{...o,consumers:o.consumers.filter(a=>a!==r)}),console.log(` Consumer removed from ${n}: ${r}`)),{dataTableStates:s}})},getDataTableData:n=>{const{dataTableStates:r}=e();return r.get(n)?.data||[]},getDataTableState:n=>{const{dataTableStates:r}=e();return r.get(n)},updateDataTableConfig:(n,r)=>{t(i=>{const s=new Map(i.dataTables),o=s.get(n);return o&&(s.set(n,{...o,...r}),console.log(` DataTable config updated: ${n}`)),{dataTables:s}})},clearAllDataTables:()=>{const{dataTables:n}=e();n.forEach((r,i)=>{r.persistCache&&P9(i)}),t({dataTables:new Map,dataTableStates:new Map}),console.log(" All dataTables cleared")}}));class vk{capacity;cache;head=null;tail=null;hits=0;misses=0;constructor(e=1e3){this.capacity=e,this.cache=new Map}get(e){const n=this.cache.get(e);return n?(this.moveToFront(n),this.hits++,n.value):(this.misses++,null)}set(e,n){const r=this.cache.get(e);if(r){r.value=n,this.moveToFront(r);return}const i={key:e,value:n,prev:null,next:null};this.cache.set(e,i),this.addToFront(i),this.cache.size>this.capacity&&this.removeLRU()}delete(e){const n=this.cache.get(e);return n?(this.removeNode(n),this.cache.delete(e),!0):!1}clear(){this.cache.clear(),this.head=null,this.tail=null,this.hits=0,this.misses=0}has(e){return this.cache.has(e)}moveToFront(e){e!==this.head&&(this.removeNode(e),this.addToFront(e))}addToFront(e){e.next=this.head,e.prev=null,this.head&&(this.head.prev=e),this.head=e,this.tail||(this.tail=e)}removeNode(e){e.prev?e.prev.next=e.next:this.head=e.next,e.next?e.next.prev=e.prev:this.tail=e.prev}removeLRU(){if(!this.tail)return;const e=this.tail;this.removeNode(e),this.cache.delete(e.key)}setMany(e){e.forEach(({key:n,value:r})=>{this.set(n,r)})}deleteMany(e){e.forEach(n=>{this.delete(n)})}getStats(){const e=this.hits+this.misses,n=e>0?this.hits/e*100:0;return{size:this.cache.size,capacity:this.capacity,hits:this.hits,misses:this.misses,hitRate:n.toFixed(2)+"%",memoryUsage:this.estimateMemoryUsage()}}resetStats(){this.hits=0,this.misses=0}estimateMemoryUsage(){const e=this.cache.size*2048;return e<1024?e+" B":e<1024*1024?(e/1024).toFixed(2)+" KB":(e/(1024*1024)).toFixed(2)+" MB"}getSize(){return this.cache.size}getCapacity(){return this.capacity}setCapacity(e){for(this.capacity=e;this.cache.size>this.capacity;)this.removeLRU()}}const WMe="xstudio",qMe=7;class YMe{db=null;elementCache=new vk(1e3);pageCache=new vk(100);projectCache=new vk(10);async init(){return new Promise((e,n)=>{const r=indexedDB.open(WMe,qMe);r.onerror=()=>{n(new Error("Failed to open IndexedDB"))},r.onsuccess=()=>{this.db=r.result,e()},r.onupgradeneeded=i=>{const s=i.target.result;if(s.objectStoreNames.contains("projects")||(s.createObjectStore("projects",{keyPath:"id"}),console.log("[IndexedDB] Created store: projects")),!s.objectStoreNames.contains("pages")){const o=s.createObjectStore("pages",{keyPath:"id"});o.createIndex("project_id","project_id",{unique:!1}),o.createIndex("order_num","order_num",{unique:!1}),console.log("[IndexedDB] Created store: pages")}if(s.objectStoreNames.contains("elements")){const o=i.target.transaction;if(o){const a=o.objectStore("elements");a.indexNames.contains("layout_id")||(a.createIndex("layout_id","layout_id",{unique:!1}),console.log("[IndexedDB] Added index: elements.layout_id"))}}else{const o=s.createObjectStore("elements",{keyPath:"id"});o.createIndex("page_id","page_id",{unique:!1}),o.createIndex("parent_id","parent_id",{unique:!1}),o.createIndex("order_num","order_num",{unique:!1}),o.createIndex("layout_id","layout_id",{unique:!1}),console.log("[IndexedDB] Created store: elements")}if(s.objectStoreNames.contains("design_tokens")){const o=i.target.transaction;if(o){const a=o.objectStore("design_tokens");a.indexNames.contains("theme_id")||(a.createIndex("theme_id","theme_id",{unique:!1}),console.log("[IndexedDB] Added index: design_tokens.theme_id"))}}else{const o=s.createObjectStore("design_tokens",{keyPath:"id"});o.createIndex("project_id","project_id",{unique:!1}),o.createIndex("theme_id","theme_id",{unique:!1}),console.log("[IndexedDB] Created store: design_tokens")}if(!s.objectStoreNames.contains("history")){const o=s.createObjectStore("history",{keyPath:"id"});o.createIndex("page_id","page_id",{unique:!1}),o.createIndex("created_at","created_at",{unique:!1}),console.log("[IndexedDB] Created store: history")}if(!s.objectStoreNames.contains("design_themes")){const o=s.createObjectStore("design_themes",{keyPath:"id"});o.createIndex("project_id","project_id",{unique:!1}),o.createIndex("status","status",{unique:!1}),console.log("[IndexedDB] Created store: design_themes")}if(s.objectStoreNames.contains("metadata")||(s.createObjectStore("metadata",{keyPath:"project_id"}),console.log("[IndexedDB] Created store: metadata")),s.objectStoreNames.contains("layouts")){const o=i.target.transaction;if(o){const a=o.objectStore("layouts");a.indexNames.contains("order_num")||(a.createIndex("order_num","order_num",{unique:!1}),console.log("[IndexedDB] Added index: layouts.order_num")),a.indexNames.contains("slug")||(a.createIndex("slug","slug",{unique:!1}),console.log("[IndexedDB] Added index: layouts.slug"))}}else{const o=s.createObjectStore("layouts",{keyPath:"id"});o.createIndex("project_id","project_id",{unique:!1}),o.createIndex("name","name",{unique:!1}),o.createIndex("order_num","order_num",{unique:!1}),o.createIndex("slug","slug",{unique:!1}),console.log("[IndexedDB] Created store: layouts with order_num, slug indexes")}if(!s.objectStoreNames.contains("data_tables")){const o=s.createObjectStore("data_tables",{keyPath:"id"});o.createIndex("project_id","project_id",{unique:!1}),o.createIndex("name","name",{unique:!1}),console.log("[IndexedDB] Created store: data_tables")}if(!s.objectStoreNames.contains("api_endpoints")){const o=s.createObjectStore("api_endpoints",{keyPath:"id"});o.createIndex("project_id","project_id",{unique:!1}),o.createIndex("name","name",{unique:!1}),o.createIndex("targetDataTable","targetDataTable",{unique:!1}),console.log("[IndexedDB] Created store: api_endpoints")}if(!s.objectStoreNames.contains("variables")){const o=s.createObjectStore("variables",{keyPath:"id"});o.createIndex("project_id","project_id",{unique:!1}),o.createIndex("name","name",{unique:!1}),o.createIndex("scope","scope",{unique:!1}),o.createIndex("page_id","page_id",{unique:!1}),console.log("[IndexedDB] Created store: variables")}if(!s.objectStoreNames.contains("transformers")){const o=s.createObjectStore("transformers",{keyPath:"id"});o.createIndex("project_id","project_id",{unique:!1}),o.createIndex("name","name",{unique:!1}),o.createIndex("level","level",{unique:!1}),o.createIndex("inputDataTable","inputDataTable",{unique:!1}),o.createIndex("outputDataTable","outputDataTable",{unique:!1}),console.log("[IndexedDB] Created store: transformers")}console.log("[IndexedDB] Schema upgrade completed")}})}async close(){this.db&&(this.db.close(),this.db=null,this.elementCache.clear(),this.pageCache.clear(),this.projectCache.clear(),console.log("[IndexedDB] Database closed and caches cleared"))}ensureDB(){if(!this.db)throw new Error("Database not initialized. Call init() first.");return this.db}async getFromStore(e,n){const r=this.ensureDB();return new Promise((i,s)=>{const l=r.transaction(e,"readonly").objectStore(e).get(n);l.onsuccess=()=>i(l.result||null),l.onerror=()=>s(l.error)})}async putToStore(e,n){const r=this.ensureDB();return new Promise((i,s)=>{const l=r.transaction(e,"readwrite").objectStore(e).put(n);l.onsuccess=()=>i(n),l.onerror=()=>s(l.error)})}async deleteFromStore(e,n){const r=this.ensureDB();return new Promise((i,s)=>{const l=r.transaction(e,"readwrite").objectStore(e).delete(n);l.onsuccess=()=>i(),l.onerror=()=>s(l.error)})}async getAllFromStore(e){const n=this.ensureDB();return new Promise((r,i)=>{const a=n.transaction(e,"readonly").objectStore(e).getAll();a.onsuccess=()=>r(a.result),a.onerror=()=>i(a.error)})}async getAllByIndex(e,n,r){const i=this.ensureDB();return new Promise((s,o)=>{const c=i.transaction(e,"readonly").objectStore(e).index(n).getAll(r);c.onsuccess=()=>s(c.result),c.onerror=()=>o(c.error)})}projects={insert:async e=>{const n=await this.putToStore("projects",e);return this.projectCache.set(e.id,n),n},update:async(e,n)=>{let r=this.projectCache.get(e);if(r||(r=await this.getFromStore("projects",e)),!r)throw new Error(`Project not found: ${e}`);const i={...r,...n,updated_at:new Date().toISOString()},s=await this.putToStore("projects",i);return this.projectCache.set(e,s),s},delete:async e=>{await this.deleteFromStore("projects",e),this.projectCache.delete(e)},getById:async e=>{const n=this.projectCache.get(e);if(n)return n;const r=await this.getFromStore("projects",e);return r&&this.projectCache.set(e,r),r},getAll:async()=>this.getAllFromStore("projects")};pages={insert:async e=>{const n=await this.putToStore("pages",e);return this.pageCache.set(e.id,n),n},insertMany:async e=>{if(e.length===0)return[];const n=this.ensureDB();return new Promise((r,i)=>{const s=n.transaction("pages","readwrite"),o=s.objectStore("pages");e.forEach(a=>{o.put(a)}),s.oncomplete=()=>{this.pageCache.setMany(e.map(a=>({key:a.id,value:a}))),r(e)},s.onerror=()=>{console.error(" [IndexedDB] pages.insertMany transaction failed:",s.error),i(s.error)}})},update:async(e,n)=>{let r=this.pageCache.get(e);if(r||(r=await this.getFromStore("pages",e)),!r)throw new Error(`Page not found: ${e}`);const i={...r,...n,updated_at:new Date().toISOString()},s=await this.putToStore("pages",i);return this.pageCache.set(e,s),s},delete:async e=>{await this.deleteFromStore("pages",e),this.pageCache.delete(e)},getById:async e=>{const n=this.pageCache.get(e);if(n)return n;const r=await this.getFromStore("pages",e);return r&&this.pageCache.set(e,r),r},getByProject:async e=>this.getAllByIndex("pages","project_id",e),getAll:async()=>this.getAllFromStore("pages")};elements={insert:async e=>{const n=await this.putToStore("elements",e);return this.elementCache.set(e.id,n),n},insertMany:async e=>{if(e.length===0)return[];const n=this.ensureDB();return new Promise((r,i)=>{const s=n.transaction("elements","readwrite"),o=s.objectStore("elements");e.forEach(a=>{o.put(a)}),s.oncomplete=()=>{this.elementCache.setMany(e.map(a=>({key:a.id,value:a}))),r(e)},s.onerror=()=>{console.error(" [IndexedDB] insertMany transaction failed:",s.error),i(s.error)}})},put:async e=>{const n=await this.putToStore("elements",e);return this.elementCache.set(e.id,n),n},update:async(e,n)=>{let r=this.elementCache.get(e);if(r||(r=await this.getFromStore("elements",e)),!r)throw new Error(`Element not found: ${e}`);const i={...r,...n,updated_at:new Date().toISOString()},s=await this.putToStore("elements",i);return this.elementCache.set(e,s),s},updateMany:async e=>{if(e.length===0)return[];const n=this.ensureDB();return new Promise((r,i)=>{const s=n.transaction("elements","readwrite"),o=s.objectStore("elements"),a=[];e.forEach(({id:l,data:u})=>{const c=o.get(l);c.onsuccess=()=>{const d=c.result;if(d){const f={...d,...u,updated_at:new Date().toISOString()};o.put(f),a.push(f)}}}),s.oncomplete=()=>{this.elementCache.setMany(a.map(l=>({key:l.id,value:l}))),r(a)},s.onerror=()=>{console.error(" [IndexedDB] updateMany transaction failed:",s.error),i(s.error)}})},delete:async e=>{await this.deleteFromStore("elements",e),this.elementCache.delete(e)},deleteMany:async e=>{if(e.length===0)return;const n=this.ensureDB();return new Promise((r,i)=>{const s=n.transaction("elements","readwrite"),o=s.objectStore("elements");e.forEach(a=>{o.delete(a)}),s.oncomplete=()=>{this.elementCache.deleteMany(e),r()},s.onerror=()=>{console.error(" [IndexedDB] deleteMany transaction failed:",s.error),i(s.error)}})},getById:async e=>{const n=this.elementCache.get(e);if(n)return n;const r=await this.getFromStore("elements",e);return r&&this.elementCache.set(e,r),r},getByPage:async e=>this.getAllByIndex("elements","page_id",e),getByLayout:async e=>{console.log(` [IndexedDB] getByLayout : layoutId=${e}`);const n=await this.getAllByIndex("elements","layout_id",e);return console.log(` [IndexedDB] getByLayout : ${n.length} `),n},getChildren:async e=>this.getAllByIndex("elements","parent_id",e),getAll:async()=>this.getAllFromStore("elements")};designTokens={getById:async e=>this.getFromStore("design_tokens",e),insert:async e=>this.putToStore("design_tokens",e),insertMany:async e=>{if(e.length===0)return[];const n=this.ensureDB();return new Promise((r,i)=>{const s=n.transaction("design_tokens","readwrite"),o=s.objectStore("design_tokens");e.forEach(a=>{o.put(a)}),s.oncomplete=()=>{r(e)},s.onerror=()=>{console.error(" [IndexedDB] designTokens.insertMany transaction failed:",s.error),i(s.error)}})},update:async(e,n)=>{const r=await this.getFromStore("design_tokens",e);if(!r)throw new Error(`Design token not found: ${e}`);const i={...r,...n};return this.putToStore("design_tokens",i)},delete:async e=>this.deleteFromStore("design_tokens",e),getByProject:async e=>this.getAllByIndex("design_tokens","project_id",e),getByTheme:async e=>this.getAllByIndex("design_tokens","theme_id",e),getAll:async()=>this.getAllFromStore("design_tokens")};history={insert:async e=>this.putToStore("history",e),getByPage:async(e,n=50)=>{const r=this.ensureDB();return new Promise((i,s)=>{const u=r.transaction("history","readonly").objectStore("history").index("page_id").getAll(e);u.onsuccess=()=>{const c=u.result.sort((d,f)=>new Date(f.created_at).getTime()-new Date(d.created_at).getTime()).slice(0,n);i(c)},u.onerror=()=>s(u.error)})},deleteOldEntries:async(e,n)=>{const i=(await this.history.getByPage(e,1e3)).slice(n),s=this.ensureDB();return new Promise((o,a)=>{const u=s.transaction("history","readwrite").objectStore("history");let c=0;i.forEach(d=>{const f=u.delete(d.id);f.onsuccess=()=>{c++,c===i.length&&o()},f.onerror=()=>a(f.error)}),i.length===0&&o()})},clear:async e=>{const n=await this.history.getByPage(e,1e3),r=this.ensureDB();return new Promise((i,s)=>{const a=r.transaction("history","readwrite").objectStore("history");let l=0;n.forEach(u=>{const c=a.delete(u.id);c.onsuccess=()=>{l++,l===n.length&&i()},c.onerror=()=>s(c.error)}),n.length===0&&i()})}};themes={getAll:async()=>this.getAllFromStore("design_themes"),getById:async e=>this.getFromStore("design_themes",e),getByProject:async e=>{const n=this.ensureDB();return new Promise((r,i)=>{const l=n.transaction("design_themes","readonly").objectStore("design_themes").index("project_id").getAll(e);l.onsuccess=()=>r(l.result||[]),l.onerror=()=>i(l.error)})},getActiveTheme:async e=>{const n=await this.themes.getByProject(e);return n.find(i=>i.status==="active")||n[0]||null},insert:async e=>(await this.putToStore("design_themes",e),e),update:async(e,n)=>{const r=await this.themes.getById(e);if(!r)throw new Error(`Theme ${e} not found`);const i={...r,...n,updated_at:new Date().toISOString()};return await this.putToStore("design_themes",i),i},delete:async e=>{const n=this.ensureDB();return new Promise((r,i)=>{const a=n.transaction("design_themes","readwrite").objectStore("design_themes").delete(e);a.onsuccess=()=>r(),a.onerror=()=>i(a.error)})}};layouts={insert:async e=>{const n=new Date().toISOString(),r={...e,created_at:e.created_at||n,updated_at:e.updated_at||n};return await this.putToStore("layouts",r),r},update:async(e,n)=>{const r=await this.layouts.getById(e);if(!r)throw new Error(`Layout ${e} not found`);const i={...r,...n,updated_at:new Date().toISOString()};return await this.putToStore("layouts",i),i},delete:async e=>{await this.deleteFromStore("layouts",e)},getById:async e=>this.getFromStore("layouts",e),getByProject:async e=>this.getAllByIndex("layouts","project_id",e),getAll:async()=>this.getAllFromStore("layouts")};data_tables={insert:async e=>{const n=new Date().toISOString(),r={...e,created_at:e.created_at||n,updated_at:e.updated_at||n};return await this.putToStore("data_tables",r),r},update:async(e,n)=>{const r=await this.data_tables.getById(e);if(!r)throw new Error(`DataTable ${e} not found`);const i={...r,...n,updated_at:new Date().toISOString()};return await this.putToStore("data_tables",i),i},delete:async e=>{await this.deleteFromStore("data_tables",e)},getById:async e=>this.getFromStore("data_tables",e),getByProject:async e=>this.getAllByIndex("data_tables","project_id",e),getByName:async e=>(await this.getAllByIndex("data_tables","name",e))[0]||null,getAll:async()=>this.getAllFromStore("data_tables")};api_endpoints={insert:async e=>{const n=new Date().toISOString(),r={...e,created_at:e.created_at||n,updated_at:e.updated_at||n};return await this.putToStore("api_endpoints",r),r},update:async(e,n)=>{const r=await this.api_endpoints.getById(e);if(!r)throw new Error(`ApiEndpoint ${e} not found`);const i={...r,...n,updated_at:new Date().toISOString()};return await this.putToStore("api_endpoints",i),i},delete:async e=>{await this.deleteFromStore("api_endpoints",e)},getById:async e=>this.getFromStore("api_endpoints",e),getByProject:async e=>this.getAllByIndex("api_endpoints","project_id",e),getByName:async e=>(await this.getAllByIndex("api_endpoints","name",e))[0]||null,getByTargetDataTable:async e=>this.getAllByIndex("api_endpoints","targetDataTable",e),getAll:async()=>this.getAllFromStore("api_endpoints")};variables={insert:async e=>{const n=new Date().toISOString(),r={...e,created_at:e.created_at||n,updated_at:e.updated_at||n};return await this.putToStore("variables",r),r},update:async(e,n)=>{const r=await this.variables.getById(e);if(!r)throw new Error(`Variable ${e} not found`);const i={...r,...n,updated_at:new Date().toISOString()};return await this.putToStore("variables",i),i},delete:async e=>{await this.deleteFromStore("variables",e)},getById:async e=>this.getFromStore("variables",e),getByProject:async e=>this.getAllByIndex("variables","project_id",e),getByName:async e=>(await this.getAllByIndex("variables","name",e))[0]||null,getByScope:async e=>this.getAllByIndex("variables","scope",e),getByPage:async e=>this.getAllByIndex("variables","page_id",e),getAll:async()=>this.getAllFromStore("variables")};transformers={insert:async e=>{const n=new Date().toISOString(),r={...e,created_at:e.created_at||n,updated_at:e.updated_at||n};return await this.putToStore("transformers",r),r},update:async(e,n)=>{const r=await this.transformers.getById(e);if(!r)throw new Error(`Transformer ${e} not found`);const i={...r,...n,updated_at:new Date().toISOString()};return await this.putToStore("transformers",i),i},delete:async e=>{await this.deleteFromStore("transformers",e)},getById:async e=>this.getFromStore("transformers",e),getByProject:async e=>this.getAllByIndex("transformers","project_id",e),getByName:async e=>(await this.getAllByIndex("transformers","name",e))[0]||null,getByLevel:async e=>this.getAllByIndex("transformers","level",e),getByInputDataTable:async e=>this.getAllByIndex("transformers","inputDataTable",e),getByOutputDataTable:async e=>this.getAllByIndex("transformers","outputDataTable",e),getAll:async()=>this.getAllFromStore("transformers")};metadata={get:async()=>(await this.getAllFromStore("metadata"))[0]||null,set:async e=>{await this.putToStore("metadata",e)},update:async e=>{const n=await this.metadata.get();if(!n)throw new Error("Metadata not found. Call set() first.");const r={...n,...e};await this.putToStore("metadata",r)}};cache={getStats:()=>({elements:this.elementCache.getStats(),pages:this.pageCache.getStats(),projects:this.projectCache.getStats()}),clear:()=>{this.elementCache.clear(),this.pageCache.clear(),this.projectCache.clear(),console.log("[IndexedDB] All caches cleared")},resetStats:()=>{this.elementCache.resetStats(),this.pageCache.resetStats(),this.projectCache.resetStats(),console.log("[IndexedDB] Cache statistics reset")}};batch={export:async()=>{const[e,n,r,i,s]=await Promise.all([this.projects.getAll().then(o=>o[0]||null),this.pages.getAll(),this.elements.getAll(),this.designTokens.getAll(),this.metadata.get()]);return{project:e,pages:n,elements:r,designTokens:i,metadata:s}},import:async e=>{e.project&&await this.projects.insert(e.project),e.pages&&e.pages.length>0&&await this.pages.insertMany(e.pages),e.elements&&e.elements.length>0&&await this.elements.insertMany(e.elements),e.designTokens&&e.designTokens.length>0&&await this.designTokens.insertMany(e.designTokens),e.metadata&&await this.metadata.set(e.metadata),console.log("[IndexedDB] Import completed:",{pages:e.pages?.length||0,elements:e.elements?.length||0,designTokens:e.designTokens?.length||0})},clear:async()=>{const e=this.ensureDB();return new Promise((n,r)=>{const i=["projects","pages","elements","design_tokens","design_themes","history","metadata","layouts","data_tables","api_endpoints","variables","transformers"],s=e.transaction(i,"readwrite");let o=0;i.forEach(a=>{const l=s.objectStore(a).clear();l.onsuccess=()=>{o++,o===i.length&&(console.log("[IndexedDB] All stores cleared"),n())},l.onerror=()=>r(l.error)})})}}}let bk=null,oI=null;async function vn(){if(bk)return bk;if(oI)return oI;const t=(async()=>{const e=new YMe;return await e.init(),bk=e,oI=null,e})();return oI=t,t}const h8=Object.freeze(Object.defineProperty({__proto__:null,getDB:vn},Symbol.toStringTag,{value:"Module"}));function Cle(t,e){return t===void 0||t===""?e:t.toLowerCase()==="true"||t==="1"}function xd(){return Cle("true",!1)}function fh(){return Cle("false",!1)}function uS(t){if(!(xd()&&!fh()))try{const n=document.getElementById("previewFrame");if(n?.contentWindow){const r=Array.from(t.values()).map(i=>({id:i.id,name:i.name,schema:i.schema,mockData:i.mockData,runtimeData:i.runtimeData,useMockData:i.useMockData}));n.contentWindow.postMessage({type:"UPDATE_DATA_TABLES",dataTables:r},"*")}}catch(n){console.warn(" Canvas  :",n)}}const XMe=t=>async e=>{t({isLoading:!0});try{const r=await(await vn()).data_tables?.getByProject(e)||[],i=new Map;(r||[]).forEach(s=>{i.set(s.name,s)}),t(s=>({dataTables:i,isLoading:!1,errors:new Map(s.errors)})),uS(i)}catch(n){console.error(" DataTable   :",n),t(r=>{const i=new Map(r.errors);return i.set("fetchDataTables",n),{errors:i,isLoading:!1}})}},JMe=(t,e)=>async n=>{t({isLoading:!0});try{const r=await vn(),i={id:crypto.randomUUID(),name:n.name,project_id:n.project_id,schema:n.schema||[],mockData:n.mockData||[],useMockData:n.useMockData??!0,created_at:new Date().toISOString(),updated_at:new Date().toISOString()};await r.data_tables?.insert(i);const{dataTables:s}=e(),o=new Map(s);return o.set(i.name,i),t({dataTables:o,isLoading:!1}),uS(o),i}catch(r){throw console.error(" DataTable  :",r),t(i=>{const s=new Map(i.errors);return s.set("createDataTable",r),{errors:s,isLoading:!1}}),r}},ZMe=(t,e)=>async(n,r)=>{try{await(await vn()).data_tables?.update(n,r);const{dataTables:s}=e(),o=new Map(s);let a;if(s.forEach((l,u)=>{l.id===n&&(a=u)}),a){const u={...o.get(a),...r,updated_at:new Date().toISOString()};r.name&&r.name!==a?(o.delete(a),o.set(r.name,u)):o.set(a,u)}t({dataTables:o}),uS(o)}catch(i){throw console.error(" DataTable  :",i),t(s=>{const o=new Map(s.errors);return o.set("updateDataTable",i),{errors:o}}),i}},e5e=(t,e)=>async n=>{t({isLoading:!0});try{const i=(await vn()).data_tables;if(!i)throw new Error("data_tables store not found in database");await i.delete(n);const{dataTables:s}=e(),o=new Map(s);s.forEach((a,l)=>{a.id===n&&o.delete(l)}),t({dataTables:o,isLoading:!1}),uS(o)}catch(r){throw console.error(" DataTable  :",r),t(i=>{const s=new Map(i.errors);return s.set("deleteDataTable",r),{errors:s,isLoading:!1}}),r}},t5e=t=>e=>{const{dataTables:n}=t(),r=n.get(e);return r?r.useMockData?r.mockData||[]:r.runtimeData||[]:(console.warn(` DataTable "${e}" not found`),[])},n5e=(t,e)=>(n,r)=>{const{dataTables:i}=e(),s=i.get(n);if(!s){console.warn(` DataTable "${n}" not found`);return}const o=new Map(i);o.set(n,{...s,runtimeData:r}),t({dataTables:o}),uS(o)},r5e=t=>async e=>{t({isLoading:!0});try{const r=await(await vn()).api_endpoints?.getByProject(e)||[],i=new Map;(r||[]).forEach(s=>{i.set(s.name,s)}),t(s=>({apiEndpoints:i,isLoading:!1,errors:new Map(s.errors)}))}catch(n){console.error(" ApiEndpoint   :",n),t(r=>{const i=new Map(r.errors);return i.set("fetchApiEndpoints",n),{errors:i,isLoading:!1}})}},i5e=(t,e)=>async n=>{t({isLoading:!0});try{const r=await vn(),i={id:crypto.randomUUID(),name:n.name,project_id:n.project_id,method:n.method,baseUrl:n.baseUrl,path:n.path,headers:n.headers||[],queryParams:n.queryParams||[],bodyType:n.bodyType||"none",bodyTemplate:n.bodyTemplate,responseMapping:n.responseMapping||{dataPath:"data"},targetDataTable:n.targetDataTable,executionMode:n.executionMode||"client",serverConfig:n.serverConfig,timeout:n.timeout||3e4,retryCount:n.retryCount||0,created_at:new Date().toISOString(),updated_at:new Date().toISOString()};await r.api_endpoints?.insert(i);const{apiEndpoints:s}=e(),o=new Map(s);return o.set(i.name,i),t({apiEndpoints:o,isLoading:!1}),i}catch(r){throw console.error(" ApiEndpoint  :",r),t(i=>{const s=new Map(i.errors);return s.set("createApiEndpoint",r),{errors:s,isLoading:!1}}),r}},s5e=(t,e)=>async(n,r)=>{try{await(await vn()).api_endpoints?.update(n,r);const{apiEndpoints:s}=e(),o=new Map(s);let a;if(s.forEach((l,u)=>{l.id===n&&(a=u)}),a){const u={...o.get(a),...r,updated_at:new Date().toISOString()};r.name&&r.name!==a?(o.delete(a),o.set(r.name,u)):o.set(a,u)}t({apiEndpoints:o})}catch(i){throw console.error(" ApiEndpoint  :",i),t(s=>{const o=new Map(s.errors);return o.set("updateApiEndpoint",i),{errors:o}}),i}},o5e=(t,e)=>async n=>{t({isLoading:!0});try{await(await vn()).api_endpoints?.delete(n);const{apiEndpoints:i}=e(),s=new Map(i);i.forEach((o,a)=>{o.id===n&&s.delete(a)}),t({apiEndpoints:s,isLoading:!1})}catch(r){throw console.error(" ApiEndpoint  :",r),t(i=>{const s=new Map(i.errors);return s.set("deleteApiEndpoint",r),{errors:s,isLoading:!1}}),r}},a5e=(t,e)=>async(n,r)=>{const{apiEndpoints:i,loadingApis:s}=e();let o;if(i.forEach(l=>{l.id===n&&(o=l)}),!o)throw new Error(`ApiEndpoint not found: ${n}`);const a=new Set(s);a.add(n),t({loadingApis:a});try{let l=`${o.baseUrl}${o.path}`;if(r&&Object.entries(r).forEach(([E,I])=>{l=l.replace(`{{${E}}}`,String(I))}),o.queryParams.length>0){const E=new URLSearchParams;o.queryParams.forEach(D=>{if(D.key){let T=D.value;r&&Object.entries(r).forEach(([M,P])=>{T=T.replace(`{{${M}}}`,String(P))}),E.append(D.key,T)}});const I=E.toString();I&&(l+=`?${I}`)}const u={};o.headers.forEach(E=>{if(E.enabled&&E.key){let I=E.value;r&&Object.entries(r).forEach(([D,T])=>{I=I.replace(`{{${D}}}`,String(T))}),u[E.key]=I}});let c;o.bodyType!=="none"&&o.bodyTemplate&&(c=o.bodyTemplate,r&&Object.entries(r).forEach(([E,I])=>{c=c.replace(`{{${E}}}`,JSON.stringify(I))}));let d=l;const f=l.startsWith("http://")||l.startsWith("https://"),p=!1,m=new AbortController,v=setTimeout(()=>m.abort(),o.timeout||3e4),y=await fetch(d,{method:o.method,headers:u,body:c,signal:m.signal});if(clearTimeout(v),!y.ok)throw new Error(`HTTP ${y.status}: ${y.statusText}`);const A=await y.json();let C=A;if(o.responseMapping.dataPath&&(C=o.responseMapping.dataPath.split(".").reduce((I,D)=>I?.[D],A)),o.targetDataTable&&C){const{dataTables:E}=e(),I=E.get(o.targetDataTable);if(I){const D=new Map(E);D.set(o.targetDataTable,{...I,runtimeData:Array.isArray(C)?C:[C]}),t({dataTables:D}),uS(D)}}return C}catch(l){throw console.error(` ApiEndpoint "${o?.name}"  :`,l),t(u=>{const c=new Map(u.errors);return c.set(`executeApi_${n}`,l),{errors:c}}),l}finally{const l=e().loadingApis,u=new Set(l);u.delete(n),t({loadingApis:u})}},l5e=t=>async e=>{t({isLoading:!0});try{const r=await(await vn()).variables?.getByProject(e)||[],i=new Map;(r||[]).forEach(s=>{i.set(s.name,s)}),t(s=>({variables:i,isLoading:!1,errors:new Map(s.errors)}))}catch(n){console.error(" Variable   :",n),t(r=>{const i=new Map(r.errors);return i.set("fetchVariables",n),{errors:i,isLoading:!1}})}},u5e=(t,e)=>async n=>{t({isLoading:!0});try{const r=await vn(),i={id:crypto.randomUUID(),name:n.name,project_id:n.project_id,type:n.type,defaultValue:n.defaultValue,persist:n.persist??!1,scope:n.scope||"global",page_id:n.page_id,created_at:new Date().toISOString(),updated_at:new Date().toISOString()};await r.variables?.insert(i);const{variables:s}=e(),o=new Map(s);return o.set(i.name,i),t({variables:o,isLoading:!1}),i}catch(r){throw console.error(" Variable  :",r),t(i=>{const s=new Map(i.errors);return s.set("createVariable",r),{errors:s,isLoading:!1}}),r}},c5e=(t,e)=>async(n,r)=>{try{await(await vn()).variables?.update(n,r);const{variables:s}=e(),o=new Map(s);let a;if(s.forEach((l,u)=>{l.id===n&&(a=u)}),a){const u={...o.get(a),...r,updated_at:new Date().toISOString()};r.name&&r.name!==a?(o.delete(a),o.set(r.name,u)):o.set(a,u)}t({variables:o})}catch(i){throw console.error(" Variable  :",i),t(s=>{const o=new Map(s.errors);return o.set("updateVariable",i),{errors:o}}),i}},d5e=(t,e)=>async n=>{t({isLoading:!0});try{await(await vn()).variables?.delete(n);const{variables:i}=e(),s=new Map(i);i.forEach((o,a)=>{o.id===n&&s.delete(a)}),t({variables:s,isLoading:!1})}catch(r){throw console.error(" Variable  :",r),t(i=>{const s=new Map(i.errors);return s.set("deleteVariable",r),{errors:s,isLoading:!1}}),r}},h5e=t=>e=>{const{variables:n}=t(),r=n.get(e);if(!r){console.warn(` Variable "${e}" not found`);return}return r.defaultValue},f5e=(t,e)=>(n,r)=>{const{variables:i}=e(),s=i.get(n);if(!s){console.warn(` Variable "${n}" not found`);return}const o=new Map(i);o.set(n,{...s,defaultValue:r}),t({variables:o})},p5e=t=>async e=>{t({isLoading:!0});try{const r=await(await vn()).transformers?.getByProject(e)||[],i=new Map;(r||[]).forEach(s=>{i.set(s.name,s)}),t(s=>({transformers:i,isLoading:!1,errors:new Map(s.errors)}))}catch(n){console.error(" Transformer   :",n),t(r=>{const i=new Map(r.errors);return i.set("fetchTransformers",n),{errors:i,isLoading:!1}})}},g5e=(t,e)=>async n=>{t({isLoading:!0});try{const r=await vn(),i={id:crypto.randomUUID(),name:n.name,project_id:n.project_id,level:n.level,responseMapping:n.responseMapping,jsTransformer:n.jsTransformer,customFunction:n.customFunction,inputDataTable:n.inputDataTable,outputDataTable:n.outputDataTable,enabled:n.enabled??!0,created_at:new Date().toISOString(),updated_at:new Date().toISOString()};await r.transformers?.insert(i);const{transformers:s}=e(),o=new Map(s);return o.set(i.name,i),t({transformers:o,isLoading:!1}),i}catch(r){throw console.error(" Transformer  :",r),t(i=>{const s=new Map(i.errors);return s.set("createTransformer",r),{errors:s,isLoading:!1}}),r}},m5e=(t,e)=>async(n,r)=>{t({isLoading:!0});try{await(await vn()).transformers?.update(n,r);const{transformers:s}=e(),o=new Map(s);let a;if(s.forEach((l,u)=>{l.id===n&&(a=u)}),a){const u={...o.get(a),...r,updated_at:new Date().toISOString()};r.name&&r.name!==a?(o.delete(a),o.set(r.name,u)):o.set(a,u)}t({transformers:o,isLoading:!1})}catch(i){throw console.error(" Transformer  :",i),t(s=>{const o=new Map(s.errors);return o.set("updateTransformer",i),{errors:o,isLoading:!1}}),i}},A5e=(t,e)=>async n=>{t({isLoading:!0});try{await(await vn()).transformers?.delete(n);const{transformers:i}=e(),s=new Map(i);i.forEach((o,a)=>{o.id===n&&s.delete(a)}),t({transformers:s,isLoading:!1})}catch(r){throw console.error(" Transformer  :",r),t(i=>{const s=new Map(i.errors);return s.set("deleteTransformer",r),{errors:s,isLoading:!1}}),r}},y5e=t=>async(e,n)=>{const{transformers:r,dataTables:i,variables:s}=t();let o;if(r.forEach(a=>{a.id===e&&(o=a)}),!o)throw new Error(`Transformer not found: ${e}`);if(!o.enabled)return console.warn(` Transformer "${o.name}" is disabled`),n;try{const a={dataTables:Object.fromEntries(Array.from(i.entries()).map(([u,c])=>[u,c.useMockData?c.mockData:c.runtimeData||[]])),variables:Object.fromEntries(Array.from(s.entries()).map(([u,c])=>[u,c.defaultValue])),api:{fetch:async(u,c)=>(await fetch(u,c)).json()},utils:{formatDate:(u,c)=>{const d=new Date(u);return c.replace("YYYY",d.getFullYear().toString()).replace("MM",(d.getMonth()+1).toString().padStart(2,"0")).replace("DD",d.getDate().toString().padStart(2,"0"))},formatCurrency:(u,c)=>new Intl.NumberFormat("ko-KR",{style:"currency",currency:c}).format(u)}};let l=n;switch(o.level){case"level1_mapping":if(o.responseMapping){const{dataPath:u,fieldMappings:c}=o.responseMapping;u&&typeof n=="object"&&(l=u.split(".").reduce((f,p)=>f&&typeof f=="object"&&p in f?f[p]:f,n)),c&&Array.isArray(l)&&(l=l.map(d=>{const f={};return c.forEach(p=>{let m=d[p.sourceKey];if(p.transform&&m!==void 0)switch(p.transform){case"uppercase":m=String(m).toUpperCase();break;case"lowercase":m=String(m).toLowerCase();break;case"trim":m=String(m).trim();break;case"number":m=Number(m);break;case"boolean":m=!!m;break;case"date":m=new Date(String(m)).toISOString();break}f[p.targetKey]=m}),f}))}break;case"level2_transformer":o.jsTransformer?.code&&(l=new Function("data","context",o.jsTransformer.code)(n,a));break;case"level3_custom":console.warn("Level 3 Custom Function   .");break}return Array.isArray(l)?l:[l]}catch(a){throw console.error(` Transformer "${o?.name}"  :`,a),a}},v5e=t=>()=>{t({errors:new Map})},b5e=t=>()=>{t({dataTables:new Map,apiEndpoints:new Map,variables:new Map,transformers:new Map,loadingApis:new Set,errors:new Map,isLoading:!1})},Ele="xstudio-runtime-values";function x5e(){try{const t=localStorage.getItem(Ele);if(t){const e=JSON.parse(t);return new Map(Object.entries(e))}}catch(t){console.warn("[DataStore] Failed to load persisted runtime values:",t)}return new Map}function C5e(t,e){try{const n={};e.forEach((r,i)=>{r.persist&&t.has(i)&&(n[i]=t.get(i))}),localStorage.setItem(Ele,JSON.stringify(n))}catch(n){console.warn("[DataStore] Failed to save persisted runtime values:",n)}}const E5e=(t,e)=>{const n=XMe(t),r=JMe(t,e),i=ZMe(t,e),s=e5e(t,e),o=t5e(e),a=n5e(t,e),l=r5e(t),u=i5e(t,e),c=s5e(t,e),d=o5e(t,e),f=a5e(t,e),p=l5e(t),m=u5e(t,e),v=c5e(t,e),y=d5e(t,e),A=h5e(e),C=f5e(t,e),E=p5e(t),I=g5e(t,e),D=m5e(t,e),T=A5e(t,e),M=y5e(e),P=v5e(t),k=b5e(t);return{dataTables:new Map,apiEndpoints:new Map,variables:new Map,transformers:new Map,loadingApis:new Set,errors:new Map,isLoading:!1,runtimeValues:new Map,isInitialized:!1,currentProjectId:null,fetchDataTables:n,createDataTable:r,updateDataTable:i,deleteDataTable:s,getDataTableData:o,setRuntimeData:a,fetchApiEndpoints:l,createApiEndpoint:u,updateApiEndpoint:c,deleteApiEndpoint:d,executeApiEndpoint:f,fetchVariables:p,createVariable:m,updateVariable:v,deleteVariable:y,getVariableValue:A,setVariableValue:C,fetchTransformers:E,createTransformer:I,updateTransformer:D,deleteTransformer:T,executeTransformer:M,setRuntimeValue:(j,H)=>{const{runtimeValues:W,variables:O}=e(),G=new Map(W);G.set(j,H),t({runtimeValues:G}),C5e(G,O)},getRuntimeValue:j=>{const{runtimeValues:H,variables:W}=e();return H.has(j)?H.get(j):W.get(j)?.defaultValue},initializeForProject:async j=>{const{currentProjectId:H,isInitialized:W}=e();if(W&&H===j){console.log(`[DataStore] Already initialized for project: ${j}`);return}console.log(`[DataStore] Initializing for project: ${j}`),t({isLoading:!0,currentProjectId:j});try{await Promise.all([p(j),n(j),l(j),E(j)]);const O=x5e(),{variables:G}=e(),q=new Map;G.forEach((J,te)=>{J.persist&&O.has(te)&&q.set(te,O.get(te))}),t({isInitialized:!0,isLoading:!1,runtimeValues:q}),console.log(`[DataStore] Initialized: ${G.size} variables, ${e().dataTables.size} tables`)}catch(O){throw console.error("[DataStore] Initialization failed:",O),t({isLoading:!1}),O}},clearErrors:P,reset:k}},Oi=aa()(XF(E5e)),N$=()=>{const t=Oi(e=>e.dataTables);return Array.from(t.values())},$T=()=>{const t=Oi(e=>e.apiEndpoints);return Array.from(t.values())},L$=()=>{const t=Oi(e=>e.variables);return Array.from(t.values())},S5e=()=>{const t=Oi(e=>e.transformers);return Array.from(t.values())},w5e=()=>{const{variables:t,getRuntimeValue:e}=Oi.getState();return Array.from(t.values()).map(n=>({id:n.id,name:n.name,type:n.type,defaultValue:e(n.name),persist:n.persist,scope:n.scope,page_id:n.page_id}))};function _5e(t,e){for(const n of Object.keys(e))if(t[n]!==e[n])return!0;return!1}const I5e=()=>aa((t,e)=>({elements:[],setElements:n=>t({elements:n}),updateElementProps:(n,r)=>{const i=r??{};Object.keys(i).length!==0&&t(s=>{const o=s.elements.findIndex(d=>d.id===n);if(o<0)return s;const a=s.elements[o],l=a.props??{};if(!_5e(l,i))return s;const u={...a,props:{...l,...i}},c=s.elements.slice();return c[o]=u,{elements:c}})},addElement:n=>{t(r=>({elements:[...r.elements,n]}))},addElements:n=>{t(r=>({elements:[...r.elements,...n]}))},removeElement:n=>{t(r=>({elements:r.elements.filter(i=>i.id!==n)}))},removeElements:n=>{const r=new Set(n);t(i=>({elements:i.elements.filter(s=>!r.has(s.id))}))},updateElement:(n,r)=>{t(i=>({elements:i.elements.map(s=>s.id===n?{...s,...r}:s)}))},getElements:()=>e().elements,pages:[],setPages:n=>t({pages:n}),currentPageId:null,setCurrentPageId:n=>t({currentPageId:n}),currentPath:"/",setCurrentPath:n=>t({currentPath:n}),routeParams:{},setRouteParams:n=>t({routeParams:n}),layouts:[],setLayouts:n=>t({layouts:n}),currentLayoutId:null,setCurrentLayoutId:n=>t({currentLayoutId:n}),themeVars:[],setThemeVars:n=>{t({themeVars:n}),R9(n,e().isDarkMode)},isDarkMode:!1,setDarkMode:n=>{t({isDarkMode:n}),document.documentElement.setAttribute("data-theme",n?"dark":"light"),R9(e().themeVars,n)},dataSources:[],setDataSources:n=>t({dataSources:n}),dataStates:new Map,setDataState:(n,r)=>{t(i=>{const s=new Map(i.dataStates);return s.set(n,r),{dataStates:s}})},dataTables:[],setDataTables:n=>t({dataTables:n}),apiEndpoints:[],setApiEndpoints:n=>t({apiEndpoints:n}),variables:[],setVariables:n=>{t({variables:n});const i={...e().appState};n.forEach(s=>{s.scope==="global"&&s.defaultValue!==void 0&&(s.name in i||(i[s.name]=s.defaultValue))}),t({appState:i})},authToken:null,setAuthToken:n=>t({authToken:n}),appState:{},pageStates:new Map,componentStates:new Map,setState:(n,r)=>{const[i,...s]=n.split("."),o=s.join(".");switch(i){case"app":t(a=>({appState:{...a.appState,[o]:r}}));break;case"page":{const a=e().currentPageId;a&&t(l=>{const u=new Map(l.pageStates),c=u.get(a)||{};return u.set(a,{...c,[o]:r}),{pageStates:u}});break}case"component":{const a=o.indexOf(".");if(a>0){const l=o.slice(0,a),u=o.slice(a+1);t(c=>{const d=new Map(c.componentStates),f=d.get(l)||{};return d.set(l,{...f,[u]:r}),{componentStates:d}})}break}default:t(a=>({appState:{...a.appState,[n]:r}}))}},getState:n=>{const[r,...i]=n.split("."),s=i.join("."),o=e();switch(r){case"app":return aI(o.appState,s);case"page":return aI(o.pageStates.get(o.currentPageId||"")||{},s);case"component":{const a=s.indexOf(".");if(a>0){const l=s.slice(0,a),u=s.slice(a+1);return aI(o.componentStates.get(l)||{},u)}return}default:return aI(o.appState,n)}},isReady:!1,setReady:n=>t({isReady:n})}));function aI(t,e){if(!e)return t;const n=e.split(".");let r=t;for(const i of n){if(r==null||typeof r!="object")return;r=r[i]}return r}function R9(t,e){const n=document.documentElement,r=document.getElementById("runtime-theme-vars");r&&r.remove();const i=t.filter(l=>!l.isDark),s=t.filter(l=>l.isDark);let o=`:root {
`;i.forEach(l=>{o+=`  ${l.name}: ${l.value};
`}),o+=`}
`,s.length>0&&(o+=`[data-theme="dark"] {
`,s.forEach(l=>{o+=`  ${l.name}: ${l.value};
`}),o+=`}
`);const a=document.createElement("style");a.id="runtime-theme-vars",a.textContent=o,document.head.appendChild(a),n.setAttribute("data-theme",e?"dark":"light")}let xk=null;function B5e(){return xk||(xk=I5e()),xk}function N9(t){return B5e()(t)}const Sle=300*1e3,wle=100;class _le{cache=new Map;ttl;maxEntries;constructor(e={}){this.ttl=e.ttl||Sle,this.maxEntries=e.maxEntries||wle}static createKey(e){if(!e)return"";try{if(typeof e=="object"&&"source"in e&&"name"in e){const n=e;return`prop:${n.source}:${n.name}:${n.path||""}`}return typeof e=="object"&&"type"in e&&"config"in e?`data:${JSON.stringify(e)}`:""}catch{return""}}get(e){const n=this.cache.get(e);if(!n)return;const r=Date.now();if(r-n.createdAt>n.ttl){this.cache.delete(e);return}return n.lastAccessedAt=r,n.data}set(e,n,r){this.cache.size>=this.maxEntries&&this.evictLRU();const i=Date.now();this.cache.set(e,{data:n,createdAt:i,lastAccessedAt:i,ttl:r||this.ttl})}invalidate(e){this.cache.delete(e)}invalidateMatching(e){const n=typeof e=="string"?new RegExp(e):e;for(const r of this.cache.keys())n.test(r)&&this.cache.delete(r)}clear(){this.cache.clear()}getStats(){return{size:this.cache.size,maxEntries:this.maxEntries,ttl:this.ttl}}evictLRU(){let e=null,n=1/0;for(const[r,i]of this.cache.entries())i.lastAccessedAt<n&&(n=i.lastAccessedAt,e=r);e&&this.cache.delete(e)}}const lI=new _le({ttl:Sle,maxEntries:wle}),Ck=_le.createKey;async function D5e(t){const n=t.config.data;if(n&&Array.isArray(n))return n;throw new Error("Static data is not an array or is missing")}async function T5e(t,e,n,r){const i=t.config;if(!i.baseUrl||!i.endpoint)throw new Error("API configuration is incomplete");if(i.baseUrl==="MOCK_DATA")try{const{apiConfig:d}=await en(async()=>{const{apiConfig:p}=await Promise.resolve().then(()=>oue);return{apiConfig:p}},void 0),f=d.MOCK_DATA;if(f){const p=await f(i.endpoint||"/data",i.params),m=i.dataMapping?.resultPath?p[i.dataMapping.resultPath]:p;return Array.isArray(m)?m:[]}else throw new Error("Mock API function not found")}catch(d){if(n.length>0)return n;throw d}let s=i.baseUrl||"";switch(i.baseUrl){case"JSONPLACEHOLDER":s="https://jsonplaceholder.typicode.com";break;case"DUMMYJSON":s="https://dummyjson.com";break;case"CUSTOM":s=i.customUrl||"";break}const o=`${s}${i.endpoint}`,a=await fetch(o,{method:i.method||"GET",headers:{...i.headers,"Content-Type":"application/json"},body:i.method!=="GET"?JSON.stringify(i.params):void 0,signal:r});if(!a.ok)throw new Error(`HTTP error! status: ${a.status}`);const l=await a.json(),u=i.dataMapping?.resultPath?l[i.dataMapping.resultPath]:l;return Array.isArray(u)?u:[]}function F$({dataBinding:t,componentName:e,fallbackData:n=[],datatableId:r,elementId:i}){const s=Mp(Ee=>r?Ee.dataTableStates.get(r):void 0),o=Mp(Ee=>Ee.addConsumer),a=Mp(Ee=>Ee.removeConsumer),l=Mp(Ee=>Ee.loadDataTable),u=x.useMemo(()=>typeof window>"u"?!1:window.parent!==window,[]),c=N$(),d=N9(Ee=>Ee.dataTables),f=u?d:c,p=$T(),m=N9(Ee=>Ee.apiEndpoints),v=u?m:p,y=Oi(Ee=>Ee.executeApiEndpoint);x.useEffect(()=>{if(r&&i)return o(r,i),(!s||s.status==="idle")&&l(r),()=>{a(r,i)}},[r,i,o,a,l,s]);const[A,C]=x.useState(null),[E,I]=x.useState(""),D=x.useMemo(()=>{if(!t)return"";try{return JSON.stringify(t)}catch{return String(t)}},[t]),T=x.useMemo(()=>t,[D]),M=T&&"source"in T&&"name"in T&&!("type"in T),P=x.useMemo(()=>M&&T.refreshMode||"manual",[M,T]),k=x.useMemo(()=>M&&T.refreshInterval||5e3,[M,T]),L=x.useMemo(()=>{if(M){const Ee=T;if(Ee.source==="dataTable"&&Ee.name){const Me=f.find(Ue=>Ue.name===Ee.name);if(Me){const Ue=Me.runtimeData&&Me.runtimeData.length>0,Ge=Me.useMockData?Me.mockData:Ue?Me.runtimeData:Me.mockData,ut=(Me.schema||[]).map(ve=>({key:ve.key,type:ve.type,label:ve.label}));return{data:Ge,schema:ut}}}}return null},[M,f,T]),$=L?.data||null,z=L?.schema,[j,H]=x.useState(null),[W,O]=x.useState(!1),[G,q]=x.useState(null),[J,te]=x.useState(0);x.useEffect(()=>{if(!M)return;const Ee=T;if(Ee.source!=="api"||!Ee.name)return;const Me=v.find(ut=>ut.name===Ee.name);if(!Me){q(`API Endpoint '${Ee.name}'   `);return}const Ue=Ck(T);if(J===0&&Ue){const ut=lI.get(Ue);if(ut){H(ut),O(!1),q(null);return}}O(!0),q(null),(async()=>{try{let ut;if(u){const $e=`${Me.baseUrl}${Me.path}`,gt=`/api/proxy?url=${encodeURIComponent($e)}`,it={};Me.headers&&(Array.isArray(Me.headers)?Me.headers.forEach(le=>{le.enabled&&(it[le.key]=le.value)}):Object.assign(it,Me.headers));const ot=await fetch(gt,{method:Me.method||"GET",headers:it});if(!ot.ok)throw new Error(`HTTP error! status: ${ot.status}`);ut=await ot.json()}else ut=await y(Me.id);let ve=[];if(Array.isArray(ut))ve=ut;else if(ut&&typeof ut=="object"){const $e=ut;Array.isArray($e.results)?ve=$e.results:Array.isArray($e.data)?ve=$e.data:Array.isArray($e.items)?ve=$e.items:ve=[$e]}Ue&&lI.set(Ue,ve),H(ve),O(!1)}catch(ut){console.error("API Endpoint data load failed:",ut),q(ut.message||"  "),O(!1)}})()},[M,D,v,y,u,J,T]);const Y=Aae({async load({signal:Ee}){if(M)return{items:[]};if(r)return{items:[]};if(!t||t.type!=="collection")return{items:[]};try{let Me=[];if(t.source==="static")Me=await D5e(t);else if(t.source==="api")Me=await T5e(t,e,n,Ee);else throw t.source==="supabase"?new Error("Supabase data binding not yet implemented"):new Error(`Unknown data source: ${t.source}`);return{items:Me}}catch(Me){if(Me.name==="AbortError")return{items:[]};throw Me}},getKey:Ee=>String(Ee.id||Math.random())}),Z=x.useCallback(Ee=>{C(Ee)},[]),ee=x.useMemo(()=>{let Ee;$&&$.length>0?Ee=$:j&&j.length>0?Ee=j:r&&s?Ee=s.data:Ee=Y.items;let Me=[...Ee];if(E.trim()){const Ue=E.toLowerCase();Me=Me.filter(Ge=>Object.values(Ge).some(ut=>String(ut).toLowerCase().includes(Ue)))}return A&&Me.sort((Ue,Ge)=>{const ut=Ue[A.column],ve=Ge[A.column];let $e=0;return ut<ve?$e=-1:ut>ve&&($e=1),A.direction==="descending"?-$e:$e}),Me},[Y.items,E,A,r,s,$,j]),ie=void 0,ue=!1,ae=x.useCallback(()=>{if(r)l(r);else if(M){const Ee=T;if(Ee.source==="api"&&Ee.name){const Me=Ck(T);Me&&lI.invalidate(Me),te(Ue=>Ue+1)}}else Y.reload()},[r,l,Y,M,T]);x.useEffect(()=>{if(M&&T.source==="api"&&P==="interval"&&k>0){const Me=setInterval(()=>{ae()},k);return()=>{clearInterval(Me)}}},[P,k,M,T,ae,e]);const de=M&&T.source==="api",_e=M&&T.source==="dataTable"&&f.length===0,we=M?de?W:_e:r?s?.status==="loading":Y.isLoading,ke=M?de?G:$===null&&T&&!_e?"DataTable   ":null:r?s?.error||null:Y.error?Y.error.message:null,Fe=x.useCallback(()=>{const Ee=Ck(T);Ee&&lI.invalidate(Ee)},[T]);return{data:ee,loading:we??!1,error:ke,reload:ae,clearCache:Fe,schema:z,sort:Z,filterText:E,setFilterText:I,loadMore:ie,hasMore:ue}}const f0=x.createContext(!1);function M5e(){return x.useContext(f0)}function Ip({indicator:t=!1,variant:e="default",size:n="sm",dataBinding:r,columnMapping:i,children:s,...o}){const{data:a,loading:l,error:u}=F$({dataBinding:r,componentName:"ToggleButtonGroup",fallbackData:[{id:1,name:"Button 1",value:"button-1"},{id:2,name:"Button 2",value:"button-2"}]}),c=r&&"source"in r&&"name"in r&&!("type"in r),d=!c&&r&&"type"in r&&r.type==="collection"||c,f=lv(o.className,p=>p?`react-aria-ToggleButtonGroup ${p}`:"react-aria-ToggleButtonGroup");if(d&&i)return console.log(" ToggleButtonGroup: columnMapping  -  ToggleButton ",{columnMapping:i,hasChildren:!!s,dataCount:a.length}),l?h.jsx(hy,{...o,"data-indicator":t?"true":"false","data-togglebutton-variant":e,"data-togglebutton-size":n,className:f,isDisabled:!0,children:h.jsx(f0.Provider,{value:t,children:h.jsx(Dy,{className:"react-aria-ToggleButton",children:"  ..."})})}):u?h.jsx(hy,{...o,"data-indicator":t?"true":"false","data-togglebutton-variant":e,"data-togglebutton-size":n,className:f,isDisabled:!0,children:h.jsx(f0.Provider,{value:t,children:h.jsx(Dy,{className:"react-aria-ToggleButton",children:" "})})}):a.length>0?(console.log(" ToggleButtonGroup with columnMapping - using children template"),h.jsx(hy,{...o,"data-indicator":t?"true":"false","data-togglebutton-variant":e,"data-togglebutton-size":n,className:f,children:h.jsx(f0.Provider,{value:t,children:s})})):h.jsx(hy,{...o,"data-indicator":t?"true":"false","data-togglebutton-variant":e,"data-togglebutton-size":n,className:f,children:h.jsx(f0.Provider,{value:t,children:s})});if(d){if(l)return h.jsx(hy,{...o,"data-indicator":t?"true":"false","data-togglebutton-variant":e,"data-togglebutton-size":n,className:f,isDisabled:!0,children:h.jsx(f0.Provider,{value:t,children:h.jsx(Dy,{className:"react-aria-ToggleButton",children:"  ..."})})});if(u)return h.jsx(hy,{...o,"data-indicator":t?"true":"false","data-togglebutton-variant":e,"data-togglebutton-size":n,className:f,isDisabled:!0,children:h.jsx(f0.Provider,{value:t,children:h.jsx(Dy,{className:"react-aria-ToggleButton",children:" "})})});if(a.length>0){const p=a.map((m,v)=>({id:String(m.id||m.value||v),label:String(m.name||m.title||m.label||`Button ${v+1}`),isDisabled:!!m.isDisabled}));return console.log(" ToggleButtonGroup Dynamic Collection - items:",p),h.jsx(hy,{...o,"data-indicator":t?"true":"false","data-togglebutton-variant":e,"data-togglebutton-size":n,className:f,children:h.jsx(f0.Provider,{value:t,children:p.map(m=>h.jsx(Dy,{id:m.id,isDisabled:m.isDisabled,className:"react-aria-ToggleButton",children:m.label},m.id))})})}}return h.jsx(hy,{...o,"data-indicator":t?"true":"false","data-togglebutton-variant":e,"data-togglebutton-size":n,className:f,children:h.jsx(f0.Provider,{value:t,children:s})})}function ri({variant:t="default",size:e="sm",children:n,...r}){const i=M5e();return h.jsxs(Dy,{...r,"data-variant":t,"data-size":e,className:lv(r.className,s=>s?`react-aria-ToggleButton ${s}`:"react-aria-ToggleButton"),children:[i&&h.jsx(RTe,{}),n]})}function k5e({label:t,description:e,errorMessage:n,placeholder:r,variant:i="primary",size:s="md",...o}){return h.jsxs(gMe,{...o,className:lv(o.className,a=>a?`react-aria-SearchField ${a}`:"react-aria-SearchField"),"data-variant":i,"data-size":s,children:[t&&h.jsx(xn,{children:t}),h.jsx(Br,{placeholder:r}),h.jsx(Yt,{children:""}),e&&h.jsx(kE,{slot:"description",children:e}),h.jsx(fD,{children:n})]})}function pD({label:t,description:e,errorMessage:n,children:r,items:i,placeholder:s,dataBinding:o,columnMapping:a,variant:l="primary",size:u="md",selectionMode:c="single",multipleDisplayMode:d="count",renderMultipleValue:f,isLoading:p,...m}){const{data:v,loading:y,error:A}=F$({dataBinding:o,componentName:"Select",fallbackData:[{id:1,name:"Option 1",value:"option-1"},{id:2,name:"Option 2",value:"option-2"}]}),C=t&&String(t).trim(),E=C?void 0:m["aria-label"]||s||"Select an option",I=o&&"source"in o&&"name"in o&&!("type"in o),D=!I&&o&&"type"in o&&o.type==="collection"||I,T=xe.useMemo(()=>{if(!D||y||A)return i;if(a&&v.length>0)return v.map((P,k)=>({id:String(P.id||k),...P}));if(v.length>0){const P=o?.config,k=P?.columnMapping?.id||P?.dataMapping?.idField||"id",L=P?.columnMapping?.label||P?.dataMapping?.labelField||"label";return v.map(($,z)=>({id:String($[k]||$.id||z),label:String($[L]||$.label||$.name||`Item ${z+1}`),...$}))}return i},[D,y,A,v,a,o,i]),M=xe.useMemo(()=>D&&y?h.jsx(tr,{textValue:"Loading",className:"react-aria-ListBoxItem",children:"   ..."},"loading"):D&&A?h.jsxs(tr,{textValue:"Error",className:"react-aria-ListBoxItem",children:[" : ",A]},"error"):D&&a&&v.length>0?r:D&&!a&&v.length>0?(P=>{const k=P.id!==void 0&&P.id!==null?String(P.id):void 0,L=P.label!==void 0&&P.label!==null?String(P.label):void 0;return h.jsx(tr,{id:k,textValue:L,className:"react-aria-ListBoxItem",children:L},k)}):r,[D,y,A,a,v,r]);return p?h.jsx(Up,{componentVariant:"input",size:u,className:m.className,"aria-label":"Loading select..."}):h.jsx(po,{...m,"data-variant":l,"data-size":u,className:lv(m.className,P=>P?`react-aria-Select ${P}`:"react-aria-Select"),"aria-label":E,placeholder:s,isDisabled:D&&(y||!!A),"data-selection-mode":c,children:()=>h.jsxs(h.Fragment,{children:[C&&h.jsx(xn,{className:"react-aria-Label",children:String(t)}),h.jsxs(Yt,{className:"react-aria-Button",children:[h.jsx(go,{}),h.jsx("span",{"aria-hidden":"true",className:"select-chevron",children:h.jsx(ho,{size:16})})]}),e&&String(e).trim()&&h.jsx(kE,{slot:"description",className:"react-aria-Description",children:String(e)}),D&&y&&h.jsx(kE,{slot:"description",className:"react-aria-Description",children:"   ..."}),D&&A&&h.jsxs(fD,{className:"react-aria-FieldError",children:[" : ",A]}),n&&!A&&h.jsx(fD,{className:"react-aria-FieldError",children:typeof n=="function"?n({isInvalid:!0}):String(n)}),h.jsx(Ss,{className:"react-aria-Popover",placement:"bottom start",offset:4,children:h.jsx(Ui,{items:T,className:"react-aria-ListBox",selectionMode:c,children:M})})]})})}function nx(t){return h.jsx(tr,{...t,className:"react-aria-ListBoxItem"})}function y1(t,e,n){let r=n.initialDeps??[],i,s=!0;function o(){var a,l,u;let c;n.key&&((a=n.debug)!=null&&a.call(n))&&(c=Date.now());const d=t();if(!(d.length!==r.length||d.some((m,v)=>r[v]!==m)))return i;r=d;let p;if(n.key&&((l=n.debug)!=null&&l.call(n))&&(p=Date.now()),i=e(...d),n.key&&((u=n.debug)!=null&&u.call(n))){const m=Math.round((Date.now()-c)*100)/100,v=Math.round((Date.now()-p)*100)/100,y=v/16,A=(C,E)=>{for(C=String(C);C.length<E;)C=" "+C;return C};console.info(`%c ${A(v,5)} /${A(m,5)} ms`,`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(${Math.max(0,Math.min(120-120*y,120))}deg 100% 31%);`,n?.key)}return n?.onChange&&!(s&&n.skipInitialOnChange)&&n.onChange(i),s=!1,i}return o.updateDeps=a=>{r=a},o}function L9(t,e){if(t===void 0)throw new Error("Unexpected undefined");return t}const P5e=(t,e)=>Math.abs(t-e)<1.01,R5e=(t,e,n)=>{let r;return function(...i){t.clearTimeout(r),r=t.setTimeout(()=>e.apply(this,i),n)}},F9=t=>{const{offsetWidth:e,offsetHeight:n}=t;return{width:e,height:n}},N5e=t=>t,L5e=t=>{const e=Math.max(t.startIndex-t.overscan,0),n=Math.min(t.endIndex+t.overscan,t.count-1),r=[];for(let i=e;i<=n;i++)r.push(i);return r},F5e=(t,e)=>{const n=t.scrollElement;if(!n)return;const r=t.targetWindow;if(!r)return;const i=o=>{const{width:a,height:l}=o;e({width:Math.round(a),height:Math.round(l)})};if(i(F9(n)),!r.ResizeObserver)return()=>{};const s=new r.ResizeObserver(o=>{const a=()=>{const l=o[0];if(l?.borderBoxSize){const u=l.borderBoxSize[0];if(u){i({width:u.inlineSize,height:u.blockSize});return}}i(F9(n))};t.options.useAnimationFrameWithResizeObserver?requestAnimationFrame(a):a()});return s.observe(n,{box:"border-box"}),()=>{s.unobserve(n)}},$9={passive:!0},z9=typeof window>"u"?!0:"onscrollend"in window,$5e=(t,e)=>{const n=t.scrollElement;if(!n)return;const r=t.targetWindow;if(!r)return;let i=0;const s=t.options.useScrollendEvent&&z9?()=>{}:R5e(r,()=>{e(i,!1)},t.options.isScrollingResetDelay),o=c=>()=>{const{horizontal:d,isRtl:f}=t.options;i=d?n.scrollLeft*(f&&-1||1):n.scrollTop,s(),e(i,c)},a=o(!0),l=o(!1);l(),n.addEventListener("scroll",a,$9);const u=t.options.useScrollendEvent&&z9;return u&&n.addEventListener("scrollend",l,$9),()=>{n.removeEventListener("scroll",a),u&&n.removeEventListener("scrollend",l)}},z5e=(t,e,n)=>{if(e?.borderBoxSize){const r=e.borderBoxSize[0];if(r)return Math.round(r[n.options.horizontal?"inlineSize":"blockSize"])}return t[n.options.horizontal?"offsetWidth":"offsetHeight"]},O5e=(t,{adjustments:e=0,behavior:n},r)=>{var i,s;const o=t+e;(s=(i=r.scrollElement)==null?void 0:i.scrollTo)==null||s.call(i,{[r.options.horizontal?"left":"top"]:o,behavior:n})};class j5e{constructor(e){this.unsubs=[],this.scrollElement=null,this.targetWindow=null,this.isScrolling=!1,this.measurementsCache=[],this.itemSizeCache=new Map,this.laneAssignments=new Map,this.pendingMeasuredCacheIndexes=[],this.prevLanes=void 0,this.lanesChangedFlag=!1,this.lanesSettling=!1,this.scrollRect=null,this.scrollOffset=null,this.scrollDirection=null,this.scrollAdjustments=0,this.elementsCache=new Map,this.observer=(()=>{let n=null;const r=()=>n||(!this.targetWindow||!this.targetWindow.ResizeObserver?null:n=new this.targetWindow.ResizeObserver(i=>{i.forEach(s=>{const o=()=>{this._measureElement(s.target,s)};this.options.useAnimationFrameWithResizeObserver?requestAnimationFrame(o):o()})}));return{disconnect:()=>{var i;(i=r())==null||i.disconnect(),n=null},observe:i=>{var s;return(s=r())==null?void 0:s.observe(i,{box:"border-box"})},unobserve:i=>{var s;return(s=r())==null?void 0:s.unobserve(i)}}})(),this.range=null,this.setOptions=n=>{Object.entries(n).forEach(([r,i])=>{typeof i>"u"&&delete n[r]}),this.options={debug:!1,initialOffset:0,overscan:1,paddingStart:0,paddingEnd:0,scrollPaddingStart:0,scrollPaddingEnd:0,horizontal:!1,getItemKey:N5e,rangeExtractor:L5e,onChange:()=>{},measureElement:z5e,initialRect:{width:0,height:0},scrollMargin:0,gap:0,indexAttribute:"data-index",initialMeasurementsCache:[],lanes:1,isScrollingResetDelay:150,enabled:!0,isRtl:!1,useScrollendEvent:!1,useAnimationFrameWithResizeObserver:!1,...n}},this.notify=n=>{var r,i;(i=(r=this.options).onChange)==null||i.call(r,this,n)},this.maybeNotify=y1(()=>(this.calculateRange(),[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]),n=>{this.notify(n)},{key:!1,debug:()=>this.options.debug,initialDeps:[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]}),this.cleanup=()=>{this.unsubs.filter(Boolean).forEach(n=>n()),this.unsubs=[],this.observer.disconnect(),this.scrollElement=null,this.targetWindow=null},this._didMount=()=>()=>{this.cleanup()},this._willUpdate=()=>{var n;const r=this.options.enabled?this.options.getScrollElement():null;if(this.scrollElement!==r){if(this.cleanup(),!r){this.maybeNotify();return}this.scrollElement=r,this.scrollElement&&"ownerDocument"in this.scrollElement?this.targetWindow=this.scrollElement.ownerDocument.defaultView:this.targetWindow=((n=this.scrollElement)==null?void 0:n.window)??null,this.elementsCache.forEach(i=>{this.observer.observe(i)}),this._scrollToOffset(this.getScrollOffset(),{adjustments:void 0,behavior:void 0}),this.unsubs.push(this.options.observeElementRect(this,i=>{this.scrollRect=i,this.maybeNotify()})),this.unsubs.push(this.options.observeElementOffset(this,(i,s)=>{this.scrollAdjustments=0,this.scrollDirection=s?this.getScrollOffset()<i?"forward":"backward":null,this.scrollOffset=i,this.isScrolling=s,this.maybeNotify()}))}},this.getSize=()=>this.options.enabled?(this.scrollRect=this.scrollRect??this.options.initialRect,this.scrollRect[this.options.horizontal?"width":"height"]):(this.scrollRect=null,0),this.getScrollOffset=()=>this.options.enabled?(this.scrollOffset=this.scrollOffset??(typeof this.options.initialOffset=="function"?this.options.initialOffset():this.options.initialOffset),this.scrollOffset):(this.scrollOffset=null,0),this.getFurthestMeasurement=(n,r)=>{const i=new Map,s=new Map;for(let o=r-1;o>=0;o--){const a=n[o];if(i.has(a.lane))continue;const l=s.get(a.lane);if(l==null||a.end>l.end?s.set(a.lane,a):a.end<l.end&&i.set(a.lane,!0),i.size===this.options.lanes)break}return s.size===this.options.lanes?Array.from(s.values()).sort((o,a)=>o.end===a.end?o.index-a.index:o.end-a.end)[0]:void 0},this.getMeasurementOptions=y1(()=>[this.options.count,this.options.paddingStart,this.options.scrollMargin,this.options.getItemKey,this.options.enabled,this.options.lanes],(n,r,i,s,o,a)=>(this.prevLanes!==void 0&&this.prevLanes!==a&&(this.lanesChangedFlag=!0),this.prevLanes=a,this.pendingMeasuredCacheIndexes=[],{count:n,paddingStart:r,scrollMargin:i,getItemKey:s,enabled:o,lanes:a}),{key:!1,skipInitialOnChange:!0,onChange:()=>{this.notify(this.isScrolling)}}),this.getMeasurements=y1(()=>[this.getMeasurementOptions(),this.itemSizeCache],({count:n,paddingStart:r,scrollMargin:i,getItemKey:s,enabled:o,lanes:a},l)=>{if(!o)return this.measurementsCache=[],this.itemSizeCache.clear(),this.laneAssignments.clear(),[];if(this.laneAssignments.size>n)for(const f of this.laneAssignments.keys())f>=n&&this.laneAssignments.delete(f);this.lanesChangedFlag&&(this.lanesChangedFlag=!1,this.lanesSettling=!0,this.measurementsCache=[],this.itemSizeCache.clear(),this.laneAssignments.clear(),this.pendingMeasuredCacheIndexes=[]),this.measurementsCache.length===0&&(this.measurementsCache=this.options.initialMeasurementsCache,this.measurementsCache.forEach(f=>{this.itemSizeCache.set(f.key,f.size)}));const u=this.lanesSettling?0:this.pendingMeasuredCacheIndexes.length>0?Math.min(...this.pendingMeasuredCacheIndexes):0;this.pendingMeasuredCacheIndexes=[],this.lanesSettling&&this.measurementsCache.length===n&&(this.lanesSettling=!1);const c=this.measurementsCache.slice(0,u),d=new Array(a).fill(void 0);for(let f=0;f<u;f++){const p=c[f];p&&(d[p.lane]=f)}for(let f=u;f<n;f++){const p=s(f),m=this.laneAssignments.get(f);let v,y;if(m!==void 0&&this.options.lanes>1){v=m;const I=d[v],D=I!==void 0?c[I]:void 0;y=D?D.end+this.options.gap:r+i}else{const I=this.options.lanes===1?c[f-1]:this.getFurthestMeasurement(c,f);y=I?I.end+this.options.gap:r+i,v=I?I.lane:f%this.options.lanes,this.options.lanes>1&&this.laneAssignments.set(f,v)}const A=l.get(p),C=typeof A=="number"?A:this.options.estimateSize(f),E=y+C;c[f]={index:f,start:y,size:C,end:E,key:p,lane:v},d[v]=f}return this.measurementsCache=c,c},{key:!1,debug:()=>this.options.debug}),this.calculateRange=y1(()=>[this.getMeasurements(),this.getSize(),this.getScrollOffset(),this.options.lanes],(n,r,i,s)=>this.range=n.length>0&&r>0?Q5e({measurements:n,outerSize:r,scrollOffset:i,lanes:s}):null,{key:!1,debug:()=>this.options.debug}),this.getVirtualIndexes=y1(()=>{let n=null,r=null;const i=this.calculateRange();return i&&(n=i.startIndex,r=i.endIndex),this.maybeNotify.updateDeps([this.isScrolling,n,r]),[this.options.rangeExtractor,this.options.overscan,this.options.count,n,r]},(n,r,i,s,o)=>s===null||o===null?[]:n({startIndex:s,endIndex:o,overscan:r,count:i}),{key:!1,debug:()=>this.options.debug}),this.indexFromElement=n=>{const r=this.options.indexAttribute,i=n.getAttribute(r);return i?parseInt(i,10):(console.warn(`Missing attribute name '${r}={index}' on measured element.`),-1)},this._measureElement=(n,r)=>{const i=this.indexFromElement(n),s=this.measurementsCache[i];if(!s)return;const o=s.key,a=this.elementsCache.get(o);a!==n&&(a&&this.observer.unobserve(a),this.observer.observe(n),this.elementsCache.set(o,n)),n.isConnected&&this.resizeItem(i,this.options.measureElement(n,r,this))},this.resizeItem=(n,r)=>{const i=this.measurementsCache[n];if(!i)return;const s=this.itemSizeCache.get(i.key)??i.size,o=r-s;o!==0&&((this.shouldAdjustScrollPositionOnItemSizeChange!==void 0?this.shouldAdjustScrollPositionOnItemSizeChange(i,o,this):i.start<this.getScrollOffset()+this.scrollAdjustments)&&this._scrollToOffset(this.getScrollOffset(),{adjustments:this.scrollAdjustments+=o,behavior:void 0}),this.pendingMeasuredCacheIndexes.push(i.index),this.itemSizeCache=new Map(this.itemSizeCache.set(i.key,r)),this.notify(!1))},this.measureElement=n=>{if(!n){this.elementsCache.forEach((r,i)=>{r.isConnected||(this.observer.unobserve(r),this.elementsCache.delete(i))});return}this._measureElement(n,void 0)},this.getVirtualItems=y1(()=>[this.getVirtualIndexes(),this.getMeasurements()],(n,r)=>{const i=[];for(let s=0,o=n.length;s<o;s++){const a=n[s],l=r[a];i.push(l)}return i},{key:!1,debug:()=>this.options.debug}),this.getVirtualItemForOffset=n=>{const r=this.getMeasurements();if(r.length!==0)return L9(r[Ile(0,r.length-1,i=>L9(r[i]).start,n)])},this.getOffsetForAlignment=(n,r,i=0)=>{const s=this.getSize(),o=this.getScrollOffset();r==="auto"&&(r=n>=o+s?"end":"start"),r==="center"?n+=(i-s)/2:r==="end"&&(n-=s);const a=this.getTotalSize()+this.options.scrollMargin-s;return Math.max(Math.min(a,n),0)},this.getOffsetForIndex=(n,r="auto")=>{n=Math.max(0,Math.min(n,this.options.count-1));const i=this.measurementsCache[n];if(!i)return;const s=this.getSize(),o=this.getScrollOffset();if(r==="auto")if(i.end>=o+s-this.options.scrollPaddingEnd)r="end";else if(i.start<=o+this.options.scrollPaddingStart)r="start";else return[o,r];const a=r==="end"?i.end+this.options.scrollPaddingEnd:i.start-this.options.scrollPaddingStart;return[this.getOffsetForAlignment(a,r,i.size),r]},this.isDynamicMode=()=>this.elementsCache.size>0,this.scrollToOffset=(n,{align:r="start",behavior:i}={})=>{i==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getOffsetForAlignment(n,r),{adjustments:void 0,behavior:i})},this.scrollToIndex=(n,{align:r="auto",behavior:i}={})=>{i==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),n=Math.max(0,Math.min(n,this.options.count-1));let s=0;const o=10,a=u=>{if(!this.targetWindow)return;const c=this.getOffsetForIndex(n,u);if(!c){console.warn("Failed to get offset for index:",n);return}const[d,f]=c;this._scrollToOffset(d,{adjustments:void 0,behavior:i}),this.targetWindow.requestAnimationFrame(()=>{const p=this.getScrollOffset(),m=this.getOffsetForIndex(n,f);if(!m){console.warn("Failed to get offset for index:",n);return}P5e(m[0],p)||l(f)})},l=u=>{this.targetWindow&&(s++,s<o?this.targetWindow.requestAnimationFrame(()=>a(u)):console.warn(`Failed to scroll to index ${n} after ${o} attempts.`))};a(r)},this.scrollBy=(n,{behavior:r}={})=>{r==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getScrollOffset()+n,{adjustments:void 0,behavior:r})},this.getTotalSize=()=>{var n;const r=this.getMeasurements();let i;if(r.length===0)i=this.options.paddingStart;else if(this.options.lanes===1)i=((n=r[r.length-1])==null?void 0:n.end)??0;else{const s=Array(this.options.lanes).fill(null);let o=r.length-1;for(;o>=0&&s.some(a=>a===null);){const a=r[o];s[a.lane]===null&&(s[a.lane]=a.end),o--}i=Math.max(...s.filter(a=>a!==null))}return Math.max(i-this.options.scrollMargin+this.options.paddingEnd,0)},this._scrollToOffset=(n,{adjustments:r,behavior:i})=>{this.options.scrollToFn(n,{behavior:i,adjustments:r},this)},this.measure=()=>{this.itemSizeCache=new Map,this.laneAssignments=new Map,this.notify(!1)},this.setOptions(e)}}const Ile=(t,e,n,r)=>{for(;t<=e;){const i=(t+e)/2|0,s=n(i);if(s<r)t=i+1;else if(s>r)e=i-1;else return i}return t>0?t-1:0};function Q5e({measurements:t,outerSize:e,scrollOffset:n,lanes:r}){const i=t.length-1,s=l=>t[l].start;if(t.length<=r)return{startIndex:0,endIndex:i};let o=Ile(0,i,s,n),a=o;if(r===1)for(;a<i&&t[a].end<n+e;)a++;else if(r>1){const l=Array(r).fill(0);for(;a<i&&l.some(c=>c<n+e);){const c=t[a];l[c.lane]=c.end,a++}const u=Array(r).fill(n+e);for(;o>=0&&u.some(c=>c>=n);){const c=t[o];u[c.lane]=c.start,o--}o=Math.max(0,o-o%r),a=Math.min(i,a+(r-1-a%r))}return{startIndex:o,endIndex:a}}const O9=typeof document<"u"?x.useLayoutEffect:x.useEffect;function U5e(t){const e=x.useReducer(()=>({}),{})[1],n={...t,onChange:(i,s)=>{var o;s?Xy.flushSync(e):e(),(o=t.onChange)==null||o.call(t,i,s)}},[r]=x.useState(()=>new j5e(n));return r.setOptions(n),O9(()=>r._didMount(),[]),O9(()=>r._willUpdate()),r}function H5e(t){return U5e({observeElementRect:F5e,observeElementOffset:$5e,scrollToFn:O5e,...t})}x.createContext(!1);function V5e(){return{accessor:(t,e)=>typeof t=="function"?{...e,accessorFn:t}:{...e,accessorKey:t},display:t=>t,group:t=>t}}function Ly(t,e){return typeof t=="function"?t(e):t}function lh(t,e){return n=>{e.setState(r=>({...r,[t]:Ly(n,r[t])}))}}function zT(t){return t instanceof Function}function G5e(t){return Array.isArray(t)&&t.every(e=>typeof e=="number")}function K5e(t,e){const n=[],r=i=>{i.forEach(s=>{n.push(s);const o=e(s);o!=null&&o.length&&r(o)})};return r(t),n}function pr(t,e,n){let r=[],i;return s=>{let o;n.key&&n.debug&&(o=Date.now());const a=t(s);if(!(a.length!==r.length||a.some((c,d)=>r[d]!==c)))return i;r=a;let u;if(n.key&&n.debug&&(u=Date.now()),i=e(...a),n==null||n.onChange==null||n.onChange(i),n.key&&n.debug&&n!=null&&n.debug()){const c=Math.round((Date.now()-o)*100)/100,d=Math.round((Date.now()-u)*100)/100,f=d/16,p=(m,v)=>{for(m=String(m);m.length<v;)m=" "+m;return m};console.info(`%c ${p(d,5)} /${p(c,5)} ms`,`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(${Math.max(0,Math.min(120-120*f,120))}deg 100% 31%);`,n?.key)}return i}}function gr(t,e,n,r){return{debug:()=>{var i;return(i=t?.debugAll)!=null?i:t[e]},key:!1,onChange:r}}function W5e(t,e,n,r){const i=()=>{var o;return(o=s.getValue())!=null?o:t.options.renderFallbackValue},s={id:`${e.id}_${n.id}`,row:e,column:n,getValue:()=>e.getValue(r),renderValue:i,getContext:pr(()=>[t,n,e,s],(o,a,l,u)=>({table:o,column:a,row:l,cell:u,getValue:u.getValue,renderValue:u.renderValue}),gr(t.options,"debugCells"))};return t._features.forEach(o=>{o.createCell==null||o.createCell(s,n,e,t)},{}),s}function q5e(t,e,n,r){var i,s;const a={...t._getDefaultColumnDef(),...e},l=a.accessorKey;let u=(i=(s=a.id)!=null?s:l?typeof String.prototype.replaceAll=="function"?l.replaceAll(".","_"):l.replace(/\./g,"_"):void 0)!=null?i:typeof a.header=="string"?a.header:void 0,c;if(a.accessorFn?c=a.accessorFn:l&&(l.includes(".")?c=f=>{let p=f;for(const v of l.split(".")){var m;p=(m=p)==null?void 0:m[v]}return p}:c=f=>f[a.accessorKey]),!u)throw new Error;let d={id:`${String(u)}`,accessorFn:c,parent:r,depth:n,columnDef:a,columns:[],getFlatColumns:pr(()=>[!0],()=>{var f;return[d,...(f=d.columns)==null?void 0:f.flatMap(p=>p.getFlatColumns())]},gr(t.options,"debugColumns")),getLeafColumns:pr(()=>[t._getOrderColumnsFn()],f=>{var p;if((p=d.columns)!=null&&p.length){let m=d.columns.flatMap(v=>v.getLeafColumns());return f(m)}return[d]},gr(t.options,"debugColumns"))};for(const f of t._features)f.createColumn==null||f.createColumn(d,t);return d}const Ru="debugHeaders";function j9(t,e,n){var r;let s={id:(r=n.id)!=null?r:e.id,column:e,index:n.index,isPlaceholder:!!n.isPlaceholder,placeholderId:n.placeholderId,depth:n.depth,subHeaders:[],colSpan:0,rowSpan:0,headerGroup:null,getLeafHeaders:()=>{const o=[],a=l=>{l.subHeaders&&l.subHeaders.length&&l.subHeaders.map(a),o.push(l)};return a(s),o},getContext:()=>({table:t,header:s,column:e})};return t._features.forEach(o=>{o.createHeader==null||o.createHeader(s,t)}),s}const Y5e={createTable:t=>{t.getHeaderGroups=pr(()=>[t.getAllColumns(),t.getVisibleLeafColumns(),t.getState().columnPinning.left,t.getState().columnPinning.right],(e,n,r,i)=>{var s,o;const a=(s=r?.map(d=>n.find(f=>f.id===d)).filter(Boolean))!=null?s:[],l=(o=i?.map(d=>n.find(f=>f.id===d)).filter(Boolean))!=null?o:[],u=n.filter(d=>!(r!=null&&r.includes(d.id))&&!(i!=null&&i.includes(d.id)));return uI(e,[...a,...u,...l],t)},gr(t.options,Ru)),t.getCenterHeaderGroups=pr(()=>[t.getAllColumns(),t.getVisibleLeafColumns(),t.getState().columnPinning.left,t.getState().columnPinning.right],(e,n,r,i)=>(n=n.filter(s=>!(r!=null&&r.includes(s.id))&&!(i!=null&&i.includes(s.id))),uI(e,n,t,"center")),gr(t.options,Ru)),t.getLeftHeaderGroups=pr(()=>[t.getAllColumns(),t.getVisibleLeafColumns(),t.getState().columnPinning.left],(e,n,r)=>{var i;const s=(i=r?.map(o=>n.find(a=>a.id===o)).filter(Boolean))!=null?i:[];return uI(e,s,t,"left")},gr(t.options,Ru)),t.getRightHeaderGroups=pr(()=>[t.getAllColumns(),t.getVisibleLeafColumns(),t.getState().columnPinning.right],(e,n,r)=>{var i;const s=(i=r?.map(o=>n.find(a=>a.id===o)).filter(Boolean))!=null?i:[];return uI(e,s,t,"right")},gr(t.options,Ru)),t.getFooterGroups=pr(()=>[t.getHeaderGroups()],e=>[...e].reverse(),gr(t.options,Ru)),t.getLeftFooterGroups=pr(()=>[t.getLeftHeaderGroups()],e=>[...e].reverse(),gr(t.options,Ru)),t.getCenterFooterGroups=pr(()=>[t.getCenterHeaderGroups()],e=>[...e].reverse(),gr(t.options,Ru)),t.getRightFooterGroups=pr(()=>[t.getRightHeaderGroups()],e=>[...e].reverse(),gr(t.options,Ru)),t.getFlatHeaders=pr(()=>[t.getHeaderGroups()],e=>e.map(n=>n.headers).flat(),gr(t.options,Ru)),t.getLeftFlatHeaders=pr(()=>[t.getLeftHeaderGroups()],e=>e.map(n=>n.headers).flat(),gr(t.options,Ru)),t.getCenterFlatHeaders=pr(()=>[t.getCenterHeaderGroups()],e=>e.map(n=>n.headers).flat(),gr(t.options,Ru)),t.getRightFlatHeaders=pr(()=>[t.getRightHeaderGroups()],e=>e.map(n=>n.headers).flat(),gr(t.options,Ru)),t.getCenterLeafHeaders=pr(()=>[t.getCenterFlatHeaders()],e=>e.filter(n=>{var r;return!((r=n.subHeaders)!=null&&r.length)}),gr(t.options,Ru)),t.getLeftLeafHeaders=pr(()=>[t.getLeftFlatHeaders()],e=>e.filter(n=>{var r;return!((r=n.subHeaders)!=null&&r.length)}),gr(t.options,Ru)),t.getRightLeafHeaders=pr(()=>[t.getRightFlatHeaders()],e=>e.filter(n=>{var r;return!((r=n.subHeaders)!=null&&r.length)}),gr(t.options,Ru)),t.getLeafHeaders=pr(()=>[t.getLeftHeaderGroups(),t.getCenterHeaderGroups(),t.getRightHeaderGroups()],(e,n,r)=>{var i,s,o,a,l,u;return[...(i=(s=e[0])==null?void 0:s.headers)!=null?i:[],...(o=(a=n[0])==null?void 0:a.headers)!=null?o:[],...(l=(u=r[0])==null?void 0:u.headers)!=null?l:[]].map(c=>c.getLeafHeaders()).flat()},gr(t.options,Ru))}};function uI(t,e,n,r){var i,s;let o=0;const a=function(f,p){p===void 0&&(p=1),o=Math.max(o,p),f.filter(m=>m.getIsVisible()).forEach(m=>{var v;(v=m.columns)!=null&&v.length&&a(m.columns,p+1)},0)};a(t);let l=[];const u=(f,p)=>{const m={depth:p,id:[r,`${p}`].filter(Boolean).join("_"),headers:[]},v=[];f.forEach(y=>{const A=[...v].reverse()[0],C=y.column.depth===m.depth;let E,I=!1;if(C&&y.column.parent?E=y.column.parent:(E=y.column,I=!0),A&&A?.column===E)A.subHeaders.push(y);else{const D=j9(n,E,{id:[r,p,E.id,y?.id].filter(Boolean).join("_"),isPlaceholder:I,placeholderId:I?`${v.filter(T=>T.column===E).length}`:void 0,depth:p,index:v.length});D.subHeaders.push(y),v.push(D)}m.headers.push(y),y.headerGroup=m}),l.push(m),p>0&&u(v,p-1)},c=e.map((f,p)=>j9(n,f,{depth:o,index:p}));u(c,o-1),l.reverse();const d=f=>f.filter(m=>m.column.getIsVisible()).map(m=>{let v=0,y=0,A=[0];m.subHeaders&&m.subHeaders.length?(A=[],d(m.subHeaders).forEach(E=>{let{colSpan:I,rowSpan:D}=E;v+=I,A.push(D)})):v=1;const C=Math.min(...A);return y=y+C,m.colSpan=v,m.rowSpan=y,{colSpan:v,rowSpan:y}});return d((i=(s=l[0])==null?void 0:s.headers)!=null?i:[]),l}const X5e=(t,e,n,r,i,s,o)=>{let a={id:e,index:r,original:n,depth:i,parentId:o,_valuesCache:{},_uniqueValuesCache:{},getValue:l=>{if(a._valuesCache.hasOwnProperty(l))return a._valuesCache[l];const u=t.getColumn(l);if(u!=null&&u.accessorFn)return a._valuesCache[l]=u.accessorFn(a.original,r),a._valuesCache[l]},getUniqueValues:l=>{if(a._uniqueValuesCache.hasOwnProperty(l))return a._uniqueValuesCache[l];const u=t.getColumn(l);if(u!=null&&u.accessorFn)return u.columnDef.getUniqueValues?(a._uniqueValuesCache[l]=u.columnDef.getUniqueValues(a.original,r),a._uniqueValuesCache[l]):(a._uniqueValuesCache[l]=[a.getValue(l)],a._uniqueValuesCache[l])},renderValue:l=>{var u;return(u=a.getValue(l))!=null?u:t.options.renderFallbackValue},subRows:[],getLeafRows:()=>K5e(a.subRows,l=>l.subRows),getParentRow:()=>a.parentId?t.getRow(a.parentId,!0):void 0,getParentRows:()=>{let l=[],u=a;for(;;){const c=u.getParentRow();if(!c)break;l.push(c),u=c}return l.reverse()},getAllCells:pr(()=>[t.getAllLeafColumns()],l=>l.map(u=>W5e(t,a,u,u.id)),gr(t.options,"debugRows")),_getAllCellsByColumnId:pr(()=>[a.getAllCells()],l=>l.reduce((u,c)=>(u[c.column.id]=c,u),{}),gr(t.options,"debugRows"))};for(let l=0;l<t._features.length;l++){const u=t._features[l];u==null||u.createRow==null||u.createRow(a,t)}return a},J5e={createColumn:(t,e)=>{t._getFacetedRowModel=e.options.getFacetedRowModel&&e.options.getFacetedRowModel(e,t.id),t.getFacetedRowModel=()=>t._getFacetedRowModel?t._getFacetedRowModel():e.getPreFilteredRowModel(),t._getFacetedUniqueValues=e.options.getFacetedUniqueValues&&e.options.getFacetedUniqueValues(e,t.id),t.getFacetedUniqueValues=()=>t._getFacetedUniqueValues?t._getFacetedUniqueValues():new Map,t._getFacetedMinMaxValues=e.options.getFacetedMinMaxValues&&e.options.getFacetedMinMaxValues(e,t.id),t.getFacetedMinMaxValues=()=>{if(t._getFacetedMinMaxValues)return t._getFacetedMinMaxValues()}}},Ble=(t,e,n)=>{var r,i;const s=n==null||(r=n.toString())==null?void 0:r.toLowerCase();return!!(!((i=t.getValue(e))==null||(i=i.toString())==null||(i=i.toLowerCase())==null)&&i.includes(s))};Ble.autoRemove=t=>$p(t);const Dle=(t,e,n)=>{var r;return!!(!((r=t.getValue(e))==null||(r=r.toString())==null)&&r.includes(n))};Dle.autoRemove=t=>$p(t);const Tle=(t,e,n)=>{var r;return((r=t.getValue(e))==null||(r=r.toString())==null?void 0:r.toLowerCase())===n?.toLowerCase()};Tle.autoRemove=t=>$p(t);const Mle=(t,e,n)=>{var r;return(r=t.getValue(e))==null?void 0:r.includes(n)};Mle.autoRemove=t=>$p(t);const kle=(t,e,n)=>!n.some(r=>{var i;return!((i=t.getValue(e))!=null&&i.includes(r))});kle.autoRemove=t=>$p(t)||!(t!=null&&t.length);const Ple=(t,e,n)=>n.some(r=>{var i;return(i=t.getValue(e))==null?void 0:i.includes(r)});Ple.autoRemove=t=>$p(t)||!(t!=null&&t.length);const Rle=(t,e,n)=>t.getValue(e)===n;Rle.autoRemove=t=>$p(t);const Nle=(t,e,n)=>t.getValue(e)==n;Nle.autoRemove=t=>$p(t);const $$=(t,e,n)=>{let[r,i]=n;const s=t.getValue(e);return s>=r&&s<=i};$$.resolveFilterValue=t=>{let[e,n]=t,r=typeof e!="number"?parseFloat(e):e,i=typeof n!="number"?parseFloat(n):n,s=e===null||Number.isNaN(r)?-1/0:r,o=n===null||Number.isNaN(i)?1/0:i;if(s>o){const a=s;s=o,o=a}return[s,o]};$$.autoRemove=t=>$p(t)||$p(t[0])&&$p(t[1]);const g0={includesString:Ble,includesStringSensitive:Dle,equalsString:Tle,arrIncludes:Mle,arrIncludesAll:kle,arrIncludesSome:Ple,equals:Rle,weakEquals:Nle,inNumberRange:$$};function $p(t){return t==null||t===""}const Z5e={getDefaultColumnDef:()=>({filterFn:"auto"}),getInitialState:t=>({columnFilters:[],...t}),getDefaultOptions:t=>({onColumnFiltersChange:lh("columnFilters",t),filterFromLeafRows:!1,maxLeafRowFilterDepth:100}),createColumn:(t,e)=>{t.getAutoFilterFn=()=>{const n=e.getCoreRowModel().flatRows[0],r=n?.getValue(t.id);return typeof r=="string"?g0.includesString:typeof r=="number"?g0.inNumberRange:typeof r=="boolean"||r!==null&&typeof r=="object"?g0.equals:Array.isArray(r)?g0.arrIncludes:g0.weakEquals},t.getFilterFn=()=>{var n,r;return zT(t.columnDef.filterFn)?t.columnDef.filterFn:t.columnDef.filterFn==="auto"?t.getAutoFilterFn():(n=(r=e.options.filterFns)==null?void 0:r[t.columnDef.filterFn])!=null?n:g0[t.columnDef.filterFn]},t.getCanFilter=()=>{var n,r,i;return((n=t.columnDef.enableColumnFilter)!=null?n:!0)&&((r=e.options.enableColumnFilters)!=null?r:!0)&&((i=e.options.enableFilters)!=null?i:!0)&&!!t.accessorFn},t.getIsFiltered=()=>t.getFilterIndex()>-1,t.getFilterValue=()=>{var n;return(n=e.getState().columnFilters)==null||(n=n.find(r=>r.id===t.id))==null?void 0:n.value},t.getFilterIndex=()=>{var n,r;return(n=(r=e.getState().columnFilters)==null?void 0:r.findIndex(i=>i.id===t.id))!=null?n:-1},t.setFilterValue=n=>{e.setColumnFilters(r=>{const i=t.getFilterFn(),s=r?.find(c=>c.id===t.id),o=Ly(n,s?s.value:void 0);if(Q9(i,o,t)){var a;return(a=r?.filter(c=>c.id!==t.id))!=null?a:[]}const l={id:t.id,value:o};if(s){var u;return(u=r?.map(c=>c.id===t.id?l:c))!=null?u:[]}return r!=null&&r.length?[...r,l]:[l]})}},createRow:(t,e)=>{t.columnFilters={},t.columnFiltersMeta={}},createTable:t=>{t.setColumnFilters=e=>{const n=t.getAllLeafColumns(),r=i=>{var s;return(s=Ly(e,i))==null?void 0:s.filter(o=>{const a=n.find(l=>l.id===o.id);if(a){const l=a.getFilterFn();if(Q9(l,o.value,a))return!1}return!0})};t.options.onColumnFiltersChange==null||t.options.onColumnFiltersChange(r)},t.resetColumnFilters=e=>{var n,r;t.setColumnFilters(e?[]:(n=(r=t.initialState)==null?void 0:r.columnFilters)!=null?n:[])},t.getPreFilteredRowModel=()=>t.getCoreRowModel(),t.getFilteredRowModel=()=>(!t._getFilteredRowModel&&t.options.getFilteredRowModel&&(t._getFilteredRowModel=t.options.getFilteredRowModel(t)),t.options.manualFiltering||!t._getFilteredRowModel?t.getPreFilteredRowModel():t._getFilteredRowModel())}};function Q9(t,e,n){return(t&&t.autoRemove?t.autoRemove(e,n):!1)||typeof e>"u"||typeof e=="string"&&!e}const eke=(t,e,n)=>n.reduce((r,i)=>{const s=i.getValue(t);return r+(typeof s=="number"?s:0)},0),tke=(t,e,n)=>{let r;return n.forEach(i=>{const s=i.getValue(t);s!=null&&(r>s||r===void 0&&s>=s)&&(r=s)}),r},nke=(t,e,n)=>{let r;return n.forEach(i=>{const s=i.getValue(t);s!=null&&(r<s||r===void 0&&s>=s)&&(r=s)}),r},rke=(t,e,n)=>{let r,i;return n.forEach(s=>{const o=s.getValue(t);o!=null&&(r===void 0?o>=o&&(r=i=o):(r>o&&(r=o),i<o&&(i=o)))}),[r,i]},ike=(t,e)=>{let n=0,r=0;if(e.forEach(i=>{let s=i.getValue(t);s!=null&&(s=+s)>=s&&(++n,r+=s)}),n)return r/n},ske=(t,e)=>{if(!e.length)return;const n=e.map(s=>s.getValue(t));if(!G5e(n))return;if(n.length===1)return n[0];const r=Math.floor(n.length/2),i=n.sort((s,o)=>s-o);return n.length%2!==0?i[r]:(i[r-1]+i[r])/2},oke=(t,e)=>Array.from(new Set(e.map(n=>n.getValue(t))).values()),ake=(t,e)=>new Set(e.map(n=>n.getValue(t))).size,lke=(t,e)=>e.length,Ek={sum:eke,min:tke,max:nke,extent:rke,mean:ike,median:ske,unique:oke,uniqueCount:ake,count:lke},uke={getDefaultColumnDef:()=>({aggregatedCell:t=>{var e,n;return(e=(n=t.getValue())==null||n.toString==null?void 0:n.toString())!=null?e:null},aggregationFn:"auto"}),getInitialState:t=>({grouping:[],...t}),getDefaultOptions:t=>({onGroupingChange:lh("grouping",t),groupedColumnMode:"reorder"}),createColumn:(t,e)=>{t.toggleGrouping=()=>{e.setGrouping(n=>n!=null&&n.includes(t.id)?n.filter(r=>r!==t.id):[...n??[],t.id])},t.getCanGroup=()=>{var n,r;return((n=t.columnDef.enableGrouping)!=null?n:!0)&&((r=e.options.enableGrouping)!=null?r:!0)&&(!!t.accessorFn||!!t.columnDef.getGroupingValue)},t.getIsGrouped=()=>{var n;return(n=e.getState().grouping)==null?void 0:n.includes(t.id)},t.getGroupedIndex=()=>{var n;return(n=e.getState().grouping)==null?void 0:n.indexOf(t.id)},t.getToggleGroupingHandler=()=>{const n=t.getCanGroup();return()=>{n&&t.toggleGrouping()}},t.getAutoAggregationFn=()=>{const n=e.getCoreRowModel().flatRows[0],r=n?.getValue(t.id);if(typeof r=="number")return Ek.sum;if(Object.prototype.toString.call(r)==="[object Date]")return Ek.extent},t.getAggregationFn=()=>{var n,r;if(!t)throw new Error;return zT(t.columnDef.aggregationFn)?t.columnDef.aggregationFn:t.columnDef.aggregationFn==="auto"?t.getAutoAggregationFn():(n=(r=e.options.aggregationFns)==null?void 0:r[t.columnDef.aggregationFn])!=null?n:Ek[t.columnDef.aggregationFn]}},createTable:t=>{t.setGrouping=e=>t.options.onGroupingChange==null?void 0:t.options.onGroupingChange(e),t.resetGrouping=e=>{var n,r;t.setGrouping(e?[]:(n=(r=t.initialState)==null?void 0:r.grouping)!=null?n:[])},t.getPreGroupedRowModel=()=>t.getFilteredRowModel(),t.getGroupedRowModel=()=>(!t._getGroupedRowModel&&t.options.getGroupedRowModel&&(t._getGroupedRowModel=t.options.getGroupedRowModel(t)),t.options.manualGrouping||!t._getGroupedRowModel?t.getPreGroupedRowModel():t._getGroupedRowModel())},createRow:(t,e)=>{t.getIsGrouped=()=>!!t.groupingColumnId,t.getGroupingValue=n=>{if(t._groupingValuesCache.hasOwnProperty(n))return t._groupingValuesCache[n];const r=e.getColumn(n);return r!=null&&r.columnDef.getGroupingValue?(t._groupingValuesCache[n]=r.columnDef.getGroupingValue(t.original),t._groupingValuesCache[n]):t.getValue(n)},t._groupingValuesCache={}},createCell:(t,e,n,r)=>{t.getIsGrouped=()=>e.getIsGrouped()&&e.id===n.groupingColumnId,t.getIsPlaceholder=()=>!t.getIsGrouped()&&e.getIsGrouped(),t.getIsAggregated=()=>{var i;return!t.getIsGrouped()&&!t.getIsPlaceholder()&&!!((i=n.subRows)!=null&&i.length)}}};function cke(t,e,n){if(!(e!=null&&e.length)||!n)return t;const r=t.filter(s=>!e.includes(s.id));return n==="remove"?r:[...e.map(s=>t.find(o=>o.id===s)).filter(Boolean),...r]}const dke={getInitialState:t=>({columnOrder:[],...t}),getDefaultOptions:t=>({onColumnOrderChange:lh("columnOrder",t)}),createColumn:(t,e)=>{t.getIndex=pr(n=>[y_(e,n)],n=>n.findIndex(r=>r.id===t.id),gr(e.options,"debugColumns")),t.getIsFirstColumn=n=>{var r;return((r=y_(e,n)[0])==null?void 0:r.id)===t.id},t.getIsLastColumn=n=>{var r;const i=y_(e,n);return((r=i[i.length-1])==null?void 0:r.id)===t.id}},createTable:t=>{t.setColumnOrder=e=>t.options.onColumnOrderChange==null?void 0:t.options.onColumnOrderChange(e),t.resetColumnOrder=e=>{var n;t.setColumnOrder(e?[]:(n=t.initialState.columnOrder)!=null?n:[])},t._getOrderColumnsFn=pr(()=>[t.getState().columnOrder,t.getState().grouping,t.options.groupedColumnMode],(e,n,r)=>i=>{let s=[];if(!(e!=null&&e.length))s=i;else{const o=[...e],a=[...i];for(;a.length&&o.length;){const l=o.shift(),u=a.findIndex(c=>c.id===l);u>-1&&s.push(a.splice(u,1)[0])}s=[...s,...a]}return cke(s,n,r)},gr(t.options,"debugTable"))}},Sk=()=>({left:[],right:[]}),hke={getInitialState:t=>({columnPinning:Sk(),...t}),getDefaultOptions:t=>({onColumnPinningChange:lh("columnPinning",t)}),createColumn:(t,e)=>{t.pin=n=>{const r=t.getLeafColumns().map(i=>i.id).filter(Boolean);e.setColumnPinning(i=>{var s,o;if(n==="right"){var a,l;return{left:((a=i?.left)!=null?a:[]).filter(d=>!(r!=null&&r.includes(d))),right:[...((l=i?.right)!=null?l:[]).filter(d=>!(r!=null&&r.includes(d))),...r]}}if(n==="left"){var u,c;return{left:[...((u=i?.left)!=null?u:[]).filter(d=>!(r!=null&&r.includes(d))),...r],right:((c=i?.right)!=null?c:[]).filter(d=>!(r!=null&&r.includes(d)))}}return{left:((s=i?.left)!=null?s:[]).filter(d=>!(r!=null&&r.includes(d))),right:((o=i?.right)!=null?o:[]).filter(d=>!(r!=null&&r.includes(d)))}})},t.getCanPin=()=>t.getLeafColumns().some(r=>{var i,s,o;return((i=r.columnDef.enablePinning)!=null?i:!0)&&((s=(o=e.options.enableColumnPinning)!=null?o:e.options.enablePinning)!=null?s:!0)}),t.getIsPinned=()=>{const n=t.getLeafColumns().map(a=>a.id),{left:r,right:i}=e.getState().columnPinning,s=n.some(a=>r?.includes(a)),o=n.some(a=>i?.includes(a));return s?"left":o?"right":!1},t.getPinnedIndex=()=>{var n,r;const i=t.getIsPinned();return i?(n=(r=e.getState().columnPinning)==null||(r=r[i])==null?void 0:r.indexOf(t.id))!=null?n:-1:0}},createRow:(t,e)=>{t.getCenterVisibleCells=pr(()=>[t._getAllVisibleCells(),e.getState().columnPinning.left,e.getState().columnPinning.right],(n,r,i)=>{const s=[...r??[],...i??[]];return n.filter(o=>!s.includes(o.column.id))},gr(e.options,"debugRows")),t.getLeftVisibleCells=pr(()=>[t._getAllVisibleCells(),e.getState().columnPinning.left],(n,r)=>(r??[]).map(s=>n.find(o=>o.column.id===s)).filter(Boolean).map(s=>({...s,position:"left"})),gr(e.options,"debugRows")),t.getRightVisibleCells=pr(()=>[t._getAllVisibleCells(),e.getState().columnPinning.right],(n,r)=>(r??[]).map(s=>n.find(o=>o.column.id===s)).filter(Boolean).map(s=>({...s,position:"right"})),gr(e.options,"debugRows"))},createTable:t=>{t.setColumnPinning=e=>t.options.onColumnPinningChange==null?void 0:t.options.onColumnPinningChange(e),t.resetColumnPinning=e=>{var n,r;return t.setColumnPinning(e?Sk():(n=(r=t.initialState)==null?void 0:r.columnPinning)!=null?n:Sk())},t.getIsSomeColumnsPinned=e=>{var n;const r=t.getState().columnPinning;if(!e){var i,s;return!!((i=r.left)!=null&&i.length||(s=r.right)!=null&&s.length)}return!!((n=r[e])!=null&&n.length)},t.getLeftLeafColumns=pr(()=>[t.getAllLeafColumns(),t.getState().columnPinning.left],(e,n)=>(n??[]).map(r=>e.find(i=>i.id===r)).filter(Boolean),gr(t.options,"debugColumns")),t.getRightLeafColumns=pr(()=>[t.getAllLeafColumns(),t.getState().columnPinning.right],(e,n)=>(n??[]).map(r=>e.find(i=>i.id===r)).filter(Boolean),gr(t.options,"debugColumns")),t.getCenterLeafColumns=pr(()=>[t.getAllLeafColumns(),t.getState().columnPinning.left,t.getState().columnPinning.right],(e,n,r)=>{const i=[...n??[],...r??[]];return e.filter(s=>!i.includes(s.id))},gr(t.options,"debugColumns"))}};function fke(t){return t||(typeof document<"u"?document:null)}const cI={size:150,minSize:20,maxSize:Number.MAX_SAFE_INTEGER},wk=()=>({startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,isResizingColumn:!1,columnSizingStart:[]}),pke={getDefaultColumnDef:()=>cI,getInitialState:t=>({columnSizing:{},columnSizingInfo:wk(),...t}),getDefaultOptions:t=>({columnResizeMode:"onEnd",columnResizeDirection:"ltr",onColumnSizingChange:lh("columnSizing",t),onColumnSizingInfoChange:lh("columnSizingInfo",t)}),createColumn:(t,e)=>{t.getSize=()=>{var n,r,i;const s=e.getState().columnSizing[t.id];return Math.min(Math.max((n=t.columnDef.minSize)!=null?n:cI.minSize,(r=s??t.columnDef.size)!=null?r:cI.size),(i=t.columnDef.maxSize)!=null?i:cI.maxSize)},t.getStart=pr(n=>[n,y_(e,n),e.getState().columnSizing],(n,r)=>r.slice(0,t.getIndex(n)).reduce((i,s)=>i+s.getSize(),0),gr(e.options,"debugColumns")),t.getAfter=pr(n=>[n,y_(e,n),e.getState().columnSizing],(n,r)=>r.slice(t.getIndex(n)+1).reduce((i,s)=>i+s.getSize(),0),gr(e.options,"debugColumns")),t.resetSize=()=>{e.setColumnSizing(n=>{let{[t.id]:r,...i}=n;return i})},t.getCanResize=()=>{var n,r;return((n=t.columnDef.enableResizing)!=null?n:!0)&&((r=e.options.enableColumnResizing)!=null?r:!0)},t.getIsResizing=()=>e.getState().columnSizingInfo.isResizingColumn===t.id},createHeader:(t,e)=>{t.getSize=()=>{let n=0;const r=i=>{if(i.subHeaders.length)i.subHeaders.forEach(r);else{var s;n+=(s=i.column.getSize())!=null?s:0}};return r(t),n},t.getStart=()=>{if(t.index>0){const n=t.headerGroup.headers[t.index-1];return n.getStart()+n.getSize()}return 0},t.getResizeHandler=n=>{const r=e.getColumn(t.column.id),i=r?.getCanResize();return s=>{if(!r||!i||(s.persist==null||s.persist(),_k(s)&&s.touches&&s.touches.length>1))return;const o=t.getSize(),a=t?t.getLeafHeaders().map(A=>[A.column.id,A.column.getSize()]):[[r.id,r.getSize()]],l=_k(s)?Math.round(s.touches[0].clientX):s.clientX,u={},c=(A,C)=>{typeof C=="number"&&(e.setColumnSizingInfo(E=>{var I,D;const T=e.options.columnResizeDirection==="rtl"?-1:1,M=(C-((I=E?.startOffset)!=null?I:0))*T,P=Math.max(M/((D=E?.startSize)!=null?D:0),-.999999);return E.columnSizingStart.forEach(k=>{let[L,$]=k;u[L]=Math.round(Math.max($+$*P,0)*100)/100}),{...E,deltaOffset:M,deltaPercentage:P}}),(e.options.columnResizeMode==="onChange"||A==="end")&&e.setColumnSizing(E=>({...E,...u})))},d=A=>c("move",A),f=A=>{c("end",A),e.setColumnSizingInfo(C=>({...C,isResizingColumn:!1,startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,columnSizingStart:[]}))},p=fke(n),m={moveHandler:A=>d(A.clientX),upHandler:A=>{p?.removeEventListener("mousemove",m.moveHandler),p?.removeEventListener("mouseup",m.upHandler),f(A.clientX)}},v={moveHandler:A=>(A.cancelable&&(A.preventDefault(),A.stopPropagation()),d(A.touches[0].clientX),!1),upHandler:A=>{var C;p?.removeEventListener("touchmove",v.moveHandler),p?.removeEventListener("touchend",v.upHandler),A.cancelable&&(A.preventDefault(),A.stopPropagation()),f((C=A.touches[0])==null?void 0:C.clientX)}},y=gke()?{passive:!1}:!1;_k(s)?(p?.addEventListener("touchmove",v.moveHandler,y),p?.addEventListener("touchend",v.upHandler,y)):(p?.addEventListener("mousemove",m.moveHandler,y),p?.addEventListener("mouseup",m.upHandler,y)),e.setColumnSizingInfo(A=>({...A,startOffset:l,startSize:o,deltaOffset:0,deltaPercentage:0,columnSizingStart:a,isResizingColumn:r.id}))}}},createTable:t=>{t.setColumnSizing=e=>t.options.onColumnSizingChange==null?void 0:t.options.onColumnSizingChange(e),t.setColumnSizingInfo=e=>t.options.onColumnSizingInfoChange==null?void 0:t.options.onColumnSizingInfoChange(e),t.resetColumnSizing=e=>{var n;t.setColumnSizing(e?{}:(n=t.initialState.columnSizing)!=null?n:{})},t.resetHeaderSizeInfo=e=>{var n;t.setColumnSizingInfo(e?wk():(n=t.initialState.columnSizingInfo)!=null?n:wk())},t.getTotalSize=()=>{var e,n;return(e=(n=t.getHeaderGroups()[0])==null?void 0:n.headers.reduce((r,i)=>r+i.getSize(),0))!=null?e:0},t.getLeftTotalSize=()=>{var e,n;return(e=(n=t.getLeftHeaderGroups()[0])==null?void 0:n.headers.reduce((r,i)=>r+i.getSize(),0))!=null?e:0},t.getCenterTotalSize=()=>{var e,n;return(e=(n=t.getCenterHeaderGroups()[0])==null?void 0:n.headers.reduce((r,i)=>r+i.getSize(),0))!=null?e:0},t.getRightTotalSize=()=>{var e,n;return(e=(n=t.getRightHeaderGroups()[0])==null?void 0:n.headers.reduce((r,i)=>r+i.getSize(),0))!=null?e:0}}};let dI=null;function gke(){if(typeof dI=="boolean")return dI;let t=!1;try{const e={get passive(){return t=!0,!1}},n=()=>{};window.addEventListener("test",n,e),window.removeEventListener("test",n)}catch{t=!1}return dI=t,dI}function _k(t){return t.type==="touchstart"}const mke={getInitialState:t=>({columnVisibility:{},...t}),getDefaultOptions:t=>({onColumnVisibilityChange:lh("columnVisibility",t)}),createColumn:(t,e)=>{t.toggleVisibility=n=>{t.getCanHide()&&e.setColumnVisibility(r=>({...r,[t.id]:n??!t.getIsVisible()}))},t.getIsVisible=()=>{var n,r;const i=t.columns;return(n=i.length?i.some(s=>s.getIsVisible()):(r=e.getState().columnVisibility)==null?void 0:r[t.id])!=null?n:!0},t.getCanHide=()=>{var n,r;return((n=t.columnDef.enableHiding)!=null?n:!0)&&((r=e.options.enableHiding)!=null?r:!0)},t.getToggleVisibilityHandler=()=>n=>{t.toggleVisibility==null||t.toggleVisibility(n.target.checked)}},createRow:(t,e)=>{t._getAllVisibleCells=pr(()=>[t.getAllCells(),e.getState().columnVisibility],n=>n.filter(r=>r.column.getIsVisible()),gr(e.options,"debugRows")),t.getVisibleCells=pr(()=>[t.getLeftVisibleCells(),t.getCenterVisibleCells(),t.getRightVisibleCells()],(n,r,i)=>[...n,...r,...i],gr(e.options,"debugRows"))},createTable:t=>{const e=(n,r)=>pr(()=>[r(),r().filter(i=>i.getIsVisible()).map(i=>i.id).join("_")],i=>i.filter(s=>s.getIsVisible==null?void 0:s.getIsVisible()),gr(t.options,"debugColumns"));t.getVisibleFlatColumns=e("getVisibleFlatColumns",()=>t.getAllFlatColumns()),t.getVisibleLeafColumns=e("getVisibleLeafColumns",()=>t.getAllLeafColumns()),t.getLeftVisibleLeafColumns=e("getLeftVisibleLeafColumns",()=>t.getLeftLeafColumns()),t.getRightVisibleLeafColumns=e("getRightVisibleLeafColumns",()=>t.getRightLeafColumns()),t.getCenterVisibleLeafColumns=e("getCenterVisibleLeafColumns",()=>t.getCenterLeafColumns()),t.setColumnVisibility=n=>t.options.onColumnVisibilityChange==null?void 0:t.options.onColumnVisibilityChange(n),t.resetColumnVisibility=n=>{var r;t.setColumnVisibility(n?{}:(r=t.initialState.columnVisibility)!=null?r:{})},t.toggleAllColumnsVisible=n=>{var r;n=(r=n)!=null?r:!t.getIsAllColumnsVisible(),t.setColumnVisibility(t.getAllLeafColumns().reduce((i,s)=>({...i,[s.id]:n||!(s.getCanHide!=null&&s.getCanHide())}),{}))},t.getIsAllColumnsVisible=()=>!t.getAllLeafColumns().some(n=>!(n.getIsVisible!=null&&n.getIsVisible())),t.getIsSomeColumnsVisible=()=>t.getAllLeafColumns().some(n=>n.getIsVisible==null?void 0:n.getIsVisible()),t.getToggleAllColumnsVisibilityHandler=()=>n=>{var r;t.toggleAllColumnsVisible((r=n.target)==null?void 0:r.checked)}}};function y_(t,e){return e?e==="center"?t.getCenterVisibleLeafColumns():e==="left"?t.getLeftVisibleLeafColumns():t.getRightVisibleLeafColumns():t.getVisibleLeafColumns()}const Ake={createTable:t=>{t._getGlobalFacetedRowModel=t.options.getFacetedRowModel&&t.options.getFacetedRowModel(t,"__global__"),t.getGlobalFacetedRowModel=()=>t.options.manualFiltering||!t._getGlobalFacetedRowModel?t.getPreFilteredRowModel():t._getGlobalFacetedRowModel(),t._getGlobalFacetedUniqueValues=t.options.getFacetedUniqueValues&&t.options.getFacetedUniqueValues(t,"__global__"),t.getGlobalFacetedUniqueValues=()=>t._getGlobalFacetedUniqueValues?t._getGlobalFacetedUniqueValues():new Map,t._getGlobalFacetedMinMaxValues=t.options.getFacetedMinMaxValues&&t.options.getFacetedMinMaxValues(t,"__global__"),t.getGlobalFacetedMinMaxValues=()=>{if(t._getGlobalFacetedMinMaxValues)return t._getGlobalFacetedMinMaxValues()}}},yke={getInitialState:t=>({globalFilter:void 0,...t}),getDefaultOptions:t=>({onGlobalFilterChange:lh("globalFilter",t),globalFilterFn:"auto",getColumnCanGlobalFilter:e=>{var n;const r=(n=t.getCoreRowModel().flatRows[0])==null||(n=n._getAllCellsByColumnId()[e.id])==null?void 0:n.getValue();return typeof r=="string"||typeof r=="number"}}),createColumn:(t,e)=>{t.getCanGlobalFilter=()=>{var n,r,i,s;return((n=t.columnDef.enableGlobalFilter)!=null?n:!0)&&((r=e.options.enableGlobalFilter)!=null?r:!0)&&((i=e.options.enableFilters)!=null?i:!0)&&((s=e.options.getColumnCanGlobalFilter==null?void 0:e.options.getColumnCanGlobalFilter(t))!=null?s:!0)&&!!t.accessorFn}},createTable:t=>{t.getGlobalAutoFilterFn=()=>g0.includesString,t.getGlobalFilterFn=()=>{var e,n;const{globalFilterFn:r}=t.options;return zT(r)?r:r==="auto"?t.getGlobalAutoFilterFn():(e=(n=t.options.filterFns)==null?void 0:n[r])!=null?e:g0[r]},t.setGlobalFilter=e=>{t.options.onGlobalFilterChange==null||t.options.onGlobalFilterChange(e)},t.resetGlobalFilter=e=>{t.setGlobalFilter(e?void 0:t.initialState.globalFilter)}}},vke={getInitialState:t=>({expanded:{},...t}),getDefaultOptions:t=>({onExpandedChange:lh("expanded",t),paginateExpandedRows:!0}),createTable:t=>{let e=!1,n=!1;t._autoResetExpanded=()=>{var r,i;if(!e){t._queue(()=>{e=!0});return}if((r=(i=t.options.autoResetAll)!=null?i:t.options.autoResetExpanded)!=null?r:!t.options.manualExpanding){if(n)return;n=!0,t._queue(()=>{t.resetExpanded(),n=!1})}},t.setExpanded=r=>t.options.onExpandedChange==null?void 0:t.options.onExpandedChange(r),t.toggleAllRowsExpanded=r=>{r??!t.getIsAllRowsExpanded()?t.setExpanded(!0):t.setExpanded({})},t.resetExpanded=r=>{var i,s;t.setExpanded(r?{}:(i=(s=t.initialState)==null?void 0:s.expanded)!=null?i:{})},t.getCanSomeRowsExpand=()=>t.getPrePaginationRowModel().flatRows.some(r=>r.getCanExpand()),t.getToggleAllRowsExpandedHandler=()=>r=>{r.persist==null||r.persist(),t.toggleAllRowsExpanded()},t.getIsSomeRowsExpanded=()=>{const r=t.getState().expanded;return r===!0||Object.values(r).some(Boolean)},t.getIsAllRowsExpanded=()=>{const r=t.getState().expanded;return typeof r=="boolean"?r===!0:!(!Object.keys(r).length||t.getRowModel().flatRows.some(i=>!i.getIsExpanded()))},t.getExpandedDepth=()=>{let r=0;return(t.getState().expanded===!0?Object.keys(t.getRowModel().rowsById):Object.keys(t.getState().expanded)).forEach(s=>{const o=s.split(".");r=Math.max(r,o.length)}),r},t.getPreExpandedRowModel=()=>t.getSortedRowModel(),t.getExpandedRowModel=()=>(!t._getExpandedRowModel&&t.options.getExpandedRowModel&&(t._getExpandedRowModel=t.options.getExpandedRowModel(t)),t.options.manualExpanding||!t._getExpandedRowModel?t.getPreExpandedRowModel():t._getExpandedRowModel())},createRow:(t,e)=>{t.toggleExpanded=n=>{e.setExpanded(r=>{var i;const s=r===!0?!0:!!(r!=null&&r[t.id]);let o={};if(r===!0?Object.keys(e.getRowModel().rowsById).forEach(a=>{o[a]=!0}):o=r,n=(i=n)!=null?i:!s,!s&&n)return{...o,[t.id]:!0};if(s&&!n){const{[t.id]:a,...l}=o;return l}return r})},t.getIsExpanded=()=>{var n;const r=e.getState().expanded;return!!((n=e.options.getIsRowExpanded==null?void 0:e.options.getIsRowExpanded(t))!=null?n:r===!0||r?.[t.id])},t.getCanExpand=()=>{var n,r,i;return(n=e.options.getRowCanExpand==null?void 0:e.options.getRowCanExpand(t))!=null?n:((r=e.options.enableExpanding)!=null?r:!0)&&!!((i=t.subRows)!=null&&i.length)},t.getIsAllParentsExpanded=()=>{let n=!0,r=t;for(;n&&r.parentId;)r=e.getRow(r.parentId,!0),n=r.getIsExpanded();return n},t.getToggleExpandedHandler=()=>{const n=t.getCanExpand();return()=>{n&&t.toggleExpanded()}}}},f8=0,p8=10,Ik=()=>({pageIndex:f8,pageSize:p8}),bke={getInitialState:t=>({...t,pagination:{...Ik(),...t?.pagination}}),getDefaultOptions:t=>({onPaginationChange:lh("pagination",t)}),createTable:t=>{let e=!1,n=!1;t._autoResetPageIndex=()=>{var r,i;if(!e){t._queue(()=>{e=!0});return}if((r=(i=t.options.autoResetAll)!=null?i:t.options.autoResetPageIndex)!=null?r:!t.options.manualPagination){if(n)return;n=!0,t._queue(()=>{t.resetPageIndex(),n=!1})}},t.setPagination=r=>{const i=s=>Ly(r,s);return t.options.onPaginationChange==null?void 0:t.options.onPaginationChange(i)},t.resetPagination=r=>{var i;t.setPagination(r?Ik():(i=t.initialState.pagination)!=null?i:Ik())},t.setPageIndex=r=>{t.setPagination(i=>{let s=Ly(r,i.pageIndex);const o=typeof t.options.pageCount>"u"||t.options.pageCount===-1?Number.MAX_SAFE_INTEGER:t.options.pageCount-1;return s=Math.max(0,Math.min(s,o)),{...i,pageIndex:s}})},t.resetPageIndex=r=>{var i,s;t.setPageIndex(r?f8:(i=(s=t.initialState)==null||(s=s.pagination)==null?void 0:s.pageIndex)!=null?i:f8)},t.resetPageSize=r=>{var i,s;t.setPageSize(r?p8:(i=(s=t.initialState)==null||(s=s.pagination)==null?void 0:s.pageSize)!=null?i:p8)},t.setPageSize=r=>{t.setPagination(i=>{const s=Math.max(1,Ly(r,i.pageSize)),o=i.pageSize*i.pageIndex,a=Math.floor(o/s);return{...i,pageIndex:a,pageSize:s}})},t.setPageCount=r=>t.setPagination(i=>{var s;let o=Ly(r,(s=t.options.pageCount)!=null?s:-1);return typeof o=="number"&&(o=Math.max(-1,o)),{...i,pageCount:o}}),t.getPageOptions=pr(()=>[t.getPageCount()],r=>{let i=[];return r&&r>0&&(i=[...new Array(r)].fill(null).map((s,o)=>o)),i},gr(t.options,"debugTable")),t.getCanPreviousPage=()=>t.getState().pagination.pageIndex>0,t.getCanNextPage=()=>{const{pageIndex:r}=t.getState().pagination,i=t.getPageCount();return i===-1?!0:i===0?!1:r<i-1},t.previousPage=()=>t.setPageIndex(r=>r-1),t.nextPage=()=>t.setPageIndex(r=>r+1),t.firstPage=()=>t.setPageIndex(0),t.lastPage=()=>t.setPageIndex(t.getPageCount()-1),t.getPrePaginationRowModel=()=>t.getExpandedRowModel(),t.getPaginationRowModel=()=>(!t._getPaginationRowModel&&t.options.getPaginationRowModel&&(t._getPaginationRowModel=t.options.getPaginationRowModel(t)),t.options.manualPagination||!t._getPaginationRowModel?t.getPrePaginationRowModel():t._getPaginationRowModel()),t.getPageCount=()=>{var r;return(r=t.options.pageCount)!=null?r:Math.ceil(t.getRowCount()/t.getState().pagination.pageSize)},t.getRowCount=()=>{var r;return(r=t.options.rowCount)!=null?r:t.getPrePaginationRowModel().rows.length}}},Bk=()=>({top:[],bottom:[]}),xke={getInitialState:t=>({rowPinning:Bk(),...t}),getDefaultOptions:t=>({onRowPinningChange:lh("rowPinning",t)}),createRow:(t,e)=>{t.pin=(n,r,i)=>{const s=r?t.getLeafRows().map(l=>{let{id:u}=l;return u}):[],o=i?t.getParentRows().map(l=>{let{id:u}=l;return u}):[],a=new Set([...o,t.id,...s]);e.setRowPinning(l=>{var u,c;if(n==="bottom"){var d,f;return{top:((d=l?.top)!=null?d:[]).filter(v=>!(a!=null&&a.has(v))),bottom:[...((f=l?.bottom)!=null?f:[]).filter(v=>!(a!=null&&a.has(v))),...Array.from(a)]}}if(n==="top"){var p,m;return{top:[...((p=l?.top)!=null?p:[]).filter(v=>!(a!=null&&a.has(v))),...Array.from(a)],bottom:((m=l?.bottom)!=null?m:[]).filter(v=>!(a!=null&&a.has(v)))}}return{top:((u=l?.top)!=null?u:[]).filter(v=>!(a!=null&&a.has(v))),bottom:((c=l?.bottom)!=null?c:[]).filter(v=>!(a!=null&&a.has(v)))}})},t.getCanPin=()=>{var n;const{enableRowPinning:r,enablePinning:i}=e.options;return typeof r=="function"?r(t):(n=r??i)!=null?n:!0},t.getIsPinned=()=>{const n=[t.id],{top:r,bottom:i}=e.getState().rowPinning,s=n.some(a=>r?.includes(a)),o=n.some(a=>i?.includes(a));return s?"top":o?"bottom":!1},t.getPinnedIndex=()=>{var n,r;const i=t.getIsPinned();if(!i)return-1;const s=(n=i==="top"?e.getTopRows():e.getBottomRows())==null?void 0:n.map(o=>{let{id:a}=o;return a});return(r=s?.indexOf(t.id))!=null?r:-1}},createTable:t=>{t.setRowPinning=e=>t.options.onRowPinningChange==null?void 0:t.options.onRowPinningChange(e),t.resetRowPinning=e=>{var n,r;return t.setRowPinning(e?Bk():(n=(r=t.initialState)==null?void 0:r.rowPinning)!=null?n:Bk())},t.getIsSomeRowsPinned=e=>{var n;const r=t.getState().rowPinning;if(!e){var i,s;return!!((i=r.top)!=null&&i.length||(s=r.bottom)!=null&&s.length)}return!!((n=r[e])!=null&&n.length)},t._getPinnedRows=(e,n,r)=>{var i;return((i=t.options.keepPinnedRows)==null||i?(n??[]).map(o=>{const a=t.getRow(o,!0);return a.getIsAllParentsExpanded()?a:null}):(n??[]).map(o=>e.find(a=>a.id===o))).filter(Boolean).map(o=>({...o,position:r}))},t.getTopRows=pr(()=>[t.getRowModel().rows,t.getState().rowPinning.top],(e,n)=>t._getPinnedRows(e,n,"top"),gr(t.options,"debugRows")),t.getBottomRows=pr(()=>[t.getRowModel().rows,t.getState().rowPinning.bottom],(e,n)=>t._getPinnedRows(e,n,"bottom"),gr(t.options,"debugRows")),t.getCenterRows=pr(()=>[t.getRowModel().rows,t.getState().rowPinning.top,t.getState().rowPinning.bottom],(e,n,r)=>{const i=new Set([...n??[],...r??[]]);return e.filter(s=>!i.has(s.id))},gr(t.options,"debugRows"))}},Cke={getInitialState:t=>({rowSelection:{},...t}),getDefaultOptions:t=>({onRowSelectionChange:lh("rowSelection",t),enableRowSelection:!0,enableMultiRowSelection:!0,enableSubRowSelection:!0}),createTable:t=>{t.setRowSelection=e=>t.options.onRowSelectionChange==null?void 0:t.options.onRowSelectionChange(e),t.resetRowSelection=e=>{var n;return t.setRowSelection(e?{}:(n=t.initialState.rowSelection)!=null?n:{})},t.toggleAllRowsSelected=e=>{t.setRowSelection(n=>{e=typeof e<"u"?e:!t.getIsAllRowsSelected();const r={...n},i=t.getPreGroupedRowModel().flatRows;return e?i.forEach(s=>{s.getCanSelect()&&(r[s.id]=!0)}):i.forEach(s=>{delete r[s.id]}),r})},t.toggleAllPageRowsSelected=e=>t.setRowSelection(n=>{const r=typeof e<"u"?e:!t.getIsAllPageRowsSelected(),i={...n};return t.getRowModel().rows.forEach(s=>{g8(i,s.id,r,!0,t)}),i}),t.getPreSelectedRowModel=()=>t.getCoreRowModel(),t.getSelectedRowModel=pr(()=>[t.getState().rowSelection,t.getCoreRowModel()],(e,n)=>Object.keys(e).length?Dk(t,n):{rows:[],flatRows:[],rowsById:{}},gr(t.options,"debugTable")),t.getFilteredSelectedRowModel=pr(()=>[t.getState().rowSelection,t.getFilteredRowModel()],(e,n)=>Object.keys(e).length?Dk(t,n):{rows:[],flatRows:[],rowsById:{}},gr(t.options,"debugTable")),t.getGroupedSelectedRowModel=pr(()=>[t.getState().rowSelection,t.getSortedRowModel()],(e,n)=>Object.keys(e).length?Dk(t,n):{rows:[],flatRows:[],rowsById:{}},gr(t.options,"debugTable")),t.getIsAllRowsSelected=()=>{const e=t.getFilteredRowModel().flatRows,{rowSelection:n}=t.getState();let r=!!(e.length&&Object.keys(n).length);return r&&e.some(i=>i.getCanSelect()&&!n[i.id])&&(r=!1),r},t.getIsAllPageRowsSelected=()=>{const e=t.getPaginationRowModel().flatRows.filter(i=>i.getCanSelect()),{rowSelection:n}=t.getState();let r=!!e.length;return r&&e.some(i=>!n[i.id])&&(r=!1),r},t.getIsSomeRowsSelected=()=>{var e;const n=Object.keys((e=t.getState().rowSelection)!=null?e:{}).length;return n>0&&n<t.getFilteredRowModel().flatRows.length},t.getIsSomePageRowsSelected=()=>{const e=t.getPaginationRowModel().flatRows;return t.getIsAllPageRowsSelected()?!1:e.filter(n=>n.getCanSelect()).some(n=>n.getIsSelected()||n.getIsSomeSelected())},t.getToggleAllRowsSelectedHandler=()=>e=>{t.toggleAllRowsSelected(e.target.checked)},t.getToggleAllPageRowsSelectedHandler=()=>e=>{t.toggleAllPageRowsSelected(e.target.checked)}},createRow:(t,e)=>{t.toggleSelected=(n,r)=>{const i=t.getIsSelected();e.setRowSelection(s=>{var o;if(n=typeof n<"u"?n:!i,t.getCanSelect()&&i===n)return s;const a={...s};return g8(a,t.id,n,(o=r?.selectChildren)!=null?o:!0,e),a})},t.getIsSelected=()=>{const{rowSelection:n}=e.getState();return z$(t,n)},t.getIsSomeSelected=()=>{const{rowSelection:n}=e.getState();return m8(t,n)==="some"},t.getIsAllSubRowsSelected=()=>{const{rowSelection:n}=e.getState();return m8(t,n)==="all"},t.getCanSelect=()=>{var n;return typeof e.options.enableRowSelection=="function"?e.options.enableRowSelection(t):(n=e.options.enableRowSelection)!=null?n:!0},t.getCanSelectSubRows=()=>{var n;return typeof e.options.enableSubRowSelection=="function"?e.options.enableSubRowSelection(t):(n=e.options.enableSubRowSelection)!=null?n:!0},t.getCanMultiSelect=()=>{var n;return typeof e.options.enableMultiRowSelection=="function"?e.options.enableMultiRowSelection(t):(n=e.options.enableMultiRowSelection)!=null?n:!0},t.getToggleSelectedHandler=()=>{const n=t.getCanSelect();return r=>{var i;n&&t.toggleSelected((i=r.target)==null?void 0:i.checked)}}}},g8=(t,e,n,r,i)=>{var s;const o=i.getRow(e,!0);n?(o.getCanMultiSelect()||Object.keys(t).forEach(a=>delete t[a]),o.getCanSelect()&&(t[e]=!0)):delete t[e],r&&(s=o.subRows)!=null&&s.length&&o.getCanSelectSubRows()&&o.subRows.forEach(a=>g8(t,a.id,n,r,i))};function Dk(t,e){const n=t.getState().rowSelection,r=[],i={},s=function(o,a){return o.map(l=>{var u;const c=z$(l,n);if(c&&(r.push(l),i[l.id]=l),(u=l.subRows)!=null&&u.length&&(l={...l,subRows:s(l.subRows)}),c)return l}).filter(Boolean)};return{rows:s(e.rows),flatRows:r,rowsById:i}}function z$(t,e){var n;return(n=e[t.id])!=null?n:!1}function m8(t,e,n){var r;if(!((r=t.subRows)!=null&&r.length))return!1;let i=!0,s=!1;return t.subRows.forEach(o=>{if(!(s&&!i)&&(o.getCanSelect()&&(z$(o,e)?s=!0:i=!1),o.subRows&&o.subRows.length)){const a=m8(o,e);a==="all"?s=!0:(a==="some"&&(s=!0),i=!1)}}),i?"all":s?"some":!1}const A8=/([0-9]+)/gm,Eke=(t,e,n)=>Lle(nv(t.getValue(n)).toLowerCase(),nv(e.getValue(n)).toLowerCase()),Ske=(t,e,n)=>Lle(nv(t.getValue(n)),nv(e.getValue(n))),wke=(t,e,n)=>O$(nv(t.getValue(n)).toLowerCase(),nv(e.getValue(n)).toLowerCase()),_ke=(t,e,n)=>O$(nv(t.getValue(n)),nv(e.getValue(n))),Ike=(t,e,n)=>{const r=t.getValue(n),i=e.getValue(n);return r>i?1:r<i?-1:0},Bke=(t,e,n)=>O$(t.getValue(n),e.getValue(n));function O$(t,e){return t===e?0:t>e?1:-1}function nv(t){return typeof t=="number"?isNaN(t)||t===1/0||t===-1/0?"":String(t):typeof t=="string"?t:""}function Lle(t,e){const n=t.split(A8).filter(Boolean),r=e.split(A8).filter(Boolean);for(;n.length&&r.length;){const i=n.shift(),s=r.shift(),o=parseInt(i,10),a=parseInt(s,10),l=[o,a].sort();if(isNaN(l[0])){if(i>s)return 1;if(s>i)return-1;continue}if(isNaN(l[1]))return isNaN(o)?-1:1;if(o>a)return 1;if(a>o)return-1}return n.length-r.length}const hw={alphanumeric:Eke,alphanumericCaseSensitive:Ske,text:wke,textCaseSensitive:_ke,datetime:Ike,basic:Bke},Dke={getInitialState:t=>({sorting:[],...t}),getDefaultColumnDef:()=>({sortingFn:"auto",sortUndefined:1}),getDefaultOptions:t=>({onSortingChange:lh("sorting",t),isMultiSortEvent:e=>e.shiftKey}),createColumn:(t,e)=>{t.getAutoSortingFn=()=>{const n=e.getFilteredRowModel().flatRows.slice(10);let r=!1;for(const i of n){const s=i?.getValue(t.id);if(Object.prototype.toString.call(s)==="[object Date]")return hw.datetime;if(typeof s=="string"&&(r=!0,s.split(A8).length>1))return hw.alphanumeric}return r?hw.text:hw.basic},t.getAutoSortDir=()=>{const n=e.getFilteredRowModel().flatRows[0];return typeof n?.getValue(t.id)=="string"?"asc":"desc"},t.getSortingFn=()=>{var n,r;if(!t)throw new Error;return zT(t.columnDef.sortingFn)?t.columnDef.sortingFn:t.columnDef.sortingFn==="auto"?t.getAutoSortingFn():(n=(r=e.options.sortingFns)==null?void 0:r[t.columnDef.sortingFn])!=null?n:hw[t.columnDef.sortingFn]},t.toggleSorting=(n,r)=>{const i=t.getNextSortingOrder(),s=typeof n<"u"&&n!==null;e.setSorting(o=>{const a=o?.find(p=>p.id===t.id),l=o?.findIndex(p=>p.id===t.id);let u=[],c,d=s?n:i==="desc";if(o!=null&&o.length&&t.getCanMultiSort()&&r?a?c="toggle":c="add":o!=null&&o.length&&l!==o.length-1?c="replace":a?c="toggle":c="replace",c==="toggle"&&(s||i||(c="remove")),c==="add"){var f;u=[...o,{id:t.id,desc:d}],u.splice(0,u.length-((f=e.options.maxMultiSortColCount)!=null?f:Number.MAX_SAFE_INTEGER))}else c==="toggle"?u=o.map(p=>p.id===t.id?{...p,desc:d}:p):c==="remove"?u=o.filter(p=>p.id!==t.id):u=[{id:t.id,desc:d}];return u})},t.getFirstSortDir=()=>{var n,r;return((n=(r=t.columnDef.sortDescFirst)!=null?r:e.options.sortDescFirst)!=null?n:t.getAutoSortDir()==="desc")?"desc":"asc"},t.getNextSortingOrder=n=>{var r,i;const s=t.getFirstSortDir(),o=t.getIsSorted();return o?o!==s&&((r=e.options.enableSortingRemoval)==null||r)&&(!(n&&(i=e.options.enableMultiRemove)!=null)||i)?!1:o==="desc"?"asc":"desc":s},t.getCanSort=()=>{var n,r;return((n=t.columnDef.enableSorting)!=null?n:!0)&&((r=e.options.enableSorting)!=null?r:!0)&&!!t.accessorFn},t.getCanMultiSort=()=>{var n,r;return(n=(r=t.columnDef.enableMultiSort)!=null?r:e.options.enableMultiSort)!=null?n:!!t.accessorFn},t.getIsSorted=()=>{var n;const r=(n=e.getState().sorting)==null?void 0:n.find(i=>i.id===t.id);return r?r.desc?"desc":"asc":!1},t.getSortIndex=()=>{var n,r;return(n=(r=e.getState().sorting)==null?void 0:r.findIndex(i=>i.id===t.id))!=null?n:-1},t.clearSorting=()=>{e.setSorting(n=>n!=null&&n.length?n.filter(r=>r.id!==t.id):[])},t.getToggleSortingHandler=()=>{const n=t.getCanSort();return r=>{n&&(r.persist==null||r.persist(),t.toggleSorting==null||t.toggleSorting(void 0,t.getCanMultiSort()?e.options.isMultiSortEvent==null?void 0:e.options.isMultiSortEvent(r):!1))}}},createTable:t=>{t.setSorting=e=>t.options.onSortingChange==null?void 0:t.options.onSortingChange(e),t.resetSorting=e=>{var n,r;t.setSorting(e?[]:(n=(r=t.initialState)==null?void 0:r.sorting)!=null?n:[])},t.getPreSortedRowModel=()=>t.getGroupedRowModel(),t.getSortedRowModel=()=>(!t._getSortedRowModel&&t.options.getSortedRowModel&&(t._getSortedRowModel=t.options.getSortedRowModel(t)),t.options.manualSorting||!t._getSortedRowModel?t.getPreSortedRowModel():t._getSortedRowModel())}},Tke=[Y5e,mke,dke,hke,J5e,Z5e,Ake,yke,Dke,uke,vke,bke,xke,Cke,pke];function Mke(t){var e,n;const r=[...Tke,...(e=t._features)!=null?e:[]];let i={_features:r};const s=i._features.reduce((f,p)=>Object.assign(f,p.getDefaultOptions==null?void 0:p.getDefaultOptions(i)),{}),o=f=>i.options.mergeOptions?i.options.mergeOptions(s,f):{...s,...f};let l={...{},...(n=t.initialState)!=null?n:{}};i._features.forEach(f=>{var p;l=(p=f.getInitialState==null?void 0:f.getInitialState(l))!=null?p:l});const u=[];let c=!1;const d={_features:r,options:{...s,...t},initialState:l,_queue:f=>{u.push(f),c||(c=!0,Promise.resolve().then(()=>{for(;u.length;)u.shift()();c=!1}).catch(p=>setTimeout(()=>{throw p})))},reset:()=>{i.setState(i.initialState)},setOptions:f=>{const p=Ly(f,i.options);i.options=o(p)},getState:()=>i.options.state,setState:f=>{i.options.onStateChange==null||i.options.onStateChange(f)},_getRowId:(f,p,m)=>{var v;return(v=i.options.getRowId==null?void 0:i.options.getRowId(f,p,m))!=null?v:`${m?[m.id,p].join("."):p}`},getCoreRowModel:()=>(i._getCoreRowModel||(i._getCoreRowModel=i.options.getCoreRowModel(i)),i._getCoreRowModel()),getRowModel:()=>i.getPaginationRowModel(),getRow:(f,p)=>{let m=(p?i.getPrePaginationRowModel():i.getRowModel()).rowsById[f];if(!m&&(m=i.getCoreRowModel().rowsById[f],!m))throw new Error;return m},_getDefaultColumnDef:pr(()=>[i.options.defaultColumn],f=>{var p;return f=(p=f)!=null?p:{},{header:m=>{const v=m.header.column.columnDef;return v.accessorKey?v.accessorKey:v.accessorFn?v.id:null},cell:m=>{var v,y;return(v=(y=m.renderValue())==null||y.toString==null?void 0:y.toString())!=null?v:null},...i._features.reduce((m,v)=>Object.assign(m,v.getDefaultColumnDef==null?void 0:v.getDefaultColumnDef()),{}),...f}},gr(t,"debugColumns")),_getColumnDefs:()=>i.options.columns,getAllColumns:pr(()=>[i._getColumnDefs()],f=>{const p=function(m,v,y){return y===void 0&&(y=0),m.map(A=>{const C=q5e(i,A,y,v),E=A;return C.columns=E.columns?p(E.columns,C,y+1):[],C})};return p(f)},gr(t,"debugColumns")),getAllFlatColumns:pr(()=>[i.getAllColumns()],f=>f.flatMap(p=>p.getFlatColumns()),gr(t,"debugColumns")),_getAllFlatColumnsById:pr(()=>[i.getAllFlatColumns()],f=>f.reduce((p,m)=>(p[m.id]=m,p),{}),gr(t,"debugColumns")),getAllLeafColumns:pr(()=>[i.getAllColumns(),i._getOrderColumnsFn()],(f,p)=>{let m=f.flatMap(v=>v.getLeafColumns());return p(m)},gr(t,"debugColumns")),getColumn:f=>i._getAllFlatColumnsById()[f]};Object.assign(i,d);for(let f=0;f<i._features.length;f++){const p=i._features[f];p==null||p.createTable==null||p.createTable(i)}return i}function kke(){return t=>pr(()=>[t.options.data],e=>{const n={rows:[],flatRows:[],rowsById:{}},r=function(i,s,o){s===void 0&&(s=0);const a=[];for(let u=0;u<i.length;u++){const c=X5e(t,t._getRowId(i[u],u,o),i[u],u,s,void 0,o?.id);if(n.flatRows.push(c),n.rowsById[c.id]=c,a.push(c),t.options.getSubRows){var l;c.originalSubRows=t.options.getSubRows(i[u],u),(l=c.originalSubRows)!=null&&l.length&&(c.subRows=r(c.originalSubRows,s+1,c))}}return a};return n.rows=r(e),n},gr(t.options,"debugTable","getRowModel",()=>t._autoResetPageIndex()))}function Pke(){return t=>pr(()=>[t.getState().sorting,t.getPreSortedRowModel()],(e,n)=>{if(!n.rows.length||!(e!=null&&e.length))return n;const r=t.getState().sorting,i=[],s=r.filter(l=>{var u;return(u=t.getColumn(l.id))==null?void 0:u.getCanSort()}),o={};s.forEach(l=>{const u=t.getColumn(l.id);u&&(o[l.id]={sortUndefined:u.columnDef.sortUndefined,invertSorting:u.columnDef.invertSorting,sortingFn:u.getSortingFn()})});const a=l=>{const u=l.map(c=>({...c}));return u.sort((c,d)=>{for(let p=0;p<s.length;p+=1){var f;const m=s[p],v=o[m.id],y=v.sortUndefined,A=(f=m?.desc)!=null?f:!1;let C=0;if(y){const E=c.getValue(m.id),I=d.getValue(m.id),D=E===void 0,T=I===void 0;if(D||T){if(y==="first")return D?-1:1;if(y==="last")return D?1:-1;C=D&&T?0:D?y:-y}}if(C===0&&(C=v.sortingFn(c,d,m.id)),C!==0)return A&&(C*=-1),v.invertSorting&&(C*=-1),C}return c.index-d.index}),u.forEach(c=>{var d;i.push(c),(d=c.subRows)!=null&&d.length&&(c.subRows=a(c.subRows))}),u};return{rows:a(n.rows),flatRows:i,rowsById:n.rowsById}},gr(t.options,"debugTable","getSortedRowModel",()=>t._autoResetPageIndex()))}function Tk(t,e){return t?Rke(t)?x.createElement(t,e):t:null}function Rke(t){return Nke(t)||typeof t=="function"||Lke(t)}function Nke(t){return typeof t=="function"&&(()=>{const e=Object.getPrototypeOf(t);return e.prototype&&e.prototype.isReactComponent})()}function Lke(t){return typeof t=="object"&&typeof t.$$typeof=="symbol"&&["react.memo","react.forward_ref"].includes(t.$$typeof.description)}function Fke(t){const e={state:{},onStateChange:()=>{},renderFallbackValue:null,...t},[n]=x.useState(()=>({current:Mke(e)})),[r,i]=x.useState(()=>n.current.initialState);return n.current.setOptions(s=>({...s,...t,state:{...r,...t.state},onStateChange:o=>{i(o),t.onStateChange==null||t.onStateChange(o)}})),n.current}const $ke=t=>t?(...e)=>t(...e):(...e)=>fetch(...e);class j$ extends Error{constructor(e,n="FunctionsError",r){super(e),this.name=n,this.context=r}}class zke extends j${constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class U9 extends j${constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class H9 extends j${constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var y8;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(y8||(y8={}));class Oke{constructor(e,{headers:n={},customFetch:r,region:i=y8.Any}={}){this.url=e,this.headers=n,this.region=i,this.fetch=$ke(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return v2e(this,arguments,void 0,function*(n,r={}){var i;let s,o;try{const{headers:a,method:l,body:u,signal:c,timeout:d}=r;let f={},{region:p}=r;p||(p=this.region);const m=new URL(`${this.url}/${n}`);p&&p!=="any"&&(f["x-region"]=p,m.searchParams.set("forceFunctionRegion",p));let v;u&&(a&&!Object.prototype.hasOwnProperty.call(a,"Content-Type")||!a)?typeof Blob<"u"&&u instanceof Blob||u instanceof ArrayBuffer?(f["Content-Type"]="application/octet-stream",v=u):typeof u=="string"?(f["Content-Type"]="text/plain",v=u):typeof FormData<"u"&&u instanceof FormData?v=u:(f["Content-Type"]="application/json",v=JSON.stringify(u)):v=u;let y=c;d&&(o=new AbortController,s=setTimeout(()=>o.abort(),d),c?(y=o.signal,c.addEventListener("abort",()=>o.abort())):y=o.signal);const A=yield this.fetch(m.toString(),{method:l||"POST",headers:Object.assign(Object.assign(Object.assign({},f),this.headers),a),body:v,signal:y}).catch(D=>{throw new zke(D)}),C=A.headers.get("x-relay-error");if(C&&C==="true")throw new U9(A);if(!A.ok)throw new H9(A);let E=((i=A.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),I;return E==="application/json"?I=yield A.json():E==="application/octet-stream"||E==="application/pdf"?I=yield A.blob():E==="text/event-stream"?I=A:E==="multipart/form-data"?I=yield A.formData():I=yield A.text(),{data:I,error:null,response:A}}catch(a){return{data:null,error:a,response:a instanceof H9||a instanceof U9?a.context:void 0}}finally{s&&clearTimeout(s)}})}}var jke=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}},Qke=class{constructor(t){var e,n;this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=new Headers(t.headers),this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=(e=t.shouldThrowOnError)!==null&&e!==void 0?e:!1,this.signal=t.signal,this.isMaybeSingle=(n=t.isMaybeSingle)!==null&&n!==void 0?n:!1,t.fetch?this.fetch=t.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,e){return this.headers=new Headers(this.headers),this.headers.set(t,e),this}then(t,e){var n=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const r=this.fetch;let i=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async s=>{let o=null,a=null,l=null,u=s.status,c=s.statusText;if(s.ok){var d,f;if(n.method!=="HEAD"){var p;const A=await s.text();A===""||(n.headers.get("Accept")==="text/csv"||n.headers.get("Accept")&&(!((p=n.headers.get("Accept"))===null||p===void 0)&&p.includes("application/vnd.pgrst.plan+text"))?a=A:a=JSON.parse(A))}const v=(d=n.headers.get("Prefer"))===null||d===void 0?void 0:d.match(/count=(exact|planned|estimated)/),y=(f=s.headers.get("content-range"))===null||f===void 0?void 0:f.split("/");v&&y&&y.length>1&&(l=parseInt(y[1])),n.isMaybeSingle&&n.method==="GET"&&Array.isArray(a)&&(a.length>1?(o={code:"PGRST116",details:`Results contain ${a.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},a=null,l=null,u=406,c="Not Acceptable"):a.length===1?a=a[0]:a=null)}else{var m;const v=await s.text();try{o=JSON.parse(v),Array.isArray(o)&&s.status===404&&(a=[],o=null,u=200,c="OK")}catch{s.status===404&&v===""?(u=204,c="No Content"):o={message:v}}if(o&&n.isMaybeSingle&&(!(o==null||(m=o.details)===null||m===void 0)&&m.includes("0 rows"))&&(o=null,u=200,c="OK"),o&&n.shouldThrowOnError)throw new jke(o)}return{error:o,data:a,count:l,status:u,statusText:c}});return this.shouldThrowOnError||(i=i.catch(s=>{var o;let a="";const l=s?.cause;if(l){var u,c,d,f;const m=(u=l?.message)!==null&&u!==void 0?u:"",v=(c=l?.code)!==null&&c!==void 0?c:"";a=`${(d=s?.name)!==null&&d!==void 0?d:"FetchError"}: ${s?.message}`,a+=`

Caused by: ${(f=l?.name)!==null&&f!==void 0?f:"Error"}: ${m}`,v&&(a+=` (${v})`),l?.stack&&(a+=`
${l.stack}`)}else{var p;a=(p=s?.stack)!==null&&p!==void 0?p:""}return{error:{message:`${(o=s?.name)!==null&&o!==void 0?o:"FetchError"}: ${s?.message}`,details:a,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),i.then(t,e)}returns(){return this}overrideTypes(){return this}},Uke=class extends Qke{select(t){let e=!1;const n=(t??"*").split("").map(r=>/\s/.test(r)&&!e?"":(r==='"'&&(e=!e),r)).join("");return this.url.searchParams.set("select",n),this.headers.append("Prefer","return=representation"),this}order(t,{ascending:e=!0,nullsFirst:n,foreignTable:r,referencedTable:i=r}={}){const s=i?`${i}.order`:"order",o=this.url.searchParams.get(s);return this.url.searchParams.set(s,`${o?`${o},`:""}${t}.${e?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:e,referencedTable:n=e}={}){const r=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(r,`${t}`),this}range(t,e,{foreignTable:n,referencedTable:r=n}={}){const i=typeof r>"u"?"offset":`${r}.offset`,s=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(i,`${t}`),this.url.searchParams.set(s,`${e-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:t=!1,verbose:e=!1,settings:n=!1,buffers:r=!1,wal:i=!1,format:s="text"}={}){var o;const a=[t?"analyze":null,e?"verbose":null,n?"settings":null,r?"buffers":null,i?"wal":null].filter(Boolean).join("|"),l=(o=this.headers.get("Accept"))!==null&&o!==void 0?o:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${s}; for="${l}"; options=${a};`),s==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(t){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${t}`),this}};const V9=new RegExp("[,()]");var j1=class extends Uke{eq(t,e){return this.url.searchParams.append(t,`eq.${e}`),this}neq(t,e){return this.url.searchParams.append(t,`neq.${e}`),this}gt(t,e){return this.url.searchParams.append(t,`gt.${e}`),this}gte(t,e){return this.url.searchParams.append(t,`gte.${e}`),this}lt(t,e){return this.url.searchParams.append(t,`lt.${e}`),this}lte(t,e){return this.url.searchParams.append(t,`lte.${e}`),this}like(t,e){return this.url.searchParams.append(t,`like.${e}`),this}likeAllOf(t,e){return this.url.searchParams.append(t,`like(all).{${e.join(",")}}`),this}likeAnyOf(t,e){return this.url.searchParams.append(t,`like(any).{${e.join(",")}}`),this}ilike(t,e){return this.url.searchParams.append(t,`ilike.${e}`),this}ilikeAllOf(t,e){return this.url.searchParams.append(t,`ilike(all).{${e.join(",")}}`),this}ilikeAnyOf(t,e){return this.url.searchParams.append(t,`ilike(any).{${e.join(",")}}`),this}regexMatch(t,e){return this.url.searchParams.append(t,`match.${e}`),this}regexIMatch(t,e){return this.url.searchParams.append(t,`imatch.${e}`),this}is(t,e){return this.url.searchParams.append(t,`is.${e}`),this}isDistinct(t,e){return this.url.searchParams.append(t,`isdistinct.${e}`),this}in(t,e){const n=Array.from(new Set(e)).map(r=>typeof r=="string"&&V9.test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(t,`in.(${n})`),this}notIn(t,e){const n=Array.from(new Set(e)).map(r=>typeof r=="string"&&V9.test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(t,`not.in.(${n})`),this}contains(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cs.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cs.{${e.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(e)}`),this}containedBy(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cd.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cd.{${e.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(e)}`),this}rangeGt(t,e){return this.url.searchParams.append(t,`sr.${e}`),this}rangeGte(t,e){return this.url.searchParams.append(t,`nxl.${e}`),this}rangeLt(t,e){return this.url.searchParams.append(t,`sl.${e}`),this}rangeLte(t,e){return this.url.searchParams.append(t,`nxr.${e}`),this}rangeAdjacent(t,e){return this.url.searchParams.append(t,`adj.${e}`),this}overlaps(t,e){return typeof e=="string"?this.url.searchParams.append(t,`ov.${e}`):this.url.searchParams.append(t,`ov.{${e.join(",")}}`),this}textSearch(t,e,{config:n,type:r}={}){let i="";r==="plain"?i="pl":r==="phrase"?i="ph":r==="websearch"&&(i="w");const s=n===void 0?"":`(${n})`;return this.url.searchParams.append(t,`${i}fts${s}.${e}`),this}match(t){return Object.entries(t).forEach(([e,n])=>{this.url.searchParams.append(e,`eq.${n}`)}),this}not(t,e,n){return this.url.searchParams.append(t,`not.${e}.${n}`),this}or(t,{foreignTable:e,referencedTable:n=e}={}){const r=n?`${n}.or`:"or";return this.url.searchParams.append(r,`(${t})`),this}filter(t,e,n){return this.url.searchParams.append(t,`${e}.${n}`),this}},Hke=class{constructor(t,{headers:e={},schema:n,fetch:r}){this.url=t,this.headers=new Headers(e),this.schema=n,this.fetch=r}select(t,e){const{head:n=!1,count:r}=e??{},i=n?"HEAD":"GET";let s=!1;const o=(t??"*").split("").map(a=>/\s/.test(a)&&!s?"":(a==='"'&&(s=!s),a)).join("");return this.url.searchParams.set("select",o),r&&this.headers.append("Prefer",`count=${r}`),new j1({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(t,{count:e,defaultToNull:n=!0}={}){var r;const i="POST";if(e&&this.headers.append("Prefer",`count=${e}`),n||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const s=t.reduce((o,a)=>o.concat(Object.keys(a)),[]);if(s.length>0){const o=[...new Set(s)].map(a=>`"${a}"`);this.url.searchParams.set("columns",o.join(","))}}return new j1({method:i,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}upsert(t,{onConflict:e,ignoreDuplicates:n=!1,count:r,defaultToNull:i=!0}={}){var s;const o="POST";if(this.headers.append("Prefer",`resolution=${n?"ignore":"merge"}-duplicates`),e!==void 0&&this.url.searchParams.set("on_conflict",e),r&&this.headers.append("Prefer",`count=${r}`),i||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const a=t.reduce((l,u)=>l.concat(Object.keys(u)),[]);if(a.length>0){const l=[...new Set(a)].map(u=>`"${u}"`);this.url.searchParams.set("columns",l.join(","))}}return new j1({method:o,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}update(t,{count:e}={}){var n;const r="PATCH";return e&&this.headers.append("Prefer",`count=${e}`),new j1({method:r,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}delete({count:t}={}){var e;const n="DELETE";return t&&this.headers.append("Prefer",`count=${t}`),new j1({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:(e=this.fetch)!==null&&e!==void 0?e:fetch})}},Vke=class Fle{constructor(e,{headers:n={},schema:r,fetch:i}={}){this.url=e,this.headers=new Headers(n),this.schemaName=r,this.fetch=i}from(e){if(!e||typeof e!="string"||e.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new Hke(new URL(`${this.url}/${e}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new Fle(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,n={},{head:r=!1,get:i=!1,count:s}={}){var o;let a;const l=new URL(`${this.url}/rpc/${e}`);let u;r||i?(a=r?"HEAD":"GET",Object.entries(n).filter(([d,f])=>f!==void 0).map(([d,f])=>[d,Array.isArray(f)?`{${f.join(",")}}`:`${f}`]).forEach(([d,f])=>{l.searchParams.append(d,f)})):(a="POST",u=n);const c=new Headers(this.headers);return s&&c.set("Prefer",`count=${s}`),new j1({method:a,url:l,headers:c,schema:this.schemaName,body:u,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}};class Gke{constructor(){}static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const r=n.node,i=parseInt(r.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let n=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(n+=`

Suggested solution: ${e.workaround}`),new Error(n)}static createWebSocket(e,n){const r=this.getWebSocketConstructor();return new r(e,n)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const Kke="2.89.0",Wke=`realtime-js/${Kke}`,$le="1.0.0",qke="2.0.0",G9=$le,v8=1e4,Yke=1e3,Xke=100;var wy;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(wy||(wy={}));var Za;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(Za||(Za={}));var Cp;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(Cp||(Cp={}));var b8;(function(t){t.websocket="websocket"})(b8||(b8={}));var rx;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(rx||(rx={}));class Jke{constructor(e){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=e??[]}encode(e,n){if(e.event===this.BROADCAST_EVENT&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event=="string")return n(this._binaryEncodeUserBroadcastPush(e));let r=[e.join_ref,e.ref,e.topic,e.event,e.payload];return n(JSON.stringify(r))}_binaryEncodeUserBroadcastPush(e){var n;return this._isArrayBuffer((n=e.payload)===null||n===void 0?void 0:n.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var n,r;const i=(r=(n=e.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:new ArrayBuffer(0);return this._encodeUserBroadcastPush(e,this.BINARY_ENCODING,i)}_encodeJsonUserBroadcastPush(e){var n,r;const i=(r=(n=e.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:{},o=new TextEncoder().encode(JSON.stringify(i)).buffer;return this._encodeUserBroadcastPush(e,this.JSON_ENCODING,o)}_encodeUserBroadcastPush(e,n,r){var i,s;const o=e.topic,a=(i=e.ref)!==null&&i!==void 0?i:"",l=(s=e.join_ref)!==null&&s!==void 0?s:"",u=e.payload.event,c=this.allowedMetadataKeys?this._pick(e.payload,this.allowedMetadataKeys):{},d=Object.keys(c).length===0?"":JSON.stringify(c);if(l.length>255)throw new Error(`joinRef length ${l.length} exceeds maximum of 255`);if(a.length>255)throw new Error(`ref length ${a.length} exceeds maximum of 255`);if(o.length>255)throw new Error(`topic length ${o.length} exceeds maximum of 255`);if(u.length>255)throw new Error(`userEvent length ${u.length} exceeds maximum of 255`);if(d.length>255)throw new Error(`metadata length ${d.length} exceeds maximum of 255`);const f=this.USER_BROADCAST_PUSH_META_LENGTH+l.length+a.length+o.length+u.length+d.length,p=new ArrayBuffer(this.HEADER_LENGTH+f);let m=new DataView(p),v=0;m.setUint8(v++,this.KINDS.userBroadcastPush),m.setUint8(v++,l.length),m.setUint8(v++,a.length),m.setUint8(v++,o.length),m.setUint8(v++,u.length),m.setUint8(v++,d.length),m.setUint8(v++,n),Array.from(l,A=>m.setUint8(v++,A.charCodeAt(0))),Array.from(a,A=>m.setUint8(v++,A.charCodeAt(0))),Array.from(o,A=>m.setUint8(v++,A.charCodeAt(0))),Array.from(u,A=>m.setUint8(v++,A.charCodeAt(0))),Array.from(d,A=>m.setUint8(v++,A.charCodeAt(0)));var y=new Uint8Array(p.byteLength+r.byteLength);return y.set(new Uint8Array(p),0),y.set(new Uint8Array(r),p.byteLength),y.buffer}decode(e,n){if(this._isArrayBuffer(e)){let r=this._binaryDecode(e);return n(r)}if(typeof e=="string"){const r=JSON.parse(e),[i,s,o,a,l]=r;return n({join_ref:i,ref:s,topic:o,event:a,payload:l})}return n({})}_binaryDecode(e){const n=new DataView(e),r=n.getUint8(0),i=new TextDecoder;if(r===this.KINDS.userBroadcast)return this._decodeUserBroadcast(e,n,i)}_decodeUserBroadcast(e,n,r){const i=n.getUint8(1),s=n.getUint8(2),o=n.getUint8(3),a=n.getUint8(4);let l=this.HEADER_LENGTH+4;const u=r.decode(e.slice(l,l+i));l=l+i;const c=r.decode(e.slice(l,l+s));l=l+s;const d=r.decode(e.slice(l,l+o));l=l+o;const f=e.slice(l,e.byteLength),p=a===this.JSON_ENCODING?JSON.parse(r.decode(f)):f,m={type:this.BROADCAST_EVENT,event:c,payload:p};return o>0&&(m.meta=JSON.parse(d)),{join_ref:null,ref:null,topic:u,event:this.BROADCAST_EVENT,payload:m}}_isArrayBuffer(e){var n;return e instanceof ArrayBuffer||((n=e?.constructor)===null||n===void 0?void 0:n.name)==="ArrayBuffer"}_pick(e,n){return!e||typeof e!="object"?{}:Object.fromEntries(Object.entries(e).filter(([r])=>n.includes(r)))}}let zle=class{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}};var $s;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})($s||($s={}));const K9=(t,e,n={})=>{var r;const i=(r=n.skipTypes)!==null&&r!==void 0?r:[];return e?Object.keys(e).reduce((s,o)=>(s[o]=Zke(o,t,e,i),s),{}):{}},Zke=(t,e,n,r)=>{const i=e.find(a=>a.name===t),s=i?.type,o=n[t];return s&&!r.includes(s)?Ole(s,o):x8(o)},Ole=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return rPe(e,n)}switch(t){case $s.bool:return ePe(e);case $s.float4:case $s.float8:case $s.int2:case $s.int4:case $s.int8:case $s.numeric:case $s.oid:return tPe(e);case $s.json:case $s.jsonb:return nPe(e);case $s.timestamp:return iPe(e);case $s.abstime:case $s.date:case $s.daterange:case $s.int4range:case $s.int8range:case $s.money:case $s.reltime:case $s.text:case $s.time:case $s.timestamptz:case $s.timetz:case $s.tsrange:case $s.tstzrange:return x8(e);default:return x8(e)}},x8=t=>t,ePe=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},tPe=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},nPe=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch{return t}return t},rPe=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,r=t[n];if(t[0]==="{"&&r==="}"){let s;const o=t.slice(1,n);try{s=JSON.parse("["+o+"]")}catch{s=o?o.split(","):[]}return s.map(a=>Ole(e,a))}return t},iPe=t=>typeof t=="string"?t.replace(" ","T"):t,jle=t=>{const e=new URL(t);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class Mk{constructor(e,n,r={},i=v8){this.channel=e,this.event=n,this.payload=r,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var r;return this._hasReceived(e)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var W9;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(W9||(W9={}));class v_{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=n?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},i=>{const{onJoin:s,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=v_.syncState(this.state,i,s,o),this.pendingDiffs.forEach(l=>{this.state=v_.syncDiff(this.state,l,s,o)}),this.pendingDiffs=[],a()}),this.channel._on(r.diff,{},i=>{const{onJoin:s,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=v_.syncDiff(this.state,i,s,o),a())}),this.onJoin((i,s,o)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:s,newPresences:o})}),this.onLeave((i,s,o)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:s,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,r,i){const s=this.cloneDeep(e),o=this.transformState(n),a={},l={};return this.map(s,(u,c)=>{o[u]||(l[u]=c)}),this.map(o,(u,c)=>{const d=s[u];if(d){const f=c.map(y=>y.presence_ref),p=d.map(y=>y.presence_ref),m=c.filter(y=>p.indexOf(y.presence_ref)<0),v=d.filter(y=>f.indexOf(y.presence_ref)<0);m.length>0&&(a[u]=m),v.length>0&&(l[u]=v)}else a[u]=c}),this.syncDiff(s,{joins:a,leaves:l},r,i)}static syncDiff(e,n,r,i){const{joins:s,leaves:o}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),i||(i=()=>{}),this.map(s,(a,l)=>{var u;const c=(u=e[a])!==null&&u!==void 0?u:[];if(e[a]=this.cloneDeep(l),c.length>0){const d=e[a].map(p=>p.presence_ref),f=c.filter(p=>d.indexOf(p.presence_ref)<0);e[a].unshift(...f)}r(a,c,l)}),this.map(o,(a,l)=>{let u=e[a];if(!u)return;const c=l.map(d=>d.presence_ref);u=u.filter(d=>c.indexOf(d.presence_ref)<0),e[a]=u,i(a,u,l),u.length===0&&delete e[a]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(r=>n(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,r)=>{const i=e[r];return"metas"in i?n[r]=i.metas.map(s=>(s.presence_ref=s.phx_ref,delete s.phx_ref,delete s.phx_ref_prev,s)):n[r]=i,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var q9;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(q9||(q9={}));var b_;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(b_||(b_={}));var m0;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(m0||(m0={}));class X1{constructor(e,n={config:{}},r){var i,s;if(this.topic=e,this.params=n,this.socket=r,this.bindings={},this.state=Za.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new Mk(this,Cp.join,this.params,this.timeout),this.rejoinTimer=new zle(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Za.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Za.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=Za.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Za.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=Za.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Cp.reply,{},(o,a)=>{this._trigger(this._replyEventName(a),o)}),this.presence=new v_(this),this.broadcastEndpointURL=jle(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((s=(i=this.params.config)===null||i===void 0?void 0:i.broadcast)===null||s===void 0)&&s.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,n=this.timeout){var r,i,s;if(this.socket.isConnected()||this.socket.connect(),this.state==Za.closed){const{config:{broadcast:o,presence:a,private:l}}=this.params,u=(i=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(p=>p.filter))!==null&&i!==void 0?i:[],c=!!this.bindings[b_.PRESENCE]&&this.bindings[b_.PRESENCE].length>0||((s=this.params.config.presence)===null||s===void 0?void 0:s.enabled)===!0,d={},f={broadcast:o,presence:Object.assign(Object.assign({},a),{enabled:c}),postgres_changes:u,private:l};this.socket.accessTokenValue&&(d.access_token=this.socket.accessTokenValue),this._onError(p=>e?.(m0.CHANNEL_ERROR,p)),this._onClose(()=>e?.(m0.CLOSED)),this.updateJoinPayload(Object.assign({config:f},d)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:p})=>{var m;if(this.socket._isManualToken()||this.socket.setAuth(),p===void 0){e?.(m0.SUBSCRIBED);return}else{const v=this.bindings.postgres_changes,y=(m=v?.length)!==null&&m!==void 0?m:0,A=[];for(let C=0;C<y;C++){const E=v[C],{filter:{event:I,schema:D,table:T,filter:M}}=E,P=p&&p[C];if(P&&P.event===I&&X1.isFilterValueEqual(P.schema,D)&&X1.isFilterValueEqual(P.table,T)&&X1.isFilterValueEqual(P.filter,M))A.push(Object.assign(Object.assign({},E),{id:P.id}));else{this.unsubscribe(),this.state=Za.errored,e?.(m0.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=A,e&&e(m0.SUBSCRIBED);return}}).receive("error",p=>{this.state=Za.errored,e?.(m0.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(p).join(", ")||"error")))}).receive("timeout",()=>{e?.(m0.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,r){return this.state===Za.joined&&e===b_.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(e,n,r)}async httpSend(e,n,r={}){var i;if(n==null)return Promise.reject("Payload is required for httpSend()");const s={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(s.Authorization=`Bearer ${this.socket.accessTokenValue}`);const o={method:"POST",headers:s,body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:n,private:this.private}]})},a=await this._fetchWithTimeout(this.broadcastEndpointURL,o,(i=r.timeout)!==null&&i!==void 0?i:this.timeout);if(a.status===202)return{success:!0};let l=a.statusText;try{const u=await a.json();l=u.error||u.message||l}catch{}return Promise.reject(new Error(l))}async send(e,n={}){var r,i;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:s,payload:o}=e,a={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(a.Authorization=`Bearer ${this.socket.accessTokenValue}`);const l={method:"POST",headers:a,body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((i=u.body)===null||i===void 0?void 0:i.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(s=>{var o,a,l;const u=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&s("ok"),u.receive("ok",()=>s("ok")),u.receive("error",()=>s("error")),u.receive("timeout",()=>s("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Za.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Cp.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(i=>{r=new Mk(this,Cp.leave,{},e),r.receive("ok",()=>{n(),i("ok")}).receive("timeout",()=>{n(),i("timed out")}).receive("error",()=>{i("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r?.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Za.closed,this.bindings={}}async _fetchWithTimeout(e,n,r){const i=new AbortController,s=setTimeout(()=>i.abort(),r),o=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:i.signal}));return clearTimeout(s),o}_push(e,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new Mk(this,e,n,r);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>Xke){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(e,n,r){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,r){var i,s;const o=e.toLocaleLowerCase(),{close:a,error:l,leave:u,join:c}=Cp;if(r&&[a,l,u,c].indexOf(o)>=0&&r!==this._joinRef())return;let f=this._onMessage(o,n,r);if(n&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(p=>{var m,v,y;return((m=p.filter)===null||m===void 0?void 0:m.event)==="*"||((y=(v=p.filter)===null||v===void 0?void 0:v.event)===null||y===void 0?void 0:y.toLocaleLowerCase())===o}).map(p=>p.callback(f,r)):(s=this.bindings[o])===null||s===void 0||s.filter(p=>{var m,v,y,A,C,E;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in p){const I=p.id,D=(m=p.filter)===null||m===void 0?void 0:m.event;return I&&((v=n.ids)===null||v===void 0?void 0:v.includes(I))&&(D==="*"||D?.toLocaleLowerCase()===((y=n.data)===null||y===void 0?void 0:y.type.toLocaleLowerCase()))}else{const I=(C=(A=p?.filter)===null||A===void 0?void 0:A.event)===null||C===void 0?void 0:C.toLocaleLowerCase();return I==="*"||I===((E=n?.event)===null||E===void 0?void 0:E.toLocaleLowerCase())}else return p.type.toLocaleLowerCase()===o}).map(p=>{if(typeof f=="object"&&"ids"in f){const m=f.data,{schema:v,table:y,commit_timestamp:A,type:C,errors:E}=m;f=Object.assign(Object.assign({},{schema:v,table:y,commit_timestamp:A,eventType:C,new:{},old:{},errors:E}),this._getPayloadRecords(m))}p.callback(f,r)})}_isClosed(){return this.state===Za.closed}_isJoined(){return this.state===Za.joined}_isJoining(){return this.state===Za.joining}_isLeaving(){return this.state===Za.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,r){const i=e.toLocaleLowerCase(),s={type:i,filter:n,callback:r};return this.bindings[i]?this.bindings[i].push(s):this.bindings[i]=[s],this}_off(e,n){const r=e.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(i=>{var s;return!(((s=i.type)===null||s===void 0?void 0:s.toLocaleLowerCase())===r&&X1.isEqual(i.filter,n))})),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const r in e)if(e[r]!==n[r])return!1;return!0}static isFilterValueEqual(e,n){return(e??void 0)===(n??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Cp.close,{},e)}_onError(e){this._on(Cp.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Za.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=K9(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=K9(e.columns,e.old_record)),n}}const kk=()=>{},hI={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},sPe=[1e3,2e3,5e3,1e4],oPe=1e4,aPe=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class lPe{constructor(e,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=v8,this.transport=null,this.heartbeatIntervalMs=hI.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=kk,this.ref=0,this.reconnectTimer=null,this.vsn=G9,this.logger=kk,this.conn=null,this.sendBuffer=[],this.serializer=new Jke,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=i=>i?(...s)=>i(...s):(...s)=>fetch(...s),!(!((r=n?.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${e}/${b8.websocket}`,this.httpEndpoint=jle(e),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Gke.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const n=e.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(e?this.conn.close(e,n??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,n,r){this.logger(e,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case wy.connecting:return rx.Connecting;case wy.open:return rx.Open;case wy.closing:return rx.Closing;default:return rx.Closed}}isConnected(){return this.connectionState()===rx.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,n={config:{}}){const r=`realtime:${e}`,i=this.getChannels().find(s=>s.topic===r);if(i)return i;{const s=new X1(`realtime:${e}`,n,this);return this.channels.push(s),s}}push(e){const{topic:n,event:r,payload:i,ref:s}=e,o=()=>{this.encode(e,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${n} ${r} (${s})`,i),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(Yke,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},hI.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(u){this.log("error","error in heartbeat callback",u)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:r,event:i,payload:s,ref:o}=n,a=o?`(${o})`:"",l=s.status||"";this.log("receive",`${l} ${r} ${i} ${a}`.trim(),s),this.channels.filter(u=>u._isMember(r)).forEach(u=>u._trigger(i,s,o)),this._triggerStateCallbacks("message",n)})}_clearTimer(e){var n;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e),this.conn.readyState===wy.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===wy.open||this.conn.readyState===wy.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(n=>{this.log("error","error waiting for auth on connect",n),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this._terminateWorker()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(e){var n;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(Cp.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const r=e.match(/\?/)?"&":"?",i=new URLSearchParams(n);return`${e}${r}${i}`}_workerObjectUrl(e){let n;if(e)n=e;else{const r=new Blob([aPe],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(e,n=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(e=null){let n,r=!1;if(e)n=e,r=!0;else if(this.accessToken)try{n=await this.accessToken()}catch(i){this.log("error","Error fetching access token from callback",i),n=this.accessTokenValue}else n=this.accessTokenValue;r?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(i=>{const s={access_token:n,version:Wke};n&&i.updateJoinPayload(s),i.joinedOnce&&i._isJoined()&&i._push(Cp.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this._isManualToken()||this.setAuth().catch(n=>{this.log("error",`Error setting auth in ${e}`,n)})}_triggerStateCallbacks(e,n){try{this.stateChangeCallbacks[e].forEach(r=>{try{r(n)}catch(i){this.log("error",`error in ${e} callback`,i)}})}catch(r){this.log("error",`error triggering ${e} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new zle(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},hI.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var n,r,i,s,o,a,l,u,c,d,f,p;switch(this.transport=(n=e?.transport)!==null&&n!==void 0?n:null,this.timeout=(r=e?.timeout)!==null&&r!==void 0?r:v8,this.heartbeatIntervalMs=(i=e?.heartbeatIntervalMs)!==null&&i!==void 0?i:hI.HEARTBEAT_INTERVAL,this.worker=(s=e?.worker)!==null&&s!==void 0?s:!1,this.accessToken=(o=e?.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(a=e?.heartbeatCallback)!==null&&a!==void 0?a:kk,this.vsn=(l=e?.vsn)!==null&&l!==void 0?l:G9,e?.params&&(this.params=e.params),e?.logger&&(this.logger=e.logger),(e?.logLevel||e?.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(u=e?.reconnectAfterMs)!==null&&u!==void 0?u:(m=>sPe[m-1]||oPe),this.vsn){case $le:this.encode=(c=e?.encode)!==null&&c!==void 0?c:((m,v)=>v(JSON.stringify(m))),this.decode=(d=e?.decode)!==null&&d!==void 0?d:((m,v)=>v(JSON.parse(m)));break;case qke:this.encode=(f=e?.encode)!==null&&f!==void 0?f:this.serializer.encode.bind(this.serializer),this.decode=(p=e?.decode)!==null&&p!==void 0?p:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e?.workerUrl}}}var c3=class extends Error{constructor(t,e){super(t),this.name="IcebergError",this.status=e.status,this.icebergType=e.icebergType,this.icebergCode=e.icebergCode,this.details=e.details,this.isCommitStateUnknown=e.icebergType==="CommitStateUnknownException"||[500,502,504].includes(e.status)&&e.icebergType?.includes("CommitState")===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function uPe(t,e,n){const r=new URL(e,t);if(n)for(const[i,s]of Object.entries(n))s!==void 0&&r.searchParams.set(i,s);return r.toString()}async function cPe(t){return!t||t.type==="none"?{}:t.type==="bearer"?{Authorization:`Bearer ${t.token}`}:t.type==="header"?{[t.name]:t.value}:t.type==="custom"?await t.getHeaders():{}}function dPe(t){const e=t.fetchImpl??globalThis.fetch;return{async request({method:n,path:r,query:i,body:s,headers:o}){const a=uPe(t.baseUrl,r,i),l=await cPe(t.auth),u=await e(a,{method:n,headers:{...s?{"Content-Type":"application/json"}:{},...l,...o},body:s?JSON.stringify(s):void 0}),c=await u.text(),d=(u.headers.get("content-type")||"").includes("application/json"),f=d&&c?JSON.parse(c):c;if(!u.ok){const p=d?f:void 0,m=p?.error;throw new c3(m?.message??`Request failed with status ${u.status}`,{status:u.status,icebergType:m?.type,icebergCode:m?.code,details:p})}return{status:u.status,headers:u.headers,data:f}}}}function fI(t){return t.join("")}var hPe=class{constructor(t,e=""){this.client=t,this.prefix=e}async listNamespaces(t){const e=t?{parent:fI(t.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:e})).data.namespaces.map(r=>({namespace:r}))}async createNamespace(t,e){const n={namespace:t.namespace,properties:e?.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:n})).data}async dropNamespace(t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${fI(t.namespace)}`})}async loadNamespaceMetadata(t){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${fI(t.namespace)}`})).data.properties}}async namespaceExists(t){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${fI(t.namespace)}`}),!0}catch(e){if(e instanceof c3&&e.status===404)return!1;throw e}}async createNamespaceIfNotExists(t,e){try{return await this.createNamespace(t,e)}catch(n){if(n instanceof c3&&n.status===409)return;throw n}}};function v1(t){return t.join("")}var fPe=class{constructor(t,e="",n){this.client=t,this.prefix=e,this.accessDelegation=n}async listTables(t){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${v1(t.namespace)}/tables`})).data.identifiers}async createTable(t,e){const n={};return this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${v1(t.namespace)}/tables`,body:e,headers:n})).data.metadata}async updateTable(t,e){const n=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${v1(t.namespace)}/tables/${t.name}`,body:e});return{"metadata-location":n.data["metadata-location"],metadata:n.data.metadata}}async dropTable(t,e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${v1(t.namespace)}/tables/${t.name}`,query:{purgeRequested:String(e?.purge??!1)}})}async loadTable(t){const e={};return this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${v1(t.namespace)}/tables/${t.name}`,headers:e})).data.metadata}async tableExists(t){const e={};this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${v1(t.namespace)}/tables/${t.name}`,headers:e}),!0}catch(n){if(n instanceof c3&&n.status===404)return!1;throw n}}async createTableIfNotExists(t,e){try{return await this.createTable(t,e)}catch(n){if(n instanceof c3&&n.status===409)return await this.loadTable({namespace:t.namespace,name:e.name});throw n}}},pPe=class{constructor(t){let e="v1";t.catalogName&&(e+=`/${t.catalogName}`);const n=t.baseUrl.endsWith("/")?t.baseUrl:`${t.baseUrl}/`;this.client=dPe({baseUrl:n,auth:t.auth,fetchImpl:t.fetch}),this.accessDelegation=t.accessDelegation?.join(","),this.namespaceOps=new hPe(this.client,e),this.tableOps=new fPe(this.client,e,this.accessDelegation)}async listNamespaces(t){return this.namespaceOps.listNamespaces(t)}async createNamespace(t,e){return this.namespaceOps.createNamespace(t,e)}async dropNamespace(t){await this.namespaceOps.dropNamespace(t)}async loadNamespaceMetadata(t){return this.namespaceOps.loadNamespaceMetadata(t)}async listTables(t){return this.tableOps.listTables(t)}async createTable(t,e){return this.tableOps.createTable(t,e)}async updateTable(t,e){return this.tableOps.updateTable(t,e)}async dropTable(t,e){await this.tableOps.dropTable(t,e)}async loadTable(t){return this.tableOps.loadTable(t)}async namespaceExists(t){return this.namespaceOps.namespaceExists(t)}async tableExists(t){return this.tableOps.tableExists(t)}async createNamespaceIfNotExists(t,e){return this.namespaceOps.createNamespaceIfNotExists(t,e)}async createTableIfNotExists(t,e){return this.tableOps.createTableIfNotExists(t,e)}},OT=class extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}};function Po(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}var gPe=class extends OT{constructor(t,e,n){super(t),this.name="StorageApiError",this.status=e,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},C8=class extends OT{constructor(t,e){super(t),this.name="StorageUnknownError",this.originalError=e}};const Q$=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),mPe=()=>Response,E8=t=>{if(Array.isArray(t))return t.map(n=>E8(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,r])=>{const i=n.replace(/([-_][a-z])/gi,s=>s.toUpperCase().replace(/[-_]/g,""));e[i]=E8(r)}),e},APe=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},yPe=t=>!t||typeof t!="string"||t.length===0||t.length>100||t.trim()!==t||t.includes("/")||t.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(t);function d3(t){"@babel/helpers - typeof";return d3=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},d3(t)}function vPe(t,e){if(d3(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(d3(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function bPe(t){var e=vPe(t,"string");return d3(e)=="symbol"?e:e+""}function xPe(t,e,n){return(e=bPe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Y9(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ur(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Y9(Object(n),!0).forEach(function(r){xPe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Y9(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}const Pk=t=>{var e;return t.msg||t.message||t.error_description||(typeof t.error=="string"?t.error:(e=t.error)===null||e===void 0?void 0:e.message)||JSON.stringify(t)},CPe=async(t,e,n)=>{t instanceof await mPe()&&!n?.noResolveJson?t.json().then(r=>{const i=t.status||500,s=r?.statusCode||i+"";e(new gPe(Pk(r),i,s))}).catch(r=>{e(new C8(Pk(r),r))}):e(new C8(Pk(t),t))},EPe=(t,e,n,r)=>{const i={method:t,headers:e?.headers||{}};return t==="GET"||!r?i:(APe(r)?(i.headers=ur({"Content-Type":"application/json"},e?.headers),i.body=JSON.stringify(r)):i.body=r,e?.duplex&&(i.duplex=e.duplex),ur(ur({},i),n))};async function p4(t,e,n,r,i,s){return new Promise((o,a)=>{t(n,EPe(e,r,i,s)).then(l=>{if(!l.ok)throw l;return r?.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>CPe(l,a,r))})}async function h3(t,e,n,r){return p4(t,"GET",e,n,r)}async function vp(t,e,n,r,i){return p4(t,"POST",e,r,i,n)}async function S8(t,e,n,r,i){return p4(t,"PUT",e,r,i,n)}async function SPe(t,e,n,r){return p4(t,"HEAD",e,ur(ur({},n),{},{noResolveJson:!0}),r)}async function U$(t,e,n,r,i){return p4(t,"DELETE",e,r,i,n)}var wPe=class{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e}then(t,e){return this.execute().then(t,e)}async execute(){var t=this;try{return{data:(await t.downloadFn()).body,error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(Po(e))return{data:null,error:e};throw e}}};let Qle;Qle=Symbol.toStringTag;var _Pe=class{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e,this[Qle]="BlobDownloadBuilder",this.promise=null}asStream(){return new wPe(this.downloadFn,this.shouldThrowOnError)}then(t,e){return this.getPromise().then(t,e)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var t=this;try{return{data:await(await t.downloadFn()).blob(),error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(Po(e))return{data:null,error:e};throw e}}};const IPe={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},X9={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var BPe=class{constructor(t,e={},n,r){this.shouldThrowOnError=!1,this.url=t,this.headers=e,this.bucketId=n,this.fetch=Q$(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async uploadOrUpdate(t,e,n,r){var i=this;try{let s;const o=ur(ur({},X9),r);let a=ur(ur({},i.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const l=o.metadata;typeof Blob<"u"&&n instanceof Blob?(s=new FormData,s.append("cacheControl",o.cacheControl),l&&s.append("metadata",i.encodeMetadata(l)),s.append("",n)):typeof FormData<"u"&&n instanceof FormData?(s=n,s.has("cacheControl")||s.append("cacheControl",o.cacheControl),l&&!s.has("metadata")&&s.append("metadata",i.encodeMetadata(l))):(s=n,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,l&&(a["x-metadata"]=i.toBase64(i.encodeMetadata(l))),(typeof ReadableStream<"u"&&s instanceof ReadableStream||s&&typeof s=="object"&&"pipe"in s&&typeof s.pipe=="function")&&!o.duplex&&(o.duplex="half")),r?.headers&&(a=ur(ur({},a),r.headers));const u=i._removeEmptyFolders(e),c=i._getFinalPath(u),d=await(t=="PUT"?S8:vp)(i.fetch,`${i.url}/object/${c}`,s,ur({headers:a},o?.duplex?{duplex:o.duplex}:{}));return{data:{path:u,id:d.Id,fullPath:d.Key},error:null}}catch(s){if(i.shouldThrowOnError)throw s;if(Po(s))return{data:null,error:s};throw s}}async upload(t,e,n){return this.uploadOrUpdate("POST",t,e,n)}async uploadToSignedUrl(t,e,n,r){var i=this;const s=i._removeEmptyFolders(t),o=i._getFinalPath(s),a=new URL(i.url+`/object/upload/sign/${o}`);a.searchParams.set("token",e);try{let l;const u=ur({upsert:X9.upsert},r),c=ur(ur({},i.headers),{"x-upsert":String(u.upsert)});return typeof Blob<"u"&&n instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),l.append("",n)):typeof FormData<"u"&&n instanceof FormData?(l=n,l.append("cacheControl",u.cacheControl)):(l=n,c["cache-control"]=`max-age=${u.cacheControl}`,c["content-type"]=u.contentType),{data:{path:s,fullPath:(await S8(i.fetch,a.toString(),l,{headers:c})).Key},error:null}}catch(l){if(i.shouldThrowOnError)throw l;if(Po(l))return{data:null,error:l};throw l}}async createSignedUploadUrl(t,e){var n=this;try{let r=n._getFinalPath(t);const i=ur({},n.headers);e?.upsert&&(i["x-upsert"]="true");const s=await vp(n.fetch,`${n.url}/object/upload/sign/${r}`,{},{headers:i}),o=new URL(n.url+s.url),a=o.searchParams.get("token");if(!a)throw new OT("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:a},error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(Po(r))return{data:null,error:r};throw r}}async update(t,e,n){return this.uploadOrUpdate("PUT",t,e,n)}async move(t,e,n){var r=this;try{return{data:await vp(r.fetch,`${r.url}/object/move`,{bucketId:r.bucketId,sourceKey:t,destinationKey:e,destinationBucket:n?.destinationBucket},{headers:r.headers}),error:null}}catch(i){if(r.shouldThrowOnError)throw i;if(Po(i))return{data:null,error:i};throw i}}async copy(t,e,n){var r=this;try{return{data:{path:(await vp(r.fetch,`${r.url}/object/copy`,{bucketId:r.bucketId,sourceKey:t,destinationKey:e,destinationBucket:n?.destinationBucket},{headers:r.headers})).Key},error:null}}catch(i){if(r.shouldThrowOnError)throw i;if(Po(i))return{data:null,error:i};throw i}}async createSignedUrl(t,e,n){var r=this;try{let i=r._getFinalPath(t),s=await vp(r.fetch,`${r.url}/object/sign/${i}`,ur({expiresIn:e},n?.transform?{transform:n.transform}:{}),{headers:r.headers});const o=n?.download?`&download=${n.download===!0?"":n.download}`:"";return s={signedUrl:encodeURI(`${r.url}${s.signedURL}${o}`)},{data:s,error:null}}catch(i){if(r.shouldThrowOnError)throw i;if(Po(i))return{data:null,error:i};throw i}}async createSignedUrls(t,e,n){var r=this;try{const i=await vp(r.fetch,`${r.url}/object/sign/${r.bucketId}`,{expiresIn:e,paths:t},{headers:r.headers}),s=n?.download?`&download=${n.download===!0?"":n.download}`:"";return{data:i.map(o=>ur(ur({},o),{},{signedUrl:o.signedURL?encodeURI(`${r.url}${o.signedURL}${s}`):null})),error:null}}catch(i){if(r.shouldThrowOnError)throw i;if(Po(i))return{data:null,error:i};throw i}}download(t,e){const n=typeof e?.transform<"u"?"render/image/authenticated":"object",r=this.transformOptsToQueryString(e?.transform||{}),i=r?`?${r}`:"",s=this._getFinalPath(t),o=()=>h3(this.fetch,`${this.url}/${n}/${s}${i}`,{headers:this.headers,noResolveJson:!0});return new _Pe(o,this.shouldThrowOnError)}async info(t){var e=this;const n=e._getFinalPath(t);try{return{data:E8(await h3(e.fetch,`${e.url}/object/info/${n}`,{headers:e.headers})),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Po(r))return{data:null,error:r};throw r}}async exists(t){var e=this;const n=e._getFinalPath(t);try{return await SPe(e.fetch,`${e.url}/object/${n}`,{headers:e.headers}),{data:!0,error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Po(r)&&r instanceof C8){const i=r.originalError;if([400,404].includes(i?.status))return{data:!1,error:r}}throw r}}getPublicUrl(t,e){const n=this._getFinalPath(t),r=[],i=e?.download?`download=${e.download===!0?"":e.download}`:"";i!==""&&r.push(i);const s=typeof e?.transform<"u"?"render/image":"object",o=this.transformOptsToQueryString(e?.transform||{});o!==""&&r.push(o);let a=r.join("&");return a!==""&&(a=`?${a}`),{data:{publicUrl:encodeURI(`${this.url}/${s}/public/${n}${a}`)}}}async remove(t){var e=this;try{return{data:await U$(e.fetch,`${e.url}/object/${e.bucketId}`,{prefixes:t},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Po(n))return{data:null,error:n};throw n}}async list(t,e,n){var r=this;try{const i=ur(ur(ur({},IPe),e),{},{prefix:t||""});return{data:await vp(r.fetch,`${r.url}/object/list/${r.bucketId}`,i,{headers:r.headers},n),error:null}}catch(i){if(r.shouldThrowOnError)throw i;if(Po(i))return{data:null,error:i};throw i}}async listV2(t,e){var n=this;try{const r=ur({},t);return{data:await vp(n.fetch,`${n.url}/object/list-v2/${n.bucketId}`,r,{headers:n.headers},e),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(Po(r))return{data:null,error:r};throw r}}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const e=[];return t.width&&e.push(`width=${t.width}`),t.height&&e.push(`height=${t.height}`),t.resize&&e.push(`resize=${t.resize}`),t.format&&e.push(`format=${t.format}`),t.quality&&e.push(`quality=${t.quality}`),e.join("&")}};const Ule="2.89.0",Hle={"X-Client-Info":`storage-js/${Ule}`};var DPe=class{constructor(t,e={},n,r){this.shouldThrowOnError=!1;const i=new URL(t);r?.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href.replace(/\/$/,""),this.headers=ur(ur({},Hle),e),this.fetch=Q$(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async listBuckets(t){var e=this;try{const n=e.listBucketOptionsToQueryString(t);return{data:await h3(e.fetch,`${e.url}/bucket${n}`,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Po(n))return{data:null,error:n};throw n}}async getBucket(t){var e=this;try{return{data:await h3(e.fetch,`${e.url}/bucket/${t}`,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Po(n))return{data:null,error:n};throw n}}async createBucket(t,e={public:!1}){var n=this;try{return{data:await vp(n.fetch,`${n.url}/bucket`,{id:t,name:t,type:e.type,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:n.headers}),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(Po(r))return{data:null,error:r};throw r}}async updateBucket(t,e){var n=this;try{return{data:await S8(n.fetch,`${n.url}/bucket/${t}`,{id:t,name:t,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:n.headers}),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(Po(r))return{data:null,error:r};throw r}}async emptyBucket(t){var e=this;try{return{data:await vp(e.fetch,`${e.url}/bucket/${t}/empty`,{},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Po(n))return{data:null,error:n};throw n}}async deleteBucket(t){var e=this;try{return{data:await U$(e.fetch,`${e.url}/bucket/${t}`,{},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Po(n))return{data:null,error:n};throw n}}listBucketOptionsToQueryString(t){const e={};return t&&("limit"in t&&(e.limit=String(t.limit)),"offset"in t&&(e.offset=String(t.offset)),t.search&&(e.search=t.search),t.sortColumn&&(e.sortColumn=t.sortColumn),t.sortOrder&&(e.sortOrder=t.sortOrder)),Object.keys(e).length>0?"?"+new URLSearchParams(e).toString():""}},TPe=class{constructor(t,e={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=ur(ur({},Hle),e),this.fetch=Q$(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(t){var e=this;try{return{data:await vp(e.fetch,`${e.url}/bucket`,{name:t},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Po(n))return{data:null,error:n};throw n}}async listBuckets(t){var e=this;try{const n=new URLSearchParams;t?.limit!==void 0&&n.set("limit",t.limit.toString()),t?.offset!==void 0&&n.set("offset",t.offset.toString()),t?.sortColumn&&n.set("sortColumn",t.sortColumn),t?.sortOrder&&n.set("sortOrder",t.sortOrder),t?.search&&n.set("search",t.search);const r=n.toString(),i=r?`${e.url}/bucket?${r}`:`${e.url}/bucket`;return{data:await h3(e.fetch,i,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Po(n))return{data:null,error:n};throw n}}async deleteBucket(t){var e=this;try{return{data:await U$(e.fetch,`${e.url}/bucket/${t}`,{},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Po(n))return{data:null,error:n};throw n}}from(t){var e=this;if(!yPe(t))throw new OT("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const n=new pPe({baseUrl:this.url,catalogName:t,auth:{type:"custom",getHeaders:async()=>e.headers},fetch:this.fetch}),r=this.shouldThrowOnError;return new Proxy(n,{get(i,s){const o=i[s];return typeof o!="function"?o:async(...a)=>{try{return{data:await o.apply(i,a),error:null}}catch(l){if(r)throw l;return{data:null,error:l}}}}})}};const H$={"X-Client-Info":`storage-js/${Ule}`,"Content-Type":"application/json"};var Vle=class extends Error{constructor(t){super(t),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};function Jd(t){return typeof t=="object"&&t!==null&&"__isStorageVectorsError"in t}var Rk=class extends Vle{constructor(t,e,n){super(t),this.name="StorageVectorsApiError",this.status=e,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},MPe=class extends Vle{constructor(t,e){super(t),this.name="StorageVectorsUnknownError",this.originalError=e}};const V$=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),kPe=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},J9=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),PPe=async(t,e,n)=>{if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!n?.noResolveJson){const r=t.status||500,i=t;if(typeof i.json=="function")i.json().then(s=>{const o=s?.statusCode||s?.code||r+"";e(new Rk(J9(s),r,o))}).catch(()=>{const s=r+"";e(new Rk(i.statusText||`HTTP ${r} error`,r,s))});else{const s=r+"";e(new Rk(i.statusText||`HTTP ${r} error`,r,s))}}else e(new MPe(J9(t),t))},RPe=(t,e,n,r)=>{const i={method:t,headers:e?.headers||{}};return r?(kPe(r)?(i.headers=ur({"Content-Type":"application/json"},e?.headers),i.body=JSON.stringify(r)):i.body=r,ur(ur({},i),n)):i};async function NPe(t,e,n,r,i,s){return new Promise((o,a)=>{t(n,RPe(e,r,i,s)).then(l=>{if(!l.ok)throw l;if(r?.noResolveJson)return l;const u=l.headers.get("content-type");return!u||!u.includes("application/json")?{}:l.json()}).then(l=>o(l)).catch(l=>PPe(l,a,r))})}async function Zd(t,e,n,r,i){return NPe(t,"POST",e,r,i,n)}var LPe=class{constructor(t,e={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=ur(ur({},H$),e),this.fetch=V$(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createIndex(t){var e=this;try{return{data:await Zd(e.fetch,`${e.url}/CreateIndex`,t,{headers:e.headers})||{},error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Jd(n))return{data:null,error:n};throw n}}async getIndex(t,e){var n=this;try{return{data:await Zd(n.fetch,`${n.url}/GetIndex`,{vectorBucketName:t,indexName:e},{headers:n.headers}),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(Jd(r))return{data:null,error:r};throw r}}async listIndexes(t){var e=this;try{return{data:await Zd(e.fetch,`${e.url}/ListIndexes`,t,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Jd(n))return{data:null,error:n};throw n}}async deleteIndex(t,e){var n=this;try{return{data:await Zd(n.fetch,`${n.url}/DeleteIndex`,{vectorBucketName:t,indexName:e},{headers:n.headers})||{},error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(Jd(r))return{data:null,error:r};throw r}}},FPe=class{constructor(t,e={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=ur(ur({},H$),e),this.fetch=V$(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async putVectors(t){var e=this;try{if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:await Zd(e.fetch,`${e.url}/PutVectors`,t,{headers:e.headers})||{},error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Jd(n))return{data:null,error:n};throw n}}async getVectors(t){var e=this;try{return{data:await Zd(e.fetch,`${e.url}/GetVectors`,t,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Jd(n))return{data:null,error:n};throw n}}async listVectors(t){var e=this;try{if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return{data:await Zd(e.fetch,`${e.url}/ListVectors`,t,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Jd(n))return{data:null,error:n};throw n}}async queryVectors(t){var e=this;try{return{data:await Zd(e.fetch,`${e.url}/QueryVectors`,t,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Jd(n))return{data:null,error:n};throw n}}async deleteVectors(t){var e=this;try{if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:await Zd(e.fetch,`${e.url}/DeleteVectors`,t,{headers:e.headers})||{},error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Jd(n))return{data:null,error:n};throw n}}},$Pe=class{constructor(t,e={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=ur(ur({},H$),e),this.fetch=V$(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(t){var e=this;try{return{data:await Zd(e.fetch,`${e.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:e.headers})||{},error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Jd(n))return{data:null,error:n};throw n}}async getBucket(t){var e=this;try{return{data:await Zd(e.fetch,`${e.url}/GetVectorBucket`,{vectorBucketName:t},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Jd(n))return{data:null,error:n};throw n}}async listBuckets(t={}){var e=this;try{return{data:await Zd(e.fetch,`${e.url}/ListVectorBuckets`,t,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Jd(n))return{data:null,error:n};throw n}}async deleteBucket(t){var e=this;try{return{data:await Zd(e.fetch,`${e.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:e.headers})||{},error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Jd(n))return{data:null,error:n};throw n}}},zPe=class extends $Pe{constructor(t,e={}){super(t,e.headers||{},e.fetch)}from(t){return new OPe(this.url,this.headers,t,this.fetch)}async createBucket(t){var e=()=>super.createBucket,n=this;return e().call(n,t)}async getBucket(t){var e=()=>super.getBucket,n=this;return e().call(n,t)}async listBuckets(t={}){var e=()=>super.listBuckets,n=this;return e().call(n,t)}async deleteBucket(t){var e=()=>super.deleteBucket,n=this;return e().call(n,t)}},OPe=class extends LPe{constructor(t,e,n,r){super(t,e,r),this.vectorBucketName=n}async createIndex(t){var e=()=>super.createIndex,n=this;return e().call(n,ur(ur({},t),{},{vectorBucketName:n.vectorBucketName}))}async listIndexes(t={}){var e=()=>super.listIndexes,n=this;return e().call(n,ur(ur({},t),{},{vectorBucketName:n.vectorBucketName}))}async getIndex(t){var e=()=>super.getIndex,n=this;return e().call(n,n.vectorBucketName,t)}async deleteIndex(t){var e=()=>super.deleteIndex,n=this;return e().call(n,n.vectorBucketName,t)}index(t){return new jPe(this.url,this.headers,this.vectorBucketName,t,this.fetch)}},jPe=class extends FPe{constructor(t,e,n,r,i){super(t,e,i),this.vectorBucketName=n,this.indexName=r}async putVectors(t){var e=()=>super.putVectors,n=this;return e().call(n,ur(ur({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async getVectors(t){var e=()=>super.getVectors,n=this;return e().call(n,ur(ur({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async listVectors(t={}){var e=()=>super.listVectors,n=this;return e().call(n,ur(ur({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async queryVectors(t){var e=()=>super.queryVectors,n=this;return e().call(n,ur(ur({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async deleteVectors(t){var e=()=>super.deleteVectors,n=this;return e().call(n,ur(ur({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}},QPe=class extends DPe{constructor(t,e={},n,r){super(t,e,n,r)}from(t){return new BPe(this.url,this.headers,t,this.fetch)}get vectors(){return new zPe(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new TPe(this.url+"/iceberg",this.headers,this.fetch)}};const Gle="2.89.0",Q1=30*1e3,w8=3,Nk=w8*Q1,UPe="http://localhost:9999",HPe="supabase.auth.token",VPe={"X-Client-Info":`gotrue-js/${Gle}`},_8="X-Supabase-Api-Version",Kle={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},GPe=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,KPe=600*1e3;class f3 extends Error{constructor(e,n,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function jn(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class WPe extends f3{constructor(e,n,r){super(e,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function qPe(t){return jn(t)&&t.name==="AuthApiError"}class ix extends f3{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class J0 extends f3{constructor(e,n,r,i){super(e,r,i),this.name=n,this.status=r}}class Wd extends J0{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function YPe(t){return jn(t)&&t.name==="AuthSessionMissingError"}class b1 extends J0{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class pI extends J0{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class gI extends J0{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function XPe(t){return jn(t)&&t.name==="AuthImplicitGrantRedirectError"}class Z9 extends J0{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class JPe extends J0{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class I8 extends J0{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function Lk(t){return jn(t)&&t.name==="AuthRetryableFetchError"}class eQ extends J0{constructor(e,n,r){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class B8 extends J0{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const gD="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),tQ=` 	
\r=`.split(""),ZPe=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<tQ.length;e+=1)t[tQ[e].charCodeAt(0)]=-2;for(let e=0;e<gD.length;e+=1)t[gD[e].charCodeAt(0)]=e;return t})();function nQ(t,e,n){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(gD[r]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(gD[r]),e.queuedBits-=6}}function Wle(t,e,n){const r=ZPe[t];if(r>-1)for(e.queue=e.queue<<6|r,e.queuedBits+=6;e.queuedBits>=8;)n(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function rQ(t){const e=[],n=o=>{e.push(String.fromCodePoint(o))},r={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},s=o=>{nRe(o,r,n)};for(let o=0;o<t.length;o+=1)Wle(t.charCodeAt(o),i,s);return e.join("")}function eRe(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function tRe(t,e){for(let n=0;n<t.length;n+=1){let r=t.charCodeAt(n);if(r>55295&&r<=56319){const i=(r-55296)*1024&65535;r=(t.charCodeAt(n+1)-56320&65535|i)+65536,n+=1}eRe(r,e)}}function nRe(t,e,n){if(e.utf8seq===0){if(t<=127){n(t);return}for(let r=1;r<6;r+=1)if((t>>7-r&1)===0){e.utf8seq=r;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&n(e.codepoint)}}function fE(t){const e=[],n={queue:0,queuedBits:0},r=i=>{e.push(i)};for(let i=0;i<t.length;i+=1)Wle(t.charCodeAt(i),n,r);return new Uint8Array(e)}function rRe(t){const e=[];return tRe(t,n=>e.push(n)),new Uint8Array(e)}function gx(t){const e=[],n={queue:0,queuedBits:0},r=i=>{e.push(i)};return t.forEach(i=>nQ(i,n,r)),nQ(null,n,r),e.join("")}function iRe(t){return Math.round(Date.now()/1e3)+t}function sRe(){return Symbol("auth-callback")}const tu=()=>typeof window<"u"&&typeof document<"u",Pb={tested:!1,writable:!1},qle=()=>{if(!tu())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Pb.tested)return Pb.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),Pb.tested=!0,Pb.writable=!0}catch{Pb.tested=!0,Pb.writable=!1}return Pb.writable};function oRe(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((i,s)=>{e[s]=i})}catch{}return n.searchParams.forEach((r,i)=>{e[i]=r}),e}const Yle=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),aRe=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",U1=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},Rb=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Zl=async(t,e)=>{await t.removeItem(e)};class jT{constructor(){this.promise=new jT.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}jT.promiseConstructor=Promise;function Fk(t){const e=t.split(".");if(e.length!==3)throw new B8("Invalid JWT structure");for(let r=0;r<e.length;r++)if(!GPe.test(e[r]))throw new B8("JWT not in base64url format");return{header:JSON.parse(rQ(e[0])),payload:JSON.parse(rQ(e[1])),signature:fE(e[2]),raw:{header:e[0],payload:e[1]}}}async function lRe(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function uRe(t,e){return new Promise((r,i)=>{(async()=>{for(let s=0;s<1/0;s++)try{const o=await t(s);if(!e(s,null,o)){r(o);return}}catch(o){if(!e(s,o)){i(o);return}}})()})}function cRe(t){return("0"+t.toString(16)).substr(-2)}function dRe(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let i="";for(let s=0;s<56;s++)i+=n.charAt(Math.floor(Math.random()*r));return i}return crypto.getRandomValues(e),Array.from(e,cRe).join("")}async function hRe(t){const n=new TextEncoder().encode(t),r=await crypto.subtle.digest("SHA-256",n),i=new Uint8Array(r);return Array.from(i).map(s=>String.fromCharCode(s)).join("")}async function fRe(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await hRe(t);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function x1(t,e,n=!1){const r=dRe();let i=r;n&&(i+="/PASSWORD_RECOVERY"),await U1(t,`${e}-code-verifier`,i);const s=await fRe(r);return[s,r===s?"plain":"s256"]}const pRe=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function gRe(t){const e=t.headers.get(_8);if(!e||!e.match(pRe))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function mRe(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function ARe(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const yRe=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function C1(t){if(!yRe.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function $k(){const t={};return new Proxy(t,{get:(e,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function vRe(t,e){return new Proxy(t,{get:(n,r,i)=>{if(r==="__isInsecureUserWarningProxy")return!0;if(typeof r=="symbol"){const s=r.toString();if(s==="Symbol(Symbol.toPrimitive)"||s==="Symbol(Symbol.toStringTag)"||s==="Symbol(util.inspect.custom)"||s==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(n,r,i)}return!e.value&&typeof r=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(n,r,i)}})}function iQ(t){return JSON.parse(JSON.stringify(t))}const Vb=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),bRe=[502,503,504];async function sQ(t){var e;if(!aRe(t))throw new I8(Vb(t),0);if(bRe.includes(t.status))throw new I8(Vb(t),t.status);let n;try{n=await t.json()}catch(s){throw new ix(Vb(s),s)}let r;const i=gRe(t);if(i&&i.getTime()>=Kle["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new eQ(Vb(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new Wd}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((s,o)=>s&&typeof o=="string",!0))throw new eQ(Vb(n),t.status,n.weak_password.reasons);throw new WPe(Vb(n),t.status||500,r)}const xRe=(t,e,n,r)=>{const i={method:t,headers:e?.headers||{}};return t==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e?.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),n))};async function lr(t,e,n,r){var i;const s=Object.assign({},r?.headers);s[_8]||(s[_8]=Kle["2024-01-01"].name),r?.jwt&&(s.Authorization=`Bearer ${r.jwt}`);const o=(i=r?.query)!==null&&i!==void 0?i:{};r?.redirectTo&&(o.redirect_to=r.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await CRe(t,e,n+a,{headers:s,noResolveJson:r?.noResolveJson},{},r?.body);return r?.xform?r?.xform(l):{data:Object.assign({},l),error:null}}async function CRe(t,e,n,r,i,s){const o=xRe(e,r,i,s);let a;try{a=await t(n,Object.assign({},o))}catch(l){throw console.error(l),new I8(Vb(l),0)}if(a.ok||await sQ(a),r?.noResolveJson)return a;try{return await a.json()}catch(l){await sQ(l)}}function yp(t){var e;let n=null;wRe(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=iRe(t.expires_in)));const r=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:r},error:null}}function oQ(t){const e=yp(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Ty(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function ERe(t){return{data:t,error:null}}function SRe(t){const{action_link:e,email_otp:n,hashed_token:r,redirect_to:i,verification_type:s}=t,o=xT(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:e,email_otp:n,hashed_token:r,redirect_to:i,verification_type:s},l=Object.assign({},o);return{data:{properties:a,user:l},error:null}}function aQ(t){return t}function wRe(t){return t.access_token&&t.refresh_token&&t.expires_in}const zk=["global","local","others"];class _Re{constructor({url:e="",headers:n={},fetch:r}){this.url=e,this.headers=n,this.fetch=Yle(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,n=zk[0]){if(zk.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${zk.join(", ")}`);try{return await lr(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(jn(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,n={}){try{return await lr(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Ty})}catch(r){if(jn(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:n}=e,r=xT(e,["options"]),i=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(i.new_email=r?.newEmail,delete i.newEmail),await lr(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:SRe,redirectTo:n?.redirectTo})}catch(n){if(jn(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await lr(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Ty})}catch(n){if(jn(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,r,i,s,o,a,l;try{const u={nextPage:null,lastPage:0,total:0},c=await lr(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e?.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(s=(i=e?.perPage)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:""},xform:aQ});if(c.error)throw c.error;const d=await c.json(),f=(o=c.headers.get("x-total-count"))!==null&&o!==void 0?o:0,p=(l=(a=c.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return p.length>0&&(p.forEach(m=>{const v=parseInt(m.split(";")[0].split("=")[1].substring(0,1)),y=JSON.parse(m.split(";")[1].split("=")[1]);u[`${y}Page`]=v}),u.total=parseInt(f)),{data:Object.assign(Object.assign({},d),u),error:null}}catch(u){if(jn(u))return{data:{users:[]},error:u};throw u}}async getUserById(e){C1(e);try{return await lr(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Ty})}catch(n){if(jn(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){C1(e);try{return await lr(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:Ty})}catch(r){if(jn(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,n=!1){C1(e);try{return await lr(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:Ty})}catch(r){if(jn(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){C1(e.userId);try{const{data:n,error:r}=await lr(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:n,error:r}}catch(n){if(jn(n))return{data:null,error:n};throw n}}async _deleteFactor(e){C1(e.userId),C1(e.id);try{return{data:await lr(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(jn(n))return{data:null,error:n};throw n}}async _listOAuthClients(e){var n,r,i,s,o,a,l;try{const u={nextPage:null,lastPage:0,total:0},c=await lr(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e?.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(s=(i=e?.perPage)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:""},xform:aQ});if(c.error)throw c.error;const d=await c.json(),f=(o=c.headers.get("x-total-count"))!==null&&o!==void 0?o:0,p=(l=(a=c.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return p.length>0&&(p.forEach(m=>{const v=parseInt(m.split(";")[0].split("=")[1].substring(0,1)),y=JSON.parse(m.split(";")[1].split("=")[1]);u[`${y}Page`]=v}),u.total=parseInt(f)),{data:Object.assign(Object.assign({},d),u),error:null}}catch(u){if(jn(u))return{data:{clients:[]},error:u};throw u}}async _createOAuthClient(e){try{return await lr(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(jn(n))return{data:null,error:n};throw n}}async _getOAuthClient(e){try{return await lr(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(jn(n))return{data:null,error:n};throw n}}async _updateOAuthClient(e,n){try{return await lr(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:n,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(jn(r))return{data:null,error:r};throw r}}async _deleteOAuthClient(e){try{return await lr(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(n){if(jn(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(e){try{return await lr(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(jn(n))return{data:null,error:n};throw n}}}function lQ(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}const E1={debug:!!(globalThis&&qle()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Xle extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class IRe extends Xle{}async function BRe(t,e,n){E1.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),E1.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async i=>{if(i){E1.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,i.name);try{return await n()}finally{E1.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,i.name)}}else{if(e===0)throw E1.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new IRe(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(E1.debug)try{const s=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(s,null,"  "))}catch(s){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",s)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function DRe(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function Jle(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function TRe(t){return parseInt(t,16)}function MRe(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,r=>r.toString(16).padStart(2,"0")).join("")}function kRe(t){var e;const{chainId:n,domain:r,expirationTime:i,issuedAt:s=new Date,nonce:o,notBefore:a,requestId:l,resources:u,scheme:c,uri:d,version:f}=t;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!d)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(f!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${f}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const p=Jle(t.address),m=c?`${c}://${r}`:r,v=t.statement?`${t.statement}
`:"",y=`${m} wants you to sign in with your Ethereum account:
${p}

${v}`;let A=`URI: ${d}
Version: ${f}
Chain ID: ${n}${o?`
Nonce: ${o}`:""}
Issued At: ${s.toISOString()}`;if(i&&(A+=`
Expiration Time: ${i.toISOString()}`),a&&(A+=`
Not Before: ${a.toISOString()}`),l&&(A+=`
Request ID: ${l}`),u){let C=`
Resources:`;for(const E of u){if(!E||typeof E!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${E}`);C+=`
- ${E}`}A+=C}return`${y}
${A}`}class Da extends Error{constructor({message:e,code:n,cause:r,name:i}){var s;super(e,{cause:r}),this.__isWebAuthnError=!0,this.name=(s=i??(r instanceof Error?r.name:void 0))!==null&&s!==void 0?s:"Unknown Error",this.code=n}}class mD extends Da{constructor(e,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:e}),this.name="WebAuthnUnknownError",this.originalError=n}}function PRe({error:t,options:e}){var n,r,i;const{publicKey:s}=e;if(!s)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new Da({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((n=s.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new Da({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((r=s.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new Da({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((i=s.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new Da({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new Da({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new Da({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return s.pubKeyCredParams.filter(a=>a.type==="public-key").length===0?new Da({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new Da({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const o=window.location.hostname;if(Zle(o)){if(s.rp.id!==o)return new Da({message:`The RP ID "${s.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new Da({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(s.user.id.byteLength<1||s.user.id.byteLength>64)return new Da({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new Da({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new Da({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function RRe({error:t,options:e}){const{publicKey:n}=e;if(!n)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new Da({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new Da({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const r=window.location.hostname;if(Zle(r)){if(n.rpId!==r)return new Da({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new Da({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new Da({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new Da({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}class NRe{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const LRe=new NRe;function FRe(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:n,excludeCredentials:r}=t,i=xT(t,["challenge","user","excludeCredentials"]),s=fE(e).buffer,o=Object.assign(Object.assign({},n),{id:fE(n.id).buffer}),a=Object.assign(Object.assign({},i),{challenge:s,user:o});if(r&&r.length>0){a.excludeCredentials=new Array(r.length);for(let l=0;l<r.length;l++){const u=r[l];a.excludeCredentials[l]=Object.assign(Object.assign({},u),{id:fE(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return a}function $Re(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:n}=t,r=xT(t,["challenge","allowCredentials"]),i=fE(e).buffer,s=Object.assign(Object.assign({},r),{challenge:i});if(n&&n.length>0){s.allowCredentials=new Array(n.length);for(let o=0;o<n.length;o++){const a=n[o];s.allowCredentials[o]=Object.assign(Object.assign({},a),{id:fE(a.id).buffer,type:a.type||"public-key",transports:a.transports})}}return s}function zRe(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const n=t;return{id:t.id,rawId:t.id,response:{attestationObject:gx(new Uint8Array(t.response.attestationObject)),clientDataJSON:gx(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function ORe(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const n=t,r=t.getClientExtensionResults(),i=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:gx(new Uint8Array(i.authenticatorData)),clientDataJSON:gx(new Uint8Array(i.clientDataJSON)),signature:gx(new Uint8Array(i.signature)),userHandle:i.userHandle?gx(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function Zle(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function uQ(){var t,e;return!!(tu()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator?.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator?.credentials)===null||e===void 0?void 0:e.get)=="function")}async function jRe(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new mD("Browser returned unexpected credential type",e)}:{data:null,error:new mD("Empty credential response",e)}}catch(e){return{data:null,error:PRe({error:e,options:t})}}}async function QRe(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new mD("Browser returned unexpected credential type",e)}:{data:null,error:new mD("Empty credential response",e)}}catch(e){return{data:null,error:RRe({error:e,options:t})}}}const URe={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},HRe={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function AD(...t){const e=i=>i!==null&&typeof i=="object"&&!Array.isArray(i),n=i=>i instanceof ArrayBuffer||ArrayBuffer.isView(i),r={};for(const i of t)if(i)for(const s in i){const o=i[s];if(o!==void 0)if(Array.isArray(o))r[s]=o;else if(n(o))r[s]=o;else if(e(o)){const a=r[s];e(a)?r[s]=AD(a,o):r[s]=AD(o)}else r[s]=o}return r}function VRe(t,e){return AD(URe,t,e||{})}function GRe(t,e){return AD(HRe,t,e||{})}class KRe{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:n,friendlyName:r,signal:i},s){try{const{data:o,error:a}=await this.client.mfa.challenge({factorId:e,webauthn:n});if(!o)return{data:null,error:a};const l=i??LRe.createNewAbortSignal();if(o.webauthn.type==="create"){const{user:u}=o.webauthn.credential_options.publicKey;u.name||(u.name=`${u.id}:${r}`),u.displayName||(u.displayName=u.name)}switch(o.webauthn.type){case"create":{const u=VRe(o.webauthn.credential_options.publicKey,s?.create),{data:c,error:d}=await jRe({publicKey:u,signal:l});return c?{data:{factorId:e,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:c}},error:null}:{data:null,error:d}}case"request":{const u=GRe(o.webauthn.credential_options.publicKey,s?.request),{data:c,error:d}=await QRe(Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:u,signal:l}));return c?{data:{factorId:e,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:c}},error:null}:{data:null,error:d}}}}catch(o){return jn(o)?{data:null,error:o}:{data:null,error:new ix("Unexpected error in challenge",o)}}}async _verify({challengeId:e,factorId:n,webauthn:r}){return this.client.mfa.verify({factorId:n,challengeId:e,webauthn:r})}async _authenticate({factorId:e,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},s){if(!n)return{data:null,error:new f3("rpId is required for WebAuthn authentication")};try{if(!uQ())return{data:null,error:new ix("Browser does not support WebAuthn",null)};const{data:o,error:a}=await this.challenge({factorId:e,webauthn:{rpId:n,rpOrigins:r},signal:i},{request:s});if(!o)return{data:null,error:a};const{webauthn:l}=o;return this._verify({factorId:e,challengeId:o.challengeId,webauthn:{type:l.type,rpId:n,rpOrigins:r,credential_response:l.credential_response}})}catch(o){return jn(o)?{data:null,error:o}:{data:null,error:new ix("Unexpected error in authenticate",o)}}}async _register({friendlyName:e,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},s){if(!n)return{data:null,error:new f3("rpId is required for WebAuthn registration")};try{if(!uQ())return{data:null,error:new ix("Browser does not support WebAuthn",null)};const{data:o,error:a}=await this._enroll({friendlyName:e});if(!o)return await this.client.mfa.listFactors().then(c=>{var d;return(d=c.data)===null||d===void 0?void 0:d.all.find(f=>f.factor_type==="webauthn"&&f.friendly_name===e&&f.status!=="unverified")}).then(c=>c?this.client.mfa.unenroll({factorId:c?.id}):void 0),{data:null,error:a};const{data:l,error:u}=await this._challenge({factorId:o.id,friendlyName:o.friendly_name,webauthn:{rpId:n,rpOrigins:r},signal:i},{create:s});return l?this._verify({factorId:o.id,challengeId:l.challengeId,webauthn:{rpId:n,rpOrigins:r,type:l.webauthn.type,credential_response:l.webauthn.credential_response}}):{data:null,error:u}}catch(o){return jn(o)?{data:null,error:o}:{data:null,error:new ix("Unexpected error in register",o)}}}}DRe();const WRe={url:UPe,storageKey:HPe,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:VPe,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function cQ(t,e,n){return await n()}const S1={};class p3{get jwks(){var e,n;return(n=(e=S1[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(e){S1[this.storageKey]=Object.assign(Object.assign({},S1[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,n;return(n=(e=S1[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){S1[this.storageKey]=Object.assign(Object.assign({},S1[this.storageKey]),{cachedAt:e})}constructor(e){var n,r,i;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const s=Object.assign(Object.assign({},WRe),e);if(this.storageKey=s.storageKey,this.instanceID=(n=p3.nextInstanceID[this.storageKey])!==null&&n!==void 0?n:0,p3.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.instanceID>0&&tu()){const o=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(o),this.logDebugMessages&&console.trace(o)}if(this.persistSession=s.persistSession,this.autoRefreshToken=s.autoRefreshToken,this.admin=new _Re({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=Yle(s.fetch),this.lock=s.lock||cQ,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,this.throwOnError=s.throwOnError,s.lock?this.lock=s.lock:this.persistSession&&tu()&&(!((r=globalThis?.navigator)===null||r===void 0)&&r.locks)?this.lock=BRe:this.lock=cQ,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new KRe(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(s.storage?this.storage=s.storage:qle()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=lQ(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=lQ(this.memoryStorage)),tu()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o),await this._notifyAllSubscribers(o.data.event,o.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${Gle}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let n={},r="none";if(tu()&&(n=oRe(window.location.href),this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce")),tu()&&this.detectSessionInUrl&&r!=="none"){const{data:i,error:s}=await this._getSessionFromURL(n,r);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),XPe(s)){const l=(e=s.details)===null||e===void 0?void 0:e.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:s}}return await this._removeSession(),{error:s}}const{session:o,redirectType:a}=i;return this._debug("#_initialize()","detected session in URL",o,"redirect type",a),await this._saveSession(o),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return jn(n)?this._returnResult({error:n}):this._returnResult({error:new ix("Unexpected error during initialization",n)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,r,i;try{const s=await lr(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=e?.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(i=e?.options)===null||i===void 0?void 0:i.captchaToken}},xform:yp}),{data:o,error:a}=s;if(a||!o)return this._returnResult({data:{user:null,session:null},error:a});const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(s){if(jn(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signUp(e){var n,r,i;try{let s;if("email"in e){const{email:c,password:d,options:f}=e;let p=null,m=null;this.flowType==="pkce"&&([p,m]=await x1(this.storage,this.storageKey)),s=await lr(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f?.emailRedirectTo,body:{email:c,password:d,data:(n=f?.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:f?.captchaToken},code_challenge:p,code_challenge_method:m},xform:yp})}else if("phone"in e){const{phone:c,password:d,options:f}=e;s=await lr(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:c,password:d,data:(r=f?.data)!==null&&r!==void 0?r:{},channel:(i=f?.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:f?.captchaToken}},xform:yp})}else throw new pI("You must provide either an email or phone number and a password");const{data:o,error:a}=s;if(a||!o)return await Zl(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:a});const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(s){if(await Zl(this.storage,`${this.storageKey}-code-verifier`),jn(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithPassword(e){try{let n;if("email"in e){const{email:s,password:o,options:a}=e;n=await lr(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:o,gotrue_meta_security:{captcha_token:a?.captchaToken}},xform:oQ})}else if("phone"in e){const{phone:s,password:o,options:a}=e;n=await lr(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:o,gotrue_meta_security:{captcha_token:a?.captchaToken}},xform:oQ})}else throw new pI("You must provide either an email or phone number and a password");const{data:r,error:i}=n;if(i)return this._returnResult({data:{user:null,session:null},error:i});if(!r||!r.session||!r.user){const s=new b1;return this._returnResult({data:{user:null,session:null},error:s})}return r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),this._returnResult({data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:i})}catch(n){if(jn(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOAuth(e){var n,r,i,s;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(i=e.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(s=e.options)===null||s===void 0?void 0:s.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:n}=e;switch(n){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(e){var n,r,i,s,o,a,l,u,c,d,f;let p,m;if("message"in e)p=e.message,m=e.signature;else{const{chain:v,wallet:y,statement:A,options:C}=e;let E;if(tu())if(typeof y=="object")E=y;else{const k=window;if("ethereum"in k&&typeof k.ethereum=="object"&&"request"in k.ethereum&&typeof k.ethereum.request=="function")E=k.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof y!="object"||!C?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");E=y}const I=new URL((n=C?.url)!==null&&n!==void 0?n:window.location.href),D=await E.request({method:"eth_requestAccounts"}).then(k=>k).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!D||D.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const T=Jle(D[0]);let M=(r=C?.signInWithEthereum)===null||r===void 0?void 0:r.chainId;if(!M){const k=await E.request({method:"eth_chainId"});M=TRe(k)}const P={domain:I.host,address:T,statement:A,uri:I.href,version:"1",chainId:M,nonce:(i=C?.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(o=(s=C?.signInWithEthereum)===null||s===void 0?void 0:s.issuedAt)!==null&&o!==void 0?o:new Date,expirationTime:(a=C?.signInWithEthereum)===null||a===void 0?void 0:a.expirationTime,notBefore:(l=C?.signInWithEthereum)===null||l===void 0?void 0:l.notBefore,requestId:(u=C?.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(c=C?.signInWithEthereum)===null||c===void 0?void 0:c.resources};p=kRe(P),m=await E.request({method:"personal_sign",params:[MRe(p),T]})}try{const{data:v,error:y}=await lr(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:p,signature:m},!((d=e.options)===null||d===void 0)&&d.captchaToken?{gotrue_meta_security:{captcha_token:(f=e.options)===null||f===void 0?void 0:f.captchaToken}}:null),xform:yp});if(y)throw y;if(!v||!v.session||!v.user){const A=new b1;return this._returnResult({data:{user:null,session:null},error:A})}return v.session&&(await this._saveSession(v.session),await this._notifyAllSubscribers("SIGNED_IN",v.session)),this._returnResult({data:Object.assign({},v),error:y})}catch(v){if(jn(v))return this._returnResult({data:{user:null,session:null},error:v});throw v}}async signInWithSolana(e){var n,r,i,s,o,a,l,u,c,d,f,p;let m,v;if("message"in e)m=e.message,v=e.signature;else{const{chain:y,wallet:A,statement:C,options:E}=e;let I;if(tu())if(typeof A=="object")I=A;else{const T=window;if("solana"in T&&typeof T.solana=="object"&&("signIn"in T.solana&&typeof T.solana.signIn=="function"||"signMessage"in T.solana&&typeof T.solana.signMessage=="function"))I=T.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof A!="object"||!E?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");I=A}const D=new URL((n=E?.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in I&&I.signIn){const T=await I.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},E?.signInWithSolana),{version:"1",domain:D.host,uri:D.href}),C?{statement:C}:null));let M;if(Array.isArray(T)&&T[0]&&typeof T[0]=="object")M=T[0];else if(T&&typeof T=="object"&&"signedMessage"in T&&"signature"in T)M=T;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in M&&"signature"in M&&(typeof M.signedMessage=="string"||M.signedMessage instanceof Uint8Array)&&M.signature instanceof Uint8Array)m=typeof M.signedMessage=="string"?M.signedMessage:new TextDecoder().decode(M.signedMessage),v=M.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in I)||typeof I.signMessage!="function"||!("publicKey"in I)||typeof I!="object"||!I.publicKey||!("toBase58"in I.publicKey)||typeof I.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");m=[`${D.host} wants you to sign in with your Solana account:`,I.publicKey.toBase58(),...C?["",C,""]:[""],"Version: 1",`URI: ${D.href}`,`Issued At: ${(i=(r=E?.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((s=E?.signInWithSolana)===null||s===void 0)&&s.notBefore?[`Not Before: ${E.signInWithSolana.notBefore}`]:[],...!((o=E?.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${E.signInWithSolana.expirationTime}`]:[],...!((a=E?.signInWithSolana)===null||a===void 0)&&a.chainId?[`Chain ID: ${E.signInWithSolana.chainId}`]:[],...!((l=E?.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${E.signInWithSolana.nonce}`]:[],...!((u=E?.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${E.signInWithSolana.requestId}`]:[],...!((d=(c=E?.signInWithSolana)===null||c===void 0?void 0:c.resources)===null||d===void 0)&&d.length?["Resources",...E.signInWithSolana.resources.map(M=>`- ${M}`)]:[]].join(`
`);const T=await I.signMessage(new TextEncoder().encode(m),"utf8");if(!T||!(T instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");v=T}}try{const{data:y,error:A}=await lr(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:m,signature:gx(v)},!((f=e.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(p=e.options)===null||p===void 0?void 0:p.captchaToken}}:null),xform:yp});if(A)throw A;if(!y||!y.session||!y.user){const C=new b1;return this._returnResult({data:{user:null,session:null},error:C})}return y.session&&(await this._saveSession(y.session),await this._notifyAllSubscribers("SIGNED_IN",y.session)),this._returnResult({data:Object.assign({},y),error:A})}catch(y){if(jn(y))return this._returnResult({data:{user:null,session:null},error:y});throw y}}async _exchangeCodeForSession(e){const n=await Rb(this.storage,`${this.storageKey}-code-verifier`),[r,i]=(n??"").split("/");try{if(!r&&this.flowType==="pkce")throw new JPe;const{data:s,error:o}=await lr(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:yp});if(await Zl(this.storage,`${this.storageKey}-code-verifier`),o)throw o;if(!s||!s.session||!s.user){const a=new b1;return this._returnResult({data:{user:null,session:null,redirectType:null},error:a})}return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),this._returnResult({data:Object.assign(Object.assign({},s),{redirectType:i??null}),error:o})}catch(s){if(await Zl(this.storage,`${this.storageKey}-code-verifier`),jn(s))return this._returnResult({data:{user:null,session:null,redirectType:null},error:s});throw s}}async signInWithIdToken(e){try{const{options:n,provider:r,token:i,access_token:s,nonce:o}=e,a=await lr(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:i,access_token:s,nonce:o,gotrue_meta_security:{captcha_token:n?.captchaToken}},xform:yp}),{data:l,error:u}=a;if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!l||!l.session||!l.user){const c=new b1;return this._returnResult({data:{user:null,session:null},error:c})}return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),this._returnResult({data:l,error:u})}catch(n){if(jn(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOtp(e){var n,r,i,s,o;try{if("email"in e){const{email:a,options:l}=e;let u=null,c=null;this.flowType==="pkce"&&([u,c]=await x1(this.storage,this.storageKey));const{error:d}=await lr(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(n=l?.data)!==null&&n!==void 0?n:{},create_user:(r=l?.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:l?.captchaToken},code_challenge:u,code_challenge_method:c},redirectTo:l?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:d})}if("phone"in e){const{phone:a,options:l}=e,{data:u,error:c}=await lr(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(i=l?.data)!==null&&i!==void 0?i:{},create_user:(s=l?.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:l?.captchaToken},channel:(o=l?.channel)!==null&&o!==void 0?o:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:u?.message_id},error:c})}throw new pI("You must provide either an email or phone number.")}catch(a){if(await Zl(this.storage,`${this.storageKey}-code-verifier`),jn(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async verifyOtp(e){var n,r;try{let i,s;"options"in e&&(i=(n=e.options)===null||n===void 0?void 0:n.redirectTo,s=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:o,error:a}=await lr(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:s}}),redirectTo:i,xform:yp});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,u=o.user;return l?.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(i){if(jn(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithSSO(e){var n,r,i,s,o;try{let a=null,l=null;this.flowType==="pkce"&&([a,l]=await x1(this.storage,this.storageKey));const u=await lr(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((i=e?.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:l}),headers:this.headers,xform:ERe});return!((s=u.data)===null||s===void 0)&&s.url&&tu()&&!(!((o=e.options)===null||o===void 0)&&o.skipBrowserRedirect)&&window.location.assign(u.data.url),this._returnResult(u)}catch(a){if(await Zl(this.storage,`${this.storageKey}-code-verifier`),jn(a))return this._returnResult({data:null,error:a});throw a}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:r}=e;if(r)throw r;if(!n)throw new Wd;const{error:i}=await lr(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return this._returnResult({data:{user:null,session:null},error:i})})}catch(e){if(jn(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:r,type:i,options:s}=e,{error:o}=await lr(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:i,gotrue_meta_security:{captcha_token:s?.captchaToken}},redirectTo:s?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:o})}else if("phone"in e){const{phone:r,type:i,options:s}=e,{data:o,error:a}=await lr(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:i,gotrue_meta_security:{captcha_token:s?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:o?.message_id},error:a})}throw new pI("You must provide either an email or phone number and a type")}catch(n){if(jn(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await Rb(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at*1e3-Date.now()<Nk:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.userStorage){const o=await Rb(this.userStorage,this.storageKey+"-user");o?.user?e.user=o.user:e.user=$k()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const o={value:this.suppressGetSessionWarning};e.user=vRe(e.user,o),o.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:i,error:s}=await this._callRefreshToken(e.refresh_token);return s?this._returnResult({data:{session:null},error:s}):this._returnResult({data:{session:i},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){if(e)return await this._getUser(e);await this.initializePromise;const n=await this._acquireLock(-1,async()=>await this._getUser());return n.data.user&&(this.suppressGetSessionWarning=!0),n}async _getUser(e){try{return e?await lr(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Ty}):await this._useSession(async n=>{var r,i,s;const{data:o,error:a}=n;if(a)throw a;return!(!((r=o.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Wd}:await lr(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(i=o.session)===null||i===void 0?void 0:i.access_token)!==null&&s!==void 0?s:void 0,xform:Ty})})}catch(n){if(jn(n))return YPe(n)&&(await this._removeSession(),await Zl(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:n});throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async r=>{const{data:i,error:s}=r;if(s)throw s;if(!i.session)throw new Wd;const o=i.session;let a=null,l=null;this.flowType==="pkce"&&e.email!=null&&([a,l]=await x1(this.storage,this.storageKey));const{data:u,error:c}=await lr(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n?.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:a,code_challenge_method:l}),jwt:o.access_token,xform:Ty});if(c)throw c;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),this._returnResult({data:{user:o.user},error:null})})}catch(r){if(await Zl(this.storage,`${this.storageKey}-code-verifier`),jn(r))return this._returnResult({data:{user:null},error:r});throw r}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Wd;const n=Date.now()/1e3;let r=n,i=!0,s=null;const{payload:o}=Fk(e.access_token);if(o.exp&&(r=o.exp,i=r<=n),i){const{data:a,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return this._returnResult({data:{user:null,session:null},error:l});if(!a)return{data:{user:null,session:null},error:null};s=a}else{const{data:a,error:l}=await this._getUser(e.access_token);if(l)throw l;s={access_token:e.access_token,refresh_token:e.refresh_token,user:a.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)}return this._returnResult({data:{user:s.user,session:s},error:null})}catch(n){if(jn(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var r;if(!e){const{data:o,error:a}=n;if(a)throw a;e=(r=o.session)!==null&&r!==void 0?r:void 0}if(!e?.refresh_token)throw new Wd;const{data:i,error:s}=await this._callRefreshToken(e.refresh_token);return s?this._returnResult({data:{user:null,session:null},error:s}):i?this._returnResult({data:{user:i.user,session:i},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(n){if(jn(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async _getSessionFromURL(e,n){try{if(!tu())throw new gI("No browser detected.");if(e.error||e.error_description||e.error_code)throw new gI(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new Z9("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new gI("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new Z9("No code detected.");const{data:C,error:E}=await this._exchangeCodeForSession(e.code);if(E)throw E;const I=new URL(window.location.href);return I.searchParams.delete("code"),window.history.replaceState(window.history.state,"",I.toString()),{data:{session:C.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:i,access_token:s,refresh_token:o,expires_in:a,expires_at:l,token_type:u}=e;if(!s||!a||!o||!u)throw new gI("No session defined in URL");const c=Math.round(Date.now()/1e3),d=parseInt(a);let f=c+d;l&&(f=parseInt(l));const p=f-c;p*1e3<=Q1&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${d}s`);const m=f-d;c-m>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",m,f,c):c-m<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",m,f,c);const{data:v,error:y}=await this._getUser(s);if(y)throw y;const A={provider_token:r,provider_refresh_token:i,access_token:s,expires_in:d,expires_at:f,refresh_token:o,token_type:u,user:v.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:A,redirectType:e.type},error:null})}catch(r){if(jn(r))return this._returnResult({data:{session:null,redirectType:null},error:r});throw r}}_isImplicitGrantCallback(e){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),e):!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await Rb(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:i,error:s}=n;if(s)return this._returnResult({error:s});const o=(r=i.session)===null||r===void 0?void 0:r.access_token;if(o){const{error:a}=await this.admin.signOut(o,e);if(a&&!(qPe(a)&&(a.status===404||a.status===401||a.status===403)))return this._returnResult({error:a})}return e!=="others"&&(await this._removeSession(),await Zl(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const n=sRe(),r={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async n=>{var r,i;try{const{data:{session:s},error:o}=n;if(o)throw o;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",s)),this._debug("INITIAL_SESSION","callback id",e,"session",s)}catch(s){await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",s),console.error(s)}})}async resetPasswordForEmail(e,n={}){let r=null,i=null;this.flowType==="pkce"&&([r,i]=await x1(this.storage,this.storageKey,!0));try{return await lr(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:i,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(s){if(await Zl(this.storage,`${this.storageKey}-code-verifier`),jn(s))return this._returnResult({data:null,error:s});throw s}}async getUserIdentities(){var e;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return this._returnResult({data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(n){if(jn(n))return this._returnResult({data:null,error:n});throw n}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var n;try{const{data:r,error:i}=await this._useSession(async s=>{var o,a,l,u,c;const{data:d,error:f}=s;if(f)throw f;const p=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=e.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await lr(this.fetch,"GET",p,{headers:this.headers,jwt:(c=(u=d.session)===null||u===void 0?void 0:u.access_token)!==null&&c!==void 0?c:void 0})});if(i)throw i;return tu()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r?.url),this._returnResult({data:{provider:e.provider,url:r?.url},error:null})}catch(r){if(jn(r))return this._returnResult({data:{provider:e.provider,url:null},error:r});throw r}}async linkIdentityIdToken(e){return await this._useSession(async n=>{var r;try{const{error:i,data:{session:s}}=n;if(i)throw i;const{options:o,provider:a,token:l,access_token:u,nonce:c}=e,d=await lr(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(r=s?.access_token)!==null&&r!==void 0?r:void 0,body:{provider:a,id_token:l,access_token:u,nonce:c,link_identity:!0,gotrue_meta_security:{captcha_token:o?.captchaToken}},xform:yp}),{data:f,error:p}=d;return p?this._returnResult({data:{user:null,session:null},error:p}):!f||!f.session||!f.user?this._returnResult({data:{user:null,session:null},error:new b1}):(f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("USER_UPDATED",f.session)),this._returnResult({data:f,error:p}))}catch(i){if(await Zl(this.storage,`${this.storageKey}-code-verifier`),jn(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}})}async unlinkIdentity(e){try{return await this._useSession(async n=>{var r,i;const{data:s,error:o}=n;if(o)throw o;return await lr(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(i=(r=s.session)===null||r===void 0?void 0:r.access_token)!==null&&i!==void 0?i:void 0})})}catch(n){if(jn(n))return this._returnResult({data:null,error:n});throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await uRe(async i=>(i>0&&await lRe(200*Math.pow(2,i-1)),this._debug(n,"refreshing attempt",i),await lr(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:yp})),(i,s)=>{const o=200*Math.pow(2,i);return s&&Lk(s)&&Date.now()+o-r<Q1})}catch(r){if(this._debug(n,"error",r),jn(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",r),tu()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const i=await Rb(this.storage,this.storageKey);if(i&&this.userStorage){let o=await Rb(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:i.user},await U1(this.userStorage,this.storageKey+"-user",o)),i.user=(e=o?.user)!==null&&e!==void 0?e:$k()}else if(i&&!i.user&&!i.user){const o=await Rb(this.storage,this.storageKey+"-user");o&&o?.user?(i.user=o.user,await Zl(this.storage,this.storageKey+"-user"),await U1(this.storage,this.storageKey,i)):i.user=$k()}if(this._debug(r,"session from storage",i),!this._isValidSession(i)){this._debug(r,"session is not valid"),i!==null&&await this._removeSession();return}const s=((n=i.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<Nk;if(this._debug(r,`session has${s?"":" not"} expired with margin of ${Nk}s`),s){if(this.autoRefreshToken&&i.refresh_token){const{error:o}=await this._callRefreshToken(i.refresh_token);o&&(console.error(o),Lk(o)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:a}=await this._getUser(i.access_token);!a&&o?.user?(i.user=o.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(r,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(r,"error",i),console.error(i);return}finally{this._debug(r,"end")}}async _callRefreshToken(e){var n,r;if(!e)throw new Wd;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new jT;const{data:s,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!s.session)throw new Wd;await this._saveSession(s.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);const a={data:s.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(s){if(this._debug(i,"error",s),jn(s)){const o={data:null,error:s};return Lk(s)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(o),o}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(s),s}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(e,n,r=!0){const i=`#_notifyAllSubscribers(${e})`;this._debug(i,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:n});const s=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(e,n)}catch(l){s.push(l)}});if(await Promise.all(o),s.length>0){for(let a=0;a<s.length;a+=1)console.error(s[a]);throw s[0]}}finally{this._debug(i,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await Zl(this.storage,`${this.storageKey}-code-verifier`);const n=Object.assign({},e),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await U1(this.userStorage,this.storageKey+"-user",{user:n.user});const i=Object.assign({},n);delete i.user;const s=iQ(i);await U1(this.storage,this.storageKey,s)}else{const i=iQ(n);await U1(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await Zl(this.storage,this.storageKey),await Zl(this.storage,this.storageKey+"-code-verifier"),await Zl(this.storage,this.storageKey+"-user"),this.userStorage&&await Zl(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&tu()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Q1);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((r.expires_at*1e3-e)/Q1);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${Q1}ms, refresh threshold is ${w8} ticks`),i<=w8&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof Xle)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!tu()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,r){const i=[`provider=${encodeURIComponent(n)}`];if(r?.redirectTo&&i.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r?.scopes&&i.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[s,o]=await x1(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(o)}`});i.push(a.toString())}if(r?.queryParams){const s=new URLSearchParams(r.queryParams);i.push(s.toString())}return r?.skipBrowserRedirect&&i.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${i.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var r;const{data:i,error:s}=n;return s?this._returnResult({data:null,error:s}):await lr(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=i?.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(jn(n))return this._returnResult({data:null,error:n});throw n}}async _enroll(e){try{return await this._useSession(async n=>{var r,i;const{data:s,error:o}=n;if(o)return this._returnResult({data:null,error:o});const a=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:l,error:u}=await lr(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(r=s?.session)===null||r===void 0?void 0:r.access_token});return u?this._returnResult({data:null,error:u}):(e.factorType==="totp"&&l.type==="totp"&&(!((i=l?.totp)===null||i===void 0)&&i.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),this._returnResult({data:l,error:null}))})}catch(n){if(jn(n))return this._returnResult({data:null,error:n});throw n}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:s}=n;if(s)return this._returnResult({data:null,error:s});const o=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?zRe(e.webauthn.credential_response):ORe(e.webauthn.credential_response)})}:{code:e.code}),{data:a,error:l}=await lr(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:o,headers:this.headers,jwt:(r=i?.session)===null||r===void 0?void 0:r.access_token});return l?this._returnResult({data:null,error:l}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+a.expires_in},a)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",a),this._returnResult({data:a,error:l}))})}catch(n){if(jn(n))return this._returnResult({data:null,error:n});throw n}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:s}=n;if(s)return this._returnResult({data:null,error:s});const o=await lr(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(r=i?.session)===null||r===void 0?void 0:r.access_token});if(o.error)return o;const{data:a}=o;if(a.type!=="webauthn")return{data:a,error:null};switch(a.webauthn.type){case"create":return{data:Object.assign(Object.assign({},a),{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_options:Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:FRe(a.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},a),{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_options:Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:$Re(a.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(jn(n))return this._returnResult({data:null,error:n});throw n}})}async _challengeAndVerify(e){const{data:n,error:r}=await this._challenge({factorId:e.factorId});return r?this._returnResult({data:null,error:r}):await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){var e;const{data:{user:n},error:r}=await this.getUser();if(r)return{data:null,error:r};const i={all:[],phone:[],totp:[],webauthn:[]};for(const s of(e=n?.factors)!==null&&e!==void 0?e:[])i.all.push(s),s.status==="verified"&&i[s.factor_type].push(s);return{data:i,error:null}}async _getAuthenticatorAssuranceLevel(){var e,n;const{data:{session:r},error:i}=await this.getSession();if(i)return this._returnResult({data:null,error:i});if(!r)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:s}=Fk(r.access_token);let o=null;s.aal&&(o=s.aal);let a=o;((n=(e=r.user.factors)===null||e===void 0?void 0:e.filter(c=>c.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(a="aal2");const u=s.amr||[];return{data:{currentLevel:o,nextLevel:a,currentAuthenticationMethods:u},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async n=>{const{data:{session:r},error:i}=n;return i?this._returnResult({data:null,error:i}):r?await lr(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:r.access_token,xform:s=>({data:s,error:null})}):this._returnResult({data:null,error:new Wd})})}catch(n){if(jn(n))return this._returnResult({data:null,error:n});throw n}}async _approveAuthorization(e,n){try{return await this._useSession(async r=>{const{data:{session:i},error:s}=r;if(s)return this._returnResult({data:null,error:s});if(!i)return this._returnResult({data:null,error:new Wd});const o=await lr(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"approve"},xform:a=>({data:a,error:null})});return o.data&&o.data.redirect_url&&tu()&&!n?.skipBrowserRedirect&&window.location.assign(o.data.redirect_url),o})}catch(r){if(jn(r))return this._returnResult({data:null,error:r});throw r}}async _denyAuthorization(e,n){try{return await this._useSession(async r=>{const{data:{session:i},error:s}=r;if(s)return this._returnResult({data:null,error:s});if(!i)return this._returnResult({data:null,error:new Wd});const o=await lr(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"deny"},xform:a=>({data:a,error:null})});return o.data&&o.data.redirect_url&&tu()&&!n?.skipBrowserRedirect&&window.location.assign(o.data.redirect_url),o})}catch(r){if(jn(r))return this._returnResult({data:null,error:r});throw r}}async _listOAuthGrants(){try{return await this._useSession(async e=>{const{data:{session:n},error:r}=e;return r?this._returnResult({data:null,error:r}):n?await lr(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new Wd})})}catch(e){if(jn(e))return this._returnResult({data:null,error:e});throw e}}async _revokeOAuthGrant(e){try{return await this._useSession(async n=>{const{data:{session:r},error:i}=n;return i?this._returnResult({data:null,error:i}):r?(await lr(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,query:{client_id:e.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Wd})})}catch(n){if(jn(n))return this._returnResult({data:null,error:n});throw n}}async fetchJwk(e,n={keys:[]}){let r=n.keys.find(a=>a.kid===e);if(r)return r;const i=Date.now();if(r=this.jwks.keys.find(a=>a.kid===e),r&&this.jwks_cached_at+KPe>i)return r;const{data:s,error:o}=await lr(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!s.keys||s.keys.length===0||(this.jwks=s,this.jwks_cached_at=i,r=s.keys.find(a=>a.kid===e),!r)?null:r}async getClaims(e,n={}){try{let r=e;if(!r){const{data:p,error:m}=await this.getSession();if(m||!p.session)return this._returnResult({data:null,error:m});r=p.session.access_token}const{header:i,payload:s,signature:o,raw:{header:a,payload:l}}=Fk(r);n?.allowExpired||mRe(s.exp);const u=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,n?.keys?{keys:n.keys}:n?.jwks);if(!u){const{error:p}=await this.getUser(r);if(p)throw p;return{data:{claims:s,header:i,signature:o},error:null}}const c=ARe(i.alg),d=await crypto.subtle.importKey("jwk",u,c,!0,["verify"]);if(!await crypto.subtle.verify(c,d,o,rRe(`${a}.${l}`)))throw new B8("Invalid JWT signature");return{data:{claims:s,header:i,signature:o},error:null}}catch(r){if(jn(r))return this._returnResult({data:null,error:r});throw r}}}p3.nextInstanceID={};const qRe=p3,YRe="2.89.0";let Ww="";typeof Deno<"u"?Ww="deno":typeof document<"u"?Ww="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Ww="react-native":Ww="node";const XRe={"X-Client-Info":`supabase-js-${Ww}/${YRe}`},JRe={headers:XRe},ZRe={schema:"public"},eNe={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},tNe={};function g3(t){"@babel/helpers - typeof";return g3=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},g3(t)}function nNe(t,e){if(g3(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(g3(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function rNe(t){var e=nNe(t,"string");return g3(e)=="symbol"?e:e+""}function iNe(t,e,n){return(e=rNe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function dQ(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ko(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?dQ(Object(n),!0).forEach(function(r){iNe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):dQ(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}const sNe=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),oNe=()=>Headers,aNe=(t,e,n)=>{const r=sNe(n),i=oNe();return async(s,o)=>{var a;const l=(a=await e())!==null&&a!==void 0?a:t;let u=new i(o?.headers);return u.has("apikey")||u.set("apikey",t),u.has("Authorization")||u.set("Authorization",`Bearer ${l}`),r(s,Ko(Ko({},o),{},{headers:u}))}};function lNe(t){return t.endsWith("/")?t:t+"/"}function uNe(t,e){var n,r;const{db:i,auth:s,realtime:o,global:a}=t,{db:l,auth:u,realtime:c,global:d}=e,f={db:Ko(Ko({},l),i),auth:Ko(Ko({},u),s),realtime:Ko(Ko({},c),o),storage:{},global:Ko(Ko(Ko({},d),a),{},{headers:Ko(Ko({},(n=d?.headers)!==null&&n!==void 0?n:{}),(r=a?.headers)!==null&&r!==void 0?r:{})}),accessToken:async()=>""};return t.accessToken?f.accessToken=t.accessToken:delete f.accessToken,f}function cNe(t){const e=t?.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(lNe(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var dNe=class extends qRe{constructor(t){super(t)}},hNe=class{constructor(t,e,n){var r,i;this.supabaseUrl=t,this.supabaseKey=e;const s=cNe(t);if(!e)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",s),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",s),this.storageUrl=new URL("storage/v1",s),this.functionsUrl=new URL("functions/v1",s);const o=`sb-${s.hostname.split(".")[0]}-auth-token`,a={db:ZRe,realtime:tNe,auth:Ko(Ko({},eNe),{},{storageKey:o}),global:JRe},l=uNe(n??{},a);if(this.storageKey=(r=l.auth.storageKey)!==null&&r!==void 0?r:"",this.headers=(i=l.global.headers)!==null&&i!==void 0?i:{},l.accessToken)this.accessToken=l.accessToken,this.auth=new Proxy({},{get:(c,d)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(d)} is not possible`)}});else{var u;this.auth=this._initSupabaseAuthClient((u=l.auth)!==null&&u!==void 0?u:{},this.headers,l.global.fetch)}this.fetch=aNe(e,this._getAccessToken.bind(this),l.global.fetch),this.realtime=this._initRealtimeClient(Ko({headers:this.headers,accessToken:this._getAccessToken.bind(this)},l.realtime)),this.accessToken&&this.accessToken().then(c=>this.realtime.setAuth(c)).catch(c=>console.warn("Failed to set initial Realtime auth token:",c)),this.rest=new Vke(new URL("rest/v1",s).href,{headers:this.headers,schema:l.db.schema,fetch:this.fetch}),this.storage=new QPe(this.storageUrl.href,this.headers,this.fetch,n?.storage),l.accessToken||this._listenForAuthEvents()}get functions(){return new Oke(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,e={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,e,n)}channel(t,e={config:{}}){return this.realtime.channel(t,e)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var t=this,e,n;if(t.accessToken)return await t.accessToken();const{data:r}=await t.auth.getSession();return(e=(n=r.session)===null||n===void 0?void 0:n.access_token)!==null&&e!==void 0?e:t.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:e,detectSessionInUrl:n,storage:r,userStorage:i,storageKey:s,flowType:o,lock:a,debug:l,throwOnError:u},c,d){const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new dNe({url:this.authUrl.href,headers:Ko(Ko({},f),c),storageKey:s,autoRefreshToken:t,persistSession:e,detectSessionInUrl:n,storage:r,userStorage:i,flowType:o,lock:a,debug:l,throwOnError:u,fetch:d,hasCustomAuthorizationHeader:Object.keys(this.headers).some(p=>p.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new lPe(this.realtimeUrl.href,Ko(Ko({},t),{},{params:Ko(Ko({},{apikey:this.supabaseKey}),t?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((t,e)=>{this._handleTokenChanged(t,"CLIENT",e?.access_token)})}_handleTokenChanged(t,e,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),e=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const fNe=(t,e,n)=>new hNe(t,e,n);function pNe(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}pNe()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const gNe="https://lilxpscwiqggxmdroshn.supabase.co",mNe="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImxpbHhwc2N3aXFnZ3htZHJvc2huIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTU0NzI1NjYsImV4cCI6MjA3MTA0ODU2Nn0.XhCb-gSV9IM8w355prG4ebgKFHU4yasR3eXg3dr7_60",ANe="xstudio-auth-prod",bi=fNe(gNe,mNe,{auth:{persistSession:!0,storageKey:ANe}}),yNe=Object.freeze(Object.defineProperty({__proto__:null,supabase:bi},Symbol.toStringTag,{value:"Module"}));var qw=(t=>(t.NETWORK_ERROR="NETWORK_ERROR",t.VALIDATION_ERROR="VALIDATION_ERROR",t.AUTHENTICATION_ERROR="AUTHENTICATION_ERROR",t.AUTHORIZATION_ERROR="AUTHORIZATION_ERROR",t.NOT_FOUND_ERROR="NOT_FOUND_ERROR",t.RATE_LIMIT_ERROR="RATE_LIMIT_ERROR",t.SERVER_ERROR="SERVER_ERROR",t.UNKNOWN_ERROR="UNKNOWN_ERROR",t))(qw||{});const w1=(t,e)=>{const n=new Date().toISOString();if(t&&typeof t=="object"&&"code"in t){const i=t;return i.code==="23505"?{type:"VALIDATION_ERROR",message:"  .",code:i.code,details:i.details||i.message,operation:e,timestamp:n}:i.code==="23503"?{type:"VALIDATION_ERROR",message:"   .",code:i.code,details:i.details||i.message,operation:e,timestamp:n}:i.code==="23514"?{type:"VALIDATION_ERROR",message:"   .",code:i.code,details:i.details||i.message,operation:e,timestamp:n}:{type:"SERVER_ERROR",message:i.message||"  .",code:i.code,details:i.details,operation:e,timestamp:n}}if(t instanceof Error){const i=t.message.toLowerCase();if(i.includes("network")||i.includes("fetch"))return{type:"NETWORK_ERROR",message:"   .   .",operation:e,timestamp:n};if(i.includes("auth")||i.includes("unauthorized"))return{type:"AUTHENTICATION_ERROR",message:" .  .",operation:e,timestamp:n};if(i.includes("forbidden")||i.includes("permission"))return{type:"AUTHORIZATION_ERROR",message:"    .",operation:e,timestamp:n};if(i.includes("not found")||i.includes("404"))return{type:"NOT_FOUND_ERROR",message:"    .",operation:e,timestamp:n};if(i.includes("rate limit"))return{type:"RATE_LIMIT_ERROR",message:"  .    .",operation:e,timestamp:n};if(i.includes("500")||i.includes("server"))return{type:"SERVER_ERROR",message:"  .    .",operation:e,timestamp:n};if(i.includes("invalid")||i.includes("validation"))return{type:"VALIDATION_ERROR",message:t.message,operation:e,timestamp:n}}let r;if(t instanceof Error)r={name:t.name,message:t.message,stack:t.stack};else if(typeof t=="object"&&t!==null)try{r=JSON.parse(JSON.stringify(t))}catch{r=String(t)}else r=String(t);return{type:"UNKNOWN_ERROR",message:"    .",details:r,operation:e,timestamp:n}},Fg=t=>{console.error(`[${t.operation}] ${t.type}:`,t.message)};class eue{cache;maxSize;ttl;constructor(e={}){this.cache=new Map,this.maxSize=e.max??100,this.ttl=e.ttl??0}get(e){const n=this.cache.get(e);if(n){if(this.ttl>0&&Date.now()-n.timestamp>this.ttl){this.cache.delete(e);return}return this.cache.delete(e),this.cache.set(e,n),n.value}}set(e,n){if(this.cache.has(e)&&this.cache.delete(e),this.cache.size>=this.maxSize){const r=this.cache.keys().next().value;r!==void 0&&this.cache.delete(r)}this.cache.set(e,{value:n,timestamp:Date.now()})}delete(e){return this.cache.delete(e)}clear(){this.cache.clear()}has(e){if(!this.cache.has(e))return!1;if(this.ttl>0){const n=this.cache.get(e);if(Date.now()-n.timestamp>this.ttl)return this.cache.delete(e),!1}return!0}get size(){return this.cache.size}keys(){return this.cache.keys()}values(){return this.cache.values()}cleanup(){if(this.ttl===0)return 0;let e=0;const n=Date.now();for(const[r,i]of this.cache.entries())n-i.timestamp>this.ttl&&(this.cache.delete(r),e++);return e}getStats(){let e=null;if(this.cache.size>0){const n=this.cache.values().next().value;n&&(e=Date.now()-n.timestamp)}return{size:this.cache.size,maxSize:this.maxSize,ttl:this.ttl,oldestItemAge:e}}}const mI=new eue({max:100,ttl:300*1e3});class vNe{pendingRequests;constructor(){this.pendingRequests=new Map}async deduplicate(e,n){if(this.pendingRequests.has(e))return this.pendingRequests.get(e);const r=n().then(i=>(this.pendingRequests.delete(e),i)).catch(i=>{throw this.pendingRequests.delete(e),console.error(` [Dedup] Request failed: ${e}`,i),i});return this.pendingRequests.set(e,r),r}cancel(e){return this.pendingRequests.has(e)?(this.pendingRequests.delete(e),console.log(` [Dedup] Request cancelled: ${e}`),!0):!1}cancelAll(){const e=this.pendingRequests.size;this.pendingRequests.clear(),console.log(` [Dedup] All requests cancelled (${e})`)}get pendingCount(){return this.pendingRequests.size}isPending(e){return this.pendingRequests.has(e)}getPendingKeys(){return Array.from(this.pendingRequests.keys())}getStats(){return{pendingCount:this.pendingCount,pendingKeys:this.getPendingKeys()}}}const hQ=new vNe;let bNe=class{cacheMetrics;deduplicationMetrics;batcherMetrics;queryMetrics;startTime;queryStates;constructor(){this.cacheMetrics={totalRequests:0,hits:0,misses:0,hitRate:0,avgResponseTime:0,totalResponseTime:0},this.deduplicationMetrics={totalRequests:0,deduplicated:0,executed:0,deduplicationRate:0},this.batcherMetrics={totalEvents:0,filtered:0,batched:0,batchCount:0,avgBatchSize:0,filterEfficiency:0},this.queryMetrics={activeQueries:0,loadingQueries:0,errorQueries:0,successQueries:0,avgFetchTime:0,totalFetchTime:0,totalFetches:0},this.startTime=performance.now(),this.queryStates=new Map}recordCacheHit(e,n=0){this.cacheMetrics.totalRequests++,this.cacheMetrics.hits++,this.cacheMetrics.totalResponseTime+=n,this.cacheMetrics.hitRate=this.cacheMetrics.hits/this.cacheMetrics.totalRequests*100,this.cacheMetrics.avgResponseTime=this.cacheMetrics.totalResponseTime/this.cacheMetrics.totalRequests}recordCacheMiss(e,n=0){this.cacheMetrics.totalRequests++,this.cacheMetrics.misses++,this.cacheMetrics.totalResponseTime+=n,this.cacheMetrics.hitRate=this.cacheMetrics.hits/this.cacheMetrics.totalRequests*100,this.cacheMetrics.avgResponseTime=this.cacheMetrics.totalResponseTime/this.cacheMetrics.totalRequests}recordDeduplication(e,n){this.deduplicationMetrics.totalRequests++,n?(this.deduplicationMetrics.deduplicated++,console.log(` [Monitor] Request DEDUPLICATED: ${e}`)):(this.deduplicationMetrics.executed++,console.log(` [Monitor] Request EXECUTED: ${e}`)),this.deduplicationMetrics.deduplicationRate=this.deduplicationMetrics.deduplicated/this.deduplicationMetrics.totalRequests*100}recordBatcherEvents(e,n,r){this.batcherMetrics.totalEvents+=e,this.batcherMetrics.filtered+=n,this.batcherMetrics.batched+=r,r>0&&this.batcherMetrics.batchCount++,this.batcherMetrics.batchCount>0&&(this.batcherMetrics.avgBatchSize=this.batcherMetrics.batched/this.batcherMetrics.batchCount),this.batcherMetrics.totalEvents>0&&(this.batcherMetrics.filterEfficiency=this.batcherMetrics.filtered/this.batcherMetrics.totalEvents*100),console.log(` [Monitor] Batcher: Received ${e}, Filtered ${n}, Batched ${r} (Avg: ${this.batcherMetrics.avgBatchSize.toFixed(1)})`)}recordQueryState(e,n){this.queryStates.set(e,n),this.updateQueryCounts()}recordFetchComplete(e,n,r){this.queryMetrics.totalFetches++,this.queryMetrics.totalFetchTime+=n,this.queryMetrics.avgFetchTime=this.queryMetrics.totalFetchTime/this.queryMetrics.totalFetches,r?this.recordQueryState(e,"success"):this.recordQueryState(e,"error")}updateQueryCounts(){let e=0,n=0,r=0,i=0;for(const s of this.queryStates.values())s!=="idle"&&e++,s==="loading"&&n++,s==="error"&&r++,s==="success"&&i++;this.queryMetrics.activeQueries=e,this.queryMetrics.loadingQueries=n,this.queryMetrics.errorQueries=r,this.queryMetrics.successQueries=i}getStats(){const e=performance.now()-this.startTime;return{cache:{...this.cacheMetrics},deduplication:{...this.deduplicationMetrics},batcher:{...this.batcherMetrics},query:{...this.queryMetrics},startTime:this.startTime,elapsedTime:e}}reset(){this.cacheMetrics={totalRequests:0,hits:0,misses:0,hitRate:0,avgResponseTime:0,totalResponseTime:0},this.deduplicationMetrics={totalRequests:0,deduplicated:0,executed:0,deduplicationRate:0},this.batcherMetrics={totalEvents:0,filtered:0,batched:0,batchCount:0,avgBatchSize:0,filterEfficiency:0},this.queryMetrics={activeQueries:0,loadingQueries:0,errorQueries:0,successQueries:0,avgFetchTime:0,totalFetchTime:0,totalFetches:0},this.queryStates.clear(),this.startTime=performance.now(),console.log(" [Monitor] Performance stats reset")}printStats(){const e=this.getStats();console.log(" Performance Monitor Stats:"),console.log(""),console.log(`
 Cache Metrics:`),console.log(`  Total Requests: ${e.cache.totalRequests}`),console.log(`  Hits: ${e.cache.hits}`),console.log(`  Misses: ${e.cache.misses}`),console.log(`  Hit Rate: ${e.cache.hitRate.toFixed(1)}%`),console.log(`  Avg Response Time: ${e.cache.avgResponseTime.toFixed(2)}ms`),console.log(`
 Deduplication Metrics:`),console.log(`  Total Requests: ${e.deduplication.totalRequests}`),console.log(`  Deduplicated: ${e.deduplication.deduplicated}`),console.log(`  Executed: ${e.deduplication.executed}`),console.log(`  Deduplication Rate: ${e.deduplication.deduplicationRate.toFixed(1)}%`),console.log(`
 Batcher Metrics:`),console.log(`  Total Events: ${e.batcher.totalEvents}`),console.log(`  Filtered: ${e.batcher.filtered}`),console.log(`  Batched: ${e.batcher.batched}`),console.log(`  Batch Count: ${e.batcher.batchCount}`),console.log(`  Avg Batch Size: ${e.batcher.avgBatchSize.toFixed(1)}`),console.log(`  Filter Efficiency: ${e.batcher.filterEfficiency.toFixed(1)}%`),console.log(`
 Query Metrics:`),console.log(`  Active Queries: ${e.query.activeQueries}`),console.log(`  Loading: ${e.query.loadingQueries}`),console.log(`  Success: ${e.query.successQueries}`),console.log(`  Error: ${e.query.errorQueries}`),console.log(`  Avg Fetch Time: ${e.query.avgFetchTime.toFixed(2)}ms`),console.log(`  Total Fetches: ${e.query.totalFetches}`),console.log(`
  Elapsed Time: ${e.elapsedTime.toFixed(2)}ms`),console.log(`
`)}};const H1=new bNe;class cS{supabase;rateLimiter=new Map;maxRequestsPerMinute=60;constructor(){this.supabase=bi}async rateLimitCheck(e){const n=Date.now(),r=`${e}-${Math.floor(n/6e4)}`,i=this.rateLimiter.get(r)||0;if(i>=this.maxRequestsPerMinute){const s={type:qw.RATE_LIMIT_ERROR,message:"Rate limit exceeded. Please try again later.",operation:e,timestamp:new Date().toISOString()};throw Fg(s),new Error(s.message)}return this.rateLimiter.set(r,i+1),!0}validateInput(e,n,r){if(!n(e)){const i={type:qw.VALIDATION_ERROR,message:"Invalid input provided",operation:r,timestamp:new Date().toISOString()};throw Fg(i),new Error(i.message)}return e}async handleApiCall(e,n){await this.rateLimitCheck(e);try{const{data:r,error:i}=await n();if(i){const s=w1(i,e);throw Fg(s),new Error(s.message)}if(!r){const s={type:qw.NOT_FOUND_ERROR,message:`No data returned from ${e}`,operation:e,timestamp:new Date().toISOString()};throw Fg(s),new Error(s.message)}return r}catch(r){const i=w1(r,e);throw Fg(i),r}}async handleDeleteCall(e,n){await this.rateLimitCheck(e);try{const{error:r}=await n();if(r){const i=w1(r,e);throw Fg(i),new Error(i.message)}}catch(r){const i=w1(r,e);throw Fg(i),r}}async handleCachedApiCall(e,n,r,i={}){const s=mI.get(e);if(s){const l=Date.now()-s.timestamp,u=i.staleTime??300*1e3;if(l<u)return H1.recordCacheHit(e,0),console.log(` [Cache HIT] ${n} (${e})`),s.data}const o=hQ.isPending(e),a=performance.now();o||await this.rateLimitCheck(n);try{const l=await hQ.deduplicate(e,async()=>{const{data:c,error:d}=await r();if(d){const f=w1(d,n);throw Fg(f),new Error(f.message)}if(!c&&!i.allowNull){const f={type:qw.NOT_FOUND_ERROR,message:`No data returned from ${n}`,operation:n,timestamp:new Date().toISOString()};throw Fg(f),new Error(f.message)}return c}),u=performance.now()-a;return o||(H1.recordCacheMiss(e,u),H1.recordFetchComplete(e,u,!0),mI.set(e,{data:l,timestamp:Date.now()})),H1.recordDeduplication(e,o),l}catch(l){const u=performance.now()-a;H1.recordFetchComplete(e,u,!1);const c=w1(l,n);throw Fg(c),l}}invalidateCache(e){for(const n of mI.keys())String(n).startsWith(e)&&(mI.delete(n),console.log(` [Cache INVALIDATE] ${n}`))}}class tue extends cS{async fetchElements(e){return this.validateInput(e,r=>typeof r=="string"&&r.length>0,"fetchElements"),(await this.handleApiCall("fetchElements",async()=>await this.supabase.from("elements").select("*").eq("page_id",e).order("order_num",{ascending:!0}))).map(r=>({...r,customId:r.custom_id,dataBinding:r.data_binding}))}async createElement(e){this.validateInput(e,s=>s&&typeof s=="object","createElement");const n={...e,custom_id:e.customId,data_binding:e.dataBinding};delete n.customId,delete n.dataBinding;const r=await this.handleApiCall("createElement",async()=>await this.supabase.from("elements").insert([n]).select("*").single());if(!r)throw new Error("createElement returned null");const i=r;return{...i,customId:i.custom_id,dataBinding:i.data_binding}}async createMultipleElements(e){this.validateInput(e,i=>Array.isArray(i)&&i.length>0,"createMultipleElements");const n=e.map(i=>{const s={...i,custom_id:i.customId,data_binding:i.dataBinding};return delete s.customId,delete s.dataBinding,s}),r=await this.handleApiCall("createMultipleElements",async()=>await this.supabase.from("elements").insert(n).select("*"));return Array.isArray(r)?r.map(i=>({...i,customId:i.custom_id,dataBinding:i.data_binding})):[]}async updateElement(e,n){this.validateInput(e,o=>typeof o=="string"&&o.length>0,"updateElement"),this.validateInput(n,o=>o&&typeof o=="object","updateElement");const r={...n};n.customId!==void 0&&(r.custom_id=n.customId,delete r.customId),n.dataBinding!==void 0&&(r.data_binding=n.dataBinding,delete r.dataBinding);const i=await this.handleApiCall("updateElement",async()=>await this.supabase.from("elements").update(r).eq("id",e).select("*").single());if(!i)throw new Error("updateElement returned null");const s=i;return{...s,customId:s.custom_id,dataBinding:s.data_binding}}async updateElementProps(e,n){return this.validateInput(e,r=>typeof r=="string"&&r.length>0,"updateElementProps"),this.validateInput(n,r=>r&&typeof r=="object","updateElementProps"),this.handleApiCall("updateElementProps",async()=>await this.supabase.from("elements").update({props:n}).eq("id",e).select("*").single())}async deleteElement(e){this.validateInput(e,n=>typeof n=="string"&&n.length>0,"deleteElement"),await this.handleDeleteCall("deleteElement",async()=>await this.supabase.from("elements").delete().eq("id",e))}async deleteMultipleElements(e){this.validateInput(e,n=>Array.isArray(n)&&n.length>0,"deleteMultipleElements"),await this.handleDeleteCall("deleteMultipleElements",async()=>await this.supabase.from("elements").delete().in("id",e))}getElementsByPageId=this.fetchElements}const sh=new tue;class nue extends cS{async fetchProjects(){return this.handleCachedApiCall("projects:all","fetchProjects",async()=>await this.supabase.from("projects").select("*").order("created_at",{ascending:!1}),{staleTime:300*1e3})}async getProjectById(e){this.validateInput(e,r=>typeof r=="string"&&r.length>0,"getProjectById");const n=`project:id:${e}`;return this.handleCachedApiCall(n,"getProjectById",async()=>{const r=await this.supabase.from("projects").select("*").eq("id",e).single();return r.error?(console.warn("[ProjectsApi]    :",e),{data:null,error:null}):r},{staleTime:300*1e3})}async createProject(e){this.validateInput(e,r=>r&&typeof r.name=="string"&&r.name.trim().length>0&&typeof r.created_by=="string","createProject");const n=await this.handleApiCall("createProject",async()=>await this.supabase.from("projects").insert([e]).select("*").single());return this.invalidateCache("projects:all"),n}async updateProject(e,n){this.validateInput(e,i=>typeof i=="string"&&i.length>0,"updateProject"),this.validateInput(n,i=>i&&typeof i=="object","updateProject");const r=await this.handleApiCall("updateProject",async()=>await this.supabase.from("projects").update(n).eq("id",e).select("*").single());return this.invalidateCache("projects:all"),this.invalidateCache(`project:id:${e}`),r}async deleteProject(e){this.validateInput(e,n=>typeof n=="string"&&n.length>0,"deleteProject"),await this.handleDeleteCall("deleteProject",async()=>await this.supabase.from("projects").delete().eq("id",e)),this.invalidateCache("projects:all"),this.invalidateCache(`project:id:${e}`)}async getCurrentUser(){return this.handleCachedApiCall("user:current","getCurrentUser",async()=>{const{data:{session:n},error:r}=await this.supabase.auth.getSession();if(r)throw new Error(`Session error: ${r.message}`);if(!n?.user)throw new Error("No authenticated user found");return{data:{id:n.user.id},error:null}},{staleTime:300*1e3})}}const x0=new nue;class rue extends cS{async getPagesByProjectId(e){this.validateInput(e,r=>typeof r=="string"&&r.length>0,"getPagesByProjectId");const n=`pages:project:${e}`;return this.handleCachedApiCall(n,"getPagesByProjectId",async()=>await this.supabase.from("pages").select("*").eq("project_id",e).order("order_num",{ascending:!0}),{staleTime:300*1e3})}async createPage(e){this.validateInput(e,r=>typeof r=="object"&&r!==null,"createPage");const n=await this.handleApiCall("createPage",async()=>await this.supabase.from("pages").insert([e]).select().single());return e.project_id&&this.invalidateCache(`pages:project:${e.project_id}`),n}async fetchPages(e){this.validateInput(e,r=>typeof r=="string"&&r.length>0,"fetchPages");const n=`pages:project:${e}`;return this.handleCachedApiCall(n,"fetchPages",async()=>await this.supabase.from("pages").select("*").eq("project_id",e).order("created_at",{ascending:!0}),{staleTime:300*1e3})}async updatePage(e,n){this.validateInput(e,i=>typeof i=="string"&&i.length>0,"updatePage"),this.validateInput(n,i=>i&&typeof i=="object","updatePage");const r=await this.handleApiCall("updatePage",async()=>await this.supabase.from("pages").update(n).eq("id",e).select("*").single());return r.project_id&&this.invalidateCache(`pages:project:${r.project_id}`),r}async deletePage(e){this.validateInput(e,r=>typeof r=="string"&&r.length>0,"deletePage");const{data:n}=await this.supabase.from("pages").select("project_id").eq("id",e).maybeSingle();n&&await this.handleDeleteCall("deletePage",async()=>await this.supabase.from("pages").delete().eq("id",e)),n?.project_id&&this.invalidateCache(`pages:project:${n.project_id}`)}}const Qx=new rue,Pn=t=>t[Math.floor(Math.random()*t.length)],Hr=(t,e)=>Math.floor(Math.random()*(e-t+1))+t,fQ=()=>String(Math.floor(Math.random()*1e4)).padStart(4,"0"),uh=(t="")=>{const e=Hr(8,16),n="abcdefghijklmnopqrstuvwxyz0123456789";let r=t;for(let i=t.length;i<e;i++)r+=n.charAt(Math.floor(Math.random()*n.length));return r},dS=t=>{const e=new Date,n=new Date;n.setFullYear(e.getFullYear()-t);const r=Hr(n.getTime(),e.getTime());return new Date(r)},D8=(t,e)=>{const n=new Date(t.getTime());return n.setDate(n.getDate()+e),n},zu=t=>t.toISOString(),iue=["","","","","","","","","","","","","","",""],xNe=[" "," "," "," "," ","DevOps ","UI/UX "," "," ","QA "," "," "," "," "," "],CNe=["","","","","","","","","","","","","","","","","","","",""],ENe=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],SNe=[" "," "," "," "," "," "," ","V6 ","V8 "," 4"],wNe=["","LG","SDI","","","LS","","Bosch","Continental","Denso"],_Ne=[{name:"  ",parts:["",""," "," "," "]},{name:" ",parts:[""," "," ",""," "]},{name:" ",parts:[" ",""," "," "," "]},{name:" ",parts:["",""," "," "," "]},{name:" ",parts:[" "," "," ","",""]},{name:" ",parts:[" "," ",""," ",""]},{name:" ",parts:[" "," "," "," "," "]},{name:" ",parts:["ECU"," ","","CAN  "," "]}],pQ=["","","","","","","","","",""],INe=[" ","","","","","","",""],BNe=["","","","","","",""],gQ=["","","",""],DNe=["IT ","","","","","",""],TNe=["","","","","","","","","",""],MNe=["","","",""],kNe=["private","internal","public"],PNe=["","","",""],RNe=["","","","",""],NNe=["Asia/Seoul","America/Los_Angeles","Europe/Berlin","Asia/Tokyo","Asia/Singapore"],LNe=["ko-KR","en-US","ja-JP","zh-CN","de-DE"],FNe=["","",""," "," "," "],$Ne=["pending","accepted","expired","revoked"],zNe=()=>[{name:" ",description:"    .",category:"user"},{name:" ",description:" , ,   .",category:"user"},{name:" ",description:"   .",category:"project"},{name:" ",description:"     .",category:"project"},{name:"  ",description:"     .",category:"organization"},{name:"  ",description:"    .",category:"billing"},{name:"  ",description:"    .",category:"security"},{name:"  ",description:"    .",category:"security"}].map(e=>({...e,id:uh("perm_")})),ONe=t=>{const e={viewUsers:t.find(r=>r.name===" ")?.id??"",manageUsers:t.find(r=>r.name===" ")?.id??"",viewProjects:t.find(r=>r.name===" ")?.id??"",editProjects:t.find(r=>r.name===" ")?.id??"",manageOrg:t.find(r=>r.name==="  ")?.id??"",viewBilling:t.find(r=>r.name==="  ")?.id??"",manageSecurity:t.find(r=>r.name==="  ")?.id??"",manageTemplates:t.find(r=>r.name==="  ")?.id??""};return[{name:" ",description:"    .",scope:"global",permissionKeys:["viewUsers","manageUsers","viewProjects","editProjects","manageOrg","viewBilling","manageSecurity","manageTemplates"]},{name:" ",description:"   .",scope:"global",permissionKeys:["viewUsers","manageUsers","viewProjects","editProjects","manageOrg"]},{name:" ",description:"    .",scope:"global",permissionKeys:["viewUsers","viewProjects","viewBilling"]},{name:" ",description:"     .",scope:"global",permissionKeys:["viewUsers","manageSecurity","manageTemplates"]},{name:" ",description:"    .",scope:"project",permissionKeys:["viewProjects","editProjects","viewUsers"]},{name:" ",description:"    .",scope:"project",permissionKeys:["viewProjects","viewUsers"]}].map(r=>({id:uh("role_"),name:r.name,description:r.description,scope:r.scope,permissionIds:r.permissionKeys.map(i=>e[i]).filter(Boolean)}))},jNe=t=>Array.from({length:t},(e,n)=>{const r=`${Pn(iue)} ${n+1}`,i=dS(5),s=["","",""],o=`org${String(n+1).padStart(2,"0")}.${Pn(["example.com","workspace.kr","teamhub.io"])}`;return{id:uh("org_"),name:r,industry:Pn(DNe),domain:o,plan:Pn(s),createdAt:zu(i)}}),QNe=(t,e=2,n=5)=>{const r=[];return t.forEach(i=>{const s=Hr(e,n);for(let o=0;o<s;o++){const a=Pn(TNe);r.push({id:uh("dept_"),organizationId:i.id,name:a,description:`${i.name} ${a} `})}}),r},UNe=(t,e,n)=>{const r=[];for(let i=0;i<n;i++){const s=Pn(t),o=e.filter(c=>c.organizationId===s.id),a=Pn(o),l=dS(2),u=new Date(l.getTime());u.setMonth(u.getMonth()+Hr(1,12)),r.push({id:uh("proj_"),organizationId:s.id,departmentId:a.id,name:`${s.name}  ${i+1}`,status:Pn(MNe),startDate:zu(l),endDate:zu(u),budget:Hr(2e4,2e5),clientName:`${Pn(iue)} `,visibility:Pn(kNe)})}return r},HNe=()=>{const t=Pn(CNe),e=Pn(ENe);return`${t}${e}`},VNe=({count:t,organizations:e,departments:n,roles:r})=>{const i=r.filter(o=>o.scope==="global"),s=[];for(let o=1;o<=t;o++){const a=Pn(e),l=n.filter(p=>p.organizationId===a.id),u=l.length>0?Pn(l):Pn(n),c=Pn(i),d=dS(3),f=new Date(d.getTime());f.setMonth(f.getMonth()+Hr(0,18)),s.push({num:o,id:uh("user_"),name:HNe(),email:`datauser${o}@example.com`,address:`   ${o}`,phone:`010-${fQ()}-${fQ()}`,company:a.name,role:Pn(xNe),organizationId:a.id,departmentId:u.id,roleId:c.id,status:Pn(PNe),jobLevel:Pn(RNe),timezone:Pn(NNe),locale:Pn(LNe),createdAt:zu(d),lastLoginAt:zu(f),projectMembershipIds:[]})}return s},GNe=({users:t,projects:e,roles:n})=>{const r=n.filter(o=>o.scope==="project"),i=[],s=new Map(t.map(o=>[o.id,o]));return e.forEach(o=>{const a=t.filter(p=>p.organizationId===o.organizationId),l=a.length>=3?a:t,u=l.length>1?Math.min(3,l.length):1,c=Math.max(u,Math.min(12,l.length)),d=Hr(u,c),f=new Set;for(;f.size<d;)f.add(Pn(l));f.forEach(p=>{const m=dS(2),v=new Date(m.getTime());v.setMonth(v.getMonth()+Hr(0,12));const y={id:uh("mbr_"),projectId:o.id,userId:p.id,roleId:Pn(r).id,allocation:Hr(20,100),billable:Math.random()>.3,joinedAt:zu(m),lastActiveAt:zu(v)};i.push(y),s.get(p.id)?.projectMembershipIds.push(y.id)})}),i},KNe=({users:t,projects:e,organizations:n},r=500)=>{const i=[];for(let s=0;s<r;s++){const o=Pn(t),a=n.find(d=>d.id===o.organizationId)??Pn(n),l=Pn(["user","project","organization","department","permission","role"]),u=(()=>{switch(l){case"user":return Pn(t).id;case"project":return Pn(e).id;case"organization":return a.id;case"department":return Pn(e).departmentId;case"permission":return`perm_ref_${Hr(100,999)}`;case"role":return`role_ref_${Hr(100,999)}`;default:return uh("entity_")}})(),c=dS(1);i.push({id:uh("log_"),actorUserId:o.id,organizationId:a.id,entityType:l,entityId:u,action:Pn(FNe),description:`${o.name} ${l}   .`,timestamp:zu(c),ipAddress:`192.168.${Hr(0,255)}.${Hr(0,255)}`})}return i},WNe=({organizations:t,roles:e,users:n},r=200)=>{const i=e.filter(o=>o.scope==="global"),s=[];for(let o=0;o<r;o++){const a=Pn(t),l=n.find(d=>d.organizationId===a.id)??Pn(n),u=dS(1),c=new Date(u.getTime());c.setDate(c.getDate()+Hr(7,30)),s.push({id:uh("invite_"),organizationId:a.id,email:`invitee${o}@example.com`,roleId:Pn(i).id,inviterUserId:l.id,status:Pn($Ne),createdAt:zu(u),expiresAt:zu(c)})}return s},qNe=(t,e)=>{const n=[];return t.forEach(r=>{const i=Hr(1,3);for(let s=0;s<i;s++){const o=Pn(SNe),a=new Date(r.startDate),l=D8(a,Hr(1,100));let u;r.status===""?u=Math.random()>.3?"":"":r.status===""?u=Pn(["","",""]):u="";const c=e.filter(f=>f.projectMembershipIds.length>0&&f.organizationId===r.organizationId),d=c.length>0?Pn(c):Pn(e);n.push({id:uh("eng_"),projectId:r.id,name:`${o} ${String.fromCharCode(65+s)}`,code:`ENG-${Hr(1e3,9999)}-${String.fromCharCode(65+s)}`,version:`v${Hr(1,3)}.${Hr(0,9)}.${Hr(0,9)}`,status:u,manufacturer:Pn(wNe),specifications:{power:`${Hr(100,500)}kW`,weight:`${Hr(50,300)}kg`,dimensions:`${Hr(400,800)}x${Hr(300,600)}x${Hr(400,700)}mm`},createdAt:zu(a),updatedAt:zu(l),createdBy:d.id})}}),n},sue=(t,e,n,r,i,s)=>{const o=[],{engineId:a,parentId:l,parentName:u,level:c,orderIndex:d,createdAt:f,availableParts:p}=t;if(e>=n||Math.random()>s){const D=p.length>0?Pn(p):`${u}  ${d+1}`,T={id:uh("comp_"),engineId:a,parentId:l,name:D,code:`PRT-${Hr(1e4,99999)}`,type:"part",level:c,orderIndex:d,quantity:Hr(1,10),unit:Pn(["EA","SET","M","KG","L"]),supplier:Pn(pQ),cost:Hr(5e3,5e5),leadTime:Hr(7,30),status:Pn(gQ),specifications:{material:Pn(INe),color:Pn(BNe)},notes:Math.random()>.7?"  ":void 0,createdAt:zu(f),updatedAt:zu(D8(f,Hr(1,60)))};return o.push(T),o}const v=l===null?u:`${u}  ${d+1}`,y={id:uh("comp_"),engineId:a,parentId:l,name:v,code:c===0?`ASM-${Hr(100,999)}-${d+1}`:`SUB-${Hr(100,999)}-${c}-${d+1}`,type:"assembly",level:c,orderIndex:d,quantity:l===null?1:Hr(1,2),unit:"SET",supplier:Pn(pQ),cost:Hr(1e5,5e6)*(1/(c+1)),leadTime:Hr(20,90)-c*5,status:Pn(gQ),createdAt:zu(f),updatedAt:zu(D8(f,Hr(1,60)))};o.push(y);const A=Math.max(.3,1-e*.15),C=Math.max(1,Math.floor(r*A)),E=Math.max(C,Math.floor(i*A)),I=Hr(C,E);for(let D=0;D<I;D++){const T=sue({engineId:a,parentId:y.id,parentName:v,level:c+1,orderIndex:D,createdAt:f,availableParts:p},e+1,n,r,i,s*.7);o.push(...T)}return o},YNe=(t,e={})=>{const{maxDepth:n=5,minChildrenPerNode:r=2,maxChildrenPerNode:i=4,topLevelAssemblies:s=[4,7],assemblyProbability:o=.8}=e,a=[];return t.forEach(l=>{const u=new Date(l.createdAt),c=Hr(s[0],s[1]),d=[],f=[..._Ne];for(let p=0;p<c&&f.length>0;p++){const m=Hr(0,f.length-1);d.push(f.splice(m,1)[0])}d.forEach((p,m)=>{const v=sue({engineId:l.id,parentId:null,parentName:p.name,level:0,orderIndex:m,createdAt:u,availableParts:p.parts},0,n,r,i,o);a.push(...v)})}),a},XNe=(t,e,n)=>{const r=new Map;t.forEach(i=>{r.set(i.id,n.filter(s=>s.departmentId===i.id))}),t.forEach(i=>{const s=r.get(i.id)??[];i.managerUserId=s.length>0?Pn(s).id:void 0}),e.forEach(i=>{const s=n.filter(o=>o.organizationId===i.id);i.primaryContactUserId=s.length>0?Pn(s).id:void 0})},JNe=t=>{console.time(" Mock  ");const e={organizationCount:10,projectCount:60,userCount:1e4,bomMaxDepth:5,bomMinChildrenPerNode:2,bomMaxChildrenPerNode:4,bomTopLevelAssemblies:[4,7],bomAssemblyProbability:.8,...t};try{const n=zNe(),r=ONe(n),i=jNe(e.organizationCount),s=QNe(i,3,6),o=UNe(i,s,e.projectCount),a=VNe({count:e.userCount,organizations:i,departments:s,roles:r}),l=GNe({users:a,projects:o,roles:r}),u=KNe({users:a,projects:o,organizations:i}),c=WNe({organizations:i,roles:r,users:a}),d=qNe(o,a),f=YNe(d,{maxDepth:e.bomMaxDepth,minChildrenPerNode:e.bomMinChildrenPerNode,maxChildrenPerNode:e.bomMaxChildrenPerNode,topLevelAssemblies:e.bomTopLevelAssemblies,assemblyProbability:e.bomAssemblyProbability});return XNe(s,i,a),{permissions:n,roles:r,organizations:i,departments:s,projects:o,users:a,projectMemberships:l,auditLogs:u,invitations:c,engines:d,components:f}}catch(n){throw console.error(" Mock   :",n),console.timeEnd(" Mock  "),n instanceof Error&&(console.error(" :",n.message),console.error(" :",n.stack)),new Error(`Mock     : ${n}`)}},Df=JNe(),Zh=Df.users,T8=Df.organizations,M8=Df.departments,yD=Df.projects,k8=Df.permissions,P8=Df.roles,R8=Df.projectMemberships,N8=Df.auditLogs,L8=Df.invitations,PE=Df.engines,Ux=Df.components,ZNe=()=>Zh.slice(0,100).map((t,e)=>({id:e+1,name:t.name,username:t.name.replace(/\s+/g,"").toLowerCase()+(e+1),email:t.email,address:{street:t.address.split(" ")[0]+" "+(t.address.split(" ")[1]||""),suite:`Apt. ${Hr(100,999)}`,city:t.address.includes("")?t.address.split(" ")[0]:"",zipcode:`${Hr(1e4,99999)}`,geo:{lat:(37.5+Math.random()*.5).toFixed(4),lng:(126.9+Math.random()*.5).toFixed(4)}},phone:t.phone,website:`${t.name.toLowerCase().replace(/\s+/g,"")}.${Pn(["com","net","org","io"])}`,company:{name:t.company,catchPhrase:`${Pn(["","","",""])} ${Pn(["","","",""])}`,bs:`${Pn(["e-commerce","cloud computing","AI-driven","blockchain"])} ${Pn(["solutions","platforms","services","infrastructure"])}`}})),e6e=()=>{const t=["  ","  ","  ","  ","  ","  "," ","  "];return Array.from({length:100},(e,n)=>({id:n+1,userId:n%10+1,title:`${Pn(t)} - ${n+1}`,body:` ${n+1} . Lorem ipsum dolor sit amet, consectetur adipiscing elit. 
    Sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. 
    Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris.`}))},t6e=()=>{const t=[" ",""," "," "," "];return Array.from({length:500},(e,n)=>({id:n+1,postId:n%100+1,name:`${Pn(t)} -  ${n+1}`,email:`commenter${n+1}@example.com`,body:`${Pn(t)}.  ${n+1} . 
    Lorem ipsum dolor sit amet, consectetur adipiscing elit.`}))},n6e=()=>{const t=[" "," "," "," "," "];return Array.from({length:100},(e,n)=>({id:n+1,userId:n%10+1,title:`${Pn(t)} ${Math.floor(n/10)+1}`}))},r6e=()=>{const t=["92c952","771796","d32776","f66b97","24f355","e8a838"];return Array.from({length:300},(e,n)=>({id:n+1,albumId:n%100+1,title:` ${n+1}`,url:`https://via.placeholder.com/600/${Pn(t)}`,thumbnailUrl:`https://via.placeholder.com/150/${Pn(t)}`}))},i6e=()=>{const t=[" "," "," "," "," "," "," "];return Array.from({length:200},(e,n)=>({id:n+1,userId:n%10+1,title:`${Pn(t)} - ${n+1}`,completed:Math.random()>.5}))},F8=ZNe(),$8=e6e(),z8=t6e(),O8=n6e(),j8=r6e(),Q8=i6e(),U8=(t,e)=>{const n=e.filter(o=>o.engineId===t),r=new Map(n.map(o=>[o.id,{...o,children:[]}])),i=[];n.forEach(o=>{const a=r.get(o.id);if(o.parentId===null)i.push(a);else{const l=r.get(o.parentId);l&&l.children.push(a)}});const s=o=>{o.sort((a,l)=>a.orderIndex-l.orderIndex),o.forEach(a=>{a.children.length>0&&s(a.children)})};return s(i),i},H8=(t,e,n)=>e.filter(i=>i.projectId===t).map(i=>{const s=n.filter(c=>c.engineId===i.id),o=s.filter(c=>c.type==="assembly"&&c.level===0),a=s.filter(c=>c.type==="part"),l=s.reduce((c,d)=>c+d.cost*d.quantity,0),u=Math.max(...s.map(c=>c.level),0);return{engine:i,assembliesCount:o.length,totalPartsCount:a.length,totalComponentsCount:s.length,estimatedTotalCost:l,maxTreeDepth:u+1}}),s6e=async(t,e)=>(console.log(" Fetching mock data from path:",t,"with params:",e),await new Promise(n=>setTimeout(n,300)),t==="/countries"||t==="/api/countries"?o6e(e):t==="/cities"||t==="/api/cities"?a6e(e):t==="/categories"||t==="/api/categories"?l6e(e):t==="/products"||t==="/api/products"?u6e(e):t==="/status"||t==="/api/status"?c6e(e):t==="/priorities"||t==="/api/priorities"?d6e(e):t==="/tags"||t==="/api/tags"?h6e(e):t==="/languages"||t==="/api/languages"?f6e(e):t==="/currencies"||t==="/api/currencies"?p6e(e):t==="/timezones"||t==="/api/timezones"?g6e(e):t==="/permissions"||t==="/api/permissions"?m6e(e):t==="/roles"||t==="/api/roles"?A6e(e):t==="/departments"||t==="/api/departments"?y6e(e):t==="/organizations"||t==="/api/organizations"?v6e(e):t==="/projects"||t==="/api/projects"?b6e(e):t==="/project-memberships"||t==="/api/project-memberships"?x6e(e):t==="/audit-logs"||t==="/api/audit-logs"?C6e(e):t==="/invitations"||t==="/api/invitations"?E6e(e):t==="/engines"||t==="/api/engines"?S6e(e):t==="/components"||t==="/api/components"?w6e(e):t==="/component-tree"||t==="/api/component-tree"?_6e(e):t==="/engine-summary"||t==="/api/engine-summary"?I6e(e):B6e(t,e)),o6e=t=>{const e=[{id:"kr",name:"",code:"KR",continent:""},{id:"us",name:"",code:"US",continent:""},{id:"jp",name:"",code:"JP",continent:""},{id:"cn",name:"",code:"CN",continent:""},{id:"uk",name:"",code:"GB",continent:""},{id:"fr",name:"",code:"FR",continent:""},{id:"de",name:"",code:"DE",continent:""},{id:"ca",name:"",code:"CA",continent:""},{id:"au",name:"",code:"AU",continent:""},{id:"sg",name:"",code:"SG",continent:""}];return console.log(` /countries : ${e.length}  `),Ts(e,t)},a6e=t=>{const e=[{id:"seoul",name:"",country:"",population:9720846},{id:"busan",name:"",country:"",population:3413841},{id:"tokyo",name:"",country:"",population:1396e4},{id:"newyork",name:"",country:"",population:8336817},{id:"london",name:"",country:"",population:8982e3},{id:"paris",name:"",country:"",population:2165423},{id:"beijing",name:"",country:"",population:2154e4},{id:"shanghai",name:"",country:"",population:2428e4},{id:"singapore",name:"",country:"",population:5685807},{id:"sydney",name:"",country:"",population:5312163}];return console.log(` /cities : ${e.length}  `),Ts(e,t)},l6e=t=>{const e=[{id:"electronics",name:"",icon:"",description:",  "},{id:"fashion",name:"",icon:"",description:", "},{id:"food",name:"",icon:"",description:", "},{id:"books",name:"",icon:"",description:", "},{id:"sports",name:"",icon:"",description:""},{id:"beauty",name:"",icon:"",description:", "},{id:"home",name:"/",icon:"",description:", "},{id:"toy",name:"",icon:"",description:", "}];return console.log(` /categories : ${e.length}  `),Ts(e,t)},u6e=t=>{const e=[{id:"p1",name:'MacBook Pro 16"',price:329e4,category:"",stock:15},{id:"p2",name:"iPhone 15 Pro",price:155e4,category:"",stock:42},{id:"p3",name:"AirPods Pro",price:329e3,category:"",stock:78},{id:"p4",name:"Nike Air Max",price:159e3,category:"",stock:24},{id:"p5",name:"Adidas Ultraboost",price:189e3,category:"",stock:31},{id:"p6",name:"Sony WH-1000XM5",price:449e3,category:"",stock:19},{id:"p7",name:"iPad Air",price:929e3,category:"",stock:28},{id:"p8",name:"Samsung Galaxy S24",price:119e4,category:"",stock:35}];return console.log(` /products : ${e.length}  `),Ts(e,t)},c6e=t=>{const e=[{id:"todo",name:" ",label:" ",color:"#9CA3AF"},{id:"in-progress",name:" ",label:" ",color:"#3B82F6"},{id:"review",name:"",label:"",color:"#F59E0B"},{id:"done",name:"",label:"",color:"#10B981"},{id:"blocked",name:"",label:"",color:"#EF4444"}];return console.log(` /status : ${e.length}  `),Ts(e,t)},d6e=t=>{const e=[{id:"low",name:"",label:"",icon:"",level:1},{id:"medium",name:"",label:"",icon:"",level:2},{id:"high",name:"",label:"",icon:"",level:3},{id:"urgent",name:"",label:"",icon:"",level:4}];return console.log(` /priorities : ${e.length}  `),Ts(e,t)},h6e=t=>{const e=[{id:"frontend",name:"",label:"",color:"#3B82F6"},{id:"backend",name:"",label:"",color:"#10B981"},{id:"design",name:"",label:"",color:"#F59E0B"},{id:"documentation",name:"",label:"",color:"#8B5CF6"},{id:"bug",name:"",label:"",color:"#EF4444"},{id:"feature",name:"",label:"",color:"#06B6D4"},{id:"enhancement",name:"",label:"",color:"#84CC16"},{id:"testing",name:"",label:"",color:"#EC4899"}];return console.log(` /tags : ${e.length}  `),Ts(e,t)},f6e=t=>{const e=[{id:"ko",name:"",label:"",nativeName:"",code:"ko-KR"},{id:"en",name:"",label:"",nativeName:"English",code:"en-US"},{id:"ja",name:"",label:"",nativeName:"",code:"ja-JP"},{id:"zh",name:"",label:"",nativeName:"",code:"zh-CN"},{id:"es",name:"",label:"",nativeName:"Espaol",code:"es-ES"},{id:"fr",name:"",label:"",nativeName:"Franais",code:"fr-FR"},{id:"de",name:"",label:"",nativeName:"Deutsch",code:"de-DE"},{id:"ru",name:"",label:"",nativeName:"",code:"ru-RU"}];return console.log(` /languages : ${e.length}  `),Ts(e,t)},p6e=t=>{const e=[{id:"krw",name:" ",label:" ()",code:"KRW",symbol:""},{id:"usd",name:" ",label:" ($)",code:"USD",symbol:"$"},{id:"jpy",name:" ",label:" ()",code:"JPY",symbol:""},{id:"eur",name:"",label:" ()",code:"EUR",symbol:""},{id:"gbp",name:" ",label:" ()",code:"GBP",symbol:""},{id:"cny",name:" ",label:" ()",code:"CNY",symbol:""},{id:"aud",name:" ",label:"  (A$)",code:"AUD",symbol:"A$"},{id:"cad",name:" ",label:"  (C$)",code:"CAD",symbol:"C$"}];return console.log(` /currencies : ${e.length}  `),Ts(e,t)},g6e=t=>{const e=[{id:"asia-seoul",name:"",label:" (UTC+9)",timezone:"Asia/Seoul",offset:"+09:00"},{id:"asia-tokyo",name:"",label:" (UTC+9)",timezone:"Asia/Tokyo",offset:"+09:00"},{id:"america-newyork",name:"",label:" (UTC-5)",timezone:"America/New_York",offset:"-05:00"},{id:"america-losangeles",name:"",label:" (UTC-8)",timezone:"America/Los_Angeles",offset:"-08:00"},{id:"europe-london",name:"",label:" (UTC+0)",timezone:"Europe/London",offset:"+00:00"},{id:"europe-paris",name:"",label:" (UTC+1)",timezone:"Europe/Paris",offset:"+01:00"},{id:"australia-sydney",name:"",label:" (UTC+10)",timezone:"Australia/Sydney",offset:"+10:00"},{id:"asia-dubai",name:"",label:" (UTC+4)",timezone:"Asia/Dubai",offset:"+04:00"}];return console.log(` /timezones : ${e.length}  `),Ts(e,t)},m6e=t=>(console.log(` /permissions : ${k8.length} `),Ts(k8,t)),A6e=t=>(console.log(` /roles : ${P8.length} `),Ts(P8,t)),y6e=t=>(console.log(` /departments : ${M8.length} `),Ts(M8,t)),v6e=t=>(console.log(` /organizations : ${T8.length} `),Ts(T8,t)),b6e=t=>(console.log(` /projects : ${yD.length} `),Ts(yD,t)),x6e=t=>(console.log(` /project-memberships : ${R8.length} `),Ts(R8,t)),C6e=t=>(console.log(` /audit-logs : ${N8.length} `),Ts(N8,t)),E6e=t=>(console.log(` /invitations : ${L8.length} `),Ts(L8,t)),S6e=t=>(console.log(` /engines : ${PE.length} `),Ts(PE,t)),w6e=t=>(console.log(` /components : ${Ux.length} `),Ts(Ux,t)),_6e=t=>{const e=t?.engineId;if(e){const r=U8(e,Ux);return console.log(` /component-tree : Engine ${e}   `),r}const n=PE[0];if(n){const r=U8(n.id,Ux);return console.log(` /component-tree :  Engine ${n.id}   `),r}return[]},I6e=t=>{const e=t?.projectId;if(e){const r=H8(e,PE,Ux);return console.log(` /engine-summary : Project ${e}   `),r}const n=yD[0];if(n){const r=H8(n.id,PE,Ux);return console.log(` /engine-summary :  Project ${n.id}   `),r}return[]},B6e=(t,e)=>{let n=Zh;if(t==="/users"||t==="/api/users")return console.log(` /users : JSONPlaceholder   ${F8.length} `),Ts(F8,e);if(t==="/cms-users"||t==="/api/cms-users")n=Zh.filter(r=>r.role.includes("")||r.role.includes("")||r.role.includes("")),console.log(` /cms-users : CMS   ${n.length} `);else if(t==="/admins"||t==="/api/admins"||t==="/api/users/admins")n=Zh.filter(r=>r.role.includes("")||r.role.includes("")||r.role.includes("")),console.log(` /admins :   ${n.length} `);else if(t==="/companies"||t==="/api/companies")n=[...new Set(Zh.map(i=>i.company))].map((i,s)=>({id:s+1,name:i,company:i,employeeCount:Zh.filter(o=>o.company===i).length})),console.log(` /companies :   ${n.length} `);else if(t==="/company-employees"||t==="/api/company-employees"){const r=["","",""];n=Zh.filter(i=>r.includes(i.company)),console.log(` /company-employees :    ${n.length} `)}else if(t==="/developers"||t==="/api/developers"||t==="/api/users/developers")n=Zh.filter(r=>r.role.includes("")),console.log(` /developers :   ${n.length} `);else if(t==="/managers"||t==="/api/managers"||t==="/api/users/managers")n=Zh.filter(r=>r.role.includes("")),console.log(` /managers :   ${n.length} `);else if(t==="/products"||t==="/api/products")n=Zh.filter(r=>r.role.includes("")||r.role.includes("")||r.role.includes("")),console.log(` /products :    ${n.length} `);else{if(t==="/posts"||t==="/api/posts")return console.log(` /posts :   ${$8.length} `),Ts($8,e);if(t==="/comments"||t==="/api/comments")return console.log(` /comments :   ${z8.length} `),Ts(z8,e);if(t==="/albums"||t==="/api/albums")return console.log(` /albums :   ${O8.length} `),Ts(O8,e);if(t==="/photos"||t==="/api/photos")return console.log(` /photos :   ${j8.length} `),Ts(j8,e);if(t==="/todos"||t==="/api/todos")return console.log(` /todos :   ${Q8.length} `),Ts(Q8,e);console.log(`       :   ${n.length} `)}if(e&&typeof e.search=="string"){const r=e.search.toLowerCase();n=Zh.filter(i=>i.name.toLowerCase().includes(r)||i.email.toLowerCase().includes(r)||i.company.toLowerCase().includes(r)||i.role.toLowerCase().includes(r))}return Ts(n,e)},Ts=(t,e)=>{if(e&&e.getAll===!0)return console.log(` Returning all data: ${t.length} items`),t;if(e&&typeof e.page=="number"&&typeof e.limit=="number"){const n=e.page,r=e.limit,i=(n-1)*r,s=i+r,o=t.length,a=Math.min(s,o)-i;console.log(` Pagination: page ${n}, limit ${r}, startIndex ${i}, endIndex ${s}`),console.log(` Total data: ${o}, returning: ${a} items`);const l=t.slice(i,s);return Object.assign(l,{__meta:{totalItems:o,currentPage:n,itemsPerPage:r,hasNextPage:s<o,startIndex:i,endIndex:s}}),l}return console.log(` Returning all data (default): ${t.length} items`),t},Yw={MOCK_DATA:s6e},oue=Object.freeze(Object.defineProperty({__proto__:null,BaseApiService:cS,ElementsApiService:tue,PagesApiService:rue,ProjectsApiService:nue,apiConfig:Yw,buildComponentTree:U8,cmsMockData:Df,elementsApi:sh,getProjectEnginesSummary:H8,largeMockData:Zh,mockAlbums:O8,mockAuditLogs:N8,mockComments:z8,mockComponents:Ux,mockDepartments:M8,mockEngines:PE,mockInvitations:L8,mockJsonPlaceholderUsers:F8,mockOrganizations:T8,mockPermissions:k8,mockPhotos:j8,mockPosts:$8,mockProjectMemberships:R8,mockProjects:yD,mockRoles:P8,mockTodos:Q8,pagesApi:Qx,projectsApi:x0},Symbol.toStringTag,{value:"Module"}));class js{static generateId(){return crypto.randomUUID()}static async delay(e=0){return new Promise(n=>setTimeout(n,e))}static findBodyElement(e,n){return e.find(i=>i.page_id===n&&i.tag==="body")?.id||null}static findLayoutBodyElement(e,n){return e.find(i=>i.layout_id===n&&i.tag==="body")?.id||null}static findBodyByContext(e,n,r){return r?this.findLayoutBodyElement(e,r):n?this.findBodyElement(e,n):null}static migrateOrphanElementsToBody(e,n){const r=e.find(a=>a.page_id===n&&a.tag==="body");if(!r)return console.warn(` Body    : pageId=${n}`),{elements:e,updatedElements:[]};const i=e.filter(a=>a.page_id===n&&a.parent_id===null&&a.tag!=="body");if(i.length===0)return{elements:e,updatedElements:[]};console.log(` ${i.length}   body :`,{pageId:n,bodyId:r.id,orphanIds:i.map(a=>a.id)});const s=i.map(a=>({...a,parent_id:r.id}));return{elements:e.map(a=>s.find(u=>u.id===a.id)||a),updatedElements:s}}static getDescendants(e,n){const r=e.filter(s=>s.parent_id===n),i=[...r];return r.forEach(s=>{i.push(...this.getDescendants(e,s.id))}),i}static isAncestor(e,n,r){let i=e.find(s=>s.id===r);for(;i;){if(i.parent_id===n)return!0;i=e.find(s=>s.id===i.parent_id)}return!1}static getElementPath(e,n){const r=[];let i=e.find(s=>s.id===n);for(;i;)r.unshift(i),i=e.find(s=>s.id===i.parent_id);return r}}const D6e=Object.freeze(Object.defineProperty({__proto__:null,ElementUtils:js},Symbol.toStringTag,{value:"Module"})),mQ=(t,e,n)=>n?`react-aria-Table ${n}`:"react-aria-Table";xe.memo(function(e){const{className:n,tableHeaderElementId:r,variant:i="primary",size:s="md",dataBinding:o,data:a,apiUrlKey:l,customApiUrl:u,endpointPath:c,enableAsyncLoading:d=!1,dataMapping:f,apiParams:p,columns:m,columnGroups:v=[],paginationMode:y="pagination",itemsPerPage:A=500,height:C=400,heightMode:E="fixed",heightUnit:I="px",viewportHeight:D=50,rowHeight:T=38,overscan:M=10,sortColumn:P,sortDirection:k="ascending",enableResize:L=!0,onColumnsDetected:$,onItemsPerPageChange:z,isLoading:j,skeletonRowCount:H=5}=e,{data:W}=F$({dataBinding:o,componentName:"Table",fallbackData:[]}),O=o&&"source"in o&&"name"in o&&!("type"in o),G=!O&&o&&"type"in o&&o.type==="collection"||O,q=xe.useMemo(()=>G&&W.length>0?(console.log(" Table: DataBinding  ",W.length,"items"),W):a,[G,W,a]),J=y||"pagination",te=q&&Array.isArray(q)&&q.length>0,Y=d===!0&&!te&&!!l&&!!c&&(c?.trim().length??0)>0;xe.useEffect(()=>{console.log(" Table isAsync :",{enableAsyncLoading:d,staticData:a&&`Array(${a.length})`,hasValidStaticData:te,apiUrlKey:l,endpointPath:c,isAsync:Y})},[d,a,te,l,c,Y]);const Z=J==="pagination",ee=xe.useCallback((ct,Bt)=>{if(!Bt){const Rt=Array.isArray(ct)?ct:[];return{items:Rt,total:Rt.length}}try{const Rt=ct;let Ht;if(Bt.resultPath){const rn=Rt[Bt.resultPath];Array.isArray(rn)?Ht=rn:Ht=Array.isArray(ct)?ct:[]}else Ht=Array.isArray(ct)?ct:[];const Vn=Ht.map((rn,ln)=>{const nr=rn;return{...nr,id:Bt.idKey?nr[Bt.idKey]:nr.id||ln}}),In=Bt.totalKey&&Rt[Bt.totalKey]||Ht.length;return{items:Vn,total:In}}catch(Rt){console.error(" Data mapping error:",Rt);const Ht=Array.isArray(ct)?ct:[];return{items:Ht,total:Ht.length}}},[]),ie=xe.useMemo(()=>{switch(E){case"auto":return"auto";case"fixed":return`${C}${I}`;case"viewport":return`${D}vh`;case"full":return"100vh";default:return`${C}px`}},[E,C,I,D]),ue=xe.useMemo(()=>!P||P===""?[]:[{id:String(P),desc:k==="descending"}],[P,k]),[ae,de]=xe.useState(ue),[ge,_e]=xe.useState([]),we=xe.useCallback(ct=>{if(!ct||ct.length===0)return[];const Bt=ct[0];return Object.keys(Bt).map(Ht=>({key:Ht,label:Ht.charAt(0).toUpperCase()+Ht.slice(1).replace(/_/g," "),allowsSorting:!0,enableResizing:!0,width:150,align:"left",elementId:js.generateId()}))},[]);xe.useEffect(()=>{if(!Y&&m.length===0&&q&&q.length>0&&ge.length===0){const ct=we(q);_e(ct),console.log(" Static    :",ct),$&&$(ct)}},[q,m.length,Y,we,$,ge.length]);const ke=xe.useMemo(()=>{const ct=m.length>0?m:ge;if(ct.length===0)return[];const Bt=V5e();if(v.length===0)return ct.map(ln=>Bt.accessor(nr=>nr[String(ln.key)],{id:String(ln.key),header:()=>h.jsx("span",{style:{fontWeight:"500",fontSize:"13px",color:"#374151"},children:ln.label}),size:ln.width??150,minSize:ln.minWidth,maxSize:ln.maxWidth,enableSorting:ln.allowsSorting??!0,enableResizing:ln.enableResizing??!0,cell:nr=>{const yr=nr.getValue();return yr&&typeof yr=="object"&&!xe.isValidElement(yr)?JSON.stringify(yr):yr}}));const Rt=[];let Ht=0;const Vn=[...v].sort((rn,ln)=>rn.order_num!==void 0&&ln.order_num!==void 0?rn.order_num-ln.order_num:rn.span-ln.span),In=[...ct].sort((rn,ln)=>rn.order_num!==void 0&&ln.order_num!==void 0?rn.order_num-ln.order_num:0);for(const rn of Vn){const ln=In.slice(Ht,Ht+rn.span);if(ln.length>0){const nr=ln.map(zr=>Bt.accessor(ii=>ii[String(zr.key)],{id:String(zr.key),header:()=>h.jsx("span",{style:{},children:zr.label}),size:zr.width??150,minSize:zr.minWidth,maxSize:zr.maxWidth,enableSorting:zr.allowsSorting??!0,enableResizing:zr.enableResizing??!0,cell:ii=>{const Or=ii.getValue();return Or&&typeof Or=="object"&&!xe.isValidElement(Or)?JSON.stringify(Or):Or}})),yr=Bt.group({id:`group-${rn.id}`,header:()=>h.jsx("span",{style:{color:rn.variant==="primary"?"#ffffff":"#374151",backgroundColor:rn.variant==="primary"?"#3b82f6":rn.variant==="secondary"?"#6b7280":"#f8fafc",textAlign:rn.align||"center"},children:rn.label}),columns:nr,meta:{isGroupHeader:!0,align:rn.align||"center",variant:rn.variant||"default",sticky:rn.sticky||!1,elementId:rn.id}});Rt.push(yr)}Ht+=rn.span}if(Ht<In.length){const rn=In.slice(Ht);for(const ln of rn)Rt.push(Bt.accessor(nr=>nr[String(ln.key)],{id:String(ln.key),header:()=>h.jsx("span",{style:{fontWeight:"500",fontSize:"13px",color:"#374151"},children:ln.label}),size:ln.width??150,minSize:ln.minWidth,maxSize:ln.maxWidth,enableSorting:ln.allowsSorting??!0,enableResizing:ln.enableResizing??!0,cell:nr=>{const yr=nr.getValue();return yr&&typeof yr=="object"&&!xe.isValidElement(yr)?JSON.stringify(yr):yr}}))}return Rt},[m,v,ge]),Fe=xe.useMemo(()=>m.length>0?m:ge,[m,ge]),[Ee,Me]=xe.useState(0),[Ue,Ge]=xe.useState(null),[ut,ve]=xe.useState([]),[$e,gt]=xe.useState(A),[it,ot]=xe.useState([]),[le,se]=xe.useState(void 0),[Se,De]=xe.useState(!0),[Be,ze]=xe.useState(!1),[kt,Et]=xe.useState(0),zt=xe.useMemo(()=>{if(Y||!q)return q||[];if(J!=="pagination")return q;const ct=kt*$e,Bt=ct+$e;return q.slice(ct,Bt)},[Y,q,J,kt,$e]),Mt=xe.useMemo(()=>Y||!q?0:Math.ceil(q.length/$e),[Y,q,$e]);xe.useEffect(()=>{gt(A)},[A]),xe.useEffect(()=>{if(Y&&m.length===0&&ut&&ut.length>0&&ge.length===0){const ct=we(ut);_e(ct),console.log(" API    :",ct),$&&$(ct)}},[ut,m.length,Y,we,$,ge.length]);const at=xe.useRef(!1),At=xe.useCallback(async(ct,Bt)=>{if(!Y||!l||!c)return console.log(" fetchPage :",{isAsync:Y,apiUrlKey:l,endpointPath:c}),{items:[],total:0};if(console.log(" fetchPage :",{apiUrlKey:l,endpointPath:c,nextIndex:ct,pageSize:Bt,availableKeys:Object.keys(Yw)}),at.current)return console.log(" Fetch already in progress, skipping..."),{items:[],total:0};const Rt=l==="CUSTOM",Ht=Rt?null:Yw[l];if(!Rt&&!Ht)return console.error(" API    :",{apiUrlKey:l,availableKeys:Object.keys(Yw)}),{items:[],total:0};if(Rt&&!u)return console.error(" Custom URL  "),{items:[],total:0};at.current=!0,ze(!0);try{const Vn=ae[0]?{sortBy:ae[0].id,desc:ae[0].desc}:void 0,In=Bt??$e,rn={...p||{},...Vn,page:ct+1,limit:In};console.log(" API  :",rn,"nextIndex:",ct);let ln;if(Rt&&u){const Or=`${u}${c}`,Wn=new URLSearchParams(Object.entries(rn).reduce((ua,[ul,Tc])=>(ua[ul]=String(Tc),ua),{})).toString(),Hi=Wn?`${Or}?${Wn}`:Or;console.log(" Custom API :",Hi);const fs=await fetch(Hi);if(!fs.ok)throw new Error(`HTTP ${fs.status}: ${fs.statusText}`);ln=await fs.json()}else if(Ht)ln=await Ht(c,rn);else throw new Error("API   ");console.log(" API :",{responseType:Array.isArray(ln)?"Array":typeof ln,responseLength:Array.isArray(ln)?ln.length:"N/A",dataMapping:f});const{items:nr,total:yr}=ee(ln,f);if(console.log(" processApiResponse :",{itemsLength:nr.length,total:yr,firstItem:nr[0]}),m.length===0&&nr.length>0){const Or=we(nr);_e(Or),console.log("   :",Or),$&&$(Or)}else console.log("    :",{columnsLength:m.length,itemsLength:nr.length});const zr=ln.__meta;let ii=yr;return zr&&typeof zr.totalItems=="number"&&(ii=zr.totalItems,console.log(" API   (Pagination):",{totalItems:zr.totalItems,currentPage:zr.currentPage,itemsPerPage:zr.itemsPerPage})),{items:nr,total:ii}}finally{ze(!1),at.current=!1}},[Y,l,u,c,$e,ae,ee,f,p,m.length,we,_e,$]),Pt=xe.useCallback(async ct=>{if(!Y||!l||!c)return{items:[],nextCursor:void 0};if(at.current)return console.log(" Fetch already in progress, skipping..."),{items:[],nextCursor:void 0};const Bt=l==="CUSTOM",Rt=Bt?null:Yw[l];at.current=!0,ze(!0);try{const Ht=ct?parseInt(ct,10):1,Vn=ae[0]?{sortBy:ae[0].id,desc:ae[0].desc}:void 0,In={page:Ht,limit:$e,...Vn};let rn;if(Bt&&u){const yr=`${u}${c}`,zr=new URLSearchParams(Object.entries(In).reduce((Wn,[Hi,fs])=>(Wn[Hi]=String(fs),Wn),{})).toString(),ii=zr?`${yr}?${zr}`:yr;console.log(" Custom API  (fetchMore):",ii);const Or=await fetch(ii);if(!Or.ok)throw new Error(`HTTP ${Or.status}: ${Or.statusText}`);rn=await Or.json()}else if(Rt)rn=await Rt(c,In);else throw new Error("API   ");console.log(" API  (fetchMore):",{responseType:Array.isArray(rn)?"Array":typeof rn,responseLength:Array.isArray(rn)?rn.length:"N/A",dataMapping:f});const{items:ln}=ee(rn,f);if(console.log(" processApiResponse  (fetchMore):",{itemsLength:ln.length,firstItem:ln[0]}),m.length===0&&ln.length>0){const yr=we(ln);_e(yr),console.log("    (fetchMore):",yr),$&&$(yr)}else console.log("     (fetchMore):",{columnsLength:m.length,itemsLength:ln.length});if(!ln||ln.length===0)return{items:[],nextCursor:void 0};const nr=ln.length===$e?String(Ht+1):void 0;return{items:ln,nextCursor:nr}}finally{ze(!1),at.current=!1}},[Y,l,u,c,$e,ae,ee,f,m.length,we,_e,$]),wt=xe.useRef(null),Lt=xe.useRef(!1),un=xe.useRef(J),Oe=xe.useRef({apiUrlKey:l,customApiUrl:u,endpointPath:c,isAsync:Y}),Wt=xe.useRef(q);xe.useEffect(()=>{Wt.current!==q&&(Wt.current=q,_e([]),console.log(" Static    -    "))},[q]),xe.useEffect(()=>{const ct=un.current!==J,Bt=Oe.current.apiUrlKey!==l||Oe.current.customApiUrl!==u||Oe.current.endpointPath!==c||Oe.current.isAsync!==Y;if((ct||Bt)&&(Lt.current=!1,un.current=J,Oe.current={apiUrlKey:l,customApiUrl:u,endpointPath:c,isAsync:Y},ve([]),ot([]),Me(0),Ge(null),se(void 0),De(!0),_e([]),console.log("     -    ")),!Y){console.log(" isAsync=false, API  ");return}if(!l||!c||c.trim().length===0){console.log(" API  , API  :",{apiUrlKey:l,endpointPath:c});return}if(Lt.current){console.log(" Initial load already in progress, skipping duplicate effect");return}Lt.current=!0,J==="pagination"?(async()=>{const{items:Rt,total:Ht}=await At(0);ve(Rt),Me(0),Ge(Math.max(1,Math.ceil((Ht||0)/$e))),Lt.current=!1})():(async()=>{ot([]),se(void 0),De(!0);const{items:Rt,nextCursor:Ht}=await Pt("1");ot(Rt),se(Ht),De(!!Ht),wt.current&&Ht&&setTimeout(()=>{if(!wt.current)return;const Vn=wt.current;Vn.scrollHeight<=Vn.clientHeight+10&&(console.log(" Loading more to fill viewport: page 2"),Pt(Ht).then(In=>{ot(rn=>[...rn,...In.items]),se(In.nextCursor),De(!!In.nextCursor)}))},100),Lt.current=!1})()},[Y,J,$e,l,u,c,d]);const Vt=xe.useMemo(()=>{if(q){if(ae.length===0)return q;const ct=ae[0],Bt=ct?.id;return[...q].sort((Ht,Vn)=>{const In=Ht[Bt],rn=Vn[Bt];return In==null&&rn==null?0:In==null?-1:rn==null?1:In<rn?ct.desc?1:-1:In>rn?ct.desc?-1:1:0})}return!Y&&J==="pagination"?zt:J==="pagination"?ut:it},[q,ae,J,ut,it,Y,zt]),Xt=Fke({data:Vt,columns:ke,state:{sorting:ae},onSortingChange:de,getCoreRowModel:kke(),getSortedRowModel:Pke(),enableColumnResizing:L,columnResizeMode:"onChange",debugTable:!1,manualSorting:!1}),It=Xt.getRowModel().rows,St=H5e({count:It.length,estimateSize:()=>T,getScrollElement:()=>wt.current,measureElement:typeof window<"u"&&navigator.userAgent.indexOf("Firefox")===-1?ct=>ct?.getBoundingClientRect().height:void 0,overscan:Math.max(M,5)}),qt=xe.useCallback(ct=>{if(!Y||J!=="infinite"||!ct||!Se||Be)return;const{scrollHeight:Bt,scrollTop:Rt,clientHeight:Ht}=ct;Bt-Rt-Ht<500&&(console.log(" Scroll triggered load"),(async()=>{const Vn=le??"1",{items:In,nextCursor:rn}=await Pt(Vn);ot(ln=>[...ln,...In]),se(rn),De(!!rn)})())},[Y,J,Se,le,Be,Pt]);if(j){const ct=Math.max(m.length,3);return h.jsx("div",{className:mQ(i,s,n),"data-variant":i,"data-size":s,role:"grid","aria-busy":"true","aria-label":"Loading table...",children:h.jsx("div",{className:"react-aria-TableVirtualizer",style:{height:ie,overflow:"hidden"},children:h.jsxs("table",{style:{display:"grid",width:"100%"},children:[h.jsx("thead",{className:"react-aria-TableHeader",style:{display:"grid"},children:h.jsx("tr",{className:"react-aria-Row",style:{display:"flex",width:"100%"},children:Array.from({length:ct}).map((Bt,Rt)=>h.jsx("th",{className:"react-aria-Column",style:{flex:1,padding:"8px 12px"},children:h.jsx(Up,{variant:"text",width:"60%",height:16})},Rt))})}),h.jsx("tbody",{className:"react-aria-TableBody",style:{display:"grid"},children:Array.from({length:H}).map((Bt,Rt)=>h.jsx("tr",{className:"react-aria-Row",style:{display:"flex",width:"100%"},children:Array.from({length:ct}).map((Ht,Vn)=>h.jsx("td",{className:"react-aria-Cell",style:{flex:1,padding:"8px 12px"},children:h.jsx(Up,{componentVariant:"table-cell",size:s,index:Rt})},Vn))},Rt))})]})})})}return h.jsxs(h.Fragment,{children:[h.jsx("div",{"data-element-id":e["data-element-id"],className:mQ(i,s,n),"data-variant":i,"data-size":s,role:"grid","aria-rowcount":It.length,"aria-colcount":Xt.getAllLeafColumns().length,children:h.jsx("div",{ref:wt,className:"react-aria-TableVirtualizer",onScroll:ct=>qt(ct.currentTarget),style:{height:ie,overflow:"auto",position:"relative"},children:h.jsxs("table",{style:{display:"grid"},children:[h.jsx("thead",{className:"react-aria-TableHeader react-aria-Resizable",role:"rowgroup","data-element-id":r,style:{display:"grid",position:"sticky",top:0,zIndex:1},children:Xt.getHeaderGroups().map(ct=>{const Bt=ct.headers.filter(Ht=>Ht.column.columnDef.meta?.isGroupHeader===!0),Rt=ct.headers.filter(Ht=>Ht.column.columnDef.meta?.isGroupHeader!==!0);return h.jsxs(xe.Fragment,{children:[Bt.length>0&&h.jsx("tr",{className:"react-aria-Row column-group-row",role:"row",style:{display:"flex",width:"100%"},children:Bt.map((Ht,Vn)=>{const In=Ht.column.columnDef.meta,rn=In?.align||"center",ln=In?.variant||"default",nr=In?.elementId;return h.jsx("th",{className:"react-aria-Column column-group-header",role:"columnheader","data-element-id":nr,"aria-colindex":Vn+1,colSpan:Ht.colSpan,style:{justifyContent:rn==="center"?"center":rn==="right"?"flex-end":"flex-start",textAlign:rn,width:Ht.getSize(),minWidth:Ht.getSize(),backgroundColor:ln==="primary"?"#3b82f6":ln==="secondary"?"#6b7280":"#f8fafc",color:ln!=="default"?"#ffffff":"#374151"},children:Tk(Ht.column.columnDef.header,Ht.getContext())},Ht.id)})}),Rt.length>0&&h.jsx("tr",{className:"react-aria-Row individual-column-row",role:"row",style:{display:"flex",width:"100%"},children:Rt.map((Ht,Vn)=>{const In=Fe.find(yr=>String(yr.key)===Ht.column.id),rn=In?.align??"left",ln=Ht.column.getIsSorted(),nr=In?.elementId;return h.jsxs("th",{className:"react-aria-Column individual-column",role:"columnheader","data-element-id":nr,"aria-colindex":Vn+1,"aria-sort":ln==="asc"?"ascending":ln==="desc"?"descending":"none",colSpan:Ht.colSpan,style:{justifyContent:rn==="center"?"center":rn==="right"?"flex-end":"flex-start",textAlign:rn,width:Ht.getSize(),minWidth:Ht.getSize()},children:[h.jsxs("div",{className:`flex items-center gap-2 ${Ht.column.getCanSort()?"cursor-pointer select-none hover:text-blue-600":""}`,onClick:Ht.column.getToggleSortingHandler(),onKeyDown:yr=>{(yr.key==="Enter"||yr.key===" ")&&(yr.preventDefault(),Ht.column.toggleSorting())},tabIndex:0,style:{width:"100%",display:"flex",alignItems:"center",justifyContent:"inherit",gap:"8px"},children:[h.jsx("span",{style:{fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit"},children:Tk(Ht.column.columnDef.header,Ht.getContext())}),Ht.column.getIsSorted()==="asc"?h.jsx(Q_,{size:16,style:{color:"#3b82f6"}}):Ht.column.getIsSorted()==="desc"?h.jsx(ho,{size:16,style:{color:"#3b82f6"}}):null]}),L&&Ht.column.getCanResize()&&h.jsx("div",{role:"separator","aria-orientation":"vertical","aria-label":"Resize column",onMouseDown:Ht.getResizeHandler(),onTouchStart:Ht.getResizeHandler(),className:"react-aria-ColumnResizer"})]},Ht.id)})})]},ct.id)})}),h.jsx("tbody",{className:"react-aria-TableBody",role:"rowgroup",style:{display:"grid",height:`${St.getTotalSize()}px`,position:"relative"},children:St.getVirtualItems().map(ct=>{const Bt=It[ct.index];return Bt?h.jsx("tr",{className:"react-aria-Row",role:"row","aria-rowindex":ct.index+1,ref:Rt=>St.measureElement?.(Rt),style:{display:"flex",position:"absolute",transform:`translateY(${ct.start}px)`,width:"100%"},tabIndex:0,children:Bt.getVisibleCells().map((Rt,Ht)=>{const Vn=Fe.find(In=>String(In.key)===Rt.column.id)?.align??"left";return h.jsx("td",{className:"react-aria-Cell",role:"gridcell","aria-colindex":Ht+1,style:{textAlign:Vn,width:Rt.column.getSize()},children:Tk(Rt.column.columnDef.cell,Rt.getContext())},Rt.id)})},Bt.id):null})})]})})}),Z&&(Y&&Ue!==null||q&&q.length>0)&&h.jsx("div",{className:"react-aria-Pagination",children:Y&&Ue!==null?h.jsxs(h.Fragment,{children:[h.jsxs("div",{className:"react-aria-PageInfo",children:[Ee*$e+1," to"," ",Math.min((Ee+1)*$e,ut.length+Ee*$e)," ","of ",Ue*$e," entries"]}),h.jsxs("div",{className:"react-aria-PageNavigation",children:[h.jsx(Kn,{onClick:async()=>{const{items:ct,total:Bt}=await At(0,$e);ve(ct),Me(0),Ge(Math.max(1,Math.ceil((Bt||0)/$e)))},isDisabled:Ee===0||Be,className:"react-aria-PageButton","aria-label":"First page",size:"sm",children:h.jsx(K7,{size:16})}),h.jsx(Kn,{onClick:async()=>{const ct=Math.max(0,Ee-1),{items:Bt}=await At(ct,$e);ve(Bt),Me(ct)},isDisabled:Ee===0||Be,className:"react-aria-PageButton","aria-label":"Previous page",size:"sm",children:h.jsx(KB,{size:16})}),h.jsx("div",{className:"react-aria-PageNumbers",children:(()=>{const ct=Ue,Bt=Ee+1,Rt=5;let Ht=Math.max(1,Bt-Math.floor(Rt/2));const Vn=Math.min(ct,Ht+Rt-1);Vn-Ht<Rt-1&&(Ht=Math.max(1,Vn-Rt+1));const In=[];for(let rn=Ht;rn<=Vn;rn++)In.push(h.jsx(Kn,{onClick:async()=>{const ln=rn-1,{items:nr}=await At(ln,$e);ve(nr),Me(ln)},isDisabled:Be,className:`react-aria-PageButton ${rn===Bt?"active":""}`,size:"sm",children:rn},rn));return In})()}),h.jsx(Kn,{onClick:async()=>{const ct=Math.min((Ue??1)-1,Ee+1),{items:Bt}=await At(ct,$e);ve(Bt),Me(ct)},isDisabled:Ue===0||Ee>=Ue-1||Be,className:"react-aria-PageButton","aria-label":"Next page",size:"sm",children:h.jsx(vf,{size:16})}),h.jsx(Kn,{onClick:async()=>{const ct=(Ue??1)-1,{items:Bt}=await At(ct,$e);ve(Bt),Me(ct)},isDisabled:Ue===0||Ee>=Ue-1||Be,className:"react-aria-PageButton","aria-label":"Last page",size:"sm",children:h.jsx(a5,{size:16})})]}),h.jsxs("div",{className:"react-aria-GoToPage",children:[h.jsx("label",{htmlFor:"go-to-page-input",className:"react-aria-GoToPageLabel",children:"Go to:"}),h.jsx("input",{id:"go-to-page-input",type:"number",min:"1",max:Ue,value:Ee+1,onChange:ct=>{const Bt=Math.max(1,Math.min(Ue,Number(ct.target.value)));Me(Bt-1)},onKeyDown:async ct=>{if(ct.key==="Enter"){const Bt=Math.max(1,Math.min(Ue,Number(ct.currentTarget.value))),{items:Rt}=await At(Bt-1,$e);ve(Rt),Me(Bt-1)}},disabled:Be,className:"react-aria-GoToPageInput"}),h.jsx(Kn,{onClick:async()=>{const ct=Math.max(1,Math.min(Ue,Ee+1)),{items:Bt}=await At(ct-1,$e);ve(Bt),Me(ct-1)},isDisabled:Be,className:"react-aria-GoToPageButton",size:"sm",children:h.jsx(a5,{size:16})})]}),h.jsx("div",{className:"react-aria-PageSizeSelector",children:h.jsx(pD,{id:"page-size-select",selectedKey:$e.toString(),onSelectionChange:async ct=>{const Bt=Number(ct);gt(Bt);const{items:Rt,total:Ht}=await At(0,Bt);ve(Rt),Me(0),Ge(Math.max(1,Math.ceil((Ht||0)/Bt))),z&&z(Bt)},isDisabled:Be,className:"react-aria-PageSizeSelect",items:[{value:5,label:"5"},{value:10,label:"10"},{value:20,label:"20"},{value:50,label:"50"},{value:100,label:"100"}],children:ct=>h.jsx(nx,{id:ct.value.toString(),children:ct.label},ct.value)})}),Be&&h.jsx("span",{className:"react-aria-LoadingText",children:"Loading"})]}):q?h.jsxs(h.Fragment,{children:[h.jsxs("div",{className:"react-aria-PageInfo",children:[kt*$e+1," to"," ",Math.min((kt+1)*$e,q.length)," ","of ",q.length," entries"]}),h.jsxs("div",{className:"react-aria-PageNavigation",children:[h.jsx(Kn,{onClick:()=>Et(0),isDisabled:kt===0,className:"react-aria-PageButton","aria-label":"First page",size:"sm",children:h.jsx(K7,{size:16})}),h.jsx(Kn,{onClick:()=>Et(Math.max(0,kt-1)),isDisabled:kt===0,className:"react-aria-PageButton","aria-label":"Previous page",size:"sm",children:h.jsx(KB,{size:16})}),h.jsx("div",{className:"react-aria-PageNumbers",children:(()=>{const ct=Mt,Bt=kt+1,Rt=5;let Ht=Math.max(1,Bt-Math.floor(Rt/2));const Vn=Math.min(ct,Ht+Rt-1);Vn-Ht<Rt-1&&(Ht=Math.max(1,Vn-Rt+1));const In=[];for(let rn=Ht;rn<=Vn;rn++)In.push(h.jsx(Kn,{onClick:()=>Et(rn-1),className:`react-aria-PageButton ${rn===Bt?"active":""}`,size:"sm",children:rn},rn));return In})()}),h.jsx(Kn,{onClick:()=>Et(Math.min(Mt-1,kt+1)),isDisabled:kt>=Mt-1,className:"react-aria-PageButton","aria-label":"Next page",size:"sm",children:h.jsx(vf,{size:16})}),h.jsx(Kn,{onClick:()=>Et(Mt-1),isDisabled:kt>=Mt-1,className:"react-aria-PageButton","aria-label":"Last page",size:"sm",children:h.jsx(a5,{size:16})})]}),h.jsxs("div",{className:"react-aria-GoToPage",children:[h.jsx("label",{htmlFor:"go-to-page-input",className:"react-aria-GoToPageLabel",children:"Go to:"}),h.jsx("input",{id:"go-to-page-input",type:"number",min:"1",max:Mt,value:kt+1,onChange:ct=>{const Bt=Math.max(1,Math.min(Mt,Number(ct.target.value)));Et(Bt-1)},className:"react-aria-GoToPageInput"})]}),h.jsx("div",{className:"react-aria-PageSizeSelector",children:h.jsx(pD,{id:"page-size-select",selectedKey:$e.toString(),onSelectionChange:ct=>{const Bt=Number(ct);gt(Bt),Et(0),z&&z(Bt)},className:"react-aria-PageSizeSelect",items:[{value:5,label:"5"},{value:10,label:"10"},{value:20,label:"20"},{value:50,label:"50"},{value:100,label:"100"}],children:ct=>h.jsx(nx,{id:ct.value.toString(),children:ct.label},ct.value)})})]}):null})]})});const Gn={SYSTEM:100,NAVIGATION:90,PANELS:80,CANVAS:70,PROPERTIES:50,EVENTS:50,NODES:50},hS={undo:{key:"z",modifier:"cmd",category:"system",scope:"global",priority:Gn.SYSTEM,allowInInput:!0,capture:!0,description:"Undo",i18n:{ko:" "}},redo:{key:"z",modifier:"cmdShift",category:"system",scope:"global",priority:Gn.SYSTEM,allowInInput:!0,capture:!0,description:"Redo",i18n:{ko:" "}},zoomIn:{key:"=",modifier:"cmd",category:"navigation",scope:"global",priority:Gn.NAVIGATION,capture:!0,description:"Zoom In",i18n:{ko:""}},zoomInNumpad:{key:"+",modifier:"cmd",category:"navigation",scope:"global",priority:Gn.NAVIGATION,capture:!0,description:"Zoom In (numpad)",i18n:{ko:" ()"}},zoomOut:{key:"-",modifier:"cmd",category:"navigation",scope:"global",priority:Gn.NAVIGATION,capture:!0,description:"Zoom Out",i18n:{ko:""}},zoomToFit:{key:"0",modifier:"cmd",category:"navigation",scope:"global",priority:Gn.NAVIGATION,capture:!0,description:"Fit to Screen",i18n:{ko:" "}},zoom100:{key:"1",modifier:"cmd",category:"navigation",scope:"global",priority:Gn.NAVIGATION,capture:!0,description:"Zoom 100%",i18n:{ko:"100% "}},zoom200:{key:"2",modifier:"cmd",category:"navigation",scope:"global",priority:Gn.NAVIGATION,capture:!0,description:"Zoom 200%",i18n:{ko:"200% "}},toggleNodes:{key:"n",modifier:"ctrlShift",category:"panels",scope:"global",priority:Gn.PANELS,description:"Toggle Nodes Panel",i18n:{ko:"  "}},toggleComponents:{key:"c",modifier:"ctrlShift",category:"panels",scope:"global",priority:Gn.PANELS,description:"Toggle Components Panel",i18n:{ko:"  "}},toggleProperties:{key:"p",modifier:"ctrlShift",category:"panels",scope:"global",priority:Gn.PANELS,description:"Toggle Properties Panel",i18n:{ko:"  "}},toggleStyles:{key:"s",modifier:"ctrlShift",category:"panels",scope:"global",priority:Gn.PANELS,description:"Toggle Styles Panel",i18n:{ko:"  "}},toggleEvents:{key:"e",modifier:"ctrlShift",category:"panels",scope:"global",priority:Gn.PANELS,description:"Toggle Events Panel",i18n:{ko:"  "}},toggleHistory:{key:"h",modifier:"ctrlShift",category:"panels",scope:"global",priority:Gn.PANELS,description:"Toggle History Panel",i18n:{ko:"  "}},openSettings:{key:",",modifier:"cmd",category:"panels",scope:"global",priority:Gn.PANELS,description:"Open Settings",i18n:{ko:" "}},toggleHelp:{key:"?",modifier:"cmd",category:"panels",scope:"global",priority:Gn.PANELS,description:"Toggle Keyboard Shortcuts Help",i18n:{ko:"   "}},copy:{key:"c",modifier:"cmd",category:"canvas",scope:["canvas-focused","panel:events"],priority:Gn.CANVAS,description:"Copy",i18n:{ko:""}},paste:{key:"v",modifier:"cmd",category:"canvas",scope:["canvas-focused","panel:events"],priority:Gn.CANVAS,description:"Paste",i18n:{ko:""}},cut:{key:"x",modifier:"cmd",category:"canvas",scope:"canvas-focused",priority:Gn.CANVAS,description:"Cut",i18n:{ko:""}},duplicate:{key:"d",modifier:"cmd",category:"canvas",scope:"canvas-focused",priority:Gn.CANVAS,description:"Duplicate",i18n:{ko:""}},selectAll:{key:"a",modifier:"cmd",category:"canvas",scope:"canvas-focused",priority:Gn.CANVAS,description:"Select All",i18n:{ko:" "}},delete:{key:"Backspace",modifier:"none",category:"canvas",scope:["canvas-focused","panel:events"],priority:Gn.CANVAS,description:"Delete",i18n:{ko:""}},deleteAlt:{key:"Delete",modifier:"none",category:"canvas",scope:["canvas-focused","panel:events"],priority:Gn.CANVAS,description:"Delete",i18n:{ko:""}},escape:{key:"Escape",modifier:"none",category:"canvas",scope:["canvas-focused","panel:events","modal"],priority:Gn.CANVAS,description:"Clear Selection / Close Modal",i18n:{ko:"  /  "}},nextElement:{key:"Tab",modifier:"none",category:"canvas",scope:"canvas-focused",priority:Gn.CANVAS,description:"Next Element",i18n:{ko:" "}},prevElement:{key:"Tab",modifier:"shift",category:"canvas",scope:"canvas-focused",priority:Gn.CANVAS,description:"Previous Element",i18n:{ko:" "}},group:{key:"g",modifier:"cmd",category:"canvas",scope:"canvas-focused",priority:Gn.CANVAS,description:"Group",i18n:{ko:""}},ungroup:{key:"g",modifier:"cmdShift",category:"canvas",scope:"canvas-focused",priority:Gn.CANVAS,description:"Ungroup",i18n:{ko:" "}},alignLeft:{key:"l",modifier:"cmdShift",category:"canvas",scope:"canvas-focused",priority:Gn.CANVAS,description:"Align Left",i18n:{ko:" "}},alignHCenter:{key:"h",modifier:"cmdShift",category:"canvas",scope:"canvas-focused",priority:Gn.CANVAS-1,description:"Align Horizontal Center",i18n:{ko:"  "}},alignRight:{key:"r",modifier:"cmdShift",category:"canvas",scope:"canvas-focused",priority:Gn.CANVAS,description:"Align Right",i18n:{ko:" "}},alignTop:{key:"t",modifier:"cmdShift",category:"canvas",scope:"canvas-focused",priority:Gn.CANVAS,description:"Align Top",i18n:{ko:" "}},alignVCenter:{key:"m",modifier:"cmdShift",category:"canvas",scope:"canvas-focused",priority:Gn.CANVAS,description:"Align Vertical Center",i18n:{ko:"  "}},alignBottom:{key:"b",modifier:"cmdShift",category:"canvas",scope:"canvas-focused",priority:Gn.CANVAS,description:"Align Bottom",i18n:{ko:" "}},distributeH:{key:"d",modifier:"cmdShift",category:"canvas",scope:"canvas-focused",priority:Gn.CANVAS,description:"Distribute Horizontally",i18n:{ko:" "}},distributeV:{key:"v",modifier:"altShift",category:"canvas",scope:"canvas-focused",priority:Gn.CANVAS,description:"Distribute Vertically",i18n:{ko:" "}},copyProperties:{key:"c",modifier:"cmdShift",category:"properties",scope:"panel:properties",priority:Gn.PROPERTIES,description:"Copy Properties",i18n:{ko:" "}},pasteProperties:{key:"v",modifier:"cmdShift",category:"properties",scope:"panel:properties",priority:Gn.PROPERTIES,description:"Paste Properties",i18n:{ko:" "}},copyAllProperties:{key:"c",modifier:"cmdAlt",category:"properties",scope:"panel:properties",priority:Gn.PROPERTIES,description:"Copy All Properties",i18n:{ko:"  "}},pasteAllProperties:{key:"v",modifier:"cmdAlt",category:"properties",scope:"panel:properties",priority:Gn.PROPERTIES,description:"Paste All Properties",i18n:{ko:"  "}},copyStyles:{key:"c",modifier:"cmdShift",category:"properties",scope:"panel:styles",priority:Gn.PROPERTIES,description:"Copy Styles",i18n:{ko:" "}},pasteStyles:{key:"v",modifier:"cmdShift",category:"properties",scope:"panel:styles",priority:Gn.PROPERTIES,description:"Paste Styles",i18n:{ko:" "}},toggleFocusMode:{key:"f",modifier:"cmd",category:"properties",scope:"panel:styles",priority:Gn.PROPERTIES,description:"Toggle Focus Mode",i18n:{ko:"  "}},expandAllSections:{key:"e",modifier:"cmd",category:"properties",scope:"panel:styles",priority:Gn.PROPERTIES,description:"Expand All Sections",i18n:{ko:"  "}},collapseAllSections:{key:"w",modifier:"cmd",category:"properties",scope:"panel:styles",priority:Gn.PROPERTIES,description:"Collapse All Sections",i18n:{ko:"  "}},arrowUp:{key:"ArrowUp",modifier:"none",category:"events",scope:["canvas-focused","panel:events"],priority:Gn.EVENTS,description:"Navigate Up",i18n:{ko:" "}},arrowDown:{key:"ArrowDown",modifier:"none",category:"events",scope:["canvas-focused","panel:events"],priority:Gn.EVENTS,description:"Navigate Down",i18n:{ko:" "}},treeNavDown:{key:"ArrowDown",modifier:"none",category:"nodes",scope:"panel:nodes",priority:Gn.NODES,description:"Next Item",i18n:{ko:" "}},treeNavUp:{key:"ArrowUp",modifier:"none",category:"nodes",scope:"panel:nodes",priority:Gn.NODES,description:"Previous Item",i18n:{ko:" "}},treeNavRight:{key:"ArrowRight",modifier:"none",category:"nodes",scope:"panel:nodes",priority:Gn.NODES,description:"Expand",i18n:{ko:""}},treeNavLeft:{key:"ArrowLeft",modifier:"none",category:"nodes",scope:"panel:nodes",priority:Gn.NODES,description:"Collapse",i18n:{ko:""}},treeNavHome:{key:"Home",modifier:"none",category:"nodes",scope:"panel:nodes",priority:Gn.NODES,description:"First Item",i18n:{ko:"  "}},treeNavEnd:{key:"End",modifier:"none",category:"nodes",scope:"panel:nodes",priority:Gn.NODES,description:"Last Item",i18n:{ko:" "}},treeSelect:{key:"Enter",modifier:"none",category:"nodes",scope:"panel:nodes",priority:Gn.NODES,description:"Select Item",i18n:{ko:" "}},treeSelectSpace:{key:" ",code:"Space",modifier:"none",category:"nodes",scope:"panel:nodes",priority:Gn.NODES,description:"Select Item",i18n:{ko:" "}}};function T6e(){const t={};for(const e of Object.values(hS))t[e.category]||(t[e.category]=[]),t[e.category].push(e);return t}Object.keys(hS).length;function M6e(t){return!t||!(t instanceof HTMLElement)?!1:t.tagName==="INPUT"||t.tagName==="TEXTAREA"||t.isContentEditable}function k6e(t,e){return!t||!e||t==="global"?!0:Array.isArray(t)?t.includes("global")?!0:t.includes(e):t===e}function P6e(t,e){if(e.disabled||e.code&&t.code!==e.code||!e.code&&t.key.toLowerCase()!==e.key.toLowerCase())return!1;const n=navigator.platform.includes("Mac"),r=n?t.metaKey:t.ctrlKey;switch(e.modifier){case"cmd":return r&&!t.shiftKey&&!t.altKey&&(n?!t.ctrlKey:!t.metaKey);case"cmdShift":return r&&t.shiftKey&&!t.altKey&&(n?!t.ctrlKey:!t.metaKey);case"cmdAlt":return r&&!t.shiftKey&&t.altKey&&(n?!t.ctrlKey:!t.metaKey);case"ctrl":return t.ctrlKey&&!t.shiftKey&&!t.altKey&&!t.metaKey;case"ctrlShift":return t.ctrlKey&&t.shiftKey&&!t.altKey&&!t.metaKey;case"ctrlAlt":return t.ctrlKey&&!t.shiftKey&&t.altKey&&!t.metaKey;case"alt":return t.altKey&&!t.shiftKey&&!t.ctrlKey&&!t.metaKey;case"altShift":return t.altKey&&t.shiftKey&&!t.ctrlKey&&!t.metaKey;case"shift":return t.shiftKey&&!t.altKey&&!t.ctrlKey&&!t.metaKey;case"none":return!t.metaKey&&!t.ctrlKey&&!t.altKey&&!t.shiftKey;default:return!1}}function Hx(t,e=[],n={}){const{eventType:r="keydown",capture:i=!1,target:s="window",activeScope:o}=n;x.useEffect(()=>{const a=u=>{const c=M6e(u.target),d=[...t].sort((f,p)=>(p.priority??0)-(f.priority??0));for(const f of d)if(!(c&&!f.allowInInput)&&k6e(f.scope,o)&&P6e(u,f)){f.preventDefault!==!1&&u.preventDefault(),f.stopPropagation&&u.stopPropagation(),f.handler();break}},l=s==="document"?document:window;return l.addEventListener(r,a,{capture:i}),()=>{l.removeEventListener(r,a,{capture:i})}},[i,s,r,o,...e])}function G$(t){const e=typeof navigator<"u"&&navigator.platform.includes("Mac");return`${{cmd:e?"":"Ctrl+",cmdShift:e?"":"Ctrl+Shift+",cmdAlt:e?"":"Ctrl+Alt+",ctrl:e?"":"Ctrl+",ctrlShift:e?"":"Ctrl+Shift+",ctrlAlt:e?"":"Ctrl+Alt+",alt:e?"":"Alt+",altShift:e?"":"Alt+Shift+",shift:e?"":"Shift+",none:""}[t.modifier]}${t.key.toUpperCase()}`}function R6e({variant:t="primary",size:e="sm",isDot:n=!1,isPulsing:r=!1,isLoading:i=!1,className:s,children:o,...a}){return i?h.jsx(Up,{componentVariant:"badge",size:e,className:s,"aria-label":"Loading badge..."}):h.jsx("span",{...a,className:s?`react-aria-Badge ${s}`:"react-aria-Badge","data-badge":!0,"data-variant":t,"data-size":e,"data-dot":n||void 0,"data-pulsing":r||void 0,children:!n&&o})}function m3({children:t,variant:e="primary",size:n="md",showArrow:r=!0,containFocus:i=!1,autoFocus:s=!0,restoreFocus:o=!0,...a}){const l=lv(a.className,u=>u?`react-aria-Popover ${u}`:"react-aria-Popover");return h.jsxs(Ss,{...a,className:l,"data-variant":e,"data-size":n,children:[r&&h.jsx(YTe,{children:h.jsx("svg",{width:12,height:12,viewBox:"0 0 12 12",children:h.jsx("path",{d:"M0 0 L6 6 L12 0"})})}),h.jsx(dle,{children:h.jsx(ET,{contain:i,autoFocus:s,restoreFocus:o,children:t})})]})}const aue=[{type:"Button",label:"Button",category:"Actions",icon:"",inspector:{hasCustomEditor:!0,editorName:"ButtonEditor",dataBindingType:null,supportedEvents:["onPress","onClick","onMouseEnter","onMouseLeave","onFocus","onBlur","onKeyDown","onKeyUp"]}},{type:"ToggleButton",label:"Toggle Button",category:"Actions",icon:"",inspector:{hasCustomEditor:!0,editorName:"ToggleButtonEditor",dataBindingType:null,supportedEvents:["onChange","onPress","onClick","onMouseEnter","onMouseLeave","onFocus","onBlur","onKeyDown","onKeyUp"]}},{type:"ToggleButtonGroup",label:"Toggle Button Group",category:"Actions",icon:"",inspector:{hasCustomEditor:!0,editorName:"ToggleButtonGroupEditor",dataBindingType:"collection",supportedEvents:["onChange","onFocus","onBlur"]}},{type:"Menu",label:"Menu",category:"Actions",icon:"",inspector:{hasCustomEditor:!0,editorName:"MenuEditor",dataBindingType:"collection",supportedEvents:["onAction","onSelectionChange","onOpenChange","onFocus","onBlur"]}},{type:"Toolbar",label:"Toolbar",category:"Actions",icon:"",inspector:{hasCustomEditor:!0,editorName:"ToolbarEditor",dataBindingType:null,supportedEvents:["onFocus","onBlur"]}},{type:"Link",label:"Link",category:"Actions",icon:"",inspector:{hasCustomEditor:!0,editorName:"LinkEditor",dataBindingType:null,supportedEvents:["onPress","onClick","onMouseEnter","onMouseLeave","onFocus","onBlur","onKeyDown","onKeyUp"]}},{type:"TextField",label:"Text Field",category:"Inputs",icon:"",inspector:{hasCustomEditor:!0,editorName:"TextFieldEditor",dataBindingType:"value",supportedEvents:["onChange","onFocus","onBlur","onKeyDown","onKeyUp"]}},{type:"NumberField",label:"Number Field",category:"Inputs",icon:"#",inspector:{hasCustomEditor:!0,editorName:"NumberFieldEditor",dataBindingType:"value",supportedEvents:["onChange","onFocus","onBlur","onKeyDown","onKeyUp"]}},{type:"SearchField",label:"Search Field",category:"Inputs",icon:"",inspector:{hasCustomEditor:!0,editorName:"SearchFieldEditor",dataBindingType:"value",supportedEvents:["onChange","onSubmit","onFocus","onBlur","onKeyDown","onKeyUp"]}},{type:"Checkbox",label:"Checkbox",category:"Inputs",icon:"",inspector:{hasCustomEditor:!0,editorName:"CheckboxEditor",dataBindingType:"value",supportedEvents:["onChange","onFocus","onBlur","onKeyDown","onKeyUp","onMouseEnter","onMouseLeave"]}},{type:"CheckboxGroup",label:"Checkbox Group",category:"Inputs",icon:"",inspector:{hasCustomEditor:!0,editorName:"CheckboxGroupEditor",dataBindingType:"collection",supportedEvents:["onChange","onFocus","onBlur"]}},{type:"Radio",label:"Radio",category:"Inputs",icon:"",inspector:{hasCustomEditor:!0,editorName:"RadioEditor",dataBindingType:"value",supportedEvents:["onFocus","onBlur","onKeyDown","onKeyUp","onMouseEnter","onMouseLeave"]}},{type:"RadioGroup",label:"Radio Group",category:"Inputs",icon:"",inspector:{hasCustomEditor:!0,editorName:"RadioGroupEditor",dataBindingType:"collection",supportedEvents:["onChange","onFocus","onBlur"]}},{type:"Select",label:"Select",category:"Inputs",icon:"",inspector:{hasCustomEditor:!0,editorName:"SelectEditor",dataBindingType:"collection",supportedEvents:["onSelectionChange","onOpenChange","onFocus","onBlur","onKeyDown","onKeyUp"]}},{type:"ComboBox",label:"Combo Box",category:"Inputs",icon:"",inspector:{hasCustomEditor:!0,editorName:"ComboBoxEditor",dataBindingType:"collection",supportedEvents:["onSelectionChange","onOpenChange","onFocus","onBlur","onKeyDown","onKeyUp"]}},{type:"Switch",label:"Switch",category:"Inputs",icon:"",inspector:{hasCustomEditor:!0,editorName:"SwitchEditor",dataBindingType:"value",supportedEvents:["onChange","onFocus","onBlur","onKeyDown","onKeyUp","onMouseEnter","onMouseLeave"]}},{type:"Slider",label:"Slider",category:"Inputs",icon:"",inspector:{hasCustomEditor:!0,editorName:"SliderEditor",dataBindingType:"value",supportedEvents:["onChange","onFocus","onBlur","onKeyDown","onKeyUp","onMouseEnter","onMouseLeave"]}},{type:"TailSwatch",label:"Color Picker",category:"Inputs",icon:"",inspector:{hasCustomEditor:!0,editorName:"TailSwatchEditor",dataBindingType:"value",supportedEvents:["onChange","onFocus","onBlur"]}},{type:"FileTrigger",label:"File Trigger",category:"Inputs",icon:"",inspector:{hasCustomEditor:!0,editorName:"FileTriggerEditor",dataBindingType:null,supportedEvents:["onSelect"]}},{type:"DropZone",label:"Drop Zone",category:"Inputs",icon:"",inspector:{hasCustomEditor:!0,editorName:"DropZoneEditor",dataBindingType:null,supportedEvents:["onDrop","onDropEnter","onDropExit"]}},{type:"Autocomplete",label:"Autocomplete",category:"Inputs",icon:"",inspector:{hasCustomEditor:!0,editorName:"AutocompleteEditor",dataBindingType:"collection",supportedEvents:["onInputChange","onSelectionChange","onFocus","onBlur"]}},{type:"ColorPicker",label:"Color Picker",category:"Color",icon:"",inspector:{hasCustomEditor:!0,editorName:"ColorPickerEditor",dataBindingType:"value",supportedEvents:["onChange","onFocus","onBlur"]}},{type:"ColorField",label:"Color Field",category:"Color",icon:"",inspector:{hasCustomEditor:!0,editorName:"ColorFieldEditor",dataBindingType:"value",supportedEvents:["onChange","onFocus","onBlur"]}},{type:"ColorArea",label:"Color Area",category:"Color",icon:"",inspector:{hasCustomEditor:!0,editorName:"ColorAreaEditor",dataBindingType:"value",supportedEvents:["onChange","onChangeEnd","onFocus","onBlur"]}},{type:"ColorSlider",label:"Color Slider",category:"Color",icon:"",inspector:{hasCustomEditor:!0,editorName:"ColorSliderEditor",dataBindingType:"value",supportedEvents:["onChange","onChangeEnd","onFocus","onBlur"]}},{type:"ColorWheel",label:"Color Wheel",category:"Color",icon:"",inspector:{hasCustomEditor:!0,editorName:"ColorWheelEditor",dataBindingType:"value",supportedEvents:["onChange","onChangeEnd","onFocus","onBlur"]}},{type:"ColorSwatch",label:"Color Swatch",category:"Color",icon:"",inspector:{hasCustomEditor:!0,editorName:"ColorSwatchEditor",dataBindingType:null,supportedEvents:[]}},{type:"ColorSwatchPicker",label:"Color Swatch Picker",category:"Color",icon:"",inspector:{hasCustomEditor:!0,editorName:"ColorSwatchPickerEditor",dataBindingType:"collection",supportedEvents:["onChange","onFocus","onBlur"]}},{type:"Table",label:"Table",category:"Data Display",icon:"",inspector:{hasCustomEditor:!0,editorName:"TableEditor",dataBindingType:"collection",supportedEvents:["onSelectionChange","onAction","onFocus","onBlur"]}},{type:"ListBox",label:"List Box",category:"Data Display",icon:"",inspector:{hasCustomEditor:!0,editorName:"ListBoxEditor",dataBindingType:"collection",supportedEvents:["onSelectionChange","onAction","onFocus","onBlur"]}},{type:"GridList",label:"Grid List",category:"Data Display",icon:"",inspector:{hasCustomEditor:!0,editorName:"GridListEditor",dataBindingType:"collection",supportedEvents:["onSelectionChange","onAction","onFocus","onBlur"]}},{type:"Tree",label:"Tree",category:"Data Display",icon:"",inspector:{hasCustomEditor:!0,editorName:"TreeEditor",dataBindingType:"collection",supportedEvents:["onSelectionChange","onFocus","onBlur"]}},{type:"TagGroup",label:"Tag Group",category:"Data Display",icon:"",inspector:{hasCustomEditor:!0,editorName:"TagGroupEditor",dataBindingType:"collection",supportedEvents:["onSelectionChange","onFocus","onBlur"]}},{type:"Tooltip",label:"Tooltip",category:"Feedback",icon:"",inspector:{hasCustomEditor:!0,editorName:"TooltipEditor",dataBindingType:null,supportedEvents:["onOpenChange","onMouseEnter","onMouseLeave"]}},{type:"ProgressBar",label:"Progress Bar",category:"Feedback",icon:"",inspector:{hasCustomEditor:!0,editorName:"ProgressBarEditor",dataBindingType:"value",supportedEvents:[]}},{type:"Meter",label:"Meter",category:"Feedback",icon:"",inspector:{hasCustomEditor:!0,editorName:"MeterEditor",dataBindingType:"value",supportedEvents:[]}},{type:"Badge",label:"Badge",category:"Feedback",icon:"",inspector:{hasCustomEditor:!0,editorName:"BadgeEditor",dataBindingType:null,supportedEvents:[]}},{type:"Toast",label:"Toast",category:"Feedback",icon:"",inspector:{hasCustomEditor:!0,editorName:"ToastEditor",dataBindingType:null,supportedEvents:["onClose"]}},{type:"Panel",label:"Panel",category:"Layout",icon:"",inspector:{hasCustomEditor:!0,editorName:"PanelEditor",dataBindingType:null,supportedEvents:["onClick","onMouseEnter","onMouseLeave","onFocus","onBlur"]}},{type:"Card",label:"Card",category:"Layout",icon:"",inspector:{hasCustomEditor:!0,editorName:"CardEditor",dataBindingType:null,supportedEvents:["onClick","onMouseEnter","onMouseLeave","onFocus","onBlur"]}},{type:"Tabs",label:"Tabs",category:"Layout",icon:"",inspector:{hasCustomEditor:!0,editorName:"TabsEditor",dataBindingType:null,supportedEvents:["onSelectionChange","onFocus","onBlur"]}},{type:"Breadcrumbs",label:"Breadcrumbs",category:"Layout",icon:"",inspector:{hasCustomEditor:!0,editorName:"BreadcrumbsEditor",dataBindingType:null,supportedEvents:["onAction","onFocus","onBlur"]}},{type:"Separator",label:"Separator",category:"Layout",icon:"",inspector:{hasCustomEditor:!0,editorName:"SeparatorEditor",dataBindingType:null,supportedEvents:[]}},{type:"Group",label:"Group",category:"Layout",icon:"",inspector:{hasCustomEditor:!0,editorName:"GroupEditor",dataBindingType:null,supportedEvents:["onFocus","onBlur"]}},{type:"Form",label:"Form",category:"Layout",icon:"",inspector:{hasCustomEditor:!0,editorName:"FormEditor",dataBindingType:null,supportedEvents:["onSubmit","onReset","onInvalid"]}},{type:"Disclosure",label:"Disclosure",category:"Layout",icon:"",inspector:{hasCustomEditor:!0,editorName:"DisclosureEditor",dataBindingType:null,supportedEvents:["onExpandedChange","onFocus","onBlur"]}},{type:"DisclosureGroup",label:"Disclosure Group",category:"Layout",icon:"",inspector:{hasCustomEditor:!0,editorName:"DisclosureGroupEditor",dataBindingType:null,supportedEvents:["onExpandedChange"]}},{type:"body",label:"Body",category:"Layout",icon:"",inspector:{hasCustomEditor:!0,editorName:void 0,dataBindingType:null,supportedEvents:[]}},{type:"Slot",label:"Slot",category:"Layout",icon:"",inspector:{hasCustomEditor:!0,editorName:"SlotEditor",dataBindingType:null,supportedEvents:[]}},{type:"Dialog",label:"Dialog",category:"Overlays",icon:"",inspector:{hasCustomEditor:!0,editorName:"DialogEditor",dataBindingType:null,supportedEvents:["onOpenChange","onFocus","onBlur"]}},{type:"Modal",label:"Modal",category:"Overlays",icon:"",inspector:{hasCustomEditor:!0,editorName:"ModalEditor",dataBindingType:null,supportedEvents:["onOpenChange"]}},{type:"Popover",label:"Popover",category:"Overlays",icon:"",inspector:{hasCustomEditor:!0,editorName:"PopoverEditor",dataBindingType:null,supportedEvents:["onOpenChange"]}},{type:"Calendar",label:"Calendar",category:"Date & Time",icon:"",inspector:{hasCustomEditor:!0,editorName:"CalendarEditor",dataBindingType:"value",supportedEvents:["onChange","onFocus","onBlur"]}},{type:"DatePicker",label:"Date Picker",category:"Date & Time",icon:"",inspector:{hasCustomEditor:!0,editorName:"DatePickerEditor",dataBindingType:"value",supportedEvents:["onChange","onOpenChange","onFocus","onBlur"]}},{type:"DateRangePicker",label:"Date Range Picker",category:"Date & Time",icon:"",inspector:{hasCustomEditor:!0,editorName:"DateRangePickerEditor",dataBindingType:"value",supportedEvents:["onChange","onOpenChange","onFocus","onBlur"]}},{type:"TimeField",label:"Time Field",category:"Date & Time",icon:"",inspector:{hasCustomEditor:!0,editorName:"TimeFieldEditor",dataBindingType:"value",supportedEvents:["onChange","onFocus","onBlur"]}},{type:"DateField",label:"Date Field",category:"Date & Time",icon:"",inspector:{hasCustomEditor:!0,editorName:"DateFieldEditor",dataBindingType:"value",supportedEvents:["onChange","onFocus","onBlur"]}},{type:"RangeCalendar",label:"Range Calendar",category:"Date & Time",icon:"",inspector:{hasCustomEditor:!0,editorName:"RangeCalendarEditor",dataBindingType:"value",supportedEvents:["onChange","onFocus","onBlur"]}},{type:"MenuItem",label:"Menu Item",category:"Items",icon:"",inspector:{hasCustomEditor:!0,editorName:"MenuItemEditor",dataBindingType:null,supportedEvents:["onAction","onMouseEnter","onMouseLeave"]}},{type:"SelectItem",label:"Select Item",category:"Items",icon:"",inspector:{hasCustomEditor:!0,editorName:"SelectItemEditor",dataBindingType:null,supportedEvents:["onMouseEnter","onMouseLeave"]}},{type:"ComboBoxItem",label:"ComboBox Item",category:"Items",icon:"",inspector:{hasCustomEditor:!0,editorName:"ComboBoxItemEditor",dataBindingType:null,supportedEvents:["onMouseEnter","onMouseLeave"]}},{type:"ListBoxItem",label:"ListBox Item",category:"Items",icon:"",inspector:{hasCustomEditor:!0,editorName:"ListBoxItemEditor",dataBindingType:null,supportedEvents:["onAction","onMouseEnter","onMouseLeave"]}},{type:"GridListItem",label:"GridList Item",category:"Items",icon:"",inspector:{hasCustomEditor:!0,editorName:"GridListItemEditor",dataBindingType:null,supportedEvents:["onAction","onMouseEnter","onMouseLeave"]}},{type:"TreeItem",label:"Tree Item",category:"Items",icon:"",inspector:{hasCustomEditor:!0,editorName:"TreeItemEditor",dataBindingType:null,supportedEvents:["onAction","onMouseEnter","onMouseLeave"]}},{type:"Tag",label:"Tag",category:"Items",icon:"",inspector:{hasCustomEditor:!0,editorName:"TagEditor",dataBindingType:null,supportedEvents:["onMouseEnter","onMouseLeave"]}},{type:"Tab",label:"Tab",category:"Items",icon:"",inspector:{hasCustomEditor:!0,editorName:"TabEditor",dataBindingType:null,supportedEvents:["onMouseEnter","onMouseLeave"]}},{type:"Breadcrumb",label:"Breadcrumb",category:"Items",icon:"",inspector:{hasCustomEditor:!0,editorName:"BreadcrumbEditor",dataBindingType:null,supportedEvents:["onClick","onMouseEnter","onMouseLeave"]}},{type:"TableHeader",label:"Table Header",category:"Table Parts",icon:"",inspector:{hasCustomEditor:!0,editorName:"TableHeaderEditor",dataBindingType:null,supportedEvents:[]}},{type:"TableBody",label:"Table Body",category:"Table Parts",icon:"",inspector:{hasCustomEditor:!0,editorName:"TableBodyEditor",dataBindingType:null,supportedEvents:[]}},{type:"Column",label:"Column",category:"Table Parts",icon:"",inspector:{hasCustomEditor:!0,editorName:"ColumnEditor",dataBindingType:null,supportedEvents:[]}},{type:"ColumnGroup",label:"Column Group",category:"Table Parts",icon:"",inspector:{hasCustomEditor:!0,editorName:"ColumnGroupEditor",dataBindingType:null,supportedEvents:[]}},{type:"Row",label:"Row",category:"Table Parts",icon:"",inspector:{hasCustomEditor:!0,editorName:"RowEditor",dataBindingType:null,supportedEvents:["onAction","onMouseEnter","onMouseLeave"]}},{type:"Cell",label:"Cell",category:"Table Parts",icon:"",inspector:{hasCustomEditor:!0,editorName:"CellEditor",dataBindingType:null,supportedEvents:[]}},{type:"Field",label:"Field",category:"Data Display",icon:"",inspector:{hasCustomEditor:!0,editorName:"FieldEditor",dataBindingType:null,supportedEvents:[]}},{type:"DataTable",label:"DataTable",category:"Data",icon:"",inspector:{hasCustomEditor:!0,editorName:"DataTableEditor",dataBindingType:"collection",supportedEvents:["onLoad","onError","onRefresh"]}}];function N6e(t){return aue.find(e=>e.type===t)}const kl=x.memo(function({label:e,value:n,onChange:r,options:i,icon:s,className:o}){const a=l=>{const u=l;r(u==="reset"?"":u)};return h.jsxs("fieldset",{className:`properties-aria ${o||""}`,children:[h.jsx("legend",{className:"fieldset-legend",children:e}),h.jsx("div",{className:"react-aria-control react-aria-Group",children:h.jsxs(po,{className:"react-aria-Select",selectedKey:n,onSelectionChange:a,"aria-label":e,children:[h.jsxs(Yt,{className:"react-aria-Button",children:[s&&h.jsx("label",{className:"control-label",children:h.jsx(s,{color:ce.color,size:ce.size,strokeWidth:ce.strokeWidth})}),h.jsx(go,{}),h.jsx("span",{"aria-hidden":"true",className:"select-chevron",children:h.jsx(ho,{size:ce.size})})]}),h.jsx(Ss,{className:"react-aria-Popover",children:h.jsx(Ui,{className:"react-aria-ListBox",children:i.map(l=>h.jsx(tr,{id:l.value,className:"react-aria-ListBoxItem",textValue:l.label,children:l.label},l.value))})})]})})]})},(t,e)=>t.label===e.label&&t.value===e.value&&t.className===e.className&&t.icon===e.icon&&t.options===e.options),rv=x.memo(function({label:e,isSelected:n,onChange:r,icon:i,className:s}){return h.jsx(Z3,{legend:e,icon:i,className:s,children:h.jsxs(LT,{className:"react-aria-Switch",isSelected:n,onChange:o=>r(o),children:[h.jsx("div",{className:"indicator"}),e]})})},(t,e)=>t.label===e.label&&t.isSelected===e.isSelected&&t.icon===e.icon&&t.className===e.className),L6e=["px","%","rem","em","vh","vw","reset"],TB=["reset","auto","inherit","initial","unset","normal"];function Ok(t){const e=t.trim();if(TB.includes(e))return{numericValue:null,unit:e};const r=e.split(/\s+/)[0].match(/^(-?\d+\.?\d*)([a-z%]+)?$/i);if(r){const i=parseFloat(r[1]),s=r[2]||"";return{numericValue:i,unit:s}}return{numericValue:0,unit:"px"}}const nh=x.memo(function({label:e,value:n,onChange:r,onDrag:i,icon:s,className:o,units:a=L6e,allowKeywords:l=!0,min:u=0,max:c=9999}){const[d,f]=x.useState(null),[p,m]=x.useState("px"),[v,y]=x.useState(!1),[A,C]=x.useState(""),E=x.useRef(!1),I=x.useRef(n);x.useEffect(()=>{const $=Ok(n);f($.numericValue),m($.unit),y($.numericValue===null),C($.numericValue!==null?String($.numericValue):$.unit),E.current=!1,I.current=n},[n]);const D=$=>{C($)},T=x.useRef(null),M=$=>{if(E.current){E.current=!1;return}const z=$.relatedTarget;if(z&&T.current?.contains(z))return;const j=A.trim();if(l&&TB.includes(j.toLowerCase())){const q=j.toLowerCase(),J=q==="reset"?"":q;J!==n&&J!==I.current&&(I.current=J,r(J));return}const H=parseFloat(j);if(isNaN(H)){C(d!==null?String(d):"");return}if(H<u||H>c){C(d!==null?String(d):"");return}const W=Ok(n),O=W.numericValue!==H||W.unit!==p,G=`${H}${p}`;O&&G!==I.current&&(I.current=G,r(G))},P=$=>{if(TB.includes($)){const H=$==="reset"?"":$;H!==n&&H!==I.current&&(I.current=H,r(H));return}const z=parseFloat(A);let j;!isNaN(z)&&z!==0?j=`${z}${$}`:d!==null&&d!==0?j=`${d}${$}`:j=`${["%","vh","vw"].includes($)?100:0}${$}`,j!==n&&j!==I.current&&(I.current=j,r(j))},k=$=>{$.target.select(),E.current=!1},L=$=>{if($.key==="Enter"){$.preventDefault();const W=A.trim();let O=!1;if(l&&TB.includes(W.toLowerCase())){const G=W.toLowerCase(),q=G==="reset"?"":G;q!==n&&(r(q),O=!0)}else{const G=parseFloat(W);if(!isNaN(G)&&G>=u&&G<=c){const q=Ok(n);if(q.numericValue!==G||q.unit!==p){const te=`${G}${p}`;r(te),O=!0}}}O&&(E.current=!0),$.target.blur();return}if(v)return;const z=$.shiftKey?10:1;let j=d||0;const H=i||r;$.key==="ArrowUp"?($.preventDefault(),j=Math.min(j+z,c),H(`${j}${p}`)):$.key==="ArrowDown"&&($.preventDefault(),j=Math.max(j-z,u),H(`${j}${p}`))};return h.jsxs("fieldset",{className:`properties-aria property-unit-input ${o||""}`,children:[e&&h.jsx("legend",{className:"fieldset-legend",children:e}),h.jsxs("div",{className:"react-aria-control react-aria-Group",children:[s&&h.jsx("label",{className:"control-label",children:h.jsx(s,{color:ce.color,size:ce.size,strokeWidth:ce.strokeWidth})}),h.jsxs(T$,{className:"react-aria-ComboBox react-aria-UnitComboBox",inputValue:p===""?"":p,onSelectionChange:$=>{$!==null&&P($===""?"":$)},selectedKey:p===""?"":p,"aria-label":"Unit",children:[h.jsxs("div",{className:"combobox-container",ref:T,children:[h.jsx(Br,{className:"react-aria-Input",type:"text",value:A,onChange:$=>D($.target.value),onFocus:k,onBlur:M,onKeyDown:L,"aria-label":e||"Value",placeholder:"reset"}),h.jsx(Yt,{className:"react-aria-Button",children:h.jsx(ho,{size:ce.size})})]}),h.jsx(Ss,{className:"react-aria-Popover",children:h.jsx(Ui,{className:"react-aria-ListBox",children:a.map($=>h.jsx(tr,{id:$===""?"":$,className:"react-aria-ListBoxItem",textValue:$===""?"":$,children:$===""?"":$},$===""?"":$))})})]})]})]})},(t,e)=>t.label===e.label&&t.value===e.value&&t.className===e.className&&t.icon===e.icon&&t.min===e.min&&t.max===e.max&&t.allowKeywords===e.allowKeywords&&JSON.stringify(t.units)===JSON.stringify(e.units));function lue(t){return h.jsx(MTe,{...t,className:"react-aria-ColorSwatch"})}function F6e(t){return h.jsx(yae,{...t,className:"react-aria-ColorArea",children:h.jsx(RT,{className:"react-aria-ColorThumb"})})}function $6e(t){return h.jsx(lle,{...t,className:"react-aria-ColorSlider",children:h.jsx(ale,{className:"react-aria-SliderTrack",children:h.jsx(RT,{className:"react-aria-ColorThumb"})})})}function z6e({initialValue:t,onChange:e,label:n}){const[r,i]=xe.useState(t),[s,o]=xe.useState(t),a=x.useRef(t),l=x.useCallback(p=>{if(!p)return;const m=p.toString("hex");i(m),o(m)},[]),u=x.useCallback(p=>{const m=p.toString("hex");m!==a.current&&(a.current=m,e(m))},[e]),c=x.useCallback(p=>{o(p.target.value)},[]),d=x.useCallback(()=>{s!==a.current&&(a.current=s,i(s),e(s))},[s,e]),f=x.useCallback(p=>{p.key==="Enter"&&(p.preventDefault(),s!==a.current&&(a.current=s,i(s),e(s)),p.target.blur())},[s,e]);return h.jsx(KTe,{value:r,onChange:l,children:h.jsxs(u3,{children:[h.jsx(Yt,{className:"react-aria-Group color-swatch-button",children:h.jsx(lue,{})}),h.jsx(m3,{placement:"bottom start",className:"color-picker-popover",children:h.jsxs("div",{className:"color-picker-content",children:[h.jsx(F6e,{colorSpace:"hsb",xChannel:"saturation",yChannel:"brightness",onChangeEnd:u}),h.jsx($6e,{colorSpace:"hsb",channel:"hue",onChangeEnd:u}),h.jsx(BTe,{className:"react-aria-ColorField","aria-label":n||"Color",children:h.jsx(Br,{className:"react-aria-Input",value:s,onChange:c,onBlur:d,onKeyDown:f})})]})})]})})}const vD=x.memo(function({label:e,value:n,onChange:r,className:i}){return h.jsxs("fieldset",{className:`properties-aria property-color-input ${i||""}`,children:[e&&h.jsx("legend",{className:"fieldset-legend",children:e}),h.jsx(z6e,{initialValue:n,onChange:r,label:e},n)]})},(t,e)=>t.label===e.label&&t.value===e.value&&t.className===e.className&&t.icon===e.icon&&t.placeholder===e.placeholder);function O6e({children:t,...e}){return h.jsx(UTe,{...e,children:t})}function j6e(t){return h.jsx(HTe,{...t,children:h.jsx(lue,{})})}const Q6e=(t,e)=>{const n=new Array(t.length+e.length);for(let r=0;r<t.length;r++)n[r]=t[r];for(let r=0;r<e.length;r++)n[t.length+r]=e[r];return n},U6e=(t,e)=>({classGroupId:t,validator:e}),uue=(t=new Map,e=null,n)=>({nextPart:t,validators:e,classGroupId:n}),bD="-",AQ=[],H6e="arbitrary..",V6e=t=>{const e=K6e(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:o=>{if(o.startsWith("[")&&o.endsWith("]"))return G6e(o);const a=o.split(bD),l=a[0]===""&&a.length>1?1:0;return cue(a,l,e)},getConflictingClassGroupIds:(o,a)=>{if(a){const l=r[o],u=n[o];return l?u?Q6e(u,l):l:u||AQ}return n[o]||AQ}}},cue=(t,e,n)=>{if(t.length-e===0)return n.classGroupId;const i=t[e],s=n.nextPart.get(i);if(s){const u=cue(t,e+1,s);if(u)return u}const o=n.validators;if(o===null)return;const a=e===0?t.join(bD):t.slice(e).join(bD),l=o.length;for(let u=0;u<l;u++){const c=o[u];if(c.validator(a))return c.classGroupId}},G6e=t=>t.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const e=t.slice(1,-1),n=e.indexOf(":"),r=e.slice(0,n);return r?H6e+r:void 0})(),K6e=t=>{const{theme:e,classGroups:n}=t;return W6e(n,e)},W6e=(t,e)=>{const n=uue();for(const r in t){const i=t[r];K$(i,n,r,e)}return n},K$=(t,e,n,r)=>{const i=t.length;for(let s=0;s<i;s++){const o=t[s];q6e(o,e,n,r)}},q6e=(t,e,n,r)=>{if(typeof t=="string"){Y6e(t,e,n);return}if(typeof t=="function"){X6e(t,e,n,r);return}J6e(t,e,n,r)},Y6e=(t,e,n)=>{const r=t===""?e:due(e,t);r.classGroupId=n},X6e=(t,e,n,r)=>{if(Z6e(t)){K$(t(r),e,n,r);return}e.validators===null&&(e.validators=[]),e.validators.push(U6e(n,t))},J6e=(t,e,n,r)=>{const i=Object.entries(t),s=i.length;for(let o=0;o<s;o++){const[a,l]=i[o];K$(l,due(e,a),n,r)}},due=(t,e)=>{let n=t;const r=e.split(bD),i=r.length;for(let s=0;s<i;s++){const o=r[s];let a=n.nextPart.get(o);a||(a=uue(),n.nextPart.set(o,a)),n=a}return n},Z6e=t=>"isThemeGetter"in t&&t.isThemeGetter===!0,e8e=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=Object.create(null),r=Object.create(null);const i=(s,o)=>{n[s]=o,e++,e>t&&(e=0,r=n,n=Object.create(null))};return{get(s){let o=n[s];if(o!==void 0)return o;if((o=r[s])!==void 0)return i(s,o),o},set(s,o){s in n?n[s]=o:i(s,o)}}},V8="!",yQ=":",t8e=[],vQ=(t,e,n,r,i)=>({modifiers:t,hasImportantModifier:e,baseClassName:n,maybePostfixModifierPosition:r,isExternal:i}),n8e=t=>{const{prefix:e,experimentalParseClassName:n}=t;let r=i=>{const s=[];let o=0,a=0,l=0,u;const c=i.length;for(let v=0;v<c;v++){const y=i[v];if(o===0&&a===0){if(y===yQ){s.push(i.slice(l,v)),l=v+1;continue}if(y==="/"){u=v;continue}}y==="["?o++:y==="]"?o--:y==="("?a++:y===")"&&a--}const d=s.length===0?i:i.slice(l);let f=d,p=!1;d.endsWith(V8)?(f=d.slice(0,-1),p=!0):d.startsWith(V8)&&(f=d.slice(1),p=!0);const m=u&&u>l?u-l:void 0;return vQ(s,p,f,m)};if(e){const i=e+yQ,s=r;r=o=>o.startsWith(i)?s(o.slice(i.length)):vQ(t8e,!1,o,void 0,!0)}if(n){const i=r;r=s=>n({className:s,parseClassName:i})}return r},r8e=t=>{const e=new Map;return t.orderSensitiveModifiers.forEach((n,r)=>{e.set(n,1e6+r)}),n=>{const r=[];let i=[];for(let s=0;s<n.length;s++){const o=n[s],a=o[0]==="[",l=e.has(o);a||l?(i.length>0&&(i.sort(),r.push(...i),i=[]),r.push(o)):i.push(o)}return i.length>0&&(i.sort(),r.push(...i)),r}},i8e=t=>({cache:e8e(t.cacheSize),parseClassName:n8e(t),sortModifiers:r8e(t),...V6e(t)}),s8e=/\s+/,o8e=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i,sortModifiers:s}=e,o=[],a=t.trim().split(s8e);let l="";for(let u=a.length-1;u>=0;u-=1){const c=a[u],{isExternal:d,modifiers:f,hasImportantModifier:p,baseClassName:m,maybePostfixModifierPosition:v}=n(c);if(d){l=c+(l.length>0?" "+l:l);continue}let y=!!v,A=r(y?m.substring(0,v):m);if(!A){if(!y){l=c+(l.length>0?" "+l:l);continue}if(A=r(m),!A){l=c+(l.length>0?" "+l:l);continue}y=!1}const C=f.length===0?"":f.length===1?f[0]:s(f).join(":"),E=p?C+V8:C,I=E+A;if(o.indexOf(I)>-1)continue;o.push(I);const D=i(A,y);for(let T=0;T<D.length;++T){const M=D[T];o.push(E+M)}l=c+(l.length>0?" "+l:l)}return l},a8e=(...t)=>{let e=0,n,r,i="";for(;e<t.length;)(n=t[e++])&&(r=hue(n))&&(i&&(i+=" "),i+=r);return i},hue=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=hue(t[r]))&&(n&&(n+=" "),n+=e);return n},l8e=(t,...e)=>{let n,r,i,s;const o=l=>{const u=e.reduce((c,d)=>d(c),t());return n=i8e(u),r=n.cache.get,i=n.cache.set,s=a,a(l)},a=l=>{const u=r(l);if(u)return u;const c=o8e(l,n);return i(l,c),c};return s=o,(...l)=>s(a8e(...l))},u8e=[],Ja=t=>{const e=n=>n[t]||u8e;return e.isThemeGetter=!0,e},fue=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,pue=/^\((?:(\w[\w-]*):)?(.+)\)$/i,c8e=/^\d+\/\d+$/,d8e=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,h8e=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,f8e=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,p8e=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,g8e=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,_1=t=>c8e.test(t),ni=t=>!!t&&!Number.isNaN(Number(t)),fy=t=>!!t&&Number.isInteger(Number(t)),jk=t=>t.endsWith("%")&&ni(t.slice(0,-1)),r0=t=>d8e.test(t),m8e=()=>!0,A8e=t=>h8e.test(t)&&!f8e.test(t),gue=()=>!1,y8e=t=>p8e.test(t),v8e=t=>g8e.test(t),b8e=t=>!Bn(t)&&!Dn(t),x8e=t=>fS(t,yue,gue),Bn=t=>fue.test(t),Nb=t=>fS(t,vue,A8e),Qk=t=>fS(t,_8e,ni),bQ=t=>fS(t,mue,gue),C8e=t=>fS(t,Aue,v8e),AI=t=>fS(t,bue,y8e),Dn=t=>pue.test(t),fw=t=>pS(t,vue),E8e=t=>pS(t,I8e),xQ=t=>pS(t,mue),S8e=t=>pS(t,yue),w8e=t=>pS(t,Aue),yI=t=>pS(t,bue,!0),fS=(t,e,n)=>{const r=fue.exec(t);return r?r[1]?e(r[1]):n(r[2]):!1},pS=(t,e,n=!1)=>{const r=pue.exec(t);return r?r[1]?e(r[1]):n:!1},mue=t=>t==="position"||t==="percentage",Aue=t=>t==="image"||t==="url",yue=t=>t==="length"||t==="size"||t==="bg-size",vue=t=>t==="length",_8e=t=>t==="number",I8e=t=>t==="family-name",bue=t=>t==="shadow",B8e=()=>{const t=Ja("color"),e=Ja("font"),n=Ja("text"),r=Ja("font-weight"),i=Ja("tracking"),s=Ja("leading"),o=Ja("breakpoint"),a=Ja("container"),l=Ja("spacing"),u=Ja("radius"),c=Ja("shadow"),d=Ja("inset-shadow"),f=Ja("text-shadow"),p=Ja("drop-shadow"),m=Ja("blur"),v=Ja("perspective"),y=Ja("aspect"),A=Ja("ease"),C=Ja("animate"),E=()=>["auto","avoid","all","avoid-page","page","left","right","column"],I=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],D=()=>[...I(),Dn,Bn],T=()=>["auto","hidden","clip","visible","scroll"],M=()=>["auto","contain","none"],P=()=>[Dn,Bn,l],k=()=>[_1,"full","auto",...P()],L=()=>[fy,"none","subgrid",Dn,Bn],$=()=>["auto",{span:["full",fy,Dn,Bn]},fy,Dn,Bn],z=()=>[fy,"auto",Dn,Bn],j=()=>["auto","min","max","fr",Dn,Bn],H=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],W=()=>["start","end","center","stretch","center-safe","end-safe"],O=()=>["auto",...P()],G=()=>[_1,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...P()],q=()=>[t,Dn,Bn],J=()=>[...I(),xQ,bQ,{position:[Dn,Bn]}],te=()=>["no-repeat",{repeat:["","x","y","space","round"]}],Y=()=>["auto","cover","contain",S8e,x8e,{size:[Dn,Bn]}],Z=()=>[jk,fw,Nb],ee=()=>["","none","full",u,Dn,Bn],ie=()=>["",ni,fw,Nb],ue=()=>["solid","dashed","dotted","double"],ae=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],de=()=>[ni,jk,xQ,bQ],ge=()=>["","none",m,Dn,Bn],_e=()=>["none",ni,Dn,Bn],we=()=>["none",ni,Dn,Bn],ke=()=>[ni,Dn,Bn],Fe=()=>[_1,"full",...P()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[r0],breakpoint:[r0],color:[m8e],container:[r0],"drop-shadow":[r0],ease:["in","out","in-out"],font:[b8e],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[r0],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[r0],shadow:[r0],spacing:["px",ni],text:[r0],"text-shadow":[r0],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",_1,Bn,Dn,y]}],container:["container"],columns:[{columns:[ni,Bn,Dn,a]}],"break-after":[{"break-after":E()}],"break-before":[{"break-before":E()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:D()}],overflow:[{overflow:T()}],"overflow-x":[{"overflow-x":T()}],"overflow-y":[{"overflow-y":T()}],overscroll:[{overscroll:M()}],"overscroll-x":[{"overscroll-x":M()}],"overscroll-y":[{"overscroll-y":M()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:k()}],"inset-x":[{"inset-x":k()}],"inset-y":[{"inset-y":k()}],start:[{start:k()}],end:[{end:k()}],top:[{top:k()}],right:[{right:k()}],bottom:[{bottom:k()}],left:[{left:k()}],visibility:["visible","invisible","collapse"],z:[{z:[fy,"auto",Dn,Bn]}],basis:[{basis:[_1,"full","auto",a,...P()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[ni,_1,"auto","initial","none",Bn]}],grow:[{grow:["",ni,Dn,Bn]}],shrink:[{shrink:["",ni,Dn,Bn]}],order:[{order:[fy,"first","last","none",Dn,Bn]}],"grid-cols":[{"grid-cols":L()}],"col-start-end":[{col:$()}],"col-start":[{"col-start":z()}],"col-end":[{"col-end":z()}],"grid-rows":[{"grid-rows":L()}],"row-start-end":[{row:$()}],"row-start":[{"row-start":z()}],"row-end":[{"row-end":z()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":j()}],"auto-rows":[{"auto-rows":j()}],gap:[{gap:P()}],"gap-x":[{"gap-x":P()}],"gap-y":[{"gap-y":P()}],"justify-content":[{justify:[...H(),"normal"]}],"justify-items":[{"justify-items":[...W(),"normal"]}],"justify-self":[{"justify-self":["auto",...W()]}],"align-content":[{content:["normal",...H()]}],"align-items":[{items:[...W(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...W(),{baseline:["","last"]}]}],"place-content":[{"place-content":H()}],"place-items":[{"place-items":[...W(),"baseline"]}],"place-self":[{"place-self":["auto",...W()]}],p:[{p:P()}],px:[{px:P()}],py:[{py:P()}],ps:[{ps:P()}],pe:[{pe:P()}],pt:[{pt:P()}],pr:[{pr:P()}],pb:[{pb:P()}],pl:[{pl:P()}],m:[{m:O()}],mx:[{mx:O()}],my:[{my:O()}],ms:[{ms:O()}],me:[{me:O()}],mt:[{mt:O()}],mr:[{mr:O()}],mb:[{mb:O()}],ml:[{ml:O()}],"space-x":[{"space-x":P()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":P()}],"space-y-reverse":["space-y-reverse"],size:[{size:G()}],w:[{w:[a,"screen",...G()]}],"min-w":[{"min-w":[a,"screen","none",...G()]}],"max-w":[{"max-w":[a,"screen","none","prose",{screen:[o]},...G()]}],h:[{h:["screen","lh",...G()]}],"min-h":[{"min-h":["screen","lh","none",...G()]}],"max-h":[{"max-h":["screen","lh",...G()]}],"font-size":[{text:["base",n,fw,Nb]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,Dn,Qk]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",jk,Bn]}],"font-family":[{font:[E8e,Bn,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[i,Dn,Bn]}],"line-clamp":[{"line-clamp":[ni,"none",Dn,Qk]}],leading:[{leading:[s,...P()]}],"list-image":[{"list-image":["none",Dn,Bn]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Dn,Bn]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:q()}],"text-color":[{text:q()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...ue(),"wavy"]}],"text-decoration-thickness":[{decoration:[ni,"from-font","auto",Dn,Nb]}],"text-decoration-color":[{decoration:q()}],"underline-offset":[{"underline-offset":[ni,"auto",Dn,Bn]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:P()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Dn,Bn]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Dn,Bn]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:J()}],"bg-repeat":[{bg:te()}],"bg-size":[{bg:Y()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},fy,Dn,Bn],radial:["",Dn,Bn],conic:[fy,Dn,Bn]},w8e,C8e]}],"bg-color":[{bg:q()}],"gradient-from-pos":[{from:Z()}],"gradient-via-pos":[{via:Z()}],"gradient-to-pos":[{to:Z()}],"gradient-from":[{from:q()}],"gradient-via":[{via:q()}],"gradient-to":[{to:q()}],rounded:[{rounded:ee()}],"rounded-s":[{"rounded-s":ee()}],"rounded-e":[{"rounded-e":ee()}],"rounded-t":[{"rounded-t":ee()}],"rounded-r":[{"rounded-r":ee()}],"rounded-b":[{"rounded-b":ee()}],"rounded-l":[{"rounded-l":ee()}],"rounded-ss":[{"rounded-ss":ee()}],"rounded-se":[{"rounded-se":ee()}],"rounded-ee":[{"rounded-ee":ee()}],"rounded-es":[{"rounded-es":ee()}],"rounded-tl":[{"rounded-tl":ee()}],"rounded-tr":[{"rounded-tr":ee()}],"rounded-br":[{"rounded-br":ee()}],"rounded-bl":[{"rounded-bl":ee()}],"border-w":[{border:ie()}],"border-w-x":[{"border-x":ie()}],"border-w-y":[{"border-y":ie()}],"border-w-s":[{"border-s":ie()}],"border-w-e":[{"border-e":ie()}],"border-w-t":[{"border-t":ie()}],"border-w-r":[{"border-r":ie()}],"border-w-b":[{"border-b":ie()}],"border-w-l":[{"border-l":ie()}],"divide-x":[{"divide-x":ie()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":ie()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...ue(),"hidden","none"]}],"divide-style":[{divide:[...ue(),"hidden","none"]}],"border-color":[{border:q()}],"border-color-x":[{"border-x":q()}],"border-color-y":[{"border-y":q()}],"border-color-s":[{"border-s":q()}],"border-color-e":[{"border-e":q()}],"border-color-t":[{"border-t":q()}],"border-color-r":[{"border-r":q()}],"border-color-b":[{"border-b":q()}],"border-color-l":[{"border-l":q()}],"divide-color":[{divide:q()}],"outline-style":[{outline:[...ue(),"none","hidden"]}],"outline-offset":[{"outline-offset":[ni,Dn,Bn]}],"outline-w":[{outline:["",ni,fw,Nb]}],"outline-color":[{outline:q()}],shadow:[{shadow:["","none",c,yI,AI]}],"shadow-color":[{shadow:q()}],"inset-shadow":[{"inset-shadow":["none",d,yI,AI]}],"inset-shadow-color":[{"inset-shadow":q()}],"ring-w":[{ring:ie()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:q()}],"ring-offset-w":[{"ring-offset":[ni,Nb]}],"ring-offset-color":[{"ring-offset":q()}],"inset-ring-w":[{"inset-ring":ie()}],"inset-ring-color":[{"inset-ring":q()}],"text-shadow":[{"text-shadow":["none",f,yI,AI]}],"text-shadow-color":[{"text-shadow":q()}],opacity:[{opacity:[ni,Dn,Bn]}],"mix-blend":[{"mix-blend":[...ae(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":ae()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[ni]}],"mask-image-linear-from-pos":[{"mask-linear-from":de()}],"mask-image-linear-to-pos":[{"mask-linear-to":de()}],"mask-image-linear-from-color":[{"mask-linear-from":q()}],"mask-image-linear-to-color":[{"mask-linear-to":q()}],"mask-image-t-from-pos":[{"mask-t-from":de()}],"mask-image-t-to-pos":[{"mask-t-to":de()}],"mask-image-t-from-color":[{"mask-t-from":q()}],"mask-image-t-to-color":[{"mask-t-to":q()}],"mask-image-r-from-pos":[{"mask-r-from":de()}],"mask-image-r-to-pos":[{"mask-r-to":de()}],"mask-image-r-from-color":[{"mask-r-from":q()}],"mask-image-r-to-color":[{"mask-r-to":q()}],"mask-image-b-from-pos":[{"mask-b-from":de()}],"mask-image-b-to-pos":[{"mask-b-to":de()}],"mask-image-b-from-color":[{"mask-b-from":q()}],"mask-image-b-to-color":[{"mask-b-to":q()}],"mask-image-l-from-pos":[{"mask-l-from":de()}],"mask-image-l-to-pos":[{"mask-l-to":de()}],"mask-image-l-from-color":[{"mask-l-from":q()}],"mask-image-l-to-color":[{"mask-l-to":q()}],"mask-image-x-from-pos":[{"mask-x-from":de()}],"mask-image-x-to-pos":[{"mask-x-to":de()}],"mask-image-x-from-color":[{"mask-x-from":q()}],"mask-image-x-to-color":[{"mask-x-to":q()}],"mask-image-y-from-pos":[{"mask-y-from":de()}],"mask-image-y-to-pos":[{"mask-y-to":de()}],"mask-image-y-from-color":[{"mask-y-from":q()}],"mask-image-y-to-color":[{"mask-y-to":q()}],"mask-image-radial":[{"mask-radial":[Dn,Bn]}],"mask-image-radial-from-pos":[{"mask-radial-from":de()}],"mask-image-radial-to-pos":[{"mask-radial-to":de()}],"mask-image-radial-from-color":[{"mask-radial-from":q()}],"mask-image-radial-to-color":[{"mask-radial-to":q()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":I()}],"mask-image-conic-pos":[{"mask-conic":[ni]}],"mask-image-conic-from-pos":[{"mask-conic-from":de()}],"mask-image-conic-to-pos":[{"mask-conic-to":de()}],"mask-image-conic-from-color":[{"mask-conic-from":q()}],"mask-image-conic-to-color":[{"mask-conic-to":q()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:J()}],"mask-repeat":[{mask:te()}],"mask-size":[{mask:Y()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",Dn,Bn]}],filter:[{filter:["","none",Dn,Bn]}],blur:[{blur:ge()}],brightness:[{brightness:[ni,Dn,Bn]}],contrast:[{contrast:[ni,Dn,Bn]}],"drop-shadow":[{"drop-shadow":["","none",p,yI,AI]}],"drop-shadow-color":[{"drop-shadow":q()}],grayscale:[{grayscale:["",ni,Dn,Bn]}],"hue-rotate":[{"hue-rotate":[ni,Dn,Bn]}],invert:[{invert:["",ni,Dn,Bn]}],saturate:[{saturate:[ni,Dn,Bn]}],sepia:[{sepia:["",ni,Dn,Bn]}],"backdrop-filter":[{"backdrop-filter":["","none",Dn,Bn]}],"backdrop-blur":[{"backdrop-blur":ge()}],"backdrop-brightness":[{"backdrop-brightness":[ni,Dn,Bn]}],"backdrop-contrast":[{"backdrop-contrast":[ni,Dn,Bn]}],"backdrop-grayscale":[{"backdrop-grayscale":["",ni,Dn,Bn]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[ni,Dn,Bn]}],"backdrop-invert":[{"backdrop-invert":["",ni,Dn,Bn]}],"backdrop-opacity":[{"backdrop-opacity":[ni,Dn,Bn]}],"backdrop-saturate":[{"backdrop-saturate":[ni,Dn,Bn]}],"backdrop-sepia":[{"backdrop-sepia":["",ni,Dn,Bn]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":P()}],"border-spacing-x":[{"border-spacing-x":P()}],"border-spacing-y":[{"border-spacing-y":P()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Dn,Bn]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[ni,"initial",Dn,Bn]}],ease:[{ease:["linear","initial",A,Dn,Bn]}],delay:[{delay:[ni,Dn,Bn]}],animate:[{animate:["none",C,Dn,Bn]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[v,Dn,Bn]}],"perspective-origin":[{"perspective-origin":D()}],rotate:[{rotate:_e()}],"rotate-x":[{"rotate-x":_e()}],"rotate-y":[{"rotate-y":_e()}],"rotate-z":[{"rotate-z":_e()}],scale:[{scale:we()}],"scale-x":[{"scale-x":we()}],"scale-y":[{"scale-y":we()}],"scale-z":[{"scale-z":we()}],"scale-3d":["scale-3d"],skew:[{skew:ke()}],"skew-x":[{"skew-x":ke()}],"skew-y":[{"skew-y":ke()}],transform:[{transform:[Dn,Bn,"","none","gpu","cpu"]}],"transform-origin":[{origin:D()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:Fe()}],"translate-x":[{"translate-x":Fe()}],"translate-y":[{"translate-y":Fe()}],"translate-z":[{"translate-z":Fe()}],"translate-none":["translate-none"],accent:[{accent:q()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:q()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Dn,Bn]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":P()}],"scroll-mx":[{"scroll-mx":P()}],"scroll-my":[{"scroll-my":P()}],"scroll-ms":[{"scroll-ms":P()}],"scroll-me":[{"scroll-me":P()}],"scroll-mt":[{"scroll-mt":P()}],"scroll-mr":[{"scroll-mr":P()}],"scroll-mb":[{"scroll-mb":P()}],"scroll-ml":[{"scroll-ml":P()}],"scroll-p":[{"scroll-p":P()}],"scroll-px":[{"scroll-px":P()}],"scroll-py":[{"scroll-py":P()}],"scroll-ps":[{"scroll-ps":P()}],"scroll-pe":[{"scroll-pe":P()}],"scroll-pt":[{"scroll-pt":P()}],"scroll-pr":[{"scroll-pr":P()}],"scroll-pb":[{"scroll-pb":P()}],"scroll-pl":[{"scroll-pl":P()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Dn,Bn]}],fill:[{fill:["none",...q()]}],"stroke-w":[{stroke:[ni,fw,Nb,Qk]}],stroke:[{stroke:["none",...q()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},D8e=l8e(B8e);function xue(t,e){return lv(t,n=>D8e(e,n))}const T8e=["red","orange","amber","yellow","lime","green","emerald","teal","cyan","sky","blue","indigo","violet","purple","fuchsia","pink","rose","slate","stone"],M8e={red:"#ef4444",orange:"#f97316",amber:"#f59e0b",yellow:"#eab308",lime:"#84cc16",green:"#22c55e",emerald:"#10b981",teal:"#14b8a6",cyan:"#06b6d4",sky:"#0ea5e9",blue:"#3b82f6",indigo:"#6366f1",violet:"#8b5cf6",purple:"#a855f7",fuchsia:"#d946ef",pink:"#ec4899",rose:"#f43f5e",slate:"#64748b",stone:"#78716c"};function k8e(t){return M8e[t]}const Cue=T8e.map(t=>({name:t,value:k8e(t)})),P8e=`linear-gradient(to right, ${Cue.map(t=>t.value).join(", ")})`,Eue="absolute box-border h-5 w-5 -translate-x-1/2 -translate-y-1/2 rounded-full border-2 border-white bg-white/0 shadow-[0_0_0_1px_rgba(0,0,0,0.45),inset_0_0_0_1px_rgba(0,0,0,0.45)] data-[focus-visible=true]:h-6 data-[focus-visible=true]:w-6 group-data-[orientation=horizontal]:top-1/2 group-data-[orientation=vertical]:left-1/2";function R8e({className:t,...e}){return h.jsx(yae,{...e,className:xue(t,"relative aspect-square w-full min-w-[12rem] max-w-[18rem] rounded-xl border border-slate-200 bg-transparent shadow-sm data-[disabled=true]:opacity-40"),children:h.jsx(RT,{className:Eue})})}function N8e({className:t,...e}){return h.jsx(lle,{...e,className:xue(t,"group grid gap-2 text-sm data-[orientation=vertical]:grid-rows-[auto_1fr]"),children:h.jsx(ale,{className:"relative flex h-4 w-full items-center overflow-hidden rounded-full border border-slate-200 bg-slate-200/60 group-data-[orientation=vertical]:h-full group-data-[orientation=vertical]:w-4",style:{backgroundImage:P8e},children:h.jsx(RT,{className:Eue})})})}function L8e(t){return`${t.charAt(0).toUpperCase()}${t.slice(1)} 500`}function ovt({areaProps:t,sliderProps:e,swatchPickerProps:n,swatches:r=Cue,className:i}){return h.jsxs("div",{className:`flex flex-col gap-4 ${i??""}`,children:[h.jsx(R8e,{colorSpace:"hsb",xChannel:"saturation",yChannel:"brightness",...t}),h.jsx(N8e,{colorSpace:"hsb",channel:"hue",...e}),h.jsx(O6e,{...n,children:n?.children??r.map(s=>h.jsx(j6e,{color:s.value,"aria-label":L8e(s.name)},s.name))})]})}const F8e=(t,e)=>({multiSelectMode:!1,selectedElementIds:[],selectedElementIdsSet:new Set,selectionBounds:null,setMultiSelectMode:n=>{const{selectedElementIds:r}=e(),i=n?r:r.slice(0,1);t({multiSelectMode:n,selectedElementIds:i,selectedElementIdsSet:new Set(i)})},addToSelection:n=>{const{multiSelectMode:r,selectedElementIdsSet:i}=e();if(!r)t({selectedElementIds:[n],selectedElementIdsSet:new Set([n])});else if(!i.has(n)){const s=new Set(i);s.add(n),t({selectedElementIds:Array.from(s),selectedElementIdsSet:s})}},removeFromSelection:n=>{const{selectedElementIdsSet:r}=e(),i=new Set(r);i.delete(n),t({selectedElementIds:Array.from(i),selectedElementIdsSet:i})},clearSelection:()=>t({selectedElementIds:[],selectedElementIdsSet:new Set,selectionBounds:null}),setSelectionBounds:n=>t({selectionBounds:n}),selectAll:n=>{const r=n.map(i=>i.id);t({selectedElementIds:r,selectedElementIdsSet:new Set(r)})},selectByParent:(n,r)=>{const s=r.filter(o=>o.parent_id===n).map(o=>o.id);t({selectedElementIds:s,selectedElementIdsSet:new Set(s)})}});class $8e{commands=new Map;elementCache=new Map;maxCommands=100;maxCacheSize=500;compressionEnabled=!0;constructor(e){this.maxCommands=e?.maxCommands??100,this.maxCacheSize=e?.maxCacheSize??500,this.compressionEnabled=e?.compressionEnabled??!0}addCommand(e){const n=this.generateCommandId(),r=Date.now(),i={...e,id:n,timestamp:r},s=this.getCommandByElementId(e.elementId);return s&&this.canMergeCommands(s,i)?this.mergeCommands(s.id,i):this.commands.set(n,i),this.manageCache(),n}getCommand(e){return this.commands.get(e)}getCommandByElementId(e){for(const n of this.commands.values())if(n.elementId===e)return n}getAllCommands(){return Array.from(this.commands.values()).sort((e,n)=>n.timestamp-e.timestamp)}removeCommand(e){return this.commands.delete(e)}cacheElement(e){this.elementCache.size>=this.maxCacheSize&&this.cleanOldCache();const n={id:e.id,tag:e.tag,props:this.compressionEnabled?this.compressProps(e.props):JSON.stringify(e.props),parent_id:e.parent_id||null,page_id:e.page_id||"",order_num:e.order_num||0};this.elementCache.set(e.id,n)}restoreElement(e){const n=this.elementCache.get(e);if(n)return{id:n.id,tag:n.tag,props:this.compressionEnabled?this.decompressProps(n.props):JSON.parse(n.props),parent_id:n.parent_id,page_id:n.page_id,order_num:n.order_num}}getMemoryStats(){const e=this.commands.size,n=this.elementCache.size;let r=0;for(const s of this.commands.values())try{r+=JSON.stringify(s).length*2}catch{r+=1e3}for(const s of this.elementCache.values())try{r+=JSON.stringify(s).length*2}catch{r+=500}const i=this.compressionEnabled?.3:1;return{commandCount:e,cacheSize:n,estimatedMemoryUsage:r,compressionRatio:i}}cleanOldCache(){const n=Array.from(this.elementCache.entries()).slice(0,Math.floor(this.maxCacheSize*.2));for(const[r]of n)this.elementCache.delete(r)}canMergeCommands(e,n){return e.elementId===n.elementId&&e.type==="update"&&n.type==="update"}mergeCommands(e,n){const r=this.commands.get(e);r&&r.type==="update"&&n.type==="update"&&(r.changes.updated={prevProps:r.changes.updated?.prevProps||{},newProps:n.changes.updated?.newProps||{}},r.timestamp=n.timestamp)}manageCache(){if(this.commands.size>this.maxCommands){const n=Array.from(this.commands.entries()).sort(([,r],[,i])=>r.timestamp-i.timestamp).slice(0,this.commands.size-this.maxCommands);for(const[r]of n)this.commands.delete(r)}}compressProps(e){try{const n=JSON.stringify(e);return btoa(n)}catch{return JSON.stringify(e)}}decompressProps(e){try{const n=atob(e);return JSON.parse(n)}catch{return JSON.parse(e)}}generateCommandId(){return`cmd_${Date.now()}_${Math.random().toString(36).substr(2,9)}`}clear(){this.commands.clear(),this.elementCache.clear()}getCommandsByPage(e){return Array.from(this.commands.values()).filter(n=>n.metadata.pageId===e).sort((n,r)=>r.timestamp-n.timestamp)}optimizeMemory(){const e=Date.now()-864e5;for(const[n,r]of this.commands.entries())r.timestamp<e&&this.commands.delete(n);this.cleanOldCache()}}const z8e=new $8e({maxCommands:100,maxCacheSize:500,compressionEnabled:!0});function O8e(){return{changed:new Map,added:new Map,removed:new Map}}function xD(t,e){if(t===e)return!0;if(t===null||e===null)return t===e;if(typeof t!=typeof e)return!1;if(typeof t=="object"){const n=t,r=e,i=Object.keys(n),s=Object.keys(r);if(i.length!==s.length)return!1;for(const o of i)if(!xD(n[o],r[o]))return!1;return!0}return!1}function j8e(t,e){const n=O8e(),r=t,i=e;for(const s of Object.keys(r)){const o=r[s],a=i[s];s in i?xD(o,a)||n.changed.set(s,{prev:o,next:a}):n.removed.set(s,o)}for(const s of Object.keys(i))s in r||n.added.set(s,i[s]);return n}function CQ(t,e){const n={elementId:t.id},r=j8e(t.props,e.props);(r.changed.size>0||r.added.size>0||r.removed.size>0)&&(n.props=r),t.parent_id!==e.parent_id&&(n.parentId={prev:t.parent_id||null,next:e.parent_id||null}),t.order_num!==e.order_num&&(n.orderNum={prev:t.order_num??0,next:e.order_num??0});const i={};return t.customId!==e.customId&&(i.customId={prev:t.customId,next:e.customId}),xD(t.events,e.events)||(i.events={prev:t.events,next:e.events}),xD(t.dataBinding,e.dataBinding)||(i.dataBinding={prev:t.dataBinding,next:e.dataBinding}),Object.keys(i).length>0&&(n.metadata=i),n}function EQ(t){return!(t.props&&(t.props.changed.size>0||t.props.added.size>0||t.props.removed.size>0))&&!t.parentId&&!t.orderNum&&!t.metadata}function SQ(t){const e={elementId:t.elementId};return t.props&&(e.props={changed:Array.from(t.props.changed.entries()),added:Array.from(t.props.added.entries()),removed:Array.from(t.props.removed.entries())}),t.parentId&&(e.parentId=t.parentId),t.orderNum&&(e.orderNum=t.orderNum),t.metadata&&(e.metadata=t.metadata),e}function wQ(t){let e=0;if(e+=t.elementId.length*2,t.props){for(const[n,{prev:r,next:i}]of t.props.changed)e+=n.length*2,e+=vI(r),e+=vI(i);for(const[n,r]of t.props.added)e+=n.length*2,e+=vI(r);for(const[n,r]of t.props.removed)e+=n.length*2,e+=vI(r)}return t.parentId&&(e+=100),t.orderNum&&(e+=50),t.metadata&&(e+=500),e}function vI(t){if(t==null)return 8;if(typeof t=="string")return t.length*2;if(typeof t=="number")return 8;if(typeof t=="boolean")return 4;if(typeof t=="object")try{return JSON.stringify(t).length*2}catch{return 1e3}return 100}const Q8e="xstudio-history",U8e=1,_l="history-entries",id="page-meta",H8e=90;class V8e{db=null;dbPromise=null;async init(){if(!this.db){if(this.dbPromise){await this.dbPromise;return}this.dbPromise=this.openDatabase(),this.db=await this.dbPromise,this.cleanupOldEntries().catch(console.error)}}openDatabase(){return new Promise((e,n)=>{const r=globalThis.indexedDB;if(!r){n(new Error("IndexedDB is not available in this environment"));return}const i=r.open(Q8e,U8e);i.onerror=()=>{console.error(" [HistoryIDB] Failed to open database:",i.error),n(i.error)},i.onsuccess=()=>{e(i.result)},i.onupgradeneeded=s=>{const o=s.target.result;if(!o.objectStoreNames.contains(_l)){const a=o.createObjectStore(_l,{keyPath:"id"});a.createIndex("pageId","pageId",{unique:!1}),a.createIndex("createdAt","createdAt",{unique:!1}),a.createIndex("pageId_createdAt",["pageId","createdAt"],{unique:!1})}o.objectStoreNames.contains(id)||o.createObjectStore(id,{keyPath:"pageId"})}})}async getDB(){return this.db||await this.init(),this.db}async saveEntry(e,n){try{const r=await this.getDB();return new Promise((i,s)=>{const a=r.transaction([_l],"readwrite").objectStore(_l),l={id:n.id,pageId:e,entry:n,createdAt:n.timestamp},u=a.put(l);u.onsuccess=()=>i(),u.onerror=()=>{console.error(" [HistoryIDB] Failed to save entry:",u.error),s(u.error)}})}catch(r){console.error(" [HistoryIDB] saveEntry error:",r)}}async saveEntries(e,n){if(n.length!==0)try{const r=await this.getDB();return new Promise((i,s)=>{const a=r.transaction([_l],"readwrite").objectStore(_l);let l=0,u=!1;for(const c of n){const d={id:c.id,pageId:e,entry:c,createdAt:c.timestamp},f=a.put(d);f.onsuccess=()=>{l++,l===n.length&&!u&&i()},f.onerror=()=>{u||(u=!0,console.error(" [HistoryIDB] Failed to save entries:",f.error),s(f.error))}}})}catch(r){console.error(" [HistoryIDB] saveEntries error:",r)}}async getEntriesByPage(e){try{const n=await this.getDB();return new Promise((r,i)=>{const l=n.transaction([_l],"readonly").objectStore(_l).index("pageId").getAll(e);l.onsuccess=()=>{const u=l.result;u.sort((d,f)=>d.createdAt-f.createdAt);const c=u.map(d=>d.entry);r(c)},l.onerror=()=>{console.error(" [HistoryIDB] Failed to get entries:",l.error),i(l.error)}})}catch(n){return console.error(" [HistoryIDB] getEntriesByPage error:",n),[]}}async deleteEntry(e){try{const n=await this.getDB();return new Promise((r,i)=>{const a=n.transaction([_l],"readwrite").objectStore(_l).delete(e);a.onsuccess=()=>r(),a.onerror=()=>{console.error(" [HistoryIDB] Failed to delete entry:",a.error),i(a.error)}})}catch(n){console.error(" [HistoryIDB] deleteEntry error:",n)}}async clearPageHistory(e){try{const n=await this.getDB();return new Promise((r,i)=>{const s=n.transaction([_l,id],"readwrite"),o=s.objectStore(_l),a=s.objectStore(id),u=o.index("pageId").openCursor(e);u.onsuccess=c=>{const d=c.target.result;d&&(d.delete(),d.continue())},a.delete(e),s.oncomplete=()=>{r()},s.onerror=()=>{console.error(" [HistoryIDB] Failed to clear page history:",s.error),i(s.error)}})}catch(n){console.error(" [HistoryIDB] clearPageHistory error:",n)}}async savePageMeta(e,n,r){try{const i=await this.getDB();return new Promise((s,o)=>{const l=i.transaction([id],"readwrite").objectStore(id),u={pageId:e,currentIndex:n,totalEntries:r,lastUpdated:Date.now()},c=l.put(u);c.onsuccess=()=>s(),c.onerror=()=>{console.error(" [HistoryIDB] Failed to save meta:",c.error),o(c.error)}})}catch(i){console.error(" [HistoryIDB] savePageMeta error:",i)}}async getPageMeta(e){try{const n=await this.getDB();return new Promise((r,i)=>{const a=n.transaction([id],"readonly").objectStore(id).get(e);a.onsuccess=()=>{r(a.result||null)},a.onerror=()=>{console.error(" [HistoryIDB] Failed to get meta:",a.error),i(a.error)}})}catch(n){return console.error(" [HistoryIDB] getPageMeta error:",n),null}}async getAllPageIds(){try{const e=await this.getDB();return new Promise((n,r)=>{const o=e.transaction([id],"readonly").objectStore(id).getAllKeys();o.onsuccess=()=>{n(o.result)},o.onerror=()=>{console.error(" [HistoryIDB] Failed to get page IDs:",o.error),r(o.error)}})}catch(e){return console.error(" [HistoryIDB] getAllPageIds error:",e),[]}}async cleanupOldEntries(){try{const e=await this.getDB(),n=Date.now()-H8e*24*60*60*1e3;let r=0;return new Promise((i,s)=>{const o=e.transaction([_l],"readwrite"),l=o.objectStore(_l).index("createdAt"),u=IDBKeyRange.upperBound(n),c=l.openCursor(u);c.onsuccess=d=>{const f=d.target.result;f&&(f.delete(),r++,f.continue())},o.oncomplete=()=>{i(r)},o.onerror=()=>{console.error(" [HistoryIDB] Cleanup failed:",o.error),s(o.error)}})}catch(e){return console.error(" [HistoryIDB] cleanupOldEntries error:",e),0}}async clearAll(){try{const e=await this.getDB();return new Promise((n,r)=>{const i=e.transaction([_l,id],"readwrite");i.objectStore(_l).clear(),i.objectStore(id).clear(),i.oncomplete=()=>{n()},i.onerror=()=>{console.error(" [HistoryIDB] Failed to clear all:",i.error),r(i.error)}})}catch(e){console.error(" [HistoryIDB] clearAll error:",e)}}async getStats(){try{const e=await this.getDB();return new Promise((n,r)=>{const i=e.transaction([_l,id],"readonly");let s=0,o=0;const a=i.objectStore(_l).count(),l=i.objectStore(id).count();a.onsuccess=()=>{s=a.result},l.onsuccess=()=>{o=l.result},i.oncomplete=()=>{const u=s*500;n({totalEntries:s,totalPages:o,estimatedSize:u})},i.onerror=()=>{r(i.error)}})}catch(e){return console.error(" [HistoryIDB] getStats error:",e),{totalEntries:0,totalPages:0,estimatedSize:0}}}close(){this.db&&(this.db.close(),this.db=null,this.dbPromise=null)}}const Sue=new V8e;class G8e{pageHistories=new Map;currentPageId=null;defaultMaxSize=50;commandDataStore=z8e;indexedDB=Sue;idbAvailable=typeof globalThis.indexedDB<"u";isInitialized=!1;initPromise=null;listeners=new Set;constructor(){this.idbAvailable?this.initPromise=this.initialize():(this.isInitialized=!0,this.initPromise=Promise.resolve())}async initialize(){if(!this.idbAvailable){this.isInitialized=!0;return}try{await this.indexedDB.init(),this.isInitialized=!0}catch(e){console.error(" [History] IndexedDB initialization failed:",e),this.isInitialized=!0}}async ensureInitialized(){this.initPromise&&await this.initPromise}setCurrentPage(e){this.currentPageId=e,this.pageHistories.has(e)||(this.pageHistories.set(e,{entries:[],currentIndex:-1,maxSize:this.defaultMaxSize}),this.idbAvailable&&this.restoreFromIndexedDB(e).catch(console.error)),this.notifyListeners()}async restoreFromIndexedDB(e){if(!this.idbAvailable)return!1;try{await this.ensureInitialized();const n=await this.indexedDB.getPageMeta(e);if(!n||n.totalEntries===0)return!1;const r=await this.indexedDB.getEntriesByPage(e);if(r.length===0)return!1;const i=this.pageHistories.get(e);if(i&&i.entries.length===0){const s=r.slice(-this.defaultMaxSize);return i.entries=s,i.currentIndex=Math.min(n.currentIndex,s.length-1),this.notifyListeners(),!0}return!1}catch(n){return console.error(" [History] Failed to restore from IndexedDB:",n),!1}}addEntry(e){if(console.log("[History] addEntry called:",{type:e.type,elementId:e.elementId,currentPageId:this.currentPageId}),!this.currentPageId){console.warn("[History] addEntry skipped: no currentPageId");return}const n=this.pageHistories.get(this.currentPageId);if(!n){console.warn("[History] addEntry skipped: no pageHistory for",this.currentPageId);return}const r=["batch","group","ungroup"].includes(e.type)?"update":e.type,i=this.commandDataStore.addCommand({type:r,elementId:e.elementId,changes:this.convertToCommandChanges(e),metadata:{pageId:this.currentPageId,sessionId:this.getSessionId()}});e.data.element&&this.commandDataStore.cacheElement(e.data.element),e.data.prevElement&&this.commandDataStore.cacheElement(e.data.prevElement);const s={...e,id:i,timestamp:Date.now()};if(n.entries=n.entries.slice(0,n.currentIndex+1),n.entries.push(s),n.currentIndex=n.entries.length-1,n.entries.length>n.maxSize){const o=n.entries.shift();o&&this.commandDataStore.removeCommand(o.id),n.currentIndex--}this.saveToIndexedDB(this.currentPageId,s,n.currentIndex),this.notifyListeners()}saveToIndexedDB(e,n,r){this.idbAvailable&&(async()=>{try{await this.ensureInitialized(),await this.indexedDB.saveEntry(e,n);const i=this.pageHistories.get(e);i&&await this.indexedDB.savePageMeta(e,r,i.entries.length)}catch(i){console.error(" [History] Failed to save to IndexedDB:",i)}})()}addDiffEntry(e,n,r,i){if(!this.currentPageId)return;const s=this.pageHistories.get(this.currentPageId);if(!s)return;const o=CQ(n,r);if(e==="update"&&EQ(o))return;const a=SQ(o),l=wQ(o),c={id:this.commandDataStore.addCommand({type:e,elementId:n.id,changes:{updated:{prevProps:n.props,newProps:r.props}},metadata:{pageId:this.currentPageId,sessionId:this.getSessionId()}}),type:e,elementId:n.id,data:{diff:a,...e==="add"&&{element:r,childElements:i},...e==="remove"&&{element:n,childElements:i}},timestamp:Date.now(),estimatedSize:l};if(s.entries=s.entries.slice(0,s.currentIndex+1),s.entries.push(c),s.currentIndex=s.entries.length-1,s.entries.length>s.maxSize){const d=s.entries.shift();d&&this.commandDataStore.removeCommand(d.id),s.currentIndex--}this.saveToIndexedDB(this.currentPageId,c,s.currentIndex),this.notifyListeners()}addBatchDiffEntry(e,n){if(!this.currentPageId||e.length!==n.length)return;const r=this.pageHistories.get(this.currentPageId);if(!r)return;const i=[];let s=0;for(let l=0;l<e.length;l++){const u=CQ(e[l],n[l]);EQ(u)||(i.push(SQ(u)),s+=wQ(u))}if(i.length===0)return;const a={id:this.commandDataStore.addCommand({type:"update",elementId:"batch_diff",changes:{},metadata:{pageId:this.currentPageId,sessionId:this.getSessionId()}}),type:"batch",elementId:"batch_diff",elementIds:e.map(l=>l.id),data:{diffs:i},timestamp:Date.now(),estimatedSize:s};if(r.entries=r.entries.slice(0,r.currentIndex+1),r.entries.push(a),r.currentIndex=r.entries.length-1,r.entries.length>r.maxSize){const l=r.entries.shift();l&&this.commandDataStore.removeCommand(l.id),r.currentIndex--}this.saveToIndexedDB(this.currentPageId,a,r.currentIndex),this.notifyListeners()}undo(){if(!this.currentPageId)return null;const e=this.pageHistories.get(this.currentPageId);if(!e||e.currentIndex<0)return null;const n=e.entries[e.currentIndex];return e.currentIndex--,this.updateIndexedDBMeta(this.currentPageId,e),this.notifyListeners(),n}redo(){if(!this.currentPageId)return null;const e=this.pageHistories.get(this.currentPageId);if(!e||e.currentIndex>=e.entries.length-1)return null;e.currentIndex++;const n=e.entries[e.currentIndex];return this.updateIndexedDBMeta(this.currentPageId,e),this.notifyListeners(),n}goToIndex(e){if(!this.currentPageId)return null;const n=this.pageHistories.get(this.currentPageId);if(!n)return null;const r=n.currentIndex;if(e===r||e<-1||e>=n.entries.length)return null;const i=[];if(e<r){for(let s=r;s>e;s--)i.push(n.entries[s]);return n.currentIndex=e,this.updateIndexedDBMeta(this.currentPageId,n),this.notifyListeners(),{entries:i,direction:"undo"}}else{for(let s=r+1;s<=e;s++)i.push(n.entries[s]);return n.currentIndex=e,this.updateIndexedDBMeta(this.currentPageId,n),this.notifyListeners(),{entries:i,direction:"redo"}}}updateIndexedDBMeta(e,n){this.idbAvailable&&(async()=>{try{await this.ensureInitialized(),await this.indexedDB.savePageMeta(e,n.currentIndex,n.entries.length)}catch(r){console.error(" [History] Failed to update IndexedDB meta:",r)}})()}canUndo(){if(!this.currentPageId)return!1;const e=this.pageHistories.get(this.currentPageId);return e?e.currentIndex>=0:!1}canRedo(){if(!this.currentPageId)return!1;const e=this.pageHistories.get(this.currentPageId);return e?e.currentIndex<e.entries.length-1:!1}getCurrentPageHistory(){if(!this.currentPageId)return{canUndo:!1,canRedo:!1,totalEntries:0,currentIndex:-1};const e=this.pageHistories.get(this.currentPageId);return e?{canUndo:this.canUndo(),canRedo:this.canRedo(),totalEntries:e.entries.length,currentIndex:e.currentIndex}:{canUndo:!1,canRedo:!1,totalEntries:0,currentIndex:-1}}getCurrentPageEntries(){if(!this.currentPageId)return[];const e=this.pageHistories.get(this.currentPageId);return e?[...e.entries]:[]}clearPageHistory(e){this.pageHistories.delete(e),this.idbAvailable&&(async()=>{try{await this.ensureInitialized(),await this.indexedDB.clearPageHistory(e)}catch(n){console.error(" [History] Failed to clear IndexedDB page history:",n)}})(),this.currentPageId===e?this.setCurrentPage(e):this.notifyListeners()}clearAllHistory(){this.pageHistories.clear(),this.commandDataStore.clear(),this.idbAvailable&&(async()=>{try{await this.ensureInitialized(),await this.indexedDB.clearAll()}catch(e){console.error(" [History] Failed to clear all IndexedDB history:",e)}})(),this.notifyListeners()}subscribe(e){return this.listeners.add(e),()=>this.listeners.delete(e)}notifyListeners(){this.listeners.forEach(e=>e())}convertToCommandChanges(e){switch(e.type){case"add":return{added:e.data.element};case"remove":return{removed:e.data.element};case"update":return{updated:{prevProps:e.data.prevProps||{},newProps:e.data.props||{}}};case"move":return{moved:{prevParentId:e.data.prevParentId||null,newParentId:e.data.parentId||null,prevOrderNum:e.data.prevOrderNum||0,newOrderNum:e.data.orderNum||0}};case"batch":return{batch:{updates:(e.data.batchUpdates||[]).map(n=>({elementId:n.elementId,prevProps:n.prevProps,newProps:n.newProps}))}};case"group":return{group:{groupId:e.data.groupData?.groupId||"",childIds:e.data.groupData?.childIds||[],elements:e.data.elements||[]}};case"ungroup":return{ungroup:{groupId:e.data.groupData?.groupId||"",childIds:e.data.groupData?.childIds||[],prevElements:e.data.prevElements||[]}};default:return{}}}getSessionId(){return`session_${Date.now()}_${Math.random().toString(36).substr(2,9)}`}getMemoryStats(){const e=this.pageHistories.size,n=Array.from(this.pageHistories.values()).flatMap(l=>l.entries),r=n.length;let i=0,s=0,o=0;for(const l of n)l.data.diff||l.data.diffs?(i++,o+=l.estimatedSize||0):s++;const a=i>0?Math.round(o/i):0;return{pageCount:e,totalEntries:r,commandStoreStats:this.commandDataStore.getMemoryStats(),diffStats:{diffBasedEntries:i,snapshotBasedEntries:s,totalDiffSize:o,avgDiffSize:a}}}async getIndexedDBStats(){if(!this.idbAvailable)return{totalEntries:0,totalPages:0,estimatedSize:0};try{return await this.ensureInitialized(),await this.indexedDB.getStats()}catch(e){return console.error(" [History] Failed to get IndexedDB stats:",e),{totalEntries:0,totalPages:0,estimatedSize:0}}}optimizeMemory(){this.commandDataStore.optimizeMemory();const e=Date.now()-10080*60*1e3;for(const[n,r]of this.pageHistories.entries())!r.entries.some(s=>s.timestamp>e)&&r.entries.length===0&&this.pageHistories.delete(n);this.idbAvailable&&(async()=>{try{await this.ensureInitialized(),await this.indexedDB.cleanupOldEntries()}catch(n){console.error(" [History] Failed to cleanup IndexedDB:",n)}})()}}const ys=new G8e;function nu(t,e){const n=t[e];return typeof n=="string"?n:typeof n=="number"||n!=null&&typeof n=="object"&&"toString"in n?String(n):""}function bI(t){return nu(t,"children")||nu(t,"title")||nu(t,"label")}const Vx=async(t,e,n)=>{const r=t.filter(s=>s.page_id===e).reduce((s,o)=>{const a=o.parent_id||"root";return s[a]||(s[a]=[]),s[a].push(o),s},{}),i=[];if(Object.entries(r).forEach(([s,o])=>{let a;const l=t.find(E=>E.id===(s==="root"?null:s)),u=l?.tag,c=u==="Tabs",d=u==="ListBox",f=u==="GridList",p=u==="Menu",m=u==="ComboBox",v=u==="Select",y=u==="Tree",A=u==="ToggleButtonGroup",C=u==="TableHeader";if((c||d||f||p||m||v||y||A||C)&&console.log("    :",{parentKey:s,parentElement:l?{id:l.id,tag:l.tag}:null,parentTag:u,childrenCount:o.length,childTags:o.map(E=>E.tag)}),c){const E=o.filter(T=>T.tag==="Tab").sort((T,M)=>{const P=(T.order_num||0)-(M.order_num||0);if(P===0){const k=nu(T.props,"title"),L=nu(M.props,"title");return k.localeCompare(L)}return P}),I=o.filter(T=>T.tag==="Panel").sort((T,M)=>{const P=(T.order_num||0)-(M.order_num||0);if(P===0){const k=nu(T.props,"title"),L=nu(M.props,"title");return k.localeCompare(L)}return P});a=[];const D=new Set;E.forEach(T=>{a.push(T);const M=nu(T.props,"tabId");if(M){const P=I.find(k=>nu(k.props,"tabId")===M&&!D.has(k.id));P&&(a.push(P),D.add(P.id))}}),I.forEach(T=>{D.has(T.id)||a.push(T)}),console.log(` Tabs   : ${E.length} Tab, ${I.length} Panel`),console.log(" Tab  :"),E.forEach((T,M)=>{const P=nu(T.props,"title"),k=nu(T.props,"tabId");console.log(`  ${M+1}. ${P} (order: ${T.order_num}, tabId: ${k.slice(0,8)}...)`)}),console.log("   :"),a.forEach((T,M)=>{const P=nu(T.props,"title");console.log(`  ${M+1}. ${T.tag}: ${P} (new order: ${M+1})`)})}else C?(console.log(` ${u}  ColumnGroup : ${o.length} `),a=o.sort((E,I)=>{const D=(E.order_num||0)-(I.order_num||0);if(D===0){const T=nu(E.props,"label"),M=nu(I.props,"label"),P=T.localeCompare(M);return P===0?E.id.localeCompare(I.id):P}return D}),console.log(` ${u}  ColumnGroup :`),a.forEach((E,I)=>{const D=nu(E.props,"label")||"Untitled",T=nu(E.props,"span")||"1";console.log(`  ${I+1}. ColumnGroup: ${D} (span: ${T}, order: ${E.order_num}  ${I+1})`)})):d||f||p||m||v||y||A?(console.log(` ${u}   : ${o.length} `),a=o.sort((E,I)=>{const D=(E.order_num||0)-(I.order_num||0);if(D===0){const T=bI(E.props),M=bI(I.props),P=T.localeCompare(M);return P===0?E.id.localeCompare(I.id):P}return D}),console.log(` ${u}  :`),a.forEach((E,I)=>{const D=bI(E.props)||"Untitled";console.log(`  ${I+1}. ${E.tag}: ${D} (order: ${E.order_num}  ${I+1})`)})):a=o.sort((E,I)=>{const D=(E.order_num||0)-(I.order_num||0);return D===0?E.id.localeCompare(I.id):D});a.forEach((E,I)=>{const D=I;E.order_num!==D&&(i.push({id:E.id,order_num:D}),n(E.id,D))})}),i.length>0)try{const s=i.map(l=>bi.from("elements").update({order_num:l.order_num}).eq("id",l.id)),a=(await Promise.all(s)).filter(l=>l.error);if(a.length>0)console.error("order_num  :",a.map(l=>l.error));else{console.log(` order_num  : ${i.length} `);const l=t.filter(u=>u.page_id===e&&(u.tag==="Tab"||u.tag==="Panel"||u.tag==="ListBoxItem"||u.tag==="GridListItem"||u.tag==="MenuItem"||u.tag==="ComboBoxItem"||u.tag==="SelectItem"||u.tag==="TreeItem"||u.tag==="ToggleButton"));l.length>0&&(console.log("     :"),l.sort((u,c)=>(u.order_num||0)-(c.order_num||0)).forEach(u=>{const c=bI(u.props)||"Untitled",d=u.tag==="Tab"||u.tag==="Panel"?`, tabId: ${nu(u.props,"tabId")}`:"";console.log(`  ${u.tag}: ${c} (order: ${u.order_num}${d})`)}))}}catch(s){console.error("order_num   :",s)}},pw=(t,e)=>{for(const n of t)if(n.id===e)return n;return null},$u=(t,e)=>t.get(e)||null,Cc=(t,e)=>({...t.props,...e,tag:t.tag}),tl=t=>{try{return typeof structuredClone<"u"?{id:t.id,customId:t.customId,tag:t.tag,props:structuredClone(t.props||{}),parent_id:t.parent_id,page_id:t.page_id,layout_id:t.layout_id,order_num:t.order_num,dataBinding:t.dataBinding}:{id:t.id,customId:t.customId,tag:t.tag,props:JSON.parse(JSON.stringify(t.props||{})),parent_id:t.parent_id,page_id:t.page_id,layout_id:t.layout_id,order_num:t.order_num,dataBinding:t.dataBinding}}catch(e){return console.error("Element sanitization error:",e),{id:t.id||"",customId:t.customId,tag:t.tag||"",props:{},parent_id:t.parent_id,page_id:t.page_id||"",layout_id:t.layout_id||null,order_num:t.order_num||0,dataBinding:t.dataBinding}}},A3=t=>{try{const e=typeof structuredClone<"u"?structuredClone(t.props||{}):JSON.parse(JSON.stringify(t.props||{}));return{id:t.id,custom_id:t.customId,tag:t.tag,props:e,parent_id:t.parent_id??null,page_id:t.page_id??"",layout_id:t.layout_id??null,order_num:t.order_num??0,data_binding:t.dataBinding}}catch(e){return console.error("Element sanitization for Supabase error:",e),{id:t.id||"",custom_id:t.customId,tag:t.tag||"",props:{},parent_id:t.parent_id??null,page_id:t.page_id??"",layout_id:t.layout_id??null,order_num:t.order_num??0,data_binding:t.dataBinding}}};function Dl(t){try{if(typeof structuredClone=="function")return structuredClone(t)}catch{}try{const e=JSON.stringify(t);return e===void 0?t:JSON.parse(e)}catch{return t}}const K8e=(t,e)=>async()=>{try{console.log(" Undo  ");const n=e(),{currentPageId:r}=n;if(console.log(" currentPageId:",r),!r){console.log(" currentPageId , return");return}t({historyOperationInProgress:!0}),console.log(" Undo ");const i=ys.undo();if(!i){console.log(" Undo :   "),t({historyOperationInProgress:!1});return}console.log(" Undo  :",{type:i.type,elementId:i.elementId,hasData:!!i.data,dataKeys:i.data?Object.keys(i.data):[]});let s=[];const o=[];let a=null,l=null;try{switch(i.type){case"add":{s=[i.elementId],i.data.childElements&&i.data.childElements.length>0&&s.push(...i.data.childElements.map(y=>y.id));break}case"update":{console.log(" Update   :",{hasPrevProps:!!i.data.prevProps,hasPrevElement:!!i.data.prevElement,prevProps:i.data.prevProps,prevElement:i.data.prevElement}),i.data.prevProps&&(a=Dl(i.data.prevProps),console.log(" prevProps  :",a)),i.data.prevElement&&(l=Dl(i.data.prevElement),console.log(" prevElement  :",l));break}case"remove":{i.data.element&&o.push(Dl(i.data.element)),i.data.childElements&&i.data.childElements.length>0&&(o.push(...i.data.childElements.map(y=>Dl(y))),console.log(` Undo:   ${i.data.childElements.length} `,{parent:i.data.element?.tag,children:i.data.childElements.map(y=>({id:y.id,tag:y.tag}))}));break}case"batch":{console.log(" Undo: Batch update  ");break}case"group":{console.log(" Undo: Group   "),s=[i.elementId];break}case"ungroup":{console.log(" Undo: Ungroup  "),i.data.element&&o.push(Dl(i.data.element));break}}console.log("    , try  ")}catch(y){console.error("     :",y),console.error("  :",{message:y instanceof Error?y.message:String(y),stack:y instanceof Error?y.stack:void 0,entryType:i.type,elementId:i.elementId}),t({historyOperationInProgress:!1});return}console.log("    , entry.type:",i.type);const u=e();console.log(" Undo   , entry.type:",i.type);let c=u.elements,d=u.selectedElementId,f=u.selectedElementProps;switch(i.type){case"add":{c=u.elements.filter(y=>!s.includes(y.id)),s.includes(u.selectedElementId||"")&&(d=null,f={});break}case"update":{console.log(" Update  :",{elementId:i.elementId,hasPrevProps:!!a,hasPrevElement:!!l});const y=u.elements.findIndex(A=>A.id===i.elementId);if(y>=0&&a){const A=u.elements[y];if(console.log(" Undo: Props ",{elementId:i.elementId,elementTag:A.tag,currentProps:{...A.props},restoringTo:a}),c=u.elements.map((C,E)=>E===y?{...C,props:a}:C),u.selectedElementId===i.elementId){console.log(" Undo:   props ");const C={...A,props:a};f=Cc(C,a)}}else y>=0&&l?(console.log(" Undo:   ",{elementId:i.elementId,prevElement:l}),c=u.elements.map((A,C)=>C===y?{...A,...l}:A)):console.warn(" Undo :       ",{elementId:i.elementId,elementFound:y>=0,prevPropsFound:!!a,prevElementFound:!!l});break}case"remove":{console.log(" Undo:   :",{restoringCount:o.length}),o.forEach((y,A)=>{console.log(`   ${A+1}:`,{id:y.id,tag:y.tag,tabId:y.props.tabId,title:y.props.title,order_num:y.order_num})}),c=[...u.elements,...o];break}case"batch":{if(i.data.batchUpdates){console.log(" Undo: Batch update  :",{updateCount:i.data.batchUpdates.length});const y=new Map;i.data.batchUpdates.forEach(C=>{y.set(C.elementId,C.prevProps)}),c=u.elements.map(C=>{const E=y.get(C.id);return E?(console.log("   props:",{elementId:C.id,tag:C.tag}),{...C,props:E}):C});const A=y.get(u.selectedElementId||"");if(A){const C=c.find(E=>E.id===u.selectedElementId);C&&(f=Cc(C,A))}}break}case"group":{console.log(" Undo: Group   ");let y=u.elements.filter(A=>!s.includes(A.id));if(i.data.elements){const A=new Map;i.data.elements.forEach(C=>{A.set(C.id,{parent_id:C.parent_id??null,order_num:C.order_num||0})}),y=y.map(C=>{const E=A.get(C.id);return E?(console.log("    parent :",{childId:C.id,newParentId:E.parent_id}),{...C,parent_id:E.parent_id,order_num:E.order_num}):C})}c=y,s.includes(u.selectedElementId||"")&&(d=null,f={});break}case"ungroup":{console.log(" Undo: Ungroup  ");let y=[...u.elements,...o];if(console.log("   :",{groupId:o[0]?.id,tag:o[0]?.tag}),i.data.elements){const A=new Map;i.data.elements.forEach(C=>{A.set(C.id,{order_num:C.order_num||0})}),y=y.map(C=>{const E=A.get(C.id);return E?(console.log("     :",{childId:C.id,groupId:i.elementId}),{...C,parent_id:i.elementId,order_num:E.order_num}):C})}c=y;break}}if(t({elements:c,selectedElementId:d,selectedElementProps:f}),e()._rebuildIndexes(),!(xd()&&!fh())&&typeof window<"u"&&window.parent)try{const y=e().elements;window.parent.postMessage({type:"ELEMENTS_UPDATED",payload:{elements:y.map(tl)}},"*")}catch(y){console.warn("postMessage  :",y)}try{switch(i.type){case"add":{const y=[i.elementId];i.data.childElements&&i.data.childElements.length>0&&y.push(...i.data.childElements.map(A=>A.id));try{await(await vn()).elements.deleteMany(y),console.log(` Undo: IndexedDB    (${y.length})`)}catch(A){console.warn(" Undo: IndexedDB  :",A)}await bi.from("elements").delete().in("id",y),console.log(` Undo: Supabase    ( 1 +  ${i.data.childElements?.length||0})`);break}case"update":{if(i.elementId==="bulk_update"){console.log(" bulk_update  ID   ");break}if(i.data.prevElement){const y={...i.data.prevElement,props:i.data.prevProps||i.data.prevElement.props};try{await(await vn()).elements.put(tl(y)),console.log(" Undo: IndexedDB   ")}catch(A){console.warn(" Undo: IndexedDB  :",A)}await bi.from("elements").update({props:i.data.prevProps||i.data.prevElement.props,parent_id:i.data.prevElement.parent_id,order_num:i.data.prevElement.order_num}).eq("id",i.elementId),console.log(" Undo: Supabase   ")}break}case"remove":{if(i.data.element){const y=[i.data.element];i.data.childElements&&i.data.childElements.length>0&&y.push(...i.data.childElements);try{await(await vn()).elements.insertMany(y.map(E=>tl(E))),console.log(` Undo: IndexedDB    (${y.length})`)}catch(C){console.warn(" Undo: IndexedDB  :",C)}const A=y[0]?.page_id;if(A){const{data:C}=await bi.from("pages").select("id").eq("id",A).single();if(!C)console.log(" Undo:    ( ), Supabase  skip");else{const E=y.map(D=>A3(D)),{error:I}=await bi.from("elements").upsert(E,{onConflict:"id"});I?I.code==="23503"?console.log(" Undo:   , Supabase  skip"):console.error(" Undo: Supabase upsert :",I):console.log(` Undo: Supabase    ( 1 +  ${i.data.childElements?.length||0})`)}}}break}case"batch":{if(i.data.batchUpdates){console.log(` Undo: Batch update DB   (${i.data.batchUpdates.length})`);try{const y=await vn();for(const A of i.data.batchUpdates){const C=$u(e().elementsMap,A.elementId);C&&await y.elements.put(tl({...C,props:A.prevProps}))}console.log(` Undo: Batch IndexedDB   (${i.data.batchUpdates.length})`)}catch(y){console.warn(" Undo: Batch IndexedDB  :",y)}for(const y of i.data.batchUpdates)await bi.from("elements").update({props:y.prevProps}).eq("id",y.elementId);console.log(` Undo: Batch Supabase   (${i.data.batchUpdates.length})`)}break}case"group":{console.log(" Undo: Group   DB ");try{const y=await vn();if(await y.elements.delete(i.elementId),i.data.elements)for(const A of i.data.elements){const C=$u(e().elementsMap,A.id);C&&await y.elements.put(tl({...C,parent_id:A.parent_id,order_num:A.order_num}))}console.log(" Undo: Group IndexedDB  ")}catch(y){console.warn(" Undo: Group IndexedDB  :",y)}if(await bi.from("elements").delete().eq("id",i.elementId),i.data.elements){for(const y of i.data.elements)await bi.from("elements").update({parent_id:y.parent_id,order_num:y.order_num}).eq("id",y.id);console.log(` Undo: Group Supabase   ( ${i.data.elements.length})`)}break}case"ungroup":{console.log(" Undo: Ungroup  DB ");try{const A=await vn();if(i.data.element&&await A.elements.put(tl(i.data.element)),i.data.elements)for(const C of i.data.elements){const E=$u(e().elementsMap,C.id);E&&await A.elements.put(tl({...E,parent_id:i.elementId,order_num:C.order_num}))}console.log(" Undo: Ungroup IndexedDB  ")}catch(A){console.warn(" Undo: Ungroup IndexedDB  :",A)}const y=i.data.element?.page_id;if(y){const{data:A}=await bi.from("pages").select("id").eq("id",y).single();if(!A)console.log(" Undo:    ( ), Supabase  skip");else if(i.data.element&&await bi.from("elements").upsert(A3(i.data.element),{onConflict:"id"}),i.data.elements){for(const C of i.data.elements)await bi.from("elements").update({parent_id:i.elementId,order_num:C.order_num}).eq("id",C.id);console.log(` Undo: Ungroup  Supabase   ( ${i.data.elements.length})`)}}break}}}catch(y){console.warn("    ( ):",y)}console.log(" Undo ");const{elements:m,updateElementOrder:v}=e();r&&setTimeout(()=>{Vx(m,r,v),console.log(" Undo  order_num  ")},100)}catch(n){console.error("Undo  :",n)}finally{t({historyOperationInProgress:!1})}},W8e=(t,e)=>async()=>{try{const n=e();if(!n.currentPageId)return;t({historyOperationInProgress:!0}),console.log(" Redo ");const r=ys.redo();if(!r){console.log(" Redo :   "),t({historyOperationInProgress:!1});return}const i=[];let s=[],o=null;try{switch(r.type){case"add":{r.data.element&&i.push(Dl(r.data.element)),r.data.childElements&&r.data.childElements.length>0&&(i.push(...r.data.childElements.map(v=>Dl(v))),console.log(` Redo:   ${r.data.childElements.length} `,{parent:r.data.element?.tag,children:r.data.childElements.map(v=>({id:v.id,tag:v.tag}))}));break}case"update":{r.data.props&&(o=Dl(r.data.props));break}case"remove":{s=[r.elementId],r.data.childElements&&r.data.childElements.length>0&&s.push(...r.data.childElements.map(v=>v.id));break}case"batch":{console.log(" Redo: Batch update  ");break}case"group":{console.log(" Redo: Group   "),r.data.element&&i.push(Dl(r.data.element));break}case"ungroup":{console.log(" Redo: Ungroup  "),s=[r.elementId];break}}}catch(v){console.warn("     :",v),t({historyOperationInProgress:!1});return}const a=e();let l=a.elements,u=a.selectedElementId,c=a.selectedElementProps;switch(r.type){case"add":{l=[...a.elements,...i];break}case"update":{const v=a.elements.findIndex(y=>y.id===r.elementId);v>=0&&o&&(l=a.elements.map((y,A)=>A===v?{...y,props:{...y.props,...o}}:y));break}case"remove":{l=a.elements.filter(v=>!s.includes(v.id)),s.includes(a.selectedElementId||"")&&(u=null,c={});break}case"batch":{if(r.data.batchUpdates){console.log(" Redo: Batch update  :",{updateCount:r.data.batchUpdates.length});const v=new Map;r.data.batchUpdates.forEach(A=>{v.set(A.elementId,A.newProps)}),l=a.elements.map(A=>{const C=v.get(A.id);return C?(console.log("   props:",{elementId:A.id,tag:A.tag}),{...A,props:{...A.props,...C}}):A});const y=v.get(a.selectedElementId||"");if(y){const A=l.find(C=>C.id===a.selectedElementId);A&&(c=Cc(A,{...A.props,...y}))}}break}case"group":{console.log(" Redo: Group  ");let v=[...a.elements,...i];if(console.log("   :",{groupId:i[0]?.id,tag:i[0]?.tag}),r.data.elements){const y=new Map;r.data.elements.forEach(A=>{y.set(A.id,{order_num:A.order_num||0})}),v=v.map(A=>{const C=y.get(A.id);return C?(console.log("     :",{childId:A.id,groupId:r.elementId}),{...A,parent_id:r.elementId,order_num:C.order_num}):A})}l=v;break}case"ungroup":{console.log(" Redo: Ungroup  ");let v=a.elements.filter(y=>!s.includes(y.id));if(r.data.elements){const y=new Map;r.data.elements.forEach(A=>{y.set(A.id,{parent_id:A.parent_id??null,order_num:A.order_num||0})}),v=v.map(A=>{const C=y.get(A.id);return C?(console.log("    parent :",{childId:A.id,newParentId:C.parent_id}),{...A,parent_id:C.parent_id,order_num:C.order_num}):A})}l=v,s.includes(a.selectedElementId||"")&&(u=null,c={});break}}if(t({elements:l,selectedElementId:u,selectedElementProps:c}),e()._rebuildIndexes(),!(xd()&&!fh())&&typeof window<"u"&&window.parent)try{const v=e().elements;window.parent.postMessage({type:"ELEMENTS_UPDATED",payload:{elements:v.map(tl)}},"*")}catch(v){console.warn("postMessage  :",v)}try{switch(r.type){case"add":{if(r.data.element){const v=[r.data.element];r.data.childElements&&r.data.childElements.length>0&&v.push(...r.data.childElements);try{await(await vn()).elements.insertMany(v.map(C=>tl(C))),console.log(` Redo: IndexedDB    (${v.length})`)}catch(A){console.warn(" Redo: IndexedDB  :",A)}const y=v[0]?.page_id;if(y){const{data:A}=await bi.from("pages").select("id").eq("id",y).single();if(!A)console.log(" Redo:    ( ), Supabase  skip");else{const{error:C}=await bi.from("elements").upsert(v.map(E=>A3(E)),{onConflict:"id"});C?C.code==="23503"?console.log(" Redo:   , Supabase  skip"):console.error(" Redo: Supabase upsert :",C):console.log(` Redo: Supabase    ( 1 +  ${r.data.childElements?.length||0})`)}}}break}case"update":{if(r.elementId==="bulk_update"){console.log(" bulk_update  ID   ");break}if(r.data.props){const v=$u(e().elementsMap,r.elementId);if(v){const y={...v,props:{...v.props,...r.data.props}};try{await(await vn()).elements.put(tl(y)),console.log(" Redo: IndexedDB   ")}catch(A){console.warn(" Redo: IndexedDB  :",A)}await bi.from("elements").update({props:{...v.props,...r.data.props}}).eq("id",r.elementId),console.log(" Redo: Supabase   ")}}break}case"remove":{const v=[r.elementId];r.data.childElements&&r.data.childElements.length>0&&v.push(...r.data.childElements.map(y=>y.id));try{await(await vn()).elements.deleteMany(v),console.log(` Redo: IndexedDB    (${v.length})`)}catch(y){console.warn(" Redo: IndexedDB  :",y)}await bi.from("elements").delete().in("id",v),console.log(` Redo: Supabase    ( 1 +  ${r.data.childElements?.length||0})`);break}case"batch":{if(r.data.batchUpdates){console.log(` Redo: Batch update DB   (${r.data.batchUpdates.length})`);try{const v=await vn();for(const y of r.data.batchUpdates){const A=$u(e().elementsMap,y.elementId);A&&await v.elements.put(tl({...A,props:{...A.props,...y.newProps}}))}console.log(` Redo: Batch IndexedDB   (${r.data.batchUpdates.length})`)}catch(v){console.warn(" Redo: Batch IndexedDB  :",v)}for(const v of r.data.batchUpdates){const y=$u(e().elementsMap,v.elementId);y&&await bi.from("elements").update({props:{...y.props,...v.newProps}}).eq("id",v.elementId)}console.log(` Redo: Batch update Supabase   (${r.data.batchUpdates.length})`)}break}case"group":{console.log(" Redo: Group  DB ");try{const y=await vn();if(r.data.element&&await y.elements.put(tl(r.data.element)),r.data.elements)for(const A of r.data.elements){const C=$u(e().elementsMap,A.id);C&&await y.elements.put(tl({...C,parent_id:r.elementId,order_num:A.order_num}))}console.log(" Redo: Group IndexedDB  ")}catch(y){console.warn(" Redo: Group IndexedDB  :",y)}const v=r.data.element?.page_id;if(v){const{data:y}=await bi.from("pages").select("id").eq("id",v).single();if(!y)console.log(" Redo:    ( ), Supabase  skip");else if(r.data.element&&await bi.from("elements").upsert(A3(r.data.element),{onConflict:"id"}),r.data.elements){for(const A of r.data.elements)await bi.from("elements").update({parent_id:r.elementId,order_num:A.order_num}).eq("id",A.id);console.log(` Redo: Group  Supabase   ( ${r.data.elements.length})`)}}break}case"ungroup":{console.log(" Redo: Ungroup DB ");try{const v=await vn();if(await v.elements.delete(r.elementId),r.data.elements)for(const y of r.data.elements){const A=$u(e().elementsMap,y.id);A&&await v.elements.put(tl({...A,parent_id:y.parent_id,order_num:y.order_num}))}console.log(" Redo: Ungroup IndexedDB  ")}catch(v){console.warn(" Redo: Ungroup IndexedDB  :",v)}if(await bi.from("elements").delete().eq("id",r.elementId),r.data.elements){for(const v of r.data.elements)await bi.from("elements").update({parent_id:v.parent_id,order_num:v.order_num}).eq("id",v.id);console.log(` Redo: Ungroup Supabase   ( ${r.data.elements.length})`)}break}}}catch(v){console.warn("    ( ):",v)}console.log(" Redo ");const{elements:f,updateElementOrder:p}=e(),m=n.currentPageId;m&&setTimeout(()=>{Vx(f,m,p),console.log(" Redo  order_num  ")},100)}catch(n){console.error("Redo  :",n)}finally{t({historyOperationInProgress:!1})}},q8e=(t,e)=>async n=>{try{const r=e(),{currentPageId:i}=r;if(!i)return;t({historyOperationInProgress:!0}),console.log(" GoToHistoryIndex :",{targetIndex:n});const s=ys.goToIndex(n);if(!s){console.log(" GoToHistoryIndex:   "),t({historyOperationInProgress:!1});return}const{entries:o,direction:a}=s;console.log(` GoToHistoryIndex: ${o.length}  ${a}`);let l=r.elements,u=r.selectedElementId,c=r.selectedElementProps;for(const m of o){const v=Y8e(m,a,l,u,c);l=v.elements,u=v.selectedElementId,c=v.selectedElementProps}if(t({elements:l,selectedElementId:u,selectedElementProps:c}),e()._rebuildIndexes(),!(xd()&&!fh())&&typeof window<"u"&&window.parent)try{const m=e().elements;window.parent.postMessage({type:"ELEMENTS_UPDATED",payload:{elements:m.map(tl)}},"*")}catch(m){console.warn("postMessage  :",m)}await X8e(o,a,e),console.log(" GoToHistoryIndex ");const{elements:f,updateElementOrder:p}=e();i&&setTimeout(()=>{Vx(f,i,p)},100)}catch(r){console.error("GoToHistoryIndex  :",r)}finally{t({historyOperationInProgress:!1})}};function Y8e(t,e,n,r,i){if(!t)return{elements:n,selectedElementId:r,selectedElementProps:i};let s=n,o=r,a=i;if(e==="undo")switch(t.type){case"add":{const l=[t.elementId];t.data.childElements?.length&&l.push(...t.data.childElements.map(u=>u.id)),s=n.filter(u=>!l.includes(u.id)),l.includes(r||"")&&(o=null,a={});break}case"update":{const l=t.data.prevProps?Dl(t.data.prevProps):null,u=t.data.prevElement?Dl(t.data.prevElement):null,c=n.findIndex(d=>d.id===t.elementId);if(c>=0&&l){if(s=n.map((d,f)=>f===c?{...d,props:l}:d),r===t.elementId){const d={...n[c],props:l};a=Cc(d,l)}}else c>=0&&u&&(s=n.map((d,f)=>f===c?{...d,...u}:d));break}case"remove":{const l=[],u=new Set(n.map(c=>c.id));if(t.data.element&&!u.has(t.data.element.id)&&(l.push(Dl(t.data.element)),u.add(t.data.element.id)),t.data.childElements?.length)for(const c of t.data.childElements)u.has(c.id)||(l.push(Dl(c)),u.add(c.id));s=[...n,...l];break}case"batch":{if(t.data.batchUpdates){const l=new Map;t.data.batchUpdates.forEach(c=>{l.set(c.elementId,c.prevProps)}),s=n.map(c=>{const d=l.get(c.id);return d?{...c,props:d}:c});const u=l.get(r||"");if(u){const c=s.find(d=>d.id===r);c&&(a=Cc(c,u))}}break}case"group":{let l=n.filter(u=>u.id!==t.elementId);if(t.data.elements){const u=new Map;t.data.elements.forEach(c=>{u.set(c.id,{parent_id:c.parent_id??null,order_num:c.order_num||0})}),l=l.map(c=>{const d=u.get(c.id);return d?{...c,parent_id:d.parent_id,order_num:d.order_num}:c})}s=l,r===t.elementId&&(o=null,a={});break}case"ungroup":{const l=[],u=new Set(n.map(d=>d.id));t.data.element&&!u.has(t.data.element.id)&&l.push(Dl(t.data.element));let c=[...n,...l];if(t.data.elements){const d=new Map;t.data.elements.forEach(f=>{d.set(f.id,{order_num:f.order_num||0})}),c=c.map(f=>{const p=d.get(f.id);return p?{...f,parent_id:t.elementId,order_num:p.order_num}:f})}s=c;break}}else switch(t.type){case"add":{const l=new Set(n.map(c=>c.id)),u=[];if(t.data.element&&!l.has(t.data.element.id)&&(u.push(Dl(t.data.element)),l.add(t.data.element.id)),t.data.childElements?.length)for(const c of t.data.childElements)l.has(c.id)||(u.push(Dl(c)),l.add(c.id));s=[...n,...u];break}case"update":{const l=t.data.props?Dl(t.data.props):null,u=n.findIndex(c=>c.id===t.elementId);u>=0&&l&&(s=n.map((c,d)=>d===u?{...c,props:{...c.props,...l}}:c));break}case"remove":{const l=[t.elementId];t.data.childElements?.length&&l.push(...t.data.childElements.map(u=>u.id)),s=n.filter(u=>!l.includes(u.id)),l.includes(r||"")&&(o=null,a={});break}case"batch":{if(t.data.batchUpdates){const l=new Map;t.data.batchUpdates.forEach(c=>{l.set(c.elementId,c.newProps)}),s=n.map(c=>{const d=l.get(c.id);return d?{...c,props:{...c.props,...d}}:c});const u=l.get(r||"");if(u){const c=s.find(d=>d.id===r);c&&(a=Cc(c,{...c.props,...u}))}}break}case"group":{const l=new Set(n.map(d=>d.id)),u=[];t.data.element&&!l.has(t.data.element.id)&&u.push(Dl(t.data.element));let c=[...n,...u];if(t.data.elements){const d=new Map;t.data.elements.forEach(f=>{d.set(f.id,{order_num:f.order_num||0})}),c=c.map(f=>{const p=d.get(f.id);return p?{...f,parent_id:t.elementId,order_num:p.order_num}:f})}s=c;break}case"ungroup":{let l=n.filter(u=>u.id!==t.elementId);if(t.data.elements){const u=new Map;t.data.elements.forEach(c=>{u.set(c.id,{parent_id:c.parent_id??null,order_num:c.order_num||0})}),l=l.map(c=>{const d=u.get(c.id);return d?{...c,parent_id:d.parent_id,order_num:d.order_num}:c})}s=l,r===t.elementId&&(o=null,a={});break}}return{elements:s,selectedElementId:o,selectedElementProps:a}}async function X8e(t,e,n){const r=await vn(),i=n().elementsMap,s=new Set,o=new Set;for(const a of t)if(a)if(e==="undo")switch(a.type){case"add":o.add(a.elementId),a.data.childElements?.forEach(l=>o.add(l.id));break;case"update":case"batch":s.add(a.elementId),a.elementIds?.forEach(l=>s.add(l)),a.data.batchUpdates?.forEach(l=>s.add(l.elementId));break;case"remove":s.add(a.elementId),a.data.childElements?.forEach(l=>s.add(l.id));break;case"group":o.add(a.elementId),a.data.elements?.forEach(l=>s.add(l.id));break;case"ungroup":s.add(a.elementId),a.data.elements?.forEach(l=>s.add(l.id));break}else switch(a.type){case"add":s.add(a.elementId),a.data.childElements?.forEach(l=>s.add(l.id));break;case"update":case"batch":s.add(a.elementId),a.elementIds?.forEach(l=>s.add(l)),a.data.batchUpdates?.forEach(l=>s.add(l.elementId));break;case"remove":o.add(a.elementId),a.data.childElements?.forEach(l=>o.add(l.id));break;case"group":s.add(a.elementId),a.data.elements?.forEach(l=>s.add(l.id));break;case"ungroup":o.add(a.elementId),a.data.elements?.forEach(l=>s.add(l.id));break}try{if(o.size>0){await r.elements.deleteMany([...o]);try{await bi.from("elements").delete().in("id",[...o])}catch{}}const a=[];for(const l of s){if(o.has(l))continue;const u=$u(i,l);u&&a.push(u)}if(a.length>0){for(const u of a)await r.elements.put(tl(u));const l=a[0]?.page_id;if(l)try{const{data:u,error:c}=await bi.from("pages").select("id").eq("id",l).single();if(!c&&u){const d=a.map(f=>A3(f));await bi.from("elements").upsert(d,{onConflict:"id"})}}catch{}}console.log(` GoToHistoryIndex DB  : ${o.size} , ${a.length} `)}catch(a){console.warn(" GoToHistoryIndex DB  :",a)}}const J8e=(t,e)=>async n=>{console.log(" removeElement :",{elementId:n});const r=e(),i=$u(r.elementsMap,n);if(!i)return;console.log("  :",{id:i.id,tag:i.tag,props:i.props});const s=A=>{const C=r.elements.filter(I=>I.parent_id===A),E=[...C];return C.forEach(I=>{E.push(...s(I.id))}),E};let o=s(n);if(i.tag==="Column"){const A=r.elements.find(C=>{const E=r.elements.find(I=>I.id===i.parent_id);return E&&C.id===E.parent_id&&C.tag==="Table"});if(A){const C=r.elements.find(E=>E.parent_id===A.id&&E.tag==="TableBody");if(C){const I=r.elements.filter(D=>D.parent_id===C.id&&D.tag==="Row").flatMap(D=>r.elements.filter(T=>T.parent_id===D.id&&T.tag==="Cell"&&T.order_num===i.order_num));o=[...o,...I],console.log(` Column    Cell : ${I.length}`,{columnOrder:i.order_num,cellIds:I.map(D=>D.id)})}}}if(i.tag==="Cell"){const A=r.elements.find(C=>C.id===i.parent_id);if(A&&A.tag==="Row"){const C=r.elements.find(E=>E.id===A.parent_id);if(C&&C.tag==="TableBody"){const E=r.elements.find(I=>I.id===C.parent_id&&I.tag==="Table");if(E){const I=r.elements.find(D=>D.parent_id===E.id&&D.tag==="TableHeader");if(I){const D=r.elements.find(T=>T.parent_id===I.id&&T.tag==="Column"&&T.order_num===i.order_num);if(D){const M=r.elements.filter(P=>P.parent_id===C.id&&P.tag==="Row").flatMap(P=>r.elements.filter(k=>k.parent_id===P.id&&k.tag==="Cell"&&k.order_num===i.order_num&&k.id!==i.id));o=[...o,D,...M],console.log(` Cell    Column   Cell : Column 1, Cell ${M.length}`,{cellOrder:i.order_num,columnId:D.id,otherCellIds:M.map(P=>P.id)})}}}}}}if(i.tag==="Tab"||i.tag==="Panel"){const A=i.props.tabId;if(console.log(` ${i.tag}   - tabId:`,A,"element.props:",i.props),A){const C=r.elements.find(E=>E.id===i.parent_id);if(console.log("  :",C?.tag,C?.id),C&&C.tag==="Tabs"){const E=r.elements.filter(D=>D.parent_id===C.id);console.log("  :",E.map(D=>({id:D.id,tag:D.tag,tabId:D.props.tabId})));const I=r.elements.find(D=>D.parent_id===C.id&&D.tag!==i.tag&&D.props.tabId===A);if(console.log("    :",I?{id:I.id,tag:I.tag,tabId:I.props.tabId}:"null"),I)o=[...o,I],console.log(` ${i.tag}    ${I.tag} :`,{tabId:A,deletedElementId:i.id,relatedElementId:I.id});else{console.log(" tabId      . order_num  fallback ");const D=r.elements.find(T=>T.parent_id===C.id&&T.tag!==i.tag&&Math.abs((T.order_num||0)-(i.order_num||0))===1);D&&(o=[...o,D],console.log(` ${i.tag}    ${D.tag}  (order_num ):`,{deletedElementOrder:i.order_num,relatedElementOrder:D.order_num,deletedElementId:i.id,relatedElementId:D.id}))}}}else{console.log(` ${i.tag} tabId . order_num     `);const C=r.elements.find(E=>E.id===i.parent_id);if(C&&C.tag==="Tabs"){const E=r.elements.find(I=>I.parent_id===C.id&&I.tag!==i.tag&&Math.abs((I.order_num||0)-(i.order_num||0))===1);E&&(o=[...o,E],console.log(` ${i.tag}    ${E.tag}  (order_num , tabId ):`,{deletedElementOrder:i.order_num,relatedElementOrder:E.order_num,deletedElementId:i.id,relatedElementId:E.id}))}}}const l=[i,...o].filter((A,C,E)=>E.findIndex(I=>I.id===A.id)===C),u=l.map(A=>A.id);console.log(`  : ${n}   ${l.length-1}`,{parent:i.tag,relatedElements:l.slice(1).map(A=>({id:A.id,tag:A.tag}))});try{await(await vn()).elements.deleteMany(u),console.log(" [IndexedDB]   :",u)}catch(A){console.error(" [IndexedDB]    :",A)}const c=e();c.currentPageId&&ys.addEntry({type:"remove",elementId:n,data:{element:{...i},childElements:l.slice(1).map(A=>({...A}))}});const d=c.elements.length;console.log("    :",d),console.log("   ID:",u),u.forEach(A=>{const C=c.elements.find(E=>E.id===A);C&&(C.tag==="Tab"||C.tag==="Panel")&&console.log(`  ${C.tag}:`,{id:C.id,tag:C.tag,tabId:C.props.tabId,title:C.props.title,order_num:C.order_num})});const f=c.elements.filter(A=>!u.includes(A.id)),p=f.length;console.log("    :",p,"( :",d-p,")");const m=u.includes(c.selectedElementId||"");t({elements:f,...m&&{selectedElementId:null,selectedElementProps:{}}}),!(xd()&&!fh())&&typeof window<"u"&&window.parent&&window.parent.postMessage({type:"ELEMENT_REMOVED",payload:{elementId:u}},"*"),e()._rebuildIndexes();const y=e().currentPageId;y&&(i.tag==="Tab"||i.tag==="Panel"||i.tag==="ListBoxItem"||i.tag==="GridListItem"||i.tag==="MenuItem"||i.tag==="ComboBoxItem"||i.tag==="SelectItem"||i.tag==="TreeItem"||i.tag==="ToggleButton"?console.log(` ${i.tag}  - Undo   `):setTimeout(()=>{const{elements:C,updateElementOrder:E}=e();Vx(C,y,E)},100))},Z8e=(t,e)=>async n=>{const r=e();(r.currentPageId||n.layout_id)&&ys.addEntry({type:"add",elementId:n.id,data:{element:{...n}}}),t({elements:[...r.elements,n]}),e()._rebuildIndexes();try{const s=await vn(),o=tl(n);console.log(` [IndexedDB]  : ${n.tag} layout_id=${n.layout_id} page_id=${n.page_id}`),console.log(` [IndexedDB] sanitized: layout_id=${o.layout_id} page_id=${o.page_id}`),await s.elements.insert(o),console.log(" [IndexedDB]   :",n.id)}catch(s){console.warn(" [IndexedDB]    ( ):",s)}const i=e().currentPageId;i&&n.page_id===i?setTimeout(()=>{const{elements:s,updateElementOrder:o}=e();Vx(s,i,o)},100):n.layout_id&&setTimeout(()=>{const{elements:s,updateElementOrder:o}=e();s.filter(l=>l.layout_id===n.layout_id).length>0&&Vx(s,n.layout_id,o)},100)},eLe=(t,e)=>async(n,r)=>{const i=e(),s=[n,...r];(i.currentPageId||n.layout_id)&&ys.addEntry({type:"add",elementId:n.id,data:{element:{...n},childElements:r.map(o=>({...o}))}}),t({elements:[...i.elements,...s]}),e()._rebuildIndexes();try{await(await vn()).elements.insertMany(s.map(a=>tl(a))),console.log(` [IndexedDB]    : ${n.tag} +  ${r.length}`)}catch(o){console.warn(" [IndexedDB]    ( ):",o)}},tLe=300*1e3,J1=aa((t,e)=>({toasts:[],lastShownMap:new Map,showToast:(n,r,i={})=>{const{duration:s=5e3,action:o,bypassCooldown:a=!1}=i,l=e();if(!a){const d=`${n}:${r}`,f=l.lastShownMap.get(d),p=Date.now();if(f&&p-f<tLe)return null;const m=new Map(l.lastShownMap);m.set(d,p),t({lastShownMap:m})}const u=`toast-${Date.now()}-${Math.random().toString(36).slice(2,9)}`,c={id:u,type:n,message:r,duration:s,action:o};return t(d=>({toasts:[...d.toasts,c]})),s>0&&setTimeout(()=>{t(d=>({toasts:d.toasts.filter(f=>f.id!==u)}))},s),u},dismissToast:n=>{t(r=>({toasts:r.toasts.filter(i=>i.id!==n)}))},dismissAll:()=>{t({toasts:[]})}})),QT={success:(t,e)=>J1.getState().showToast("success",t,e),warning:(t,e)=>J1.getState().showToast("warning",t,e),error:(t,e)=>J1.getState().showToast("error",t,{bypassCooldown:!0,...e}),info:(t,e)=>J1.getState().showToast("info",t,e)};function mf(t){try{if(typeof structuredClone=="function")return structuredClone(t)}catch{}try{const e=JSON.stringify(t);return e===void 0?t:JSON.parse(e)}catch{return t}}function nLe(t,e){for(const n of Object.keys(e))if(t[n]!==e[n])return!0;return!1}const rLe=(t,e)=>async(n,r)=>{console.log("[UpdateElementProps] called:",{elementId:n,props:r});const i=e(),s=$u(i.elementsMap,n);if(!s)return;const o=r??{};if(Object.keys(o).length===0||!nLe(s.props,o))return;const a=!!i.currentPageId,l=a?mf(s.props):null,u=a?mf(r):null,c=a?mf(s):null;i.currentPageId&&l&&u&&c&&ys.addEntry({type:"update",elementId:n,data:{props:u,prevProps:l,prevElement:c}});const d=i.elements.map(m=>m.id===n?{...m,props:{...m.props,...r}}:m),f=d.find(m=>m.id===n),p=i.selectedElementId===n&&f?Cc(f,r):i.selectedElementProps;t({elements:d,selectedElementProps:p}),e()._rebuildIndexes();try{await(await vn()).elements.update(n,{props:r})}catch(m){console.warn(" [IndexedDB]     ( ):",m),QT.error(" .",{duration:8e3,action:{label:"",onClick:()=>e().undo()}})}},iLe=(t,e)=>async(n,r)=>{if(Object.keys(r).length===0)return;const i=e(),s=$u(i.elementsMap,n);if(!s)return;const o=!!i.currentPageId&&!!r.props,a=o?mf(s.props):null,l=o?mf(r.props):null,u=o?mf(s):null;i.currentPageId&&r.props&&a&&l&&u&&ys.addEntry({type:"update",elementId:n,data:{props:l,prevProps:a,prevElement:u}});const c=i.elements.map(p=>p.id===n?{...p,...r}:p),d=c.find(p=>p.id===n),f=i.selectedElementId===n&&r.props&&d?Cc(d,r.props):i.selectedElementProps;t({elements:c,selectedElementProps:f}),e()._rebuildIndexes();try{await(await vn()).elements.update(n,r)}catch(p){console.warn(" [IndexedDB]     ( ):",p),QT.error(" .",{duration:8e3,action:{label:"",onClick:()=>e().undo()}})}},sLe=(t,e)=>async n=>{if(n.length===0)return;const r=e(),i=n.filter(d=>$u(r.elementsMap,d.elementId)!==void 0);if(i.length===0)return;const s=[],o=new Map;for(const{elementId:d,props:f}of i){const p=$u(r.elementsMap,d);p&&(s.push({elementId:d,prevProps:mf(p.props),prevElement:mf(p)}),o.set(d,f))}const a=r.elements.map(d=>{const f=o.get(d.id);return f?{...d,props:{...d.props,...f}}:d}),l=r.selectedElementId,u=l&&o.has(l)?(()=>{const d=a.find(f=>f.id===l);return d?Cc(d,o.get(l)):r.selectedElementProps})():r.selectedElementProps;t({elements:a,selectedElementProps:u}),e().currentPageId&&s.length>0&&ys.addEntry({type:"batch",elementId:s[0].elementId,data:{batchUpdates:i.map((d,f)=>({elementId:d.elementId,newProps:mf(d.props),prevProps:s[f]?.prevProps}))}}),e()._rebuildIndexes();try{const d=await vn();await Promise.all(i.map(({elementId:f,props:p})=>d.elements.update(f,{props:p})))}catch(d){console.warn(" [IndexedDB]     ( ):",d),QT.error(" .",{duration:8e3,action:{label:"",onClick:()=>e().undo()}})}},oLe=(t,e)=>async n=>{if(n.length===0)return;const r=e(),i=n.filter(f=>$u(r.elementsMap,f.elementId)!==void 0);if(i.length===0)return;const s=[],o=new Map;for(const{elementId:f,updates:p}of i){const m=$u(r.elementsMap,f);m&&(p.props&&s.push({elementId:f,prevProps:mf(m.props),prevElement:mf(m)}),o.set(f,p))}const a=r.elements.map(f=>{const p=o.get(f.id);return p?{...f,...p}:f}),l=r.selectedElementId,u=l?o.get(l):void 0,c=l&&u?.props?(()=>{const f=a.find(p=>p.id===l);return f?Cc(f,u.props):r.selectedElementProps})():r.selectedElementProps;t({elements:a,selectedElementProps:c}),e().currentPageId&&s.length>0&&ys.addEntry({type:"batch",elementId:s[0].elementId,data:{batchUpdates:s.map((f,p)=>({elementId:f.elementId,newProps:mf(i[p]?.updates.props??{}),prevProps:f.prevProps}))}}),e()._rebuildIndexes();try{const f=await vn();await Promise.all(i.map(({elementId:p,updates:m})=>f.elements.update(p,m)))}catch(f){console.warn(" [IndexedDB]     ( ):",f),QT.error(" .",{duration:8e3,action:{label:"",onClick:()=>e().undo()}})}};function aLe(t,e){const n=e?.timeout;if(typeof window<"u"&&window.scheduler?.postTask){window.scheduler.postTask(t,{priority:"background"});return}return typeof requestIdleCallback<"u"?requestIdleCallback(r=>{(r.timeRemaining()>0||r.didTimeout)&&t()},{timeout:n}):window.setTimeout(t,0)}function lLe(t,e){let n=!1;const i=aLe(()=>{n||t()},e);return()=>{n=!0,typeof i=="number"&&(typeof cancelIdleCallback<"u"?cancelIdleCallback(i):clearTimeout(i))}}function wue(){return{elementsByPage:new Map,rootsByPage:new Map}}function uLe(t,e){const n=wue();for(const r of t)cLe(n,r,e);return n}function cLe(t,e,n){const{page_id:r,id:i,parent_id:s}=e;if(!r)return;if(t.elementsByPage.has(r)||t.elementsByPage.set(r,new Set),t.elementsByPage.get(r).add(i),!s||hLe(s,n)){t.rootsByPage.has(r)||t.rootsByPage.set(r,[]);const a=t.rootsByPage.get(r);a.includes(i)||a.push(i)}}function dLe(t,e,n){const r=t.elementsByPage.get(e);if(!r||r.size===0)return[];const i=[];for(const s of r){const o=n.get(s);o&&i.push(o)}return i.sort((s,o)=>(s.order_num??0)-(o.order_num??0)),i}function hLe(t,e){return e.get(t)?.tag==="Body"}const _ue=(t,e)=>{const n=K8e(t,e),r=W8e(t,e),i=q8e(t,e),s=J8e(t,e),o=Z8e(t,e),a=eLe(t,e),l=rLe(t,e),u=iLe(t,e),c=sLe(t,e),d=oLe(t,e),f=()=>{const{elements:A}=e(),C=new Map,E=new Map;A.forEach(D=>{C.set(D.id,D);const T=D.parent_id||"root";E.has(T)||E.set(T,[]),E.get(T).push(D)});const I=uLe(A,C);t({elementsMap:C,childrenMap:E,pageIndex:I})},p=A=>{const{pageIndex:C,elementsMap:E}=e();return dLe(C,A,E)};let m=null;const v=()=>{m&&(m(),m=null)},y=A=>{if(typeof window>"u"){const C=e(),E=C.elementsMap.get(A)??pw(C.elements,A);if(!E)return;t({selectedElementProps:Cc(E)});return}v(),m=lLe(()=>{m=null;const C=e();if(C.selectedElementId!==A)return;const E=C.elementsMap.get(A)??pw(C.elements,A);E&&uX.measure("interaction.select:hydrate-selected-props",()=>{t({selectedElementProps:Cc(E)})})},{timeout:50})};return{elements:[],elementsMap:new Map,childrenMap:new Map,pageIndex:wue(),selectedElementId:null,selectedElementProps:{},selectedTab:null,pages:[],currentPageId:null,historyOperationInProgress:!1,selectedElementIds:[],selectedElementIdsSet:new Set,multiSelectMode:!1,_rebuildIndexes:f,getPageElements:p,setElements:A=>{t({elements:A}),e()._rebuildIndexes()},loadPageElements:(A,C)=>{const{elements:E,updatedElements:I}=js.migrateOrphanElementsToBody(A,C);ys.setCurrentPage(C),t({elements:E,currentPageId:C}),e()._rebuildIndexes(),I.length>0&&Promise.all(I.map(D=>sh.updateElement(D.id,D))).then(()=>{console.log(` ${I.length} orphan  DB  `)}).catch(D=>{console.warn(" Orphan  DB  :",D)}),setTimeout(()=>{const{updateElementOrder:D}=e();Vx(E,C,D)},50)},addElement:o,updateElementProps:l,updateElement:u,setSelectedElement:(A,C,E,I)=>{v();const D=e();if(A===D.selectedElementId&&!C&&!E&&!I)return;if(A&&!!!(C||E||I)){let $,z;A===D.selectedElementId&&D.selectedElementIds.length===1?($=D.selectedElementIds,z=D.selectedElementIdsSet):($=[A],z=new Set([A])),t({selectedElementId:A,selectedElementProps:{},selectedElementIds:$,selectedElementIdsSet:z,multiSelectMode:!1}),y(A);return}let M=C;if(A&&!M){const{elementsMap:$,elements:z}=D,j=$.get(A)??pw(z,A);j&&(M=Cc(j))}let P;A&&M?!E&&!I?P=M:P={...M,...E?{style:E}:{},...I?{computedStyle:I}:{}}:P={};let k,L;A===D.selectedElementId&&D.selectedElementIds.length===1?(k=D.selectedElementIds,L=D.selectedElementIdsSet):(k=A?[A]:[],L=A?new Set([A]):new Set),t({selectedElementId:A,selectedElementProps:P,selectedElementIds:k,selectedElementIdsSet:L,multiSelectMode:!1})},selectTabElement:(A,C,E)=>t({selectedElementId:A,selectedElementProps:C,selectedTab:{parentId:A,tabIndex:E}}),setPages:A=>t({pages:A}),setCurrentPageId:A=>{ys.setCurrentPage(A),t({currentPageId:A})},undo:n,redo:r,goToHistoryIndex:i,removeElement:s,removeTabPair:A=>{const C=e(),E=C.elements.filter(D=>D.parent_id!==A&&D.id!==A),I=C.selectedElementId===A;t({elements:E,...I&&{selectedElementId:null,selectedElementProps:{}}})},addComplexElement:a,updateElementOrder:(A,C)=>{const{elements:E}=e(),I=E.map(D=>D.id===A?{...D,order_num:C}:D);t({elements:I})},toggleElementInSelection:A=>{const C=e(),{elementsMap:E,elements:I,selectedElementIdsSet:D}=C,T=P=>{const k=E.get(P)??pw(I,P);return k?Cc(k):null};if(D.has(A)){const P=new Set(D);P.delete(A);const k=Array.from(P);if(k.length===0)t({selectedElementIds:[],selectedElementIdsSet:new Set,multiSelectMode:!1,selectedElementId:null,selectedElementProps:{}});else{const L=T(k[0]);t({selectedElementIds:k,selectedElementIdsSet:P,selectedElementId:k[0],selectedElementProps:L||{}})}}else{const P=new Set(D);P.add(A);const k=Array.from(P);if(k.length===1){const L=T(A);t({selectedElementIds:k,selectedElementIdsSet:P,multiSelectMode:!0,selectedElementId:A,selectedElementProps:L||{}})}else t({selectedElementIds:k,selectedElementIdsSet:P,multiSelectMode:!0})}},setSelectedElements:A=>{const{elementsMap:C,elements:E}=e(),I=D=>{const T=C.get(D)??pw(E,D);return T?Cc(T):null};if(A.length>0){const D=I(A[0]);t({selectedElementIds:A,selectedElementIdsSet:new Set(A),multiSelectMode:A.length>1,selectedElementId:A[0],selectedElementProps:D||{}})}else t({selectedElementIds:[],selectedElementIdsSet:new Set,multiSelectMode:!1,selectedElementId:null,selectedElementProps:{}})},batchUpdateElementProps:c,batchUpdateElements:d}},CD=aa(_ue),fLe=(t,e)=>({viewMode:"canvas",showGrid:!1,snapToGrid:!1,gridSize:8,historyInfo:{canUndo:!1,canRedo:!1,totalEntries:0,currentIndex:-1},setShowGrid:n=>{t({showGrid:n})},setSnapToGrid:n=>{t({snapToGrid:n})},setGridSize:n=>{t({gridSize:n})},setHistoryInfo:n=>{t({historyInfo:n})},setViewMode:n=>{t({viewMode:n})},toggleViewMode:()=>{const n=e().viewMode;t({viewMode:n==="canvas"?"workflow":"canvas"})}}),ef={leftPanels:["nodes","components","datatable","datatableEditor","theme","settings"],rightPanels:["properties","styles","events","ai","history"],activeLeftPanels:["nodes"],activeRightPanels:["properties"],showLeft:!0,showRight:!0,bottomPanels:["monitor"],activeBottomPanels:[],showBottom:!1,bottomHeight:200},Iue="xstudio-panel-layout";function _Q(){try{const t=localStorage.getItem(Iue);if(t){const e=JSON.parse(t),n={...e};"activeLeftPanel"in e&&!Array.isArray(e.activeLeftPanels)&&(n.activeLeftPanels=e.activeLeftPanel?[e.activeLeftPanel]:[],delete n.activeLeftPanel),"activeRightPanel"in e&&!Array.isArray(e.activeRightPanels)&&(n.activeRightPanels=e.activeRightPanel?[e.activeRightPanel]:[],delete n.activeRightPanel);const r={...ef,...n};if(Array.isArray(r.activeLeftPanels)||(r.activeLeftPanels=ef.activeLeftPanels),Array.isArray(r.activeRightPanels)||(r.activeRightPanels=ef.activeRightPanels),Array.isArray(r.bottomPanels)||(r.bottomPanels=ef.bottomPanels),Array.isArray(r.activeBottomPanels)||(r.activeBottomPanels=ef.activeBottomPanels),typeof r.showBottom!="boolean"&&(r.showBottom=ef.showBottom),typeof r.bottomHeight!="number"&&(r.bottomHeight=ef.bottomHeight),Array.isArray(r.leftPanels)&&!r.leftPanels.includes("datatableEditor")){const i=r.leftPanels.indexOf("datatable");i>=0?r.leftPanels.splice(i+1,0,"datatableEditor"):r.leftPanels.push("datatableEditor")}if(Array.isArray(r.rightPanels)&&(r.rightPanels=r.rightPanels.filter(i=>i!=="data")),Array.isArray(r.activeRightPanels)&&(r.activeRightPanels=r.activeRightPanels.filter(i=>i!=="data")),Array.isArray(r.leftPanels)&&(r.leftPanels=r.leftPanels.filter(i=>i!=="data")),Array.isArray(r.activeLeftPanels)&&(r.activeLeftPanels=r.activeLeftPanels.filter(i=>i!=="data")),Array.isArray(r.bottomPanels)&&(r.bottomPanels=r.bottomPanels.filter(i=>i!=="data")),Array.isArray(r.activeBottomPanels)&&(r.activeBottomPanels=r.activeBottomPanels.filter(i=>i!=="data")),Array.isArray(r.rightPanels)&&!r.rightPanels.includes("history")){const i=r.rightPanels.indexOf("events");i>=0?r.rightPanels.splice(i+1,0,"history"):r.rightPanels.push("history")}return(r.activeLeftPanels.length>2||r.activeRightPanels.length>2)&&(console.warn("[PanelLayout]     .  ."),r.activeLeftPanels=ef.activeLeftPanels,r.activeRightPanels=ef.activeRightPanels,MB(r)),r}}catch(t){console.error("[PanelLayout] Failed to load from localStorage:",t)}return null}function MB(t){try{localStorage.setItem(Iue,JSON.stringify(t))}catch(e){console.error("[PanelLayout] Failed to save to localStorage:",e)}}const pLe=(t,e,n)=>({panelLayout:_Q()||ef,setPanelLayout:r=>{t({panelLayout:r}),MB(r)},resetPanelLayout:()=>{t({panelLayout:ef}),MB(ef)},savePanelLayoutToStorage:()=>{const{panelLayout:r}=e();MB(r)},loadPanelLayoutFromStorage:()=>{const r=_Q();r&&t({panelLayout:r})}});class gLe{maxPages;accessOrder=[];_hits=0;_misses=0;_evictions=0;constructor(e=5){this.maxPages=Math.max(1,e)}access(e){const n=this.accessOrder.indexOf(e);if(n!==-1?(this._hits++,this.accessOrder.splice(n,1)):this._misses++,this.accessOrder.unshift(e),this.accessOrder.length>this.maxPages){const i=this.accessOrder.pop()??null;return i&&this._evictions++,i}return null}has(e){return this.accessOrder.includes(e)}remove(e){const n=this.accessOrder.indexOf(e);return n!==-1?(this.accessOrder.splice(n,1),!0):!1}clear(){this.accessOrder=[],this._hits=0,this._misses=0,this._evictions=0}getPageIds(){return[...this.accessOrder]}get size(){return this.accessOrder.length}get capacity(){return this.maxPages}setMaxPages(e){this.maxPages=Math.max(1,e);const n=[];for(;this.accessOrder.length>this.maxPages;){const r=this.accessOrder.pop();r&&(n.push(r),this._evictions++)}return n}getStats(){const e=this._hits+this._misses;return{size:this.size,maxPages:this.maxPages,hits:this._hits,misses:this._misses,evictions:this._evictions,hitRate:e>0?this._hits/e*100:0}}getMostRecent(){return this.accessOrder[0]??null}getLeastRecent(){return this.accessOrder[this.accessOrder.length-1]??null}touch(e){const n=this.accessOrder.indexOf(e);return n===-1?!1:(this.accessOrder.splice(n,1),this.accessOrder.unshift(e),!0)}dump(){console.log(" [LRU] Cache state:"),console.log(`  Size: ${this.size}/${this.maxPages}`),console.log(`  Order: [${this.accessOrder.join("  ")}]`),console.log("  Stats:",this.getStats())}}const A0=new gLe(5);function mLe(t,e){const n=async p=>{try{const v=await(await vn()).elements.getByPage(p);return v&&v.length>0?v.sort((y,A)=>(y.order_num||0)-(A.order_num||0)):null}catch(m){return console.warn("[Loader] IndexedDB load failed:",m),null}},r=async p=>{try{const{data:m,error:v}=await bi.from("elements").select("*").eq("page_id",p).order("order_num");if(v)throw v;return m??[]}catch(m){return console.error("[Loader] Supabase load failed:",m),[]}},i=async p=>{try{await(await vn()).elements.insertMany(p)}catch(m){console.warn("[Loader] IndexedDB cache failed:",m)}},s=async p=>{const m=e();if(!m.lazyLoadingEnabled){const v=[];return m.elementsMap.forEach(y=>{y.page_id===p&&v.push(y)}),v}if(m.loadedPages.has(p)){A0.access(p);const v=[];return m.elementsMap.forEach(y=>{y.page_id===p&&v.push(y)}),v}if(m.loadingPages.has(p))return new Promise(v=>{const y=setInterval(()=>{if(e().loadedPages.has(p)){clearInterval(y);const A=[];e().elementsMap.forEach(C=>{C.page_id===p&&A.push(C)}),v(A)}},50);setTimeout(()=>{clearInterval(y),v([])},1e4)});t(v=>({loadingPages:new Set([...v.loadingPages,p])}));try{let v=await n(p);(!v||v.length===0)&&(v=await r(p),v.length>0&&i(v)),v.length>0&&(t(A=>{const C=new Map(A.elementsMap),E=[...A.elements];return v.forEach(I=>{C.has(I.id)||(C.set(I.id,I),E.push(I))}),{elements:E,elementsMap:C}}),e()._rebuildIndexes());const y=A0.access(p);return y&&y!==e().currentPageId&&e().unloadPage(y),t(A=>({loadedPages:new Set([...A.loadedPages,p]),loadingPages:new Set([...A.loadingPages].filter(C=>C!==p))})),v}catch(v){return console.error("[Loader] Failed to load page:",v),t(y=>({loadingPages:new Set([...y.loadingPages].filter(A=>A!==p))})),[]}},o=p=>{const m=e();if(p===m.currentPageId){console.warn(`[Loader] Cannot unload current page: ${p}`);return}m.loadedPages.has(p)&&(t(v=>{const y=new Map(v.elementsMap),A=[];return y.forEach((E,I)=>{E.page_id===p&&A.push(I)}),A.forEach(E=>y.delete(E)),{elements:v.elements.filter(E=>E.page_id!==p),elementsMap:y,loadedPages:new Set([...v.loadedPages].filter(E=>E!==p))}}),A0.remove(p),e()._rebuildIndexes())};return{loadedPages:new Set,loadingPages:new Set,lazyLoadingEnabled:!0,lazyLoadPageElements:s,unloadPage:o,isPageLoaded:p=>e().loadedPages.has(p),isPageLoading:p=>e().loadingPages.has(p),setLazyLoadingEnabled:p=>{t({lazyLoadingEnabled:p})},getLRUStats:()=>A0.getStats(),clearAllPages:()=>{const p=e(),m=p.currentPageId;p.loadedPages.forEach(v=>{v!==m&&o(v)}),A0.clear(),m&&A0.access(m)},preloadPage:p=>{const m=e();m.loadedPages.has(p)||m.loadingPages.has(p)||("requestIdleCallback"in window?window.requestIdleCallback(()=>{s(p)}):setTimeout(()=>{s(p)},100))}}}class Z1{static instance;validationErrors=[];statusMessage="";metrics={saveOperations:0,averageSaveTime:0,skipCounts:{preview:0,validation:0}};constructor(){}static getInstance(){return Z1.instance||(Z1.instance=new Z1),Z1.instance}getValidationErrors(){return this.validationErrors}clearValidationErrors(){this.validationErrors=[]}getStatusMessage(){return this.statusMessage}getPerformanceMetrics(){return this.metrics}validateSerializable(e){const n={};for(const[r,i]of Object.entries(e))try{JSON.stringify(i),n[r]=i}catch{this.validationErrors.push({elementId:"unknown",field:r,message:"  .",timestamp:new Date}),this.metrics.skipCounts.validation++,this.statusMessage=`     - : ${r}`}return n}async saveToIndexedDB(e){const{table:n,id:r,data:i}=e;try{await(await vn())[n].update(r,i),this.statusMessage=` [IndexedDB] ${n}  : ${r}`}catch(s){throw this.statusMessage=` [IndexedDB]  : ${s instanceof Error?s.message:"   "}`,console.warn(` [IndexedDB] ${n}   :`,s),s}}async savePropertyChange(e,n={}){const r=performance.now();if(n.source==="preview"&&!n.allowPreviewSaves){this.metrics.skipCounts.preview++;return}if(n.validateSerialization)try{this.validateSerializable(e.data)}catch(s){this.validationErrors.push({elementId:e.id,field:Object.keys(e.data)[0]||"unknown",message:s instanceof Error?s.message:"    ",timestamp:new Date});return}await this.saveToIndexedDB(e);const i=performance.now();this.metrics.saveOperations++,this.metrics.averageSaveTime=(this.metrics.averageSaveTime*(this.metrics.saveOperations-1)+(i-r))/this.metrics.saveOperations}resetMetrics(){this.metrics={saveOperations:0,averageSaveTime:0,skipCounts:{preview:0,validation:0}},this.statusMessage=" SaveService   ."}getDetailedReport(){const e=this.metrics.skipCounts.preview+this.metrics.skipCounts.validation,n=this.metrics.saveOperations>0?((this.metrics.saveOperations-this.validationErrors.length)/this.metrics.saveOperations*100).toFixed(2):"100.00";return{metrics:this.metrics,validationErrors:this.validationErrors,summary:` : ${this.metrics.saveOperations},  : ${this.metrics.averageSaveTime.toFixed(2)}ms, : ${e}, : ${n}%`}}}const V1=Z1.getInstance();typeof window<"u"&&(window.saveServiceUtils={getReport:()=>V1.getDetailedReport(),getMetrics:()=>V1.getPerformanceMetrics(),getValidationErrors:()=>V1.getValidationErrors(),resetMetrics:()=>V1.resetMetrics(),clearValidationErrors:()=>V1.clearValidationErrors()});const ALe=(t,e)=>{const n=()=>{const{selectedElementId:i,elementsMap:s}=e();return i&&s.get(i)||null},r=async(i,s,o)=>{const{elementsMap:a,elements:l,selectedElementId:u,currentPageId:c}=e(),d=a.get(i);if(!d)return;const f=structuredClone(d.props),p=structuredClone(d),m={...d.props,...s},v={...d,props:m,...o};c&&Object.keys(s).length>0&&ys.addEntry({type:"update",elementId:i,data:{prevProps:f,props:structuredClone(m),prevElement:p}});const y=new Map(a);y.set(i,v);const A=l.findIndex(D=>D.id===i);let C=l;A!==-1&&(C=[...l],C[A]=v);const E={elements:C,elementsMap:y};u===i&&(E.selectedElementProps=m),t(E);const I=async()=>{try{const D={props:m};o?.customId!==void 0&&(D.custom_id=o.customId),o?.dataBinding!==void 0&&(D.data_binding=o.dataBinding),await V1.savePropertyChange({table:"elements",id:i,data:D},{source:"inspector",allowPreviewSaves:!0,validateSerialization:!0})}catch(D){console.error(" Inspector action DB save failed:",D)}};typeof requestIdleCallback<"u"?requestIdleCallback(()=>I(),{timeout:16}):setTimeout(()=>I(),0)};return{updateSelectedStyle:(i,s)=>{const o=n();if(!o)return;const a={...o.props?.style||{}};s===""||s===null||s===void 0?delete a[i]:a[i]=s,r(o.id,{style:a})},updateSelectedStyles:i=>{const s=n();if(!s)return;const o={...s.props?.style||{}};Object.entries(i).forEach(([a,l])=>{l===""||l===null||l===void 0?delete o[a]:o[a]=l}),r(s.id,{style:o})},updateSelectedProperty:(i,s)=>{const o=n();o&&r(o.id,{[i]:s})},updateSelectedProperties:i=>{const s=n();s&&r(s.id,i)},updateSelectedCustomId:i=>{const s=n();s&&r(s.id,{},{customId:i})},updateSelectedDataBinding:i=>{const s=n();s&&r(s.id,{},{dataBinding:i})},updateSelectedEvents:i=>{const s=n();s&&r(s.id,{events:i})},addSelectedEvent:i=>{const s=n();if(!s)return;const o=s.props?.events||[];r(s.id,{events:[...o,i]})},updateSelectedEvent:(i,s)=>{const o=n();if(!o)return;const l=(o.props?.events||[]).map(u=>u.id===i?s:u);r(o.id,{events:l})},removeSelectedEvent:i=>{const s=n();if(!s)return;const a=(s.props?.events||[]).filter(l=>l.id!==i);r(s.id,{events:a})},updateSelectedComputedStyle:i=>{const{selectedElementId:s}=e();if(!s)return;const a=e().selectedElementProps||{},l=a.computedStyle;if(l){const u=Object.keys(l),c=Object.keys(i);if(u.length===c.length&&u.every(f=>l[f]===i[f]))return}t({selectedElementProps:{...a,computedStyle:i}})}}},yLe=(t,e)=>async n=>{t({isLoading:!0,error:null});try{const s=(await(await vn()).layouts.getByProject(n)||[]).sort((d,f)=>{const p=(d.order_num||0)-(f.order_num||0);return p!==0?p:d.name.localeCompare(f.name)}),{currentLayoutId:o}=e(),a=o&&s.some(d=>d.id===o),l=s.length>0&&!a,u=s.find(d=>d.order_num===0)||s[0],c=l?u?.id:a?o:null;t({layouts:s,isLoading:!1,currentLayoutId:c})}catch(r){console.error(" Layout   :",r),t({error:r,isLoading:!1})}},vLe=(t,e)=>async n=>{t({isLoading:!0,error:null});try{const r=await vn(),i={id:crypto.randomUUID(),name:n.name,project_id:n.project_id,description:n.description,created_at:new Date().toISOString(),updated_at:new Date().toISOString()};await r.layouts.insert(i);const s={id:crypto.randomUUID(),tag:"body",props:{},parent_id:null,page_id:null,layout_id:i.id,order_num:0,created_at:new Date().toISOString(),updated_at:new Date().toISOString()};await r.elements.insert(s);const{elements:o,setElements:a}=CD.getState();a([...o,s]);const{layouts:l}=e();return t({layouts:[...l,i],isLoading:!1}),i}catch(r){throw console.error(" Layout  :",r),t({error:r,isLoading:!1}),r}},bLe=(t,e)=>async(n,r)=>{t({isLoading:!0,error:null});try{await(await vn()).layouts.update(n,r);const{layouts:s}=e();t({layouts:s.map(o=>o.id===n?{...o,...r,updated_at:new Date().toISOString()}:o),isLoading:!1})}catch(i){throw console.error(" Layout  :",i),t({error:i,isLoading:!1}),i}},xLe=(t,e)=>async n=>{t({isLoading:!0,error:null});try{const r=await vn(),s=(await r.pages.getAll()).filter(c=>c.layout_id===n);if(s.length>0){await Promise.all(s.map(p=>r.pages.update(p.id,{layout_id:null})));const{pages:c,setPages:d}=CD.getState(),f=c.map(p=>s.some(m=>m.id===p.id)?{...p,layout_id:null}:p);d(f)}const a=(await r.elements.getAll()).filter(c=>c.layout_id===n);if(a.length>0){await Promise.all(a.map(p=>r.elements.delete(p.id)));const{elements:c,setElements:d}=CD.getState(),f=c.filter(p=>p.layout_id!==n);d(f)}await r.layouts.delete(n);const{layouts:l,currentLayoutId:u}=e();t({layouts:l.filter(c=>c.id!==n),currentLayoutId:u===n?null:u,isLoading:!1})}catch(r){throw console.error(" Layout  :",r),t({error:r,isLoading:!1}),r}},CLe=(t,e)=>async n=>{t({isLoading:!0,error:null});try{const r=await vn(),{layouts:i}=e(),s=i.find(u=>u.id===n);if(!s)throw new Error(`Layout not found: ${n}`);const o={id:crypto.randomUUID(),name:`${s.name} (Copy)`,project_id:s.project_id,description:s.description,created_at:new Date().toISOString(),updated_at:new Date().toISOString()};await r.layouts.insert(o);const l=(await r.elements.getAll()).filter(u=>u.layout_id===n);if(l&&l.length>0){const u=new Map;l.forEach(d=>{u.set(d.id,crypto.randomUUID())});const c=l.map(d=>({...d,id:u.get(d.id),layout_id:o.id,parent_id:d.parent_id&&u.get(d.parent_id)||null,page_id:null}));await r.elements.insertMany(c)}return t({layouts:[...e().layouts,o],isLoading:!1}),o}catch(r){throw console.error(" Layout  :",r),t({error:r,isLoading:!1}),r}},ELe=t=>e=>{t({currentLayoutId:e})},SLe=t=>e=>{const{layouts:n}=t();return n.find(r=>r.id===e)},wLe=(t,e)=>n=>e().filter(s=>s.layout_id===n&&s.tag==="Slot").map(s=>{const o=s.props.name;return{name:o||`slot_${s.id.slice(0,8)}`,displayName:o||"unnamed",required:s.props.required||!1,description:s.props.description,elementId:s.id}}),_Le=()=>async t=>{try{const i=(await(await vn()).pages.getAll()).filter(s=>s.layout_id===t).map(s=>s.id);return{canDelete:i.length===0,usedByPages:i}}catch(e){return console.error(" Layout    :",e),{canDelete:!1,usedByPages:[]}}},ILe=(t,e)=>{const n=yLe(t,e),r=vLe(t,e),i=bLe(t,e),s=xLe(t,e),o=CLe(t,e),a=ELe(t),l=SLe(e),u=d=>wLe(e,()=>CD.getState().elements)(d),c=_Le();return{layouts:[],currentLayoutId:null,isLoading:!1,error:null,fetchLayouts:n,createLayout:r,updateLayout:i,deleteLayout:s,duplicateLayout:o,setCurrentLayout:a,getLayoutById:l,getLayoutSlots:u,validateLayoutDelete:c}},Fu=aa()(e4(ILe,{name:"xstudio-layouts",partialize:t=>({currentLayoutId:t.currentLayoutId})})),BLe=(t,e)=>({mode:"page",pageId:null,layoutId:null,enterPageMode:n=>{t({mode:"page",pageId:n,layoutId:null}),console.log(" Page   :",n)},enterLayoutMode:n=>{t({mode:"layout",pageId:null,layoutId:n}),console.log(" Layout   :",n)},getEditContext:()=>{const{mode:n,pageId:r,layoutId:i}=e();return{mode:n,pageId:r,layoutId:i}},setMode:n=>{t({mode:n}),console.log(` Edit Mode : ${n}`)},setCurrentPageId:n=>{t({pageId:n})},setCurrentLayoutId:n=>{t({layoutId:n})}}),rh=aa()(e4(BLe,{name:"xstudio-edit-mode",partialize:t=>({mode:t.mode})})),IQ={isRendering:!1,frameCount:0,lastRenderTime:0,contextLost:!1,fps:60,avgFrameTime:16.67};aa(t=>({...IQ,setRendering:e=>t({isRendering:e}),incrementFrame:()=>t(e=>({frameCount:e.frameCount+1,lastRenderTime:performance.now()})),setContextLost:e=>t({contextLost:e}),updateFps:(e,n)=>t({fps:e,avgFrameTime:n}),reset:()=>t(IQ)}));const BQ=233,Uk=48;aa((t,e)=>({viewportSize:{width:typeof window<"u"?window.innerWidth:1920,height:typeof window<"u"?window.innerHeight:1080},panelWidths:{left:BQ,right:BQ,bottom:200},headerHeight:Uk,workableArea:{x:0,y:Uk,width:typeof window<"u"?window.innerWidth:1920,height:typeof window<"u"?window.innerHeight-Uk:1032},setViewportSize:n=>{t({viewportSize:n}),e().updateWorkableArea()},setPanelWidth:(n,r)=>{t(i=>({panelWidths:{...i.panelWidths,[n]:r}})),e().updateWorkableArea()},setHeaderHeight:n=>{t({headerHeight:n}),e().updateWorkableArea()},updateWorkableArea:()=>{const{viewportSize:n,panelWidths:r,headerHeight:i}=e();t({workableArea:{x:r.left,y:i,width:n.width-r.left-r.right,height:n.height-i-r.bottom}})}}));aa()(XF(t=>({zoom:1,panX:0,panY:0,isEditing:!1,editingElementId:null,setZoom:e=>t({zoom:Math.max(.1,Math.min(5,e))}),setPan:(e,n)=>t({panX:e,panY:n}),setEditing:(e,n=null)=>t({isEditing:e,editingElementId:n}),resetView:()=>t({zoom:1,panX:0,panY:0})})));let Pe;const DLe=typeof window<"u"&&window.__XSTUDIO_STORE__;DLe?Pe=window.__XSTUDIO_STORE__:(Pe=aa((t,e,n)=>({..._ue(t,e),...F8e(t,e),...fLe(t,e),...pLe(t,e),...mLe(t,e),...ALe(t,e)})),typeof window<"u"&&(window.__XSTUDIO_STORE__=Pe,window.__XSTUDIO_STORE_ID__=Math.random().toString(36).substring(7)));const TLe=()=>typeof window<"u"&&window!==window.top&&window.parent&&window.parent.__XSTUDIO_STORE__?window.parent.__XSTUDIO_STORE__.getState():typeof window<"u"&&window.__XSTUDIO_STORE__?window.__XSTUDIO_STORE__.getState():Pe.getState();Pe.subscribe;const Bue=()=>{const t=Pe(n=>n.selectedElementId),e=Pe(n=>n.selectedElementProps);return x.useMemo(()=>{if(!t)return null;const n=Pe.getState().elementsMap.get(t);if(!n)return null;const r=e&&Object.keys(e).length>0?e:n.props,{style:i,computedStyle:s,events:o,...a}=r;return{id:n.id,customId:n.customId,type:n.tag,properties:a,style:i||{},computedStyle:s,semanticClasses:[],cssVariables:{},dataBinding:n.dataBinding,events:o||[]}},[t,e])},W$=()=>{const t=Bue();return x.useDeferredValue(t)};function MLe(t){return!t||t.trim()===""?!1:/^[a-zA-Z][a-zA-Z0-9_-]*$/.test(t)}function kLe(t,e,n){return!t||t.trim()===""?!0:!n.some(r=>r.customId===t&&r.id!==e)}function DQ(t,e,n){return!t||t.trim()===""?{isValid:!0}:MLe(t)?kLe(t,e,n)?{isValid:!0}:{isValid:!1,error:`ID "${t}" is already in use. Please choose a unique ID.`}:{isValid:!1,error:"Invalid ID format. Must start with a letter and contain only letters, numbers, hyphens, and underscores."}}const avt=x.memo(function({label:e="ID",value:n,elementId:r,placeholder:i="button_1",className:s}){const[o,a]=x.useState(n||""),[l,u]=x.useState(void 0),c=Pe(v=>v.updateSelectedCustomId);x.useEffect(()=>{a(n||""),u(void 0)},[n]);const d=v=>{v.target.select()},f=v=>{a(v),u(void 0)},p=()=>{const v=Pe.getState().elementsMap,y=Array.from(v.values()),A=DQ(o,r,y);if(!A.isValid){u(A.error),a(n||"");return}o!==(n||"")&&(c(o),u(void 0))},m=v=>{if(v.key==="Enter"){v.preventDefault();const y=Pe.getState().elementsMap,A=DQ(o,r,Array.from(y.values()));if(!A.isValid){u(A.error),a(n||"");return}o!==(n||"")&&(c(o),u(void 0)),v.target.blur()}else v.key==="Escape"&&(v.preventDefault(),a(n||""),u(void 0),v.target.blur())};return h.jsxs(h.Fragment,{children:[h.jsx(Z3,{legend:e,icon:vF,className:s,children:h.jsx("input",{className:"react-aria-Input",type:"text",value:o,onChange:v=>f(v.target.value),onFocus:d,onBlur:p,onKeyDown:m,placeholder:i,"aria-invalid":l?"true":"false","aria-describedby":l?"customid-error":void 0})}),l&&h.jsx("div",{id:"customid-error",className:"react-aria-FieldError",role:"alert",children:l})]})}),PLe=[{value:"manual",label:" ",description:"    "},{value:"onMount",label:" ",description:"   1 "},{value:"interval",label:"",description:"   "}],RLe=[{value:"dataTable",label:"DataTable",icon:nl},{value:"api",label:"API",icon:U_},{value:"variable",label:"Variable",icon:K_},{value:"route",label:"Route Param",icon:BX}],lvt=x.memo(function({label:e=" ",value:n,onChange:r,className:i,disabled:s}){const o=N$(),a=$T(),l=L$(),u=n?.source||"",c=n?.name||"",d=n?.path||"",f=n?.refreshMode||"manual",p=n?.refreshInterval||5e3,m=x.useCallback(()=>{switch(u){case"dataTable":return o.map(M=>({value:M.name,label:M.name,description:M.description}));case"api":return a.map(M=>({value:M.name,label:M.name,description:M.description}));case"variable":return l.map(M=>({value:M.name,label:M.name,description:`${M.scope} - ${M.type}`}));case"route":return[];default:return[]}},[u,o,a,l]),v=x.useCallback(M=>{const P=M;r(P?{source:P,name:"",path:""}:null)},[r]),y=x.useCallback(M=>{const P=M;u&&(console.log(` PropertyDataBinding: ${u}  "${P}" `),r({source:u,name:P,path:d,refreshMode:n?.refreshMode,refreshInterval:n?.refreshInterval}))},[u,d,n?.refreshMode,n?.refreshInterval,r]),A=x.useCallback(M=>{const P=M.target.value;u&&c&&r({source:u,name:c,path:P||void 0,refreshMode:n?.refreshMode,refreshInterval:n?.refreshInterval})},[u,c,n?.refreshMode,n?.refreshInterval,r]),C=x.useCallback(M=>{const P=M;u&&c&&r({source:u,name:c,path:n?.path,refreshMode:P,refreshInterval:P==="interval"?n?.refreshInterval||5e3:void 0})},[u,c,n?.path,n?.refreshInterval,r]),E=x.useCallback(M=>{const P=parseInt(M.target.value,10);u&&c&&!isNaN(P)&&P>0&&r({source:u,name:c,path:n?.path,refreshMode:"interval",refreshInterval:P})},[u,c,n?.path,r]),I=x.useCallback(()=>{r(null)},[r]),D=n?`{{${n.source}.${n.name}${n.path?"."+n.path:""}}}`:"",T=m();return h.jsx(Z3,{legend:e,icon:BX,className:i,children:h.jsxs("div",{className:"property-data-binding",children:[D&&h.jsxs("div",{className:"binding-preview",children:[h.jsx("code",{className:"binding-expression",children:D}),h.jsx("button",{className:"binding-clear",onClick:I,type:"button","aria-label":" ",children:h.jsx(vd,{size:yn.size})})]}),h.jsx("div",{className:"binding-row",children:h.jsxs(po,{className:"react-aria-Select binding-source-select",selectedKey:u||null,onSelectionChange:v,"aria-label":" ",isDisabled:s,children:[h.jsxs(Yt,{className:"react-aria-Button",children:[h.jsx(go,{children:" ..."}),h.jsx("span",{"aria-hidden":"true",className:"select-chevron",children:h.jsx(ho,{size:ce.size})})]}),h.jsx(Ss,{className:"react-aria-Popover",children:h.jsx(Ui,{className:"react-aria-ListBox",children:RLe.map(M=>h.jsxs(tr,{id:M.value,className:"react-aria-ListBoxItem",textValue:M.label,children:[h.jsx(M.icon,{size:yn.size}),h.jsx("span",{children:M.label})]},M.value))})})]})}),u&&u!=="route"&&h.jsx("div",{className:"binding-row",children:T.length>0?h.jsxs(po,{className:"react-aria-Select binding-name-select",selectedKey:c||null,onSelectionChange:y,"aria-label":" ",isDisabled:s,children:[h.jsxs(Yt,{className:"react-aria-Button",children:[h.jsx(go,{children:" ..."}),h.jsx("span",{"aria-hidden":"true",className:"select-chevron",children:h.jsx(ho,{size:ce.size})})]}),h.jsx(Ss,{className:"react-aria-Popover",children:h.jsx(Ui,{className:"react-aria-ListBox",children:T.map(M=>h.jsx(tr,{id:M.value,className:"react-aria-ListBoxItem",textValue:M.label,children:h.jsxs("div",{className:"binding-option",children:[h.jsx("span",{className:"binding-option-label",children:M.label}),M.description&&h.jsx("span",{className:"binding-option-desc",children:M.description})]})},M.value))})})]}):h.jsxs("div",{className:"binding-empty",children:[" ",u==="dataTable"?"DataTable":u==="api"?"API":"Variable"," ."]})}),u==="route"&&h.jsx("div",{className:"binding-row",children:h.jsx("input",{className:"react-aria-Input",type:"text",defaultValue:c,onBlur:M=>{const P=M.target.value;P&&r({source:"route",name:P,path:d})},placeholder:"  (: productId)",disabled:s},`route-${n?.name||""}`)}),u&&c&&h.jsx("div",{className:"binding-row",children:h.jsx("input",{className:"react-aria-Input binding-path-input",type:"text",defaultValue:d,onBlur:A,placeholder:"  (: items[0].name)",disabled:s},`path-${n?.source||""}-${n?.name||""}`)}),u&&c&&(u==="api"||u==="dataTable")&&h.jsxs(h.Fragment,{children:[h.jsxs("div",{className:"binding-row binding-refresh-row",children:[h.jsxs("label",{className:"binding-row-label",children:[h.jsx(Qy,{size:yn.size}),h.jsx("span",{children:" "})]}),h.jsxs(po,{className:"react-aria-Select binding-refresh-select",selectedKey:f,onSelectionChange:C,"aria-label":" ",isDisabled:s,children:[h.jsxs(Yt,{className:"react-aria-Button",children:[h.jsx(go,{}),h.jsx("span",{"aria-hidden":"true",className:"select-chevron",children:h.jsx(ho,{size:ce.size})})]}),h.jsx(Ss,{className:"react-aria-Popover",children:h.jsx(Ui,{className:"react-aria-ListBox",children:PLe.map(M=>h.jsx(tr,{id:M.value,className:"react-aria-ListBoxItem",textValue:M.label,children:h.jsxs("div",{className:"binding-option",children:[h.jsx("span",{className:"binding-option-label",children:M.label}),h.jsx("span",{className:"binding-option-desc",children:M.description})]})},M.value))})})]})]}),f==="interval"&&h.jsxs("div",{className:"binding-row binding-interval-row",children:[h.jsx("label",{className:"binding-row-label",children:h.jsx("span",{children:" "})}),h.jsxs("div",{className:"binding-interval-input",children:[h.jsx("input",{className:"react-aria-Input",type:"number",min:"1000",step:"1000",defaultValue:p,onBlur:E,placeholder:"5000",disabled:s},`interval-${n?.source||""}-${n?.name||""}`),h.jsx("span",{className:"binding-interval-unit",children:"ms"})]})]})]})]})})});function Uu({title:t,icon:e,actions:n,className:r=""}){return h.jsxs("div",{className:`panel-header ${r}`.trim(),children:[h.jsxs("h3",{className:"panel-title",children:[e&&h.jsx("span",{className:"panel-icon",children:e}),t]}),n&&h.jsx("div",{className:"panel-actions",children:n})]})}function g4({title:t,icon:e,actions:n,collapsible:r=!1,isCollapsed:i=!1,onToggle:s,className:o=""}){return h.jsxs("div",{className:`section-header ${r?"collapsible":""} ${i?"collapsed":""} ${o}`.trim(),onClick:r&&s?s:void 0,style:{cursor:r?"pointer":"default"},children:[h.jsxs("div",{className:"section-title",children:[r&&h.jsx("span",{className:"collapse-icon",style:{marginRight:"8px"},children:i?"":""}),e&&h.jsx("span",{className:"section-icon",children:e}),t]}),n&&h.jsx("div",{className:"header-actions",children:n})]})}function NLe({count:t,primaryElementType:e,onCopyAll:n,onPasteAll:r,onDeleteAll:i,onClearSelection:s,onGroupSelection:o,onAlign:a,onDistribute:l,className:u=""}){return h.jsxs("div",{className:`multi-select-status ${u}`.trim(),children:[h.jsxs("div",{className:"status-header",children:[h.jsxs("div",{className:"status-count",children:[h.jsx("span",{className:"count-number",children:t}),h.jsx("span",{className:"count-label",children:"  "})]}),e&&h.jsxs("div",{className:"primary-element-badge",children:[h.jsx("span",{className:"badge-label",children:"Primary:"}),h.jsx("span",{className:"badge-type",children:e})]})]}),h.jsxs("div",{className:"status-actions",children:[h.jsxs("div",{className:"action-group",children:[h.jsx("span",{className:"group-label",children:""}),h.jsxs(Kn,{variant:"ghost",size:"sm",onPress:n,"aria-label":"Copy all selected elements (Cmd+Shift+C)",isDisabled:t===0,children:[h.jsx(gF,{color:ce.color,size:ce.size,strokeWidth:ce.strokeWidth}),h.jsx("span",{children:" "}),h.jsx("span",{className:"shortcut-hint",children:"C"})]}),h.jsxs(Kn,{variant:"ghost",size:"sm",onPress:r,"aria-label":"Paste copied elements (Cmd+Shift+V)",children:[h.jsx(fF,{color:ce.color,size:ce.size,strokeWidth:ce.strokeWidth}),h.jsx("span",{children:""}),h.jsx("span",{className:"shortcut-hint",children:"V"})]})]}),h.jsxs("div",{className:"action-group",children:[h.jsx("span",{className:"group-label",children:""}),h.jsxs(Kn,{variant:"ghost",size:"sm",onPress:o,"aria-label":"Group selected elements (Cmd+G)",isDisabled:t<2,children:[h.jsx(SE,{color:ce.color,size:ce.size,strokeWidth:ce.strokeWidth}),h.jsx("span",{children:""}),h.jsx("span",{className:"shortcut-hint",children:"G"})]})]}),a&&h.jsxs("div",{className:"action-group",children:[h.jsx("span",{className:"group-label",children:""}),h.jsxs("div",{className:"button-row",children:[h.jsx(Kn,{variant:"ghost",size:"sm",onPress:()=>a("left"),"aria-label":"Align left (Cmd+Shift+L)",isDisabled:t<2,children:h.jsx(SF,{color:ce.color,size:ce.size,strokeWidth:ce.strokeWidth})}),h.jsx(Kn,{variant:"ghost",size:"sm",onPress:()=>a("center"),"aria-label":"Align horizontal center (Cmd+Shift+H)",isDisabled:t<2,children:h.jsx(NX,{color:ce.color,size:ce.size,strokeWidth:ce.strokeWidth})}),h.jsx(Kn,{variant:"ghost",size:"sm",onPress:()=>a("right"),"aria-label":"Align right (Cmd+Shift+R)",isDisabled:t<2,children:h.jsx(LX,{color:ce.color,size:ce.size,strokeWidth:ce.strokeWidth})}),h.jsx(Kn,{variant:"ghost",size:"sm",onPress:()=>a("top"),"aria-label":"Align top (Cmd+Shift+T)",isDisabled:t<2,children:h.jsx(fX,{color:ce.color,size:ce.size,strokeWidth:ce.strokeWidth})}),h.jsx(Kn,{variant:"ghost",size:"sm",onPress:()=>a("middle"),"aria-label":"Align vertical middle (Cmd+Shift+M)",isDisabled:t<2,children:h.jsx(dX,{color:ce.color,size:ce.size,strokeWidth:ce.strokeWidth})}),h.jsx(Kn,{variant:"ghost",size:"sm",onPress:()=>a("bottom"),"aria-label":"Align bottom (Cmd+Shift+B)",isDisabled:t<2,children:h.jsx(hX,{color:ce.color,size:ce.size,strokeWidth:ce.strokeWidth})})]})]}),l&&h.jsxs("div",{className:"action-group",children:[h.jsx("span",{className:"group-label",children:""}),h.jsxs("div",{className:"button-row",children:[h.jsx(Kn,{variant:"ghost",size:"sm",onPress:()=>l("horizontal"),"aria-label":"Distribute horizontally (Cmd+Shift+D)",isDisabled:t<3,children:h.jsx(pAe,{color:ce.color,size:ce.size,strokeWidth:ce.strokeWidth})}),h.jsx(Kn,{variant:"ghost",size:"sm",onPress:()=>l("vertical"),"aria-label":"Distribute vertically (Cmd+Alt+Shift+V)",isDisabled:t<3,children:h.jsx(AAe,{color:ce.color,size:ce.size,strokeWidth:ce.strokeWidth})})]})]}),h.jsxs("div",{className:"action-group",children:[h.jsx("span",{className:"group-label",children:""}),h.jsxs(Kn,{variant:"ghost",size:"sm",onPress:i,"aria-label":"Delete all selected elements (Delete)",isDisabled:t===0,children:[h.jsx(Qu,{color:ce.color,size:ce.size,strokeWidth:ce.strokeWidth}),h.jsx("span",{children:" "}),h.jsx("span",{className:"shortcut-hint",children:""})]}),h.jsxs(Kn,{variant:"ghost",size:"sm",onPress:s,"aria-label":"Clear selection (Esc)",isDisabled:t===0,children:[h.jsx(vd,{color:ce.color,size:ce.size,strokeWidth:ce.strokeWidth}),h.jsx("span",{children:" "}),h.jsx("span",{className:"shortcut-hint",children:"Esc"})]})]})]}),h.jsxs("div",{className:"status-info",children:[h.jsx("p",{className:"info-text",children:"  .     Inspector ."}),h.jsx("p",{className:"info-hint",children:"        ."})]})]})}function LLe(t){if(t.length===0)return{commonProps:[],elementCount:0,elementTypes:[]};const e=Array.from(new Set(t.map(a=>a.tag))),r=t[0].props||{};return{commonProps:Object.keys(r).filter(a=>t.every(l=>a in(l.props||{}))).map(a=>{const l=t.map(d=>(d.props||{})[a]),u=l[0];if(l.every(d=>JSON.stringify(d)===JSON.stringify(u)))return{key:a,value:u,isMixed:!1};{const d=Array.from(new Set(l.map(f=>JSON.stringify(f)))).map(f=>JSON.parse(f));return{key:a,value:u,isMixed:!0,uniqueValues:d}}}),elementCount:t.length,elementTypes:e}}function FLe(t,e){if(e==="all")return t;const o={layout:["display","flexDirection","justifyContent","alignItems","gap","width","height","padding","margin"],style:["backgroundColor","color","border","borderRadius","boxShadow","opacity"],content:["children","label","placeholder","value","defaultValue"]}[e];return t.filter(a=>o.includes(a.key))}function $Le(t){return!["id","customId","key","data-element-id"].includes(t)}function zLe(t){return["color","backgroundColor","borderColor","fill","stroke"].some(o=>t.toLowerCase().includes(o.toLowerCase()))?"color":["width","height","padding","margin","gap","top","left","right","bottom","borderRadius","borderWidth"].some(o=>t.toLowerCase().includes(o.toLowerCase()))?"dimension":["disabled","isDisabled","readonly","isReadonly","required","isRequired","selected","isSelected","checked","isChecked","open","isOpen"].includes(t)?"boolean":["variant","size","display","flexDirection","justifyContent","alignItems","textAlign","fontWeight","position"].includes(t)?"select":["opacity","zIndex","order","tabIndex","step"].includes(t)?"number":"string"}function OLe({selectedElements:t,onBatchUpdate:e,className:n=""}){const[r,i]=x.useState("all"),[s,o]=x.useState({}),[a,l]=x.useState(!1),u=x.useMemo(()=>LLe(t),[t]),c=x.useMemo(()=>{const E=FLe(u.commonProps,r);return a?E.filter(I=>I.isMixed):E},[u.commonProps,r,a]),d=x.useMemo(()=>c.filter(E=>$Le(E.key)),[c]),f=x.useMemo(()=>u.commonProps.filter(E=>E.isMixed).length,[u.commonProps]),p=x.useCallback((E,I)=>{o(D=>({...D,[E]:I}))},[]),m=x.useCallback(()=>{Object.keys(s).length>0&&(e(s),o({}))},[s,e]),v=x.useCallback(()=>{o({})},[]),y=x.useCallback((E,I)=>E in s?s[E]:I,[s]),A=E=>{const{key:I,value:D,isMixed:T}=E,M=y(I,D),P=I in s,k=zLe(I),L=h.jsxs("span",{className:"batch-property-label",children:[I,T&&h.jsx("span",{className:"mixed-badge",children:"Mixed"}),P&&h.jsx("span",{className:"pending-badge",children:"Pending"})]});return k==="boolean"||typeof D=="boolean"?h.jsx(rv,{label:L,isSelected:M,onChange:$=>p(I,$)},I):k==="number"||typeof D=="number"?h.jsx(Fa,{label:L,value:T&&!P?"":String(M),onChange:$=>{if($==="")return;const z=Number($);isNaN(z)||p(I,z)},placeholder:T&&!P?`Mixed (${E.uniqueValues?.length} values)`:void 0},I):k==="color"?h.jsx(Fa,{label:L,value:T&&!P?"":String(M),onChange:$=>p(I,$),placeholder:T&&!P?"Mixed colors":void 0,type:"color"},I):k==="select"?h.jsx(kl,{label:L,value:String(M),onChange:$=>p(I,$),options:[{value:String(M),label:String(M)}]},I):h.jsx(Fa,{label:L,value:T&&!P?"":String(M),onChange:$=>p(I,$),placeholder:T&&!P?`Mixed (${E.uniqueValues?.length} values)`:void 0},I)};if(u.elementCount===0)return null;const C=Object.keys(s).length>0;return h.jsxs("div",{className:`batch-property-editor ${n}`.trim(),children:[h.jsxs("div",{className:"batch-header",children:[h.jsxs("div",{className:"batch-info",children:[h.jsxs("p",{className:"batch-count",children:[u.elementCount,"   "]}),h.jsxs("p",{className:"batch-types",children:[": ",u.elementTypes.join(", ")]}),f>0&&h.jsxs("p",{className:"batch-mixed",children:[h.jsx("span",{className:"mixed-indicator",children:""}),f,"     "]})]}),h.jsxs("div",{className:"batch-controls",children:[h.jsx(kl,{label:"",value:r,onChange:E=>i(E),options:[{value:"all",label:""},{value:"layout",label:""},{value:"style",label:""},{value:"content",label:""}]}),f>0&&h.jsx(rv,{label:"Mixed ",isSelected:a,onChange:l})]})]}),h.jsx(Z3,{legend:" ",children:d.length===0?h.jsx("p",{className:"batch-empty",children:a?"Mixed    .":"    ."}):d.map(E=>A(E))}),C&&h.jsxs("div",{className:"batch-actions",children:[h.jsxs(Kn,{variant:"ghost",size:"sm",onPress:m,"aria-label":"Apply all pending changes",children:[h.jsx(AX,{color:ce.color,size:ce.size,strokeWidth:ce.strokeWidth}),h.jsxs("span",{children:["  (",Object.keys(s).length,")"]})]}),h.jsxs(Kn,{variant:"ghost",size:"sm",onPress:v,"aria-label":"Reset all pending changes",children:[h.jsx(Qy,{color:ce.color,size:ce.size,strokeWidth:ce.strokeWidth}),h.jsx("span",{children:""})]})]}),h.jsxs("div",{className:"batch-footer",children:[h.jsx("p",{className:"batch-hint",children:'  " "   .'}),C&&h.jsxs("p",{className:"batch-warning",children:[" ",Object.keys(s).length,"   ."]})]})]})}function jLe({allElements:t,onFilteredElements:e,className:n=""}){const[r,i]=x.useState("all"),[s,o]=x.useState(""),[a,l]=x.useState(""),[u,c]=x.useState(""),[d,f]=x.useState(!1),p=x.useMemo(()=>{const y=new Set;return t.forEach(A=>{y.add(A.tag)}),Array.from(y).sort()},[t]),m=()=>{let y=[];switch(r){case"all":y=t;break;case"type":case"tag":s&&(y=t.filter(C=>C.tag===s));break;case"property":a&&(y=t.filter(C=>{const E=C.props||{};return a in E?u?String(E[a]||"").toLowerCase().includes(u.toLowerCase()):a in E:!1}));break}const A=y.map(C=>C.id);e(A),console.log(` [Filter] Applied ${r} filter, found ${A.length} elements`)},v=()=>{i("all"),o(""),l(""),c(""),e(t.map(y=>y.id)),console.log(" [Filter] Cleared filter")};return d?h.jsxs("div",{className:`selection-filter ${n}`.trim(),children:[h.jsxs("div",{className:"filter-header",children:[h.jsxs("div",{className:"filter-title",children:[h.jsx(q7,{size:ce.size}),h.jsx("span",{children:" "})]}),h.jsx(Kn,{variant:"ghost",size:"sm",onPress:()=>f(!1),"aria-label":"Hide filter options",children:h.jsx(vd,{size:ce.size})})]}),h.jsxs("div",{className:"filter-content",children:[h.jsx(kl,{label:" ",value:r,onChange:y=>i(y),options:[{value:"all",label:""},{value:"type",label:""},{value:"tag",label:""},{value:"property",label:""}]}),(r==="type"||r==="tag")&&h.jsx(kl,{label:"",value:s,onChange:o,options:[{value:"",label:""},...p.map(y=>({value:y,label:y}))]}),r==="property"&&h.jsxs(h.Fragment,{children:[h.jsx(Fa,{label:" ",value:a,onChange:l,placeholder:": className, id, style"}),h.jsx(Fa,{label:"  ()",value:u,onChange:c,placeholder:"  (   )"})]}),h.jsxs("div",{className:"filter-actions",children:[h.jsx(Kn,{variant:"primary",size:"sm",onPress:m,isDisabled:(r==="type"||r==="tag")&&!s||r==="property"&&!a,children:" "}),h.jsx(Kn,{variant:"ghost",size:"sm",onPress:v,children:""})]})]})]}):h.jsx("div",{className:`selection-filter collapsed ${n}`.trim(),children:h.jsxs(Kn,{variant:"ghost",size:"sm",onPress:()=>f(!0),"aria-label":"Show filter options",children:[h.jsx(q7,{color:ce.color,size:ce.size,strokeWidth:ce.strokeWidth}),h.jsx("span",{children:""})]})})}const TQ=5;class QLe{history=[];listeners=new Set;addSelection(e,n,r){if(e.length===0)return null;const i=this.createLabel(e,n),s={id:`selection-${Date.now()}`,elementIds:[...e],timestamp:Date.now(),label:i,pageId:r};return this.history.unshift(s),this.history.length>TQ&&(this.history=this.history.slice(0,TQ)),this.notifyListeners(),console.log(`[SelectionMemory] Added to history: ${i} (${e.length} elements)`),s}getHistory(){return[...this.history]}getEntry(e){return this.history.find(n=>n.id===e)||null}clearHistory(){this.history=[],this.notifyListeners(),console.log("[SelectionMemory] History cleared")}removeEntry(e){this.history=this.history.filter(n=>n.id!==e),this.notifyListeners(),console.log(`[SelectionMemory] Removed entry: ${e}`)}subscribe(e){return this.listeners.add(e),()=>this.listeners.delete(e)}notifyListeners(){this.listeners.forEach(e=>e())}createLabel(e,n){if(e.length===1){const s=n.find(o=>o.id===e[0]);return s?s.tag:"1 element"}const r=new Map;e.forEach(s=>{const o=n.find(a=>a.id===s);if(o){const a=r.get(o.tag)||0;r.set(o.tag,a+1)}});const i=Array.from(r.entries()).sort((s,o)=>o[1]-s[1]).slice(0,2);if(i.length===1){const[s,o]=i[0];return`${o} ${s}${o>1?"s":""}`}else if(i.length===2){const[s,o]=i[0],[a,l]=i[1];return`${o} ${s}${o>1?"s":""}, ${l} ${a}${l>1?"s":""}`}return`${e.length} elements`}}const Xw=new QLe;function ULe(t){const n=Date.now()-t,r=Math.floor(n/1e3),i=Math.floor(r/60),s=Math.floor(i/60),o=Math.floor(s/24);return r<60?"just now":i<60?`${i} min${i>1?"s":""} ago`:s<24?`${s} hour${s>1?"s":""} ago`:o<7?`${o} day${o>1?"s":""} ago`:new Date(t).toLocaleDateString()}function HLe({currentPageId:t,onRestore:e,className:n=""}){const[r,i]=x.useState([]);x.useEffect(()=>{const u=()=>{i(Xw.getHistory())};return u(),Xw.subscribe(u)},[]);const s=r.filter(u=>!t||u.pageId===t),o=u=>{console.log(`[SelectionMemory] Restoring selection: ${u.label}`),e(u.elementIds)},a=(u,c)=>{c.stopPropagation(),Xw.removeEntry(u)},l=()=>{confirm("Clear all selection history?")&&Xw.clearHistory()};return s.length===0?h.jsx("div",{className:`selection-memory empty ${n}`.trim(),children:h.jsxs("div",{className:"empty-state",children:[h.jsx(aE,{size:J3.size,color:"var(--color-text-tertiary)"}),h.jsx("p",{className:"empty-text",children:"No selection history"}),h.jsx("p",{className:"empty-hint",children:"Previous selections will appear here for quick access"})]})}):h.jsxs("div",{className:`selection-memory ${n}`.trim(),children:[h.jsxs("div",{className:"memory-header",children:[h.jsx(aE,{color:ce.color,size:ce.size,strokeWidth:ce.strokeWidth}),h.jsx("h3",{children:"Selection History"}),h.jsx("span",{className:"history-count",children:s.length}),s.length>0&&h.jsx(Kn,{variant:"ghost",size:"sm",onPress:l,"aria-label":"Clear all history",className:"clear-all-btn",children:h.jsx(Qu,{size:yn.size})})]}),h.jsx("div",{className:"history-list",children:s.map(u=>h.jsxs("div",{className:"history-item",children:[h.jsxs(Kn,{variant:"ghost",size:"sm",onPress:()=>o(u),className:"history-item-btn",children:[h.jsx(xF,{color:ce.color,size:ce.size,strokeWidth:ce.strokeWidth}),h.jsxs("div",{className:"history-info",children:[h.jsx("span",{className:"history-label",children:u.label}),h.jsxs("span",{className:"history-time",children:[h.jsx(pF,{size:oh.size}),ULe(u.timestamp)]})]})]}),h.jsx(Kn,{variant:"ghost",size:"sm",onPress:c=>a(u.id,c),"aria-label":"Delete history entry",className:"delete-btn",children:h.jsx(Qu,{size:yn.size})})]},u.id))}),h.jsx("div",{className:"memory-footer",children:h.jsxs("p",{className:"footer-hint",children:[" Last ",Math.min(s.length,5)," selections saved"]})})]})}function VLe(t,e){const n=e.find(i=>i.id===t);if(!n)return[];const r=n.props.className||"";return e.filter(i=>i.id!==t&&i.tag===n.tag&&(i.props.className||"")===r).map(i=>i.id)}function GLe(t,e){const n=e.find(r=>r.id===t);return n?e.filter(r=>r.id!==t&&r.parent_id===n.parent_id).map(r=>r.id):[]}function KLe(t,e){const n=[],r=[t],i=new Set([t]);for(;r.length>0;){const s=r.shift();e.filter(a=>a.parent_id===s&&!i.has(a.id)).forEach(a=>{n.push(a.id),i.add(a.id),r.push(a.id)})}return n}function WLe(t,e){const n=e.find(r=>r.id===t);return!n||!n.parent_id?null:n.parent_id}function qLe(t,e){const n=e.find(r=>r.id===t);return n?e.filter(r=>r.id!==t&&r.tag===n.tag).map(r=>r.id):[]}function YLe(t,e){const n=e.find(i=>i.id===t);if(!n)return[];const r=n.props.className||"";return r?e.filter(i=>i.id!==t&&(i.props.className||"")===r).map(i=>i.id):[]}function XLe(t,e,n=.7){const r=e.find(o=>o.id===t);if(!r)return[];const i=r.props.style||{},s=Object.keys(i);return s.length===0?[]:e.filter(o=>{if(o.id===t)return!1;const a=o.props.style||{},l=Object.keys(a);return l.length===0?!1:s.filter(d=>i[d]===a[d]).length/Math.max(s.length,l.length)>=n}).map(o=>o.id)}function JLe(t,e){const n=e.find(d=>d.id===t);if(!n)return[];const r=[],i=VLe(t,e);i.length>0&&r.push({type:"similar",elementIds:i,count:i.length,description:"Similar elements (same tag and className)"});const s=GLe(t,e);s.length>0&&r.push({type:"siblings",elementIds:s,count:s.length,description:"Siblings (same parent)"});const o=KLe(t,e);o.length>0&&r.push({type:"children",elementIds:o,count:o.length,description:"All children (descendants)"});const a=WLe(t,e);a&&r.push({type:"parent",elementIds:[a],count:1,description:"Parent element"});const l=qLe(t,e);l.length>0&&r.push({type:"sameType",elementIds:l,count:l.length,description:`Same type (${n.tag})`});const u=YLe(t,e);if(u.length>0){const d=n.props.className||"";r.push({type:"sameClass",elementIds:u,count:u.length,description:`Same className (${d})`})}const c=XLe(t,e,.7);return c.length>0&&r.push({type:"sameStyle",elementIds:c,count:c.length,description:"Similar styles (70%+ match)"}),r}const ZLe={similar:jN,siblings:wF,children:wX,parent:im,sameType:EF,sameClass:ax,sameStyle:Ug};function eFe({referenceElement:t,allElements:e,onSelect:n,className:r=""}){const i=x.useMemo(()=>JLe(t.id,e),[t.id,e]),s=o=>{console.log(`[SmartSelection] Applying suggestion: ${o.type}, count: ${o.count}`),n(o.elementIds)};return i.length===0?h.jsx("div",{className:`smart-selection empty ${r}`.trim(),children:h.jsxs("div",{className:"empty-state",children:[h.jsx(jN,{size:J3.size,color:"var(--color-text-tertiary)"}),h.jsx("p",{className:"empty-text",children:"No smart selection suggestions available"}),h.jsx("p",{className:"empty-hint",children:"Select an element with siblings, children, or similar elements to see suggestions"})]})}):h.jsxs("div",{className:`smart-selection ${r}`.trim(),children:[h.jsxs("div",{className:"smart-selection-header",children:[h.jsx(jN,{color:ce.color,size:ce.size,strokeWidth:ce.strokeWidth}),h.jsx("h3",{children:"Smart Select"}),h.jsxs("span",{className:"suggestion-count",children:[i.length," suggestions"]})]}),h.jsx("div",{className:"suggestions-list",children:i.map(o=>{const a=ZLe[o.type];return h.jsxs(Kn,{variant:"ghost",size:"sm",onPress:()=>s(o),className:"suggestion-item",children:[h.jsx(a,{color:ce.color,size:ce.size,strokeWidth:ce.strokeWidth}),h.jsxs("div",{className:"suggestion-info",children:[h.jsx("span",{className:"suggestion-description",children:o.description}),h.jsxs("span",{className:"suggestion-count-badge",children:[o.count," found"]})]})]},o.type)})}),h.jsx("div",{className:"smart-selection-footer",children:h.jsx("p",{className:"footer-hint",children:" Click a suggestion to select matching elements"})})]})}function Pa({icon:t,message:e,description:n,className:r=""}){return h.jsx("div",{className:`inspector empty ${r}`.trim(),children:h.jsxs("div",{className:"empty-state",children:[t&&h.jsx("div",{className:"empty-icon",children:t}),h.jsx("p",{className:"empty-message",children:e}),n&&h.jsx("p",{className:"empty-description",children:n})]})})}function Due({icon:t,message:e=" ...",description:n,size:r="md",className:i=""}){return h.jsx("div",{className:`inspector loading ${i}`.trim(),children:h.jsxs("div",{className:"loading-state",children:[t||h.jsx("div",{className:`spinner spinner-${r}`,"aria-label":"Loading",children:h.jsx("svg",{className:"spinner-svg",viewBox:"0 0 50 50",xmlns:"http://www.w3.org/2000/svg",children:h.jsx("circle",{className:"spinner-circle",cx:"25",cy:"25",r:"20",fill:"none",strokeWidth:"4"})})}),h.jsx("p",{className:"loading-message",children:e}),n&&h.jsx("p",{className:"loading-description",children:n})]})})}const tFe={success:vX,warning:FX,error:yX,info:lve};function nFe({id:t,type:e,message:n,onDismiss:r,action:i}){const s=tFe[e],o=()=>{i?.onClick(),r(t)};return h.jsxs("div",{className:"toast","data-type":e,role:"alert","aria-live":"polite",children:[h.jsx(s,{size:ce.size,className:"toast-icon","aria-hidden":"true"}),h.jsx("span",{className:"toast-message",children:n}),i&&h.jsx(Yt,{className:"toast-action",onPress:o,children:i.label}),h.jsx(Yt,{className:"toast-dismiss",onPress:()=>r(t),"aria-label":"Dismiss notification",children:h.jsx(vd,{size:yn.size,"aria-hidden":"true"})})]})}function Tue({toasts:t=[],onDismiss:e}){const n=J1(o=>o.toasts),r=J1(o=>o.dismissToast),i=[...t.map(o=>({...o,source:"hook"})),...n.map(o=>({...o,source:"store"}))];if(i.length===0)return null;const s=(o,a)=>{a==="hook"&&e?e(o):a==="store"&&r(o)};return h.jsx("div",{className:"toast-container",role:"region","aria-label":"Notifications",children:i.map(o=>h.jsx(nFe,{id:o.id,type:o.type,message:o.message,onDismiss:a=>s(a,o.source),action:o.source==="store"?o.action:void 0},o.id))})}x.memo(function({id:e,name:n,dataBinding:r,description:i,refreshInterval:s,autoLoad:o=!0}){const a=Mp(p=>p.registerDataTable),l=Mp(p=>p.unregisterDataTable),u=Mp(p=>p.loadDataTable),c=Mp(p=>p.updateDataTableConfig),d=x.useRef(void 0),f=x.useRef(!0);return x.useEffect(()=>{if(!e){console.warn(" DataTable: id prop is required");return}if(!r){console.warn(` DataTable ${e}: dataBinding prop is required`);return}return a({id:e,name:n||e,dataBinding:r,description:i,refreshInterval:s,useCache:!0,cacheTTL:300*1e3}),o&&u(e),()=>{l(e)}},[e]),x.useEffect(()=>{if(f.current){f.current=!1,d.current=r;return}const p=JSON.stringify(d.current),m=JSON.stringify(r);p!==m&&r&&(console.log(` DataTable ${e}: dataBinding changed, updating...`),c(e,{dataBinding:r}),o&&u(e),d.current=r)},[r,e,o,c,u]),x.useEffect(()=>{if(!s||s<=0)return;console.log(` DataTable ${e}: Auto-refresh every ${s}ms`);const p=setInterval(()=>{u(e)},s);return()=>{clearInterval(p)}},[e,s,u]),null});aa(t=>({loading:{},errors:{},progress:{},setLoading:(e,n)=>t(r=>({loading:{...r.loading,[e]:n}})),setError:(e,n)=>t(r=>({errors:{...r.errors,[e]:n}})),setProgress:(e,n)=>t(r=>({progress:{...r.progress,[e]:Math.min(100,Math.max(0,n))}})),reset:e=>t(n=>{const{[e]:r,...i}=n.loading,{[e]:s,...o}=n.errors,{[e]:a,...l}=n.progress;return{loading:i,errors:o,progress:l}}),resetAll:()=>t({loading:{},errors:{},progress:{}})}));new eue({max:100,ttl:300*1e3});function hf(t,e={}){const{onSuccess:n,onError:r,onSettled:i}=e,[s,o]=x.useState(null),[a,l]=x.useState(!1),[u,c]=x.useState(null),d=x.useCallback(async p=>{l(!0),c(null);try{const m=await t(p);return o(m),console.log(" useAsyncMutation "),n&&await n(m,p),i&&await i(m,null,p),m}catch(m){const v=m;throw c(v),console.error(" useAsyncMutation :",v),r&&await r(v,p),i&&await i(void 0,v,p),v}finally{l(!1)}},[t,n,r,i]),f=x.useCallback(()=>{o(null),c(null),l(!1)},[]);return{data:s,isLoading:a,isSuccess:s!==null&&u===null,isError:u!==null,error:u,execute:d,reset:f}}function rFe(t,e={}){const{enabled:n=!0,initialData:r=[],retryCount:i=0,retryDelay:s=1e3}=e,o=Aae({initialSelectedKeys:[],async load({signal:a}){if(!n)return{items:r};let l=null,u=0;for(;u<=i;)try{const c=await t({signal:a}),d=Array.isArray(c)?c:[c];return console.log(" useAsyncQuery   :",d.length,"items"),{items:d}}catch(c){if(l=c,l.name==="AbortError")return console.log(" useAsyncQuery  "),{items:r};u++,u<=i&&(console.warn(` useAsyncQuery   (${u}/${i+1}), ${s}ms  ...`),await new Promise(d=>setTimeout(d,s)))}throw console.error(` useAsyncQuery   (${u} ):`,l),l},getKey:a=>String(a.id||Math.random())});return{data:o.items,isLoading:o.isLoading,error:o.error||null,reload:o.reload}}const tf={all:["data"],dataTables:t=>[...tf.all,"dataTables",t],dataTable:(t,e)=>[...tf.dataTables(t),e],apiEndpoints:t=>[...tf.all,"apiEndpoints",t],apiEndpoint:(t,e)=>[...tf.apiEndpoints(t),e],variables:t=>[...tf.all,"variables",t],variable:(t,e)=>[...tf.variables(t),e],transformers:t=>[...tf.all,"transformers",t],transformer:(t,e)=>[...tf.transformers(t),e]};async function iFe(t){return await(await vn()).data_tables?.getByProject(t)||[]}async function sFe(t){return await(await vn()).api_endpoints?.getByProject(t)||[]}async function oFe(t){return await(await vn()).variables?.getByProject(t)||[]}async function aFe(t){return await(await vn()).transformers?.getByProject(t)||[]}function lFe(t,e){return oT({queryKey:tf.dataTables(t||""),queryFn:()=>iFe(t),enabled:!!t&&e?.enabled!==!1,staleTime:300*1e3})}function uFe(t,e){return oT({queryKey:tf.apiEndpoints(t||""),queryFn:()=>sFe(t),enabled:!!t&&e?.enabled!==!1,staleTime:300*1e3})}function cFe(t,e){return oT({queryKey:tf.variables(t||""),queryFn:()=>oFe(t),enabled:!!t&&e?.enabled!==!1,staleTime:300*1e3})}function dFe(t,e){return oT({queryKey:tf.transformers(t||""),queryFn:()=>aFe(t),enabled:!!t&&e?.enabled!==!1,staleTime:300*1e3})}function hFe(t,e){const n=!!t&&e?.enabled!==!1,r=lFe(t,{enabled:n}),i=uFe(t,{enabled:n}),s=cFe(t,{enabled:n}),o=dFe(t,{enabled:n}),a=r.isLoading||i.isLoading||s.isLoading||o.isLoading,l=r.isError||i.isError||s.isError||o.isError,u=r.error||i.error||s.error||o.error;return{data:r.data&&i.data&&s.data&&o.data?{dataTables:r.data,apiEndpoints:i.data,variables:s.data,transformers:o.data}:void 0,isLoading:a,isError:l,error:u,refetch:()=>{r.refetch(),i.refetch(),s.refetch(),o.refetch()}}}class uo{static elementMap=new Map;static treeCache=new Map;static childrenCache=new Map;static config={maxCacheSize:1e3,enableIncrementalUpdate:!0,enableBatchProcessing:!0,batchSize:100};static updateConfig(e){this.config={...this.config,...e}}static buildElementTree(e){const n=this.generateCacheKey(e);if(this.treeCache.has(n))return this.treeCache.get(n);this.treeCache.size>=this.config.maxCacheSize&&this.clearOldestCache();const r=new Map,i=[];this.config.enableBatchProcessing?this.createNodesInBatches(e,r):this.createNodesSequentially(e,r),this.buildHierarchy(e,r,i),this.sortNodesByOrder(i);const s={roots:i,elementMap:r,flatList:e};return this.treeCache.set(n,s),s}static createNodesInBatches(e,n){const r=this.config.batchSize;for(let i=0;i<e.length;i+=r)e.slice(i,i+r).forEach(o=>{n.set(o.id,{element:o,children:[],depth:0})})}static createNodesSequentially(e,n){e.forEach(r=>{n.set(r.id,{element:r,children:[],depth:0})})}static buildHierarchy(e,n,r){const i=new Map;e.forEach(o=>{const a=o.parent_id??"root";i.has(a)||i.set(a,[]),i.get(a).push(o)}),(i.get("root")||[]).forEach(o=>{const a=n.get(o.id);r.push(a)}),i.forEach((o,a)=>{if(a==="root")return;const l=n.get(a);l&&o.forEach(u=>{const c=n.get(u.id);l.children.push(c),c.depth=l.depth+1})})}static getOrderedChildren(e,n){const r=`children:${e||"null"}:${this.generateCacheKey(n)}`;if(this.childrenCache.has(r))return this.childrenCache.get(r);const i=n.filter(s=>s.parent_id===e).sort((s,o)=>(s.order_num||0)-(o.order_num||0));return this.childrenCache.set(r,i),i}static calculateNextOrderNum(e,n){const r=n.filter(s=>s.parent_id===e);return r.length>0?Math.max(...r.map(s=>s.order_num||0))+1:1}static incrementalUpdate(e,n){if(!this.config.enableIncrementalUpdate){this.clearCache();return}const r=new Set;if(n){const i=e.find(s=>s.id===n);i&&r.add(i.parent_id??null)}this.clearRelatedCache(r)}static clearRelatedCache(e){const n=[];this.childrenCache.forEach((r,i)=>{const s=i.split(":")[1];e.has(s==="null"?null:s)&&n.push(i)}),n.forEach(r=>{this.childrenCache.delete(r)})}static clearOldestCache(){Array.from(this.treeCache.entries()).slice(0,Math.floor(this.config.maxCacheSize*.2)).forEach(([r])=>{this.treeCache.delete(r)})}static processLargeElementSet(e,n){const r=this.config.batchSize;for(let i=0;i<e.length;i+=r){const s=e.slice(i,i+r);n(s)}}static getPerformanceStats(){return{cacheSize:this.treeCache.size,childrenCacheSize:this.childrenCache.size,orderNumCacheSize:0,hitRate:0}}static calculateOrderNumsForInsertion(e,n,r){const i=this.getOrderedChildren(e,r),s={};return i.forEach((o,a)=>{a>=n&&(s[o.id]=(o.order_num||0)+1)}),s}static calculateMoveOrderNums(e,n,r,i){const s=i.find(c=>c.id===e);if(!s)return{};const o={},a=this.getOrderedChildren(s.parent_id??null,i),l=a.findIndex(c=>c.id===e);return l!==-1&&a.slice(l+1).forEach(c=>{o[c.id]=(c.order_num||0)-1}),this.getOrderedChildren(n??null,i).slice(r).forEach(c=>{o[c.id]=(c.order_num||0)+1}),o}static getSpecialComponentChildren(e,n){const r=n.find(s=>s.id===e);if(!r)return[];const i=this.getOrderedChildren(e,n);switch(r.tag){case"Tabs":{const s=n.filter(l=>l.parent_id===e&&l.tag==="Tab").sort((l,u)=>(l.order_num||0)-(u.order_num||0)),o=n.filter(l=>l.parent_id===e&&l.tag==="Panel").sort((l,u)=>(l.order_num||0)-(u.order_num||0)),a=[];for(let l=0;l<Math.max(s.length,o.length);l++)s[l]&&a.push(s[l]),o[l]&&a.push(o[l]);return a}case"Tree":return i.filter(s=>s.tag==="TreeItem");case"ToggleButtonGroup":return i.filter(s=>s.tag==="ToggleButton");case"CheckboxGroup":return i.filter(s=>s.tag==="Checkbox");case"RadioGroup":return i.filter(s=>s.tag==="Radio");case"Select":return i.filter(s=>s.tag==="SelectItem");case"ComboBox":return i.filter(s=>s.tag==="ComboBoxItem");case"ListBox":return i.filter(s=>s.tag==="ListBoxItem");case"GridList":return i.filter(s=>s.tag==="GridListItem");case"TagGroup":return i.filter(s=>s.tag==="Tag");default:return i}}static getHierarchyStats(e){const n=this.buildElementTree(e),r=[];let i=0;const s=[],o=(l,u)=>{l.depth=u,r.push(u),i=Math.max(i,u),l.children.forEach(c=>{o(c,u+1)})};n.roots.forEach(l=>{o(l,0)}),e.forEach(l=>{l.parent_id&&!n.elementMap.has(l.parent_id)&&s.push(l)});const a=r.length>0?r.reduce((l,u)=>l+u,0)/r.length:0;return{totalElements:e.length,maxDepth:i,averageDepth:Math.round(a*100)/100,orphanedElements:s}}static validateHierarchy(e){const n=[],r=[],i=new Set(e.map(c=>c.id)),s=new Map;e.forEach(c=>{c.parent_id&&(s.has(c.parent_id)||s.set(c.parent_id,[]),s.get(c.parent_id).push(c.id))});const o=new Set,a=new Set,l=c=>{if(a.has(c))return!0;if(o.has(c))return!1;o.add(c),a.add(c);const d=s.get(c)||[];for(const f of d)if(l(f))return!0;return a.delete(c),!1};e.forEach(c=>{l(c.id)&&n.push(`Circular reference detected involving element: ${c.id}`)}),e.forEach(c=>{c.parent_id&&!i.has(c.parent_id)&&n.push(`Orphaned element found: ${c.id} (parent: ${c.parent_id} not found)`)});const u=new Map;return e.forEach(c=>{const d=c.parent_id||"root";u.has(d)||u.set(d,new Set);const f=c.order_num||0;u.get(d).has(f)&&r.push(`Duplicate order_num found: ${f} for parent ${d}`),u.get(d).add(f)}),{isValid:n.length===0,errors:n,warnings:r}}static generateCacheKey(e){return e.length>100?`hash:${e.map(r=>`${r.id}:${r.parent_id}:${r.order_num}`).join("|").split("").reduce((r,i)=>(r=(r<<5)-r+i.charCodeAt(0),r&r),0)}:${e.length}`:e.map(n=>`${n.id}:${n.parent_id}:${n.order_num}`).sort().join("|")}static sortNodesByOrder(e){e.sort((n,r)=>(n.element.order_num||0)-(r.element.order_num||0)),e.forEach(n=>this.sortNodesByOrder(n.children))}static clearCache(){this.treeCache.clear(),this.elementMap.clear(),this.childrenCache.clear()}static clearSpecificCache(e){switch(e){case"tree":this.treeCache.clear(),this.elementMap.clear();break;case"children":this.childrenCache.clear();break;case"all":this.clearCache();break}}}function RE(t,e){const n=t.toLowerCase(),r=e.filter(a=>a.tag===t),i=[],s=new RegExp(`^${n}_(\\d+)$`);r.forEach(a=>{if(a.customId){const l=a.customId.match(s);l&&i.push(Number.parseInt(l[1],10))}});let o=1;if(i.length>0){i.sort((a,l)=>a-l);for(let a=0;a<i.length;a++)if(i[a]!==a+1){o=a+1;break}o===1&&i.length>0&&(o=Math.max(...i)+1)}return`${n}_${o}`}function fFe(t){const n=Pe.getState().elements,r={...t.parent,id:js.generateId(),customId:RE(t.parent.tag,n),created_at:new Date().toISOString(),updated_at:new Date().toISOString()},i=[...n,r],s=t.children.map((o,a)=>{const l={...o,id:js.generateId(),customId:RE(o.tag,i),parent_id:r.id,order_num:a+1,created_at:new Date().toISOString(),updated_at:new Date().toISOString()};return i.push(l),l});return{parent:r,children:s}}function Mue(t,e){const n=Pe.getState(),i=[...n.elements,t,...e];n.setElements(i);const{saveSnapshot:s}=n;s&&s(i,"  ");const o=[t,...e];return setTimeout(async()=>{try{await(await vn()).elements.insertMany(o.map(l=>tl(l))),console.log(` [IndexedDB]    : ${t.tag} +  ${e.length}`)}catch(a){console.warn(" [IndexedDB]    ( ):",a)}},0),i}function MQ(t,e){const n=Pe.getState(),r=n.elements.map(i=>i.id===t?{...i,id:e}:i);n.setElements(r)}async function pFe(t,e,n){try{if(n){const{data:r,error:i}=await bi.from("layouts").select("id").eq("id",n).maybeSingle();if(i)return console.warn(`[dbPersistence] Error checking layout ${n}:`,i),!1;if(!r)return console.log(`[dbPersistence]  Layout ${n} not in Supabase - skipping cloud save (local-only mode)`),!1}else if(t){const{data:r,error:i}=await bi.from("pages").select("id").eq("id",t).maybeSingle();if(i)return console.warn(`[dbPersistence] Error checking page ${t}:`,i),!1;if(!r)return console.log(`[dbPersistence]  Page ${t} not in Supabase - skipping cloud save (local-only mode)`),!1}else return console.warn("[dbPersistence] Neither pageId nor layoutId provided - skipping save"),!1;if(e){const{data:r,error:i}=await bi.from("elements").select("id").eq("id",e).maybeSingle();if(i&&console.warn(`[dbPersistence] Error checking parent element ${e}:`,i),!r)try{if(await(await vn()).elements.getById(e))console.log(`[dbPersistence] Parent element ${e} found in IndexedDB (not in Supabase yet) - allowing save`);else return console.warn(`[dbPersistence] Parent element ${e} not found in DB or IndexedDB - skipping save`),!1}catch(s){return console.warn(`[dbPersistence] Error checking IndexedDB for parent element ${e}:`,s),!1}}return!0}catch(r){return console.error("[dbPersistence] Reference validation failed:",r),!1}}async function kue(t,e,n,r,i){try{if(!await pFe(r,n,i)){console.log("[dbPersistence]  Skipping Supabase save (local-only mode) - element saved in IndexedDB only");return}const o=i?[]:await sh.getElementsByPageId(r),a={...t,parent_id:n,order_num:uo.calculateNextOrderNum(n,o)},l=await sh.createElement(a);MQ(t.id,l.id);for(let u=0;u<e.length;u++){const c={...e[u],parent_id:l.id},d=await sh.createElement(c);MQ(e[u].id,d.id)}console.log(`[dbPersistence] Successfully saved parent ${l.id} and ${e.length} children${i?` (Layout: ${i})`:""}`)}catch(s){console.error("Background save failed:",s)}}function gFe(t,e,n,r,i){setTimeout(async()=>{await kue(t,e,n,r,i)},0)}function mFe(t){const{parentElement:e,pageId:n,elements:r,layoutId:i}=t,s=e?.id||null,o=uo.calculateNextOrderNum(s,r);return{tag:"TextField",parent:{tag:"TextField",props:{label:"Text Field",description:"",errorMessage:"",placeholder:"Enter text...",value:"",type:"text",isRequired:!1,isDisabled:!1,isReadOnly:!1},...i?{page_id:null,layout_id:i}:{page_id:n,layout_id:null},parent_id:s,order_num:o},children:[]}}function AFe(t){const{parentElement:e,pageId:n,elements:r,layoutId:i}=t,s=e?.id||null,o=uo.calculateNextOrderNum(s,r),a=i?{page_id:null,layout_id:i}:{page_id:n,layout_id:null};return{tag:"Select",parent:{tag:"Select",props:{label:"Select",placeholder:"Choose an option...",selectedKey:void 0},...a,parent_id:s,order_num:o},children:[{tag:"SelectItem",props:{label:"Option 1",value:"option1",isDisabled:!1},...a,order_num:1}]}}function yFe(t){const{parentElement:e,pageId:n,elements:r,layoutId:i}=t,s=e?.id||null,o=uo.calculateNextOrderNum(s,r),a=i?{page_id:null,layout_id:i}:{page_id:n,layout_id:null};return{tag:"ComboBox",parent:{tag:"ComboBox",props:{label:"Combo Box",placeholder:"Type or select...",inputValue:"",allowsCustomValue:!0,selectedKey:void 0},...a,parent_id:s,order_num:o},children:[{tag:"ComboBoxItem",props:{label:"Option 1",value:"option1",isDisabled:!1},...a,order_num:1}]}}function vFe(t){const{parentElement:e,pageId:n,elements:r,layoutId:i}=t,s=e?.id||null,o=uo.calculateNextOrderNum(s,r),a=i?{page_id:null,layout_id:i}:{page_id:n,layout_id:null};return{tag:"ListBox",parent:{tag:"ListBox",props:{orientation:"vertical",selectionMode:"single"},...a,parent_id:s,order_num:o},children:[{tag:"ListBoxItem",props:{label:"Item 1",value:"item1",isDisabled:!1},...a,order_num:1}]}}function bFe(t){const{parentElement:e,pageId:n,elements:r,layoutId:i}=t,s=e?.id||null,o=uo.calculateNextOrderNum(s,r),a=i?{page_id:null,layout_id:i}:{page_id:n,layout_id:null};return{tag:"GridList",parent:{tag:"GridList",props:{selectionMode:"none"},...a,parent_id:s,order_num:o},children:[{tag:"GridListItem",props:{label:"Item 1",value:"item1",isDisabled:!1},...a,order_num:1}]}}function xFe(t){const{parentElement:e,pageId:n,elements:r,layoutId:i}=t,s=e?.id||null,o=uo.calculateNextOrderNum(s,r);return{tag:"Group",parent:{tag:"Group",props:{label:"Element Group",style:{display:"block",position:"relative"}},...i?{page_id:null,layout_id:i}:{page_id:n,layout_id:null},parent_id:s,order_num:o},children:[]}}function CFe(t){const{parentElement:e,pageId:n,elements:r,layoutId:i}=t,s=e?.id||null,o=uo.calculateNextOrderNum(s,r),a=i?{page_id:null,layout_id:i}:{page_id:n,layout_id:null};return{tag:"ToggleButtonGroup",parent:{tag:"ToggleButtonGroup",props:{tag:"ToggleButtonGroup",variant:"default",size:"sm",orientation:"horizontal",selectionMode:"single",value:[]},...a,parent_id:s,order_num:o},children:[{tag:"ToggleButton",props:{children:"Toggle 1",variant:"default",size:"sm",isSelected:!1,isDisabled:!1},...a,order_num:1},{tag:"ToggleButton",props:{children:"Toggle 2",variant:"default",size:"sm",isSelected:!1,isDisabled:!1},...a,order_num:2}]}}function EFe(t){const{parentElement:e,pageId:n,elements:r,layoutId:i}=t,s=e?.id||null,o=uo.calculateNextOrderNum(s,r),a=i?{page_id:null,layout_id:i}:{page_id:n,layout_id:null};return{tag:"CheckboxGroup",parent:{tag:"CheckboxGroup",props:{tag:"CheckboxGroup",label:"Checkbox Group",orientation:"vertical",value:[]},...a,parent_id:s,order_num:o},children:[{tag:"Checkbox",props:{children:"Option 1",isSelected:!1,isDisabled:!1},...a,order_num:1},{tag:"Checkbox",props:{children:"Option 2",isSelected:!1,isDisabled:!1},...a,order_num:2}]}}function SFe(t){const{parentElement:e,pageId:n,elements:r,layoutId:i}=t,s=e?.id||null,o=uo.calculateNextOrderNum(s,r),a=i?{page_id:null,layout_id:i}:{page_id:n,layout_id:null};return{tag:"RadioGroup",parent:{tag:"RadioGroup",props:{label:"Radio Group",orientation:"vertical",value:""},...a,parent_id:s,order_num:o},children:[{tag:"Radio",props:{children:"Option 1",value:"option1",isDisabled:!1},...a,order_num:1},{tag:"Radio",props:{children:"Option 2",value:"option2",isDisabled:!1},...a,order_num:2}]}}function wFe(t){const{parentElement:e,pageId:n,elements:r,layoutId:i}=t,s=e?.id||null,o=uo.calculateNextOrderNum(s,r),a=i?{page_id:null,layout_id:i}:{page_id:n,layout_id:null};return{tag:"TagGroup",parent:{tag:"TagGroup",props:{label:"Tag Group",allowsRemoving:!1,selectionMode:"multiple"},...a,parent_id:s,order_num:o},children:[{tag:"Tag",props:{children:"Tag 1",isDisabled:!1},...a,order_num:1},{tag:"Tag",props:{children:"Tag 2",isDisabled:!1},...a,order_num:2}]}}function _Fe(t){const{parentElement:e,pageId:n,elements:r,layoutId:i}=t,s=e?.id||null,o=uo.calculateNextOrderNum(s,r),a=i?{page_id:null,layout_id:i}:{page_id:n,layout_id:null};return{tag:"Breadcrumbs",parent:{tag:"Breadcrumbs",props:{"aria-label":"Breadcrumbs",isDisabled:!1},...a,parent_id:s,order_num:o},children:[{tag:"Breadcrumb",props:{children:"Home",href:"/"},...a,order_num:1},{tag:"Breadcrumb",props:{children:"Category",href:"/category"},...a,order_num:2},{tag:"Breadcrumb",props:{children:"Page",href:"/category/page"},...a,order_num:3}]}}function IFe(t){const{parentElement:e,pageId:n,elements:r,layoutId:i}=t,s=e?.id||null,o=uo.calculateNextOrderNum(s,r),a=js.generateId(),l=js.generateId(),u=i?{page_id:null,layout_id:i}:{page_id:n,layout_id:null};return{tag:"Tabs",parent:{tag:"Tabs",props:{defaultSelectedKey:a,orientation:"horizontal"},...u,parent_id:s,order_num:o},children:[{tag:"Tab",props:{title:"Tab 1",tabId:a},...u,order_num:1},{tag:"Panel",props:{title:"Panel 1",variant:"tab",tabId:a},...u,order_num:2},{tag:"Tab",props:{title:"Tab 2",tabId:l},...u,order_num:3},{tag:"Panel",props:{title:"Panel 2",variant:"tab",tabId:l},...u,order_num:4}]}}function BFe(t){const{parentElement:e,pageId:n,elements:r,layoutId:i}=t,s=e?.id||null,o=uo.calculateNextOrderNum(s,r),a=i?{page_id:null,layout_id:i}:{page_id:n,layout_id:null};return{tag:"Tree",parent:{tag:"Tree",props:{"aria-label":"Tree",selectionMode:"single",selectionBehavior:"replace"},...a,parent_id:s,order_num:o},children:[{tag:"TreeItem",props:{title:"Node 1",hasChildren:!0},...a,order_num:1},{tag:"TreeItem",props:{title:"Node 2",hasChildren:!1},...a,order_num:2}]}}function DFe(){return{children:"Button",variant:"default",size:"sm",isDisabled:!1}}function TFe(){return{children:"Link",href:"#",variant:"default",size:"md",isDisabled:!1,isExternal:!1,showExternalIcon:!0}}function MFe(){return{type:"text",isRequired:!1,isDisabled:!1,isReadOnly:!1}}function kFe(){return{children:"Checkbox",isSelected:!1,isDisabled:!1}}function PFe(){return{isSelected:!1,isDisabled:!1}}function RFe(){return{children:"Toggle Button",variant:"default",size:"sm",isSelected:!1,isDisabled:!1}}function NFe(){return{variant:"default",size:"sm",value:[],isDisabled:!1,selectionMode:"single",orientation:"horizontal"}}function LFe(){return{value:[],isDisabled:!1,orientation:"horizontal"}}function FFe(){return{value:"",isDisabled:!1,orientation:"horizontal"}}function $Fe(){return{isDisabled:!1}}function zFe(){return{isDisabled:!1,allowsCustomValue:!1}}function OFe(){return{label:"Slider",value:0,minValue:0,maxValue:100,step:1,isDisabled:!1,orientation:"horizontal"}}function jFe(){return{orientation:"horizontal"}}function QFe(){return{isDisabled:!1}}function UFe(){return{variant:"default"}}function HFe(){return{items:[],selectedKeys:[],isDisabled:!1}}function VFe(){return{isDisabled:!1}}function GFe(){return{isDisabled:!1,isReadOnly:!1}}function KFe(){return{isDisabled:!1,isReadOnly:!1}}function WFe(){return{isDisabled:!1,isReadOnly:!1}}function qFe(){return{children:"Switch",isSelected:!1,isDisabled:!1}}function Pue(){return{items:[],selectionMode:"none",selectedKeys:[],variant:"default",size:"sm",headerVariant:"default",cellVariant:"default",paginationMode:"infinite",itemsPerPage:10,height:400,itemHeight:38,overscan:10,stickyHeader:!1,stickyHeaderOffset:0,sortColumn:void 0,sortDirection:"ascending"}}function YFe(){return{variant:"default",sticky:!1}}function XFe(){return{children:"Column Group",label:"Group",span:2,align:"center",variant:"default",sticky:!1}}function JFe(){return{variant:"default",size:"md",orientation:"vertical",title:"Title",description:"Description"}}function ZFe(){return{children:"Badge",variant:"default",size:"sm",isDot:!1,isPulsing:!1}}function e$e(){return{items:[],selectedKeys:[],isDisabled:!1,allowsRemoving:!1}}function t$e(){return{isDisabled:!1}}function n$e(){return{items:[],selectedKeys:[],isDisabled:!1,selectionMode:"single"}}function r$e(){return{isDisabled:!1}}function i$e(){return{items:[],selectedKeys:[],isDisabled:!1,selectionMode:"single"}}function s$e(){return{isDisabled:!1}}function o$e(){return{children:"Text"}}function a$e(){return{}}function l$e(){return{}}function u$e(){return{}}async function c$e(t){const{parentElement:e,pageId:n,elements:r,layoutId:i}=t;let s=e?.id||null;s||(s=js.findBodyElement(r,n));const o=uo.calculateNextOrderNum(s,r),a=Pue(),l=i?{page_id:null,layout_id:i}:{page_id:n,layout_id:null},u={id:js.generateId(),customId:RE("Table",r),tag:"Table",props:a,...l,parent_id:s,order_num:o,created_at:new Date().toISOString(),updated_at:new Date().toISOString()},d=[{id:js.generateId(),customId:RE("TableHeader",[...r,u]),tag:"TableHeader",props:YFe(),parent_id:u.id,...l,order_num:1,created_at:new Date().toISOString(),updated_at:new Date().toISOString()}];return Mue(u,d),await kue(u,d,s,n),{parent:u,children:d,allElements:[u,...d]}}async function d$e(t){const{parentElement:e,pageId:n,elements:r,layoutId:i}=t,s=r.filter(c=>c.parent_id===e?.id&&c.tag==="ColumnGroup"),o=s.length>0?Math.max(...s.map(c=>c.order_num||0)):-1,a=i?{page_id:null,layout_id:i}:{page_id:n,layout_id:null},l={id:js.generateId(),customId:RE("ColumnGroup",r),tag:"ColumnGroup",props:XFe(),parent_id:e?.id||null,...a,order_num:o+1,created_at:new Date().toISOString(),updated_at:new Date().toISOString()},u=[];return{parent:l,children:u,allElements:[l,...u]}}function h$e(t){const{parentElement:e,pageId:n,elements:r,layoutId:i}=t,s=e?.id||null,o=uo.calculateNextOrderNum(s,r),a=i?{page_id:null,layout_id:i}:{page_id:n,layout_id:null};return{tag:"DataTable",parent:{tag:"DataTable",props:{id:`datatable-${Date.now()}`,name:"New DataTable",autoLoad:!0,dataBinding:{type:"collection",source:"api",config:{baseUrl:"MOCK_DATA",endpoint:"/users",dataMapping:{resultPath:"data",idField:"id",labelField:"name"}}}},...a,parent_id:s,order_num:o},children:[]}}function f$e(t){const{parentElement:e,pageId:n,elements:r,layoutId:i}=t,s=e?.id||null,o=uo.calculateNextOrderNum(s,r);return i||console.warn(" Slot can only be created in Layout mode"),{tag:"Slot",parent:{tag:"Slot",props:{name:"content",required:!1,description:"Main content area"},...i?{page_id:null,layout_id:i}:{page_id:n,layout_id:null},parent_id:s,order_num:o},children:[]}}class Il{static creators={TextField:Il.createTextField,Group:Il.createGroup,ToggleButtonGroup:Il.createToggleButtonGroup,CheckboxGroup:Il.createCheckboxGroup,RadioGroup:Il.createRadioGroup,Select:Il.createSelect,ComboBox:Il.createComboBox,Tabs:Il.createTabs,Tree:Il.createTree,TagGroup:Il.createTagGroup,Breadcrumbs:Il.createBreadcrumbs,ListBox:Il.createListBox,GridList:Il.createGridList,Table:Il.createTable,DataTable:Il.createDataTable,Slot:Il.createSlot};static async createComplexComponent(e,n,r,i,s){const o=this.creators[e];if(!o)throw new Error(`No creator found for component type: ${e}`);const a={parentElement:n,pageId:r,elements:i,layoutId:s};return await o.call(this,a)}static async createComponent(e,n){const{parentElement:r,pageId:i,elements:s,layoutId:o}=n;let a=r?.id||null;if(!a){a=js.findBodyByContext(s,i||null,o||null);const d=s.find(f=>f.id===a);d&&(n={...n,parentElement:d})}const l=e(n),{parent:u,children:c}=fFe(l);return Mue(u,c),gFe(u,c,a,i,o),{parent:u,children:c,allElements:[u,...c]}}static async createTextField(e){return this.createComponent(mFe,e)}static async createGroup(e){return this.createComponent(xFe,e)}static async createToggleButtonGroup(e){return this.createComponent(CFe,e)}static async createCheckboxGroup(e){return this.createComponent(EFe,e)}static async createRadioGroup(e){return this.createComponent(SFe,e)}static async createSelect(e){return this.createComponent(AFe,e)}static async createComboBox(e){return this.createComponent(yFe,e)}static async createTabs(e){return this.createComponent(IFe,e)}static async createTree(e){return this.createComponent(BFe,e)}static async createTagGroup(e){return this.createComponent(wFe,e)}static async createBreadcrumbs(e){return this.createComponent(_Fe,e)}static async createListBox(e){return this.createComponent(vFe,e)}static async createGridList(e){return this.createComponent(bFe,e)}static async createDataTable(e){return this.createComponent(h$e,e)}static async createSlot(e){return this.createComponent(f$e,e)}static async createTable(e){return await c$e(e)}static async createColumnGroup(e,n,r=[]){return await d$e({parentElement:e,pageId:n,elements:r})}}const Rue=()=>{const[t,e]=x.useState(null),[n,r]=x.useState(!1),[i,s]=x.useState([]),[o,a]=x.useState([]),l=x.useRef(new Map),u=x.useCallback((A,C,E)=>{const I=js.generateId(),D=new Date;let T="   ",M;A instanceof Error?(T=A.message,M=A.stack):typeof A=="string"?T=A:A&&typeof A=="object"&&"message"in A&&(T=String(A.message));const P=C?`${C}   : ${T}`:T,k={id:I,timestamp:D,type:E?.type||"validation",severity:E?.severity||"medium",message:T,context:C,elementId:E?.elementId,operation:E?.operation,stack:M,recoverable:E?.recoverable??!0};s(L=>[...L,k].slice(-100)),console.error(`[${k.severity.toUpperCase()}] ${P}`,{errorInfo:k,error:A}),e(P),E?.severity==="critical"&&console.error("Critical error detected:",k)},[]),c=x.useCallback(()=>{e(null)},[]),d=x.useCallback(()=>{s([]),l.current.clear()},[]),f=x.useCallback(A=>{a(C=>[...C,A].slice(-50))},[]),p=x.useCallback(async(A=1)=>{try{const C=o;if(C.length===0)return u("  .","Rollback",{type:"validation",severity:"low"}),!1;const E=C.slice(-A);for(const I of E.reverse())try{switch(I.operation){case"create":I.elementId&&console.log(`Rolling back element creation: ${I.elementId}`);break;case"update":I.previousState&&console.log(`Rolling back element update: ${I.elementId}`,I.previousState);break;case"delete":I.previousState&&console.log(`Rolling back element deletion: ${I.elementId}`,I.previousState);break;case"move":I.previousState&&console.log(`Rolling back element move: ${I.elementId}`,I.previousState);break}}catch(D){u(D,` : ${I.operation}`,{type:"validation",severity:"high",elementId:I.elementId,operation:I.operation})}return a(I=>I.slice(0,-A)),!0}catch(C){return u(C,"   ",{type:"validation",severity:"high"}),!1}},[o,u]),m=x.useCallback(async(A,C=3)=>{const E=js.generateId();let I=l.current.get(E)||0;for(;I<C;)try{await A(),l.current.delete(E);return}catch(D){if(I++,l.current.set(E,I),I>=C)throw u(D,`   (${C} )`,{type:"network",severity:"high",recoverable:!1}),D;{const T=Math.pow(2,I)*1e3;await js.delay(T),u(D,`   (${I}/${C})`,{type:"network",severity:"low",recoverable:!0})}}},[u]),v=x.useCallback(A=>{const C=[];if(!Array.isArray(A))return C.push("   ."),{isValid:!1,errors:C};const E=new Set;A.forEach((M,P)=>{M.id?E.has(M.id)?C.push(` ${P}:  ID (${M.id})`):E.add(M.id):C.push(` ${P}: ID .`),M.tag||C.push(` ${M.id}:  .`),!M.page_id&&!M.layout_id&&C.push(` ${M.id}:  ID   ID .`)});const I=new Set,D=new Set,T=M=>{if(D.has(M))return!0;if(I.has(M))return!1;I.add(M),D.add(M);const P=A.find(k=>k.id===M);return P?.parent_id&&T(P.parent_id)?!0:(D.delete(M),!1)};return A.forEach(M=>{T(M.id)&&C.push(` ${M.id}:   .`)}),{isValid:C.length===0,errors:C}},[]),y=x.useCallback(()=>{const A={},C={};i.forEach(I=>{A[I.type]=(A[I.type]||0)+1,C[I.severity]=(C[I.severity]||0)+1});const E=i.slice(-10);return{totalErrors:i.length,errorsByType:A,errorsBySeverity:C,recentErrors:E}},[i]);return{error:t,isLoading:n,errorHistory:i,rollbackStack:o,setError:e,setIsLoading:r,handleError:u,clearError:c,clearErrorHistory:d,addRollbackPoint:f,rollback:p,retryOperation:m,validateElements:v,getErrorStats:y}},p$e=()=>{const t=x.useRef(!1),e=x.useRef([]),n=x.useRef(null),r=x.useRef(!1),{handleError:i,addRollbackPoint:s,rollback:o,retryOperation:a,validateElements:l,getErrorStats:u}=Rue();x.useEffect(()=>{r.current||(uo.updateConfig({maxCacheSize:500,enableIncrementalUpdate:!0,enableBatchProcessing:!0,batchSize:50}),r.current=!0)},[]);const c=x.useCallback(y=>{switch(console.log(" getDefaultProps called for tag:",y),y){case"Button":{const A=DFe();return console.log(" Button props created:",A),A}case"Link":return TFe();case"TextField":return MFe();case"Checkbox":return kFe();case"Radio":return PFe();case"ToggleButton":return RFe();case"ToggleButtonGroup":return NFe();case"CheckboxGroup":return LFe();case"RadioGroup":return FFe();case"Select":return $Fe();case"ComboBox":return zFe();case"Slider":return OFe();case"Switch":return qFe();case"Tabs":return jFe();case"Tab":return QFe();case"Panel":return UFe();case"Tree":return HFe();case"TreeItem":return VFe();case"Calendar":return GFe();case"DatePicker":return KFe();case"DateRangePicker":return WFe();case"Table":return Pue();case"Card":return JFe();case"Badge":return ZFe();case"TagGroup":return e$e();case"Tag":return t$e();case"ListBox":return n$e();case"ListBoxItem":return r$e();case"GridList":return i$e();case"GridListItem":return s$e();case"Text":return o$e();case"Div":return a$e();case"Section":return l$e();case"Nav":return u$e();default:return{children:y==="Text"?"Text":""}}},[]),d=x.useCallback(async(y,A,C,E,I,D,T)=>{if(t.current)return;t.current=!0;const M=l(E);if(!M.isValid){i(M.errors.join(", "),"   ",{type:"validation",severity:"high"}),t.current=!1;return}try{if(A||T){e.current=E;const P=C?E.find($=>$.id===C):null;s({operation:"create",elementId:"pending",previousElements:[...E],timestamp:new Date});const k=["TextField","ToggleButtonGroup","CheckboxGroup","RadioGroup","Select","ComboBox","Tabs","Tree","TagGroup","ListBox","GridList","Table"],L=async()=>{if(k.includes(y)){console.log(`    : ${y}`,T?`(Layout: ${T})`:"");const $=await Il.createComplexComponent(y,P??null,A,E,T);console.log(`    : ${y},  ${$.allElements.length}  `);const z=[...E,...$.allElements];uo.incrementalUpdate(z,$.parent.id),D(z)}else{console.log(`   : ${y}`,T?`(Layout: ${T})`:"");let $=C||null;$||($=js.findBodyByContext(E,A||null,T||null));const z=uo.calculateNextOrderNum($,E),j={id:crypto.randomUUID(),tag:y,customId:RE(y,E),props:c(y),page_id:T?null:A,layout_id:T||null,parent_id:$,order_num:z,created_at:new Date().toISOString(),updated_at:new Date().toISOString()};I(j);const H=[...E,j];uo.incrementalUpdate(H,j.id),D(H)}};n.current=L,await a(L,3)}}catch(P){i(P,`  : ${y}`,{type:"creation",severity:"high",elementId:C||void 0,operation:"create",recoverable:!0})}finally{t.current=!1}},[c,i,s,a,l]),f=x.useCallback(()=>uo.getPerformanceStats(),[]),p=x.useCallback(()=>{uo.clearCache()},[]),m=x.useCallback(y=>{uo.updateConfig(y)},[]),v=x.useCallback(async()=>{n.current&&await a(n.current,3)},[a]);return{getDefaultProps:c,handleAddElement:d,getPerformanceStats:f,clearCache:p,updateCacheConfig:m,getErrorStats:u,rollback:o,retryLastOperation:v}};function g$e(t=!0){const e=Pe(m=>m.currentPageId),n=Pe(m=>m.loadedPages),r=Pe(m=>m.loadingPages),i=Pe(m=>m.lazyLoadingEnabled),s=Pe(m=>m.lazyLoadPageElements),o=Pe(m=>m.preloadPage),a=Pe(m=>m.getLRUStats),l=x.useRef(!1),u=e?r.has(e):!1,c=e?n.has(e):!1,d=x.useCallback(async m=>{if(!l.current){l.current=!0;try{await s(m)}finally{l.current=!1}}},[s]),f=x.useCallback(m=>{o(m)},[o]);x.useEffect(()=>{t&&e&&i&&(c||u||d(e))},[e,t,i,c,u,d]);const p={loadedPages:a().size,maxPages:a().maxPages,hitRate:a().hitRate};return{isLoading:u,isLoaded:c,loadPage:d,preloadPage:f,stats:p}}function m$e(){const t=Pe(i=>i.currentPageId),e=Pe(i=>i.pages),n=Pe(i=>i.preloadPage),r=Pe(i=>i.lazyLoadingEnabled);x.useEffect(()=>{if(!r||!t||e.length===0)return;const i=e.findIndex(o=>o.id===t);if(i===-1)return;[i-1,i+1].forEach(o=>{if(o>=0&&o<e.length){const a=e[o].id;n(a)}})},[t,e,n,r])}const q$=({requestAutoSelectAfterUpdate:t}={})=>{const e=oS({initialItems:[],getKey:m=>m.id}),[n,r]=x.useState(null),i=x.useRef(null),s=Pe(m=>m.setCurrentPageId),o=Pe(m=>m.setPages),a=Pe(m=>m.lazyLoadPageElements),l=Pe(m=>m.isPageLoaded),u=x.useCallback(async m=>{if(!m)return{success:!1,error:new Error("pageId is required")};try{const v=await vn(),y=await v.elements.getByPage(m),{pages:A}=Pe.getState(),C=A.find(M=>M.id===m),E=[...y];if(C?.layout_id){const M=await v.elements.getByLayout(C.layout_id);console.log(` [fetchElements] Layout ${C.layout_id.slice(0,8)}  ${M.length}  `);const P=new Set(E.map(k=>k.id));M.forEach(k=>{P.has(k.id)||E.push(k)})}const{setElements:I,setSelectedElement:D}=Pe.getState(),T=y.find(M=>M.order_num===0);return T&&t&&t(T.id),I(E),s(m),r(m),T&&D(T.id),{success:!0,data:E}}catch(v){return console.error("  :",v),{success:!1,error:v}}},[t]),c=async m=>{try{const v=Pe.getState().pages,A=v.reduce((M,P)=>Math.max(M,P.order_num||0),-1)+1,C=await vn(),E={id:js.generateId(),project_id:m,title:`Page ${A+1}`,slug:`/page-${A+1}`,parent_id:null,order_num:A,layout_id:null,created_at:new Date().toISOString(),updated_at:new Date().toISOString()},I=await C.pages.insert(E),D={id:I.id,project_id:I.project_id,title:I.title,slug:I.slug,parent_id:I.parent_id??null,order_num:I.order_num??0,created_at:I.created_at??new Date().toISOString(),updated_at:I.updated_at??new Date().toISOString()};e.append(D),r(I.id),s(I.id),o([...v,I]);const T={id:js.generateId(),tag:"body",props:{},parent_id:null,page_id:I.id,order_num:0,created_at:new Date().toISOString(),updated_at:new Date().toISOString()};return await C.elements.insert(T),console.log(" [IndexedDB] body  :",T.id),await u(I.id),console.log("   :",I.title),{success:!0,data:I}}catch(v){return console.error("  :",v),{success:!1,error:v}}},d=async m=>{const{projectId:v,title:y,slug:A,layoutId:C=null,parentId:E=null}=m;try{const I=Pe.getState().pages,T=I.reduce((z,j)=>Math.max(z,j.order_num||0),-1)+1,M=await vn(),P={id:js.generateId(),project_id:v,title:y,slug:A,parent_id:E,order_num:T,layout_id:C,created_at:new Date().toISOString(),updated_at:new Date().toISOString()},k=await M.pages.insert(P),L={id:k.id,project_id:k.project_id,title:k.title,slug:k.slug,parent_id:k.parent_id??null,order_num:k.order_num??0,created_at:k.created_at??new Date().toISOString(),updated_at:k.updated_at??new Date().toISOString()};e.append(L),r(k.id),s(k.id),o([...I,k]);const $={id:js.generateId(),tag:"body",props:{},parent_id:null,page_id:k.id,order_num:0,created_at:new Date().toISOString(),updated_at:new Date().toISOString()};return await M.elements.insert($),console.log(" [IndexedDB] body  :",$.id),await u(k.id),console.log("    (with params):",k.title,"slug:",k.slug),{success:!0,data:L}}catch(I){return console.error("   (with params):",I),{success:!1,error:I}}},f=x.useCallback(async m=>{if(i.current===m)return{success:!1,error:new Error("   ")};try{i.current=m;const A=(await(await vn()).pages.getAll()).filter(D=>D.project_id===m),C=e.items.map(D=>D.id);C.length>0&&e.remove(...C);const E=A.map(D=>({id:D.id,project_id:D.project_id,title:D.title||"Untitled",slug:D.slug,parent_id:D.parent_id??null,order_num:D.order_num??0,created_at:D.created_at||new Date().toISOString(),updated_at:D.updated_at||new Date().toISOString()}));E.forEach(D=>e.append(D));const I=E.map(D=>{const T=A.find(M=>M.id===D.id);return{id:D.id,title:D.title,slug:D.slug,project_id:D.project_id,parent_id:D.parent_id??null,order_num:D.order_num,layout_id:T?.layout_id||null}});if(o(I),E.length>0){const T=E.find(P=>P.order_num===0)||E[0];s(T.id);const M=await u(T.id);if(!M.success)return i.current=null,{success:!1,error:M.error}}return i.current=null,{success:!0,data:E}}catch(v){return console.error("  :",v),i.current=null,{success:!1,error:v}}},[u]),p=x.useCallback(async m=>{if(m){if(l(m)){console.log(` [loadPageIfNeeded] Page already loaded: ${m.slice(0,8)}`);return}console.log(` [loadPageIfNeeded] Loading page: ${m.slice(0,8)}`),await a(m)}},[l,a]);return{pages:e.items,selectedPageId:n,setSelectedPageId:r,fetchElements:u,addPage:c,addPageWithParams:d,initializeProject:f,loadPageIfNeeded:p,pageList:e}};function A$e(t){return x.useMemo(()=>t?N6e(t):null,[t])}function Y$(){const t=Pe(u=>u.panelLayout),e=Pe(u=>u.setPanelLayout),n=x.useCallback((u,c,d)=>{if(c===d)return;const f=c==="left"?"leftPanels":"rightPanels",p=d==="left"?"leftPanels":"rightPanels",m=c==="left"?"activeLeftPanels":"activeRightPanels",v=t[f],y=t[p];if(!v.includes(u)){console.warn(`[usePanelLayout] Panel "${u}" not found in ${c} side`);return}const A={...t,[f]:v.filter(C=>C!==u),[p]:[...y,u],[m]:t[m].filter(C=>C!==u)};e(A)},[t,e]),r=x.useCallback((u,c)=>{const d=u==="left"?"leftPanels":"rightPanels",f=u==="left"?"activeLeftPanels":"activeRightPanels",p=u==="left"?"showLeft":"showRight";if(!t[d].includes(c)){console.warn(`[usePanelLayout] Panel "${c}" not available on ${u} side`);return}const m=t[f],v=m.includes(c),y=v?m.filter(C=>C!==c):[...m,c],A=v?t[p]:!0;e({...t,[f]:y,[p]:A})},[t,e]),i=x.useCallback(()=>{const u=Pe.getState().resetPanelLayout;u&&u()},[]),s=x.useCallback(u=>{e(u)},[e]),o=x.useCallback(u=>{if(!t.bottomPanels.includes(u)){console.warn(`[usePanelLayout] Panel "${u}" not available on bottom`);return}const c=t.activeBottomPanels.includes(u);e({...t,activeBottomPanels:c?[]:[u],showBottom:!c})},[t,e]),a=x.useCallback(u=>{const c=Math.max(150,Math.min(600,u));e({...t,bottomHeight:c})},[t,e]),l=x.useCallback(()=>{e({...t,activeBottomPanels:[],showBottom:!1})},[t,e]);return{layout:t,isLoading:!1,isLoaded:!0,movePanel:n,togglePanel:r,resetLayout:i,setLayout:s,toggleBottomPanel:o,setBottomHeight:a,closeBottomPanel:l}}const kQ="xstudio_category_expansion";function y$e(t={}){const{initialExpanded:e=[],persist:n=!0}=t,r=x.useCallback(()=>{if(!n)return new Set(e);try{const d=localStorage.getItem(kQ);if(d){const f=JSON.parse(d);return new Set(Array.isArray(f)?f:e)}}catch(d){console.warn("Failed to load category expansion state:",d)}return new Set(e)},[e,n]),[i,s]=x.useState(r);x.useEffect(()=>{if(n)try{const d=Array.from(i);localStorage.setItem(kQ,JSON.stringify(d))}catch(d){console.warn("Failed to save category expansion state:",d)}},[i,n]);const o=x.useCallback(d=>i.has(d),[i]),a=x.useCallback(d=>{s(f=>{const p=new Set(f);return p.has(d)?p.delete(d):p.add(d),p})},[]),l=x.useCallback(d=>{s(f=>{const p=new Set(f);return d.forEach(m=>p.add(m)),p})},[]),u=x.useCallback(d=>{s(new Set(d))},[]),c=x.useCallback(()=>{s(new Set)},[]);return{expandedCategories:i,isExpanded:o,toggleCategory:a,expandCategories:l,expandAll:u,collapseAll:c}}function UT({onPaste:t,validate:e,name:n="data",transform:r}){const i=x.useCallback(async l=>{try{const u=JSON.stringify(l,null,2);return await navigator.clipboard.writeText(u),!0}catch{return!1}},[n]),s=x.useCallback(async l=>{try{return await navigator.clipboard.writeText(l),!0}catch{return!1}},[n]),o=x.useCallback(async()=>{try{const l=await navigator.clipboard.readText(),u=JSON.parse(l);if(typeof u!="object"||u===null)throw new Error(`Invalid ${n} format: expected object, got ${typeof u}`);if(e&&!e(u))throw new Error(`Invalid ${n} format: failed validation`);const c=r?r(u):u;return t(c),!0}catch{return!1}},[n,t,e,r]),a=x.useCallback(async()=>{try{return await navigator.clipboard.readText()}catch{return null}},[n]);return{copy:i,copyText:s,paste:o,pasteText:a}}const X$="xstudio_favorite_components";function v$e(){try{const t=localStorage.getItem(X$);if(t){const e=JSON.parse(t);if(Array.isArray(e))return e.map(n=>({id:n,tag:n}))}}catch(t){console.error("Failed to load favorite components:",t)}return[]}function b$e(t){try{const e=t.map(n=>n.tag);localStorage.setItem(X$,JSON.stringify(e))}catch(e){console.error("Failed to save favorite components:",e)}}function x$e(){const t=oS({initialItems:v$e(),getKey:s=>s.id});x.useEffect(()=>{b$e(t.items)},[t.items]);const e=s=>{t.items.some(a=>a.tag===s)?t.remove(s):t.append({id:s,tag:s})},n=s=>t.items.some(o=>o.tag===s),r=()=>{const s=t.items.map(o=>o.id);t.remove(...s),localStorage.removeItem(X$)};return{favoriteTags:t.items.map(s=>s.tag),toggleFavorite:e,isFavorite:n,clearFavorites:r}}const J$="xstudio_recent_components",PQ=8;function C$e(){try{const t=localStorage.getItem(J$);if(t){const e=JSON.parse(t);if(Array.isArray(e))return e.map(n=>typeof n=="string"?{id:n,tag:n,count:1}:n.tag&&typeof n.tag=="string"?{id:n.id||n.tag,tag:n.tag,count:n.count||1}:{id:n.id,tag:n.tag,count:n.count||1})}}catch(t){console.error("Failed to load recent components:",t)}return[]}function E$e(t){try{localStorage.setItem(J$,JSON.stringify(t))}catch(e){console.error("Failed to save recent components:",e)}}function S$e(){const t=oS({initialItems:C$e(),getKey:s=>s.id});x.useEffect(()=>{E$e(t.items)},[t.items]);const e=s=>{const o=t.items.find(a=>a.tag===s);if(o?(t.remove(s),t.prepend({id:s,tag:s,count:o.count+1})):t.prepend({id:s,tag:s,count:1}),t.items.length>PQ){const l=t.items.slice(PQ).map(u=>u.id);t.remove(...l)}},n=()=>{const s=t.items.map(o=>o.id);t.remove(...s),localStorage.removeItem(J$)},r=s=>t.items.find(a=>a.tag===s)?.count||0;return{recentTags:t.items.map(s=>s.tag),addRecentComponent:e,clearRecentComponents:n,getComponentCount:r}}const Z$="xstudio_recent_searches",RQ=10;function w$e(){try{const t=localStorage.getItem(Z$);if(t){const e=JSON.parse(t);if(Array.isArray(e))return e}}catch(t){console.error("Failed to load recent searches:",t)}return[]}function _$e(t){try{localStorage.setItem(Z$,JSON.stringify(t))}catch(e){console.error("Failed to save recent searches:",e)}}function I$e(){const t=oS({initialItems:w$e(),getKey:i=>i.id});x.useEffect(()=>{_$e(t.items)},[t.items]);const e=i=>{if(!i.trim())return;const s=i.trim().toLowerCase(),o=t.items.find(l=>l.query.toLowerCase()===s);o&&t.remove(o.id);const a={id:`${Date.now()}-${s}`,query:i.trim(),timestamp:Date.now()};if(t.prepend(a),t.items.length>RQ){const l=t.items.slice(RQ);t.remove(...l.map(u=>u.id))}},n=()=>{const i=t.items.map(s=>s.id);t.remove(...i),localStorage.removeItem(Z$)},r=i=>{t.remove(i)};return{recentSearches:t.items,addSearch:e,clearSearches:n,removeSearch:r}}function B$e(t={}){const{initialExpandedKeys:e,selectedElementId:n,elements:r=[]}=t,i=Pe(f=>f.elementsMap),[s,o]=x.useState(e||new Set),a=x.useCallback(f=>{o(p=>{const m=new Set(p);return m.has(f)?m.delete(f):m.add(f),m})},[]),l=x.useCallback(f=>{o(p=>{if(p.has(f))return p;const m=new Set(p);return m.add(f),m})},[]),u=x.useCallback(f=>{o(p=>{if(!p.has(f))return p;const m=new Set(p);return m.delete(f),m})},[]),c=x.useCallback(()=>{o(new Set)},[]),d=x.useCallback(f=>{const p=new Set;let m=i.get(f);for(;m?.parent_id;)p.add(m.parent_id),m=i.get(m.parent_id);p.size>0&&o(v=>{const y=new Set(v);return p.forEach(A=>y.add(A)),y})},[i]);return x.useEffect(()=>{if(!n||r.length===0)return;const f=new Set;let p=i.get(n);for(;p?.parent_id;)f.add(p.parent_id),p=i.get(p.parent_id);f.size>0&&o(m=>{const v=new Set(m);let y=!1;return f.forEach(A=>{v.has(A)||(v.add(A),y=!0)}),y?v:m})},[n,r.length,i]),{expandedKeys:s,toggleKey:a,expandKey:l,collapseKey:u,collapseAll:c,expandParents:d}}const D$e=new Set(["INPUT","TEXTAREA"]),I1={properties:"panel:properties",styles:"panel:styles",events:"panel:events",nodes:"panel:nodes"};function NQ(t){if(!t)return!1;const e=t;return D$e.has(e.tagName)?!e.readOnly:!!(e.isContentEditable||e.closest('[data-text-editing="true"]'))}function T$e(){if(document.querySelector('[role="dialog"][aria-modal="true"]'))return!0;const e=document.querySelector('[data-overlay-container="true"]');return!!(e&&e.childElementCount>0)}function M$e(t){return t?!!(t.getAttribute("data-scope")==="canvas"||t.closest('[data-canvas-container="true"]')||t.closest(".builder-canvas, .canvas-container")):!1}function k$e(t){if(!t)return null;const e=t.closest("[data-panel-id]");return e?e.getAttribute("data-panel-id"):null}function P$e(){return R$e().scope}function R$e(){const t=Pe(i=>i.panelLayout),[e,n]=x.useState({scope:"global",isTextEditing:!1,isModalOpen:!1,isCanvasFocused:!1,activePanel:null}),r=x.useCallback(()=>{const i=document.activeElement;if(T$e())return{scope:"modal",isTextEditing:NQ(i),isModalOpen:!0,isCanvasFocused:!1,activePanel:null};if(NQ(i))return{scope:"text-editing",isTextEditing:!0,isModalOpen:!1,isCanvasFocused:!1,activePanel:null};if(M$e(i))return{scope:"canvas-focused",isTextEditing:!1,isModalOpen:!1,isCanvasFocused:!0,activePanel:null};const l=k$e(i);if(l&&I1[l])return{scope:I1[l],isTextEditing:!1,isModalOpen:!1,isCanvasFocused:!1,activePanel:l};const u=t?.activeRightPanels||[],c=t?.activeLeftPanels||[];for(const d of u)if(I1[d])return{scope:I1[d],isTextEditing:!1,isModalOpen:!1,isCanvasFocused:!1,activePanel:d};for(const d of c)if(I1[d])return{scope:I1[d],isTextEditing:!1,isModalOpen:!1,isCanvasFocused:!1,activePanel:d};return{scope:"global",isTextEditing:!1,isModalOpen:!1,isCanvasFocused:!1,activePanel:null}},[t?.activeRightPanels,t?.activeLeftPanels]);return x.useEffect(()=>{const i=()=>{const o=r();n(a=>a.scope===o.scope&&a.isTextEditing===o.isTextEditing&&a.isModalOpen===o.isModalOpen&&a.isCanvasFocused===o.isCanvasFocused&&a.activePanel===o.activePanel?a:o)};i(),document.addEventListener("focusin",i),document.addEventListener("focusout",i);const s=new MutationObserver(i);return s.observe(document.body,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["aria-modal","data-overlay-container"]}),()=>{document.removeEventListener("focusin",i),document.removeEventListener("focusout",i),s.disconnect()}},[r]),e}const N$e={vramUsed:0,textureCount:0,spriteCount:0,lastFrameTime:0,averageFps:60},LQ={renderVersion:0,lastPixiRenderVersion:0,isCanvasReady:!1,isContextLost:!1,zoom:1,panOffset:{x:0,y:0},containerSize:{width:0,height:0},canvasSize:{width:1920,height:1080},gpuMetrics:N$e},ns=aa()(XF((t,e)=>({...LQ,incrementRenderVersion:()=>{t(n=>({renderVersion:n.renderVersion+1}))},syncPixiVersion:n=>{t({lastPixiRenderVersion:n});const{renderVersion:r}=e();r-n>2&&console.warn(`[CanvasSync] Mismatch detected: store=${r}, pixi=${n}`)},setCanvasReady:n=>{t({isCanvasReady:n}),n&&console.log(" [CanvasSync] Canvas ready")},setContextLost:n=>{t({isContextLost:n}),n?console.warn(" [CanvasSync] WebGL context lost"):console.log(" [CanvasSync] WebGL context restored")},setZoom:n=>{t({zoom:Math.max(.1,Math.min(5,n))})},setPanOffset:n=>{t({panOffset:n})},setContainerSize:n=>{t({containerSize:n})},setCanvasSize:n=>{t({canvasSize:n})},updateGPUMetrics:n=>{t(r=>({gpuMetrics:{...r.gpuMetrics,...n}}))},reset:()=>{t(LQ)}})));function ED(t,e){const n=t.map(l=>e.get(l)).filter(l=>l!==void 0);if(n.length===0)return{elements:[],rootIds:[],externalParents:new Map,timestamp:Date.now()};const r=new Set(t),i=[],s=new Map;n.forEach(l=>{l.parent_id?r.has(l.parent_id)||(s.set(l.id,l.parent_id),i.push(l.id)):i.push(l.id)});const o=new Set(n),a=[...n];for(;a.length>0;){const l=a.shift();for(const u of e.values())u.parent_id===l.id&&!o.has(u)&&(o.add(u),a.push(u))}return{elements:Array.from(o),rootIds:i,externalParents:s,timestamp:Date.now()}}function SD(t,e,n={x:10,y:10}){if(t.elements.length===0)return[];const r=new Map;return t.elements.forEach(s=>{r.set(s.id,js.generateId())}),t.elements.map(s=>{const o=r.get(s.id);let a=null;s.parent_id&&(r.has(s.parent_id)?a=r.get(s.parent_id):a=s.parent_id);let l={...s.props};if(t.rootIds.includes(s.id)){const u=s.props.style||{},c=p=>{if(typeof p=="string"){const m=p.match(/^(-?\d+(?:\.\d+)?)px$/);if(m)return parseFloat(m[1])}return typeof p=="number"?p:0},d=c(u.left),f=c(u.top);l={...l,style:{...u,left:`${d+n.x}px`,top:`${f+n.y}px`}}}return{...s,id:o,parent_id:a,page_id:e,props:l,created_at:new Date().toISOString(),updated_at:new Date().toISOString()}})}function ez(t){const e={__xstudio_elements__:!0,version:1,elements:t.elements,rootIds:t.rootIds,externalParents:Array.from(t.externalParents.entries()),timestamp:t.timestamp};return JSON.stringify(e)}function tz(t){if(!t||typeof t!="string"||!t.trim().startsWith("{"))return null;try{const e=JSON.parse(t);return e.__xstudio_elements__?!e.elements||!Array.isArray(e.elements)?(console.warn("[Paste] Invalid clipboard data structure - missing elements array"),null):e.elements.length===0?(console.warn("[Paste] Clipboard data contains no elements"),null):{elements:e.elements,rootIds:e.rootIds||[],externalParents:new Map(e.externalParents||[]),timestamp:e.timestamp||Date.now()}:null}catch{return null}}const L$e=.1,F$e=5,FQ=.1;function $$e(t,e){return t.filter(n=>e[n]!==void 0).map(n=>{const r=hS[n];return{key:r.key,code:r.code,modifier:r.modifier,handler:e[n],preventDefault:!0,stopPropagation:r.capture,allowInInput:r.allowInInput,priority:r.priority,category:r.category,description:r.description,scope:r.scope}})}function z$e(){const t=P$e(),e=x.useCallback(async()=>{console.log("[Keyboard] Undo triggered");const{undo:D}=Pe.getState();await D()},[]),n=x.useCallback(async()=>{console.log("[Keyboard] Redo triggered");const{redo:D}=Pe.getState();await D()},[]),r=x.useCallback(D=>{const T=ns.getState(),{zoom:M,containerSize:P,panOffset:k,setZoom:L,setPanOffset:$}=T,z=Math.max(L$e,Math.min(F$e,D));if(P.width>0&&P.height>0){const j=P.width/2,H=P.height/2,W=z/M;$({x:j-(j-k.x)*W,y:H-(H-k.y)*W})}L(z)},[]),i=x.useCallback(()=>{const{zoom:D}=ns.getState();r(D+FQ)},[r]),s=x.useCallback(()=>{const{zoom:D}=ns.getState();r(D-FQ)},[r]),o=x.useCallback(()=>{const D=ns.getState(),{containerSize:T,canvasSize:M,setZoom:P,setPanOffset:k}=D;if(T.width===0||T.height===0)return;const L=T.width/M.width,$=T.height/M.height,z=Math.min(L,$)*.9;P(z),k({x:(T.width-M.width*z)/2,y:(T.height-M.height*z)/2})},[]),a=x.useCallback(()=>r(1),[r]),l=x.useCallback(()=>r(2),[r]),{copyText:u,pasteText:c}=UT({onPaste:()=>{},name:"elements"}),d=x.useCallback(async()=>{const{selectedElementIds:D,elementsMap:T,currentPageId:M}=Pe.getState();if(D.length===0||!M){console.log("[Keyboard] Copy: No elements selected");return}const P=ED(D,T),k=ez(P);await u(k)?console.log(`[Keyboard] Copied ${P.elements.length} elements`):console.error("[Keyboard] Copy failed")},[u]),f=x.useCallback(async()=>{const{currentPageId:D,addElement:T}=Pe.getState();if(!D){console.log("[Keyboard] Paste: No page selected");return}const M=await c();if(!M){console.log("[Keyboard] Paste: Failed to read clipboard");return}const P=tz(M);if(!P){console.log("[Keyboard] Paste: No valid element data in clipboard");return}const k=SD(P,D);for(const L of k)await T(L);console.log(`[Keyboard] Pasted ${k.length} elements`)},[c]),p=x.useCallback(async()=>{const{selectedElementIds:D,removeElement:T,setSelectedElement:M}=Pe.getState();if(D.length===0){console.log("[Keyboard] Delete: No elements selected");return}console.log(`[Keyboard] Deleting ${D.length} elements`),M(null);for(const P of D)await T(P)},[]),m=x.useCallback(()=>{console.log("[Keyboard] Events Copy: placeholder")},[]),v=x.useCallback(()=>{console.log("[Keyboard] Events Paste: placeholder")},[]),y=x.useCallback(()=>{console.log("[Keyboard] Events Delete: placeholder")},[]),A=x.useCallback(()=>{const{setSelectedElement:D,selectedElementIds:T}=Pe.getState();T.length>0&&(D(null),console.log("[Keyboard] Selection cleared"))},[]),C=x.useCallback((D,T)=>()=>{t==="panel:events"?T():D()},[t]),E=x.useMemo(()=>({undo:e,redo:n,zoomIn:i,zoomInNumpad:i,zoomOut:s,zoomToFit:o,zoom100:a,zoom200:l,copy:C(d,m),paste:C(f,v),delete:C(p,y),deleteAlt:C(p,y),escape:A}),[e,n,i,s,o,a,l,C,d,f,p,m,v,y,A]),I=x.useMemo(()=>$$e(["undo","redo","zoomIn","zoomInNumpad","zoomOut","zoomToFit","zoom100","zoom200","copy","paste","delete","deleteAlt","escape"],E),[E]);Hx(I,[I,t],{capture:!0,target:"document",activeScope:t})}class Ta{static iframe=null;static getIframe(){return this.iframe&&!this.iframe.contentWindow&&(this.iframe=null),this.iframe||(this.iframe=document.getElementById("previewFrame")),this.iframe}static clearIframeCache(){this.iframe=null}static sendToIframe(e,n){const r=this.getIframe();r?.contentWindow&&r.contentWindow.postMessage({type:e,payload:n},window.location.origin)}static sendToWindow(e,n){window.postMessage({type:e,payload:n},window.location.origin)}static clearOverlay(){this.sendToWindow("CLEAR_OVERLAY",{})}static handleMessage(e,n){try{const{type:r,payload:i}=e.data;switch(r){case"ELEMENT_SELECTED":i?.elementId&&n.setSelectedElement(i.elementId,i.props);break;case"ELEMENT_ADDED":i?.element&&n.addElement(i.element);break;case"ELEMENT_UPDATED":i?.elementId&&i?.props&&n.updateElementProps(i.elementId,i.props);break;case"ELEMENT_REMOVED":i?.elementId&&n.removeElement(i.elementId);break;case"ELEMENTS_LOADED":i?.elements&&n.setElements(i.elements);break;case"ERROR":i?.message&&n.setError(i.message);break;case"LOADING":typeof i?.loading=="boolean"&&n.setIsLoading(i.loading);break;default:break}}catch(r){console.error("Message handling error:",r)}}}class O$e{iframe=null;targetOrigin="*";enabled=!0;constructor(e){this.targetOrigin=e?.targetOrigin||"*",this.enabled=e?.enabled!==!1}setIframe(e){this.iframe=e}setEnabled(e){this.enabled=e}isReady(){return xd()&&!fh()?!1:this.enabled&&!!this.iframe?.contentWindow}sendElementAdded(e,n){if(!this.isReady())return!1;const r={type:"DELTA_ELEMENT_ADDED",element:this.sanitizeElement(e),childElements:n?.map(i=>this.sanitizeElement(i))};return this.send(r)}sendElementUpdated(e,n,r){if(!this.isReady())return!1;const i={type:"DELTA_ELEMENT_UPDATED",elementId:e,propsChanges:this.sanitizeProps(n),...r?.parentId!==void 0&&{parentId:r.parentId},...r?.orderNum!==void 0&&{orderNum:r.orderNum}};return this.send(i)}sendElementRemoved(e,n){if(!this.isReady())return!1;const r={type:"DELTA_ELEMENT_REMOVED",elementId:e,childElementIds:n};return this.send(r)}sendBatchUpdate(e){if(!this.isReady())return!1;const n={type:"DELTA_BATCH_UPDATE",updates:e.map(r=>({...r,propsChanges:r.propsChanges?this.sanitizeProps(r.propsChanges):void 0}))};return this.send(n)}sendFullElements(e,n){if(!this.isReady())return!1;const r={type:"UPDATE_ELEMENTS",elements:e.map(i=>this.sanitizeElement(i)),pageInfo:n};return this.send(r)}send(e){try{return this.iframe?.contentWindow?(this.iframe.contentWindow.postMessage(e,this.targetOrigin),!0):!1}catch{return!1}}sanitizeElement(e){try{return JSON.parse(JSON.stringify(e))}catch{return{id:e.id,tag:e.tag,props:this.sanitizeProps(e.props),parent_id:e.parent_id,page_id:e.page_id,order_num:e.order_num,customId:e.customId,events:e.events,dataBinding:e.dataBinding,layout_id:e.layout_id}}}sanitizeProps(e){try{return JSON.parse(JSON.stringify(e))}catch{return{...e}}}}const j$e=new O$e;var Jw={exports:{}};var Q$e=Jw.exports,$Q;function U$e(){return $Q||($Q=1,(function(t,e){(function(){var n,r="4.17.21",i=200,s="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",o="Expected a function",a="Invalid `variable` option passed into `_.template`",l="__lodash_hash_undefined__",u=500,c="__lodash_placeholder__",d=1,f=2,p=4,m=1,v=2,y=1,A=2,C=4,E=8,I=16,D=32,T=64,M=128,P=256,k=512,L=30,$="...",z=800,j=16,H=1,W=2,O=3,G=1/0,q=9007199254740991,J=17976931348623157e292,te=NaN,Y=4294967295,Z=Y-1,ee=Y>>>1,ie=[["ary",M],["bind",y],["bindKey",A],["curry",E],["curryRight",I],["flip",k],["partial",D],["partialRight",T],["rearg",P]],ue="[object Arguments]",ae="[object Array]",de="[object AsyncFunction]",ge="[object Boolean]",_e="[object Date]",we="[object DOMException]",ke="[object Error]",Fe="[object Function]",Ee="[object GeneratorFunction]",Me="[object Map]",Ue="[object Number]",Ge="[object Null]",ut="[object Object]",ve="[object Promise]",$e="[object Proxy]",gt="[object RegExp]",it="[object Set]",ot="[object String]",le="[object Symbol]",se="[object Undefined]",Se="[object WeakMap]",De="[object WeakSet]",Be="[object ArrayBuffer]",ze="[object DataView]",kt="[object Float32Array]",Et="[object Float64Array]",zt="[object Int8Array]",Mt="[object Int16Array]",at="[object Int32Array]",At="[object Uint8Array]",Pt="[object Uint8ClampedArray]",wt="[object Uint16Array]",Lt="[object Uint32Array]",un=/\b__p \+= '';/g,Oe=/\b(__p \+=) '' \+/g,Wt=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Vt=/&(?:amp|lt|gt|quot|#39);/g,Xt=/[&<>"']/g,It=RegExp(Vt.source),St=RegExp(Xt.source),qt=/<%-([\s\S]+?)%>/g,ct=/<%([\s\S]+?)%>/g,Bt=/<%=([\s\S]+?)%>/g,Rt=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Ht=/^\w*$/,Vn=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,In=/[\\^$.*+?()[\]{}|]/g,rn=RegExp(In.source),ln=/^\s+/,nr=/\s/,yr=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,zr=/\{\n\/\* \[wrapped with (.+)\] \*/,ii=/,? & /,Or=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Wn=/[()=,{}\[\]\/\s]/,Hi=/\\(\\)?/g,fs=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,ua=/\w*$/,ul=/^[-+]0x[0-9a-f]+$/i,Tc=/^0b[01]+$/i,Vu=/^\[object .+?Constructor\]$/,Nl=/^0o[0-7]+$/i,au=/^(?:0|[1-9]\d*)$/,Vi=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,si=/($^)/,ca=/['\n\r\u2028\u2029\\]/g,xo="\\ud800-\\udfff",me="\\u0300-\\u036f",He="\\ufe20-\\ufe2f",dt="\\u20d0-\\u20ff",tt=me+He+dt,Xe="\\u2700-\\u27bf",sn="a-z\\xdf-\\xf6\\xf8-\\xff",cn="\\xac\\xb1\\xd7\\xf7",tn="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",hn="\\u2000-\\u206f",bn=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",he="A-Z\\xc0-\\xd6\\xd8-\\xde",pe="\\ufe0e\\ufe0f",Ie=cn+tn+hn+bn,Le="[']",Ke="["+xo+"]",pt="["+Ie+"]",Ct="["+tt+"]",nt="\\d+",Ft="["+Xe+"]",xt="["+sn+"]",Jt="[^"+xo+Ie+nt+Xe+sn+he+"]",En="\\ud83c[\\udffb-\\udfff]",Un="(?:"+Ct+"|"+En+")",jr="[^"+xo+"]",_n="(?:\\ud83c[\\udde6-\\uddff]){2}",Nr="[\\ud800-\\udbff][\\udc00-\\udfff]",Qr="["+he+"]",Ji="\\u200d",Ci="(?:"+xt+"|"+Jt+")",Mc="(?:"+Qr+"|"+Jt+")",Yo="(?:"+Le+"(?:d|ll|m|re|s|t|ve))?",mv="(?:"+Le+"(?:D|LL|M|RE|S|T|VE))?",Av=Un+"?",Jp="["+pe+"]?",kc="(?:"+Ji+"(?:"+[jr,_n,Nr].join("|")+")"+Jp+Av+")*",hm="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",tA="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",ph=Jp+Av+kc,gh="(?:"+[Ft,_n,Nr].join("|")+")"+ph,yv="(?:"+[jr+Ct+"?",Ct,_n,Nr,Ke].join("|")+")",nA=RegExp(Le,"g"),vv=RegExp(Ct,"g"),wd=RegExp(En+"(?="+En+")|"+yv+ph,"g"),Pc=RegExp([Qr+"?"+xt+"+"+Yo+"(?="+[pt,Qr,"$"].join("|")+")",Mc+"+"+mv+"(?="+[pt,Qr+Ci,"$"].join("|")+")",Qr+"?"+Ci+"+"+Yo,Qr+"+"+mv,tA,hm,nt,gh].join("|"),"g"),rA=RegExp("["+Ji+xo+tt+pe+"]"),fm=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,mh=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],iA=-1,Ai={};Ai[kt]=Ai[Et]=Ai[zt]=Ai[Mt]=Ai[at]=Ai[At]=Ai[Pt]=Ai[wt]=Ai[Lt]=!0,Ai[ue]=Ai[ae]=Ai[Be]=Ai[ge]=Ai[ze]=Ai[_e]=Ai[ke]=Ai[Fe]=Ai[Me]=Ai[Ue]=Ai[ut]=Ai[gt]=Ai[it]=Ai[ot]=Ai[Se]=!1;var $i={};$i[ue]=$i[ae]=$i[Be]=$i[ze]=$i[ge]=$i[_e]=$i[kt]=$i[Et]=$i[zt]=$i[Mt]=$i[at]=$i[Me]=$i[Ue]=$i[ut]=$i[gt]=$i[it]=$i[ot]=$i[le]=$i[At]=$i[Pt]=$i[wt]=$i[Lt]=!0,$i[ke]=$i[Fe]=$i[Se]=!1;var kf={:"A",:"A",:"A",:"A",:"A",:"A",:"a",:"a",:"a",:"a",:"a",:"a",:"C",:"c",:"D",:"d",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"N",:"n",:"O",:"O",:"O",:"O",:"O",:"O",:"o",:"o",:"o",:"o",:"o",:"o",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"Y",:"y",:"y",:"Ae",:"ae",:"Th",:"th",:"ss",:"A",:"A",:"A",:"a",:"a",:"a",:"C",:"C",:"C",:"C",:"c",:"c",:"c",:"c",:"D",:"D",:"d",:"d",:"E",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"e",:"G",:"G",:"G",:"G",:"g",:"g",:"g",:"g",:"H",:"H",:"h",:"h",:"I",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"i",:"J",:"j",:"K",:"k",:"k",:"L",:"L",:"L",:"L",:"L",:"l",:"l",:"l",:"l",:"l",:"N",:"N",:"N",:"N",:"n",:"n",:"n",:"n",:"O",:"O",:"O",:"o",:"o",:"o",:"R",:"R",:"R",:"r",:"r",:"r",:"S",:"S",:"S",:"S",:"s",:"s",:"s",:"s",:"T",:"T",:"T",:"t",:"t",:"t",:"U",:"U",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"u",:"u",:"W",:"w",:"Y",:"y",:"Y",:"Z",:"Z",:"Z",:"z",:"z",:"z",:"IJ",:"ij",:"Oe",:"oe",:"'n",:"s"},pm={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},bv={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},da={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Ah=parseFloat,gm=parseInt,lu=typeof p2=="object"&&p2&&p2.Object===Object&&p2,sA=typeof self=="object"&&self&&self.Object===Object&&self,no=lu||sA||Function("return this")(),Pf=e&&!e.nodeType&&e,uu=Pf&&!0&&t&&!t.nodeType&&t,Zp=uu&&uu.exports===Pf,oA=Zp&&lu.process,Gi=(function(){try{var Ve=uu&&uu.require&&uu.require("util").types;return Ve||oA&&oA.binding&&oA.binding("util")}catch{}})(),xv=Gi&&Gi.isArrayBuffer,Cv=Gi&&Gi.isDate,mm=Gi&&Gi.isMap,Ev=Gi&&Gi.isRegExp,Sv=Gi&&Gi.isSet,eg=Gi&&Gi.isTypedArray;function Ua(Ve,_t,yt){switch(yt.length){case 0:return Ve.call(_t);case 1:return Ve.call(_t,yt[0]);case 2:return Ve.call(_t,yt[0],yt[1]);case 3:return Ve.call(_t,yt[0],yt[1],yt[2])}return Ve.apply(_t,yt)}function gC(Ve,_t,yt,an){for(var rr=-1,Lr=Ve==null?0:Ve.length;++rr<Lr;){var bs=Ve[rr];_t(an,bs,yt(bs),Ve)}return an}function cl(Ve,_t){for(var yt=-1,an=Ve==null?0:Ve.length;++yt<an&&_t(Ve[yt],yt,Ve)!==!1;);return Ve}function mC(Ve,_t){for(var yt=Ve==null?0:Ve.length;yt--&&_t(Ve[yt],yt,Ve)!==!1;);return Ve}function aA(Ve,_t){for(var yt=-1,an=Ve==null?0:Ve.length;++yt<an;)if(!_t(Ve[yt],yt,Ve))return!1;return!0}function Rc(Ve,_t){for(var yt=-1,an=Ve==null?0:Ve.length,rr=0,Lr=[];++yt<an;){var bs=Ve[yt];_t(bs,yt,Ve)&&(Lr[rr++]=bs)}return Lr}function Am(Ve,_t){var yt=Ve==null?0:Ve.length;return!!yt&&dl(Ve,_t,0)>-1}function Rf(Ve,_t,yt){for(var an=-1,rr=Ve==null?0:Ve.length;++an<rr;)if(yt(_t,Ve[an]))return!0;return!1}function is(Ve,_t){for(var yt=-1,an=Ve==null?0:Ve.length,rr=Array(an);++yt<an;)rr[yt]=_t(Ve[yt],yt,Ve);return rr}function Nc(Ve,_t){for(var yt=-1,an=_t.length,rr=Ve.length;++yt<an;)Ve[rr+yt]=_t[yt];return Ve}function lA(Ve,_t,yt,an){var rr=-1,Lr=Ve==null?0:Ve.length;for(an&&Lr&&(yt=Ve[++rr]);++rr<Lr;)yt=_t(yt,Ve[rr],rr,Ve);return yt}function uA(Ve,_t,yt,an){var rr=Ve==null?0:Ve.length;for(an&&rr&&(yt=Ve[--rr]);rr--;)yt=_t(yt,Ve[rr],rr,Ve);return yt}function cA(Ve,_t){for(var yt=-1,an=Ve==null?0:Ve.length;++yt<an;)if(_t(Ve[yt],yt,Ve))return!0;return!1}var _d=Lc("length");function wv(Ve){return Ve.split("")}function bS(Ve){return Ve.match(Or)||[]}function _v(Ve,_t,yt){var an;return yt(Ve,function(rr,Lr,bs){if(_t(rr,Lr,bs))return an=Lr,!1}),an}function Gu(Ve,_t,yt,an){for(var rr=Ve.length,Lr=yt+(an?1:-1);an?Lr--:++Lr<rr;)if(_t(Ve[Lr],Lr,Ve))return Lr;return-1}function dl(Ve,_t,yt){return _t===_t?AC(Ve,_t,yt):Gu(Ve,dA,yt)}function Iv(Ve,_t,yt,an){for(var rr=yt-1,Lr=Ve.length;++rr<Lr;)if(an(Ve[rr],_t))return rr;return-1}function dA(Ve){return Ve!==Ve}function yh(Ve,_t){var yt=Ve==null?0:Ve.length;return yt?vm(Ve,_t)/yt:te}function Lc(Ve){return function(_t){return _t==null?n:_t[Ve]}}function Id(Ve){return function(_t){return Ve==null?n:Ve[_t]}}function $o(Ve,_t,yt,an,rr){return rr(Ve,function(Lr,bs,Ei){yt=an?(an=!1,Lr):_t(yt,Lr,bs,Ei)}),yt}function ym(Ve,_t){var yt=Ve.length;for(Ve.sort(_t);yt--;)Ve[yt]=Ve[yt].value;return Ve}function vm(Ve,_t){for(var yt,an=-1,rr=Ve.length;++an<rr;){var Lr=_t(Ve[an]);Lr!==n&&(yt=yt===n?Lr:yt+Lr)}return yt}function tg(Ve,_t){for(var yt=-1,an=Array(Ve);++yt<Ve;)an[yt]=_t(yt);return an}function ng(Ve,_t){return is(_t,function(yt){return[yt,Ve[yt]]})}function Bd(Ve){return Ve&&Ve.slice(0,Lf(Ve)+1).replace(ln,"")}function ha(Ve){return function(_t){return Ve(_t)}}function hA(Ve,_t){return is(_t,function(yt){return Ve[yt]})}function Xo(Ve,_t){return Ve.has(_t)}function fA(Ve,_t){for(var yt=-1,an=Ve.length;++yt<an&&dl(_t,Ve[yt],0)>-1;);return yt}function bm(Ve,_t){for(var yt=Ve.length;yt--&&dl(_t,Ve[yt],0)>-1;);return yt}function rg(Ve,_t){for(var yt=Ve.length,an=0;yt--;)Ve[yt]===_t&&++an;return an}var ig=Id(kf),Bv=Id(pm);function sg(Ve){return"\\"+da[Ve]}function Dv(Ve,_t){return Ve==null?n:Ve[_t]}function Fc(Ve){return rA.test(Ve)}function Nf(Ve){return fm.test(Ve)}function ps(Ve){for(var _t,yt=[];!(_t=Ve.next()).done;)yt.push(_t.value);return yt}function pA(Ve){var _t=-1,yt=Array(Ve.size);return Ve.forEach(function(an,rr){yt[++_t]=[rr,an]}),yt}function Tv(Ve,_t){return function(yt){return Ve(_t(yt))}}function $c(Ve,_t){for(var yt=-1,an=Ve.length,rr=0,Lr=[];++yt<an;){var bs=Ve[yt];(bs===_t||bs===c)&&(Ve[yt]=c,Lr[rr++]=yt)}return Lr}function vh(Ve){var _t=-1,yt=Array(Ve.size);return Ve.forEach(function(an){yt[++_t]=an}),yt}function bh(Ve){var _t=-1,yt=Array(Ve.size);return Ve.forEach(function(an){yt[++_t]=[an,an]}),yt}function AC(Ve,_t,yt){for(var an=yt-1,rr=Ve.length;++an<rr;)if(Ve[an]===_t)return an;return-1}function yC(Ve,_t,yt){for(var an=yt+1;an--;)if(Ve[an]===_t)return an;return an}function cu(Ve){return Fc(Ve)?kv(Ve):_d(Ve)}function Jr(Ve){return Fc(Ve)?gA(Ve):wv(Ve)}function Lf(Ve){for(var _t=Ve.length;_t--&&nr.test(Ve.charAt(_t)););return _t}var Mv=Id(bv);function kv(Ve){for(var _t=wd.lastIndex=0;wd.test(Ve);)++_t;return _t}function gA(Ve){return Ve.match(wd)||[]}function mA(Ve){return Ve.match(Pc)||[]}var og=(function Ve(_t){_t=_t==null?no:Ff.defaults(no.Object(),_t,Ff.pick(no,mh));var yt=_t.Array,an=_t.Date,rr=_t.Error,Lr=_t.Function,bs=_t.Math,Ei=_t.Object,Jo=_t.RegExp,xh=_t.String,gs=_t.TypeError,ag=yt.prototype,zc=Lr.prototype,Ku=Ei.prototype,Wu=_t["__core-js_shared__"],lg=zc.toString,yi=Ku.hasOwnProperty,Dd=0,xm=(function(){var B=/[^.]+$/.exec(Wu&&Wu.keys&&Wu.keys.IE_PROTO||"");return B?"Symbol(src)_1."+B:""})(),Co=Ku.toString,Ch=lg.call(Ei),zo=no._,$f=Jo("^"+lg.call(yi).replace(In,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),zf=Zp?_t.Buffer:n,Ha=_t.Symbol,Eh=_t.Uint8Array,Of=zf?zf.allocUnsafe:n,qu=Tv(Ei.getPrototypeOf,Ei),Cm=Ei.create,jf=Ku.propertyIsEnumerable,Yu=ag.splice,Pv=Ha?Ha.isConcatSpreadable:n,Eo=Ha?Ha.iterator:n,Hs=Ha?Ha.toStringTag:n,Ll=(function(){try{var B=Bo(Ei,"defineProperty");return B({},"",{}),B}catch{}})(),fa=_t.clearTimeout!==no.clearTimeout&&_t.clearTimeout,Em=an&&an.now!==no.Date.now&&an.now,Td=_t.setTimeout!==no.setTimeout&&_t.setTimeout,Qf=bs.ceil,Sm=bs.floor,Fl=Ei.getOwnPropertySymbols,Rv=zf?zf.isBuffer:n,Va=_t.isFinite,Xu=ag.join,Uf=Tv(Ei.keys,Ei),ws=bs.max,Vs=bs.min,$l=an.now,hl=_t.parseInt,Ju=bs.random,Oc=ag.reverse,du=Bo(_t,"DataView"),zl=Bo(_t,"Map"),wm=Bo(_t,"Promise"),Md=Bo(_t,"Set"),hu=Bo(_t,"WeakMap"),kd=Bo(Ei,"create"),Gs=hu&&new hu,Si={},Zr=To(du),Pd=To(zl),Oo=To(wm),AA=To(Md),Wr=To(hu),Hf=Ha?Ha.prototype:n,ug=Hf?Hf.valueOf:n,Sh=Hf?Hf.toString:n;function Ae(B){if(oo(B)&&!vr(B)&&!(B instanceof hr)){if(B instanceof fl)return B;if(yi.call(B,"__wrapped__"))return Wl(B)}return new fl(B)}var wh=(function(){function B(){}return function(N){if(!Ls(N))return{};if(Cm)return Cm(N);B.prototype=N;var V=new B;return B.prototype=n,V}})();function _h(){}function fl(B,N){this.__wrapped__=B,this.__actions__=[],this.__chain__=!!N,this.__index__=0,this.__values__=n}Ae.templateSettings={escape:qt,evaluate:ct,interpolate:Bt,variable:"",imports:{_:Ae}},Ae.prototype=_h.prototype,Ae.prototype.constructor=Ae,fl.prototype=wh(_h.prototype),fl.prototype.constructor=fl;function hr(B){this.__wrapped__=B,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Y,this.__views__=[]}function pa(){var B=new hr(this.__wrapped__);return B.__actions__=va(this.__actions__),B.__dir__=this.__dir__,B.__filtered__=this.__filtered__,B.__iteratees__=va(this.__iteratees__),B.__takeCount__=this.__takeCount__,B.__views__=va(this.__views__),B}function Rd(){if(this.__filtered__){var B=new hr(this);B.__dir__=-1,B.__filtered__=!0}else B=this.clone(),B.__dir__*=-1;return B}function fu(){var B=this.__wrapped__.value(),N=this.__dir__,V=vr(B),ne=N<0,fe=V?B.length:0,Ce=$m(0,fe,this.__views__),Te=Ce.start,je=Ce.end,Ze=je-Te,Ot=ne?je:Te-1,jt=this.__iteratees__,Gt=jt.length,mn=0,Ln=Vs(Ze,this.__takeCount__);if(!V||!ne&&fe==Ze&&Ln==Ze)return Yv(B,this.__actions__);var or=[];e:for(;Ze--&&mn<Ln;){Ot+=N;for(var Yr=-1,ar=B[Ot];++Yr<Gt;){var gi=jt[Yr],Di=gi.iteratee,Hd=gi.type,gc=Di(ar);if(Hd==W)ar=gc;else if(!gc){if(Hd==H)continue e;break e}}or[mn++]=ar}return or}hr.prototype=wh(_h.prototype),hr.prototype.constructor=hr;function Ga(B){var N=-1,V=B==null?0:B.length;for(this.clear();++N<V;){var ne=B[N];this.set(ne[0],ne[1])}}function yA(){this.__data__=kd?kd(null):{},this.size=0}function Ih(B){var N=this.has(B)&&delete this.__data__[B];return this.size-=N?1:0,N}function cg(B){var N=this.__data__;if(kd){var V=N[B];return V===l?n:V}return yi.call(N,B)?N[B]:n}function Vf(B){var N=this.__data__;return kd?N[B]!==n:yi.call(N,B)}function jo(B,N){var V=this.__data__;return this.size+=this.has(B)?0:1,V[B]=kd&&N===n?l:N,this}Ga.prototype.clear=yA,Ga.prototype.delete=Ih,Ga.prototype.get=cg,Ga.prototype.has=Vf,Ga.prototype.set=jo;function Ol(B){var N=-1,V=B==null?0:B.length;for(this.clear();++N<V;){var ne=B[N];this.set(ne[0],ne[1])}}function Nv(){this.__data__=[],this.size=0}function vC(B){var N=this.__data__,V=On(N,B);if(V<0)return!1;var ne=N.length-1;return V==ne?N.pop():Yu.call(N,V,1),--this.size,!0}function bC(B){var N=this.__data__,V=On(N,B);return V<0?n:N[V][1]}function Lv(B){return On(this.__data__,B)>-1}function Rn(B,N){var V=this.__data__,ne=On(V,B);return ne<0?(++this.size,V.push([B,N])):V[ne][1]=N,this}Ol.prototype.clear=Nv,Ol.prototype.delete=vC,Ol.prototype.get=bC,Ol.prototype.has=Lv,Ol.prototype.set=Rn;function Zu(B){var N=-1,V=B==null?0:B.length;for(this.clear();++N<V;){var ne=B[N];this.set(ne[0],ne[1])}}function Zo(){this.size=0,this.__data__={hash:new Ga,map:new(zl||Ol),string:new Ga}}function Gf(B){var N=jh(this,B).delete(B);return this.size-=N?1:0,N}function Fv(B){return jh(this,B).get(B)}function Nd(B){return jh(this,B).has(B)}function ec(B,N){var V=jh(this,B),ne=V.size;return V.set(B,N),this.size+=V.size==ne?0:1,this}Zu.prototype.clear=Zo,Zu.prototype.delete=Gf,Zu.prototype.get=Fv,Zu.prototype.has=Nd,Zu.prototype.set=ec;function pu(B){var N=-1,V=B==null?0:B.length;for(this.__data__=new Zu;++N<V;)this.add(B[N])}function $v(B){return this.__data__.set(B,l),this}function zv(B){return this.__data__.has(B)}pu.prototype.add=pu.prototype.push=$v,pu.prototype.has=zv;function gu(B){var N=this.__data__=new Ol(B);this.size=N.size}function Bh(){this.__data__=new Ol,this.size=0}function jc(B){var N=this.__data__,V=N.delete(B);return this.size=N.size,V}function dg(B){return this.__data__.get(B)}function vA(B){return this.__data__.has(B)}function Dh(B,N){var V=this.__data__;if(V instanceof Ol){var ne=V.__data__;if(!zl||ne.length<i-1)return ne.push([B,N]),this.size=++V.size,this;V=this.__data__=new Zu(ne)}return V.set(B,N),this.size=V.size,this}gu.prototype.clear=Bh,gu.prototype.delete=jc,gu.prototype.get=dg,gu.prototype.has=vA,gu.prototype.set=Dh;function hg(B,N){var V=vr(B),ne=!V&&qm(B),fe=!V&&!ne&&_g(B),Ce=!V&&!ne&&!fe&&Ig(B),Te=V||ne||fe||Ce,je=Te?tg(B.length,xh):[],Ze=je.length;for(var Ot in B)(N||yi.call(B,Ot))&&!(Te&&(Ot=="length"||fe&&(Ot=="offset"||Ot=="parent")||Ce&&(Ot=="buffer"||Ot=="byteLength"||Ot=="byteOffset")||Vl(Ot,Ze)))&&je.push(Ot);return je}function mu(B){var N=B.length;return N?B[Ag(0,N-1)]:n}function _m(B,N){return lc(va(B),nc(N,0,B.length))}function xC(B){return lc(va(B))}function Im(B,N,V){(V!==n&&!hc(B[N],V)||V===n&&!(N in B))&&ga(B,N,V)}function tc(B,N,V){var ne=B[N];(!(yi.call(B,N)&&hc(ne,V))||V===n&&!(N in B))&&ga(B,N,V)}function On(B,N){for(var V=B.length;V--;)if(hc(B[V][0],N))return V;return-1}function bA(B,N,V,ne){return Qc(B,function(fe,Ce,Te){N(ne,fe,V(fe),Te)}),ne}function xA(B,N){return B&&xu(N,Ia(N),B)}function Th(B,N){return B&&xu(N,Du(N),B)}function ga(B,N,V){N=="__proto__"&&Ll?Ll(B,N,{configurable:!0,enumerable:!0,value:V,writable:!0}):B[N]=V}function fg(B,N){for(var V=-1,ne=N.length,fe=yt(ne),Ce=B==null;++V<ne;)fe[V]=Ce?n:Bg(B,N[V]);return fe}function nc(B,N,V){return B===B&&(V!==n&&(B=B<=V?B:V),N!==n&&(B=B>=N?B:N)),B}function ma(B,N,V,ne,fe,Ce){var Te,je=N&d,Ze=N&f,Ot=N&p;if(V&&(Te=fe?V(B,ne,fe,Ce):V(B)),Te!==n)return Te;if(!Ls(B))return B;var jt=vr(B);if(jt){if(Te=Ca(B),!je)return va(B,Te)}else{var Gt=hi(B),mn=Gt==Fe||Gt==Ee;if(_g(B))return Zv(B,je);if(Gt==ut||Gt==ue||mn&&!fe){if(Te=Ze||mn?{}:Vo(B),!je)return Ze?tb(B,Th(Te,B)):eb(B,xA(Te,B))}else{if(!$i[Gt])return fe?B:{};Te=fi(B,Gt,je)}}Ce||(Ce=new gu);var Ln=Ce.get(B);if(Ln)return Ln;Ce.set(B,Te),mb(B)?B.forEach(function(ar){Te.add(ma(ar,N,V,ar,B,Ce))}):F4(B)&&B.forEach(function(ar,gi){Te.set(gi,ma(ar,N,V,gi,B,Ce))});var or=Ot?Ze?Ka:xa:Ze?Du:Ia,Yr=jt?n:or(B);return cl(Yr||B,function(ar,gi){Yr&&(gi=ar,ar=B[gi]),tc(Te,gi,ma(ar,N,V,gi,B,Ce))}),Te}function pg(B){var N=Ia(B);return function(V){return Mh(V,B,N)}}function Mh(B,N,V){var ne=V.length;if(B==null)return!ne;for(B=Ei(B);ne--;){var fe=V[ne],Ce=N[fe],Te=B[fe];if(Te===n&&!(fe in B)||!Ce(Te))return!1}return!0}function Ov(B,N,V){if(typeof B!="function")throw new gs(o);return Hh(function(){B.apply(n,V)},N)}function Au(B,N,V,ne){var fe=-1,Ce=Am,Te=!0,je=B.length,Ze=[],Ot=N.length;if(!je)return Ze;V&&(N=is(N,ha(V))),ne?(Ce=Rf,Te=!1):N.length>=i&&(Ce=Xo,Te=!1,N=new pu(N));e:for(;++fe<je;){var jt=B[fe],Gt=V==null?jt:V(jt);if(jt=ne||jt!==0?jt:0,Te&&Gt===Gt){for(var mn=Ot;mn--;)if(N[mn]===Gt)continue e;Ze.push(jt)}else Ce(N,Gt,ne)||Ze.push(jt)}return Ze}var Qc=nb(wo),CA=nb(_o,!0);function Uc(B,N){var V=!0;return Qc(B,function(ne,fe,Ce){return V=!!N(ne,fe,Ce),V}),V}function yu(B,N,V){for(var ne=-1,fe=B.length;++ne<fe;){var Ce=B[ne],Te=N(Ce);if(Te!=null&&(je===n?Te===Te&&!Bu(Te):V(Te,je)))var je=Te,Ze=Ce}return Ze}function kh(B,N,V,ne){var fe=B.length;for(V=sr(V),V<0&&(V=-V>fe?0:fe+V),ne=ne===n||ne>fe?fe:sr(ne),ne<0&&(ne+=fe),ne=V>ne?0:FS(ne);V<ne;)B[V++]=N;return B}function Bm(B,N){var V=[];return Qc(B,function(ne,fe,Ce){N(ne,fe,Ce)&&V.push(ne)}),V}function So(B,N,V,ne,fe){var Ce=-1,Te=B.length;for(V||(V=Eu),fe||(fe=[]);++Ce<Te;){var je=B[Ce];N>0&&V(je)?N>1?So(je,N-1,V,ne,fe):Nc(fe,je):ne||(fe[fe.length]=je)}return fe}var Kf=zA(),Ph=zA(!0);function wo(B,N){return B&&Kf(B,N,Ia)}function _o(B,N){return B&&Ph(B,N,Ia)}function Aa(B,N){return Rc(N,function(V){return fc(B[V])})}function Ks(B,N){N=Ql(N,B);for(var V=0,ne=N.length;B!=null&&V<ne;)B=B[Do(N[V++])];return V&&V==ne?B:n}function EA(B,N,V){var ne=N(B);return vr(B)?ne:Nc(ne,V(B))}function ea(B){return B==null?B===n?se:Ge:Hs&&Hs in Ei(B)?sc(B):Uh(B)}function Qo(B,N){return B>N}function Io(B,N){return B!=null&&yi.call(B,N)}function vu(B,N){return B!=null&&N in Ei(B)}function Rh(B,N,V){return B>=Vs(N,V)&&B<ws(N,V)}function Dm(B,N,V){for(var ne=V?Rf:Am,fe=B[0].length,Ce=B.length,Te=Ce,je=yt(Ce),Ze=1/0,Ot=[];Te--;){var jt=B[Te];Te&&N&&(jt=is(jt,ha(N))),Ze=Vs(jt.length,Ze),je[Te]=!V&&(N||fe>=120&&jt.length>=120)?new pu(Te&&jt):n}jt=B[0];var Gt=-1,mn=je[0];e:for(;++Gt<fe&&Ot.length<Ze;){var Ln=jt[Gt],or=N?N(Ln):Ln;if(Ln=V||Ln!==0?Ln:0,!(mn?Xo(mn,or):ne(Ot,or,V))){for(Te=Ce;--Te;){var Yr=je[Te];if(!(Yr?Xo(Yr,or):ne(B[Te],or,V)))continue e}mn&&mn.push(or),Ot.push(Ln)}}return Ot}function CC(B,N,V,ne){return wo(B,function(fe,Ce,Te){N(ne,V(fe),Ce,Te)}),ne}function jl(B,N,V){N=Ql(N,B),B=rp(B,N);var ne=B==null?B:B[Do(pi(N))];return ne==null?n:Ua(ne,B,V)}function pl(B){return oo(B)&&ea(B)==ue}function ks(B){return oo(B)&&ea(B)==Be}function SA(B){return oo(B)&&ea(B)==_e}function Uo(B,N,V,ne,fe){return B===N?!0:B==null||N==null||!oo(B)&&!oo(N)?B!==B&&N!==N:Xn(B,N,V,ne,Uo,fe)}function Xn(B,N,V,ne,fe,Ce){var Te=vr(B),je=vr(N),Ze=Te?ae:hi(B),Ot=je?ae:hi(N);Ze=Ze==ue?ut:Ze,Ot=Ot==ue?ut:Ot;var jt=Ze==ut,Gt=Ot==ut,mn=Ze==Ot;if(mn&&_g(B)){if(!_g(N))return!1;Te=!0,jt=!1}if(mn&&!jt)return Ce||(Ce=new gu),Te||Ig(B)?Fm(B,N,V,ne,fe,Ce):TC(B,N,Ze,V,ne,fe,Ce);if(!(V&m)){var Ln=jt&&yi.call(B,"__wrapped__"),or=Gt&&yi.call(N,"__wrapped__");if(Ln||or){var Yr=Ln?B.value():B,ar=or?N.value():N;return Ce||(Ce=new gu),fe(Yr,ar,V,ne,Ce)}}return mn?(Ce||(Ce=new gu),ab(B,N,V,ne,fe,Ce)):!1}function Ki(B){return oo(B)&&hi(B)==Me}function Ps(B,N,V,ne){var fe=V.length,Ce=fe,Te=!ne;if(B==null)return!Ce;for(B=Ei(B);fe--;){var je=V[fe];if(Te&&je[2]?je[1]!==B[je[0]]:!(je[0]in B))return!1}for(;++fe<Ce;){je=V[fe];var Ze=je[0],Ot=B[Ze],jt=je[1];if(Te&&je[2]){if(Ot===n&&!(Ze in B))return!1}else{var Gt=new gu;if(ne)var mn=ne(Ot,jt,Ze,B,N,Gt);if(!(mn===n?Uo(jt,Ot,m|v,ne,Gt):mn))return!1}}return!0}function Tm(B){if(!Ls(B)||np(B))return!1;var N=fc(B)?$f:Vu;return N.test(To(B))}function Hc(B){return oo(B)&&ea(B)==gt}function Wf(B){return oo(B)&&hi(B)==it}function wA(B){return oo(B)&&FC(B.length)&&!!Ai[ea(B)]}function gg(B){return typeof B=="function"?B:B==null?Jl:typeof B=="object"?vr(B)?jv(B[0],B[1]):IA(B):ye(B)}function bu(B){if(!Ld(B))return Uf(B);var N=[];for(var V in Ei(B))yi.call(B,V)&&V!="constructor"&&N.push(V);return N}function xS(B){if(!Ls(B))return vl(B);var N=Ld(B),V=[];for(var ne in B)ne=="constructor"&&(N||!yi.call(B,ne))||V.push(ne);return V}function xs(B,N){return B<N}function _A(B,N){var V=-1,ne=Iu(B)?yt(B.length):[];return Qc(B,function(fe,Ce,Te){ne[++V]=N(fe,Ce,Te)}),ne}function IA(B){var N=Wa(B);return N.length==1&&N[0][2]?Fd(N[0][0],N[0][1]):function(V){return V===B||Ps(V,B,N)}}function jv(B,N){return Wc(B)&&Su(N)?Fd(Do(B),N):function(V){var ne=Bg(V,B);return ne===n&&ne===N?zS(V,B):Uo(N,ne,m|v)}}function Mm(B,N,V,ne,fe){B!==N&&Kf(N,function(Ce,Te){if(fe||(fe=new gu),Ls(Ce))CS(B,N,Te,V,Mm,ne,fe);else{var je=ne?ne(wi(B,Te),Ce,Te+"",B,N,fe):n;je===n&&(je=Ce),Im(B,Te,je)}},Du)}function CS(B,N,V,ne,fe,Ce,Te){var je=wi(B,V),Ze=wi(N,V),Ot=Te.get(Ze);if(Ot){Im(B,V,Ot);return}var jt=Ce?Ce(je,Ze,V+"",B,N,Te):n,Gt=jt===n;if(Gt){var mn=vr(Ze),Ln=!mn&&_g(Ze),or=!mn&&!Ln&&Ig(Ze);jt=Ze,mn||Ln||or?vr(je)?jt=je:ko(je)?jt=va(je):Ln?(Gt=!1,jt=Zv(Ze,!0)):or?(Gt=!1,jt=Al(Ze,!0)):jt=[]:pb(Ze)||qm(Ze)?(jt=je,qm(je)?jt=$C(je):(!Ls(je)||fc(je))&&(jt=Vo(Ze))):Gt=!1}Gt&&(Te.set(Ze,jt),fe(jt,Ze,ne,Ce,Te),Te.delete(Ze)),Im(B,V,jt)}function BA(B,N){var V=B.length;if(V)return N+=N<0?V:0,Vl(N,V)?B[N]:n}function DA(B,N,V){N.length?N=is(N,function(Ce){return vr(Ce)?function(Te){return Ks(Te,Ce.length===1?Ce[0]:Ce)}:Ce}):N=[Jl];var ne=-1;N=is(N,ha(Fn()));var fe=_A(B,function(Ce,Te,je){var Ze=is(N,function(Ot){return Ot(Ce)});return{criteria:Ze,index:++ne,value:Ce}});return ym(fe,function(Ce,Te){return LA(Ce,Te,V)})}function Qv(B,N){return ya(B,N,function(V,ne){return zS(B,ne)})}function ya(B,N,V){for(var ne=-1,fe=N.length,Ce={};++ne<fe;){var Te=N[ne],je=Ks(B,Te);V(je,Te)&&Yf(Ce,Ql(Te,B),je)}return Ce}function Ws(B){return function(N){return Ks(N,B)}}function qf(B,N,V,ne){var fe=ne?Iv:dl,Ce=-1,Te=N.length,je=B;for(B===N&&(N=va(N)),V&&(je=is(B,ha(V)));++Ce<Te;)for(var Ze=0,Ot=N[Ce],jt=V?V(Ot):Ot;(Ze=fe(je,jt,Ze,ne))>-1;)je!==B&&Yu.call(je,Ze,1),Yu.call(B,Ze,1);return B}function mg(B,N){for(var V=B?N.length:0,ne=V-1;V--;){var fe=N[V];if(V==ne||fe!==Ce){var Ce=fe;Vl(fe)?Yu.call(B,fe,1):yg(B,fe)}}return B}function Ag(B,N){return B+Sm(Ju()*(N-B+1))}function Uv(B,N,V,ne){for(var fe=-1,Ce=ws(Qf((N-B)/(V||1)),0),Te=yt(Ce);Ce--;)Te[ne?Ce:++fe]=B,B+=V;return Te}function rc(B,N){var V="";if(!B||N<1||N>q)return V;do N%2&&(V+=B),N=Sm(N/2),N&&(B+=B);while(N);return V}function Cr(B,N){return $d(qc(B,N,Jl),B+"")}function Hv(B){return mu(ny(B))}function TA(B,N){var V=ny(B);return lc(V,nc(N,0,V.length))}function Yf(B,N,V,ne){if(!Ls(B))return B;N=Ql(N,B);for(var fe=-1,Ce=N.length,Te=Ce-1,je=B;je!=null&&++fe<Ce;){var Ze=Do(N[fe]),Ot=V;if(Ze==="__proto__"||Ze==="constructor"||Ze==="prototype")return B;if(fe!=Te){var jt=je[Ze];Ot=ne?ne(jt,Ze,je):n,Ot===n&&(Ot=Ls(jt)?jt:Vl(N[fe+1])?[]:{})}tc(je,Ze,Ot),je=je[Ze]}return B}var Vv=Gs?function(B,N){return Gs.set(B,N),B}:Jl,Gv=Ll?function(B,N){return Ll(B,"toString",{configurable:!0,enumerable:!1,value:iy(N),writable:!0})}:Jl;function Kv(B){return lc(ny(B))}function gl(B,N,V){var ne=-1,fe=B.length;N<0&&(N=-N>fe?0:fe+N),V=V>fe?fe:V,V<0&&(V+=fe),fe=N>V?0:V-N>>>0,N>>>=0;for(var Ce=yt(fe);++ne<fe;)Ce[ne]=B[ne+N];return Ce}function MA(B,N){var V;return Qc(B,function(ne,fe,Ce){return V=N(ne,fe,Ce),!V}),!!V}function Nh(B,N,V){var ne=0,fe=B==null?ne:B.length;if(typeof N=="number"&&N===N&&fe<=ee){for(;ne<fe;){var Ce=ne+fe>>>1,Te=B[Ce];Te!==null&&!Bu(Te)&&(V?Te<=N:Te<N)?ne=Ce+1:fe=Ce}return fe}return kA(B,N,Jl,V)}function kA(B,N,V,ne){var fe=0,Ce=B==null?0:B.length;if(Ce===0)return 0;N=V(N);for(var Te=N!==N,je=N===null,Ze=Bu(N),Ot=N===n;fe<Ce;){var jt=Sm((fe+Ce)/2),Gt=V(B[jt]),mn=Gt!==n,Ln=Gt===null,or=Gt===Gt,Yr=Bu(Gt);if(Te)var ar=ne||or;else Ot?ar=or&&(ne||mn):je?ar=or&&mn&&(ne||!Ln):Ze?ar=or&&mn&&!Ln&&(ne||!Yr):Ln||Yr?ar=!1:ar=ne?Gt<=N:Gt<N;ar?fe=jt+1:Ce=jt}return Vs(Ce,Z)}function EC(B,N){for(var V=-1,ne=B.length,fe=0,Ce=[];++V<ne;){var Te=B[V],je=N?N(Te):Te;if(!V||!hc(je,Ze)){var Ze=je;Ce[fe++]=Te===0?0:Te}}return Ce}function Wv(B){return typeof B=="number"?B:Bu(B)?te:+B}function ml(B){if(typeof B=="string")return B;if(vr(B))return is(B,ml)+"";if(Bu(B))return Sh?Sh.call(B):"";var N=B+"";return N=="0"&&1/B==-G?"-0":N}function Vc(B,N,V){var ne=-1,fe=Am,Ce=B.length,Te=!0,je=[],Ze=je;if(V)Te=!1,fe=Rf;else if(Ce>=i){var Ot=N?null:DC(B);if(Ot)return vh(Ot);Te=!1,fe=Xo,Ze=new pu}else Ze=N?[]:je;e:for(;++ne<Ce;){var jt=B[ne],Gt=N?N(jt):jt;if(jt=V||jt!==0?jt:0,Te&&Gt===Gt){for(var mn=Ze.length;mn--;)if(Ze[mn]===Gt)continue e;N&&Ze.push(Gt),je.push(jt)}else fe(Ze,Gt,V)||(Ze!==je&&Ze.push(Gt),je.push(jt))}return je}function yg(B,N){return N=Ql(N,B),B=rp(B,N),B==null||delete B[Do(pi(N))]}function qv(B,N,V,ne){return Yf(B,N,V(Ks(B,N)),ne)}function km(B,N,V,ne){for(var fe=B.length,Ce=ne?fe:-1;(ne?Ce--:++Ce<fe)&&N(B[Ce],Ce,B););return V?gl(B,ne?0:Ce,ne?Ce+1:fe):gl(B,ne?Ce+1:0,ne?fe:Ce)}function Yv(B,N){var V=B;return V instanceof hr&&(V=V.value()),lA(N,function(ne,fe){return fe.func.apply(fe.thisArg,Nc([ne],fe.args))},V)}function PA(B,N,V){var ne=B.length;if(ne<2)return ne?Vc(B[0]):[];for(var fe=-1,Ce=yt(ne);++fe<ne;)for(var Te=B[fe],je=-1;++je<ne;)je!=fe&&(Ce[fe]=Au(Ce[fe]||Te,B[je],N,V));return Vc(So(Ce,1),N,V)}function Xv(B,N,V){for(var ne=-1,fe=B.length,Ce=N.length,Te={};++ne<fe;){var je=ne<Ce?N[ne]:n;V(Te,B[ne],je)}return Te}function Jv(B){return ko(B)?B:[]}function RA(B){return typeof B=="function"?B:Jl}function Ql(B,N){return vr(B)?B:Wc(B,N)?[B]:HA(Yi(B))}var SC=Cr;function ic(B,N,V){var ne=B.length;return V=V===n?ne:V,!N&&V>=ne?B:gl(B,N,V)}var Pm=fa||function(B){return no.clearTimeout(B)};function Zv(B,N){if(N)return B.slice();var V=B.length,ne=Of?Of(V):new B.constructor(V);return B.copy(ne),ne}function Rm(B){var N=new B.constructor(B.byteLength);return new Eh(N).set(new Eh(B)),N}function wC(B,N){var V=N?Rm(B.buffer):B.buffer;return new B.constructor(V,B.byteOffset,B.byteLength)}function _C(B){var N=new B.constructor(B.source,ua.exec(B));return N.lastIndex=B.lastIndex,N}function IC(B){return ug?Ei(ug.call(B)):{}}function Al(B,N){var V=N?Rm(B.buffer):B.buffer;return new B.constructor(V,B.byteOffset,B.length)}function NA(B,N){if(B!==N){var V=B!==n,ne=B===null,fe=B===B,Ce=Bu(B),Te=N!==n,je=N===null,Ze=N===N,Ot=Bu(N);if(!je&&!Ot&&!Ce&&B>N||Ce&&Te&&Ze&&!je&&!Ot||ne&&Te&&Ze||!V&&Ze||!fe)return 1;if(!ne&&!Ce&&!Ot&&B<N||Ot&&V&&fe&&!ne&&!Ce||je&&V&&fe||!Te&&fe||!Ze)return-1}return 0}function LA(B,N,V){for(var ne=-1,fe=B.criteria,Ce=N.criteria,Te=fe.length,je=V.length;++ne<Te;){var Ze=NA(fe[ne],Ce[ne]);if(Ze){if(ne>=je)return Ze;var Ot=V[ne];return Ze*(Ot=="desc"?-1:1)}}return B.index-N.index}function Nm(B,N,V,ne){for(var fe=-1,Ce=B.length,Te=V.length,je=-1,Ze=N.length,Ot=ws(Ce-Te,0),jt=yt(Ze+Ot),Gt=!ne;++je<Ze;)jt[je]=N[je];for(;++fe<Te;)(Gt||fe<Ce)&&(jt[V[fe]]=B[fe]);for(;Ot--;)jt[je++]=B[fe++];return jt}function FA(B,N,V,ne){for(var fe=-1,Ce=B.length,Te=-1,je=V.length,Ze=-1,Ot=N.length,jt=ws(Ce-je,0),Gt=yt(jt+Ot),mn=!ne;++fe<jt;)Gt[fe]=B[fe];for(var Ln=fe;++Ze<Ot;)Gt[Ln+Ze]=N[Ze];for(;++Te<je;)(mn||fe<Ce)&&(Gt[Ln+V[Te]]=B[fe++]);return Gt}function va(B,N){var V=-1,ne=B.length;for(N||(N=yt(ne));++V<ne;)N[V]=B[V];return N}function xu(B,N,V,ne){var fe=!V;V||(V={});for(var Ce=-1,Te=N.length;++Ce<Te;){var je=N[Ce],Ze=ne?ne(V[je],B[je],je,V,B):n;Ze===n&&(Ze=B[je]),fe?ga(V,je,Ze):tc(V,je,Ze)}return V}function eb(B,N){return xu(B,Cu(B),N)}function tb(B,N){return xu(B,Ul(B),N)}function $A(B,N){return function(V,ne){var fe=vr(V)?gC:bA,Ce=N?N():{};return fe(V,B,Fn(ne,2),Ce)}}function Lh(B){return Cr(function(N,V){var ne=-1,fe=V.length,Ce=fe>1?V[fe-1]:n,Te=fe>2?V[2]:n;for(Ce=B.length>3&&typeof Ce=="function"?(fe--,Ce):n,Te&&es(V[0],V[1],Te)&&(Ce=fe<3?n:Ce,fe=1),N=Ei(N);++ne<fe;){var je=V[ne];je&&B(N,je,ne,Ce)}return N})}function nb(B,N){return function(V,ne){if(V==null)return V;if(!Iu(V))return B(V,ne);for(var fe=V.length,Ce=N?fe:-1,Te=Ei(V);(N?Ce--:++Ce<fe)&&ne(Te[Ce],Ce,Te)!==!1;);return V}}function zA(B){return function(N,V,ne){for(var fe=-1,Ce=Ei(N),Te=ne(N),je=Te.length;je--;){var Ze=Te[B?je:++fe];if(V(Ce[Ze],Ze,Ce)===!1)break}return N}}function rb(B,N,V){var ne=N&y,fe=Lm(B);function Ce(){var Te=this&&this!==no&&this instanceof Ce?fe:B;return Te.apply(ne?V:this,arguments)}return Ce}function Ho(B){return function(N){N=Yi(N);var V=Fc(N)?Jr(N):n,ne=V?V[0]:N.charAt(0),fe=V?ic(V,1).join(""):N.slice(1);return ne[B]()+fe}}function Fh(B){return function(N){return lA(c2(ry(N).replace(nA,"")),B,"")}}function Lm(B){return function(){var N=arguments;switch(N.length){case 0:return new B;case 1:return new B(N[0]);case 2:return new B(N[0],N[1]);case 3:return new B(N[0],N[1],N[2]);case 4:return new B(N[0],N[1],N[2],N[3]);case 5:return new B(N[0],N[1],N[2],N[3],N[4]);case 6:return new B(N[0],N[1],N[2],N[3],N[4],N[5]);case 7:return new B(N[0],N[1],N[2],N[3],N[4],N[5],N[6])}var V=wh(B.prototype),ne=B.apply(V,N);return Ls(ne)?ne:V}}function ES(B,N,V){var ne=Lm(B);function fe(){for(var Ce=arguments.length,Te=yt(Ce),je=Ce,Ze=Zi(fe);je--;)Te[je]=arguments[je];var Ot=Ce<3&&Te[0]!==Ze&&Te[Ce-1]!==Ze?[]:$c(Te,Ze);if(Ce-=Ot.length,Ce<V)return Zf(B,N,$h,fe.placeholder,n,Te,Ot,n,n,V-Ce);var jt=this&&this!==no&&this instanceof fe?ne:B;return Ua(jt,this,Te)}return fe}function ib(B){return function(N,V,ne){var fe=Ei(N);if(!Iu(N)){var Ce=Fn(V,3);N=Ia(N),V=function(je){return Ce(fe[je],je,fe)}}var Te=B(N,V,ne);return Te>-1?fe[Ce?N[Te]:Te]:n}}function Xf(B){return yl(function(N){var V=N.length,ne=V,fe=fl.prototype.thru;for(B&&N.reverse();ne--;){var Ce=N[ne];if(typeof Ce!="function")throw new gs(o);if(fe&&!Te&&Wi(Ce)=="wrapper")var Te=new fl([],!0)}for(ne=Te?ne:V;++ne<V;){Ce=N[ne];var je=Wi(Ce),Ze=je=="wrapper"?vg(Ce):n;Ze&&Qh(Ze[0])&&Ze[1]==(M|E|D|P)&&!Ze[4].length&&Ze[9]==1?Te=Te[Wi(Ze[0])].apply(Te,Ze[3]):Te=Ce.length==1&&Qh(Ce)?Te[je]():Te.thru(Ce)}return function(){var Ot=arguments,jt=Ot[0];if(Te&&Ot.length==1&&vr(jt))return Te.plant(jt).value();for(var Gt=0,mn=V?N[Gt].apply(this,Ot):jt;++Gt<V;)mn=N[Gt].call(this,mn);return mn}})}function $h(B,N,V,ne,fe,Ce,Te,je,Ze,Ot){var jt=N&M,Gt=N&y,mn=N&A,Ln=N&(E|I),or=N&k,Yr=mn?n:Lm(B);function ar(){for(var gi=arguments.length,Di=yt(gi),Hd=gi;Hd--;)Di[Hd]=arguments[Hd];if(Ln)var gc=Zi(ar),Vd=rg(Di,gc);if(ne&&(Di=Nm(Di,ne,fe,Ln)),Ce&&(Di=FA(Di,Ce,Te,Ln)),gi-=Vd,Ln&&gi<Ot){var ta=$c(Di,gc);return Zf(B,N,$h,ar.placeholder,V,Di,ta,je,Ze,Ot-gi)}var fp=Gt?V:this,Xm=mn?fp[B]:B;return gi=Di.length,je?Di=jm(Di,je):or&&gi>1&&Di.reverse(),jt&&Ze<gi&&(Di.length=Ze),this&&this!==no&&this instanceof ar&&(Xm=Yr||Lm(Xm)),Xm.apply(fp,Di)}return ar}function Gc(B,N){return function(V,ne){return CC(V,B,N(ne),{})}}function Kc(B,N){return function(V,ne){var fe;if(V===n&&ne===n)return N;if(V!==n&&(fe=V),ne!==n){if(fe===n)return ne;typeof V=="string"||typeof ne=="string"?(V=ml(V),ne=ml(ne)):(V=Wv(V),ne=Wv(ne)),fe=B(V,ne)}return fe}}function ba(B){return yl(function(N){return N=is(N,ha(Fn())),Cr(function(V){var ne=this;return B(N,function(fe){return Ua(fe,ne,V)})})})}function zh(B,N){N=N===n?" ":ml(N);var V=N.length;if(V<2)return V?rc(N,B):N;var ne=rc(N,Qf(B/cu(N)));return Fc(N)?ic(Jr(ne),0,B).join(""):ne.slice(0,B)}function BC(B,N,V,ne){var fe=N&y,Ce=Lm(B);function Te(){for(var je=-1,Ze=arguments.length,Ot=-1,jt=ne.length,Gt=yt(jt+Ze),mn=this&&this!==no&&this instanceof Te?Ce:B;++Ot<jt;)Gt[Ot]=ne[Ot];for(;Ze--;)Gt[Ot++]=arguments[++je];return Ua(mn,fe?V:this,Gt)}return Te}function Jf(B){return function(N,V,ne){return ne&&typeof ne!="number"&&es(N,V,ne)&&(V=ne=n),N=dp(N),V===n?(V=N,N=0):V=dp(V),ne=ne===n?N<V?1:-1:dp(ne),Uv(N,V,ne,B)}}function Oh(B){return function(N,V){return typeof N=="string"&&typeof V=="string"||(N=pc(N),V=pc(V)),B(N,V)}}function Zf(B,N,V,ne,fe,Ce,Te,je,Ze,Ot){var jt=N&E,Gt=jt?Te:n,mn=jt?n:Te,Ln=jt?Ce:n,or=jt?n:Ce;N|=jt?D:T,N&=~(jt?T:D),N&C||(N&=-4);var Yr=[B,N,fe,Ln,Gt,or,mn,je,Ze,Ot],ar=V.apply(n,Yr);return Qh(B)&&UA(ar,Yr),ar.placeholder=ne,ac(ar,B,N)}function ep(B){var N=bs[B];return function(V,ne){if(V=pc(V),ne=ne==null?0:Vs(sr(ne),292),ne&&Va(V)){var fe=(Yi(V)+"e").split("e"),Ce=N(fe[0]+"e"+(+fe[1]+ne));return fe=(Yi(Ce)+"e").split("e"),+(fe[0]+"e"+(+fe[1]-ne))}return N(V)}}var DC=Md&&1/vh(new Md([,-0]))[1]==G?function(B){return new Md(B)}:_;function sb(B){return function(N){var V=hi(N);return V==Me?pA(N):V==it?bh(N):ng(N,B(N))}}function ms(B,N,V,ne,fe,Ce,Te,je){var Ze=N&A;if(!Ze&&typeof B!="function")throw new gs(o);var Ot=ne?ne.length:0;if(Ot||(N&=-97,ne=fe=n),Te=Te===n?Te:ws(sr(Te),0),je=je===n?je:sr(je),Ot-=fe?fe.length:0,N&T){var jt=ne,Gt=fe;ne=fe=n}var mn=Ze?n:vg(B),Ln=[B,N,V,ne,fe,jt,Gt,Ce,Te,je];if(mn&&QA(Ln,mn),B=Ln[0],N=Ln[1],V=Ln[2],ne=Ln[3],fe=Ln[4],je=Ln[9]=Ln[9]===n?Ze?0:B.length:ws(Ln[9]-Ot,0),!je&&N&(E|I)&&(N&=-25),!N||N==y)var or=rb(B,N,V);else N==E||N==I?or=ES(B,N,je):(N==D||N==(y|D))&&!fe.length?or=BC(B,N,V,ne):or=$h.apply(n,Ln);var Yr=mn?Vv:UA;return ac(Yr(or,Ln),B,N)}function OA(B,N,V,ne){return B===n||hc(B,Ku[V])&&!yi.call(ne,V)?N:B}function ob(B,N,V,ne,fe,Ce){return Ls(B)&&Ls(N)&&(Ce.set(N,B),Mm(B,N,n,ob,Ce),Ce.delete(N)),B}function jA(B){return pb(B)?n:B}function Fm(B,N,V,ne,fe,Ce){var Te=V&m,je=B.length,Ze=N.length;if(je!=Ze&&!(Te&&Ze>je))return!1;var Ot=Ce.get(B),jt=Ce.get(N);if(Ot&&jt)return Ot==N&&jt==B;var Gt=-1,mn=!0,Ln=V&v?new pu:n;for(Ce.set(B,N),Ce.set(N,B);++Gt<je;){var or=B[Gt],Yr=N[Gt];if(ne)var ar=Te?ne(Yr,or,Gt,N,B,Ce):ne(or,Yr,Gt,B,N,Ce);if(ar!==n){if(ar)continue;mn=!1;break}if(Ln){if(!cA(N,function(gi,Di){if(!Xo(Ln,Di)&&(or===gi||fe(or,gi,V,ne,Ce)))return Ln.push(Di)})){mn=!1;break}}else if(!(or===Yr||fe(or,Yr,V,ne,Ce))){mn=!1;break}}return Ce.delete(B),Ce.delete(N),mn}function TC(B,N,V,ne,fe,Ce,Te){switch(V){case ze:if(B.byteLength!=N.byteLength||B.byteOffset!=N.byteOffset)return!1;B=B.buffer,N=N.buffer;case Be:return!(B.byteLength!=N.byteLength||!Ce(new Eh(B),new Eh(N)));case ge:case _e:case Ue:return hc(+B,+N);case ke:return B.name==N.name&&B.message==N.message;case gt:case ot:return B==N+"";case Me:var je=pA;case it:var Ze=ne&m;if(je||(je=vh),B.size!=N.size&&!Ze)return!1;var Ot=Te.get(B);if(Ot)return Ot==N;ne|=v,Te.set(B,N);var jt=Fm(je(B),je(N),ne,fe,Ce,Te);return Te.delete(B),jt;case le:if(ug)return ug.call(B)==ug.call(N)}return!1}function ab(B,N,V,ne,fe,Ce){var Te=V&m,je=xa(B),Ze=je.length,Ot=xa(N),jt=Ot.length;if(Ze!=jt&&!Te)return!1;for(var Gt=Ze;Gt--;){var mn=je[Gt];if(!(Te?mn in N:yi.call(N,mn)))return!1}var Ln=Ce.get(B),or=Ce.get(N);if(Ln&&or)return Ln==N&&or==B;var Yr=!0;Ce.set(B,N),Ce.set(N,B);for(var ar=Te;++Gt<Ze;){mn=je[Gt];var gi=B[mn],Di=N[mn];if(ne)var Hd=Te?ne(Di,gi,mn,N,B,Ce):ne(gi,Di,mn,B,N,Ce);if(!(Hd===n?gi===Di||fe(gi,Di,V,ne,Ce):Hd)){Yr=!1;break}ar||(ar=mn=="constructor")}if(Yr&&!ar){var gc=B.constructor,Vd=N.constructor;gc!=Vd&&"constructor"in B&&"constructor"in N&&!(typeof gc=="function"&&gc instanceof gc&&typeof Vd=="function"&&Vd instanceof Vd)&&(Yr=!1)}return Ce.delete(B),Ce.delete(N),Yr}function yl(B){return $d(qc(B,n,oi),B+"")}function xa(B){return EA(B,Ia,Cu)}function Ka(B){return EA(B,Du,Ul)}var vg=Gs?function(B){return Gs.get(B)}:_;function Wi(B){for(var N=B.name+"",V=Si[N],ne=yi.call(Si,N)?V.length:0;ne--;){var fe=V[ne],Ce=fe.func;if(Ce==null||Ce==B)return fe.name}return N}function Zi(B){var N=yi.call(Ae,"placeholder")?Ae:B;return N.placeholder}function Fn(){var B=Ae.iteratee||Cb;return B=B===Cb?gg:B,arguments.length?B(arguments[0],arguments[1]):B}function jh(B,N){var V=B.__data__;return bg(N)?V[typeof N=="string"?"string":"hash"]:V.map}function Wa(B){for(var N=Ia(B),V=N.length;V--;){var ne=N[V],fe=B[ne];N[V]=[ne,fe,Su(fe)]}return N}function Bo(B,N){var V=Dv(B,N);return Tm(V)?V:n}function sc(B){var N=yi.call(B,Hs),V=B[Hs];try{B[Hs]=n;var ne=!0}catch{}var fe=Co.call(B);return ne&&(N?B[Hs]=V:delete B[Hs]),fe}var Cu=Fl?function(B){return B==null?[]:(B=Ei(B),Rc(Fl(B),function(N){return jf.call(B,N)}))}:$t,Ul=Fl?function(B){for(var N=[];B;)Nc(N,Cu(B)),B=qu(B);return N}:$t,hi=ea;(du&&hi(new du(new ArrayBuffer(1)))!=ze||zl&&hi(new zl)!=Me||wm&&hi(wm.resolve())!=ve||Md&&hi(new Md)!=it||hu&&hi(new hu)!=Se)&&(hi=function(B){var N=ea(B),V=N==ut?B.constructor:n,ne=V?To(V):"";if(ne)switch(ne){case Zr:return ze;case Pd:return Me;case Oo:return ve;case AA:return it;case Wr:return Se}return N});function $m(B,N,V){for(var ne=-1,fe=V.length;++ne<fe;){var Ce=V[ne],Te=Ce.size;switch(Ce.type){case"drop":B+=Te;break;case"dropRight":N-=Te;break;case"take":N=Vs(N,B+Te);break;case"takeRight":B=ws(B,N-Te);break}}return{start:B,end:N}}function oc(B){var N=B.match(zr);return N?N[1].split(ii):[]}function tp(B,N,V){N=Ql(N,B);for(var ne=-1,fe=N.length,Ce=!1;++ne<fe;){var Te=Do(N[ne]);if(!(Ce=B!=null&&V(B,Te)))break;B=B[Te]}return Ce||++ne!=fe?Ce:(fe=B==null?0:B.length,!!fe&&FC(fe)&&Vl(Te,fe)&&(vr(B)||qm(B)))}function Ca(B){var N=B.length,V=new B.constructor(N);return N&&typeof B[0]=="string"&&yi.call(B,"index")&&(V.index=B.index,V.input=B.input),V}function Vo(B){return typeof B.constructor=="function"&&!Ld(B)?wh(qu(B)):{}}function fi(B,N,V){var ne=B.constructor;switch(N){case Be:return Rm(B);case ge:case _e:return new ne(+B);case ze:return wC(B,V);case kt:case Et:case zt:case Mt:case at:case At:case Pt:case wt:case Lt:return Al(B,V);case Me:return new ne;case Ue:case ot:return new ne(B);case gt:return _C(B);case it:return new ne;case le:return IC(B)}}function Hl(B,N){var V=N.length;if(!V)return B;var ne=V-1;return N[ne]=(V>1?"& ":"")+N[ne],N=N.join(V>2?", ":" "),B.replace(yr,`{
/* [wrapped with `+N+`] */
`)}function Eu(B){return vr(B)||qm(B)||!!(Pv&&B&&B[Pv])}function Vl(B,N){var V=typeof B;return N=N??q,!!N&&(V=="number"||V!="symbol"&&au.test(B))&&B>-1&&B%1==0&&B<N}function es(B,N,V){if(!Ls(V))return!1;var ne=typeof N;return(ne=="number"?Iu(V)&&Vl(N,V.length):ne=="string"&&N in V)?hc(V[N],B):!1}function Wc(B,N){if(vr(B))return!1;var V=typeof B;return V=="number"||V=="symbol"||V=="boolean"||B==null||Bu(B)?!0:Ht.test(B)||!Rt.test(B)||N!=null&&B in Ei(N)}function bg(B){var N=typeof B;return N=="string"||N=="number"||N=="symbol"||N=="boolean"?B!=="__proto__":B===null}function Qh(B){var N=Wi(B),V=Ae[N];if(typeof V!="function"||!(N in hr.prototype))return!1;if(B===V)return!0;var ne=vg(V);return!!ne&&B===ne[0]}function np(B){return!!xm&&xm in B}var zm=Wu?fc:ft;function Ld(B){var N=B&&B.constructor,V=typeof N=="function"&&N.prototype||Ku;return B===V}function Su(B){return B===B&&!Ls(B)}function Fd(B,N){return function(V){return V==null?!1:V[B]===N&&(N!==n||B in Ei(V))}}function Om(B){var N=cb(B,function(ne){return V.size===u&&V.clear(),ne}),V=N.cache;return N}function QA(B,N){var V=B[1],ne=N[1],fe=V|ne,Ce=fe<(y|A|M),Te=ne==M&&V==E||ne==M&&V==P&&B[7].length<=N[8]||ne==(M|P)&&N[7].length<=N[8]&&V==E;if(!(Ce||Te))return B;ne&y&&(B[2]=N[2],fe|=V&y?0:C);var je=N[3];if(je){var Ze=B[3];B[3]=Ze?Nm(Ze,je,N[4]):je,B[4]=Ze?$c(B[3],c):N[4]}return je=N[5],je&&(Ze=B[5],B[5]=Ze?FA(Ze,je,N[6]):je,B[6]=Ze?$c(B[5],c):N[6]),je=N[7],je&&(B[7]=je),ne&M&&(B[8]=B[8]==null?N[8]:Vs(B[8],N[8])),B[9]==null&&(B[9]=N[9]),B[0]=N[0],B[1]=fe,B}function vl(B){var N=[];if(B!=null)for(var V in Ei(B))N.push(V);return N}function Uh(B){return Co.call(B)}function qc(B,N,V){return N=ws(N===n?B.length-1:N,0),function(){for(var ne=arguments,fe=-1,Ce=ws(ne.length-N,0),Te=yt(Ce);++fe<Ce;)Te[fe]=ne[N+fe];fe=-1;for(var je=yt(N+1);++fe<N;)je[fe]=ne[fe];return je[N]=V(Te),Ua(B,this,je)}}function rp(B,N){return N.length<2?B:Ks(B,gl(N,0,-1))}function jm(B,N){for(var V=B.length,ne=Vs(N.length,V),fe=va(B);ne--;){var Ce=N[ne];B[ne]=Vl(Ce,V)?fe[Ce]:n}return B}function wi(B,N){if(!(N==="constructor"&&typeof B[N]=="function")&&N!="__proto__")return B[N]}var UA=Gl(Vv),Hh=Td||function(B,N){return no.setTimeout(B,N)},$d=Gl(Gv);function ac(B,N,V){var ne=N+"";return $d(B,Hl(ne,Kl(oc(ne),V)))}function Gl(B){var N=0,V=0;return function(){var ne=$l(),fe=j-(ne-V);if(V=ne,fe>0){if(++N>=z)return arguments[0]}else N=0;return B.apply(n,arguments)}}function lc(B,N){var V=-1,ne=B.length,fe=ne-1;for(N=N===n?ne:N;++V<N;){var Ce=Ag(V,fe),Te=B[Ce];B[Ce]=B[V],B[V]=Te}return B.length=N,B}var HA=Om(function(B){var N=[];return B.charCodeAt(0)===46&&N.push(""),B.replace(Vn,function(V,ne,fe,Ce){N.push(fe?Ce.replace(Hi,"$1"):ne||V)}),N});function Do(B){if(typeof B=="string"||Bu(B))return B;var N=B+"";return N=="0"&&1/B==-G?"-0":N}function To(B){if(B!=null){try{return lg.call(B)}catch{}try{return B+""}catch{}}return""}function Kl(B,N){return cl(ie,function(V){var ne="_."+V[0];N&V[1]&&!Am(B,ne)&&B.push(ne)}),B.sort()}function Wl(B){if(B instanceof hr)return B.clone();var N=new fl(B.__wrapped__,B.__chain__);return N.__actions__=va(B.__actions__),N.__index__=B.__index__,N.__values__=B.__values__,N}function ro(B,N,V){(V?es(B,N,V):N===n)?N=1:N=ws(sr(N),0);var ne=B==null?0:B.length;if(!ne||N<1)return[];for(var fe=0,Ce=0,Te=yt(Qf(ne/N));fe<ne;)Te[Ce++]=gl(B,fe,fe+=N);return Te}function Yc(B){for(var N=-1,V=B==null?0:B.length,ne=0,fe=[];++N<V;){var Ce=B[N];Ce&&(fe[ne++]=Ce)}return fe}function wr(){var B=arguments.length;if(!B)return[];for(var N=yt(B-1),V=arguments[0],ne=B;ne--;)N[ne-1]=arguments[ne];return Nc(vr(V)?va(V):[V],So(N,1))}var _i=Cr(function(B,N){return ko(B)?Au(B,So(N,1,ko,!0)):[]}),qs=Cr(function(B,N){var V=pi(N);return ko(V)&&(V=n),ko(B)?Au(B,So(N,1,ko,!0),Fn(V,2)):[]}),wu=Cr(function(B,N){var V=pi(N);return ko(V)&&(V=n),ko(B)?Au(B,So(N,1,ko,!0),n,V):[]});function As(B,N,V){var ne=B==null?0:B.length;return ne?(N=V||N===n?1:sr(N),gl(B,N<0?0:N,ne)):[]}function zd(B,N,V){var ne=B==null?0:B.length;return ne?(N=V||N===n?1:sr(N),N=ne-N,gl(B,0,N<0?0:N)):[]}function Qm(B,N){return B&&B.length?km(B,Fn(N,3),!0,!0):[]}function Rs(B,N){return B&&B.length?km(B,Fn(N,3),!0):[]}function xg(B,N,V,ne){var fe=B==null?0:B.length;return fe?(V&&typeof V!="number"&&es(B,N,V)&&(V=0,ne=fe),kh(B,N,V,ne)):[]}function lb(B,N,V){var ne=B==null?0:B.length;if(!ne)return-1;var fe=V==null?0:sr(V);return fe<0&&(fe=ws(ne+fe,0)),Gu(B,Fn(N,3),fe)}function Um(B,N,V){var ne=B==null?0:B.length;if(!ne)return-1;var fe=ne-1;return V!==n&&(fe=sr(V),fe=V<0?ws(ne+fe,0):Vs(fe,ne-1)),Gu(B,Fn(N,3),fe,!0)}function oi(B){var N=B==null?0:B.length;return N?So(B,1):[]}function io(B){var N=B==null?0:B.length;return N?So(B,G):[]}function Ea(B,N){var V=B==null?0:B.length;return V?(N=N===n?1:sr(N),So(B,N)):[]}function Vh(B){for(var N=-1,V=B==null?0:B.length,ne={};++N<V;){var fe=B[N];ne[fe[0]]=fe[1]}return ne}function Hm(B){return B&&B.length?B[0]:n}function ub(B,N,V){var ne=B==null?0:B.length;if(!ne)return-1;var fe=V==null?0:sr(V);return fe<0&&(fe=ws(ne+fe,0)),dl(B,N,fe)}function MC(B){var N=B==null?0:B.length;return N?gl(B,0,-1):[]}var Ys=Cr(function(B){var N=is(B,Jv);return N.length&&N[0]===B[0]?Dm(N):[]}),Sa=Cr(function(B){var N=pi(B),V=is(B,Jv);return N===pi(V)?N=n:V.pop(),V.length&&V[0]===B[0]?Dm(V,Fn(N,2)):[]}),bl=Cr(function(B){var N=pi(B),V=is(B,Jv);return N=typeof N=="function"?N:n,N&&V.pop(),V.length&&V[0]===B[0]?Dm(V,n,N):[]});function Gh(B,N){return B==null?"":Xu.call(B,N)}function pi(B){var N=B==null?0:B.length;return N?B[N-1]:n}function kC(B,N,V){var ne=B==null?0:B.length;if(!ne)return-1;var fe=ne;return V!==n&&(fe=sr(V),fe=fe<0?ws(ne+fe,0):Vs(fe,ne-1)),N===N?yC(B,N,fe):Gu(B,dA,fe,!0)}function Od(B,N){return B&&B.length?BA(B,sr(N)):n}var ip=Cr(Ii);function Ii(B,N){return B&&B.length&&N&&N.length?qf(B,N):B}function VA(B,N,V){return B&&B.length&&N&&N.length?qf(B,N,Fn(V,2)):B}function jd(B,N,V){return B&&B.length&&N&&N.length?qf(B,N,n,V):B}var Mo=yl(function(B,N){var V=B==null?0:B.length,ne=fg(B,N);return mg(B,is(N,function(fe){return Vl(fe,V)?+fe:fe}).sort(NA)),ne});function _s(B,N){var V=[];if(!(B&&B.length))return V;var ne=-1,fe=[],Ce=B.length;for(N=Fn(N,3);++ne<Ce;){var Te=B[ne];N(Te,ne,B)&&(V.push(Te),fe.push(ne))}return mg(B,fe),V}function Xc(B){return B==null?B:Oc.call(B)}function Cg(B,N,V){var ne=B==null?0:B.length;return ne?(V&&typeof V!="number"&&es(B,N,V)?(N=0,V=ne):(N=N==null?0:sr(N),V=V===n?ne:sr(V)),gl(B,N,V)):[]}function Ns(B,N){return Nh(B,N)}function sp(B,N,V){return kA(B,N,Fn(V,2))}function Xs(B,N){var V=B==null?0:B.length;if(V){var ne=Nh(B,N);if(ne<V&&hc(B[ne],N))return ne}return-1}function xl(B,N){return Nh(B,N,!0)}function qa(B,N,V){return kA(B,N,Fn(V,2),!0)}function op(B,N){var V=B==null?0:B.length;if(V){var ne=Nh(B,N,!0)-1;if(hc(B[ne],N))return ne}return-1}function GA(B){return B&&B.length?EC(B):[]}function Vm(B,N){return B&&B.length?EC(B,Fn(N,2)):[]}function KA(B){var N=B==null?0:B.length;return N?gl(B,1,N):[]}function WA(B,N,V){return B&&B.length?(N=V||N===n?1:sr(N),gl(B,0,N<0?0:N)):[]}function ai(B,N,V){var ne=B==null?0:B.length;return ne?(N=V||N===n?1:sr(N),N=ne-N,gl(B,N<0?0:N,ne)):[]}function Mi(B,N){return B&&B.length?km(B,Fn(N,3),!1,!0):[]}function _r(B,N){return B&&B.length?km(B,Fn(N,3)):[]}var qr=Cr(function(B){return Vc(So(B,1,ko,!0))}),Nn=Cr(function(B){var N=pi(B);return ko(N)&&(N=n),Vc(So(B,1,ko,!0),Fn(N,2))}),Fr=Cr(function(B){var N=pi(B);return N=typeof N=="function"?N:n,Vc(So(B,1,ko,!0),n,N)});function fr(B){return B&&B.length?Vc(B):[]}function Mr(B,N){return B&&B.length?Vc(B,Fn(N,2)):[]}function qi(B,N){return N=typeof N=="function"?N:n,B&&B.length?Vc(B,n,N):[]}function Is(B){if(!(B&&B.length))return[];var N=0;return B=Rc(B,function(V){if(ko(V))return N=ws(V.length,N),!0}),tg(N,function(V){return is(B,Lc(V))})}function Bi(B,N){if(!(B&&B.length))return[];var V=Is(B);return N==null?V:is(V,function(ne){return Ua(N,n,ne)})}var ql=Cr(function(B,N){return ko(B)?Au(B,N):[]}),Qd=Cr(function(B){return PA(Rc(B,ko))}),uc=Cr(function(B){var N=pi(B);return ko(N)&&(N=n),PA(Rc(B,ko),Fn(N,2))}),li=Cr(function(B){var N=pi(B);return N=typeof N=="function"?N:n,PA(Rc(B,ko),n,N)}),Yl=Cr(Is);function cc(B,N){return Xv(B||[],N||[],tc)}function wa(B,N){return Xv(B||[],N||[],Yf)}var Cl=Cr(function(B){var N=B.length,V=N>1?B[N-1]:n;return V=typeof V=="function"?(B.pop(),V):n,Bi(B,V)});function Jc(B){var N=Ae(B);return N.__chain__=!0,N}function Eg(B,N){return N(B),B}function _a(B,N){return N(B)}var Sg=yl(function(B){var N=B.length,V=N?B[0]:0,ne=this.__wrapped__,fe=function(Ce){return fg(Ce,B)};return N>1||this.__actions__.length||!(ne instanceof hr)||!Vl(V)?this.thru(fe):(ne=ne.slice(V,+V+(N?1:0)),ne.__actions__.push({func:_a,args:[fe],thisArg:n}),new fl(ne,this.__chain__).thru(function(Ce){return N&&!Ce.length&&Ce.push(n),Ce}))});function Zc(){return Jc(this)}function Bs(){return new fl(this.value(),this.__chain__)}function dc(){this.__values__===n&&(this.__values__=Q4(this.value()));var B=this.__index__>=this.__values__.length,N=B?n:this.__values__[this.__index__++];return{done:B,value:N}}function Xl(){return this}function _u(B){for(var N,V=this;V instanceof _h;){var ne=Wl(V);ne.__index__=0,ne.__values__=n,N?fe.__wrapped__=ne:N=ne;var fe=ne;V=V.__wrapped__}return fe.__wrapped__=B,N}function Ud(){var B=this.__wrapped__;if(B instanceof hr){var N=B;return this.__actions__.length&&(N=new hr(this)),N=N.reverse(),N.__actions__.push({func:_a,args:[Xc],thisArg:n}),new fl(N,this.__chain__)}return this.thru(Xc)}function ap(){return Yv(this.__wrapped__,this.__actions__)}var qA=$A(function(B,N,V){yi.call(B,V)?++B[V]:ga(B,V,1)});function lp(B,N,V){var ne=vr(B)?aA:Uc;return V&&es(B,N,V)&&(N=n),ne(B,Fn(N,3))}function up(B,N){var V=vr(B)?Rc:Bm;return V(B,Fn(N,3))}var Ya=ib(lb),S=ib(Um);function w(B,N){return So(Zt(B,N),1)}function F(B,N){return So(Zt(B,N),G)}function U(B,N,V){return V=V===n?1:sr(V),So(Zt(B,N),V)}function X(B,N){var V=vr(B)?cl:Qc;return V(B,Fn(N,3))}function re(B,N){var V=vr(B)?mC:CA;return V(B,Fn(N,3))}var be=$A(function(B,N,V){yi.call(B,V)?B[V].push(N):ga(B,V,[N])});function Re(B,N,V,ne){B=Iu(B)?B:ny(B),V=V&&!ne?sr(V):0;var fe=B.length;return V<0&&(V=ws(fe+V,0)),Ab(B)?V<=fe&&B.indexOf(N,V)>-1:!!fe&&dl(B,N,V)>-1}var Je=Cr(function(B,N,V){var ne=-1,fe=typeof N=="function",Ce=Iu(B)?yt(B.length):[];return Qc(B,function(Te){Ce[++ne]=fe?Ua(N,Te,V):jl(Te,N,V)}),Ce}),Tt=$A(function(B,N,V){ga(B,V,N)});function Zt(B,N){var V=vr(B)?is:_A;return V(B,Fn(N,3))}function dn(B,N,V,ne){return B==null?[]:(vr(N)||(N=N==null?[]:[N]),V=ne?n:V,vr(V)||(V=V==null?[]:[V]),DA(B,N,V))}var gn=$A(function(B,N,V){B[V?0:1].push(N)},function(){return[[],[]]});function dr(B,N,V){var ne=vr(B)?lA:$o,fe=arguments.length<3;return ne(B,Fn(N,4),V,fe,Qc)}function El(B,N,V){var ne=vr(B)?uA:$o,fe=arguments.length<3;return ne(B,Fn(N,4),V,fe,CA)}function Gm(B,N){var V=vr(B)?Rc:Bm;return V(B,PC(Fn(N,3)))}function cp(B){var N=vr(B)?mu:Hv;return N(B)}function ht(B,N,V){(V?es(B,N,V):N===n)?N=1:N=sr(N);var ne=vr(B)?_m:TA;return ne(B,N)}function qe(B){var N=vr(B)?xC:Kv;return N(B)}function vt(B){if(B==null)return 0;if(Iu(B))return Ab(B)?cu(B):B.length;var N=hi(B);return N==Me||N==it?B.size:bu(B).length}function Kt(B,N,V){var ne=vr(B)?cA:MA;return V&&es(B,N,V)&&(N=n),ne(B,Fn(N,3))}var kn=Cr(function(B,N){if(B==null)return[];var V=N.length;return V>1&&es(B,N[0],N[1])?N=[]:V>2&&es(N[0],N[1],N[2])&&(N=[N[0]]),DA(B,So(N,1),[])}),zi=Em||function(){return no.Date.now()};function Jn(B,N){if(typeof N!="function")throw new gs(o);return B=sr(B),function(){if(--B<1)return N.apply(this,arguments)}}function ui(B,N,V){return N=V?n:N,N=B&&N==null?B.length:N,ms(B,M,n,n,n,n,N)}function so(B,N){var V;if(typeof N!="function")throw new gs(o);return B=sr(B),function(){return--B>0&&(V=N.apply(this,arguments)),B<=1&&(N=n),V}}var ei=Cr(function(B,N,V){var ne=y;if(V.length){var fe=$c(V,Zi(ei));ne|=D}return ms(B,ne,N,V,fe)}),ed=Cr(function(B,N,V){var ne=y|A;if(V.length){var fe=$c(V,Zi(ed));ne|=D}return ms(N,ne,B,V,fe)});function Km(B,N,V){N=V?n:N;var ne=ms(B,E,n,n,n,n,n,N);return ne.placeholder=Km.placeholder,ne}function SS(B,N,V){N=V?n:N;var ne=ms(B,I,n,n,n,n,n,N);return ne.placeholder=SS.placeholder,ne}function wS(B,N,V){var ne,fe,Ce,Te,je,Ze,Ot=0,jt=!1,Gt=!1,mn=!0;if(typeof B!="function")throw new gs(o);N=pc(N)||0,Ls(V)&&(jt=!!V.leading,Gt="maxWait"in V,Ce=Gt?ws(pc(V.maxWait)||0,N):Ce,mn="trailing"in V?!!V.trailing:mn);function Ln(ta){var fp=ne,Xm=fe;return ne=fe=n,Ot=ta,Te=B.apply(Xm,fp),Te}function or(ta){return Ot=ta,je=Hh(gi,N),jt?Ln(ta):Te}function Yr(ta){var fp=ta-Ze,Xm=ta-Ot,g7=N-fp;return Gt?Vs(g7,Ce-Xm):g7}function ar(ta){var fp=ta-Ze,Xm=ta-Ot;return Ze===n||fp>=N||fp<0||Gt&&Xm>=Ce}function gi(){var ta=zi();if(ar(ta))return Di(ta);je=Hh(gi,Yr(ta))}function Di(ta){return je=n,mn&&ne?Ln(ta):(ne=fe=n,Te)}function Hd(){je!==n&&Pm(je),Ot=0,ne=Ze=fe=je=n}function gc(){return je===n?Te:Di(zi())}function Vd(){var ta=zi(),fp=ar(ta);if(ne=arguments,fe=this,Ze=ta,fp){if(je===n)return or(Ze);if(Gt)return Pm(je),je=Hh(gi,N),Ln(Ze)}return je===n&&(je=Hh(gi,N)),Te}return Vd.cancel=Hd,Vd.flush=gc,Vd}var ts=Cr(function(B,N){return Ov(B,1,N)}),_S=Cr(function(B,N,V){return Ov(B,pc(N)||0,V)});function _M(B){return ms(B,k)}function cb(B,N){if(typeof B!="function"||N!=null&&typeof N!="function")throw new gs(o);var V=function(){var ne=arguments,fe=N?N.apply(this,ne):ne[0],Ce=V.cache;if(Ce.has(fe))return Ce.get(fe);var Te=B.apply(this,ne);return V.cache=Ce.set(fe,Te)||Ce,Te};return V.cache=new(cb.Cache||Zu),V}cb.Cache=Zu;function PC(B){if(typeof B!="function")throw new gs(o);return function(){var N=arguments;switch(N.length){case 0:return!B.call(this);case 1:return!B.call(this,N[0]);case 2:return!B.call(this,N[0],N[1]);case 3:return!B.call(this,N[0],N[1],N[2])}return!B.apply(this,N)}}function IM(B){return so(2,B)}var BM=SC(function(B,N){N=N.length==1&&vr(N[0])?is(N[0],ha(Fn())):is(So(N,1),ha(Fn()));var V=N.length;return Cr(function(ne){for(var fe=-1,Ce=Vs(ne.length,V);++fe<Ce;)ne[fe]=N[fe].call(this,ne[fe]);return Ua(B,this,ne)})}),YA=Cr(function(B,N){var V=$c(N,Zi(YA));return ms(B,D,n,N,V)}),Wm=Cr(function(B,N){var V=$c(N,Zi(Wm));return ms(B,T,n,N,V)}),IS=yl(function(B,N){return ms(B,P,n,n,n,N)});function RC(B,N){if(typeof B!="function")throw new gs(o);return N=N===n?N:sr(N),Cr(B,N)}function BS(B,N){if(typeof B!="function")throw new gs(o);return N=N==null?0:ws(sr(N),0),Cr(function(V){var ne=V[N],fe=ic(V,0,N);return ne&&Nc(fe,ne),Ua(B,this,fe)})}function wg(B,N,V){var ne=!0,fe=!0;if(typeof B!="function")throw new gs(o);return Ls(V)&&(ne="leading"in V?!!V.leading:ne,fe="trailing"in V?!!V.trailing:fe),wS(B,N,{leading:ne,maxWait:N,trailing:fe})}function Kh(B){return ui(B,1)}function db(B,N){return YA(RA(N),B)}function DM(){if(!arguments.length)return[];var B=arguments[0];return vr(B)?B:[B]}function T4(B){return ma(B,p)}function M4(B,N){return N=typeof N=="function"?N:n,ma(B,p,N)}function k4(B){return ma(B,d|p)}function P4(B,N){return N=typeof N=="function"?N:n,ma(B,d|p,N)}function TM(B,N){return N==null||Mh(B,N,Ia(N))}function hc(B,N){return B===N||B!==B&&N!==N}var R4=Oh(Qo),N4=Oh(function(B,N){return B>=N}),qm=pl((function(){return arguments})())?pl:function(B){return oo(B)&&yi.call(B,"callee")&&!jf.call(B,"callee")},vr=yt.isArray,DS=xv?ha(xv):ks;function Iu(B){return B!=null&&FC(B.length)&&!fc(B)}function ko(B){return oo(B)&&Iu(B)}function hb(B){return B===!0||B===!1||oo(B)&&ea(B)==ge}var _g=Rv||ft,L4=Cv?ha(Cv):SA;function ti(B){return oo(B)&&B.nodeType===1&&!pb(B)}function TS(B){if(B==null)return!0;if(Iu(B)&&(vr(B)||typeof B=="string"||typeof B.splice=="function"||_g(B)||Ig(B)||qm(B)))return!B.length;var N=hi(B);if(N==Me||N==it)return!B.size;if(Ld(B))return!bu(B).length;for(var V in B)if(yi.call(B,V))return!1;return!0}function NC(B,N){return Uo(B,N)}function MS(B,N,V){V=typeof V=="function"?V:n;var ne=V?V(B,N):n;return ne===n?Uo(B,N,n,V):!!ne}function LC(B){if(!oo(B))return!1;var N=ea(B);return N==ke||N==we||typeof B.message=="string"&&typeof B.name=="string"&&!pb(B)}function kS(B){return typeof B=="number"&&Va(B)}function fc(B){if(!Ls(B))return!1;var N=ea(B);return N==Fe||N==Ee||N==de||N==$e}function fb(B){return typeof B=="number"&&B==sr(B)}function FC(B){return typeof B=="number"&&B>-1&&B%1==0&&B<=q}function Ls(B){var N=typeof B;return B!=null&&(N=="object"||N=="function")}function oo(B){return B!=null&&typeof B=="object"}var F4=mm?ha(mm):Ki;function $4(B,N){return B===N||Ps(B,N,Wa(N))}function z4(B,N,V){return V=typeof V=="function"?V:n,Ps(B,N,Wa(N),V)}function ss(B){return RS(B)&&B!=+B}function PS(B){if(zm(B))throw new rr(s);return Tm(B)}function Xa(B){return B===null}function MM(B){return B==null}function RS(B){return typeof B=="number"||oo(B)&&ea(B)==Ue}function pb(B){if(!oo(B)||ea(B)!=ut)return!1;var N=qu(B);if(N===null)return!0;var V=yi.call(N,"constructor")&&N.constructor;return typeof V=="function"&&V instanceof V&&lg.call(V)==Ch}var gb=Ev?ha(Ev):Hc;function NS(B){return fb(B)&&B>=-q&&B<=q}var mb=Sv?ha(Sv):Wf;function Ab(B){return typeof B=="string"||!vr(B)&&oo(B)&&ea(B)==ot}function Bu(B){return typeof B=="symbol"||oo(B)&&ea(B)==le}var Ig=eg?ha(eg):wA;function LS(B){return B===n}function kM(B){return oo(B)&&hi(B)==Se}function O4(B){return oo(B)&&ea(B)==De}var PM=Oh(xs),j4=Oh(function(B,N){return B<=N});function Q4(B){if(!B)return[];if(Iu(B))return Ab(B)?Jr(B):va(B);if(Eo&&B[Eo])return ps(B[Eo]());var N=hi(B),V=N==Me?pA:N==it?vh:ny;return V(B)}function dp(B){if(!B)return B===0?B:0;if(B=pc(B),B===G||B===-G){var N=B<0?-1:1;return N*J}return B===B?B:0}function sr(B){var N=dp(B),V=N%1;return N===N?V?N-V:N:0}function FS(B){return B?nc(sr(B),0,Y):0}function pc(B){if(typeof B=="number")return B;if(Bu(B))return te;if(Ls(B)){var N=typeof B.valueOf=="function"?B.valueOf():B;B=Ls(N)?N+"":N}if(typeof B!="string")return B===0?B:+B;B=Bd(B);var V=Tc.test(B);return V||Nl.test(B)?gm(B.slice(2),V?2:8):ul.test(B)?te:+B}function $C(B){return xu(B,Du(B))}function RM(B){return B?nc(sr(B),-q,q):B===0?B:0}function Yi(B){return B==null?"":ml(B)}var U4=Lh(function(B,N){if(Ld(N)||Iu(N)){xu(N,Ia(N),B);return}for(var V in N)yi.call(N,V)&&tc(B,V,N[V])}),zC=Lh(function(B,N){xu(N,Du(N),B)}),XA=Lh(function(B,N,V,ne){xu(N,Du(N),B,ne)}),NM=Lh(function(B,N,V,ne){xu(N,Ia(N),B,ne)}),td=yl(fg);function $S(B,N){var V=wh(B);return N==null?V:xA(V,N)}var H4=Cr(function(B,N){B=Ei(B);var V=-1,ne=N.length,fe=ne>2?N[2]:n;for(fe&&es(N[0],N[1],fe)&&(ne=1);++V<ne;)for(var Ce=N[V],Te=Du(Ce),je=-1,Ze=Te.length;++je<Ze;){var Ot=Te[je],jt=B[Ot];(jt===n||hc(jt,Ku[Ot])&&!yi.call(B,Ot))&&(B[Ot]=Ce[Ot])}return B}),V4=Cr(function(B){return B.push(n,ob),Ua(ZA,n,B)});function G4(B,N){return _v(B,Fn(N,3),wo)}function yb(B,N){return _v(B,Fn(N,3),_o)}function nd(B,N){return B==null?B:Kf(B,Fn(N,3),Du)}function K4(B,N){return B==null?B:Ph(B,Fn(N,3),Du)}function OC(B,N){return B&&wo(B,Fn(N,3))}function hp(B,N){return B&&_o(B,Fn(N,3))}function LM(B){return B==null?[]:Aa(B,Ia(B))}function FM(B){return B==null?[]:Aa(B,Du(B))}function Bg(B,N,V){var ne=B==null?n:Ks(B,N);return ne===n?V:ne}function W4(B,N){return B!=null&&tp(B,N,Io)}function zS(B,N){return B!=null&&tp(B,N,vu)}var $M=Gc(function(B,N,V){N!=null&&typeof N.toString!="function"&&(N=Co.call(N)),B[N]=V},iy(Jl)),zM=Gc(function(B,N,V){N!=null&&typeof N.toString!="function"&&(N=Co.call(N)),yi.call(B,N)?B[N].push(V):B[N]=[V]},Fn),OM=Cr(jl);function Ia(B){return Iu(B)?hg(B):bu(B)}function Du(B){return Iu(B)?hg(B,!0):xS(B)}function jM(B,N){var V={};return N=Fn(N,3),wo(B,function(ne,fe,Ce){ga(V,N(ne,fe,Ce),ne)}),V}function q4(B,N){var V={};return N=Fn(N,3),wo(B,function(ne,fe,Ce){ga(V,fe,N(ne,fe,Ce))}),V}var JA=Lh(function(B,N,V){Mm(B,N,V)}),ZA=Lh(function(B,N,V,ne){Mm(B,N,V,ne)}),Y4=yl(function(B,N){var V={};if(B==null)return V;var ne=!1;N=is(N,function(Ce){return Ce=Ql(Ce,B),ne||(ne=Ce.length>1),Ce}),xu(B,Ka(B),V),ne&&(V=ma(V,d|f|p,jA));for(var fe=N.length;fe--;)yg(V,N[fe]);return V});function QM(B,N){return ty(B,PC(Fn(N)))}var ey=yl(function(B,N){return B==null?{}:Qv(B,N)});function ty(B,N){if(B==null)return{};var V=is(Ka(B),function(ne){return[ne]});return N=Fn(N),ya(B,V,function(ne,fe){return N(ne,fe[0])})}function X4(B,N,V){N=Ql(N,B);var ne=-1,fe=N.length;for(fe||(fe=1,B=n);++ne<fe;){var Ce=B==null?n:B[Do(N[ne])];Ce===n&&(ne=fe,Ce=V),B=fc(Ce)?Ce.call(B):Ce}return B}function jC(B,N,V){return B==null?B:Yf(B,N,V)}function OS(B,N,V,ne){return ne=typeof ne=="function"?ne:n,B==null?B:Yf(B,N,V,ne)}var QC=sb(Ia),vb=sb(Du);function J4(B,N,V){var ne=vr(B),fe=ne||_g(B)||Ig(B);if(N=Fn(N,4),V==null){var Ce=B&&B.constructor;fe?V=ne?new Ce:[]:Ls(B)?V=fc(Ce)?wh(qu(B)):{}:V={}}return(fe?cl:wo)(B,function(Te,je,Ze){return N(V,Te,je,Ze)}),V}function Z4(B,N){return B==null?!0:yg(B,N)}function UM(B,N,V){return B==null?B:qv(B,N,RA(V))}function e2(B,N,V,ne){return ne=typeof ne=="function"?ne:n,B==null?B:qv(B,N,RA(V),ne)}function ny(B){return B==null?[]:hA(B,Ia(B))}function jS(B){return B==null?[]:hA(B,Du(B))}function HM(B,N,V){return V===n&&(V=N,N=n),V!==n&&(V=pc(V),V=V===V?V:0),N!==n&&(N=pc(N),N=N===N?N:0),nc(pc(B),N,V)}function UC(B,N,V){return N=dp(N),V===n?(V=N,N=0):V=dp(V),B=pc(B),Rh(B,N,V)}function HC(B,N,V){if(V&&typeof V!="boolean"&&es(B,N,V)&&(N=V=n),V===n&&(typeof N=="boolean"?(V=N,N=n):typeof B=="boolean"&&(V=B,B=n)),B===n&&N===n?(B=0,N=1):(B=dp(B),N===n?(N=B,B=0):N=dp(N)),B>N){var ne=B;B=N,N=ne}if(V||B%1||N%1){var fe=Ju();return Vs(B+fe*(N-B+Ah("1e-"+((fe+"").length-1))),N)}return Ag(B,N)}var VC=Fh(function(B,N,V){return N=N.toLowerCase(),B+(V?t2(N):N)});function t2(B){return Ym(Yi(B).toLowerCase())}function ry(B){return B=Yi(B),B&&B.replace(Vi,ig).replace(vv,"")}function VM(B,N,V){B=Yi(B),N=ml(N);var ne=B.length;V=V===n?ne:nc(sr(V),0,ne);var fe=V;return V-=N.length,V>=0&&B.slice(V,fe)==N}function n2(B){return B=Yi(B),B&&St.test(B)?B.replace(Xt,Bv):B}function r2(B){return B=Yi(B),B&&rn.test(B)?B.replace(In,"\\$&"):B}var i2=Fh(function(B,N,V){return B+(V?"-":"")+N.toLowerCase()}),s2=Fh(function(B,N,V){return B+(V?" ":"")+N.toLowerCase()}),QS=Ho("toLowerCase");function o2(B,N,V){B=Yi(B),N=sr(N);var ne=N?cu(B):0;if(!N||ne>=N)return B;var fe=(N-ne)/2;return zh(Sm(fe),V)+B+zh(Qf(fe),V)}function a2(B,N,V){B=Yi(B),N=sr(N);var ne=N?cu(B):0;return N&&ne<N?B+zh(N-ne,V):B}function GC(B,N,V){B=Yi(B),N=sr(N);var ne=N?cu(B):0;return N&&ne<N?zh(N-ne,V)+B:B}function GM(B,N,V){return V||N==null?N=0:N&&(N=+N),hl(Yi(B).replace(ln,""),N||0)}function KM(B,N,V){return(V?es(B,N,V):N===n)?N=1:N=sr(N),rc(Yi(B),N)}function US(){var B=arguments,N=Yi(B[0]);return B.length<3?N:N.replace(B[1],B[2])}var HS=Fh(function(B,N,V){return B+(V?"_":"")+N.toLowerCase()});function KC(B,N,V){return V&&typeof V!="number"&&es(B,N,V)&&(N=V=n),V=V===n?Y:V>>>0,V?(B=Yi(B),B&&(typeof N=="string"||N!=null&&!gb(N))&&(N=ml(N),!N&&Fc(B))?ic(Jr(B),0,V):B.split(N,V)):[]}var VS=Fh(function(B,N,V){return B+(V?" ":"")+Ym(N)});function l2(B,N,V){return B=Yi(B),V=V==null?0:nc(sr(V),0,B.length),N=ml(N),B.slice(V,V+N.length)==N}function GS(B,N,V){var ne=Ae.templateSettings;V&&es(B,N,V)&&(N=n),B=Yi(B),N=XA({},N,ne,OA);var fe=XA({},N.imports,ne.imports,OA),Ce=Ia(fe),Te=hA(fe,Ce),je,Ze,Ot=0,jt=N.interpolate||si,Gt="__p += '",mn=Jo((N.escape||si).source+"|"+jt.source+"|"+(jt===Bt?fs:si).source+"|"+(N.evaluate||si).source+"|$","g"),Ln="//# sourceURL="+(yi.call(N,"sourceURL")?(N.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++iA+"]")+`
`;B.replace(mn,function(ar,gi,Di,Hd,gc,Vd){return Di||(Di=Hd),Gt+=B.slice(Ot,Vd).replace(ca,sg),gi&&(je=!0,Gt+=`' +
__e(`+gi+`) +
'`),gc&&(Ze=!0,Gt+=`';
`+gc+`;
__p += '`),Di&&(Gt+=`' +
((__t = (`+Di+`)) == null ? '' : __t) +
'`),Ot=Vd+ar.length,ar}),Gt+=`';
`;var or=yi.call(N,"variable")&&N.variable;if(!or)Gt=`with (obj) {
`+Gt+`
}
`;else if(Wn.test(or))throw new rr(a);Gt=(Ze?Gt.replace(un,""):Gt).replace(Oe,"$1").replace(Wt,"$1;"),Gt="function("+(or||"obj")+`) {
`+(or?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(je?", __e = _.escape":"")+(Ze?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+Gt+`return __p
}`;var Yr=KS(function(){return Lr(Ce,Ln+"return "+Gt).apply(n,Te)});if(Yr.source=Gt,LC(Yr))throw Yr;return Yr}function Dg(B){return Yi(B).toLowerCase()}function Tg(B){return Yi(B).toUpperCase()}function Mg(B,N,V){if(B=Yi(B),B&&(V||N===n))return Bd(B);if(!B||!(N=ml(N)))return B;var ne=Jr(B),fe=Jr(N),Ce=fA(ne,fe),Te=bm(ne,fe)+1;return ic(ne,Ce,Te).join("")}function bb(B,N,V){if(B=Yi(B),B&&(V||N===n))return B.slice(0,Lf(B)+1);if(!B||!(N=ml(N)))return B;var ne=Jr(B),fe=bm(ne,Jr(N))+1;return ic(ne,0,fe).join("")}function xb(B,N,V){if(B=Yi(B),B&&(V||N===n))return B.replace(ln,"");if(!B||!(N=ml(N)))return B;var ne=Jr(B),fe=fA(ne,Jr(N));return ic(ne,fe).join("")}function kg(B,N){var V=L,ne=$;if(Ls(N)){var fe="separator"in N?N.separator:fe;V="length"in N?sr(N.length):V,ne="omission"in N?ml(N.omission):ne}B=Yi(B);var Ce=B.length;if(Fc(B)){var Te=Jr(B);Ce=Te.length}if(V>=Ce)return B;var je=V-cu(ne);if(je<1)return ne;var Ze=Te?ic(Te,0,je).join(""):B.slice(0,je);if(fe===n)return Ze+ne;if(Te&&(je+=Ze.length-je),gb(fe)){if(B.slice(je).search(fe)){var Ot,jt=Ze;for(fe.global||(fe=Jo(fe.source,Yi(ua.exec(fe))+"g")),fe.lastIndex=0;Ot=fe.exec(jt);)var Gt=Ot.index;Ze=Ze.slice(0,Gt===n?je:Gt)}}else if(B.indexOf(ml(fe),je)!=je){var mn=Ze.lastIndexOf(fe);mn>-1&&(Ze=Ze.slice(0,mn))}return Ze+ne}function WM(B){return B=Yi(B),B&&It.test(B)?B.replace(Vt,Mv):B}var u2=Fh(function(B,N,V){return B+(V?" ":"")+N.toUpperCase()}),Ym=Ho("toUpperCase");function c2(B,N,V){return B=Yi(B),N=V?n:N,N===n?Nf(B)?mA(B):bS(B):B.match(N)||[]}var KS=Cr(function(B,N){try{return Ua(B,n,N)}catch(V){return LC(V)?V:new rr(V)}}),WC=yl(function(B,N){return cl(N,function(V){V=Do(V),ga(B,V,ei(B[V],B))}),B});function d2(B){var N=B==null?0:B.length,V=Fn();return B=N?is(B,function(ne){if(typeof ne[1]!="function")throw new gs(o);return[V(ne[0]),ne[1]]}):[],Cr(function(ne){for(var fe=-1;++fe<N;){var Ce=B[fe];if(Ua(Ce[0],this,ne))return Ua(Ce[1],this,ne)}})}function qM(B){return pg(ma(B,d))}function iy(B){return function(){return B}}function qC(B,N){return B==null||B!==B?N:B}var h2=Xf(),sy=Xf(!0);function Jl(B){return B}function Cb(B){return gg(typeof B=="function"?B:ma(B,d))}function YC(B){return IA(ma(B,d))}function f2(B,N){return jv(B,ma(N,d))}var YM=Cr(function(B,N){return function(V){return jl(V,B,N)}}),XC=Cr(function(B,N){return function(V){return jl(B,V,N)}});function g(B,N,V){var ne=Ia(N),fe=Aa(N,ne);V==null&&!(Ls(N)&&(fe.length||!ne.length))&&(V=N,N=B,B=this,fe=Aa(N,Ia(N)));var Ce=!(Ls(V)&&"chain"in V)||!!V.chain,Te=fc(B);return cl(fe,function(je){var Ze=N[je];B[je]=Ze,Te&&(B.prototype[je]=function(){var Ot=this.__chain__;if(Ce||Ot){var jt=B(this.__wrapped__),Gt=jt.__actions__=va(this.__actions__);return Gt.push({func:Ze,args:arguments,thisArg:B}),jt.__chain__=Ot,jt}return Ze.apply(B,Nc([this.value()],arguments))})}),B}function b(){return no._===this&&(no._=zo),this}function _(){}function R(B){return B=sr(B),Cr(function(N){return BA(N,B)})}var Q=ba(is),K=ba(aA),oe=ba(cA);function ye(B){return Wc(B)?Lc(Do(B)):Ws(B)}function Ne(B){return function(N){return B==null?n:Ks(B,N)}}var lt=Jf(),Dt=Jf(!0);function $t(){return[]}function ft(){return!1}function bt(){return{}}function wn(){return""}function Yn(){return!0}function os(B,N){if(B=sr(B),B<1||B>q)return[];var V=Y,ne=Vs(B,Y);N=Fn(N),B-=Y;for(var fe=tg(ne,N);++V<B;)N(V);return fe}function Ye(B){return vr(B)?is(B,Do):Bu(B)?[B]:va(HA(Yi(B)))}function Qe(B){var N=++Dd;return Yi(B)+N}var st=Kc(function(B,N){return B+N},0),Nt=ep("ceil"),Hn=Kc(function(B,N){return B/N},1),ki=ep("floor");function Mn(B){return B&&B.length?yu(B,Jl,Qo):n}function kr(B,N){return B&&B.length?yu(B,Fn(N,2),Qo):n}function ci(B){return yh(B,Jl)}function Pi(B,N){return yh(B,Fn(N,2))}function Pg(B){return B&&B.length?yu(B,Jl,xs):n}function XM(B,N){return B&&B.length?yu(B,Fn(N,2),xs):n}var _ge=Kc(function(B,N){return B*N},1),Ige=ep("round"),Bge=Kc(function(B,N){return B-N},0);function Dge(B){return B&&B.length?vm(B,Jl):0}function Tge(B,N){return B&&B.length?vm(B,Fn(N,2)):0}return Ae.after=Jn,Ae.ary=ui,Ae.assign=U4,Ae.assignIn=zC,Ae.assignInWith=XA,Ae.assignWith=NM,Ae.at=td,Ae.before=so,Ae.bind=ei,Ae.bindAll=WC,Ae.bindKey=ed,Ae.castArray=DM,Ae.chain=Jc,Ae.chunk=ro,Ae.compact=Yc,Ae.concat=wr,Ae.cond=d2,Ae.conforms=qM,Ae.constant=iy,Ae.countBy=qA,Ae.create=$S,Ae.curry=Km,Ae.curryRight=SS,Ae.debounce=wS,Ae.defaults=H4,Ae.defaultsDeep=V4,Ae.defer=ts,Ae.delay=_S,Ae.difference=_i,Ae.differenceBy=qs,Ae.differenceWith=wu,Ae.drop=As,Ae.dropRight=zd,Ae.dropRightWhile=Qm,Ae.dropWhile=Rs,Ae.fill=xg,Ae.filter=up,Ae.flatMap=w,Ae.flatMapDeep=F,Ae.flatMapDepth=U,Ae.flatten=oi,Ae.flattenDeep=io,Ae.flattenDepth=Ea,Ae.flip=_M,Ae.flow=h2,Ae.flowRight=sy,Ae.fromPairs=Vh,Ae.functions=LM,Ae.functionsIn=FM,Ae.groupBy=be,Ae.initial=MC,Ae.intersection=Ys,Ae.intersectionBy=Sa,Ae.intersectionWith=bl,Ae.invert=$M,Ae.invertBy=zM,Ae.invokeMap=Je,Ae.iteratee=Cb,Ae.keyBy=Tt,Ae.keys=Ia,Ae.keysIn=Du,Ae.map=Zt,Ae.mapKeys=jM,Ae.mapValues=q4,Ae.matches=YC,Ae.matchesProperty=f2,Ae.memoize=cb,Ae.merge=JA,Ae.mergeWith=ZA,Ae.method=YM,Ae.methodOf=XC,Ae.mixin=g,Ae.negate=PC,Ae.nthArg=R,Ae.omit=Y4,Ae.omitBy=QM,Ae.once=IM,Ae.orderBy=dn,Ae.over=Q,Ae.overArgs=BM,Ae.overEvery=K,Ae.overSome=oe,Ae.partial=YA,Ae.partialRight=Wm,Ae.partition=gn,Ae.pick=ey,Ae.pickBy=ty,Ae.property=ye,Ae.propertyOf=Ne,Ae.pull=ip,Ae.pullAll=Ii,Ae.pullAllBy=VA,Ae.pullAllWith=jd,Ae.pullAt=Mo,Ae.range=lt,Ae.rangeRight=Dt,Ae.rearg=IS,Ae.reject=Gm,Ae.remove=_s,Ae.rest=RC,Ae.reverse=Xc,Ae.sampleSize=ht,Ae.set=jC,Ae.setWith=OS,Ae.shuffle=qe,Ae.slice=Cg,Ae.sortBy=kn,Ae.sortedUniq=GA,Ae.sortedUniqBy=Vm,Ae.split=KC,Ae.spread=BS,Ae.tail=KA,Ae.take=WA,Ae.takeRight=ai,Ae.takeRightWhile=Mi,Ae.takeWhile=_r,Ae.tap=Eg,Ae.throttle=wg,Ae.thru=_a,Ae.toArray=Q4,Ae.toPairs=QC,Ae.toPairsIn=vb,Ae.toPath=Ye,Ae.toPlainObject=$C,Ae.transform=J4,Ae.unary=Kh,Ae.union=qr,Ae.unionBy=Nn,Ae.unionWith=Fr,Ae.uniq=fr,Ae.uniqBy=Mr,Ae.uniqWith=qi,Ae.unset=Z4,Ae.unzip=Is,Ae.unzipWith=Bi,Ae.update=UM,Ae.updateWith=e2,Ae.values=ny,Ae.valuesIn=jS,Ae.without=ql,Ae.words=c2,Ae.wrap=db,Ae.xor=Qd,Ae.xorBy=uc,Ae.xorWith=li,Ae.zip=Yl,Ae.zipObject=cc,Ae.zipObjectDeep=wa,Ae.zipWith=Cl,Ae.entries=QC,Ae.entriesIn=vb,Ae.extend=zC,Ae.extendWith=XA,g(Ae,Ae),Ae.add=st,Ae.attempt=KS,Ae.camelCase=VC,Ae.capitalize=t2,Ae.ceil=Nt,Ae.clamp=HM,Ae.clone=T4,Ae.cloneDeep=k4,Ae.cloneDeepWith=P4,Ae.cloneWith=M4,Ae.conformsTo=TM,Ae.deburr=ry,Ae.defaultTo=qC,Ae.divide=Hn,Ae.endsWith=VM,Ae.eq=hc,Ae.escape=n2,Ae.escapeRegExp=r2,Ae.every=lp,Ae.find=Ya,Ae.findIndex=lb,Ae.findKey=G4,Ae.findLast=S,Ae.findLastIndex=Um,Ae.findLastKey=yb,Ae.floor=ki,Ae.forEach=X,Ae.forEachRight=re,Ae.forIn=nd,Ae.forInRight=K4,Ae.forOwn=OC,Ae.forOwnRight=hp,Ae.get=Bg,Ae.gt=R4,Ae.gte=N4,Ae.has=W4,Ae.hasIn=zS,Ae.head=Hm,Ae.identity=Jl,Ae.includes=Re,Ae.indexOf=ub,Ae.inRange=UC,Ae.invoke=OM,Ae.isArguments=qm,Ae.isArray=vr,Ae.isArrayBuffer=DS,Ae.isArrayLike=Iu,Ae.isArrayLikeObject=ko,Ae.isBoolean=hb,Ae.isBuffer=_g,Ae.isDate=L4,Ae.isElement=ti,Ae.isEmpty=TS,Ae.isEqual=NC,Ae.isEqualWith=MS,Ae.isError=LC,Ae.isFinite=kS,Ae.isFunction=fc,Ae.isInteger=fb,Ae.isLength=FC,Ae.isMap=F4,Ae.isMatch=$4,Ae.isMatchWith=z4,Ae.isNaN=ss,Ae.isNative=PS,Ae.isNil=MM,Ae.isNull=Xa,Ae.isNumber=RS,Ae.isObject=Ls,Ae.isObjectLike=oo,Ae.isPlainObject=pb,Ae.isRegExp=gb,Ae.isSafeInteger=NS,Ae.isSet=mb,Ae.isString=Ab,Ae.isSymbol=Bu,Ae.isTypedArray=Ig,Ae.isUndefined=LS,Ae.isWeakMap=kM,Ae.isWeakSet=O4,Ae.join=Gh,Ae.kebabCase=i2,Ae.last=pi,Ae.lastIndexOf=kC,Ae.lowerCase=s2,Ae.lowerFirst=QS,Ae.lt=PM,Ae.lte=j4,Ae.max=Mn,Ae.maxBy=kr,Ae.mean=ci,Ae.meanBy=Pi,Ae.min=Pg,Ae.minBy=XM,Ae.stubArray=$t,Ae.stubFalse=ft,Ae.stubObject=bt,Ae.stubString=wn,Ae.stubTrue=Yn,Ae.multiply=_ge,Ae.nth=Od,Ae.noConflict=b,Ae.noop=_,Ae.now=zi,Ae.pad=o2,Ae.padEnd=a2,Ae.padStart=GC,Ae.parseInt=GM,Ae.random=HC,Ae.reduce=dr,Ae.reduceRight=El,Ae.repeat=KM,Ae.replace=US,Ae.result=X4,Ae.round=Ige,Ae.runInContext=Ve,Ae.sample=cp,Ae.size=vt,Ae.snakeCase=HS,Ae.some=Kt,Ae.sortedIndex=Ns,Ae.sortedIndexBy=sp,Ae.sortedIndexOf=Xs,Ae.sortedLastIndex=xl,Ae.sortedLastIndexBy=qa,Ae.sortedLastIndexOf=op,Ae.startCase=VS,Ae.startsWith=l2,Ae.subtract=Bge,Ae.sum=Dge,Ae.sumBy=Tge,Ae.template=GS,Ae.times=os,Ae.toFinite=dp,Ae.toInteger=sr,Ae.toLength=FS,Ae.toLower=Dg,Ae.toNumber=pc,Ae.toSafeInteger=RM,Ae.toString=Yi,Ae.toUpper=Tg,Ae.trim=Mg,Ae.trimEnd=bb,Ae.trimStart=xb,Ae.truncate=kg,Ae.unescape=WM,Ae.uniqueId=Qe,Ae.upperCase=u2,Ae.upperFirst=Ym,Ae.each=X,Ae.eachRight=re,Ae.first=Hm,g(Ae,(function(){var B={};return wo(Ae,function(N,V){yi.call(Ae.prototype,V)||(B[V]=N)}),B})(),{chain:!1}),Ae.VERSION=r,cl(["bind","bindKey","curry","curryRight","partial","partialRight"],function(B){Ae[B].placeholder=Ae}),cl(["drop","take"],function(B,N){hr.prototype[B]=function(V){V=V===n?1:ws(sr(V),0);var ne=this.__filtered__&&!N?new hr(this):this.clone();return ne.__filtered__?ne.__takeCount__=Vs(V,ne.__takeCount__):ne.__views__.push({size:Vs(V,Y),type:B+(ne.__dir__<0?"Right":"")}),ne},hr.prototype[B+"Right"]=function(V){return this.reverse()[B](V).reverse()}}),cl(["filter","map","takeWhile"],function(B,N){var V=N+1,ne=V==H||V==O;hr.prototype[B]=function(fe){var Ce=this.clone();return Ce.__iteratees__.push({iteratee:Fn(fe,3),type:V}),Ce.__filtered__=Ce.__filtered__||ne,Ce}}),cl(["head","last"],function(B,N){var V="take"+(N?"Right":"");hr.prototype[B]=function(){return this[V](1).value()[0]}}),cl(["initial","tail"],function(B,N){var V="drop"+(N?"":"Right");hr.prototype[B]=function(){return this.__filtered__?new hr(this):this[V](1)}}),hr.prototype.compact=function(){return this.filter(Jl)},hr.prototype.find=function(B){return this.filter(B).head()},hr.prototype.findLast=function(B){return this.reverse().find(B)},hr.prototype.invokeMap=Cr(function(B,N){return typeof B=="function"?new hr(this):this.map(function(V){return jl(V,B,N)})}),hr.prototype.reject=function(B){return this.filter(PC(Fn(B)))},hr.prototype.slice=function(B,N){B=sr(B);var V=this;return V.__filtered__&&(B>0||N<0)?new hr(V):(B<0?V=V.takeRight(-B):B&&(V=V.drop(B)),N!==n&&(N=sr(N),V=N<0?V.dropRight(-N):V.take(N-B)),V)},hr.prototype.takeRightWhile=function(B){return this.reverse().takeWhile(B).reverse()},hr.prototype.toArray=function(){return this.take(Y)},wo(hr.prototype,function(B,N){var V=/^(?:filter|find|map|reject)|While$/.test(N),ne=/^(?:head|last)$/.test(N),fe=Ae[ne?"take"+(N=="last"?"Right":""):N],Ce=ne||/^find/.test(N);fe&&(Ae.prototype[N]=function(){var Te=this.__wrapped__,je=ne?[1]:arguments,Ze=Te instanceof hr,Ot=je[0],jt=Ze||vr(Te),Gt=function(gi){var Di=fe.apply(Ae,Nc([gi],je));return ne&&mn?Di[0]:Di};jt&&V&&typeof Ot=="function"&&Ot.length!=1&&(Ze=jt=!1);var mn=this.__chain__,Ln=!!this.__actions__.length,or=Ce&&!mn,Yr=Ze&&!Ln;if(!Ce&&jt){Te=Yr?Te:new hr(this);var ar=B.apply(Te,je);return ar.__actions__.push({func:_a,args:[Gt],thisArg:n}),new fl(ar,mn)}return or&&Yr?B.apply(this,je):(ar=this.thru(Gt),or?ne?ar.value()[0]:ar.value():ar)})}),cl(["pop","push","shift","sort","splice","unshift"],function(B){var N=ag[B],V=/^(?:push|sort|unshift)$/.test(B)?"tap":"thru",ne=/^(?:pop|shift)$/.test(B);Ae.prototype[B]=function(){var fe=arguments;if(ne&&!this.__chain__){var Ce=this.value();return N.apply(vr(Ce)?Ce:[],fe)}return this[V](function(Te){return N.apply(vr(Te)?Te:[],fe)})}}),wo(hr.prototype,function(B,N){var V=Ae[N];if(V){var ne=V.name+"";yi.call(Si,ne)||(Si[ne]=[]),Si[ne].push({name:N,func:V})}}),Si[$h(n,A).name]=[{name:"wrapper",func:n}],hr.prototype.clone=pa,hr.prototype.reverse=Rd,hr.prototype.value=fu,Ae.prototype.at=Sg,Ae.prototype.chain=Zc,Ae.prototype.commit=Bs,Ae.prototype.next=dc,Ae.prototype.plant=_u,Ae.prototype.reverse=Ud,Ae.prototype.toJSON=Ae.prototype.valueOf=Ae.prototype.value=ap,Ae.prototype.first=Ae.prototype.head,Eo&&(Ae.prototype[Eo]=Xl),Ae}),Ff=og();uu?((uu.exports=Ff)._=Ff,Pf._=Ff):no._=Ff}).call(Q$e)})(Jw,Jw.exports)),Jw.exports}var G8=U$e();let xI=null;const zQ=G8.debounce(()=>Promise.resolve(),0),HT=()=>{const t=xd()&&!fh(),[e,n]=x.useState("not_initialized"),r=x.useRef("not_initialized"),i=x.useRef(!1),s=x.useRef([]),o=x.useRef(0),a=x.useRef(!1),l=x.useRef(null),u=Pe(Y=>Y.elementsMap),c=Pe(Y=>Y.setSelectedElement),d=Pe(Y=>Y.currentPageId),f=Pe(Y=>Y.pages),p=Fu(Y=>Y.layouts),m=N$(),v=$T(),y=L$(),A=e==="ready",C=x.useCallback(Y=>{const Z=Ta.getIframe(),ee=r.current,ie=rh.getState().mode,ue=Fu.getState().currentLayoutId,{currentPageId:ae,pages:de}=Pe.getState(),ge=de.find(ke=>ke.id===ae),_e=ie==="layout"?{pageId:null,layoutId:ue}:{pageId:ae,layoutId:ge?.layout_id||null};if(ee!=="ready"||!Z?.contentWindow){s.current.push({type:"UPDATE_ELEMENTS",payload:{elements:Y,pageInfo:_e}});return}const we={type:"UPDATE_ELEMENTS",elements:Y,pageInfo:_e};Z.contentWindow.postMessage(we,window.location.origin)},[]),E=x.useCallback((Y,Z)=>{const ee=Ta.getIframe(),ie=r.current,ue={type:"UPDATE_PAGE_INFO",pageId:Y,layoutId:Z};if(ie!=="ready"||!ee?.contentWindow){s.current.push({type:"UPDATE_PAGE_INFO",payload:ue});return}ee.contentWindow.postMessage(ue,window.location.origin)},[]),I=x.useCallback(()=>{const Y=Ta.getIframe(),Z=r.current,ue={type:"UPDATE_LAYOUTS",layouts:Fu.getState().layouts.map(ae=>({id:ae.id,name:ae.name,slug:ae.slug||null}))};if(Z!=="ready"||!Y?.contentWindow){s.current.push({type:"UPDATE_LAYOUTS",payload:ue});return}Y.contentWindow.postMessage(ue,window.location.origin)},[]),D=x.useCallback(()=>{const Y=Ta.getIframe(),Z=r.current,ue={type:"UPDATE_DATA_TABLES",dataTables:m.map(ae=>({id:ae.id,name:ae.name,schema:ae.schema,mockData:ae.mockData||[],runtimeData:ae.runtimeData||[],useMockData:ae.useMockData}))};if(Z!=="ready"||!Y?.contentWindow){s.current.push({type:"UPDATE_DATA_TABLES",payload:ue});return}Y.contentWindow.postMessage(ue,window.location.origin)},[m]),T=x.useCallback(()=>{const Y=Ta.getIframe(),Z=r.current,ue={type:"UPDATE_API_ENDPOINTS",apiEndpoints:v.map(ae=>({id:ae.id,name:ae.name,method:ae.method,baseUrl:ae.baseUrl,path:ae.path,headers:ae.headers,params:ae.queryParams,body:ae.bodyTemplate}))};if(Z!=="ready"||!Y?.contentWindow){s.current.push({type:"UPDATE_API_ENDPOINTS",payload:ue});return}Y.contentWindow.postMessage(ue,window.location.origin)},[v]),M=x.useCallback(()=>{const Y=Ta.getIframe(),Z=r.current,ie={type:"UPDATE_VARIABLES",variables:w5e()};if(Z!=="ready"||!Y?.contentWindow){s.current.push({type:"UPDATE_VARIABLES",payload:ie});return}Y.contentWindow.postMessage(ie,window.location.origin)},[]),P=x.useCallback((Y,Z)=>{const ee=Ta.getIframe(),ie=u.get(Y);if(!ie)return;const ue={type:"ELEMENT_SELECTED",elementId:Y,payload:{tag:ie.tag,props:Z||ie.props,source:"builder"},source:"builder"};if(r.current!=="ready"||!ee?.contentWindow){s.current.push({type:"ELEMENT_SELECTED",payload:ue});return}ee.contentWindow.postMessage(ue,window.location.origin)},[u]),k=x.useCallback(()=>{if(r.current!=="ready")return;const Y=Ta.getIframe();if(!Y?.contentWindow)return;const Z=[...s.current];s.current=[],Z.forEach(ee=>{if(ee.type==="UPDATE_ELEMENTS"){const ie=ee.payload;Y.contentWindow.postMessage({type:"UPDATE_ELEMENTS",elements:ie.elements,pageInfo:ie.pageInfo},window.location.origin)}else(ee.type==="ELEMENT_SELECTED"||ee.type==="REQUEST_ELEMENT_SELECTION"||ee.type==="UPDATE_PAGE_INFO"||ee.type==="UPDATE_LAYOUTS"||ee.type==="UPDATE_DATA_TABLES"||ee.type==="UPDATE_API_ENDPOINTS"||ee.type==="UPDATE_VARIABLES")&&Y.contentWindow.postMessage(ee.payload,window.location.origin)})},[]),L=x.useCallback(()=>{r.current="loading",n("loading")},[]),$=x.useCallback(Y=>{if(Y.origin!==window.location.origin){console.warn("Received message from untrusted origin:",Y.origin);return}if(Y.data.type==="PREVIEW_READY"){r.current="ready",n("ready");const Z=Ta.getIframe();Z&&j$e.setIframe(Z),k();const ee=()=>{I(),D(),T(),M();const ae=Pe.getState().elements;ae.length>0&&(l.current=ae,C(ae))},ie=rh.persist?.hasHydrated?.()??!0,ue=Fu.persist?.hasHydrated?.()??!0;if(ie&&ue)ee();else{const ae=()=>{const de=rh.persist?.hasHydrated?.()??!0,ge=Fu.persist?.hasHydrated?.()??!0;de&&ge?ee():requestAnimationFrame(ae)};requestAnimationFrame(ae)}return}if(Y.data.type==="ELEMENTS_UPDATED_ACK"){if(o.current=Y.data.timestamp||Date.now(),a.current=!1,xI){const Z=xI;xI=null;const ee=Ta.getIframe();ee?.contentWindow&&ee.contentWindow.postMessage({type:"REQUEST_ELEMENT_SELECTION",elementId:Z},"*")}return}if(Y.data.type==="ADD_COLUMN_ELEMENTS"&&Y.data.payload?.columns){const{elements:Z}=Pe.getState(),ee=Y.data.payload.columns,ie=new Set(Z.map(ae=>ae.id)),ue=ee.filter(ae=>!ie.has(ae.id));if(ue.length===0)return;Pe.setState(ae=>({elements:[...ae.elements,...ue]})),(async()=>{try{await sh.createMultipleElements(ue)}catch(ae){console.error(" Column Elements DB  :",ae)}})();return}if(Y.data.type==="ADD_FIELD_ELEMENTS"&&Y.data.payload?.fields){const{elements:Z}=Pe.getState(),ee=Y.data.payload.fields,ie=new Set(Z.map(ae=>ae.id)),ue=ee.filter(ae=>!ie.has(ae.id));if(ue.length===0)return;Pe.setState(ae=>({elements:[...ae.elements,...ue]})),(async()=>{try{await sh.createMultipleElements(ue)}catch(ae){console.error(" Field Elements DB  :",ae)}})();return}if(Y.data.type==="UPDATE_ELEMENTS"&&Y.data.elements){const{setElements:Z}=Pe.getState();Z(Y.data.elements)}if(Y.data.type==="UPDATE_THEME_TOKENS"){const Z=Ta.getIframe();if(!Z?.contentDocument)return;let ee=document.getElementById("theme-tokens");ee||(ee=document.createElement("style"),ee.id="theme-tokens",document.head.appendChild(ee));const ie=`:root {
${Object.entries(Y.data.styles).map(([ae,de])=>`  ${ae}: ${de};`).join(`
`)}
}`;ee.textContent=ie;let ue=Z.contentDocument.getElementById("theme-tokens");ue||(ue=Z.contentDocument.createElement("style"),ue.id="theme-tokens",Z.contentDocument.head.appendChild(ue)),ue.textContent=ie}if(Y.data.type==="ELEMENT_SELECTED"&&Y.data.source!=="builder"){const Z=Y.data.elementId,{isMultiSelect:ee}=Y.data;x.startTransition(()=>{ee?Pe.getState().toggleElementInSelection(Z):c(Z,Y.data.payload?.props,Y.data.payload?.style,void 0)})}if(Y.data.type==="ELEMENT_COMPUTED_STYLE"&&Y.data.elementId&&x.startTransition(()=>{const Z=Pe.getState();Z.selectedElementId===Y.data.elementId&&Y.data.payload?.computedStyle&&Z.updateSelectedComputedStyle(Y.data.payload.computedStyle)}),Y.data.type==="ELEMENTS_DRAG_SELECTED"&&x.startTransition(()=>{Pe.getState().setSelectedElements(Y.data.elementIds)}),Y.data.type==="UPDATE_ELEMENT_PROPS"&&Y.data.elementId&&x.startTransition(()=>{const{updateElementProps:Z}=Pe.getState();Z(Y.data.elementId,Y.data.props||Y.data.payload?.props)}),Y.data.type==="element-props-update"&&Y.data.elementId&&x.startTransition(()=>{const{updateElementProps:Z}=Pe.getState();Z(Y.data.elementId,Y.data.props)}),Y.data.type==="element-click"&&Y.data.elementId){x.startTransition(()=>{c(Y.data.elementId,Y.data.payload?.props)});const Z=u.get(Y.data.elementId);if(Z){const ee=Ta.getIframe();if(ee?.contentWindow){const ie={type:"ELEMENT_SELECTED",elementId:Y.data.elementId,payload:{tag:Z.tag,props:Z.props,source:"builder"},source:"builder"};ee.contentWindow.postMessage(ie,window.location.origin)}}}Y.data.type==="element-hover"&&Y.data.elementId},[c,u,k,C,I,D,T,M]),z=G8.debounce(async()=>{if(!i.current){i.current=!0;try{const{undo:Y}=Pe.getState();Y()}catch(Y){console.error("  Undo error:",Y)}finally{i.current=!1}}},300),j=G8.debounce(async()=>{if(!i.current){i.current=!0;try{const{redo:Y}=Pe.getState();Y()}catch(Y){console.error("  Redo error:",Y)}finally{i.current=!1}}},300),H=x.useRef({pageId:null,layoutId:null});x.useEffect(()=>{if(r.current!=="ready")return;const Z=f.find(ee=>ee.id===d)?.layout_id||null;H.current.pageId===d&&H.current.layoutId===Z||(H.current={pageId:d,layoutId:Z},E(d,Z))},[d,f,E]);const W=x.useRef("");x.useEffect(()=>{if(r.current!=="ready")return;const Y=JSON.stringify(p.map(Z=>({id:Z.id,name:Z.name,slug:Z.slug})));W.current!==Y&&(W.current=Y,I())},[p,I]);const O=x.useRef("");x.useEffect(()=>{const Y=JSON.stringify(m.map(Z=>({id:Z.id,name:Z.name,mockData:Z.mockData,useMockData:Z.useMockData})));O.current!==Y&&(O.current=Y,D())},[m,D]);const G=x.useRef("");x.useEffect(()=>{const Y=JSON.stringify(v.map(Z=>({id:Z.id,name:Z.name,method:Z.method,baseUrl:Z.baseUrl,path:Z.path})));G.current!==Y&&(G.current=Y,T())},[v,T]);const q=x.useRef("");x.useEffect(()=>{const Y=JSON.stringify(y.map(Z=>({id:Z.id,name:Z.name,type:Z.type,defaultValue:Z.defaultValue,persist:Z.persist,scope:Z.scope})));q.current!==Y&&(q.current=Y,M())},[y,M]);const J=x.useCallback(Y=>{const Z=Ta.getIframe(),ee={type:"REQUEST_ELEMENT_SELECTION",elementId:Y};if(r.current!=="ready"||!Z?.contentWindow){s.current.push({type:"REQUEST_ELEMENT_SELECTION",payload:ee});return}Z.contentWindow.postMessage(ee,window.location.origin)},[]),te=x.useCallback(Y=>{t||(xI=Y)},[t]);return t?{iframeReadyState:"not_initialized",handleIframeLoad:()=>{},handleMessage:()=>{},handleUndo:zQ,handleRedo:zQ,sendElementsToIframe:()=>{},sendElementSelectedMessage:()=>{},requestElementSelection:()=>{},requestAutoSelectAfterUpdate:()=>{},sendLayoutsToIframe:()=>{},sendDataTablesToIframe:()=>{},sendApiEndpointsToIframe:()=>{},sendVariablesToIframe:()=>{},isIframeReady:!1}:{iframeReadyState:e,handleIframeLoad:L,handleMessage:$,handleUndo:z,handleRedo:j,sendElementsToIframe:C,sendElementSelectedMessage:P,requestElementSelection:J,requestAutoSelectAfterUpdate:te,sendLayoutsToIframe:I,sendDataTablesToIframe:D,sendApiEndpointsToIframe:T,sendVariablesToIframe:M,isIframeReady:A}},H$e={ELEMENT_SELECTED:1,UPDATE_PAGE_INFO:2,UPDATE_LAYOUTS:3,UPDATE_DATA_TABLES:4,UPDATE_API_ENDPOINTS:5,UPDATE_VARIABLES:6,UPDATE_ELEMENTS:7,UPDATE_ELEMENT_PROPS:8,ELEMENT_COMPUTED_STYLE:99};new Set(Object.keys(H$e));var V$e={grad:.9,turn:360,rad:360/(2*Math.PI)},i0=function(t){return typeof t=="string"?t.length>0:typeof t=="number"},Tl=function(t,e,n){return e===void 0&&(e=0),n===void 0&&(n=Math.pow(10,e)),Math.round(n*t)/n+0},ff=function(t,e,n){return e===void 0&&(e=0),n===void 0&&(n=1),t>n?n:t>e?t:e},Nue=function(t){return(t=isFinite(t)?t%360:0)>0?t:t+360},OQ=function(t){return{r:ff(t.r,0,255),g:ff(t.g,0,255),b:ff(t.b,0,255),a:ff(t.a)}},Hk=function(t){return{r:Tl(t.r),g:Tl(t.g),b:Tl(t.b),a:Tl(t.a,3)}},G$e=/^#([0-9a-f]{3,8})$/i,CI=function(t){var e=t.toString(16);return e.length<2?"0"+e:e},Lue=function(t){var e=t.r,n=t.g,r=t.b,i=t.a,s=Math.max(e,n,r),o=s-Math.min(e,n,r),a=o?s===e?(n-r)/o:s===n?2+(r-e)/o:4+(e-n)/o:0;return{h:60*(a<0?a+6:a),s:s?o/s*100:0,v:s/255*100,a:i}},Fue=function(t){var e=t.h,n=t.s,r=t.v,i=t.a;e=e/360*6,n/=100,r/=100;var s=Math.floor(e),o=r*(1-n),a=r*(1-(e-s)*n),l=r*(1-(1-e+s)*n),u=s%6;return{r:255*[r,a,o,o,l,r][u],g:255*[l,r,r,a,o,o][u],b:255*[o,o,l,r,r,a][u],a:i}},jQ=function(t){return{h:Nue(t.h),s:ff(t.s,0,100),l:ff(t.l,0,100),a:ff(t.a)}},QQ=function(t){return{h:Tl(t.h),s:Tl(t.s),l:Tl(t.l),a:Tl(t.a,3)}},UQ=function(t){return Fue((n=(e=t).s,{h:e.h,s:(n*=((r=e.l)<50?r:100-r)/100)>0?2*n/(r+n)*100:0,v:r+n,a:e.a}));var e,n,r},x_=function(t){return{h:(e=Lue(t)).h,s:(i=(200-(n=e.s))*(r=e.v)/100)>0&&i<200?n*r/100/(i<=100?i:200-i)*100:0,l:i/2,a:e.a};var e,n,r,i},K$e=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s*,\s*([+-]?\d*\.?\d+)%\s*,\s*([+-]?\d*\.?\d+)%\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,W$e=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s+([+-]?\d*\.?\d+)%\s+([+-]?\d*\.?\d+)%\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,q$e=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,Y$e=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,K8={string:[[function(t){var e=G$e.exec(t);return e?(t=e[1]).length<=4?{r:parseInt(t[0]+t[0],16),g:parseInt(t[1]+t[1],16),b:parseInt(t[2]+t[2],16),a:t.length===4?Tl(parseInt(t[3]+t[3],16)/255,2):1}:t.length===6||t.length===8?{r:parseInt(t.substr(0,2),16),g:parseInt(t.substr(2,2),16),b:parseInt(t.substr(4,2),16),a:t.length===8?Tl(parseInt(t.substr(6,2),16)/255,2):1}:null:null},"hex"],[function(t){var e=q$e.exec(t)||Y$e.exec(t);return e?e[2]!==e[4]||e[4]!==e[6]?null:OQ({r:Number(e[1])/(e[2]?100/255:1),g:Number(e[3])/(e[4]?100/255:1),b:Number(e[5])/(e[6]?100/255:1),a:e[7]===void 0?1:Number(e[7])/(e[8]?100:1)}):null},"rgb"],[function(t){var e=K$e.exec(t)||W$e.exec(t);if(!e)return null;var n,r,i=jQ({h:(n=e[1],r=e[2],r===void 0&&(r="deg"),Number(n)*(V$e[r]||1)),s:Number(e[3]),l:Number(e[4]),a:e[5]===void 0?1:Number(e[5])/(e[6]?100:1)});return UQ(i)},"hsl"]],object:[[function(t){var e=t.r,n=t.g,r=t.b,i=t.a,s=i===void 0?1:i;return i0(e)&&i0(n)&&i0(r)?OQ({r:Number(e),g:Number(n),b:Number(r),a:Number(s)}):null},"rgb"],[function(t){var e=t.h,n=t.s,r=t.l,i=t.a,s=i===void 0?1:i;if(!i0(e)||!i0(n)||!i0(r))return null;var o=jQ({h:Number(e),s:Number(n),l:Number(r),a:Number(s)});return UQ(o)},"hsl"],[function(t){var e=t.h,n=t.s,r=t.v,i=t.a,s=i===void 0?1:i;if(!i0(e)||!i0(n)||!i0(r))return null;var o=(function(a){return{h:Nue(a.h),s:ff(a.s,0,100),v:ff(a.v,0,100),a:ff(a.a)}})({h:Number(e),s:Number(n),v:Number(r),a:Number(s)});return Fue(o)},"hsv"]]},HQ=function(t,e){for(var n=0;n<e.length;n++){var r=e[n][0](t);if(r)return[r,e[n][1]]}return[null,void 0]},X$e=function(t){return typeof t=="string"?HQ(t.trim(),K8.string):typeof t=="object"&&t!==null?HQ(t,K8.object):[null,void 0]},Vk=function(t,e){var n=x_(t);return{h:n.h,s:ff(n.s+100*e,0,100),l:n.l,a:n.a}},Gk=function(t){return(299*t.r+587*t.g+114*t.b)/1e3/255},VQ=function(t,e){var n=x_(t);return{h:n.h,s:n.s,l:ff(n.l+100*e,0,100),a:n.a}},W8=(function(){function t(e){this.parsed=X$e(e)[0],this.rgba=this.parsed||{r:0,g:0,b:0,a:1}}return t.prototype.isValid=function(){return this.parsed!==null},t.prototype.brightness=function(){return Tl(Gk(this.rgba),2)},t.prototype.isDark=function(){return Gk(this.rgba)<.5},t.prototype.isLight=function(){return Gk(this.rgba)>=.5},t.prototype.toHex=function(){return e=Hk(this.rgba),n=e.r,r=e.g,i=e.b,o=(s=e.a)<1?CI(Tl(255*s)):"","#"+CI(n)+CI(r)+CI(i)+o;var e,n,r,i,s,o},t.prototype.toRgb=function(){return Hk(this.rgba)},t.prototype.toRgbString=function(){return e=Hk(this.rgba),n=e.r,r=e.g,i=e.b,(s=e.a)<1?"rgba("+n+", "+r+", "+i+", "+s+")":"rgb("+n+", "+r+", "+i+")";var e,n,r,i,s},t.prototype.toHsl=function(){return QQ(x_(this.rgba))},t.prototype.toHslString=function(){return e=QQ(x_(this.rgba)),n=e.h,r=e.s,i=e.l,(s=e.a)<1?"hsla("+n+", "+r+"%, "+i+"%, "+s+")":"hsl("+n+", "+r+"%, "+i+"%)";var e,n,r,i,s},t.prototype.toHsv=function(){return e=Lue(this.rgba),{h:Tl(e.h),s:Tl(e.s),v:Tl(e.v),a:Tl(e.a,3)};var e},t.prototype.invert=function(){return Yd({r:255-(e=this.rgba).r,g:255-e.g,b:255-e.b,a:e.a});var e},t.prototype.saturate=function(e){return e===void 0&&(e=.1),Yd(Vk(this.rgba,e))},t.prototype.desaturate=function(e){return e===void 0&&(e=.1),Yd(Vk(this.rgba,-e))},t.prototype.grayscale=function(){return Yd(Vk(this.rgba,-1))},t.prototype.lighten=function(e){return e===void 0&&(e=.1),Yd(VQ(this.rgba,e))},t.prototype.darken=function(e){return e===void 0&&(e=.1),Yd(VQ(this.rgba,-e))},t.prototype.rotate=function(e){return e===void 0&&(e=15),this.hue(this.hue()+e)},t.prototype.alpha=function(e){return typeof e=="number"?Yd({r:(n=this.rgba).r,g:n.g,b:n.b,a:e}):Tl(this.rgba.a,3);var n},t.prototype.hue=function(e){var n=x_(this.rgba);return typeof e=="number"?Yd({h:e,s:n.s,l:n.l,a:n.a}):Tl(n.h)},t.prototype.isEqual=function(e){return this.toHex()===Yd(e).toHex()},t})(),Yd=function(t){return t instanceof W8?t:new W8(t)},GQ=[],J$e=function(t){t.forEach(function(e){GQ.indexOf(e)<0&&(e(W8,K8),GQ.push(e))})};function Z$e(t,e){var n={white:"#ffffff",bisque:"#ffe4c4",blue:"#0000ff",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",antiquewhite:"#faebd7",aqua:"#00ffff",azure:"#f0ffff",whitesmoke:"#f5f5f5",papayawhip:"#ffefd5",plum:"#dda0dd",blanchedalmond:"#ffebcd",black:"#000000",gold:"#ffd700",goldenrod:"#daa520",gainsboro:"#dcdcdc",cornsilk:"#fff8dc",cornflowerblue:"#6495ed",burlywood:"#deb887",aquamarine:"#7fffd4",beige:"#f5f5dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkkhaki:"#bdb76b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",peachpuff:"#ffdab9",darkmagenta:"#8b008b",darkred:"#8b0000",darkorchid:"#9932cc",darkorange:"#ff8c00",darkslateblue:"#483d8b",gray:"#808080",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",deeppink:"#ff1493",deepskyblue:"#00bfff",wheat:"#f5deb3",firebrick:"#b22222",floralwhite:"#fffaf0",ghostwhite:"#f8f8ff",darkviolet:"#9400d3",magenta:"#ff00ff",green:"#008000",dodgerblue:"#1e90ff",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",blueviolet:"#8a2be2",forestgreen:"#228b22",lawngreen:"#7cfc00",indianred:"#cd5c5c",indigo:"#4b0082",fuchsia:"#ff00ff",brown:"#a52a2a",maroon:"#800000",mediumblue:"#0000cd",lightcoral:"#f08080",darkturquoise:"#00ced1",lightcyan:"#e0ffff",ivory:"#fffff0",lightyellow:"#ffffe0",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",linen:"#faf0e6",mediumaquamarine:"#66cdaa",lemonchiffon:"#fffacd",lime:"#00ff00",khaki:"#f0e68c",mediumseagreen:"#3cb371",limegreen:"#32cd32",mediumspringgreen:"#00fa9a",lightskyblue:"#87cefa",lightblue:"#add8e6",midnightblue:"#191970",lightpink:"#ffb6c1",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",mintcream:"#f5fffa",lightslategray:"#778899",lightslategrey:"#778899",navajowhite:"#ffdead",navy:"#000080",mediumvioletred:"#c71585",powderblue:"#b0e0e6",palegoldenrod:"#eee8aa",oldlace:"#fdf5e6",paleturquoise:"#afeeee",mediumturquoise:"#48d1cc",mediumorchid:"#ba55d3",rebeccapurple:"#663399",lightsteelblue:"#b0c4de",mediumslateblue:"#7b68ee",thistle:"#d8bfd8",tan:"#d2b48c",orchid:"#da70d6",mediumpurple:"#9370db",purple:"#800080",pink:"#ffc0cb",skyblue:"#87ceeb",springgreen:"#00ff7f",palegreen:"#98fb98",red:"#ff0000",yellow:"#ffff00",slateblue:"#6a5acd",lavenderblush:"#fff0f5",peru:"#cd853f",palevioletred:"#db7093",violet:"#ee82ee",teal:"#008080",slategray:"#708090",slategrey:"#708090",aliceblue:"#f0f8ff",darkseagreen:"#8fbc8f",darkolivegreen:"#556b2f",greenyellow:"#adff2f",seagreen:"#2e8b57",seashell:"#fff5ee",tomato:"#ff6347",silver:"#c0c0c0",sienna:"#a0522d",lavender:"#e6e6fa",lightgreen:"#90ee90",orange:"#ffa500",orangered:"#ff4500",steelblue:"#4682b4",royalblue:"#4169e1",turquoise:"#40e0d0",yellowgreen:"#9acd32",salmon:"#fa8072",saddlebrown:"#8b4513",sandybrown:"#f4a460",rosybrown:"#bc8f8f",darksalmon:"#e9967a",lightgoldenrodyellow:"#fafad2",snow:"#fffafa",lightgrey:"#d3d3d3",lightgray:"#d3d3d3",dimgray:"#696969",dimgrey:"#696969",olivedrab:"#6b8e23",olive:"#808000"},r={};for(var i in n)r[n[i]]=i;var s={};t.prototype.toName=function(o){if(!(this.rgba.a||this.rgba.r||this.rgba.g||this.rgba.b))return"transparent";var a,l,u=r[this.toHex()];if(u)return u;if(o?.closest){var c=this.toRgb(),d=1/0,f="black";if(!s.length)for(var p in n)s[p]=new t(n[p]).toRgb();for(var m in n){var v=(a=c,l=s[m],Math.pow(a.r-l.r,2)+Math.pow(a.g-l.g,2)+Math.pow(a.b-l.b,2));v<d&&(d=v,f=m)}return f}},e.string.push([function(o){var a=o.toLowerCase(),l=a==="transparent"?"#0000":n[a];return l?new t(l).toRgb():null},"name"])}var eze={grad:.9,turn:360,rad:360/(2*Math.PI)},Kk=function(t){return typeof t=="string"?t.length>0:typeof t=="number"},EI=function(t,e,n){return e===void 0&&(e=0),n===void 0&&(n=Math.pow(10,e)),Math.round(n*t)/n+0},Wk=function(t,e,n){return e===void 0&&(e=0),n===void 0&&(n=1),t>n?n:t>e?t:e},$ue=function(t){return{h:(e=t.h,(e=isFinite(e)?e%360:0)>0?e:e+360),w:Wk(t.w,0,100),b:Wk(t.b,0,100),a:Wk(t.a)};var e},KQ=function(t){return{h:EI(t.h),w:EI(t.w),b:EI(t.b),a:EI(t.a,3)}},WQ=function(t){return{h:(function(e){var n=e.r,r=e.g,i=e.b,s=e.a,o=Math.max(n,r,i),a=o-Math.min(n,r,i),l=a?o===n?(r-i)/a:o===r?2+(i-n)/a:4+(n-r)/a:0;return{h:60*(l<0?l+6:l),s:o?a/o*100:0,v:o/255*100,a:s}})(t).h,w:Math.min(t.r,t.g,t.b)/255*100,b:100-Math.max(t.r,t.g,t.b)/255*100,a:t.a}},zue=function(t){return(function(e){var n=e.h,r=e.s,i=e.v,s=e.a;n=n/360*6,r/=100,i/=100;var o=Math.floor(n),a=i*(1-r),l=i*(1-(n-o)*r),u=i*(1-(1-n+o)*r),c=o%6;return{r:255*[i,l,a,a,u,i][c],g:255*[u,i,i,l,a,a][c],b:255*[a,a,u,i,i,l][c],a:s}})({h:t.h,s:t.b===100?0:100-t.w/(100-t.b)*100,v:100-t.b,a:t.a})},tze=function(t){var e=t.h,n=t.w,r=t.b,i=t.a,s=i===void 0?1:i;if(!Kk(e)||!Kk(n)||!Kk(r))return null;var o=$ue({h:Number(e),w:Number(n),b:Number(r),a:Number(s)});return zue(o)},nze=/^hwb\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s+([+-]?\d*\.?\d+)%\s+([+-]?\d*\.?\d+)%\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,rze=function(t){var e=nze.exec(t);if(!e)return null;var n,r,i=$ue({h:(n=e[1],r=e[2],r===void 0&&(r="deg"),Number(n)*(eze[r]||1)),w:Number(e[3]),b:Number(e[4]),a:e[5]===void 0?1:Number(e[5])/(e[6]?100:1)});return zue(i)};function ize(t,e){t.prototype.toHwb=function(){return KQ(WQ(this.rgba))},t.prototype.toHwbString=function(){return n=KQ(WQ(this.rgba)),r=n.h,i=n.w,s=n.b,(o=n.a)<1?"hwb("+r+" "+i+"% "+s+"% / "+o+")":"hwb("+r+" "+i+"% "+s+"%)";var n,r,i,s,o},e.string.push([rze,"hwb"]),e.object.push([tze,"hwb"])}var qk=function(t){return typeof t=="string"?t.length>0:typeof t=="number"},gw=function(t,e,n){return e===void 0&&(e=0),n===void 0&&(n=Math.pow(10,e)),Math.round(n*t)/n+0},kp=function(t,e,n){return e===void 0&&(e=0),n===void 0&&(n=1),t>n?n:t>e?t:e},Yk=function(t){var e=t/255;return e<.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)},Xk=function(t){return 255*(t>.0031308?1.055*Math.pow(t,1/2.4)-.055:12.92*t)},nz=96.422,rz=100,iz=82.521,sze=function(t){var e,n,r={x:.9555766*(e=t).x+-.0230393*e.y+.0631636*e.z,y:-.0282895*e.x+1.0099416*e.y+.0210077*e.z,z:.0122982*e.x+-.020483*e.y+1.3299098*e.z};return n={r:Xk(.032404542*r.x-.015371385*r.y-.004985314*r.z),g:Xk(-.00969266*r.x+.018760108*r.y+41556e-8*r.z),b:Xk(556434e-9*r.x-.002040259*r.y+.010572252*r.z),a:t.a},{r:kp(n.r,0,255),g:kp(n.g,0,255),b:kp(n.b,0,255),a:kp(n.a)}},oze=function(t){var e=Yk(t.r),n=Yk(t.g),r=Yk(t.b);return(function(i){return{x:kp(i.x,0,nz),y:kp(i.y,0,rz),z:kp(i.z,0,iz),a:kp(i.a)}})((function(i){return{x:1.0478112*i.x+.0228866*i.y+-.050127*i.z,y:.0295424*i.x+.9904844*i.y+-.0170491*i.z,z:-.0092345*i.x+.0150436*i.y+.7521316*i.z,a:i.a}})({x:100*(.4124564*e+.3575761*n+.1804375*r),y:100*(.2126729*e+.7151522*n+.072175*r),z:100*(.0193339*e+.119192*n+.9503041*r),a:t.a}))},C_=216/24389,pE=24389/27,aze=function(t){var e=t.l,n=t.a,r=t.b,i=t.alpha,s=i===void 0?1:i;if(!qk(e)||!qk(n)||!qk(r))return null;var o=(function(a){return{l:kp(a.l,0,400),a:a.a,b:a.b,alpha:kp(a.alpha)}})({l:Number(e),a:Number(n),b:Number(r),alpha:Number(s)});return lze(o)},lze=function(t){var e=(t.l+16)/116,n=t.a/500+e,r=e-t.b/200;return sze({x:(Math.pow(n,3)>C_?Math.pow(n,3):(116*n-16)/pE)*nz,y:(t.l>8?Math.pow((t.l+16)/116,3):t.l/pE)*rz,z:(Math.pow(r,3)>C_?Math.pow(r,3):(116*r-16)/pE)*iz,a:t.alpha})};function uze(t,e){t.prototype.toLab=function(){return r=oze(this.rgba),s=r.y/rz,o=r.z/iz,i=(i=r.x/nz)>C_?Math.cbrt(i):(pE*i+16)/116,n={l:116*(s=s>C_?Math.cbrt(s):(pE*s+16)/116)-16,a:500*(i-s),b:200*(s-(o=o>C_?Math.cbrt(o):(pE*o+16)/116)),alpha:r.a},{l:gw(n.l,2),a:gw(n.a,2),b:gw(n.b,2),alpha:gw(n.alpha,3)};var n,r,i,s,o},t.prototype.delta=function(n){n===void 0&&(n="#FFF");var r=n instanceof t?n:new t(n),i=(function(s,o){var a=s.l,l=s.a,u=s.b,c=o.l,d=o.a,f=o.b,p=180/Math.PI,m=Math.PI/180,v=Math.pow(Math.pow(l,2)+Math.pow(u,2),.5),y=Math.pow(Math.pow(d,2)+Math.pow(f,2),.5),A=(a+c)/2,C=Math.pow((v+y)/2,7),E=.5*(1-Math.pow(C/(C+Math.pow(25,7)),.5)),I=l*(1+E),D=d*(1+E),T=Math.pow(Math.pow(I,2)+Math.pow(u,2),.5),M=Math.pow(Math.pow(D,2)+Math.pow(f,2),.5),P=(T+M)/2,k=I===0&&u===0?0:Math.atan2(u,I)*p,L=D===0&&f===0?0:Math.atan2(f,D)*p;k<0&&(k+=360),L<0&&(L+=360);var $=L-k,z=Math.abs(L-k);z>180&&L<=k?$+=360:z>180&&L>k&&($-=360);var j=k+L;z<=180?j/=2:j=(k+L<360?j+360:j-360)/2;var H=1-.17*Math.cos(m*(j-30))+.24*Math.cos(2*m*j)+.32*Math.cos(m*(3*j+6))-.2*Math.cos(m*(4*j-63)),W=c-a,O=M-T,G=2*Math.sin(m*$/2)*Math.pow(T*M,.5),q=1+.015*Math.pow(A-50,2)/Math.pow(20+Math.pow(A-50,2),.5),J=1+.045*P,te=1+.015*P*H,Y=30*Math.exp(-1*Math.pow((j-275)/25,2)),Z=-2*Math.pow(C/(C+Math.pow(25,7)),.5)*Math.sin(2*m*Y);return Math.pow(Math.pow(W/1/q,2)+Math.pow(O/1/J,2)+Math.pow(G/1/te,2)+Z*O*G/(1*J*1*te),.5)})(this.toLab(),r.toLab())/100;return kp(gw(i,3))},e.object.push([aze,"lab"])}var Xg=function(t,e,n){return e===void 0&&(e=0),n===void 0&&(n=1),t>n?n:t>e?t:e},Jk=function(t){var e=t/255;return e<.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)},Zk=function(t){return 255*(t>.0031308?1.055*Math.pow(t,1/2.4)-.055:12.92*t)},sz=96.422,oz=100,az=82.521,cze=function(t){var e,n,r={x:.9555766*(e=t).x+-.0230393*e.y+.0631636*e.z,y:-.0282895*e.x+1.0099416*e.y+.0210077*e.z,z:.0122982*e.x+-.020483*e.y+1.3299098*e.z};return n={r:Zk(.032404542*r.x-.015371385*r.y-.004985314*r.z),g:Zk(-.00969266*r.x+.018760108*r.y+41556e-8*r.z),b:Zk(556434e-9*r.x-.002040259*r.y+.010572252*r.z),a:t.a},{r:Xg(n.r,0,255),g:Xg(n.g,0,255),b:Xg(n.b,0,255),a:Xg(n.a)}},dze=function(t){var e=Jk(t.r),n=Jk(t.g),r=Jk(t.b);return(function(i){return{x:Xg(i.x,0,sz),y:Xg(i.y,0,oz),z:Xg(i.z,0,az),a:Xg(i.a)}})((function(i){return{x:1.0478112*i.x+.0228866*i.y+-.050127*i.z,y:.0295424*i.x+.9904844*i.y+-.0170491*i.z,z:-.0092345*i.x+.0150436*i.y+.7521316*i.z,a:i.a}})({x:100*(.4124564*e+.3575761*n+.1804375*r),y:100*(.2126729*e+.7151522*n+.072175*r),z:100*(.0193339*e+.119192*n+.9503041*r),a:t.a}))},E_=216/24389,gE=24389/27,qQ=function(t){var e=dze(t),n=e.x/sz,r=e.y/oz,i=e.z/az;return n=n>E_?Math.cbrt(n):(gE*n+16)/116,{l:116*(r=r>E_?Math.cbrt(r):(gE*r+16)/116)-16,a:500*(n-r),b:200*(r-(i=i>E_?Math.cbrt(i):(gE*i+16)/116)),alpha:e.a}},hze=function(t,e,n){var r,i=qQ(t),s=qQ(e);return(function(o){var a=(o.l+16)/116,l=o.a/500+a,u=a-o.b/200;return cze({x:(Math.pow(l,3)>E_?Math.pow(l,3):(116*l-16)/gE)*sz,y:(o.l>8?Math.pow((o.l+16)/116,3):o.l/gE)*oz,z:(Math.pow(u,3)>E_?Math.pow(u,3):(116*u-16)/gE)*az,a:o.alpha})})({l:Xg((r={l:i.l*(1-n)+s.l*n,a:i.a*(1-n)+s.a*n,b:i.b*(1-n)+s.b*n,alpha:i.alpha*(1-n)+s.alpha*n}).l,0,400),a:r.a,b:r.b,alpha:Xg(r.alpha)})};function fze(t){function e(n,r,i){i===void 0&&(i=5);for(var s=[],o=1/(i-1),a=0;a<=i-1;a++)s.push(n.mix(r,o*a));return s}t.prototype.mix=function(n,r){r===void 0&&(r=.5);var i=n instanceof t?n:new t(n),s=hze(this.toRgb(),i.toRgb(),r);return new t(s)},t.prototype.tints=function(n){return e(this,"#fff",n)},t.prototype.shades=function(n){return e(this,"#000",n)},t.prototype.tones=function(n){return e(this,"#808080",n)}}var eP=function(t){var e=t/255;return e<.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)},tP=function(t){return .2126*eP(t.r)+.7152*eP(t.g)+.0722*eP(t.b)};function pze(t){t.prototype.luminance=function(){return e=tP(this.rgba),(n=2)===void 0&&(n=0),r===void 0&&(r=Math.pow(10,n)),Math.round(r*e)/r+0;var e,n,r},t.prototype.contrast=function(e){e===void 0&&(e="#FFF");var n,r,i,s,o,a,l,u=e instanceof t?e:new t(e);return s=this.rgba,o=u.toRgb(),a=tP(s),l=tP(o),n=a>l?(a+.05)/(l+.05):(l+.05)/(a+.05),(r=2)===void 0&&(r=0),i===void 0&&(i=Math.pow(10,r)),Math.floor(i*n)/i+0},t.prototype.isReadable=function(e,n){return e===void 0&&(e="#FFF"),n===void 0&&(n={}),this.contrast(e)>=(a=(o=(r=n).size)===void 0?"normal":o,(s=(i=r.level)===void 0?"AA":i)==="AAA"&&a==="normal"?7:s==="AA"&&a==="large"?3:4.5);var r,i,s,o,a}}J$e([Z$e,ize,uze,fze,pze]);function Oue(t){if(!t||typeof t!="string")return null;const e=t.trim();if(!e)return null;try{const n=Yd(e);if(!n.isValid())return null;const r=n.toRgb(),i=n.toHsl();return{original:e,instance:n,hex:n.toHex(),rgb:r,hsl:i,alpha:n.alpha(),isLight:n.isLight(),isDark:n.isDark(),isTransparent:r.a===0}}catch{return null}}function jue(t,e){if(!t)return e;const n=Oue(t);if(!n)return e;const{r,g:i,b:s}=n.rgb;return r<<16|i<<8|s}function gze(t){const n=Yd({h:t.h,s:t.s,l:t.l,a:t.a}).toRgb();return{r:n.r,g:n.g,b:n.b,a:n.a}}function YQ(t){const n=Yd({r:t.r,g:t.g,b:t.b,a:t.a}).toHsl();return{h:Math.round(n.h),s:Math.round(n.s),l:Math.round(n.l),a:n.a}}function mze(t){return Yd({h:t.h,s:t.s,l:t.l,a:t.a}).toHex().slice(0,7)}function kB(t){const e=Oue(t);if(!e)return null;const{h:n,s:r,l:i,a:s}=e.hsl;return{h:Math.round(n),s:Math.round(r),l:Math.round(i),a:s}}function PB(t){return`hsla(${t.h}, ${t.s}%, ${t.l}%, ${t.a})`}function nP(t){return`rgba(${t.r}, ${t.g}, ${t.b}, ${t.a})`}function Aze(t){return{h:t.h,s:Math.max(0,t.s-15),l:100-t.l,a:t.a}}function Ut(t,e,n){function r(a,l){if(a._zod||Object.defineProperty(a,"_zod",{value:{def:l,constr:o,traits:new Set},enumerable:!1}),a._zod.traits.has(t))return;a._zod.traits.add(t),e(a,l);const u=o.prototype,c=Object.keys(u);for(let d=0;d<c.length;d++){const f=c[d];f in a||(a[f]=u[f].bind(a))}}const i=n?.Parent??Object;class s extends i{}Object.defineProperty(s,"name",{value:t});function o(a){var l;const u=n?.Parent?new s:this;r(u,a),(l=u._zod).deferred??(l.deferred=[]);for(const c of u._zod.deferred)c();return u}return Object.defineProperty(o,"init",{value:r}),Object.defineProperty(o,Symbol.hasInstance,{value:a=>n?.Parent&&a instanceof n.Parent?!0:a?._zod?.traits?.has(t)}),Object.defineProperty(o,"name",{value:t}),o}class mE extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}class Que extends Error{constructor(e){super(`Encountered unidirectional transform during encode: ${e}`),this.name="ZodEncodeError"}}const Uue={};function Gx(t){return Uue}function Hue(t){const e=Object.values(t).filter(r=>typeof r=="number");return Object.entries(t).filter(([r,i])=>e.indexOf(+r)===-1).map(([r,i])=>i)}function q8(t,e){return typeof e=="bigint"?e.toString():e}function lz(t){return{get value(){{const e=t();return Object.defineProperty(this,"value",{value:e}),e}}}}function uz(t){return t==null}function cz(t){const e=t.startsWith("^")?1:0,n=t.endsWith("$")?t.length-1:t.length;return t.slice(e,n)}function yze(t,e){const n=(t.toString().split(".")[1]||"").length,r=e.toString();let i=(r.split(".")[1]||"").length;if(i===0&&/\d?e-\d?/.test(r)){const l=r.match(/\d?e-(\d?)/);l?.[1]&&(i=Number.parseInt(l[1]))}const s=n>i?n:i,o=Number.parseInt(t.toFixed(s).replace(".","")),a=Number.parseInt(e.toFixed(s).replace(".",""));return o%a/10**s}const XQ=Symbol("evaluating");function Qs(t,e,n){let r;Object.defineProperty(t,e,{get(){if(r!==XQ)return r===void 0&&(r=XQ,r=n()),r},set(i){Object.defineProperty(t,e,{value:i})},configurable:!0})}function dC(t,e,n){Object.defineProperty(t,e,{value:n,writable:!0,enumerable:!0,configurable:!0})}function hC(...t){const e={};for(const n of t){const r=Object.getOwnPropertyDescriptors(n);Object.assign(e,r)}return Object.defineProperties({},e)}function JQ(t){return JSON.stringify(t)}function vze(t){return t.toLowerCase().trim().replace(/[^\w\s-]/g,"").replace(/[\s_-]+/g,"-").replace(/^-+|-+$/g,"")}const Vue="captureStackTrace"in Error?Error.captureStackTrace:(...t)=>{};function wD(t){return typeof t=="object"&&t!==null&&!Array.isArray(t)}const bze=lz(()=>{if(typeof navigator<"u"&&navigator?.userAgent?.includes("Cloudflare"))return!1;try{const t=Function;return new t(""),!0}catch{return!1}});function y3(t){if(wD(t)===!1)return!1;const e=t.constructor;if(e===void 0||typeof e!="function")return!0;const n=e.prototype;return!(wD(n)===!1||Object.prototype.hasOwnProperty.call(n,"isPrototypeOf")===!1)}function Gue(t){return y3(t)?{...t}:Array.isArray(t)?[...t]:t}const xze=new Set(["string","number","symbol"]);function VT(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function pv(t,e,n){const r=new t._zod.constr(e??t._zod.def);return(!e||n?.parent)&&(r._zod.parent=t),r}function qn(t){const e=t;if(!e)return{};if(typeof e=="string")return{error:()=>e};if(e?.message!==void 0){if(e?.error!==void 0)throw new Error("Cannot specify both `message` and `error` params");e.error=e.message}return delete e.message,typeof e.error=="string"?{...e,error:()=>e.error}:e}function Cze(t){return Object.keys(t).filter(e=>t[e]._zod.optin==="optional"&&t[e]._zod.optout==="optional")}const Eze={safeint:[Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],int32:[-2147483648,2147483647],uint32:[0,4294967295],float32:[-34028234663852886e22,34028234663852886e22],float64:[-Number.MAX_VALUE,Number.MAX_VALUE]};function Sze(t,e){const n=t._zod.def,r=hC(t._zod.def,{get shape(){const i={};for(const s in e){if(!(s in n.shape))throw new Error(`Unrecognized key: "${s}"`);e[s]&&(i[s]=n.shape[s])}return dC(this,"shape",i),i},checks:[]});return pv(t,r)}function wze(t,e){const n=t._zod.def,r=hC(t._zod.def,{get shape(){const i={...t._zod.def.shape};for(const s in e){if(!(s in n.shape))throw new Error(`Unrecognized key: "${s}"`);e[s]&&delete i[s]}return dC(this,"shape",i),i},checks:[]});return pv(t,r)}function _ze(t,e){if(!y3(e))throw new Error("Invalid input to extend: expected a plain object");const n=t._zod.def.checks;if(n&&n.length>0)throw new Error("Object schemas containing refinements cannot be extended. Use `.safeExtend()` instead.");const i=hC(t._zod.def,{get shape(){const s={...t._zod.def.shape,...e};return dC(this,"shape",s),s},checks:[]});return pv(t,i)}function Ize(t,e){if(!y3(e))throw new Error("Invalid input to safeExtend: expected a plain object");const n={...t._zod.def,get shape(){const r={...t._zod.def.shape,...e};return dC(this,"shape",r),r},checks:t._zod.def.checks};return pv(t,n)}function Bze(t,e){const n=hC(t._zod.def,{get shape(){const r={...t._zod.def.shape,...e._zod.def.shape};return dC(this,"shape",r),r},get catchall(){return e._zod.def.catchall},checks:[]});return pv(t,n)}function Dze(t,e,n){const r=hC(e._zod.def,{get shape(){const i=e._zod.def.shape,s={...i};if(n)for(const o in n){if(!(o in i))throw new Error(`Unrecognized key: "${o}"`);n[o]&&(s[o]=t?new t({type:"optional",innerType:i[o]}):i[o])}else for(const o in i)s[o]=t?new t({type:"optional",innerType:i[o]}):i[o];return dC(this,"shape",s),s},checks:[]});return pv(e,r)}function Tze(t,e,n){const r=hC(e._zod.def,{get shape(){const i=e._zod.def.shape,s={...i};if(n)for(const o in n){if(!(o in s))throw new Error(`Unrecognized key: "${o}"`);n[o]&&(s[o]=new t({type:"nonoptional",innerType:i[o]}))}else for(const o in i)s[o]=new t({type:"nonoptional",innerType:i[o]});return dC(this,"shape",s),s},checks:[]});return pv(e,r)}function eE(t,e=0){if(t.aborted===!0)return!0;for(let n=e;n<t.issues.length;n++)if(t.issues[n]?.continue!==!0)return!0;return!1}function Kue(t,e){return e.map(n=>{var r;return(r=n).path??(r.path=[]),n.path.unshift(t),n})}function SI(t){return typeof t=="string"?t:t?.message}function Kx(t,e,n){const r={...t,path:t.path??[]};if(!t.message){const i=SI(t.inst?._zod.def?.error?.(t))??SI(e?.error?.(t))??SI(n.customError?.(t))??SI(n.localeError?.(t))??"Invalid input";r.message=i}return delete r.inst,delete r.continue,e?.reportInput||delete r.input,r}function dz(t){return Array.isArray(t)?"array":typeof t=="string"?"string":"unknown"}function v3(...t){const[e,n,r]=t;return typeof e=="string"?{message:e,code:"custom",input:n,inst:r}:{...e}}const Wue=(t,e)=>{t.name="$ZodError",Object.defineProperty(t,"_zod",{value:t._zod,enumerable:!1}),Object.defineProperty(t,"issues",{value:e,enumerable:!1}),t.message=JSON.stringify(e,q8,2),Object.defineProperty(t,"toString",{value:()=>t.message,enumerable:!1})},que=Ut("$ZodError",Wue),Yue=Ut("$ZodError",Wue,{Parent:Error});function Mze(t,e=n=>n.message){const n={},r=[];for(const i of t.issues)i.path.length>0?(n[i.path[0]]=n[i.path[0]]||[],n[i.path[0]].push(e(i))):r.push(e(i));return{formErrors:r,fieldErrors:n}}function kze(t,e=n=>n.message){const n={_errors:[]},r=i=>{for(const s of i.issues)if(s.code==="invalid_union"&&s.errors.length)s.errors.map(o=>r({issues:o}));else if(s.code==="invalid_key")r({issues:s.issues});else if(s.code==="invalid_element")r({issues:s.issues});else if(s.path.length===0)n._errors.push(e(s));else{let o=n,a=0;for(;a<s.path.length;){const l=s.path[a];a===s.path.length-1?(o[l]=o[l]||{_errors:[]},o[l]._errors.push(e(s))):o[l]=o[l]||{_errors:[]},o=o[l],a++}}};return r(t),n}const hz=t=>(e,n,r,i)=>{const s=r?Object.assign(r,{async:!1}):{async:!1},o=e._zod.run({value:n,issues:[]},s);if(o instanceof Promise)throw new mE;if(o.issues.length){const a=new(i?.Err??t)(o.issues.map(l=>Kx(l,s,Gx())));throw Vue(a,i?.callee),a}return o.value},fz=t=>async(e,n,r,i)=>{const s=r?Object.assign(r,{async:!0}):{async:!0};let o=e._zod.run({value:n,issues:[]},s);if(o instanceof Promise&&(o=await o),o.issues.length){const a=new(i?.Err??t)(o.issues.map(l=>Kx(l,s,Gx())));throw Vue(a,i?.callee),a}return o.value},GT=t=>(e,n,r)=>{const i=r?{...r,async:!1}:{async:!1},s=e._zod.run({value:n,issues:[]},i);if(s instanceof Promise)throw new mE;return s.issues.length?{success:!1,error:new(t??que)(s.issues.map(o=>Kx(o,i,Gx())))}:{success:!0,data:s.value}},Pze=GT(Yue),KT=t=>async(e,n,r)=>{const i=r?Object.assign(r,{async:!0}):{async:!0};let s=e._zod.run({value:n,issues:[]},i);return s instanceof Promise&&(s=await s),s.issues.length?{success:!1,error:new t(s.issues.map(o=>Kx(o,i,Gx())))}:{success:!0,data:s.value}},Rze=KT(Yue),Nze=t=>(e,n,r)=>{const i=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return hz(t)(e,n,i)},Lze=t=>(e,n,r)=>hz(t)(e,n,r),Fze=t=>async(e,n,r)=>{const i=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return fz(t)(e,n,i)},$ze=t=>async(e,n,r)=>fz(t)(e,n,r),zze=t=>(e,n,r)=>{const i=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return GT(t)(e,n,i)},Oze=t=>(e,n,r)=>GT(t)(e,n,r),jze=t=>async(e,n,r)=>{const i=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return KT(t)(e,n,i)},Qze=t=>async(e,n,r)=>KT(t)(e,n,r),Uze=/^[cC][^\s-]{8,}$/,Hze=/^[0-9a-z]+$/,Vze=/^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/,Gze=/^[0-9a-vA-V]{20}$/,Kze=/^[A-Za-z0-9]{27}$/,Wze=/^[a-zA-Z0-9_-]{21}$/,qze=/^P(?:(\d+W)|(?!.*W)(?=\d|T\d)(\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+([.,]\d+)?S)?)?)$/,Yze=/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/,ZQ=t=>t?new RegExp(`^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-${t}[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$`):/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/,Xze=/^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$/,Jze="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";function Zze(){return new RegExp(Jze,"u")}const e7e=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,t7e=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:))$/,n7e=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/([0-9]|[1-2][0-9]|3[0-2])$/,r7e=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,i7e=/^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/,Xue=/^[A-Za-z0-9_-]*$/,s7e=/^\+(?:[0-9]){6,14}[0-9]$/,Jue="(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))",o7e=new RegExp(`^${Jue}$`);function Zue(t){const e="(?:[01]\\d|2[0-3]):[0-5]\\d";return typeof t.precision=="number"?t.precision===-1?`${e}`:t.precision===0?`${e}:[0-5]\\d`:`${e}:[0-5]\\d\\.\\d{${t.precision}}`:`${e}(?::[0-5]\\d(?:\\.\\d+)?)?`}function a7e(t){return new RegExp(`^${Zue(t)}$`)}function l7e(t){const e=Zue({precision:t.precision}),n=["Z"];t.local&&n.push(""),t.offset&&n.push("([+-](?:[01]\\d|2[0-3]):[0-5]\\d)");const r=`${e}(?:${n.join("|")})`;return new RegExp(`^${Jue}T(?:${r})$`)}const u7e=t=>{const e=t?`[\\s\\S]{${t?.minimum??0},${t?.maximum??""}}`:"[\\s\\S]*";return new RegExp(`^${e}$`)},c7e=/^-?\d+$/,d7e=/^-?\d+(?:\.\d+)?/,h7e=/^(?:true|false)$/i,f7e=/^[^A-Z]*$/,p7e=/^[^a-z]*$/,Ed=Ut("$ZodCheck",(t,e)=>{var n;t._zod??(t._zod={}),t._zod.def=e,(n=t._zod).onattach??(n.onattach=[])}),ece={number:"number",bigint:"bigint",object:"date"},tce=Ut("$ZodCheckLessThan",(t,e)=>{Ed.init(t,e);const n=ece[typeof e.value];t._zod.onattach.push(r=>{const i=r._zod.bag,s=(e.inclusive?i.maximum:i.exclusiveMaximum)??Number.POSITIVE_INFINITY;e.value<s&&(e.inclusive?i.maximum=e.value:i.exclusiveMaximum=e.value)}),t._zod.check=r=>{(e.inclusive?r.value<=e.value:r.value<e.value)||r.issues.push({origin:n,code:"too_big",maximum:e.value,input:r.value,inclusive:e.inclusive,inst:t,continue:!e.abort})}}),nce=Ut("$ZodCheckGreaterThan",(t,e)=>{Ed.init(t,e);const n=ece[typeof e.value];t._zod.onattach.push(r=>{const i=r._zod.bag,s=(e.inclusive?i.minimum:i.exclusiveMinimum)??Number.NEGATIVE_INFINITY;e.value>s&&(e.inclusive?i.minimum=e.value:i.exclusiveMinimum=e.value)}),t._zod.check=r=>{(e.inclusive?r.value>=e.value:r.value>e.value)||r.issues.push({origin:n,code:"too_small",minimum:e.value,input:r.value,inclusive:e.inclusive,inst:t,continue:!e.abort})}}),g7e=Ut("$ZodCheckMultipleOf",(t,e)=>{Ed.init(t,e),t._zod.onattach.push(n=>{var r;(r=n._zod.bag).multipleOf??(r.multipleOf=e.value)}),t._zod.check=n=>{if(typeof n.value!=typeof e.value)throw new Error("Cannot mix number and bigint in multiple_of check.");(typeof n.value=="bigint"?n.value%e.value===BigInt(0):yze(n.value,e.value)===0)||n.issues.push({origin:typeof n.value,code:"not_multiple_of",divisor:e.value,input:n.value,inst:t,continue:!e.abort})}}),m7e=Ut("$ZodCheckNumberFormat",(t,e)=>{Ed.init(t,e),e.format=e.format||"float64";const n=e.format?.includes("int"),r=n?"int":"number",[i,s]=Eze[e.format];t._zod.onattach.push(o=>{const a=o._zod.bag;a.format=e.format,a.minimum=i,a.maximum=s,n&&(a.pattern=c7e)}),t._zod.check=o=>{const a=o.value;if(n){if(!Number.isInteger(a)){o.issues.push({expected:r,format:e.format,code:"invalid_type",continue:!1,input:a,inst:t});return}if(!Number.isSafeInteger(a)){a>0?o.issues.push({input:a,code:"too_big",maximum:Number.MAX_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:t,origin:r,continue:!e.abort}):o.issues.push({input:a,code:"too_small",minimum:Number.MIN_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:t,origin:r,continue:!e.abort});return}}a<i&&o.issues.push({origin:"number",input:a,code:"too_small",minimum:i,inclusive:!0,inst:t,continue:!e.abort}),a>s&&o.issues.push({origin:"number",input:a,code:"too_big",maximum:s,inst:t})}}),A7e=Ut("$ZodCheckMaxLength",(t,e)=>{var n;Ed.init(t,e),(n=t._zod.def).when??(n.when=r=>{const i=r.value;return!uz(i)&&i.length!==void 0}),t._zod.onattach.push(r=>{const i=r._zod.bag.maximum??Number.POSITIVE_INFINITY;e.maximum<i&&(r._zod.bag.maximum=e.maximum)}),t._zod.check=r=>{const i=r.value;if(i.length<=e.maximum)return;const o=dz(i);r.issues.push({origin:o,code:"too_big",maximum:e.maximum,inclusive:!0,input:i,inst:t,continue:!e.abort})}}),y7e=Ut("$ZodCheckMinLength",(t,e)=>{var n;Ed.init(t,e),(n=t._zod.def).when??(n.when=r=>{const i=r.value;return!uz(i)&&i.length!==void 0}),t._zod.onattach.push(r=>{const i=r._zod.bag.minimum??Number.NEGATIVE_INFINITY;e.minimum>i&&(r._zod.bag.minimum=e.minimum)}),t._zod.check=r=>{const i=r.value;if(i.length>=e.minimum)return;const o=dz(i);r.issues.push({origin:o,code:"too_small",minimum:e.minimum,inclusive:!0,input:i,inst:t,continue:!e.abort})}}),v7e=Ut("$ZodCheckLengthEquals",(t,e)=>{var n;Ed.init(t,e),(n=t._zod.def).when??(n.when=r=>{const i=r.value;return!uz(i)&&i.length!==void 0}),t._zod.onattach.push(r=>{const i=r._zod.bag;i.minimum=e.length,i.maximum=e.length,i.length=e.length}),t._zod.check=r=>{const i=r.value,s=i.length;if(s===e.length)return;const o=dz(i),a=s>e.length;r.issues.push({origin:o,...a?{code:"too_big",maximum:e.length}:{code:"too_small",minimum:e.length},inclusive:!0,exact:!0,input:r.value,inst:t,continue:!e.abort})}}),WT=Ut("$ZodCheckStringFormat",(t,e)=>{var n,r;Ed.init(t,e),t._zod.onattach.push(i=>{const s=i._zod.bag;s.format=e.format,e.pattern&&(s.patterns??(s.patterns=new Set),s.patterns.add(e.pattern))}),e.pattern?(n=t._zod).check??(n.check=i=>{e.pattern.lastIndex=0,!e.pattern.test(i.value)&&i.issues.push({origin:"string",code:"invalid_format",format:e.format,input:i.value,...e.pattern?{pattern:e.pattern.toString()}:{},inst:t,continue:!e.abort})}):(r=t._zod).check??(r.check=()=>{})}),b7e=Ut("$ZodCheckRegex",(t,e)=>{WT.init(t,e),t._zod.check=n=>{e.pattern.lastIndex=0,!e.pattern.test(n.value)&&n.issues.push({origin:"string",code:"invalid_format",format:"regex",input:n.value,pattern:e.pattern.toString(),inst:t,continue:!e.abort})}}),x7e=Ut("$ZodCheckLowerCase",(t,e)=>{e.pattern??(e.pattern=f7e),WT.init(t,e)}),C7e=Ut("$ZodCheckUpperCase",(t,e)=>{e.pattern??(e.pattern=p7e),WT.init(t,e)}),E7e=Ut("$ZodCheckIncludes",(t,e)=>{Ed.init(t,e);const n=VT(e.includes),r=new RegExp(typeof e.position=="number"?`^.{${e.position}}${n}`:n);e.pattern=r,t._zod.onattach.push(i=>{const s=i._zod.bag;s.patterns??(s.patterns=new Set),s.patterns.add(r)}),t._zod.check=i=>{i.value.includes(e.includes,e.position)||i.issues.push({origin:"string",code:"invalid_format",format:"includes",includes:e.includes,input:i.value,inst:t,continue:!e.abort})}}),S7e=Ut("$ZodCheckStartsWith",(t,e)=>{Ed.init(t,e);const n=new RegExp(`^${VT(e.prefix)}.*`);e.pattern??(e.pattern=n),t._zod.onattach.push(r=>{const i=r._zod.bag;i.patterns??(i.patterns=new Set),i.patterns.add(n)}),t._zod.check=r=>{r.value.startsWith(e.prefix)||r.issues.push({origin:"string",code:"invalid_format",format:"starts_with",prefix:e.prefix,input:r.value,inst:t,continue:!e.abort})}}),w7e=Ut("$ZodCheckEndsWith",(t,e)=>{Ed.init(t,e);const n=new RegExp(`.*${VT(e.suffix)}$`);e.pattern??(e.pattern=n),t._zod.onattach.push(r=>{const i=r._zod.bag;i.patterns??(i.patterns=new Set),i.patterns.add(n)}),t._zod.check=r=>{r.value.endsWith(e.suffix)||r.issues.push({origin:"string",code:"invalid_format",format:"ends_with",suffix:e.suffix,input:r.value,inst:t,continue:!e.abort})}}),_7e=Ut("$ZodCheckOverwrite",(t,e)=>{Ed.init(t,e),t._zod.check=n=>{n.value=e.tx(n.value)}});class I7e{constructor(e=[]){this.content=[],this.indent=0,this&&(this.args=e)}indented(e){this.indent+=1,e(this),this.indent-=1}write(e){if(typeof e=="function"){e(this,{execution:"sync"}),e(this,{execution:"async"});return}const r=e.split(`
`).filter(o=>o),i=Math.min(...r.map(o=>o.length-o.trimStart().length)),s=r.map(o=>o.slice(i)).map(o=>" ".repeat(this.indent*2)+o);for(const o of s)this.content.push(o)}compile(){const e=Function,n=this?.args,i=[...(this?.content??[""]).map(s=>`  ${s}`)];return new e(...n,i.join(`
`))}}const B7e={major:4,minor:2,patch:1},la=Ut("$ZodType",(t,e)=>{var n;t??(t={}),t._zod.def=e,t._zod.bag=t._zod.bag||{},t._zod.version=B7e;const r=[...t._zod.def.checks??[]];t._zod.traits.has("$ZodCheck")&&r.unshift(t);for(const i of r)for(const s of i._zod.onattach)s(t);if(r.length===0)(n=t._zod).deferred??(n.deferred=[]),t._zod.deferred?.push(()=>{t._zod.run=t._zod.parse});else{const i=(o,a,l)=>{let u=eE(o),c;for(const d of a){if(d._zod.def.when){if(!d._zod.def.when(o))continue}else if(u)continue;const f=o.issues.length,p=d._zod.check(o);if(p instanceof Promise&&l?.async===!1)throw new mE;if(c||p instanceof Promise)c=(c??Promise.resolve()).then(async()=>{await p,o.issues.length!==f&&(u||(u=eE(o,f)))});else{if(o.issues.length===f)continue;u||(u=eE(o,f))}}return c?c.then(()=>o):o},s=(o,a,l)=>{if(eE(o))return o.aborted=!0,o;const u=i(a,r,l);if(u instanceof Promise){if(l.async===!1)throw new mE;return u.then(c=>t._zod.parse(c,l))}return t._zod.parse(u,l)};t._zod.run=(o,a)=>{if(a.skipChecks)return t._zod.parse(o,a);if(a.direction==="backward"){const u=t._zod.parse({value:o.value,issues:[]},{...a,skipChecks:!0});return u instanceof Promise?u.then(c=>s(c,o,a)):s(u,o,a)}const l=t._zod.parse(o,a);if(l instanceof Promise){if(a.async===!1)throw new mE;return l.then(u=>i(u,r,a))}return i(l,r,a)}}t["~standard"]={validate:i=>{try{const s=Pze(t,i);return s.success?{value:s.data}:{issues:s.error?.issues}}catch{return Rze(t,i).then(o=>o.success?{value:o.data}:{issues:o.error?.issues})}},vendor:"zod",version:1}}),pz=Ut("$ZodString",(t,e)=>{la.init(t,e),t._zod.pattern=[...t?._zod.bag?.patterns??[]].pop()??u7e(t._zod.bag),t._zod.parse=(n,r)=>{if(e.coerce)try{n.value=String(n.value)}catch{}return typeof n.value=="string"||n.issues.push({expected:"string",code:"invalid_type",input:n.value,inst:t}),n}}),vo=Ut("$ZodStringFormat",(t,e)=>{WT.init(t,e),pz.init(t,e)}),D7e=Ut("$ZodGUID",(t,e)=>{e.pattern??(e.pattern=Yze),vo.init(t,e)}),T7e=Ut("$ZodUUID",(t,e)=>{if(e.version){const r={v1:1,v2:2,v3:3,v4:4,v5:5,v6:6,v7:7,v8:8}[e.version];if(r===void 0)throw new Error(`Invalid UUID version: "${e.version}"`);e.pattern??(e.pattern=ZQ(r))}else e.pattern??(e.pattern=ZQ());vo.init(t,e)}),M7e=Ut("$ZodEmail",(t,e)=>{e.pattern??(e.pattern=Xze),vo.init(t,e)}),k7e=Ut("$ZodURL",(t,e)=>{vo.init(t,e),t._zod.check=n=>{try{const r=n.value.trim(),i=new URL(r);e.hostname&&(e.hostname.lastIndex=0,e.hostname.test(i.hostname)||n.issues.push({code:"invalid_format",format:"url",note:"Invalid hostname",pattern:e.hostname.source,input:n.value,inst:t,continue:!e.abort})),e.protocol&&(e.protocol.lastIndex=0,e.protocol.test(i.protocol.endsWith(":")?i.protocol.slice(0,-1):i.protocol)||n.issues.push({code:"invalid_format",format:"url",note:"Invalid protocol",pattern:e.protocol.source,input:n.value,inst:t,continue:!e.abort})),e.normalize?n.value=i.href:n.value=r;return}catch{n.issues.push({code:"invalid_format",format:"url",input:n.value,inst:t,continue:!e.abort})}}}),P7e=Ut("$ZodEmoji",(t,e)=>{e.pattern??(e.pattern=Zze()),vo.init(t,e)}),R7e=Ut("$ZodNanoID",(t,e)=>{e.pattern??(e.pattern=Wze),vo.init(t,e)}),N7e=Ut("$ZodCUID",(t,e)=>{e.pattern??(e.pattern=Uze),vo.init(t,e)}),L7e=Ut("$ZodCUID2",(t,e)=>{e.pattern??(e.pattern=Hze),vo.init(t,e)}),F7e=Ut("$ZodULID",(t,e)=>{e.pattern??(e.pattern=Vze),vo.init(t,e)}),$7e=Ut("$ZodXID",(t,e)=>{e.pattern??(e.pattern=Gze),vo.init(t,e)}),z7e=Ut("$ZodKSUID",(t,e)=>{e.pattern??(e.pattern=Kze),vo.init(t,e)}),O7e=Ut("$ZodISODateTime",(t,e)=>{e.pattern??(e.pattern=l7e(e)),vo.init(t,e)}),j7e=Ut("$ZodISODate",(t,e)=>{e.pattern??(e.pattern=o7e),vo.init(t,e)}),Q7e=Ut("$ZodISOTime",(t,e)=>{e.pattern??(e.pattern=a7e(e)),vo.init(t,e)}),U7e=Ut("$ZodISODuration",(t,e)=>{e.pattern??(e.pattern=qze),vo.init(t,e)}),H7e=Ut("$ZodIPv4",(t,e)=>{e.pattern??(e.pattern=e7e),vo.init(t,e),t._zod.bag.format="ipv4"}),V7e=Ut("$ZodIPv6",(t,e)=>{e.pattern??(e.pattern=t7e),vo.init(t,e),t._zod.bag.format="ipv6",t._zod.check=n=>{try{new URL(`http://[${n.value}]`)}catch{n.issues.push({code:"invalid_format",format:"ipv6",input:n.value,inst:t,continue:!e.abort})}}}),G7e=Ut("$ZodCIDRv4",(t,e)=>{e.pattern??(e.pattern=n7e),vo.init(t,e)}),K7e=Ut("$ZodCIDRv6",(t,e)=>{e.pattern??(e.pattern=r7e),vo.init(t,e),t._zod.check=n=>{const r=n.value.split("/");try{if(r.length!==2)throw new Error;const[i,s]=r;if(!s)throw new Error;const o=Number(s);if(`${o}`!==s)throw new Error;if(o<0||o>128)throw new Error;new URL(`http://[${i}]`)}catch{n.issues.push({code:"invalid_format",format:"cidrv6",input:n.value,inst:t,continue:!e.abort})}}});function rce(t){if(t==="")return!0;if(t.length%4!==0)return!1;try{return atob(t),!0}catch{return!1}}const W7e=Ut("$ZodBase64",(t,e)=>{e.pattern??(e.pattern=i7e),vo.init(t,e),t._zod.bag.contentEncoding="base64",t._zod.check=n=>{rce(n.value)||n.issues.push({code:"invalid_format",format:"base64",input:n.value,inst:t,continue:!e.abort})}});function q7e(t){if(!Xue.test(t))return!1;const e=t.replace(/[-_]/g,r=>r==="-"?"+":"/"),n=e.padEnd(Math.ceil(e.length/4)*4,"=");return rce(n)}const Y7e=Ut("$ZodBase64URL",(t,e)=>{e.pattern??(e.pattern=Xue),vo.init(t,e),t._zod.bag.contentEncoding="base64url",t._zod.check=n=>{q7e(n.value)||n.issues.push({code:"invalid_format",format:"base64url",input:n.value,inst:t,continue:!e.abort})}}),X7e=Ut("$ZodE164",(t,e)=>{e.pattern??(e.pattern=s7e),vo.init(t,e)});function J7e(t,e=null){try{const n=t.split(".");if(n.length!==3)return!1;const[r]=n;if(!r)return!1;const i=JSON.parse(atob(r));return!("typ"in i&&i?.typ!=="JWT"||!i.alg||e&&(!("alg"in i)||i.alg!==e))}catch{return!1}}const Z7e=Ut("$ZodJWT",(t,e)=>{vo.init(t,e),t._zod.check=n=>{J7e(n.value,e.alg)||n.issues.push({code:"invalid_format",format:"jwt",input:n.value,inst:t,continue:!e.abort})}}),ice=Ut("$ZodNumber",(t,e)=>{la.init(t,e),t._zod.pattern=t._zod.bag.pattern??d7e,t._zod.parse=(n,r)=>{if(e.coerce)try{n.value=Number(n.value)}catch{}const i=n.value;if(typeof i=="number"&&!Number.isNaN(i)&&Number.isFinite(i))return n;const s=typeof i=="number"?Number.isNaN(i)?"NaN":Number.isFinite(i)?void 0:"Infinity":void 0;return n.issues.push({expected:"number",code:"invalid_type",input:i,inst:t,...s?{received:s}:{}}),n}}),eOe=Ut("$ZodNumberFormat",(t,e)=>{m7e.init(t,e),ice.init(t,e)}),tOe=Ut("$ZodBoolean",(t,e)=>{la.init(t,e),t._zod.pattern=h7e,t._zod.parse=(n,r)=>{if(e.coerce)try{n.value=!!n.value}catch{}const i=n.value;return typeof i=="boolean"||n.issues.push({expected:"boolean",code:"invalid_type",input:i,inst:t}),n}}),nOe=Ut("$ZodUnknown",(t,e)=>{la.init(t,e),t._zod.parse=n=>n}),rOe=Ut("$ZodNever",(t,e)=>{la.init(t,e),t._zod.parse=(n,r)=>(n.issues.push({expected:"never",code:"invalid_type",input:n.value,inst:t}),n)});function eU(t,e,n){t.issues.length&&e.issues.push(...Kue(n,t.issues)),e.value[n]=t.value}const iOe=Ut("$ZodArray",(t,e)=>{la.init(t,e),t._zod.parse=(n,r)=>{const i=n.value;if(!Array.isArray(i))return n.issues.push({expected:"array",code:"invalid_type",input:i,inst:t}),n;n.value=Array(i.length);const s=[];for(let o=0;o<i.length;o++){const a=i[o],l=e.element._zod.run({value:a,issues:[]},r);l instanceof Promise?s.push(l.then(u=>eU(u,n,o))):eU(l,n,o)}return s.length?Promise.all(s).then(()=>n):n}});function _D(t,e,n,r){t.issues.length&&e.issues.push(...Kue(n,t.issues)),t.value===void 0?n in r&&(e.value[n]=void 0):e.value[n]=t.value}function sce(t){const e=Object.keys(t.shape);for(const r of e)if(!t.shape?.[r]?._zod?.traits?.has("$ZodType"))throw new Error(`Invalid element at key "${r}": expected a Zod schema`);const n=Cze(t.shape);return{...t,keys:e,keySet:new Set(e),numKeys:e.length,optionalKeys:new Set(n)}}function oce(t,e,n,r,i,s){const o=[],a=i.keySet,l=i.catchall._zod,u=l.def.type;for(const c in e){if(a.has(c))continue;if(u==="never"){o.push(c);continue}const d=l.run({value:e[c],issues:[]},r);d instanceof Promise?t.push(d.then(f=>_D(f,n,c,e))):_D(d,n,c,e)}return o.length&&n.issues.push({code:"unrecognized_keys",keys:o,input:e,inst:s}),t.length?Promise.all(t).then(()=>n):n}const sOe=Ut("$ZodObject",(t,e)=>{if(la.init(t,e),!Object.getOwnPropertyDescriptor(e,"shape")?.get){const a=e.shape;Object.defineProperty(e,"shape",{get:()=>{const l={...a};return Object.defineProperty(e,"shape",{value:l}),l}})}const r=lz(()=>sce(e));Qs(t._zod,"propValues",()=>{const a=e.shape,l={};for(const u in a){const c=a[u]._zod;if(c.values){l[u]??(l[u]=new Set);for(const d of c.values)l[u].add(d)}}return l});const i=wD,s=e.catchall;let o;t._zod.parse=(a,l)=>{o??(o=r.value);const u=a.value;if(!i(u))return a.issues.push({expected:"object",code:"invalid_type",input:u,inst:t}),a;a.value={};const c=[],d=o.shape;for(const f of o.keys){const m=d[f]._zod.run({value:u[f],issues:[]},l);m instanceof Promise?c.push(m.then(v=>_D(v,a,f,u))):_D(m,a,f,u)}return s?oce(c,u,a,l,r.value,t):c.length?Promise.all(c).then(()=>a):a}}),oOe=Ut("$ZodObjectJIT",(t,e)=>{sOe.init(t,e);const n=t._zod.parse,r=lz(()=>sce(e)),i=f=>{const p=new I7e(["shape","payload","ctx"]),m=r.value,v=E=>{const I=JQ(E);return`shape[${I}]._zod.run({ value: input[${I}], issues: [] }, ctx)`};p.write("const input = payload.value;");const y=Object.create(null);let A=0;for(const E of m.keys)y[E]=`key_${A++}`;p.write("const newResult = {};");for(const E of m.keys){const I=y[E],D=JQ(E);p.write(`const ${I} = ${v(E)};`),p.write(`
        if (${I}.issues.length) {
          payload.issues = payload.issues.concat(${I}.issues.map(iss => ({
            ...iss,
            path: iss.path ? [${D}, ...iss.path] : [${D}]
          })));
        }
        
        
        if (${I}.value === undefined) {
          if (${D} in input) {
            newResult[${D}] = undefined;
          }
        } else {
          newResult[${D}] = ${I}.value;
        }
        
      `)}p.write("payload.value = newResult;"),p.write("return payload;");const C=p.compile();return(E,I)=>C(f,E,I)};let s;const o=wD,a=!Uue.jitless,u=a&&bze.value,c=e.catchall;let d;t._zod.parse=(f,p)=>{d??(d=r.value);const m=f.value;return o(m)?a&&u&&p?.async===!1&&p.jitless!==!0?(s||(s=i(e.shape)),f=s(f,p),c?oce([],m,f,p,d,t):f):n(f,p):(f.issues.push({expected:"object",code:"invalid_type",input:m,inst:t}),f)}});function tU(t,e,n,r){for(const s of t)if(s.issues.length===0)return e.value=s.value,e;const i=t.filter(s=>!eE(s));return i.length===1?(e.value=i[0].value,i[0]):(e.issues.push({code:"invalid_union",input:e.value,inst:n,errors:t.map(s=>s.issues.map(o=>Kx(o,r,Gx())))}),e)}const aOe=Ut("$ZodUnion",(t,e)=>{la.init(t,e),Qs(t._zod,"optin",()=>e.options.some(i=>i._zod.optin==="optional")?"optional":void 0),Qs(t._zod,"optout",()=>e.options.some(i=>i._zod.optout==="optional")?"optional":void 0),Qs(t._zod,"values",()=>{if(e.options.every(i=>i._zod.values))return new Set(e.options.flatMap(i=>Array.from(i._zod.values)))}),Qs(t._zod,"pattern",()=>{if(e.options.every(i=>i._zod.pattern)){const i=e.options.map(s=>s._zod.pattern);return new RegExp(`^(${i.map(s=>cz(s.source)).join("|")})$`)}});const n=e.options.length===1,r=e.options[0]._zod.run;t._zod.parse=(i,s)=>{if(n)return r(i,s);let o=!1;const a=[];for(const l of e.options){const u=l._zod.run({value:i.value,issues:[]},s);if(u instanceof Promise)a.push(u),o=!0;else{if(u.issues.length===0)return u;a.push(u)}}return o?Promise.all(a).then(l=>tU(l,i,t,s)):tU(a,i,t,s)}}),lOe=Ut("$ZodIntersection",(t,e)=>{la.init(t,e),t._zod.parse=(n,r)=>{const i=n.value,s=e.left._zod.run({value:i,issues:[]},r),o=e.right._zod.run({value:i,issues:[]},r);return s instanceof Promise||o instanceof Promise?Promise.all([s,o]).then(([l,u])=>nU(n,l,u)):nU(n,s,o)}});function Y8(t,e){if(t===e)return{valid:!0,data:t};if(t instanceof Date&&e instanceof Date&&+t==+e)return{valid:!0,data:t};if(y3(t)&&y3(e)){const n=Object.keys(e),r=Object.keys(t).filter(s=>n.indexOf(s)!==-1),i={...t,...e};for(const s of r){const o=Y8(t[s],e[s]);if(!o.valid)return{valid:!1,mergeErrorPath:[s,...o.mergeErrorPath]};i[s]=o.data}return{valid:!0,data:i}}if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return{valid:!1,mergeErrorPath:[]};const n=[];for(let r=0;r<t.length;r++){const i=t[r],s=e[r],o=Y8(i,s);if(!o.valid)return{valid:!1,mergeErrorPath:[r,...o.mergeErrorPath]};n.push(o.data)}return{valid:!0,data:n}}return{valid:!1,mergeErrorPath:[]}}function nU(t,e,n){if(e.issues.length&&t.issues.push(...e.issues),n.issues.length&&t.issues.push(...n.issues),eE(t))return t;const r=Y8(e.value,n.value);if(!r.valid)throw new Error(`Unmergable intersection. Error path: ${JSON.stringify(r.mergeErrorPath)}`);return t.value=r.data,t}const uOe=Ut("$ZodEnum",(t,e)=>{la.init(t,e);const n=Hue(e.entries),r=new Set(n);t._zod.values=r,t._zod.pattern=new RegExp(`^(${n.filter(i=>xze.has(typeof i)).map(i=>typeof i=="string"?VT(i):i.toString()).join("|")})$`),t._zod.parse=(i,s)=>{const o=i.value;return r.has(o)||i.issues.push({code:"invalid_value",values:n,input:o,inst:t}),i}}),cOe=Ut("$ZodTransform",(t,e)=>{la.init(t,e),t._zod.parse=(n,r)=>{if(r.direction==="backward")throw new Que(t.constructor.name);const i=e.transform(n.value,n);if(r.async)return(i instanceof Promise?i:Promise.resolve(i)).then(o=>(n.value=o,n));if(i instanceof Promise)throw new mE;return n.value=i,n}});function rU(t,e){return t.issues.length&&e===void 0?{issues:[],value:void 0}:t}const dOe=Ut("$ZodOptional",(t,e)=>{la.init(t,e),t._zod.optin="optional",t._zod.optout="optional",Qs(t._zod,"values",()=>e.innerType._zod.values?new Set([...e.innerType._zod.values,void 0]):void 0),Qs(t._zod,"pattern",()=>{const n=e.innerType._zod.pattern;return n?new RegExp(`^(${cz(n.source)})?$`):void 0}),t._zod.parse=(n,r)=>{if(e.innerType._zod.optin==="optional"){const i=e.innerType._zod.run(n,r);return i instanceof Promise?i.then(s=>rU(s,n.value)):rU(i,n.value)}return n.value===void 0?n:e.innerType._zod.run(n,r)}}),hOe=Ut("$ZodNullable",(t,e)=>{la.init(t,e),Qs(t._zod,"optin",()=>e.innerType._zod.optin),Qs(t._zod,"optout",()=>e.innerType._zod.optout),Qs(t._zod,"pattern",()=>{const n=e.innerType._zod.pattern;return n?new RegExp(`^(${cz(n.source)}|null)$`):void 0}),Qs(t._zod,"values",()=>e.innerType._zod.values?new Set([...e.innerType._zod.values,null]):void 0),t._zod.parse=(n,r)=>n.value===null?n:e.innerType._zod.run(n,r)}),fOe=Ut("$ZodDefault",(t,e)=>{la.init(t,e),t._zod.optin="optional",Qs(t._zod,"values",()=>e.innerType._zod.values),t._zod.parse=(n,r)=>{if(r.direction==="backward")return e.innerType._zod.run(n,r);if(n.value===void 0)return n.value=e.defaultValue,n;const i=e.innerType._zod.run(n,r);return i instanceof Promise?i.then(s=>iU(s,e)):iU(i,e)}});function iU(t,e){return t.value===void 0&&(t.value=e.defaultValue),t}const pOe=Ut("$ZodPrefault",(t,e)=>{la.init(t,e),t._zod.optin="optional",Qs(t._zod,"values",()=>e.innerType._zod.values),t._zod.parse=(n,r)=>(r.direction==="backward"||n.value===void 0&&(n.value=e.defaultValue),e.innerType._zod.run(n,r))}),gOe=Ut("$ZodNonOptional",(t,e)=>{la.init(t,e),Qs(t._zod,"values",()=>{const n=e.innerType._zod.values;return n?new Set([...n].filter(r=>r!==void 0)):void 0}),t._zod.parse=(n,r)=>{const i=e.innerType._zod.run(n,r);return i instanceof Promise?i.then(s=>sU(s,t)):sU(i,t)}});function sU(t,e){return!t.issues.length&&t.value===void 0&&t.issues.push({code:"invalid_type",expected:"nonoptional",input:t.value,inst:e}),t}const mOe=Ut("$ZodCatch",(t,e)=>{la.init(t,e),Qs(t._zod,"optin",()=>e.innerType._zod.optin),Qs(t._zod,"optout",()=>e.innerType._zod.optout),Qs(t._zod,"values",()=>e.innerType._zod.values),t._zod.parse=(n,r)=>{if(r.direction==="backward")return e.innerType._zod.run(n,r);const i=e.innerType._zod.run(n,r);return i instanceof Promise?i.then(s=>(n.value=s.value,s.issues.length&&(n.value=e.catchValue({...n,error:{issues:s.issues.map(o=>Kx(o,r,Gx()))},input:n.value}),n.issues=[]),n)):(n.value=i.value,i.issues.length&&(n.value=e.catchValue({...n,error:{issues:i.issues.map(s=>Kx(s,r,Gx()))},input:n.value}),n.issues=[]),n)}}),AOe=Ut("$ZodPipe",(t,e)=>{la.init(t,e),Qs(t._zod,"values",()=>e.in._zod.values),Qs(t._zod,"optin",()=>e.in._zod.optin),Qs(t._zod,"optout",()=>e.out._zod.optout),Qs(t._zod,"propValues",()=>e.in._zod.propValues),t._zod.parse=(n,r)=>{if(r.direction==="backward"){const s=e.out._zod.run(n,r);return s instanceof Promise?s.then(o=>wI(o,e.in,r)):wI(s,e.in,r)}const i=e.in._zod.run(n,r);return i instanceof Promise?i.then(s=>wI(s,e.out,r)):wI(i,e.out,r)}});function wI(t,e,n){return t.issues.length?(t.aborted=!0,t):e._zod.run({value:t.value,issues:t.issues},n)}const yOe=Ut("$ZodReadonly",(t,e)=>{la.init(t,e),Qs(t._zod,"propValues",()=>e.innerType._zod.propValues),Qs(t._zod,"values",()=>e.innerType._zod.values),Qs(t._zod,"optin",()=>e.innerType?._zod?.optin),Qs(t._zod,"optout",()=>e.innerType?._zod?.optout),t._zod.parse=(n,r)=>{if(r.direction==="backward")return e.innerType._zod.run(n,r);const i=e.innerType._zod.run(n,r);return i instanceof Promise?i.then(oU):oU(i)}});function oU(t){return t.value=Object.freeze(t.value),t}const vOe=Ut("$ZodCustom",(t,e)=>{Ed.init(t,e),la.init(t,e),t._zod.parse=(n,r)=>n,t._zod.check=n=>{const r=n.value,i=e.fn(r);if(i instanceof Promise)return i.then(s=>aU(s,n,r,t));aU(i,n,r,t)}});function aU(t,e,n,r){if(!t){const i={code:"custom",input:n,inst:r,path:[...r._zod.def.path??[]],continue:!r._zod.def.abort};r._zod.def.params&&(i.params=r._zod.def.params),e.issues.push(v3(i))}}var lU;class bOe{constructor(){this._map=new WeakMap,this._idmap=new Map}add(e,...n){const r=n[0];if(this._map.set(e,r),r&&typeof r=="object"&&"id"in r){if(this._idmap.has(r.id))throw new Error(`ID ${r.id} already exists in the registry`);this._idmap.set(r.id,e)}return this}clear(){return this._map=new WeakMap,this._idmap=new Map,this}remove(e){const n=this._map.get(e);return n&&typeof n=="object"&&"id"in n&&this._idmap.delete(n.id),this._map.delete(e),this}get(e){const n=e._zod.parent;if(n){const r={...this.get(n)??{}};delete r.id;const i={...r,...this._map.get(e)};return Object.keys(i).length?i:void 0}return this._map.get(e)}has(e){return this._map.has(e)}}function xOe(){return new bOe}(lU=globalThis).__zod_globalRegistry??(lU.__zod_globalRegistry=xOe());const Zw=globalThis.__zod_globalRegistry;function COe(t,e){return new t({type:"string",...qn(e)})}function EOe(t,e){return new t({type:"string",format:"email",check:"string_format",abort:!1,...qn(e)})}function uU(t,e){return new t({type:"string",format:"guid",check:"string_format",abort:!1,...qn(e)})}function SOe(t,e){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,...qn(e)})}function wOe(t,e){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v4",...qn(e)})}function _Oe(t,e){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v6",...qn(e)})}function IOe(t,e){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v7",...qn(e)})}function BOe(t,e){return new t({type:"string",format:"url",check:"string_format",abort:!1,...qn(e)})}function DOe(t,e){return new t({type:"string",format:"emoji",check:"string_format",abort:!1,...qn(e)})}function TOe(t,e){return new t({type:"string",format:"nanoid",check:"string_format",abort:!1,...qn(e)})}function MOe(t,e){return new t({type:"string",format:"cuid",check:"string_format",abort:!1,...qn(e)})}function kOe(t,e){return new t({type:"string",format:"cuid2",check:"string_format",abort:!1,...qn(e)})}function POe(t,e){return new t({type:"string",format:"ulid",check:"string_format",abort:!1,...qn(e)})}function ROe(t,e){return new t({type:"string",format:"xid",check:"string_format",abort:!1,...qn(e)})}function NOe(t,e){return new t({type:"string",format:"ksuid",check:"string_format",abort:!1,...qn(e)})}function LOe(t,e){return new t({type:"string",format:"ipv4",check:"string_format",abort:!1,...qn(e)})}function FOe(t,e){return new t({type:"string",format:"ipv6",check:"string_format",abort:!1,...qn(e)})}function $Oe(t,e){return new t({type:"string",format:"cidrv4",check:"string_format",abort:!1,...qn(e)})}function zOe(t,e){return new t({type:"string",format:"cidrv6",check:"string_format",abort:!1,...qn(e)})}function OOe(t,e){return new t({type:"string",format:"base64",check:"string_format",abort:!1,...qn(e)})}function jOe(t,e){return new t({type:"string",format:"base64url",check:"string_format",abort:!1,...qn(e)})}function QOe(t,e){return new t({type:"string",format:"e164",check:"string_format",abort:!1,...qn(e)})}function UOe(t,e){return new t({type:"string",format:"jwt",check:"string_format",abort:!1,...qn(e)})}function HOe(t,e){return new t({type:"string",format:"datetime",check:"string_format",offset:!1,local:!1,precision:null,...qn(e)})}function VOe(t,e){return new t({type:"string",format:"date",check:"string_format",...qn(e)})}function GOe(t,e){return new t({type:"string",format:"time",check:"string_format",precision:null,...qn(e)})}function KOe(t,e){return new t({type:"string",format:"duration",check:"string_format",...qn(e)})}function WOe(t,e){return new t({type:"number",checks:[],...qn(e)})}function qOe(t,e){return new t({type:"number",check:"number_format",abort:!1,format:"safeint",...qn(e)})}function YOe(t,e){return new t({type:"boolean",...qn(e)})}function XOe(t){return new t({type:"unknown"})}function JOe(t,e){return new t({type:"never",...qn(e)})}function cU(t,e){return new tce({check:"less_than",...qn(e),value:t,inclusive:!1})}function rP(t,e){return new tce({check:"less_than",...qn(e),value:t,inclusive:!0})}function dU(t,e){return new nce({check:"greater_than",...qn(e),value:t,inclusive:!1})}function iP(t,e){return new nce({check:"greater_than",...qn(e),value:t,inclusive:!0})}function hU(t,e){return new g7e({check:"multiple_of",...qn(e),value:t})}function ace(t,e){return new A7e({check:"max_length",...qn(e),maximum:t})}function ID(t,e){return new y7e({check:"min_length",...qn(e),minimum:t})}function lce(t,e){return new v7e({check:"length_equals",...qn(e),length:t})}function ZOe(t,e){return new b7e({check:"string_format",format:"regex",...qn(e),pattern:t})}function eje(t){return new x7e({check:"string_format",format:"lowercase",...qn(t)})}function tje(t){return new C7e({check:"string_format",format:"uppercase",...qn(t)})}function nje(t,e){return new E7e({check:"string_format",format:"includes",...qn(e),includes:t})}function rje(t,e){return new S7e({check:"string_format",format:"starts_with",...qn(e),prefix:t})}function ije(t,e){return new w7e({check:"string_format",format:"ends_with",...qn(e),suffix:t})}function gS(t){return new _7e({check:"overwrite",tx:t})}function sje(t){return gS(e=>e.normalize(t))}function oje(){return gS(t=>t.trim())}function aje(){return gS(t=>t.toLowerCase())}function lje(){return gS(t=>t.toUpperCase())}function uje(){return gS(t=>vze(t))}function cje(t,e,n){return new t({type:"array",element:e,...qn(n)})}function dje(t,e,n){return new t({type:"custom",check:"custom",fn:e,...qn(n)})}function hje(t){const e=fje(n=>(n.addIssue=r=>{if(typeof r=="string")n.issues.push(v3(r,n.value,e._zod.def));else{const i=r;i.fatal&&(i.continue=!1),i.code??(i.code="custom"),i.input??(i.input=n.value),i.inst??(i.inst=e),i.continue??(i.continue=!e._zod.def.abort),n.issues.push(v3(i))}},t(n.value,n)));return e}function fje(t,e){const n=new Ed({check:"custom",...qn(e)});return n._zod.check=t,n}function uce(t){let e=t?.target??"draft-2020-12";return e==="draft-4"&&(e="draft-04"),e==="draft-7"&&(e="draft-07"),{processors:t.processors??{},metadataRegistry:t?.metadata??Zw,target:e,unrepresentable:t?.unrepresentable??"throw",override:t?.override??(()=>{}),io:t?.io??"output",counter:0,seen:new Map,cycles:t?.cycles??"ref",reused:t?.reused??"inline",external:t?.external??void 0}}function ou(t,e,n={path:[],schemaPath:[]}){var r;const i=t._zod.def,s=e.seen.get(t);if(s)return s.count++,n.schemaPath.includes(t)&&(s.cycle=n.path),s.schema;const o={schema:{},count:1,cycle:void 0,path:n.path};e.seen.set(t,o);const a=t._zod.toJSONSchema?.();if(a)o.schema=a;else{const c={...n,schemaPath:[...n.schemaPath,t],path:n.path},d=t._zod.parent;if(d)o.ref=d,ou(d,e,c),e.seen.get(d).isParent=!0;else if(t._zod.processJSONSchema)t._zod.processJSONSchema(e,o.schema,c);else{const f=o.schema,p=e.processors[i.type];if(!p)throw new Error(`[toJSONSchema]: Non-representable type encountered: ${i.type}`);p(t,e,f,c)}}const l=e.metadataRegistry.get(t);return l&&Object.assign(o.schema,l),e.io==="input"&&Ac(t)&&(delete o.schema.examples,delete o.schema.default),e.io==="input"&&o.schema._prefault&&((r=o.schema).default??(r.default=o.schema._prefault)),delete o.schema._prefault,e.seen.get(t).schema}function cce(t,e){const n=t.seen.get(e);if(!n)throw new Error("Unprocessed schema. This is a bug in Zod.");const r=s=>{const o=t.target==="draft-2020-12"?"$defs":"definitions";if(t.external){const c=t.external.registry.get(s[0])?.id,d=t.external.uri??(p=>p);if(c)return{ref:d(c)};const f=s[1].defId??s[1].schema.id??`schema${t.counter++}`;return s[1].defId=f,{defId:f,ref:`${d("__shared")}#/${o}/${f}`}}if(s[1]===n)return{ref:"#"};const l=`#/${o}/`,u=s[1].schema.id??`__schema${t.counter++}`;return{defId:u,ref:l+u}},i=s=>{if(s[1].schema.$ref)return;const o=s[1],{ref:a,defId:l}=r(s);o.def={...o.schema},l&&(o.defId=l);const u=o.schema;for(const c in u)delete u[c];u.$ref=a};if(t.cycles==="throw")for(const s of t.seen.entries()){const o=s[1];if(o.cycle)throw new Error(`Cycle detected: #/${o.cycle?.join("/")}/<root>

Set the \`cycles\` parameter to \`"ref"\` to resolve cyclical schemas with defs.`)}for(const s of t.seen.entries()){const o=s[1];if(e===s[0]){i(s);continue}if(t.external){const l=t.external.registry.get(s[0])?.id;if(e!==s[0]&&l){i(s);continue}}if(t.metadataRegistry.get(s[0])?.id){i(s);continue}if(o.cycle){i(s);continue}if(o.count>1&&t.reused==="ref"){i(s);continue}}}function dce(t,e){const n=t.seen.get(e);if(!n)throw new Error("Unprocessed schema. This is a bug in Zod.");const r=o=>{const a=t.seen.get(o),l=a.def??a.schema,u={...l};if(a.ref===null)return;const c=a.ref;if(a.ref=null,c){r(c);const d=t.seen.get(c).schema;d.$ref&&(t.target==="draft-07"||t.target==="draft-04"||t.target==="openapi-3.0")?(l.allOf=l.allOf??[],l.allOf.push(d)):(Object.assign(l,d),Object.assign(l,u))}a.isParent||t.override({zodSchema:o,jsonSchema:l,path:a.path??[]})};for(const o of[...t.seen.entries()].reverse())r(o[0]);const i={};if(t.target==="draft-2020-12"?i.$schema="https://json-schema.org/draft/2020-12/schema":t.target==="draft-07"?i.$schema="http://json-schema.org/draft-07/schema#":t.target==="draft-04"?i.$schema="http://json-schema.org/draft-04/schema#":t.target,t.external?.uri){const o=t.external.registry.get(e)?.id;if(!o)throw new Error("Schema is missing an `id` property");i.$id=t.external.uri(o)}Object.assign(i,n.def??n.schema);const s=t.external?.defs??{};for(const o of t.seen.entries()){const a=o[1];a.def&&a.defId&&(s[a.defId]=a.def)}t.external||Object.keys(s).length>0&&(t.target==="draft-2020-12"?i.$defs=s:i.definitions=s);try{const o=JSON.parse(JSON.stringify(i));return Object.defineProperty(o,"~standard",{value:{...e["~standard"],jsonSchema:{input:BD(e,"input"),output:BD(e,"output")}},enumerable:!1,writable:!1}),o}catch{throw new Error("Error converting schema to JSON.")}}function Ac(t,e){const n=e??{seen:new Set};if(n.seen.has(t))return!1;n.seen.add(t);const r=t._zod.def;if(r.type==="transform")return!0;if(r.type==="array")return Ac(r.element,n);if(r.type==="set")return Ac(r.valueType,n);if(r.type==="lazy")return Ac(r.getter(),n);if(r.type==="promise"||r.type==="optional"||r.type==="nonoptional"||r.type==="nullable"||r.type==="readonly"||r.type==="default"||r.type==="prefault")return Ac(r.innerType,n);if(r.type==="intersection")return Ac(r.left,n)||Ac(r.right,n);if(r.type==="record"||r.type==="map")return Ac(r.keyType,n)||Ac(r.valueType,n);if(r.type==="pipe")return Ac(r.in,n)||Ac(r.out,n);if(r.type==="object"){for(const i in r.shape)if(Ac(r.shape[i],n))return!0;return!1}if(r.type==="union"){for(const i of r.options)if(Ac(i,n))return!0;return!1}if(r.type==="tuple"){for(const i of r.items)if(Ac(i,n))return!0;return!!(r.rest&&Ac(r.rest,n))}return!1}const pje=(t,e={})=>n=>{const r=uce({...n,processors:e});return ou(t,r),cce(r,t),dce(r,t)},BD=(t,e)=>n=>{const{libraryOptions:r,target:i}=n??{},s=uce({...r??{},target:i,io:e,processors:{}});return ou(t,s),cce(s,t),dce(s,t)},gje={guid:"uuid",url:"uri",datetime:"date-time",json_string:"json-string",regex:""},mje=(t,e,n,r)=>{const i=n;i.type="string";const{minimum:s,maximum:o,format:a,patterns:l,contentEncoding:u}=t._zod.bag;if(typeof s=="number"&&(i.minLength=s),typeof o=="number"&&(i.maxLength=o),a&&(i.format=gje[a]??a,i.format===""&&delete i.format),u&&(i.contentEncoding=u),l&&l.size>0){const c=[...l];c.length===1?i.pattern=c[0].source:c.length>1&&(i.allOf=[...c.map(d=>({...e.target==="draft-07"||e.target==="draft-04"||e.target==="openapi-3.0"?{type:"string"}:{},pattern:d.source}))])}},Aje=(t,e,n,r)=>{const i=n,{minimum:s,maximum:o,format:a,multipleOf:l,exclusiveMaximum:u,exclusiveMinimum:c}=t._zod.bag;typeof a=="string"&&a.includes("int")?i.type="integer":i.type="number",typeof c=="number"&&(e.target==="draft-04"||e.target==="openapi-3.0"?(i.minimum=c,i.exclusiveMinimum=!0):i.exclusiveMinimum=c),typeof s=="number"&&(i.minimum=s,typeof c=="number"&&e.target!=="draft-04"&&(c>=s?delete i.minimum:delete i.exclusiveMinimum)),typeof u=="number"&&(e.target==="draft-04"||e.target==="openapi-3.0"?(i.maximum=u,i.exclusiveMaximum=!0):i.exclusiveMaximum=u),typeof o=="number"&&(i.maximum=o,typeof u=="number"&&e.target!=="draft-04"&&(u<=o?delete i.maximum:delete i.exclusiveMaximum)),typeof l=="number"&&(i.multipleOf=l)},yje=(t,e,n,r)=>{n.type="boolean"},vje=(t,e,n,r)=>{n.not={}},bje=(t,e,n,r)=>{},xje=(t,e,n,r)=>{const i=t._zod.def,s=Hue(i.entries);s.every(o=>typeof o=="number")&&(n.type="number"),s.every(o=>typeof o=="string")&&(n.type="string"),n.enum=s},Cje=(t,e,n,r)=>{if(e.unrepresentable==="throw")throw new Error("Custom types cannot be represented in JSON Schema")},Eje=(t,e,n,r)=>{if(e.unrepresentable==="throw")throw new Error("Transforms cannot be represented in JSON Schema")},Sje=(t,e,n,r)=>{const i=n,s=t._zod.def,{minimum:o,maximum:a}=t._zod.bag;typeof o=="number"&&(i.minItems=o),typeof a=="number"&&(i.maxItems=a),i.type="array",i.items=ou(s.element,e,{...r,path:[...r.path,"items"]})},wje=(t,e,n,r)=>{const i=n,s=t._zod.def;i.type="object",i.properties={};const o=s.shape;for(const u in o)i.properties[u]=ou(o[u],e,{...r,path:[...r.path,"properties",u]});const a=new Set(Object.keys(o)),l=new Set([...a].filter(u=>{const c=s.shape[u]._zod;return e.io==="input"?c.optin===void 0:c.optout===void 0}));l.size>0&&(i.required=Array.from(l)),s.catchall?._zod.def.type==="never"?i.additionalProperties=!1:s.catchall?s.catchall&&(i.additionalProperties=ou(s.catchall,e,{...r,path:[...r.path,"additionalProperties"]})):e.io==="output"&&(i.additionalProperties=!1)},_je=(t,e,n,r)=>{const i=t._zod.def,s=i.inclusive===!1,o=i.options.map((a,l)=>ou(a,e,{...r,path:[...r.path,s?"oneOf":"anyOf",l]}));s?n.oneOf=o:n.anyOf=o},Ije=(t,e,n,r)=>{const i=t._zod.def,s=ou(i.left,e,{...r,path:[...r.path,"allOf",0]}),o=ou(i.right,e,{...r,path:[...r.path,"allOf",1]}),a=u=>"allOf"in u&&Object.keys(u).length===1,l=[...a(s)?s.allOf:[s],...a(o)?o.allOf:[o]];n.allOf=l},Bje=(t,e,n,r)=>{const i=t._zod.def,s=ou(i.innerType,e,r),o=e.seen.get(t);e.target==="openapi-3.0"?(o.ref=i.innerType,n.nullable=!0):n.anyOf=[s,{type:"null"}]},Dje=(t,e,n,r)=>{const i=t._zod.def;ou(i.innerType,e,r);const s=e.seen.get(t);s.ref=i.innerType},Tje=(t,e,n,r)=>{const i=t._zod.def;ou(i.innerType,e,r);const s=e.seen.get(t);s.ref=i.innerType,n.default=JSON.parse(JSON.stringify(i.defaultValue))},Mje=(t,e,n,r)=>{const i=t._zod.def;ou(i.innerType,e,r);const s=e.seen.get(t);s.ref=i.innerType,e.io==="input"&&(n._prefault=JSON.parse(JSON.stringify(i.defaultValue)))},kje=(t,e,n,r)=>{const i=t._zod.def;ou(i.innerType,e,r);const s=e.seen.get(t);s.ref=i.innerType;let o;try{o=i.catchValue(void 0)}catch{throw new Error("Dynamic catch values are not supported in JSON Schema")}n.default=o},Pje=(t,e,n,r)=>{const i=t._zod.def,s=e.io==="input"?i.in._zod.def.type==="transform"?i.out:i.in:i.out;ou(s,e,r);const o=e.seen.get(t);o.ref=s},Rje=(t,e,n,r)=>{const i=t._zod.def;ou(i.innerType,e,r);const s=e.seen.get(t);s.ref=i.innerType,n.readOnly=!0},Nje=(t,e,n,r)=>{const i=t._zod.def;ou(i.innerType,e,r);const s=e.seen.get(t);s.ref=i.innerType},Lje=Ut("ZodISODateTime",(t,e)=>{O7e.init(t,e),Lo.init(t,e)});function Fje(t){return HOe(Lje,t)}const $je=Ut("ZodISODate",(t,e)=>{j7e.init(t,e),Lo.init(t,e)});function zje(t){return VOe($je,t)}const Oje=Ut("ZodISOTime",(t,e)=>{Q7e.init(t,e),Lo.init(t,e)});function jje(t){return GOe(Oje,t)}const Qje=Ut("ZodISODuration",(t,e)=>{U7e.init(t,e),Lo.init(t,e)});function Uje(t){return KOe(Qje,t)}const Hje=(t,e)=>{que.init(t,e),t.name="ZodError",Object.defineProperties(t,{format:{value:n=>kze(t,n)},flatten:{value:n=>Mze(t,n)},addIssue:{value:n=>{t.issues.push(n),t.message=JSON.stringify(t.issues,q8,2)}},addIssues:{value:n=>{t.issues.push(...n),t.message=JSON.stringify(t.issues,q8,2)}},isEmpty:{get(){return t.issues.length===0}}})},Tf=Ut("ZodError",Hje,{Parent:Error}),Vje=hz(Tf),Gje=fz(Tf),Kje=GT(Tf),Wje=KT(Tf),qje=Nze(Tf),Yje=Lze(Tf),Xje=Fze(Tf),Jje=$ze(Tf),Zje=zze(Tf),e9e=Oze(Tf),t9e=jze(Tf),n9e=Qze(Tf),ja=Ut("ZodType",(t,e)=>(la.init(t,e),Object.assign(t["~standard"],{jsonSchema:{input:BD(t,"input"),output:BD(t,"output")}}),t.toJSONSchema=pje(t,{}),t.def=e,t.type=e.type,Object.defineProperty(t,"_def",{value:e}),t.check=(...n)=>t.clone(hC(e,{checks:[...e.checks??[],...n.map(r=>typeof r=="function"?{_zod:{check:r,def:{check:"custom"},onattach:[]}}:r)]})),t.clone=(n,r)=>pv(t,n,r),t.brand=()=>t,t.register=((n,r)=>(n.add(t,r),t)),t.parse=(n,r)=>Vje(t,n,r,{callee:t.parse}),t.safeParse=(n,r)=>Kje(t,n,r),t.parseAsync=async(n,r)=>Gje(t,n,r,{callee:t.parseAsync}),t.safeParseAsync=async(n,r)=>Wje(t,n,r),t.spa=t.safeParseAsync,t.encode=(n,r)=>qje(t,n,r),t.decode=(n,r)=>Yje(t,n,r),t.encodeAsync=async(n,r)=>Xje(t,n,r),t.decodeAsync=async(n,r)=>Jje(t,n,r),t.safeEncode=(n,r)=>Zje(t,n,r),t.safeDecode=(n,r)=>e9e(t,n,r),t.safeEncodeAsync=async(n,r)=>t9e(t,n,r),t.safeDecodeAsync=async(n,r)=>n9e(t,n,r),t.refine=(n,r)=>t.check(K9e(n,r)),t.superRefine=n=>t.check(W9e(n)),t.overwrite=n=>t.check(gS(n)),t.optional=()=>mU(t),t.nullable=()=>AU(t),t.nullish=()=>mU(AU(t)),t.nonoptional=n=>O9e(t,n),t.array=()=>B9e(t),t.or=n=>pce([t,n]),t.and=n=>k9e(t,n),t.transform=n=>yU(t,R9e(n)),t.default=n=>F9e(t,n),t.prefault=n=>z9e(t,n),t.catch=n=>Q9e(t,n),t.pipe=n=>yU(t,n),t.readonly=()=>V9e(t),t.describe=n=>{const r=t.clone();return Zw.add(r,{description:n}),r},Object.defineProperty(t,"description",{get(){return Zw.get(t)?.description},configurable:!0}),t.meta=(...n)=>{if(n.length===0)return Zw.get(t);const r=t.clone();return Zw.add(r,n[0]),r},t.isOptional=()=>t.safeParse(void 0).success,t.isNullable=()=>t.safeParse(null).success,t)),hce=Ut("_ZodString",(t,e)=>{pz.init(t,e),ja.init(t,e),t._zod.processJSONSchema=(r,i,s)=>mje(t,r,i);const n=t._zod.bag;t.format=n.format??null,t.minLength=n.minimum??null,t.maxLength=n.maximum??null,t.regex=(...r)=>t.check(ZOe(...r)),t.includes=(...r)=>t.check(nje(...r)),t.startsWith=(...r)=>t.check(rje(...r)),t.endsWith=(...r)=>t.check(ije(...r)),t.min=(...r)=>t.check(ID(...r)),t.max=(...r)=>t.check(ace(...r)),t.length=(...r)=>t.check(lce(...r)),t.nonempty=(...r)=>t.check(ID(1,...r)),t.lowercase=r=>t.check(eje(r)),t.uppercase=r=>t.check(tje(r)),t.trim=()=>t.check(oje()),t.normalize=(...r)=>t.check(sje(...r)),t.toLowerCase=()=>t.check(aje()),t.toUpperCase=()=>t.check(lje()),t.slugify=()=>t.check(uje())}),r9e=Ut("ZodString",(t,e)=>{pz.init(t,e),hce.init(t,e),t.email=n=>t.check(EOe(i9e,n)),t.url=n=>t.check(BOe(s9e,n)),t.jwt=n=>t.check(UOe(b9e,n)),t.emoji=n=>t.check(DOe(o9e,n)),t.guid=n=>t.check(uU(fU,n)),t.uuid=n=>t.check(SOe(_I,n)),t.uuidv4=n=>t.check(wOe(_I,n)),t.uuidv6=n=>t.check(_Oe(_I,n)),t.uuidv7=n=>t.check(IOe(_I,n)),t.nanoid=n=>t.check(TOe(a9e,n)),t.guid=n=>t.check(uU(fU,n)),t.cuid=n=>t.check(MOe(l9e,n)),t.cuid2=n=>t.check(kOe(u9e,n)),t.ulid=n=>t.check(POe(c9e,n)),t.base64=n=>t.check(OOe(A9e,n)),t.base64url=n=>t.check(jOe(y9e,n)),t.xid=n=>t.check(ROe(d9e,n)),t.ksuid=n=>t.check(NOe(h9e,n)),t.ipv4=n=>t.check(LOe(f9e,n)),t.ipv6=n=>t.check(FOe(p9e,n)),t.cidrv4=n=>t.check($Oe(g9e,n)),t.cidrv6=n=>t.check(zOe(m9e,n)),t.e164=n=>t.check(QOe(v9e,n)),t.datetime=n=>t.check(Fje(n)),t.date=n=>t.check(zje(n)),t.time=n=>t.check(jje(n)),t.duration=n=>t.check(Uje(n))});function wx(t){return COe(r9e,t)}const Lo=Ut("ZodStringFormat",(t,e)=>{vo.init(t,e),hce.init(t,e)}),i9e=Ut("ZodEmail",(t,e)=>{M7e.init(t,e),Lo.init(t,e)}),fU=Ut("ZodGUID",(t,e)=>{D7e.init(t,e),Lo.init(t,e)}),_I=Ut("ZodUUID",(t,e)=>{T7e.init(t,e),Lo.init(t,e)}),s9e=Ut("ZodURL",(t,e)=>{k7e.init(t,e),Lo.init(t,e)}),o9e=Ut("ZodEmoji",(t,e)=>{P7e.init(t,e),Lo.init(t,e)}),a9e=Ut("ZodNanoID",(t,e)=>{R7e.init(t,e),Lo.init(t,e)}),l9e=Ut("ZodCUID",(t,e)=>{N7e.init(t,e),Lo.init(t,e)}),u9e=Ut("ZodCUID2",(t,e)=>{L7e.init(t,e),Lo.init(t,e)}),c9e=Ut("ZodULID",(t,e)=>{F7e.init(t,e),Lo.init(t,e)}),d9e=Ut("ZodXID",(t,e)=>{$7e.init(t,e),Lo.init(t,e)}),h9e=Ut("ZodKSUID",(t,e)=>{z7e.init(t,e),Lo.init(t,e)}),f9e=Ut("ZodIPv4",(t,e)=>{H7e.init(t,e),Lo.init(t,e)}),p9e=Ut("ZodIPv6",(t,e)=>{V7e.init(t,e),Lo.init(t,e)}),g9e=Ut("ZodCIDRv4",(t,e)=>{G7e.init(t,e),Lo.init(t,e)}),m9e=Ut("ZodCIDRv6",(t,e)=>{K7e.init(t,e),Lo.init(t,e)}),A9e=Ut("ZodBase64",(t,e)=>{W7e.init(t,e),Lo.init(t,e)}),y9e=Ut("ZodBase64URL",(t,e)=>{Y7e.init(t,e),Lo.init(t,e)}),v9e=Ut("ZodE164",(t,e)=>{X7e.init(t,e),Lo.init(t,e)}),b9e=Ut("ZodJWT",(t,e)=>{Z7e.init(t,e),Lo.init(t,e)}),fce=Ut("ZodNumber",(t,e)=>{ice.init(t,e),ja.init(t,e),t._zod.processJSONSchema=(r,i,s)=>Aje(t,r,i),t.gt=(r,i)=>t.check(dU(r,i)),t.gte=(r,i)=>t.check(iP(r,i)),t.min=(r,i)=>t.check(iP(r,i)),t.lt=(r,i)=>t.check(cU(r,i)),t.lte=(r,i)=>t.check(rP(r,i)),t.max=(r,i)=>t.check(rP(r,i)),t.int=r=>t.check(pU(r)),t.safe=r=>t.check(pU(r)),t.positive=r=>t.check(dU(0,r)),t.nonnegative=r=>t.check(iP(0,r)),t.negative=r=>t.check(cU(0,r)),t.nonpositive=r=>t.check(rP(0,r)),t.multipleOf=(r,i)=>t.check(hU(r,i)),t.step=(r,i)=>t.check(hU(r,i)),t.finite=()=>t;const n=t._zod.bag;t.minValue=Math.max(n.minimum??Number.NEGATIVE_INFINITY,n.exclusiveMinimum??Number.NEGATIVE_INFINITY)??null,t.maxValue=Math.min(n.maximum??Number.POSITIVE_INFINITY,n.exclusiveMaximum??Number.POSITIVE_INFINITY)??null,t.isInt=(n.format??"").includes("int")||Number.isSafeInteger(n.multipleOf??.5),t.isFinite=!0,t.format=n.format??null});function Qg(t){return WOe(fce,t)}const x9e=Ut("ZodNumberFormat",(t,e)=>{eOe.init(t,e),fce.init(t,e)});function pU(t){return qOe(x9e,t)}const C9e=Ut("ZodBoolean",(t,e)=>{tOe.init(t,e),ja.init(t,e),t._zod.processJSONSchema=(n,r,i)=>yje(t,n,r)});function E9e(t){return YOe(C9e,t)}const S9e=Ut("ZodUnknown",(t,e)=>{nOe.init(t,e),ja.init(t,e),t._zod.processJSONSchema=(n,r,i)=>bje()});function gU(){return XOe(S9e)}const w9e=Ut("ZodNever",(t,e)=>{rOe.init(t,e),ja.init(t,e),t._zod.processJSONSchema=(n,r,i)=>vje(t,n,r)});function _9e(t){return JOe(w9e,t)}const I9e=Ut("ZodArray",(t,e)=>{iOe.init(t,e),ja.init(t,e),t._zod.processJSONSchema=(n,r,i)=>Sje(t,n,r,i),t.element=e.element,t.min=(n,r)=>t.check(ID(n,r)),t.nonempty=n=>t.check(ID(1,n)),t.max=(n,r)=>t.check(ace(n,r)),t.length=(n,r)=>t.check(lce(n,r)),t.unwrap=()=>t.element});function B9e(t,e){return cje(I9e,t,e)}const D9e=Ut("ZodObject",(t,e)=>{oOe.init(t,e),ja.init(t,e),t._zod.processJSONSchema=(n,r,i)=>wje(t,n,r,i),Qs(t,"shape",()=>e.shape),t.keyof=()=>gce(Object.keys(t._zod.def.shape)),t.catchall=n=>t.clone({...t._zod.def,catchall:n}),t.passthrough=()=>t.clone({...t._zod.def,catchall:gU()}),t.loose=()=>t.clone({...t._zod.def,catchall:gU()}),t.strict=()=>t.clone({...t._zod.def,catchall:_9e()}),t.strip=()=>t.clone({...t._zod.def,catchall:void 0}),t.extend=n=>_ze(t,n),t.safeExtend=n=>Ize(t,n),t.merge=n=>Bze(t,n),t.pick=n=>Sze(t,n),t.omit=n=>wze(t,n),t.partial=(...n)=>Dze(mce,t,n[0]),t.required=(...n)=>Tze(Ace,t,n[0])});function DD(t,e){const n={type:"object",shape:t??{},...qn(e)};return new D9e(n)}const T9e=Ut("ZodUnion",(t,e)=>{aOe.init(t,e),ja.init(t,e),t._zod.processJSONSchema=(n,r,i)=>_je(t,n,r,i),t.options=e.options});function pce(t,e){return new T9e({type:"union",options:t,...qn(e)})}const M9e=Ut("ZodIntersection",(t,e)=>{lOe.init(t,e),ja.init(t,e),t._zod.processJSONSchema=(n,r,i)=>Ije(t,n,r,i)});function k9e(t,e){return new M9e({type:"intersection",left:t,right:e})}const X8=Ut("ZodEnum",(t,e)=>{uOe.init(t,e),ja.init(t,e),t._zod.processJSONSchema=(r,i,s)=>xje(t,r,i),t.enum=e.entries,t.options=Object.values(e.entries);const n=new Set(Object.keys(e.entries));t.extract=(r,i)=>{const s={};for(const o of r)if(n.has(o))s[o]=e.entries[o];else throw new Error(`Key ${o} not found in enum`);return new X8({...e,checks:[],...qn(i),entries:s})},t.exclude=(r,i)=>{const s={...e.entries};for(const o of r)if(n.has(o))delete s[o];else throw new Error(`Key ${o} not found in enum`);return new X8({...e,checks:[],...qn(i),entries:s})}});function gce(t,e){const n=Array.isArray(t)?Object.fromEntries(t.map(r=>[r,r])):t;return new X8({type:"enum",entries:n,...qn(e)})}const P9e=Ut("ZodTransform",(t,e)=>{cOe.init(t,e),ja.init(t,e),t._zod.processJSONSchema=(n,r,i)=>Eje(t,n),t._zod.parse=(n,r)=>{if(r.direction==="backward")throw new Que(t.constructor.name);n.addIssue=s=>{if(typeof s=="string")n.issues.push(v3(s,n.value,e));else{const o=s;o.fatal&&(o.continue=!1),o.code??(o.code="custom"),o.input??(o.input=n.value),o.inst??(o.inst=t),n.issues.push(v3(o))}};const i=e.transform(n.value,n);return i instanceof Promise?i.then(s=>(n.value=s,n)):(n.value=i,n)}});function R9e(t){return new P9e({type:"transform",transform:t})}const mce=Ut("ZodOptional",(t,e)=>{dOe.init(t,e),ja.init(t,e),t._zod.processJSONSchema=(n,r,i)=>Nje(t,n,r,i),t.unwrap=()=>t._zod.def.innerType});function mU(t){return new mce({type:"optional",innerType:t})}const N9e=Ut("ZodNullable",(t,e)=>{hOe.init(t,e),ja.init(t,e),t._zod.processJSONSchema=(n,r,i)=>Bje(t,n,r,i),t.unwrap=()=>t._zod.def.innerType});function AU(t){return new N9e({type:"nullable",innerType:t})}const L9e=Ut("ZodDefault",(t,e)=>{fOe.init(t,e),ja.init(t,e),t._zod.processJSONSchema=(n,r,i)=>Tje(t,n,r,i),t.unwrap=()=>t._zod.def.innerType,t.removeDefault=t.unwrap});function F9e(t,e){return new L9e({type:"default",innerType:t,get defaultValue(){return typeof e=="function"?e():Gue(e)}})}const $9e=Ut("ZodPrefault",(t,e)=>{pOe.init(t,e),ja.init(t,e),t._zod.processJSONSchema=(n,r,i)=>Mje(t,n,r,i),t.unwrap=()=>t._zod.def.innerType});function z9e(t,e){return new $9e({type:"prefault",innerType:t,get defaultValue(){return typeof e=="function"?e():Gue(e)}})}const Ace=Ut("ZodNonOptional",(t,e)=>{gOe.init(t,e),ja.init(t,e),t._zod.processJSONSchema=(n,r,i)=>Dje(t,n,r,i),t.unwrap=()=>t._zod.def.innerType});function O9e(t,e){return new Ace({type:"nonoptional",innerType:t,...qn(e)})}const j9e=Ut("ZodCatch",(t,e)=>{mOe.init(t,e),ja.init(t,e),t._zod.processJSONSchema=(n,r,i)=>kje(t,n,r,i),t.unwrap=()=>t._zod.def.innerType,t.removeCatch=t.unwrap});function Q9e(t,e){return new j9e({type:"catch",innerType:t,catchValue:typeof e=="function"?e:()=>e})}const U9e=Ut("ZodPipe",(t,e)=>{AOe.init(t,e),ja.init(t,e),t._zod.processJSONSchema=(n,r,i)=>Pje(t,n,r,i),t.in=e.in,t.out=e.out});function yU(t,e){return new U9e({type:"pipe",in:t,out:e})}const H9e=Ut("ZodReadonly",(t,e)=>{yOe.init(t,e),ja.init(t,e),t._zod.processJSONSchema=(n,r,i)=>Rje(t,n,r,i),t.unwrap=()=>t._zod.def.innerType});function V9e(t){return new H9e({type:"readonly",innerType:t})}const G9e=Ut("ZodCustom",(t,e)=>{vOe.init(t,e),ja.init(t,e),t._zod.processJSONSchema=(n,r,i)=>Cje(t,n)});function K9e(t,e={}){return dje(G9e,t,e)}function W9e(t){return hje(t)}pce([DD({h:Qg().min(0).max(360),s:Qg().min(0).max(100),l:Qg().min(0).max(100),a:Qg().min(0).max(1)}),DD({r:Qg().min(0).max(255),g:Qg().min(0).max(255),b:Qg().min(0).max(255),a:Qg().min(0).max(1)}),wx().regex(/^#[0-9A-Fa-f]{6}$/)]);DD({fontFamily:wx(),fontSize:wx(),fontWeight:Qg().min(100).max(900),lineHeight:Qg().positive(),letterSpacing:wx().optional()});DD({category:wx().optional(),group:wx().optional(),scope:gce(["raw","semantic"]).optional(),search:wx().optional(),showInherited:E9e().optional()});function y0(t){return t!=null&&typeof t=="object"&&"h"in t&&"s"in t&&"l"in t}function sP(t){return t!=null&&typeof t=="object"&&"r"in t&&"g"in t&&"b"in t}function q9e(t){return t!=null&&typeof t=="object"&&"fontFamily"in t&&"fontSize"in t}function yce(t){return t!=null&&typeof t=="object"&&"offsetX"in t&&"offsetY"in t&&"blur"in t}function Y9e(t){return t!=null&&typeof t=="object"&&"width"in t&&"style"in t&&"color"in t}function X9e(t){const e=t.css_variable||`--${t.name.replace(/\./g,"-")}`,n={};switch(t.type){case"color":{y0(t.value)?n[e]=PB(t.value):sP(t.value)?n[e]=nP(t.value):typeof t.value=="string"?n[e]=t.value:n[e]=JSON.stringify(t.value);break}case"typography":{if(q9e(t.value)){const r=t.value;n[`${e}-font-family`]=r.fontFamily,n[`${e}-font-size`]=r.fontSize,n[`${e}-font-weight`]=String(r.fontWeight),n[`${e}-line-height`]=String(r.lineHeight),r.letterSpacing&&(n[`${e}-letter-spacing`]=r.letterSpacing)}else n[e]=String(t.value);break}case"shadow":{if(yce(t.value)){const r=t.value,i=r.offsetX,s=r.offsetY,o=r.blur,a=r.spread;let l="rgba(0,0,0,0.1)";y0(r.color)?l=PB(r.color):sP(r.color)?l=nP(r.color):typeof r.color=="string"&&(l=r.color),n[e]=`${i} ${s} ${o} ${a} ${l}`}else n[e]=String(t.value);break}case"border":{if(Y9e(t.value)){const r=t.value,i=r.width,s=r.style;let o="#e5e7eb";y0(r.color)?o=PB(r.color):sP(r.color)?o=nP(r.color):typeof r.color=="string"&&(o=r.color),n[e]=`${i} ${s} ${o}`}else n[e]=String(t.value);break}default:{typeof t.value=="string"?n[e]=t.value:typeof t.value=="number"?n[e]=`${t.value}px`:typeof t.value=="object"&&t.value!==null?n[e]=JSON.stringify(t.value):n[e]=String(t.value);break}}return n}function vce(t){const e={};return t.forEach(n=>{const r=X9e(n);Object.assign(e,r)}),e}function J9e(t){const e=Object.entries(t);return e.length===0?":root {}":`:root {
${e.map(([r,i])=>`  ${r}: ${i};`).join(`
`)}
}`}const bce=()=>{const t=xd()&&!fh(),e=x.useRef(""),n=x.useRef(null),r=x.useCallback(s=>{if(t)return;const o=JSON.stringify(s.map(l=>({name:l.name,value:l.value,scope:l.scope})));if(e.current===o)return;const a=Ta.getIframe();if(!a?.contentWindow){console.warn(" [ThemeMessenger] iframe not ready, cannot send theme tokens");return}try{const l=vce(s);a.contentWindow.postMessage({type:"UPDATE_THEME_TOKENS",styles:l},window.location.origin),e.current=o}catch(l){console.error(" [ThemeMessenger] Failed to send theme tokens:",l)}},[t]),i=x.useCallback(s=>{if(t)return;if(n.current===s){console.log(" [ThemeMessenger] Duplicate dark mode, skipping send");return}const o=Ta.getIframe();if(!o?.contentWindow){console.warn(" [ThemeMessenger] iframe not ready, cannot send dark mode");return}try{o.contentWindow.postMessage({type:"SET_DARK_MODE",isDark:s},window.location.origin),n.current=s,console.log(" [ThemeMessenger] Sent dark mode to Preview:",s)}catch(a){console.error(" [ThemeMessenger] Failed to send dark mode:",a)}},[t]);return{sendThemeTokens:r,sendDarkMode:i}},eu=[];for(let t=0;t<256;++t)eu.push((t+256).toString(16).slice(1));function Z9e(t,e=0){return(eu[t[e+0]]+eu[t[e+1]]+eu[t[e+2]]+eu[t[e+3]]+"-"+eu[t[e+4]]+eu[t[e+5]]+"-"+eu[t[e+6]]+eu[t[e+7]]+"-"+eu[t[e+8]]+eu[t[e+9]]+"-"+eu[t[e+10]]+eu[t[e+11]]+eu[t[e+12]]+eu[t[e+13]]+eu[t[e+14]]+eu[t[e+15]]).toLowerCase()}let oP;const eQe=new Uint8Array(16);function tQe(){if(!oP){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");oP=crypto.getRandomValues.bind(crypto)}return oP(eQe)}const nQe=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),vU={randomUUID:nQe};function rQe(t,e,n){t=t||{};const r=t.random??t.rng?.()??tQe();if(r.length<16)throw new Error("Random bytes length must be >= 16");return r[6]=r[6]&15|64,r[8]=r[8]&63|128,Z9e(r)}function iQe(t,e,n){return vU.randomUUID&&!t?vU.randomUUID():rQe(t)}class TD{batchDelay;onBatch;filter;deduplication;eventBuffer=[];timerId=null;startTime;stats={totalReceived:0,totalFiltered:0,totalBatched:0,batchCount:0};lastReportedStats={totalReceived:0,totalFiltered:0,totalBatched:0};constructor(e){this.batchDelay=e.batchDelay??100,this.onBatch=e.onBatch,this.filter=e.filter,this.deduplication=e.deduplication??!0,this.startTime=performance.now()}addEvent(e){this.stats.totalReceived++;const n={eventType:e.eventType||"*",table:e.table||"unknown",new:e.new,old:e.old,id:this.extractId(e),timestamp:performance.now(),raw:e};if(this.filter&&!this.filter(n)){this.stats.totalFiltered++,console.log(" [RealtimeBatcher] Event filtered:",n.table,n.id);return}if(this.deduplication&&this.isDuplicate(n)){this.stats.totalFiltered++,console.log(" [RealtimeBatcher] Duplicate event ignored:",n.table,n.id);return}this.eventBuffer.push(n),console.log(" [RealtimeBatcher] Event buffered:",n.table,n.id,`(${this.eventBuffer.length} in buffer)`),this.startTimer()}startTimer(){this.timerId===null&&(this.timerId=globalThis.setTimeout(()=>{this.flush()},this.batchDelay))}flush(){if(this.eventBuffer.length===0){this.timerId=null;return}const e=[...this.eventBuffer];this.eventBuffer=[],this.timerId=null,this.stats.totalBatched+=e.length,this.stats.batchCount++;const n=performance.now()-this.startTime;console.log(` [RealtimeBatcher] Flushing ${e.length} events (batch #${this.stats.batchCount}, elapsed: ${n.toFixed(2)}ms)`);const r=this.stats.totalReceived-this.lastReportedStats.totalReceived,i=this.stats.totalFiltered-this.lastReportedStats.totalFiltered,s=this.stats.totalBatched-this.lastReportedStats.totalBatched;H1.recordBatcherEvents(r,i,s),this.lastReportedStats.totalReceived=this.stats.totalReceived,this.lastReportedStats.totalFiltered=this.stats.totalFiltered,this.lastReportedStats.totalBatched=this.stats.totalBatched,this.onBatch(e)}extractId(e){const n=e.new,r=e.old;return n?.id||r?.id}isDuplicate(e){return e.id?this.eventBuffer.some(n=>n.table===e.table&&n.id===e.id&&n.eventType===e.eventType):!1}forceFlush(){this.timerId!==null&&(globalThis.clearTimeout(this.timerId),this.timerId=null),this.flush()}getStats(){const e=performance.now()-this.startTime;return{...this.stats,averageBatchSize:this.stats.batchCount>0?this.stats.totalBatched/this.stats.batchCount:0,bufferSize:this.eventBuffer.length,elapsedTime:e}}resetStats(){this.stats={totalReceived:0,totalFiltered:0,totalBatched:0,batchCount:0},this.startTime=performance.now()}destroy(){this.timerId!==null&&(globalThis.clearTimeout(this.timerId),this.timerId=null),this.eventBuffer=[]}}const of={tableFilter(t){return e=>t.includes(e.table)},eventTypeFilter(t){return e=>t.includes(e.eventType)},hasIdFilter(){return t=>t.id!==void 0},combineFilters(...t){return e=>t.every(n=>n(e))}};class Lu extends cS{static async getThemesByProject(e){try{return await(await vn()).themes.getByProject(e)}catch(n){return console.error("[ThemeService] getThemesByProject failed:",n),[]}}static async getThemeById(e){try{return await(await vn()).themes.getById(e)}catch(n){return console.error("[ThemeService] getThemeById failed:",n),null}}static async getActiveTheme(e){try{return await(await vn()).themes.getActiveTheme(e)}catch(n){return console.error("[ThemeService] getActiveTheme failed:",n),null}}static async createTheme(e){const n=await vn();let r=await n.projects.getById(e.project_id);if(!r){console.warn("[ThemeService] Project not found, creating temp project:",e.project_id);const s={id:e.project_id,name:"Temp Project",domain:"localhost",created_at:new Date().toISOString(),updated_at:new Date().toISOString()};r=await n.projects.insert(s),console.log(" [IndexedDB] Temp project created:",r)}const i={id:js.generateId(),project_id:e.project_id,name:e.name,parent_theme_id:e.parent_theme_id||null,status:e.status||"draft",version:1,created_at:new Date().toISOString(),updated_at:new Date().toISOString()};return await n.themes.insert(i),console.log(" [IndexedDB] Theme created:",i),i}static async updateTheme(e,n){try{const i=await(await vn()).themes.update(e,n);return console.log("[ThemeService] Theme updated:",i),i}catch(r){throw console.error("[ThemeService] updateTheme failed:",r),r}}static async deleteTheme(e){try{const n=await vn(),r=await this.getThemeById(e);if(!r)throw new Error("   ");if((await this.getThemesByProject(r.project_id)).length===1)throw new Error("    ");await n.themes.delete(e),console.log("[ThemeService] Theme deleted:",e)}catch(n){throw console.error("[ThemeService] deleteTheme failed:",n),n}}static async duplicateTheme(e,n,r=!1){const i=new Lu,s=await this.getThemeById(e);if(!s)throw new Error("    ");const{data:o,error:a}=await i.supabase.rpc("duplicate_theme",{p_source_theme_id:e,p_new_name:n,p_inherit:r});if(a)throw console.error("[ThemeService] duplicateTheme failed:",a),new Error(`  : ${a.message}`);return i.invalidateCache(`themes:project:${s.project_id}`),console.log("[ThemeService] Theme duplicated:",o),o}static async activateTheme(e){try{const n=await vn(),r=await this.getThemeById(e);if(!r)throw new Error("   ");const s=(await n.themes.getByProject(r.project_id)).filter(o=>o.status==="active");for(const o of s)await n.themes.update(o.id,{status:"draft"});await this.updateTheme(e,{status:"active"}),console.log("[ThemeService] Theme activated:",e)}catch(n){throw console.error("[ThemeService] activateTheme failed:",n),n}}static async createSnapshot(e){const n=new Lu,r=await this.getThemeById(e);if(!r)throw new Error("   ");const{data:i,error:s}=await n.supabase.rpc("increment_design_theme_version",{p_theme_id:e});if(s)throw console.error("[ThemeService] createSnapshot failed:",s),new Error(`   : ${s.message}`);return n.invalidateCache(`theme:id:${e}`),n.invalidateCache(`themes:project:${r.project_id}`),console.log("[ThemeService] Snapshot created, new version:",i),i}static async getThemeHierarchy(e){const n=await this.getThemesByProject(e),r=new Map;for(const i of n){const s=i.parent_theme_id||"root";r.has(s)||r.set(s,[]),r.get(s).push(i)}return r}static subscribeToTheme(e,n){const r=new Lu,i=new TD({batchDelay:100,onBatch:o=>{const a=o[o.length-1];n(a.raw),console.log(` [ThemeService] Batched ${o.length} theme events  processed 1`)},filter:of.combineFilters(of.tableFilter(["design_themes"]),of.hasIdFilter()),deduplication:!0}),s=r.supabase.channel(`theme:${e}`).on("postgres_changes",{event:"*",schema:"public",table:"design_themes",filter:`id=eq.${e}`},o=>{i.addEvent(o)}).subscribe();return()=>{i.destroy(),r.supabase.removeChannel(s)}}static subscribeToProjectThemes(e,n){const r=new Lu,i=new TD({batchDelay:100,onBatch:o=>{o.forEach(a=>{n(a.raw)}),console.log(` [ThemeService] Batched ${o.length} project theme events`)},filter:of.combineFilters(of.tableFilter(["design_themes"]),of.hasIdFilter()),deduplication:!0}),s=r.supabase.channel(`themes:project:${e}`).on("postgres_changes",{event:"*",schema:"public",table:"design_themes",filter:`project_id=eq.${e}`},o=>{i.addEvent(o)}).subscribe();return()=>{i.destroy(),r.supabase.removeChannel(s)}}}class us extends cS{static async getResolvedTokens(e){try{const{getDB:n}=await en(async()=>{const{getDB:o}=await Promise.resolve().then(()=>h8);return{getDB:o}},void 0);return(await(await n()).designTokens.getByTheme(e)).map(o=>({...o,resolved_value:o.value,source_theme_id:e,is_inherited:!1,inheritance_depth:0}))}catch(n){return console.error("[TokenService] getResolvedTokens failed:",n),[]}}static async searchTokens(e,n,r=!0){const i=new us,s=`tokens:search:${e}:${n}:${r}`;return i.handleCachedApiCall(s,"searchTokens",async()=>{const{data:o,error:a}=await i.supabase.rpc("search_tokens",{p_theme_id:e,p_query:n,p_include_inherited:r});if(a)throw new Error(`  : ${a.message}`);return{data:o||[],error:null}},{staleTime:300*1e3})}static async getTokenById(e){const n=new us,r=`token:id:${e}`;try{return await n.handleCachedApiCall(r,"getTokenById",async()=>await n.supabase.from("design_tokens").select("*").eq("id",e).single(),{staleTime:300*1e3})}catch(i){return console.error("[TokenService] getTokenById failed:",i),null}}static async createToken(e){const n=new us,r=await n.handleApiCall("createToken",async()=>await n.supabase.from("design_tokens").insert({project_id:e.project_id,theme_id:e.theme_id,name:e.name,type:e.type,value:e.value,scope:e.scope,alias_of:e.alias_of||null,css_variable:e.css_variable}).select().single());return n.invalidateCache(`tokens:resolved:${e.theme_id}`),n.invalidateCache(`tokens:search:${e.theme_id}`),n.invalidateCache(`tokens:${e.scope}:${e.theme_id}`),n.invalidateCache(`tokens:type:${e.theme_id}:${e.type}`),r}static async updateToken(e,n){const r=new us,i=await r.handleApiCall("updateToken",async()=>await r.supabase.from("design_tokens").update({...n,updated_at:new Date().toISOString()}).eq("id",e).select().single());return r.invalidateCache(`token:id:${e}`),r.invalidateCache(`tokens:resolved:${i.theme_id}`),r.invalidateCache(`tokens:search:${i.theme_id}`),r.invalidateCache(`tokens:${i.scope}:${i.theme_id}`),r.invalidateCache(`tokens:type:${i.theme_id}:${i.type}`),i}static async deleteToken(e){const n=new us,r=await this.getTokenById(e);if(!r)throw new Error("   ");await n.handleDeleteCall("deleteToken",async()=>await n.supabase.from("design_tokens").delete().eq("id",e)),n.invalidateCache(`token:id:${e}`),n.invalidateCache(`tokens:resolved:${r.theme_id}`),n.invalidateCache(`tokens:search:${r.theme_id}`),n.invalidateCache(`tokens:${r.scope}:${r.theme_id}`),n.invalidateCache(`tokens:type:${r.theme_id}:${r.type}`)}static async bulkUpsertTokens(e){const{getDB:n}=await en(async()=>{const{getDB:o}=await Promise.resolve().then(()=>h8);return{getDB:o}},void 0),{ElementUtils:r}=await en(async()=>{const{ElementUtils:o}=await Promise.resolve().then(()=>D6e);return{ElementUtils:o}},void 0),i=await n();let s=0;for(const o of e){const a=o.id||r.generateId(),l={id:a,project_id:o.project_id,theme_id:o.theme_id,name:o.name,type:o.type,value:o.value,scope:o.scope||"semantic",created_at:o.created_at||new Date().toISOString(),updated_at:new Date().toISOString()};await i.designTokens.getById(a)?await i.designTokens.update(a,l):await i.designTokens.insert(l),s++}return s}static async getRawTokens(e){const n=new us,r=`tokens:raw:${e}`;return n.handleCachedApiCall(r,"getRawTokens",async()=>await n.supabase.from("design_tokens").select("*").eq("theme_id",e).eq("scope","raw").order("name",{ascending:!0}),{staleTime:300*1e3})}static async getSemanticTokens(e){const n=new us,r=`tokens:semantic:${e}`;return n.handleCachedApiCall(r,"getSemanticTokens",async()=>await n.supabase.from("design_tokens").select("*").eq("theme_id",e).eq("scope","semantic").order("name",{ascending:!0}),{staleTime:300*1e3})}static async getTokensByType(e,n){const r=new us,i=`tokens:type:${e}:${n}`;return r.handleCachedApiCall(i,"getTokensByType",async()=>await r.supabase.from("design_tokens").select("*").eq("theme_id",e).eq("type",n).order("name",{ascending:!0}),{staleTime:300*1e3})}static async resolveAlias(e,n=new Set){if(n.has(e))return console.error("[TokenService] Circular alias detected:",e),null;n.add(e);const r=await this.getTokenById(e);return r?r.alias_of?this.resolveAlias(r.alias_of,n):r:null}static generateCSSVariable(e){return`--${e.replace(/\./g,"-")}`}static async isTokenNameUnique(e,n,r){let s=new us().supabase.from("design_tokens").select("id").eq("theme_id",e).eq("name",n);r&&(s=s.neq("id",r));const{data:o,error:a}=await s;return a?(console.error("[TokenService] isTokenNameUnique failed:",a),!1):o.length===0}static subscribeToTokenChanges(e,n){const r=new us,i=new TD({batchDelay:100,onBatch:o=>{const a=o[o.length-1];n(a.raw)},filter:of.combineFilters(of.tableFilter(["design_tokens"]),of.hasIdFilter()),deduplication:!0}),s=r.supabase.channel(`tokens:theme:${e}`).on("postgres_changes",{event:"*",schema:"public",table:"design_tokens",filter:`theme_id=eq.${e}`},o=>{i.addEvent(o)}).subscribe();return()=>{i.destroy(),r.supabase.removeChannel(s)}}static subscribeToProjectTokens(e,n){const r=new us,i=new TD({batchDelay:100,onBatch:o=>{o.forEach(a=>{n(a.raw)})},filter:of.combineFilters(of.tableFilter(["design_tokens"]),of.hasIdFilter()),deduplication:!0}),s=r.supabase.channel(`tokens:project:${e}`).on("postgres_changes",{event:"*",schema:"public",table:"design_tokens",filter:`project_id=eq.${e}`},o=>{i.addEvent(o)}).subscribe();return()=>{i.destroy(),r.supabase.removeChannel(s)}}static async getTokenStats(e){const n=await this.getResolvedTokens(e),r={total:n.length,raw:n.filter(i=>i.scope==="raw").length,semantic:n.filter(i=>i.scope==="semantic").length,byType:{},inherited:n.filter(i=>i.is_inherited).length};for(const i of n)r.byType[i.type]=(r.byType[i.type]||0)+1;return r}static async exportTokensW3C(e){const n=await this.getResolvedTokens(e),r={};for(const i of n){const s=i.name.split(".");let o=r;for(let l=0;l<s.length-1;l++)o[s[l]]||(o[s[l]]={}),o=o[s[l]];const a=s[s.length-1];o[a]={$type:i.type,$value:i.value},i.alias_of&&(o[a].$description=`Alias of ${i.alias_of}`)}return r}static async importTokensW3C(e,n,r){const i=[],s=(o,a=[])=>{for(const[l,u]of Object.entries(o))if(u&&typeof u=="object")if("$type"in u&&"$value"in u){const c=u;i.push({project_id:e,theme_id:n,name:[...a,l].join("."),type:c.$type,value:c.$value,scope:"raw",css_variable:this.generateCSSVariable([...a,l].join("."))})}else s(u,[...a,l])};return s(r),this.bulkUpsertTokens(i)}}let aP=null,lP=null,uP=0,Lb=null,Fb=null;const Ds=aa()(s4e((t,e)=>({themes:[],activeTheme:null,activeThemeId:null,projectId:null,tokens:[],_tokensVersion:0,loading:!1,error:null,dirty:!1,get rawTokens(){const n=e()._tokensVersion;return(uP!==n||!aP)&&(aP=e().tokens.filter(r=>r.scope==="raw"),uP=n),aP},get semanticTokens(){const n=e()._tokensVersion;return(uP!==n||!lP)&&(lP=e().tokens.filter(r=>r.scope==="semantic")),lP},setProjectId:n=>{t({projectId:n})},loadThemes:async n=>{t({loading:!0,error:null});try{const r=await Lu.getThemesByProject(n);t({themes:r,loading:!1,projectId:n})}catch(r){const i=r instanceof Error?r.message:"  ";t({error:i,loading:!1}),console.error("[UnifiedThemeStore] loadThemes failed:",r)}},loadActiveTheme:async n=>{t({loading:!0,error:null});try{const r=await Lu.getActiveTheme(n);if(!r){t({loading:!1});return}t({activeTheme:r,activeThemeId:r.id,projectId:n,loading:!1}),await e().loadTokens(r.id),e().injectThemeCSS()}catch(r){const i=r instanceof Error?r.message:"   ";t({error:i,loading:!1}),console.error("[UnifiedThemeStore] loadActiveTheme failed:",r)}},setActiveTheme:async n=>{t({loading:!0,error:null});try{const r=e().themes.find(i=>i.id===n);if(!r)throw new Error("Theme not found");t({activeTheme:r,activeThemeId:n}),await e().loadTokens(n),e().injectThemeCSS(),t({loading:!1})}catch(r){const i=r instanceof Error?r.message:"  ";t({error:i,loading:!1}),console.error("[UnifiedThemeStore] setActiveTheme failed:",r)}},createTheme:async(n,r,i="draft",s)=>{const o=s||e().projectId;if(!o)return console.error("[UnifiedThemeStore] createTheme: projectId is null"),null;try{const a=await Lu.createTheme({project_id:o,name:n,parent_theme_id:r,status:i});return e()._addTheme(a),a}catch(a){const l=a instanceof Error?a.message:"  ";return t({error:l}),console.error("[UnifiedThemeStore] createTheme failed:",a),null}},updateTheme:async(n,r)=>{try{const i=await Lu.updateTheme(n,r);return e()._updateTheme(i),i}catch(i){const s=i instanceof Error?i.message:"  ";return t({error:s}),console.error("[UnifiedThemeStore] updateTheme failed:",i),null}},deleteTheme:async n=>{try{return await Lu.deleteTheme(n),e()._removeTheme(n),!0}catch(r){const i=r instanceof Error?r.message:"  ";return t({error:i}),console.error("[UnifiedThemeStore] deleteTheme failed:",r),!1}},duplicateTheme:async(n,r,i=!1,s)=>{try{const o=await Lu.duplicateTheme(n,r,i),a=s||e().projectId;return a&&await e().loadThemes(a),o}catch(o){const a=o instanceof Error?o.message:"  ";return t({error:a}),console.error("[UnifiedThemeStore] duplicateTheme failed:",o),null}},activateTheme:async n=>{try{return await Lu.activateTheme(n),!0}catch(r){const i=r instanceof Error?r.message:"  ";return t({error:i}),console.error("[UnifiedThemeStore] activateTheme failed:",r),!1}},snapshotVersion:async()=>{const{activeTheme:n}=e();if(n)try{const r=await Lu.createSnapshot(n.id);t(i=>({activeTheme:i.activeTheme?{...i.activeTheme,version:r,updated_at:new Date().toISOString()}:null}))}catch(r){const i=r instanceof Error?r.message:"   ";t({error:i}),console.error("[UnifiedThemeStore] snapshotVersion failed:",r)}},loadTokens:async n=>{t({loading:!0,error:null});try{const r=await us.getResolvedTokens(n);t(i=>({tokens:r,_tokensVersion:i._tokensVersion+1,loading:!1}))}catch(r){const i=r instanceof Error?r.message:"  ";t({error:i,loading:!1}),console.error("[UnifiedThemeStore] loadTokens failed:",r)}},createToken:async n=>{t({loading:!0,error:null});try{const r=await us.createToken(n);return t(i=>({tokens:[...i.tokens,r],_tokensVersion:i._tokensVersion+1,dirty:!1,loading:!1})),e().injectThemeCSS(),r}catch(r){const i=r instanceof Error?r.message:"  ";throw t({error:i,loading:!1}),console.error("[UnifiedThemeStore] createToken failed:",r),r}},updateToken:async(n,r)=>{t({loading:!0,error:null});try{await us.updateToken(n,r),t(i=>({tokens:i.tokens.map(s=>s.id===n?{...s,...r}:s),_tokensVersion:i._tokensVersion+1,loading:!1})),e().injectThemeCSS()}catch(i){const s=i instanceof Error?i.message:"  ";t({error:s,loading:!1}),console.error("[UnifiedThemeStore] updateToken failed:",i)}},updateTokenValue:(n,r,i)=>{t(s=>{const o=s.tokens.findIndex(l=>l.name===n&&l.scope===r);if(o===-1)return s;const a={...s.tokens[o],value:i,updated_at:new Date().toISOString()};return{tokens:[...s.tokens.slice(0,o),a,...s.tokens.slice(o+1)],dirty:!0,_tokensVersion:s._tokensVersion+1}}),e().injectThemeCSS()},addToken:n=>{t(r=>{const i={id:iQe(),project_id:r.activeTheme?.project_id||r.projectId||"",theme_id:r.activeTheme?.id||"",name:n.name,type:n.type,value:n.value,scope:n.scope,alias_of:n.alias_of,css_variable:n.css_variable,created_at:new Date().toISOString(),updated_at:new Date().toISOString()};return{tokens:[...r.tokens,i],dirty:!0,_tokensVersion:r._tokensVersion+1}}),e().injectThemeCSS()},deleteToken:async n=>{t({loading:!0,error:null});try{await us.deleteToken(n),t(r=>({tokens:r.tokens.filter(i=>i.id!==n),_tokensVersion:r._tokensVersion+1,loading:!1})),e().injectThemeCSS()}catch(r){const i=r instanceof Error?r.message:"  ";t({error:i,loading:!1}),console.error("[UnifiedThemeStore] deleteToken failed:",r)}},bulkUpsertTokens:async n=>{t({loading:!0,error:null});try{await us.bulkUpsertTokens(n);const{activeThemeId:r}=e();r&&await e().loadTokens(r),e().injectThemeCSS(),t({loading:!1,dirty:!1})}catch(r){const i=r instanceof Error?r.message:"   ";t({error:i,loading:!1}),console.error("[UnifiedThemeStore] bulkUpsertTokens failed:",r)}},saveAllTokens:async()=>{const{tokens:n,dirty:r,activeTheme:i}=e();if(!(!i||!r))try{await us.bulkUpsertTokens(n),t({dirty:!1})}catch(s){const o=s instanceof Error?s.message:" ";t({error:o}),console.error("[UnifiedThemeStore] saveAllTokens failed:",s)}},injectThemeCSS:()=>{const{tokens:n}=e();if(n.length!==0)try{const r=vce(n),i=J9e(r),s="xstudio-theme-vars";let o=document.getElementById(s);o||(o=document.createElement("style"),o.id=s,document.head.appendChild(o)),o.textContent=i}catch(r){console.error("[UnifiedThemeStore] injectThemeCSS failed:",r)}},subscribeToThemes:()=>{const{projectId:n}=e();return n?(Lb&&Lb(),Lb=Lu.subscribeToProjectThemes(n,r=>{if(r.eventType==="INSERT"){e()._addTheme(r.new);const i=r.new;i.status==="active"&&e()._setActiveTheme(i)}else if(r.eventType==="UPDATE"){e()._updateTheme(r.new);const i=r.new,{activeTheme:s}=e();s&&i.id===s.id&&e()._setActiveTheme(i),i.status==="active"&&s?.id!==i.id&&(e()._setActiveTheme(i),e().loadTokens(i.id)),s&&i.id===s.id&&i.status!=="active"&&e()._setActiveTheme(null)}else if(r.eventType==="DELETE"){const i=r.old;e()._removeTheme(i.id);const{activeTheme:s}=e();s&&i.id===s.id&&e()._setActiveTheme(null)}}),Lb):(console.error("[UnifiedThemeStore] subscribeToThemes: projectId is null"),null)},subscribeToTokens:()=>{const{activeThemeId:n}=e();return n?(Fb&&Fb(),Fb=us.subscribeToTokenChanges(n,async()=>{try{await e().loadTokens(n),e().injectThemeCSS()}catch(r){console.error("[UnifiedThemeStore] Failed to reload tokens:",r)}}),Fb):(console.error("[UnifiedThemeStore] subscribeToTokens: activeThemeId is null"),null)},_addTheme:n=>{t(r=>({themes:[...r.themes,n]}))},_updateTheme:n=>{t(r=>({themes:r.themes.map(i=>i.id===n.id?n:i)}))},_removeTheme:n=>{t(r=>({themes:r.themes.filter(i=>i.id!==n)}))},_setActiveTheme:n=>{t({activeTheme:n,activeThemeId:n?.id||null})},clearError:()=>t({error:null}),cleanup:()=>{Lb&&(Lb(),Lb=null),Fb&&(Fb(),Fb=null)},reset:()=>{e().cleanup(),t({themes:[],activeTheme:null,activeThemeId:null,projectId:null,tokens:[],_tokensVersion:0,loading:!1,error:null,dirty:!1})}}),{name:"UnifiedThemeStore"})),sQe=()=>{const t=Ds(i=>i.loadActiveTheme),e=Ds(i=>i.injectThemeCSS),n=x.useCallback(()=>{e()},[e]),r=x.useCallback(i=>{t(i)},[t]);return{applyThemeTokens:n,loadProjectTheme:r}};class oQe{metrics=null;renderTimes=[];frameTimes=[];maxSamples=60;listeners=new Set;autoCollectInterval=null;rafId=null;lastFrameTime=0;enableLogs=!1;thresholds={memoryWarning:60,memoryCritical:80,renderWarning:50,renderCritical:100,fpsWarning:50,fpsCritical:30,elementCountWarning:5e3};constructor(e){e&&(this.thresholds={...this.thresholds,...e})}collect(){const e=TLe(),n=performance.memory,r=n?.usedJSHeapSize??0,i=n?.jsHeapSizeLimit??1,s=r/i*100,o=this.estimateStoreMemory(e),a=this.getHistoryMemory(),l=this.estimateCacheMemory(),u=this.renderTimes[this.renderTimes.length-1]??0,c=this.calculateAverage(this.renderTimes),d=Math.max(...this.renderTimes,0),f=this.calculateFPS(),p=this.calculateHealthScore({heapUsagePercent:s,avgRenderTime:c,fps:f,elementCount:e.elementsMap?.size??0}),m=this.getStatus(p),v=this.generateWarnings({heapUsagePercent:s,avgRenderTime:c,fps:f,elementCount:e.elementsMap?.size??0});return this.metrics={elementCount:e.elementsMap?.size??0,pageCount:e.pages?.length??0,loadedPages:e.loadedPages?.size??0,storeMemory:o,historyMemory:a,cacheMemory:l,browserHeapUsed:r,browserHeapLimit:i,heapUsagePercent:s,lastRenderTime:u,avgRenderTime:c,maxRenderTime:d,fps:f,healthScore:p,status:m,warnings:v,timestamp:Date.now()},this.notifyListeners(this.metrics),this.metrics}recordRenderTime(e){this.renderTimes.push(e),this.renderTimes.length>this.maxSamples&&this.renderTimes.shift()}startAutoCollect(e=5e3){this.autoCollectInterval&&this.stopAutoCollect(),this.startFPSMeasurement(),this.autoCollectInterval=setInterval(()=>{this.collect()},e),this.enableLogs&&console.log(` [Monitor] Auto-collect started (${e}ms interval)`)}stopAutoCollect(){this.autoCollectInterval&&(clearInterval(this.autoCollectInterval),this.autoCollectInterval=null),this.stopFPSMeasurement(),this.enableLogs&&console.log(" [Monitor] Auto-collect stopped")}addListener(e){return this.listeners.add(e),()=>this.listeners.delete(e)}removeListener(e){this.listeners.delete(e)}getLastMetrics(){return this.metrics}setThresholds(e){this.thresholds={...this.thresholds,...e}}getThresholds(){return{...this.thresholds}}setLogsEnabled(e){this.enableLogs=e}isLogsEnabled(){return this.enableLogs}reset(){this.renderTimes=[],this.frameTimes=[],this.metrics=null}dump(){const e=this.collect();console.log(" [Monitor] Performance Metrics:"),console.log(`  Health: ${e.healthScore}% (${e.status})`),console.log(`  Memory: ${this.formatBytes(e.browserHeapUsed)} / ${this.formatBytes(e.browserHeapLimit)} (${e.heapUsagePercent.toFixed(1)}%)`),console.log(`  Elements: ${e.elementCount}`),console.log(`  FPS: ${e.fps.toFixed(1)}`),console.log(`  Avg Render: ${e.avgRenderTime.toFixed(2)}ms`),e.warnings.length>0&&console.log(`  Warnings: ${e.warnings.join(", ")}`)}startFPSMeasurement(){const e=n=>{if(this.lastFrameTime>0){const r=n-this.lastFrameTime;this.frameTimes.push(r),this.frameTimes.length>this.maxSamples&&this.frameTimes.shift()}this.lastFrameTime=n,this.rafId=requestAnimationFrame(e)};this.rafId=requestAnimationFrame(e)}stopFPSMeasurement(){this.rafId!==null&&(cancelAnimationFrame(this.rafId),this.rafId=null),this.lastFrameTime=0}calculateFPS(){if(this.frameTimes.length===0)return 60;const e=this.calculateAverage(this.frameTimes);return e>0?Math.min(60,1e3/e):60}calculateAverage(e){return e.length===0?0:e.reduce((n,r)=>n+r,0)/e.length}estimateStoreMemory(e){try{return(e.elementsMap?.size??0)*500}catch{return 0}}getHistoryMemory(){try{return ys.getMemoryStats().commandStoreStats?.estimatedMemoryUsage??0}catch{return 0}}estimateCacheMemory(){try{return A0.getStats().size*5e4}catch{return 0}}calculateHealthScore(e){let n=100;return e.heapUsagePercent>this.thresholds.memoryCritical?n-=40:e.heapUsagePercent>this.thresholds.memoryWarning&&(n-=20),e.avgRenderTime>this.thresholds.renderCritical?n-=30:e.avgRenderTime>this.thresholds.renderWarning&&(n-=15),e.fps<this.thresholds.fpsCritical?n-=20:e.fps<this.thresholds.fpsWarning&&(n-=10),e.elementCount>this.thresholds.elementCountWarning&&(n-=10),Math.max(0,Math.min(100,n))}getStatus(e){return e>=70?"healthy":e>=40?"warning":"critical"}generateWarnings(e){const n=[];return e.heapUsagePercent>this.thresholds.memoryCritical?n.push(` : ${e.heapUsagePercent.toFixed(1)}%`):e.heapUsagePercent>this.thresholds.memoryWarning&&n.push(` : ${e.heapUsagePercent.toFixed(1)}%`),e.avgRenderTime>this.thresholds.renderCritical?n.push(` : ${e.avgRenderTime.toFixed(0)}ms`):e.avgRenderTime>this.thresholds.renderWarning&&n.push(` : ${e.avgRenderTime.toFixed(0)}ms`),e.fps<this.thresholds.fpsCritical?n.push(`FPS : ${e.fps.toFixed(0)}`):e.fps<this.thresholds.fpsWarning&&n.push(`FPS : ${e.fps.toFixed(0)}`),e.elementCount>this.thresholds.elementCountWarning&&n.push(`  : ${e.elementCount}`),n}notifyListeners(e){this.listeners.forEach(n=>{try{n(e)}catch(r){console.error("[Monitor] Listener error:",r)}})}formatBytes(e){if(e===0)return"0 B";const n=1024,r=["B","KB","MB","GB"],i=Math.floor(Math.log(e)/Math.log(n));return`${(e/Math.pow(n,i)).toFixed(1)} ${r[i]}`}}const sx=new oQe;function aQe(t){const e={checkInterval:3e4,criticalHealthScore:30,warningHealthScore:50,recoveryCooldown:6e4,enabled:!0,...t?.config},n=x.useRef({totalRecoveries:0,lastRecoveryTime:null,lastRecoveryReason:null,history:[]}),r=x.useRef(!1),i=x.useRef(0),s=Pe(u=>u.clearAllPages),o=Pe(u=>u.currentPageId),a=x.useCallback(async u=>{if(r.current){console.warn("[AutoRecovery] Recovery already in progress");return}const c=Date.now();if(n.current.lastRecoveryTime&&c-n.current.lastRecoveryTime<e.recoveryCooldown){console.warn("[AutoRecovery] In cooldown period");return}r.current=!0;const d=sx.getLastMetrics()?.healthScore??0;console.warn(` [AutoRecovery] Starting recovery: ${u}`),console.log("  Health before:",d);try{console.log("  Step 1: Unloading inactive pages..."),s&&s(),console.log("  Step 2: History trimming skipped (not implemented)"),console.log("  Step 3: Clearing caches..."),A0.getPageIds().forEach(m=>{m!==o&&A0.remove(m)}),"gc"in window&&typeof window.gc=="function"&&(console.log("  Step 4: Requesting GC..."),window.gc?.()),await new Promise(m=>setTimeout(m,100));const p=sx.collect();n.current.totalRecoveries++,n.current.lastRecoveryTime=c,n.current.lastRecoveryReason=u,n.current.history.push({timestamp:c,reason:u,healthBefore:d,healthAfter:p.healthScore}),n.current.history.length>10&&n.current.history.shift(),console.log(" [AutoRecovery] Recovery complete"),console.log(`  Health after: ${p.healthScore}`),console.log(`  Improvement: +${p.healthScore-d}`),t?.onRecovery?.(u,{...n.current})}catch(f){console.error("[AutoRecovery] Recovery failed:",f)}finally{r.current=!1}},[s,o,e.recoveryCooldown,t]),l=x.useCallback((u="manual")=>{a(u)},[a]);return x.useEffect(()=>{if(!e.enabled)return;sx.startAutoCollect(e.checkInterval);const u=sx.addListener(c=>{const d=Date.now();d-i.current<5e3||(i.current=d,c.healthScore<e.warningHealthScore&&c.healthScore>=e.criticalHealthScore&&(console.warn(` [AutoRecovery] Warning: Health ${c.healthScore}%`),t?.onWarning?.(c)),c.healthScore<e.criticalHealthScore&&(console.error(` [AutoRecovery] Critical: Health ${c.healthScore}%`),a(`critical_health_${c.healthScore}`)))});return()=>{u(),sx.stopAutoCollect()}},[e.enabled,e.checkInterval,e.criticalHealthScore,e.warningHealthScore,a,t]),{stats:n.current,triggerRecovery:l,isRecovering:r.current}}function cP({data:t,onUpdate:e,dependencies:n=[],resetKey:r}){const i=x.useRef(""),s=x.useRef(!0),o=x.useRef(r??null);x.useEffect(()=>{const a=r??null;a!==o.current&&(o.current=a,s.current=!0,i.current=JSON.stringify(t))},[r,t]),x.useEffect(()=>{const a=JSON.stringify(t);if(s.current){s.current=!1,i.current=a;return}a!==i.current&&(i.current=a,e(t))},[t,e,...n])}const lQe=300*1e3;function xce(){const[t,e]=x.useState([]),n=x.useRef(new Map),r=x.useCallback((o,a,l=5e3)=>{const u=`${o}:${a}`,c=n.current.get(u),d=Date.now();if(c&&d-c<lQe)return null;n.current.set(u,d);const f=`toast-${d}-${Math.random().toString(36).slice(2,9)}`,p={id:f,type:o,message:a,duration:l};return e(m=>[...m,p]),l>0&&setTimeout(()=>{e(m=>m.filter(v=>v.id!==f))},l),f},[]),i=x.useCallback(o=>{e(a=>a.filter(l=>l.id!==o))},[]),s=x.useCallback(()=>{e([])},[]);return{toasts:t,showToast:r,dismissToast:i,dismissAll:s}}const uQe=()=>(x.useRef(new Set),{validateOrderNumbers:x.useCallback(e=>{},[])}),bU={system:"System",navigation:"Navigation",panels:"Panels",canvas:"Canvas",tools:"Tools",properties:"Properties",events:"Events",nodes:"Nodes"},dP=["system","navigation","canvas","panels","properties","events","nodes","tools"];function cQe(){return Object.entries(hS).map(([t,e])=>({id:t,key:e.key,display:G$({key:e.key,modifier:e.modifier}),description:e.description,category:e.category,i18nDescription:e.i18n?.ko}))}function dQe(t,e){if(!e.trim())return t;const n=e.toLowerCase();return t.filter(r=>r.description.toLowerCase().includes(n)||r.i18nDescription?.toLowerCase().includes(n)||r.key.toLowerCase().includes(n)||r.id.toLowerCase().includes(n))}function hQe(t,e){return e==="all"?t:t.filter(n=>n.category===e)}function fQe(t){const e={};for(const n of t)e[n.category]||(e[n.category]=[]),e[n.category].push(n);return e}function pQe({isOpen:t,onClose:e,className:n=""}){const[r,i]=x.useState(""),[s,o]=x.useState("all"),[a,l]=x.useState(new Set),u=x.useMemo(()=>cQe(),[]),c=x.useMemo(()=>{let v=u;return v=dQe(v,r),v=hQe(v,s),v},[u,r,s]),d=x.useMemo(()=>fQe(c),[c]),f=x.useMemo(()=>{const v={all:u.length},y=T6e();for(const A of dP)v[A]=y[A]?.length||0;return v},[u]);if(!t)return null;const p=v=>{l(y=>{const A=new Set(y);return A.has(v)?A.delete(v):A.add(v),A})},m=v=>{i(v),v.trim()&&l(new Set)};return h.jsxs("div",{className:`keyboard-shortcuts-help ${n}`.trim(),children:[h.jsx("div",{className:"shortcuts-overlay",onClick:e}),h.jsxs("div",{className:"shortcuts-panel",children:[h.jsxs("div",{className:"shortcuts-header",children:[h.jsxs("div",{className:"shortcuts-title",children:[h.jsx(gve,{color:ce.color,size:ce.size,strokeWidth:ce.strokeWidth}),h.jsx("h2",{children:"Keyboard Shortcuts"})]}),h.jsx(Kn,{variant:"ghost",size:"sm",onPress:e,"aria-label":"Close keyboard shortcuts help",children:h.jsx(vd,{color:ce.color,size:ce.size,strokeWidth:ce.strokeWidth})})]}),h.jsx("div",{className:"shortcuts-search",children:h.jsxs("div",{className:"search-input-wrapper",children:[h.jsx(_c,{size:14,className:"search-icon"}),h.jsx("input",{type:"text",value:r,onChange:v=>m(v.target.value),placeholder:"Search shortcuts...","aria-label":"Search keyboard shortcuts",className:"search-input"}),r&&h.jsx("button",{className:"search-clear",onClick:()=>m(""),"aria-label":"Clear search",children:h.jsx(vd,{size:12})})]})}),h.jsxs("div",{className:"shortcuts-tabs",children:[h.jsxs("button",{className:`shortcuts-tab ${s==="all"?"active":""}`,onClick:()=>o("all"),children:["All (",f.all,")"]}),dP.map(v=>h.jsxs("button",{className:`shortcuts-tab ${s===v?"active":""}`,onClick:()=>o(v),children:[bU[v]," (",f[v],")"]},v))]}),h.jsx("div",{className:"shortcuts-content",children:c.length===0?h.jsx("div",{className:"shortcuts-empty",children:h.jsxs("p",{children:['No shortcuts found for "',r,'"']})}):dP.map(v=>{const y=d[v];if(!y||y.length===0)return null;const A=a.has(v);return h.jsxs("div",{className:"shortcuts-category",children:[h.jsxs("button",{className:"category-header",onClick:()=>p(v),"aria-expanded":!A,children:[A?h.jsx(vf,{size:ce.size,strokeWidth:2}):h.jsx(ho,{size:ce.size,strokeWidth:2}),h.jsx("h3",{children:bU[v]}),h.jsxs("span",{className:"category-count",children:["(",y.length,")"]})]}),!A&&h.jsx("div",{className:"shortcuts-list",children:y.map(C=>h.jsxs("div",{className:"shortcut-item",children:[h.jsx("span",{className:"shortcut-description",children:C.i18nDescription||C.description}),h.jsx("kbd",{className:"shortcut-keys",children:C.display})]},C.id))})]},v)})}),h.jsxs("div",{className:"shortcuts-footer",children:[h.jsxs("p",{className:"shortcuts-hint",children:["Press ",h.jsx("kbd",{children:"?"})," anytime to toggle this help panel"]}),h.jsxs("p",{className:"shortcuts-count",children:[c.length," of ",u.length," shortcuts"]})]})]})]})}function MD({shortcutId:t,children:e,delay:n=700,placement:r="bottom",label:i}){const s=hS[t],[o,a]=x.useState(!1),l=x.useRef(null),u=x.useCallback(()=>{l.current=setTimeout(()=>{a(!0)},n)},[n]),c=x.useCallback(()=>{l.current&&(clearTimeout(l.current),l.current=null),a(!1)},[]);if(!s)return h.jsx(h.Fragment,{children:e});const d=G$({key:s.key,modifier:s.modifier}),f=i||s.i18n?.ko||s.description;return h.jsxs("span",{className:"shortcut-tooltip-wrapper",onMouseEnter:u,onMouseLeave:c,onFocus:u,onBlur:c,children:[e,o&&h.jsxs("div",{className:"shortcut-tooltip","data-placement":r,role:"tooltip",children:[h.jsx("span",{className:"shortcut-tooltip-label",children:f}),h.jsx("kbd",{className:"shortcut-tooltip-kbd",children:d})]})]})}const gQe={system:"",navigation:"",panels:"",canvas:"",tools:"",properties:"",events:"",nodes:""};function mQe({isOpen:t,onOpenChange:e}={}){const[n,r]=x.useState(!1),[i,s]=x.useState(""),o=x.useRef(null),a=t??n,l=x.useCallback(p=>{p&&s(""),e?e(p):r(p)},[e]),u=x.useMemo(()=>Object.entries(hS).map(([p,m])=>({id:p,label:m.i18n?.ko||m.description,category:m.category,shortcut:G$({key:m.key,modifier:m.modifier})})),[]),c=x.useMemo(()=>{if(!i.trim())return u;const p=i.toLowerCase();return u.filter(m=>m.label.toLowerCase().includes(p)||m.id.toLowerCase().includes(p)||m.category.toLowerCase().includes(p)||m.shortcut.toLowerCase().includes(p))},[u,i]);Hx([{key:"k",modifier:"cmd",handler:()=>{l(!0)},preventDefault:!0,priority:95,category:"system",description:"Open command palette"}],[l],{capture:!0}),x.useEffect(()=>{if(a){const p=setTimeout(()=>{o.current?.focus()},50);return()=>clearTimeout(p)}},[a]);const d=x.useCallback(p=>{console.log(`[CommandPalette] Execute: ${p}`),l(!1)},[l]),f=x.useCallback(p=>{p.key==="Escape"&&(p.preventDefault(),l(!1))},[l]);return h.jsx(hle,{isOpen:a,onOpenChange:l,className:"command-palette-overlay",children:h.jsx(sMe,{className:"command-palette-modal",children:h.jsx(dle,{"aria-label":"Command Palette",children:h.jsxs("div",{onKeyDown:f,children:[h.jsxs("div",{className:"command-palette-search",children:[h.jsx(_c,{size:ce.size,className:"command-palette-search-icon"}),h.jsx("input",{ref:o,type:"text",value:i,onChange:p=>s(p.target.value),placeholder:" ...",className:"command-palette-input","aria-label":"Search commands"})]}),c.length>0?h.jsx(Ui,{"aria-label":"Commands",className:"command-palette-list",selectionMode:"single",onAction:p=>d(p),children:c.map(p=>h.jsxs(tr,{id:p.id,textValue:p.label,className:"command-palette-item",children:[h.jsxs("div",{className:"command-palette-item-content",children:[h.jsx("span",{className:"command-palette-item-label",children:p.label}),h.jsx("span",{className:"command-palette-item-category",children:gQe[p.category]})]}),h.jsx("kbd",{className:"command-palette-kbd",children:p.shortcut})]},p.id))}):h.jsxs("div",{className:"command-palette-empty",children:['"',i,'"   ']}),h.jsxs("div",{className:"command-palette-footer",children:[h.jsxs("div",{className:"command-palette-hints",children:[h.jsxs("span",{className:"command-palette-hint",children:[h.jsx("kbd",{children:""})," "]}),h.jsxs("span",{className:"command-palette-hint",children:[h.jsx("kbd",{children:""})," "]}),h.jsxs("span",{className:"command-palette-hint",children:[h.jsx("kbd",{children:"esc"})," "]})]}),h.jsxs("span",{children:[c.length," "]})]})]})})})})}function AQe({onSearchChange:t}){const[e,n]=x.useState(""),r=x.useRef(null),{addSearch:i}=I$e(),a=`Search components... (${x.useMemo(()=>typeof navigator>"u"?!1:/Mac|iPhone|iPad|iPod/.test(navigator.platform)||/Mac|iPhone|iPad|iPod/.test(navigator.userAgent),[])?"K":"Ctrl+K"})`;return x.useEffect(()=>{const l=u=>{(u.metaKey||u.ctrlKey)&&u.key==="k"&&(u.preventDefault(),r.current?.focus())};return window.addEventListener("keydown",l),()=>window.removeEventListener("keydown",l)},[]),x.useEffect(()=>{t(e)},[e,t]),x.useEffect(()=>{if(!e.trim())return;const l=setTimeout(()=>{i(e)},1e3);return()=>clearTimeout(l)},[e,i]),h.jsx("div",{className:"component-search",children:h.jsx(k5e,{value:e,onChange:n,placeholder:a,"aria-label":"Search components",className:"component-search-field"})})}const xU=[{tag:"Panel",label:"panel",icon:IX},{tag:"Card",label:"card",icon:FN},{tag:"Tabs",label:"tabs",icon:wAe},{tag:"Breadcrumbs",label:"breadcrumbs",icon:vf},{tag:"Link",label:"link",icon:lT},{tag:"Separator",label:"separator",icon:Abe},{tag:"Nav",label:"navigation",icon:bF},{tag:"Slot",label:"slot",icon:H_,layoutOnly:!0}],yQe=[{tag:"TextField",label:"text field",icon:rbe},{tag:"NumberField",label:"number field",icon:vF},{tag:"SearchField",label:"search field",icon:_c},{tag:"Checkbox",label:"checkbox",icon:Mbe},{tag:"CheckboxGroup",label:"checkbox group",icon:SE},{tag:"RadioGroup",label:"radio group",icon:SE},{tag:"Select",label:"select",icon:ho},{tag:"ComboBox",label:"combo box",icon:ho},{tag:"Switch",label:"switch",icon:vxe},{tag:"Slider",label:"slider",icon:Sbe},{tag:"TailSwatch",label:"color picker",icon:Wve}],vQe=[{tag:"Button",label:"button",icon:h_},{tag:"ToggleButton",label:"toggle button",icon:Axe},{tag:"ToggleButtonGroup",label:"toggle button group",icon:SE},{tag:"Menu",label:"menu",icon:bF},{tag:"Toolbar",label:"toolbar",icon:wf}],bQe=[{tag:"Table",label:"table",icon:rxe},{tag:"ListBox",label:"list box",icon:Eve},{tag:"GridList",label:"grid list",icon:_X},{tag:"Tree",label:"tree",icon:xve},{tag:"TagGroup",label:"tag group",icon:EF},{tag:"Field",label:"field",icon:SE}],xQe=[{tag:"Tooltip",label:"tooltip",icon:DX},{tag:"ProgressBar",label:"progress bar",icon:mX},{tag:"Meter",label:"meter",icon:SX},{tag:"Badge",label:"badge",icon:RX}],CQe=[{tag:"Calendar",label:"calendar",icon:XAe},{tag:"DatePicker",label:"date picker",icon:G7},{tag:"DateRangePicker",label:"date range picker",icon:qAe},{tag:"DateField",label:"date field",icon:G7},{tag:"TimeField",label:"time field",icon:ho}],EQe=[{tag:"Dialog",label:"dialog",icon:FN},{tag:"Modal",label:"modal",icon:IX},{tag:"Popover",label:"popover",icon:FN},{tag:"Tooltip",label:"tooltip",icon:DX}],SQe=[{tag:"Text",label:"text",icon:SF},{tag:"section",label:"section",icon:Rx},{tag:"Div",label:"division",icon:z3}],wQe=[{tag:"Form",label:"form",icon:SE}],hP={layout:{label:"Layout",description:"Containers and structure"},inputs:{label:"Inputs",description:"Form controls"},actions:{label:"Actions",description:"Buttons and interactions"},collections:{label:"Collections",description:"Lists and data display"},feedback:{label:"Feedback",description:"Status indicators"},dateTime:{label:"Date & Time",description:"Date pickers"},overlays:{label:"Overlays",description:"Dialogs and modals"},structure:{label:"Structure",description:"Basic elements"},other:{label:"Other",description:"Item components"}},e_=({component:t,onAdd:e,selectedElementId:n,isRecent:r=!1,count:i=0})=>{const s=x.useCallback(()=>{e(t.tag,n||void 0)},[t.tag,e,n]);return h.jsxs("button",{className:"list-item",onClick:s,title:`Add ${t.label} element`,children:[h.jsx("div",{className:"list-item-icon",children:h.jsx(t.icon,{strokeWidth:1.5,width:16,height:16})}),r&&i>0&&h.jsx(R6e,{children:i}),h.jsx("span",{className:"list-item-name",children:t.label})]})};e_.displayName="ComponentItem";const Cce=x.memo(({handleAddElement:t,selectedElementId:e})=>{const{recentTags:n,addRecentComponent:r,clearRecentComponents:i,getComponentCount:s}=S$e(),{favoriteTags:o}=x$e(),[a,l]=x.useState(""),c=rh(T=>T.mode)==="layout",d=x.useMemo(()=>["layout","inputs","actions","collections","feedback","dateTime","overlays","structure","other"],[]),{isExpanded:f,toggleCategory:p,expandCategories:m}=y$e({initialExpanded:d,persist:!0}),v=x.useCallback((T,M)=>{t(T,M),r(T)},[t,r]),y=x.useMemo(()=>({layout:c?xU:xU.filter(T=>!("layoutOnly"in T&&T.layoutOnly)),inputs:yQe,actions:vQe,collections:bQe,feedback:xQe,dateTime:CQe,overlays:EQe,structure:SQe,other:wQe}),[c]),A=x.useMemo(()=>Object.entries(y).flatMap(([T,M])=>{const P=hP[T];return M.map(k=>({...k,category:P.label,categoryKey:T}))}),[y]),C=x.useMemo(()=>{if(!a.trim())return null;const T=a.toLowerCase();return A.map(P=>{const k=P.label.toLowerCase(),L=P.tag.toLowerCase(),$=P.category.toLowerCase();let z=0;(k===T||L===T)&&(z+=100),(k.startsWith(T)||L.startsWith(T))&&(z+=50),k.includes(T)&&(z+=30),L.includes(T)&&(z+=25),$.includes(T)&&(z+=10);const j=T.split(" ").filter(W=>W.length>0);return j.every(W=>k.includes(W)||L.includes(W))&&j.length>1&&(z+=20),{...P,score:z}}).filter(P=>P.score>0).sort((P,k)=>k.score-P.score)},[a,A]),E=x.useMemo(()=>{if(!C)return null;const T={};return C.forEach(M=>{T[M.categoryKey]||(T[M.categoryKey]=[]),T[M.categoryKey].push(M)}),T},[C]),I=x.useMemo(()=>n.map(T=>A.find(M=>M.tag===T)).filter(T=>T!==void 0).slice(0,8),[n,A]),D=x.useMemo(()=>o.map(T=>A.find(M=>M.tag===T)).filter(T=>T!==void 0),[o,A]);return x.useEffect(()=>{if(a&&E){const T=Object.keys(E);m(T)}},[a,E,m]),h.jsxs("div",{className:"panel",children:[h.jsx(Uu,{icon:h.jsx(im,{size:16}),title:"Components",actions:h.jsx("button",{className:"iconButton","aria-label":"filter components",children:h.jsx(eS,{color:ce.color,strokeWidth:ce.strokeWidth,size:ce.size})})}),h.jsx(AQe,{onSearchChange:l}),h.jsxs("div",{className:"panel-contents",children:[!a&&I.length>0&&h.jsxs("div",{className:"section",children:[h.jsxs("div",{className:"section-header",children:[h.jsxs("div",{className:"category-info",children:[h.jsx("h3",{className:"section-title",children:"Recently Used"}),h.jsx("span",{className:"category-count",children:I.length})]}),h.jsx("div",{className:"section-actions",children:h.jsx("button",{className:"iconButton","aria-label":"Clear Recent History",onClick:i,children:h.jsx(Qu,{color:ce.color,strokeWidth:ce.strokeWidth,size:ce.size})})})]}),h.jsx("div",{className:"section-content",children:h.jsx("div",{className:"list-group",role:"list",children:I.map(T=>h.jsx(e_,{component:T,onAdd:v,selectedElementId:e,isRecent:!0,count:s(T.tag)},T.tag))})})]}),D.length>0&&h.jsxs("div",{className:"section",children:[h.jsx("div",{className:"section-header",children:h.jsxs("div",{className:"category-info",children:[h.jsx(RX,{size:14,className:"category-icon-small"}),h.jsx("h3",{className:"section-title",children:"Favorites"}),h.jsx("span",{className:"category-count",children:D.length})]})}),h.jsx("div",{className:"section-content",children:h.jsx("div",{className:"list-group",role:"list",children:D.map(T=>h.jsx(e_,{component:T,onAdd:v,selectedElementId:e},T.tag))})})]}),a&&E?Object.entries(E).map(([T,M])=>{const P=T,k=hP[P],L=f(P);return!M||M.length===0?null:h.jsxs("div",{className:"section",children:[h.jsxs("div",{className:"section-header",children:[h.jsxs("div",{className:"category-info",children:[h.jsx("h3",{className:"section-title",children:k.label}),h.jsx("span",{className:"category-count",children:M.length})]}),h.jsx("div",{className:"section-actions",children:h.jsx("button",{className:"iconButton","aria-label":`Toggle ${k.label}`,onClick:()=>p(P),children:L?h.jsx(Q_,{color:ce.color,strokeWidth:ce.strokeWidth,size:ce.size}):h.jsx(ho,{color:ce.color,strokeWidth:ce.strokeWidth,size:ce.size})})})]}),L&&h.jsx("div",{className:"section-content",children:h.jsx("div",{className:"list-group",role:"list",children:M.map($=>h.jsx(e_,{component:$,onAdd:v,selectedElementId:e},$.tag))})})]},T)}):a?h.jsx("div",{className:"section",children:h.jsxs("div",{className:"search-no-results",children:[h.jsx(_c,{size:24,color:ce.color}),h.jsx("p",{className:"no-results-title",children:"No components found"}),h.jsx("p",{className:"no-results-hint",children:"Try 'button', 'input', or 'table'"})]})}):Object.entries(y).map(([T,M])=>{const P=T,k=hP[P],L=f(P);return h.jsxs("div",{className:"section",children:[h.jsxs("div",{className:"section-header",children:[h.jsxs("div",{className:"category-info",children:[h.jsx("h3",{className:"section-title",children:k.label}),h.jsx("span",{className:"category-count",children:M.length})]}),h.jsx("div",{className:"section-actions",children:h.jsx("button",{className:"iconButton","aria-label":`Toggle ${k.label}`,onClick:()=>p(P),children:L?h.jsx(Q_,{color:ce.color,strokeWidth:ce.strokeWidth,size:ce.size}):h.jsx(ho,{color:ce.color,strokeWidth:ce.strokeWidth,size:ce.size})})})]}),L&&h.jsx("div",{className:"section-content",children:h.jsx("div",{className:"list-group",role:"list",children:M.map($=>h.jsx(e_,{component:$,onAdd:v,selectedElementId:e},$.tag))})})]},T)})]})]})});Cce.displayName="ComponentList";function _Qe({handleAddElement:t,selectedElementId:e}){return h.jsx(Cce,{handleAddElement:t,selectedElementId:e})}const IQe=.02,BQe=1;function DQe(){const t=N3(),{vortexRef:e,effectType:n,setEffectType:r}=sv(),i=x.useRef(null),s=x.useCallback(()=>{r(p=>p==="sand"?"curl":p==="curl"?"matrix":p==="matrix"?"code":p==="code"?"art":"sand")},[r]),[o,a]=x.useState(()=>{const p=localStorage.getItem("theme");return p?p==="dark":window.matchMedia("(prefers-color-scheme: dark)").matches});x.useEffect(()=>{document.documentElement.setAttribute("data-theme",o?"dark":"light"),localStorage.setItem("theme",o?"dark":"light")},[o]);const l=x.useCallback(p=>{a(p)},[]),u=x.useCallback((p,m)=>{const v=p/window.innerWidth*2-1,y=-(m/window.innerHeight*2-1),A=200,C=60*Math.PI/180,E=Math.tan(C/2)*A,I=E*(window.innerWidth/window.innerHeight);return{x:v*I,y:y*E}},[]),c=x.useCallback(p=>{if(p.target.closest("button"))return;const{x:m,y:v}=u(p.clientX,p.clientY);e.current={active:!0,x:m,y:v,strength:.1,radius:20,height:0},i.current=setInterval(()=>{e.current.active&&(e.current.strength=Math.min(e.current.strength+IQe,BQe),e.current.radius=20+e.current.strength*160,e.current.height=e.current.strength*250)},16)},[e,u]),d=x.useCallback(p=>{if(p.target.closest("button")||!e.current.active)return;const{x:m,y:v}=u(p.clientX,p.clientY);e.current.x=m,e.current.y=v},[e,u]),f=x.useCallback(()=>{i.current&&(clearInterval(i.current),i.current=null),e.current.active=!1},[e]);return h.jsxs("main",{className:"main",onMouseDown:c,onMouseMove:d,onMouseUp:f,onMouseLeave:f,children:[h.jsx("section",{className:"welcome-wrapper",children:h.jsxs("div",{className:"welcome-container",children:[h.jsx("div",{className:"logo-container",children:h.jsx("div",{className:"logo",children:"ICONIC FUTURE"})}),h.jsx("div",{className:"header-container",children:h.jsxs("div",{className:"landing-header",children:[h.jsx("h1",{className:"landing-header-title",children:"COMPOSE"}),h.jsx("p",{className:"landing-header-subtitle",children:"Bespoke by design, cutting-edge platform."})]})}),h.jsx("div",{className:"landing-cta",children:h.jsx(Ng,{className:"react-aria-Button",variant:"primary",onClick:()=>t("/signin"),children:"Start App"})}),h.jsxs("div",{className:"landing-features",children:[h.jsx(Ng,{size:"sm",variant:"ghost",children:h.jsx($3,{})}),h.jsx(Ng,{size:"sm",variant:"ghost",children:h.jsx(Fbe,{})}),h.jsx(Ng,{size:"sm",variant:"ghost",children:h.jsx(oye,{})}),h.jsx(Ng,{size:"sm",variant:"ghost",children:h.jsx(nl,{})}),h.jsx(Ng,{size:"sm",variant:"ghost",children:h.jsx(UAe,{})}),h.jsx(Ng,{size:"sm",variant:"ghost",children:h.jsx(im,{})}),h.jsx(Ng,{size:"sm",variant:"ghost",children:h.jsx(bX,{})}),h.jsx(Ng,{size:"sm",variant:"ghost",children:h.jsx(V_,{})}),h.jsx(Ng,{size:"sm",variant:"ghost",children:h.jsx(ZE,{})})]})]})}),h.jsxs("footer",{className:"footer",children:[h.jsx(ri,{id:"effect",className:"toggle-button",isSelected:n==="matrix"||n==="code",onChange:s,children:n.toUpperCase()}),h.jsx(ri,{id:"day",className:"toggle-button",isSelected:o,onChange:l,children:o?"DARK":"LIGHT"})]})]})}function TQe(t,e){const n=new Map;console.log("[ProjectMerger]  :",{localCount:t.length,cloudCount:e.length});for(const i of t){const s={id:i.id,name:i.name,storage:{local:!0,cloud:!1},sync:{status:"local-only",localUpdatedAt:new Date(i.updated_at)},createdAt:new Date(i.created_at),lastModified:new Date(i.updated_at),localProject:i};n.set(i.id,s)}for(const i of e){const s=n.get(i.id);if(s){s.storage.cloud=!0,s.sync.cloudUpdatedAt=new Date(i.updated_at),s.cloudProject=i;const o=s.sync.localUpdatedAt.getTime(),a=s.sync.cloudUpdatedAt.getTime();Math.abs(o-a)<1e3?s.sync.status="synced":o>a?(s.sync.status="conflict",console.log("[ProjectMerger]   ( ):",{projectId:i.id,localTime:s.sync.localUpdatedAt,cloudTime:s.sync.cloudUpdatedAt})):(s.sync.status="conflict",console.log("[ProjectMerger]   ( ):",{projectId:i.id,localTime:s.sync.localUpdatedAt,cloudTime:s.sync.cloudUpdatedAt})),s.lastModified=new Date(Math.max(o,a))}else{const o={id:i.id,name:i.name,storage:{local:!1,cloud:!0},sync:{status:"cloud-only",cloudUpdatedAt:new Date(i.updated_at)},createdAt:new Date(i.created_at),lastModified:new Date(i.updated_at),cloudProject:i};n.set(i.id,o)}}const r=Array.from(n.values());return console.log("[ProjectMerger]  :",{totalCount:r.length,localOnly:r.filter(i=>i.sync.status==="local-only").length,cloudOnly:r.filter(i=>i.sync.status==="cloud-only").length,synced:r.filter(i=>i.sync.status==="synced").length,conflict:r.filter(i=>i.sync.status==="conflict").length}),r.sort((i,s)=>s.lastModified.getTime()-i.lastModified.getTime())}function MQe(t){const{local:e,cloud:n}=t.storage;return e&&n?t.sync.status==="conflict"?{icon:"",label:"Needs Sync",className:"badge-conflict"}:{icon:"",label:"Synced",className:"badge-synced"}:e&&!n?{icon:"",label:"Local Only",className:"badge-local"}:!e&&n?{icon:"",label:"Cloud Only",className:"badge-cloud"}:{icon:"",label:"Unknown",className:"badge-unknown"}}function kQe(t){const{local:e,cloud:n}=t.storage;return{canSync:e&&(!n||t.sync.status==="conflict"),canDownload:n&&!e,canOpen:e||n,canExport:e}}function CU(t){const n=Date.now()-t.getTime(),r=Math.floor(n/1e3),i=Math.floor(r/60),s=Math.floor(i/60),o=Math.floor(s/24),a=Math.floor(o/30),l=Math.floor(o/365);return r<60?" ":i<60?`${i} `:s<24?`${s} `:o<30?`${o} `:a<12?`${a} `:`${l} `}async function PQe(t){console.log("[ProjectSync]  :",t);try{const e=await vn(),n=await e.projects.getById(t);if(!n)throw new Error(`   : ${t}`);console.log("[ProjectSync]   :",n.name);try{await x0.updateProject(n.id,{name:n.name,updated_at:new Date().toISOString()}),console.log("[ProjectSync]    ")}catch{console.log("[ProjectSync]   ,  "),await x0.createProject({id:n.id,name:n.name,created_by:n.created_by||""})}const r=await e.pages.getByProject(t);console.log("[ProjectSync]  :",r.length);for(const i of r){const s={id:i.id,project_id:i.project_id,title:i.title,slug:i.slug,parent_id:i.parent_id,order_num:i.order_num,created_at:i.created_at,updated_at:new Date().toISOString()};try{await Qx.updatePage(i.id,s)}catch{await Qx.createPage(s)}const o=await e.elements.getByPage(i.id);if(console.log(`[ProjectSync]  "${i.title}" :`,o.length),o.length>0){const a=await sh.getElementsByPageId(i.id);a.length>0&&await sh.deleteMultipleElements(a.map(l=>l.id)),await sh.createMultipleElements(o.map(l=>({...l,updated_at:new Date().toISOString()})))}}await e.projects.update(t,{updated_at:new Date().toISOString()}),console.log(" [ProjectSync]  :",t)}catch(e){throw console.error(" [ProjectSync]  :",e),e}}async function RQe(t){console.log("[ProjectSync]  :",t);try{const e=await vn(),n=await x0.getProjectById(t);if(!n)throw new Error(`   : ${t}`);console.log("[ProjectSync]   :",n.name),await e.projects.insert(n),console.log("[ProjectSync]    ");const r=await Qx.getPagesByProjectId(t);console.log("[ProjectSync]  :",r.length);for(const i of r){const s={id:i.id,project_id:i.project_id,title:i.title,slug:i.slug,order_num:i.order_num,created_at:i.created_at,updated_at:i.updated_at};await e.pages.insert(s);const o=await sh.getElementsByPageId(i.id);console.log(`[ProjectSync]  "${i.title}" :`,o.length),o.length>0&&await e.elements.insertMany(o)}console.log(" [ProjectSync]  :",t)}catch(e){throw console.error(" [ProjectSync]  :",e),e}}const EU={syncMode:"manual",projectCreation:"local",autoSyncInterval:5,autoDownloadOnOpen:!1},Ece=aa()(e4(t=>({...EU,setSyncMode:e=>t({syncMode:e}),setProjectCreation:e=>t({projectCreation:e}),setAutoSyncInterval:e=>t({autoSyncInterval:e}),setAutoDownloadOnOpen:e=>t({autoDownloadOnOpen:e}),resetSettings:()=>t(EU)}),{name:"xstudio-settings",version:1}));function NQe({isOpen:t,onClose:e}){const{projectCreation:n,syncMode:r,setProjectCreation:i,setSyncMode:s,resetSettings:o}=Ece();return t?h.jsx("div",{className:"settings-overlay",onClick:e,children:h.jsxs("div",{className:"settings-panel",onClick:a=>a.stopPropagation(),children:[h.jsxs("div",{className:"settings-header",children:[h.jsxs("div",{className:"settings-title",children:[h.jsx(wf,{size:20}),h.jsx("h2",{children:"Settings"})]}),h.jsx(Kn,{variant:"ghost",size:"sm",onPress:e,"aria-label":"Close settings",children:h.jsx(vd,{size:20})})]}),h.jsxs("div",{className:"settings-content",children:[h.jsxs("div",{className:"setting-item",children:[h.jsxs("label",{htmlFor:"project-creation",children:[h.jsx("strong",{children:"  "}),h.jsx("p",{className:"setting-description",children:"    ."})]}),h.jsxs(pD,{id:"project-creation",selectedKey:n,onSelectionChange:a=>i(a),children:[h.jsx(nx,{id:"local",textValue:"Local Only",children:h.jsxs("div",{className:"select-option",children:[h.jsx("strong",{children:" Local Only"}),h.jsx("p",{children:"(IndexedDB)  ()"})]})}),h.jsx(nx,{id:"cloud",textValue:"Cloud Only",children:h.jsxs("div",{className:"select-option",children:[h.jsx("strong",{children:" Cloud Only"}),h.jsx("p",{children:"(Supabase) "})]})}),h.jsx(nx,{id:"both",textValue:"Local + Cloud",children:h.jsxs("div",{className:"select-option",children:[h.jsx("strong",{children:" Local + Cloud"}),h.jsx("p",{children:"   ()"})]})})]})]}),h.jsxs("div",{className:"setting-item",children:[h.jsxs("label",{htmlFor:"sync-mode",children:[h.jsx("strong",{children:" "}),h.jsx("p",{className:"setting-description",children:"    ."})]}),h.jsxs(pD,{id:"sync-mode",selectedKey:r,onSelectionChange:a=>s(a),children:[h.jsx(nx,{id:"manual",textValue:"Manual Sync",children:h.jsxs("div",{className:"select-option",children:[h.jsx("strong",{children:" Manual Sync"}),h.jsx("p",{children:"Sync     ()"})]})}),h.jsx(nx,{id:"auto",textValue:"Auto Sync",children:h.jsxs("div",{className:"select-option",children:[h.jsx("strong",{children:" Auto Sync"}),h.jsx("p",{children:"   ()"})]})})]})]}),h.jsxs("div",{className:"settings-info",children:[h.jsxs("p",{children:[h.jsx("strong",{children:"  :"})," Local Only + Manual Sync"]}),h.jsx("p",{children:"  ,   Sync   ."})]})]}),h.jsxs("div",{className:"settings-footer",children:[h.jsx(Kn,{variant:"ghost",size:"sm",onPress:o,children:"Reset to Defaults"}),h.jsx(Kn,{variant:"primary",size:"sm",onPress:e,children:"Done"})]})]})}):null}function LQe(){const t=N3(),[e,n]=x.useState(""),[r,i]=x.useState("all"),[s,o]=x.useState([]),[a,l]=x.useState(!1),u=Ece(D=>D.projectCreation),c=rFe(async()=>await x0.fetchProjects());x.useEffect(()=>{const D=async()=>{try{const P=(await(await vn()).projects.getAll()).map($=>({id:$.id,name:$.name,created_by:$.created_by||"",created_at:$.created_at||new Date().toISOString(),updated_at:$.updated_at||new Date().toISOString()}));console.log("[Dashboard]   :",P.length);const k=c.data||[];console.log("[Dashboard]  :",k.length);const L=TQe(P,k);o(L),console.log("[Dashboard]  :",L.length)}catch(T){console.error("[Dashboard]   :",T)}};c.isLoading||D()},[c.data,c.isLoading]);const d=hf(async({name:D})=>{const T=await vn(),M=await x0.getCurrentUser();let P;u==="local"?(P={id:js.generateId(),name:D.trim(),created_by:M.id,created_at:new Date().toISOString(),updated_at:new Date().toISOString()},await T.projects.insert(P),console.log("[Dashboard]   :",P.id)):u==="cloud"?(P=await x0.createProject({name:D.trim(),created_by:M.id}),console.log("[Dashboard]   :",P.id)):(P=await x0.createProject({name:D.trim(),created_by:M.id}),await T.projects.insert(P),console.log("[Dashboard] +  :",P.id));const k=js.generateId(),L={id:k,project_id:P.id,title:"Home",slug:"/",parent_id:null,order_num:0,created_at:new Date().toISOString(),updated_at:new Date().toISOString()},$={id:js.generateId(),tag:"body",props:{},parent_id:null,page_id:k,order_num:0,created_at:new Date().toISOString(),updated_at:new Date().toISOString()};return u==="local"?(await T.pages.insert(L),await T.elements.insert($)):u==="cloud"?(await Qx.createPage({id:k,project_id:P.id,title:"Home",slug:"/",order_num:0}),await sh.createElement($)):(await T.pages.insert(L),await T.elements.insert($),await Qx.createPage({id:k,project_id:P.id,title:"Home",slug:"/",order_num:0}),await sh.createElement($)),P},{onSuccess:D=>{c.reload(),n(""),t(`/builder/${D.id}`)}}),f=hf(async D=>{let T;if(r==="local"?(T="local",console.log("[Dashboard]   :",D)):r==="cloud"?(T="cloud",console.log("[Dashboard]   :",D)):(T="both",console.log("[Dashboard]  +   :",D)),T==="local"||T==="both"){const M=await vn(),P=await M.pages.getByProject(D);console.log("[Dashboard]  :",P.length);for(const O of P){const G=await M.elements.getByPage(O.id);console.log("[Dashboard] ",O.title," :",G.length);for(const q of G)await M.elements.delete(q.id);await M.history.clear(O.id),await Sue.clearPageHistory(O.id)}for(const O of P)await M.pages.delete(O.id);console.log("[Dashboard]     ");const k=await M.designTokens.getByProject(D);console.log("[Dashboard]   :",k.length);for(const O of k)await M.designTokens.delete(O.id);const L=await M.themes.getByProject(D);console.log("[Dashboard]   :",L.length);for(const O of L)await M.themes.delete(O.id);const $=await M.layouts.getByProject(D);console.log("[Dashboard]  :",$.length);for(const O of $){const G=await M.elements.getByLayout(O.id);console.log("[Dashboard] ",O.name," :",G.length);for(const q of G)await M.elements.delete(q.id);await M.layouts.delete(O.id)}const z=await M.data_tables.getByProject(D);for(const O of z)await M.data_tables.delete(O.id);console.log(`[Dashboard] DataTables ${z.length}  `);const j=await M.api_endpoints.getByProject(D);for(const O of j)await M.api_endpoints.delete(O.id);console.log(`[Dashboard] API Endpoints ${j.length}  `);const H=await M.variables.getByProject(D);for(const O of H)await M.variables.delete(O.id);console.log(`[Dashboard] Variables ${H.length}  `);const W=await M.transformers.getByProject(D);for(const O of W)await M.transformers.delete(O.id);console.log(`[Dashboard] Transformers ${W.length}  `),await M.projects.delete(D),console.log(" [Dashboard]    ")}if(T==="cloud"||T==="both")try{await x0.deleteProject(D),console.log(" [Dashboard]    ")}catch(M){console.warn("[Dashboard] Supabase   (    ):",M)}console.log(` [Dashboard]    (${T}):`,D)},{onSuccess:()=>{c.reload()}}),p=hf(async D=>{await PQe(D),console.log("[Dashboard]   :",D)},{onSuccess:()=>{c.reload()}}),m=hf(async D=>{await RQe(D),console.log("[Dashboard]   :",D)},{onSuccess:()=>{c.reload()}}),v=async D=>{if(D.preventDefault(),!e.trim()){alert("  .");return}try{await d.execute({name:e})}catch(T){console.error("  :",T)}},y=async D=>{if(confirm("   ?"))try{await f.execute(D)}catch(T){console.error("  :",T)}},A=s.filter(D=>r==="local"?D.storage.local:r==="cloud"?D.storage.cloud:!0),C=c.isLoading||d.isLoading||f.isLoading||p.isLoading||m.isLoading,E=c.error||d.error||f.error||p.error||m.error;if(c.isLoading&&s.length===0)return h.jsx("div",{className:"dashboard",children:h.jsx("div",{className:"loading",children:"  ..."})});const I={all:s.length,local:s.filter(D=>D.storage.local).length,cloud:s.filter(D=>D.storage.cloud).length};return h.jsxs("div",{className:"dashboard",children:[h.jsxs("header",{className:"header",children:[h.jsx("h1",{children:"XStudio Dashboard"}),h.jsxs("div",{className:"filter",children:[h.jsxs(Yt,{className:`react-aria-Button ${r==="all"?"primary":"default"}`,onPress:()=>i("all"),children:["All (",I.all,")"]}),h.jsxs(Yt,{className:`react-aria-Button ${r==="local"?"primary":"default"}`,onPress:()=>i("local"),children:[h.jsx(nve,{size:14})," Local (",I.local,")"]}),h.jsxs(Yt,{className:`react-aria-Button ${r==="cloud"?"primary":"default"}`,onPress:()=>i("cloud"),children:[h.jsx(xX,{size:14})," Cloud (",I.cloud,")"]}),h.jsx(Yt,{className:"react-aria-Button ghost",onPress:()=>l(!0),"aria-label":"Open settings",children:h.jsx(wf,{size:16})})]})]}),E&&h.jsx("div",{className:"error-message",children:E.message}),h.jsxs("main",{className:"main",children:[h.jsxs("form",{onSubmit:v,className:"add-project-form",children:[h.jsx(br,{value:e,onChange:D=>n(D),isDisabled:C,"aria-label":"New project name",children:h.jsx(Br,{type:"text",placeholder:"New Project"})}),h.jsx(Yt,{type:"submit",className:"react-aria-Button primary add-project-button",isDisabled:C||!e.trim(),children:d.isLoading?"Creating...":h.jsx(yd,{size:16})})]}),h.jsx("div",{className:"projects-grid",children:A.map(D=>{const T=MQe(D),M=kQe(D);return h.jsxs("div",{className:"project-card",children:[h.jsx("div",{className:"icon",children:h.jsx(Obe,{size:16,color:"var(--color-primary-600)"})}),h.jsxs("div",{className:"content",children:[h.jsx("h3",{className:"title",children:D.name}),h.jsx("div",{className:"badges",children:h.jsxs("span",{className:`badge ${T.className}`,children:[T.icon," ",T.label]})}),h.jsx("p",{className:"description",children:CU(D.lastModified)}),D.sync.lastSyncAt&&h.jsxs("p",{className:"sync-info",children:["Last sync: ",CU(D.sync.lastSyncAt)]})]}),h.jsxs("div",{className:"project-actions",children:[M.canOpen&&h.jsx(Yt,{className:"react-aria-Button primary",onPress:()=>t(`/builder/${D.id}`),isDisabled:C,children:h.jsx(MX,{size:16})}),M.canSync&&h.jsx(Yt,{className:"react-aria-Button default",onPress:async()=>{try{await p.execute(D.id),alert("  !   .")}catch(P){console.error("[Dashboard] Sync :",P),alert("  : "+P.message)}},isDisabled:C,children:p.isLoading?h.jsx(Cye,{size:16}):h.jsx(bX,{size:16})}),M.canDownload&&h.jsxs(Yt,{className:"react-aria-Button secondary",onPress:async()=>{try{await m.execute(D.id),alert("  !   .")}catch(P){console.error("[Dashboard] Download :",P),alert("  : "+P.message)}},isDisabled:C,children:[h.jsx(aT,{size:14})," ",m.isLoading?"Downloading...":"Download"]}),h.jsx(Yt,{className:"react-aria-Button default",onPress:()=>t(`/theme/${D.id}`),isDisabled:C,children:h.jsx(V_,{size:16})}),h.jsx(Yt,{className:"react-aria-Button default",onPress:()=>y(D.id),isDisabled:C,children:h.jsx(N0,{size:16})})]})]},D.id)})}),A.length===0&&!C&&h.jsxs("div",{className:"empty-state",children:[h.jsx("p",{children:" ."}),h.jsx("p",{children:"   !"})]})]}),h.jsx("footer",{className:"footer",children:h.jsx("p",{children:"XStudio - Local-first Web Builder"})}),h.jsx(NQe,{isOpen:a,onClose:()=>l(!1)})]})}class FQe{panels=new Map;initialized=!1;register(e){this.panels.has(e.id)&&console.warn(`[PanelRegistry] Panel "${e.id}" is already registered. Overwriting.`),this.panels.set(e.id,e)}registerMany(e){e.forEach(n=>this.register(n))}unregister(e){this.panels.delete(e)}getPanel(e){return this.panels.get(e)}getAllPanels(){return Array.from(this.panels.values())}getPanelsByCategory(e){return this.getAllPanels().filter(n=>n.category===e)}getPanelsByDefaultPosition(e){return this.getAllPanels().filter(n=>n.defaultPosition===e)}filterPanels(e){let n=this.getAllPanels();if(e.category&&(n=n.filter(r=>r.category===e.category)),e.search){const r=e.search.toLowerCase();n=n.filter(i=>i.name.toLowerCase().includes(r)||i.nameEn?.toLowerCase().includes(r)||i.description?.toLowerCase().includes(r))}return n}hasPanel(e){return this.panels.has(e)}get count(){return this.panels.size}get isInitialized(){return this.initialized}markInitialized(){this.initialized=!0}clear(){this.panels.clear(),this.initialized=!1}debug(){console.group("[PanelRegistry] Debug Info"),console.log("Total panels:",this.count),console.log("Initialized:",this.initialized),console.log("Panels by category:"),["navigation","editor","tool","system"].forEach(n=>{const r=this.getPanelsByCategory(n);console.log(`  ${n}:`,r.map(i=>i.id).join(", "))}),console.log("Panels by default position:"),console.log("  left:",this.getPanelsByDefaultPosition("left").map(n=>n.id).join(", ")),console.log("  right:",this.getPanelsByDefaultPosition("right").map(n=>n.id).join(", ")),console.groupEnd()}}const Ky=new FQe;function $Qe({activeTab:t,onTabChange:e}){const n=[{id:"pages",label:"Page",icon:h.jsx(AF,{color:ce.color,strokeWidth:ce.strokeWidth,size:ce.size})},{id:"layouts",label:"Layout",icon:h.jsx(uT,{color:ce.color,strokeWidth:ce.strokeWidth,size:ce.size})}];return h.jsx("div",{className:"nodes-panel-tabs",role:"tablist","aria-label":"Nodes Panel Tabs",children:n.map(r=>h.jsxs("button",{role:"tab","aria-selected":t===r.id,"aria-controls":`tabpanel-${r.id}`,className:`nodes-panel-tab ${t===r.id?"active":""}`,onClick:()=>e(r.id),children:[r.icon,h.jsx("span",{className:"nodes-panel-tab-label",children:r.label})]},r.id))})}function Sce(t,e=null){if(e===null){const r=new Map,i=new Map;t.forEach(o=>{if(o.deleted===!0)return;i.set(o.id,o);const a=o.parent_id||"root";r.has(a)||r.set(a,[]),r.get(a).push(o)});const s=o=>{let a=r.get(o)||[];if(o!=="root"){const l=i.get(o);l&&l.tag==="Tabs"?a=zQe(a):l&&l.tag==="Table"?a=[...a].sort((u,c)=>(u.order_num||0)-(c.order_num||0)):a=[...a].sort((u,c)=>(u.order_num||0)-(c.order_num||0))}else a=[...a].sort((l,u)=>(l.order_num||0)-(u.order_num||0));return a.map(l=>({id:l.id,tag:l.tag,parent_id:l.parent_id,order_num:l.order_num,props:l.props,deleted:l.deleted,dataBinding:l.dataBinding,children:s(l.id)}))};return s("root")}return console.warn("buildTreeFromElements:    (parentId )"),[]}function zQe(t){const e=t.filter(s=>s.tag==="Tab").sort((s,o)=>(s.order_num||0)-(o.order_num||0)),n=t.filter(s=>s.tag==="Panel").sort((s,o)=>(s.order_num||0)-(o.order_num||0)),r=[],i=new Set;return e.forEach(s=>{r.push(s);const a=s.props?.tabId;if(a){const l=n.find(u=>u.props?.tabId===a);l&&!i.has(l.id)&&(r.push(l),i.add(l.id))}else{console.warn(" Tab tabId , order_num  fallback :",s.id);const l=n.find(u=>!i.has(u.id)&&Math.abs((u.order_num||0)-(s.order_num||0))<=1);l&&(r.push(l),i.add(l.id))}}),n.forEach(s=>{i.has(s.id)||(console.warn("   Panel:",s.id),r.push(s))}),r}function OQe({selectedElementId:t,setSelectedElement:e,sendElementSelectedMessage:n,requestAutoSelectAfterUpdate:r,projectId:i}){const{projectId:s}=nC(),o=i||s,a=Fu(G=>G.layouts),l=Fu(G=>G.currentLayoutId),u=Fu(G=>G.setCurrentLayout),c=Fu(G=>G.createLayout),d=Fu(G=>G.deleteLayout),f=Fu(G=>G.fetchLayouts),p=x.useMemo(()=>{const G=a.find(q=>q.id===l)||null;return console.log(` [currentLayout] : currentLayoutId=${l?.slice(0,8)}, found=${G?.name}`),G},[a,l]),m=rh(G=>G.setCurrentLayoutId),v=Pe(G=>G.elements),y=Pe(G=>G.removeElement),A=Pe(G=>G.setElements),C=xd()&&!fh();x.useEffect(()=>{console.log(" [LayoutsTab] projectId:",o),o?(console.log(" [LayoutsTab] fetchLayouts :",o),f(o)):console.warn(" [LayoutsTab] projectId !")},[o,f]);const E=xe.useRef(new Set);x.useEffect(()=>{if(!l){console.log(" [LayoutsTab] currentLayoutId  -   ");return}if(E.current.has(l)){console.log(` [LayoutsTab] Layout ${l.slice(0,8)}   - `);return}(async()=>{try{console.log(` [LayoutsTab] Layout ${l}   ... (fallback)`);const J=await(await vn()).elements.getByLayout(l);console.log(` [LayoutsTab] IndexedDB ${J.length}  `);const te=Pe.getState().elements,Y=Pe.getState().setElements,ee=[...te.filter(ie=>ie.layout_id!==l),...J];Y(ee),E.current.add(l),console.log(` [LayoutsTab] Layout ${l}  ${J.length}   (: ${ee.length})`)}catch(q){console.error("[LayoutsTab] Layout   :",q)}})()},[l]);const I=x.useMemo(()=>{if(console.log(` [layoutElements] : currentLayout=${p?.id?.slice(0,8)}, allElements=${v.length}`),!p)return[];const G=v.filter(q=>q.layout_id===p.id);return console.log(` [layoutElements]  : ${G.length} (${G.map(q=>q.tag).join(", ")})`),G},[v,p]),D=x.useMemo(()=>(console.log(` [layoutElementTree]  : ${I.length} `),Sce(I)),[I]),{expandedKeys:T,toggleKey:M,collapseAll:P,expandKey:k}=B$e({selectedElementId:t,elements:I}),L=xe.useRef(null),$=xe.useRef(!1);x.useEffect(()=>{if(p?.id!==L.current&&p?.id&&(P(),console.log(` [LayoutsTab] Layout : ${L.current?.slice(0,8)}  ${p.id.slice(0,8)}`),L.current=p.id,$.current=!1),p&&I.length>0&&!$.current){const q=I.find(J=>J.order_num===0)||I.find(J=>J.tag==="body");q&&(console.log(` [LayoutsTab] body   + : ${q.id.slice(0,8)}`),k(q.id),e(q.id,q.props),r(q.id),$.current=!0)}},[p?.id,I,k,P,e,r]);const z=x.useCallback((G,q,J,te=0)=>{const Y=(Z,ee)=>Z.length===0?null:h.jsx(h.Fragment,{children:Z.map(ie=>{const ue=ie.children&&ie.children.length>0,ae=T.has(ie.id),de={id:ie.id,tag:ie.tag,parent_id:ie.parent_id||null,order_num:ie.order_num,props:ie.props,deleted:ie.deleted,layout_id:p?.id||null,page_id:null,created_at:"",updated_at:""};return h.jsxs("div",{"data-depth":ee,"data-has-children":ue,onClick:ge=>{ge.stopPropagation(),q(de)},className:"element",children:[h.jsxs("div",{className:`elementItem ${t===ie.id?"active":""}`,children:[h.jsx("div",{className:"elementItemIndent",style:{width:ee>0?`${ee*8}px`:"0px"}}),h.jsx("div",{className:"elementItemIcon",onClick:ge=>{ge.stopPropagation(),ue&&M(ie.id)},children:ue?h.jsx(vf,{color:ce.color,strokeWidth:ce.strokeWidth,size:ce.size,style:{transform:ae?"rotate(90deg)":"rotate(0deg)"}}):h.jsx(im,{color:ce.color,strokeWidth:ce.strokeWidth,size:ce.size,style:{padding:"2px"}})}),h.jsx("div",{className:"elementItemLabel",children:ie.tag==="Slot"&&ie.props?`Slot: ${ie.props.name||"unnamed"}`:ie.tag}),h.jsxs("div",{className:"elementItemActions",children:[h.jsx("button",{className:"iconButton","aria-label":"Settings",children:h.jsx(eS,{color:ce.color,strokeWidth:ce.strokeWidth,size:ce.size})}),ie.tag!=="body"&&h.jsx("button",{className:"iconButton","aria-label":`Delete ${ie.tag}`,onClick:async ge=>{ge.stopPropagation(),await J(de)},children:h.jsx(N0,{color:ce.color,strokeWidth:ce.strokeWidth,size:ce.size})})]})]}),ae&&ue&&ie.children&&Y(ie.children,ee+1)]},ie.id)})});return Y(G,te)},[T,M,t,p?.id]),j=x.useCallback(async G=>{console.log(` [LayoutsTab] Layout : ${G.name} (${G.id})`),console.log(` [LayoutsTab]  currentLayoutId: ${l}`);try{const J=await(await vn()).elements.getByLayout(G.id);console.log(` [LayoutsTab] Layout ${G.id.slice(0,8)}  ${J.length}  `);const Z=[...Pe.getState().elements.filter(ee=>ee.layout_id!==G.id),...J];A(Z),E.current.add(G.id),u(G.id),m(G.id),console.log(" [LayoutsTab] Layout  ")}catch(q){console.error("Layout  :",q),u(G.id),m(G.id)}},[u,m,l,A]),H=x.useCallback(async G=>{try{await d(G.id);const q=a.filter(J=>J.id!==G.id);q.length>0?j(q[0]):(u(null),m(null))}catch(q){console.error("Layout  :",q)}},[d,a,j,u,m]),W=x.useCallback(async()=>{if(!o){console.error(" ID ");return}try{const G=await c({name:`Layout ${a.length+1}`,description:"",project_id:o});G&&j(G)}catch(G){console.error("Layout  :",G)}},[o,c,a.length,j]),O=x.useCallback(async G=>{await y(G.id),G.id===t&&(e(null),C||Ta.clearOverlay())},[y,t,e,C]);return h.jsxs("div",{className:"layouts-tab",role:"tabpanel",id:"tabpanel-layouts","aria-label":"Layouts",children:[h.jsxs("div",{className:"sidebar_layouts",children:[h.jsxs("div",{className:"panel-header",children:[h.jsx("h3",{className:"panel-title",children:"Layouts"}),h.jsx("div",{className:"header-actions",children:h.jsx("button",{className:"iconButton","aria-label":"Add Layout",onClick:W,children:h.jsx($3,{color:ce.color,strokeWidth:ce.strokeWidth,size:ce.size})})})]}),h.jsx("div",{className:"elements",children:a.length===0?h.jsx("p",{className:"no_element",children:"No layouts available"}):a.map(G=>h.jsx("div",{className:"element",onClick:()=>j(G),children:h.jsxs("div",{className:`elementItem ${p?.id===G.id?"active":""}`,children:[h.jsx("div",{className:"elementItemIndent",style:{width:"0px"}}),h.jsx("div",{className:"elementItemIcon",children:h.jsx(im,{color:ce.color,strokeWidth:ce.strokeWidth,size:ce.size,style:{padding:"2px"}})}),h.jsx("div",{className:"elementItemLabel",children:G.name}),h.jsx("div",{className:"elementItemActions",children:h.jsx("button",{className:"iconButton","aria-label":`Delete ${G.name}`,onClick:q=>{q.stopPropagation(),H(G)},children:h.jsx(N0,{color:ce.color,strokeWidth:ce.strokeWidth,size:ce.size})})})]})},G.id))})]}),h.jsxs("div",{className:"sidebar_elements",children:[h.jsxs("div",{className:"panel-header",children:[h.jsx("h3",{className:"panel-title",children:"Layers"}),h.jsx("div",{className:"header-actions",children:h.jsx("button",{className:"iconButton","aria-label":"Collapse All",onClick:()=>P(),children:h.jsx(TX,{color:ce.color,strokeWidth:ce.strokeWidth,size:ce.size})})})]}),h.jsx("div",{className:"elements",children:p?I.length===0?h.jsx("p",{className:"no_element",children:"No elements in this layout"}):z(D,G=>{e(G.id,G.props),requestAnimationFrame(()=>n(G.id,G.props))},O):h.jsx("p",{className:"no_element",children:"Select a layout to view elements"})})]})]})}function wce({node:t,getKey:e,getTextValue:n,renderContent:r}){const i=t.children??[],s=e(t),o=n(t);return h.jsxs(NMe,{id:s,textValue:o,children:[h.jsx(RMe,{children:({isSelected:a,isExpanded:l,isDisabled:u,isFocusVisible:c})=>r(t,{isSelected:a,isExpanded:l,isDisabled:u,isFocusVisible:c})}),i.length>0?h.jsx(TT,{items:i,children:a=>h.jsx(wce,{node:a,getKey:e,getTextValue:n,renderContent:r})}):null]})}function _ce({items:t,getKey:e,getTextValue:n,renderContent:r,selectedKeys:i,expandedKeys:s,disabledKeys:o,focusedKey:a,selectionMode:l="single",onSelectionChange:u,onExpandedChange:c,dnd:d,"aria-label":f,className:p,dropIndicatorClassName:m="tree-drop-indicator"}){const[v,y]=x.useState(new Set),A=x.useRef(null),C=x.useRef(null),E=s??v;x.useEffect(()=>{if(a&&C.current){const P=C.current.querySelector(`[data-key="${a}"]`);P&&(P.scrollIntoView({block:"nearest",behavior:"smooth"}),P.focus({preventScroll:!0}))}},[a]);const I=x.useMemo(()=>{const P=new Map,k=[...t];for(;k.length>0;){const L=k.shift();L&&(P.set(e(L),L),L.children&&L.children.length>0&&k.unshift(...L.children))}return P},[t,e]),D=x.useCallback(P=>{P!=="all"&&u?.(P)},[u]),T=x.useCallback(P=>{if(P==="all")return;const k=new Set(P);s||y(k),c?.(k)},[s,c]),{dragAndDropHooks:M}=jMe({getItems:P=>(A.current=P,d?[...P].flatMap(k=>{const L=I.get(k);return!L||!d.canDrag(L)?[]:[{[d.dragType??"application/x-tree-item"]:JSON.stringify({id:k}),"text/plain":n(L)}]}):[]),acceptedDragTypes:d?[d.dragType??"application/x-tree-item"]:[],onMove(P){if(!d)return;const{keys:k,target:L}=P;if(!L||L.type!=="item")return;for(const z of k)if(!d.isValidDrop(z,L.key,L.dropPosition))return;const $=I.get(L.key);$&&d.onMove({keys:k,target:{key:L.key,node:$,dropPosition:L.dropPosition}})},renderDropIndicator(P){if(P.type!=="item")return h.jsx(d8,{target:P,className:`${m} ${m}--hidden`});let k=!1;const L=A.current;if(d&&L){for(const $ of L)if(!d.isValidDrop($,P.key,P.dropPosition)){k=!0;break}}return h.jsx(d8,{target:P,className:`${m}${k?` ${m}--hidden`:""}`})}});return h.jsx(kMe,{ref:C,"aria-label":f,items:t,selectionMode:l,selectedKeys:i,expandedKeys:E,disabledKeys:o,onSelectionChange:D,onExpandedChange:T,dragAndDropHooks:d?M:void 0,className:p,children:P=>h.jsx(wce,{node:P,getKey:e,getTextValue:n,renderContent:r,canDrag:d?.canDrag},e(P))})}function jQe(t){const e=x.useMemo(()=>Ice(t),[t]),n=x.useMemo(()=>{const a=new Map,l=[...e];for(;l.length>0;){const u=l.shift();u&&(a.set(u.id,u),u.children&&u.children.length>0&&l.unshift(...u.children))}return a},[e]),r=x.useMemo(()=>({getItem:a=>{const l=n.get(String(a));return l?{value:l}:void 0}}),[n]),i=Pe(a=>a.setPages),s=Pe(a=>a.pages),o=x.useCallback(a=>{if(a.length===0)return;const l=s.map(u=>{const c=a.find(d=>d.id===u.id);return c?{...u,...c.parentId!==void 0&&{parent_id:c.parentId},...c.orderNum!==void 0&&{order_num:c.orderNum}}:u});i(l)},[s,i]);return{tree:r,treeNodes:e,syncToStore:o}}function Ice(t,e=null,n=0){return t.filter(r=>(r.parent_id??null)===e).sort((r,i)=>(r.order_num??0)-(i.order_num??0)).map(r=>{const i=Ice(t,r.id,n+1),s=r.parent_id===null&&(r.order_num??0)===0;return{id:r.id,name:r.title||"Untitled",slug:r.slug??null,parentId:r.parent_id??null,orderNum:r.order_num??0,depth:n,hasChildren:i.length>0,isLeaf:i.length===0,children:i,page:r,isRoot:s,isDraggable:!s,isDroppable:!0}})}function QQe({tree:t,movedKeys:e,targetKey:n,dropPosition:r}){const i=[...e].map(c=>String(c)),s=t.getItem(n)?.value;if(!s)return[];const o=r==="on"?s.id:s.parentId??null,a=new Set;i.forEach(c=>{const d=t.getItem(c)?.value;a.add(d?.parentId??null)});const l=new Set([...a,o]),u=[];return l.forEach(c=>{const f=UQe(t,c).filter(m=>!i.includes(m.id));(c===o?VQe(f.map(m=>m.id),i,HQe(f,n,r)):f.map(m=>m.id)).forEach((m,v)=>{const y=i.includes(m);u.push({id:m,...y&&c===o&&{parentId:o},orderNum:v})})}),u}function UQe(t,e){return GQe(t.items).filter(n=>(n.parentId??null)===e)}function HQe(t,e,n){if(n==="on")return t.length;const r=String(e),i=t.findIndex(s=>s.id===r);return i<0?t.length:n==="before"?i:i+1}function VQe(t,e,n){const r=Math.max(0,Math.min(n,t.length)),i=t.slice();return i.splice(r,0,...e),i}function GQe(t){const e=[],n=[...t];for(;n.length>0;){const r=n.shift();if(!r)break;e.push(r),r.children&&r.children.length>0&&n.unshift(...r.children)}return e}function KQe(t,e,n,r){const i=r.getItem(t)?.value,s=r.getItem(e)?.value;return!i||!s?{valid:!1,reason:"invalid-node"}:t===e?{valid:!1,reason:"self-drop"}:WQe(t,e,r)?{valid:!1,reason:"descendant-drop"}:i.isRoot?{valid:!1,reason:"home-immutable"}:s.isRoot&&n==="before"?{valid:!1,reason:"before-home-denied"}:{valid:!0}}function WQe(t,e,n){let r=n.getItem(e);for(;r;){if(r.value.parentId===t)return!0;r=r.value.parentId?n.getItem(r.value.parentId):null}return!1}const Ir={color:"#171717",stroke:1,size:16},py=t=>Array.isArray(t)?t:[];function qQe({node:t,state:e,onDelete:n,onSettings:r}){const{depth:i,hasChildren:s,isRoot:o,page:a,name:l}=t,{isSelected:u,isExpanded:c,isFocusVisible:d}=e;return h.jsxs("div",{className:`elementItem ${u?"active":""} ${d?"focused":""}`,children:[h.jsx("div",{className:"elementItemIndent",style:{width:i>0?`${i*8}px`:"0px"}}),h.jsx("div",{className:"elementItemIcon",children:s?h.jsx(Yt,{slot:"chevron",className:"layer-expand-button","aria-label":`${c?"Collapse":"Expand"} ${l}`,children:h.jsx(vf,{color:Ir.color,strokeWidth:Ir.stroke,size:Ir.size,"data-chevron":"true"})}):o?h.jsx(ove,{color:Ir.color,strokeWidth:Ir.stroke,size:Ir.size,style:{padding:"2px"}}):h.jsx(yF,{color:Ir.color,strokeWidth:Ir.stroke,size:Ir.size,style:{padding:"2px"}})}),h.jsx("div",{className:"elementItemLabel",children:l}),h.jsxs("div",{className:"elementItemActions",children:[h.jsx(Yt,{slot:"drag",className:`iconButton layer-drag-handle${o?" layer-drag-handle--hidden":""}`,"aria-label":`Drag ${l}`,"aria-hidden":o,style:{pointerEvents:o?"none":"auto"},isDisabled:o,children:h.jsx(O3,{color:Ir.color,strokeWidth:Ir.stroke,size:Ir.size})}),h.jsx(Yt,{className:"iconButton","aria-label":`Settings for ${l}`,onPress:()=>r?.(a),children:h.jsx(eS,{color:Ir.color,strokeWidth:Ir.stroke,size:Ir.size})}),!o&&h.jsx(Yt,{className:"iconButton","aria-label":`Delete ${l}`,onPress:()=>n(a),children:h.jsx(N0,{color:Ir.color,strokeWidth:Ir.stroke,size:Ir.size})})]})]})}function Bce({nodeMap:t,onSelectionChange:e}){const[n,r]=x.useState(null),i=x.useCallback(l=>{queueMicrotask(()=>{r(l)})},[]),s=x.useCallback(l=>{const u=[...l][0];u&&i(u)},[i]),o=x.useCallback((l,u)=>{const c=String(l),d=u.findIndex(p=>String(p)===c);let f=null;if(d>=0&&u.length>1&&(d<u.length-1?f=u[d+1]:d>0&&(f=u[d-1])),!f){const p=t.get(c);p?.parentId&&(f=p.parentId)}f&&(i(f),e?.(new Set([f])))},[t,e,i]),a=x.useCallback(l=>{i(l),e?.(new Set([l]))},[e,i]);return{focusedKey:n,setFocusedKey:r,handleAfterMove:s,handleAfterDelete:o,handleAfterAdd:a}}function YQe({pages:t,selectedPageId:e,expandedKeys:n,onExpandedChange:r,onPageSelect:i,onPageDelete:s,onPageSettings:o}){const{tree:a,treeNodes:l,syncToStore:u}=jQe(t),[c,d]=x.useState(new Set),f=x.useMemo(()=>{const T=new Map,M=[...l];for(;M.length>0;){const P=M.shift();P&&(T.set(P.id,{parentId:P.parentId,children:P.children}),P.children&&P.children.length>0&&M.unshift(...P.children))}return T},[l]),{focusedKey:p,handleAfterMove:m}=Bce({nodeMap:f,onSelectionChange:T=>{const M=[...T][0];if(M){const P=L=>{for(const $ of L){if($.id===M)return $;if($.children){const z=P($.children);if(z)return z}}},k=P(l);k&&i(k.page)}}}),v=n??c,y=x.useCallback(T=>{n||d(T),r?.(T)},[n,r]),A=x.useCallback(T=>{const M=[...T][0];if(!M)return;const P=L=>{for(const $ of L){if($.id===M)return $;if($.children){const z=P($.children);if(z)return z}}},k=P(l);k&&i(k.page)},[l,i]),C=x.useCallback((T,M,P)=>KQe(String(T),String(M),P,{getItem:k=>a.getItem(k)}).valid,[a]),E=x.useCallback(T=>{const M=QQe({tree:{items:l,getItem:P=>a.getItem(P)},movedKeys:T.keys,targetKey:T.target.key,dropPosition:T.target.dropPosition});u(M),m(T.keys)},[a,l,u,m]),I=x.useCallback(T=>!T.isRoot,[]),D=x.useCallback((T,M)=>h.jsx(qQe,{node:T,state:M,onDelete:s,onSettings:o}),[s,o]);return h.jsx(_ce,{"aria-label":"Pages",items:l,getKey:T=>T.id,getTextValue:T=>T.name,renderContent:D,selectedKeys:e?new Set([e]):new Set,expandedKeys:v,focusedKey:p,onSelectionChange:A,onExpandedChange:y,dnd:{canDrag:I,isValidDrop:C,onMove:E,dragType:"application/x-page-tree-item"},className:"page-tree",dropIndicatorClassName:"layer-drop-indicator"})}const XQe=x.memo(function({projectId:e}){const n=Pe(v=>v.pages),r=Pe(v=>v.currentPageId),i=Pe(v=>v.setPages),s=Pe(v=>v.setCurrentPageId),{requestAutoSelectAfterUpdate:o}=HT(),{pageList:a,addPage:l,fetchElements:u}=q$({requestAutoSelectAfterUpdate:o}),[c,d]=x.useState(new Set),f=x.useCallback(async()=>{if(!e){console.error(" ID ");return}await l(e)},[e,l]),p=x.useCallback(v=>{s(v.id),u(v.id)},[s,u]),m=x.useCallback(async v=>{try{const C=await vn(),I=(await C.elements.getByPage(v.id)).map(D=>D.id);console.log(` Page "${v.title}"  : ${I.length}  `),I.length>0&&(await C.elements.deleteMany(I),console.log(` [IndexedDB] ${I.length}   `)),await C.pages.delete(v.id),console.log(` [IndexedDB] Page "${v.title}"  `),await Qx.deletePage(v.id),console.log(` [Supabase] Page "${v.title}"  `)}catch(C){console.error("  :",C);return}a?.remove&&a.remove(v.id);const y=n.filter(C=>C.id!==v.id),A=y.map(C=>({id:C.id,title:C.title,slug:C.slug,project_id:C.project_id,parent_id:C.parent_id,order_num:C.order_num}));if(i(A),console.log("   :",v.title),y.length>0){const E=y.find(I=>I.order_num===0)||y[0];p(E)}},[n,a,i,p]);return h.jsxs("div",{className:"section",children:[h.jsx(Uu,{title:"Pages",actions:h.jsx(Yt,{className:"iconButton","aria-label":"Add Page",onPress:f,children:h.jsx($3,{color:ce.color,strokeWidth:ce.strokeWidth,size:ce.size})})}),h.jsx("div",{className:"section-content",children:h.jsx(YQe,{pages:n,selectedPageId:r,expandedKeys:c,onExpandedChange:d,onPageSelect:p,onPageDelete:m})})]})});function JQe(t){const e=x.useMemo(()=>Sce(t),[t]),n=x.useMemo(()=>Dce(e,t),[e,t]),r=x.useMemo(()=>{const a=new Map,l=[...n];for(;l.length>0;){const u=l.shift();u&&(a.set(u.id,u),u.children&&u.children.length>0&&l.unshift(...u.children))}return a},[n]),i=x.useMemo(()=>({getItem:a=>{const l=r.get(String(a));return l?{value:l}:void 0}}),[r]),s=Pe(a=>a.batchUpdateElements),o=x.useCallback(a=>{a.length!==0&&s(a.map(l=>({elementId:l.id,updates:{...l.parentId!==void 0&&{parent_id:l.parentId},...l.orderNum!==void 0&&{order_num:l.orderNum}}})))},[s]);return{tree:i,treeNodes:n,syncToStore:o}}function Dce(t,e,n=0){const r=new Map(e.map(i=>[i.id,i]));return t.flatMap(i=>{const s=r.get(i.id);if(!s)return[];const o=i.children?Dce(i.children,e,n+1):[],a=eUe(i,n+1,s),l=[...o,...a];return[{id:i.id,name:ZQe(i),tag:i.tag,parentId:i.parent_id??null,orderNum:i.order_num??0,depth:n,hasChildren:l.length>0,isLeaf:l.length===0,element:s,children:l}]})}function ZQe(t){const e=t.props;return t.tag==="Tab"?`Tab: ${e?.title||"Untitled"}`:t.tag==="Panel"?`Panel: ${e?.title||"Untitled"}`:t.tag==="TableHeader"?"thead":t.tag==="TableBody"?"tbody":t.tag==="Column"?`th: ${e?.children||"Column"}`:t.tag==="Row"?"tr":t.tag==="Cell"?`td: ${e?.children||"Cell"}`:t.tag}function eUe(t,e,n){const r=t.props;if(!r)return[];const i=(s,o,a,l)=>({id:`${t.id}::${s}:${o}`,name:a,tag:t.tag,parentId:t.id,orderNum:o,depth:e,hasChildren:!1,isLeaf:!0,element:n,virtualChildType:s,virtualChildIndex:o,virtualChildData:l});return t.tag==="ToggleButtonGroup"?py(r.children).map((o,a)=>i("toggle",a,o.title||`Button ${a+1}`,o)):t.tag==="CheckboxGroup"?py(r.children).map((o,a)=>i("checkbox",a,o.label||`Checkbox ${a+1}`,o)):t.tag==="RadioGroup"?py(r.children).map((o,a)=>i("radio",a,o.label||`Radio ${a+1}`,o)):t.tag==="ListBox"?py(r.children).map((o,a)=>i("listbox",a,o.label||`Item ${a+1}`,o)):t.tag==="GridList"?py(r.children).map((o,a)=>i("gridlist",a,o.label||`Item ${a+1}`,o)):t.tag==="Select"?py(r.children).map((o,a)=>i("select",a,o.label||`Option ${a+1}`,o)):t.tag==="ComboBox"?py(r.children).map((o,a)=>i("combobox",a,o.label||`Option ${a+1}`,o)):t.tag==="Tree"?py(r.children).map((o,a)=>i("tree",a,o.title||`Item ${a+1}`,o)):[]}function tUe({tree:t,movedKeys:e,targetKey:n,dropPosition:r}){const i=[...e].map(c=>String(c)),s=t.getItem(n)?.value;if(!s)return[];const o=r==="on"?s.id:s.parentId??null,a=new Set;i.forEach(c=>{const d=t.getItem(c)?.value;a.add(d?.parentId??null)});const l=new Set([...a,o]),u=[];return l.forEach(c=>{const f=nUe(t,c).filter(m=>!i.includes(m.id));(c===o?iUe(f.map(m=>m.id),i,rUe(f,n,r)):f.map(m=>m.id)).forEach((m,v)=>{const y=i.includes(m);u.push({id:m,...y&&c===o&&{parentId:o},orderNum:v})})}),u}function nUe(t,e){return sUe(t.items).filter(n=>(n.parentId??null)===e)}function rUe(t,e,n){if(n==="on")return t.length;const r=String(e),i=t.findIndex(s=>s.id===r);return i<0?t.length:n==="before"?i:i+1}function iUe(t,e,n){const r=Math.max(0,Math.min(n,t.length)),i=t.slice();return i.splice(r,0,...e),i}function sUe(t){const e=[],n=[...t];for(;n.length>0;){const r=n.shift();if(!r)break;e.push(r),r.children&&r.children.length>0&&n.unshift(...r.children)}return e}function oUe(t,e,n,r){const i=r.getItem(t)?.value,s=r.getItem(e)?.value;if(!i||!s)return{valid:!1,reason:"invalid-node"};if(t===e)return{valid:!1,reason:"self-drop"};if(aUe(t,e,r))return{valid:!1,reason:"descendant-drop"};if(i.virtualChildType||s.virtualChildType)return{valid:!1,reason:"virtual-child"};if(i.tag==="body")return{valid:!1,reason:"body-immutable"};if(s.depth===0&&n!=="on")return{valid:!1,reason:"root-level-denied"};const o=i.element,a=s.element;return o.page_id!==a.page_id||o.layout_id!==a.layout_id?{valid:!1,reason:"context-mismatch"}:{valid:!0}}function aUe(t,e,n){let r=n.getItem(e);for(;r;){if(r.value.parentId===t)return!0;r=r.value.parentId?n.getItem(r.value.parentId):null}return!1}function lUe({node:t,state:e,onDelete:n,selectedTab:r,onSelectTabElement:i}){const{isFocusVisible:s}=e;return t.virtualChildType?h.jsx(cUe,{node:t,isFocusVisible:s,selectedTab:r,onSelectTabElement:i}):h.jsx(uUe,{node:t,state:e,onDelete:n})}function uUe({node:t,state:e,onDelete:n}){const{depth:r,hasChildren:i,tag:s,element:o,name:a}=t,{isSelected:l,isExpanded:u,isFocusVisible:c}=e;return h.jsxs("div",{className:`elementItem ${l?"active":""} ${c?"focused":""}`,children:[h.jsx("div",{className:"elementItemIndent",style:{width:r>0?`${r*8}px`:"0px"}}),h.jsx("div",{className:"elementItemIcon",children:i?h.jsx(Yt,{slot:"chevron",className:"layer-expand-button","aria-label":`${u?"Collapse":"Expand"} ${a}`,children:h.jsx(vf,{color:Ir.color,strokeWidth:Ir.stroke,size:Ir.size,"data-chevron":"true"})}):h.jsx(im,{color:Ir.color,strokeWidth:Ir.stroke,size:Ir.size,style:{padding:"2px"}})}),h.jsx("div",{className:"elementItemLabel",children:a}),h.jsxs("div",{className:"elementItemActions",children:[h.jsx(Yt,{slot:"drag",className:`iconButton layer-drag-handle${s==="body"?" layer-drag-handle--hidden":""}`,"aria-label":`Drag ${a}`,"aria-hidden":s==="body",style:{pointerEvents:s==="body"?"none":"auto"},isDisabled:s==="body",children:h.jsx(O3,{color:Ir.color,strokeWidth:Ir.stroke,size:Ir.size})}),h.jsx(Yt,{className:"iconButton","aria-label":"Settings",children:h.jsx(eS,{color:Ir.color,strokeWidth:Ir.stroke,size:Ir.size})}),s!=="body"&&h.jsx(Yt,{className:"iconButton","aria-label":`Delete ${s}`,onPress:()=>n(o),children:h.jsx(N0,{color:Ir.color,strokeWidth:Ir.stroke,size:Ir.size})})]})]})}function cUe({node:t,isFocusVisible:e,selectedTab:n,onSelectTabElement:r}){const{depth:i,name:s,virtualChildType:o,virtualChildIndex:a,virtualChildData:l,parentId:u,element:c}=t;if(a===void 0)return null;const d=n?.parentId===u&&n?.tabIndex===a,f=m=>{m.stopPropagation(),!(!r||!u)&&r(u,c.props,a)},p=dUe(o,l);return h.jsxs("div",{className:`elementItem ${d?"active":""} ${e?"focused":""}`,onClick:f,"aria-disabled":"true",children:[h.jsx("div",{className:"elementItemIndent",style:{width:i>0?`${i*8}px`:"0px"}}),h.jsx("div",{className:"elementItemIcon",children:p}),h.jsx("div",{className:"elementItemLabel",children:s}),h.jsx("div",{className:"elementItemActions",children:h.jsx(Yt,{slot:"drag",className:"iconButton layer-drag-handle layer-drag-handle--hidden","aria-label":`Drag ${s}`,"aria-hidden":!0,style:{pointerEvents:"none"},isDisabled:!0,children:h.jsx(O3,{color:Ir.color,strokeWidth:Ir.stroke,size:Ir.size})})})]})}function dUe(t,e){if(t==="tree"){const n=e;return n.children&&n.children.length>0?h.jsx(EX,{color:Ir.color,strokeWidth:Ir.stroke,size:Ir.size}):h.jsx(yF,{color:Ir.color,strokeWidth:Ir.stroke,size:Ir.size})}return h.jsx(im,{color:Ir.color,strokeWidth:Ir.stroke,size:Ir.size,style:{padding:"2px"}})}function hUe({elements:t,selectedElementId:e,selectedTab:n,expandedKeys:r,onExpandedChange:i,onItemClick:s,onItemDelete:o,onSelectTabElement:a}){const{tree:l,treeNodes:u,syncToStore:c}=JQe(t),[d,f]=x.useState(new Set),p=x.useMemo(()=>{const P=new Map,k=[...u];for(;k.length>0;){const L=k.shift();L&&(P.set(L.id,{parentId:L.parentId,children:L.children}),L.children&&L.children.length>0&&k.unshift(...L.children))}return P},[u]),{focusedKey:m,handleAfterMove:v}=Bce({nodeMap:p,onSelectionChange:P=>{const k=[...P][0];if(k){const L=u.find($=>$.id===k);L&&!L.virtualChildType&&s(L.element)}}}),y=x.useMemo(()=>{const P=new Set,k=[...u];for(;k.length>0;){const L=k.shift();L&&(L.virtualChildType&&P.add(L.id),L.children&&L.children.length>0&&k.unshift(...L.children))}return P},[u]),A=r??d,C=x.useCallback(P=>{r||f(P),i?.(P)},[r,i]),E=x.useCallback(P=>{const k=[...P][0];if(!k)return;const L=z=>{for(const j of z){if(j.id===k)return j;if(j.children){const H=L(j.children);if(H)return H}}},$=L(u);!$||$.virtualChildType||s($.element)},[u,s]),I=x.useCallback((P,k,L)=>oUe(String(P),String(k),L,{getItem:$=>l.getItem($)}).valid,[l]),D=x.useCallback(P=>{const k=tUe({tree:{items:u,getItem:L=>l.getItem(L)},movedKeys:P.keys,targetKey:P.target.key,dropPosition:P.target.dropPosition});c(k),v(P.keys)},[l,u,c,v]),T=x.useCallback(P=>!P.virtualChildType&&P.tag!=="body",[]),M=x.useCallback((P,k)=>h.jsx(lUe,{node:P,state:k,onDelete:o,selectedTab:n,onSelectTabElement:a}),[o,n,a]);return h.jsx(_ce,{"aria-label":"Layers",items:u,getKey:P=>P.id,getTextValue:P=>P.name,renderContent:M,selectedKeys:e?new Set([e]):new Set,expandedKeys:A,disabledKeys:y,focusedKey:m,onSelectionChange:E,onExpandedChange:C,dnd:{canDrag:T,isValidDrop:I,onMove:D,dragType:"application/x-layer-tree-item"},dropIndicatorClassName:"layer-drop-indicator"})}const fUe=x.memo(function({currentPageId:e}){const n=Pe(A=>A.elements),r=x.useMemo(()=>n.filter(A=>A.page_id===e),[n,e]),i=Pe(A=>A.selectedElementId),s=Pe(A=>A.setSelectedElement),o=Pe(A=>A.removeElement),[a,l]=x.useState(new Set),[u,c]=x.useState(new Set),d=x.useMemo(()=>{if(!i)return new Set;const A=r.find(I=>I.id===i);if(!A)return new Set;const C=new Set;let E=A.parent_id;for(;E;)C.add(E),E=r.find(D=>D.id===E)?.parent_id??null;return C},[i,r]),f=x.useMemo(()=>{const A=new Set(a);return d.forEach(C=>{u.has(C)||A.add(C)}),A},[a,d,u]),p=x.useCallback(A=>{s(A.id)},[s]),m=x.useCallback(async A=>{await o(A.id)},[o]),v=x.useCallback(()=>{l(new Set),c(new Set(d))},[d]),y=x.useCallback(A=>{const C=new Set;f.forEach(I=>{A.has(I)||C.add(I)});const E=new Set;A.forEach(I=>{f.has(I)||E.add(I)}),c(I=>{const D=new Set(I);return C.forEach(T=>D.add(T)),E.forEach(T=>D.delete(T)),D}),l(A)},[f]);return h.jsxs("div",{className:"section",children:[h.jsx(Uu,{title:"Layers",actions:h.jsx(Yt,{className:"iconButton","aria-label":"Collapse All",onPress:v,children:h.jsx(TX,{color:ce.color,strokeWidth:ce.strokeWidth,size:ce.size})})}),h.jsx("div",{className:"section-content",children:h.jsx(hUe,{elements:r,selectedElementId:i,expandedKeys:f,onExpandedChange:y,onItemClick:p,onItemDelete:m})})]})});function pUe({isActive:t}){const{projectId:e}=nC(),n=Pe(v=>v.currentPageId),r=Pe(v=>v.pages),i=Pe(v=>v.selectedElementId),s=Pe(v=>v.setSelectedElement),o=rh(v=>v.mode),{requestAutoSelectAfterUpdate:a,sendElementSelectedMessage:l}=HT(),{initializeProject:u}=q$({requestAutoSelectAfterUpdate:a});x.useEffect(()=>{e&&r.length===0&&t&&u(e)},[e,r.length,t,u]);const c=rh(v=>v.setMode),d=rh(v=>v.setCurrentPageId),f=rh(v=>v.setCurrentLayoutId),p=o==="layout"?"layouts":"pages",m=x.useCallback(v=>{v==="pages"?(c("page"),f(null)):(c("layout"),d(null))},[c,d,f]);return t?o==="page"&&!n&&r.length===0?h.jsx("div",{className:"panel-empty-state",children:h.jsx("p",{className:"empty-message",children:" "})}):h.jsxs("div",{className:"nodes-panel nodes-panel--new-tree",children:[h.jsx($Qe,{activeTab:p,onTabChange:m}),h.jsx("div",{className:"nodes-panel-content",children:p==="pages"?h.jsxs(h.Fragment,{children:[h.jsx(XQe,{projectId:e}),n&&h.jsx(fUe,{currentPageId:n})]}):h.jsx(OQe,{selectedElementId:i,setSelectedElement:s,sendElementSelectedMessage:l,requestAutoSelectAfterUpdate:a,projectId:e})})]}):null}function gUe({isActive:t}){return t?h.jsx(mUe,{}):null}function mUe(){const t=Pe(l=>l.selectedElementId),e=Pe(l=>l.currentPageId),n=Pe(l=>l.addElement),r=rh(l=>l.mode),i=Fu(l=>l.currentLayoutId),{handleAddElement:s}=p$e(),{sendElementsToIframe:o}=HT(),a=x.useCallback(async(l,u)=>{const c=Pe.getState().elements,d=Pe.getState().getPageElements;if(r==="layout"&&i){const p=c.filter(v=>v.layout_id===i);let m=null;t&&(p.some(y=>y.id===t)?m=t:console.log(` [ComponentsPanel] selectedElementId(${t?.slice(0,8)})  Layout   - `)),console.log(` [ComponentsPanel] Layout : ${l} Layout ${i?.slice(0,8)}  (parent: ${(u||m)?.slice(0,8)||"auto"})`),await s(l,"",u||m,p,n,o,i);return}if(!e){console.error("  ");return}const f=d(e);await s(l,e,u||t,f,n,o)},[e,i,r,t,n,s,o]);return h.jsx(_Qe,{handleAddElement:a,selectedElementId:t})}function AUe(){const{projectId:t}=nC(),e=Ds(a=>a.activeTheme),n=Ds(a=>a.tokens),r=a=>a==null?"":typeof a=="object"?JSON.stringify(a,null,2):String(a),i=x.useMemo(()=>{const a={};return n.forEach(l=>{const u=l.type||"other";a[u]||(a[u]=[]),a[u].push({name:l.name,value:r(l.value)})}),a},[n]),s=a=>({color:"Colors",spacing:"Spacing",borderRadius:"Border Radius",fontSize:"Font Size",fontWeight:"Font Weight",lineHeight:"Line Height",shadow:"Shadows",other:"Other"})[a]||a.charAt(0).toUpperCase()+a.slice(1),o=()=>{t&&window.open(`/theme/${t}`,"_blank")};return t?e?h.jsxs("div",{className:"themes-panel",children:[h.jsx(Uu,{icon:h.jsx(V_,{size:ce.size}),title:"Themes",actions:h.jsx(Yt,{onPress:o,className:"iconButton",children:h.jsx(ax,{size:ce.size})})}),h.jsxs(Sc,{title:"Active Theme",children:[h.jsx(Fa,{label:"Theme Name",value:e.name||"",onChange:()=>{},disabled:!0,placeholder:"Theme name"}),h.jsx(Fa,{label:"Version",value:e.version||"1.0",onChange:()=>{},disabled:!0,placeholder:"Version"}),h.jsx(Fa,{label:"Status",value:e.status||"active",onChange:()=>{},disabled:!0,placeholder:"Status"})]}),Object.keys(i).length===0?h.jsxs(Sc,{title:"Theme Tokens",children:[h.jsx(Pa,{message:"No custom tokens defined",description:"Create tokens in Theme Studio to customize your theme"}),h.jsx(Yt,{onPress:o,children:h.jsx(ax,{size:ce.size})})]}):h.jsxs(h.Fragment,{children:[Object.entries(i).map(([a,l])=>h.jsx(Sc,{title:s(a),children:l.map(u=>h.jsx(Fa,{label:u.name,value:u.value,onChange:()=>{},disabled:!0,placeholder:"Not set"},u.name))},a)),h.jsx(Sc,{title:"Advanced Editing",children:h.jsxs(Yt,{onPress:o,className:"iconButton",children:[h.jsx(ax,{size:ce.size}),"Manage All Tokens in Theme Studio"]})})]})]}):h.jsxs("div",{className:"themes-panel",children:[h.jsx(Uu,{icon:h.jsx(V_,{size:ce.size}),title:"Themes",actions:h.jsx(Yt,{onPress:o,className:"iconButton",children:h.jsx(ax,{size:ce.size})})}),h.jsx(Pa,{message:"No active theme",description:"Select a theme in Settings or create one in Theme Studio"})]}):h.jsx(Pa,{message:"Project ID is required"})}function yUe({isActive:t}){return t?h.jsx(AUe,{}):null}const SU=aa(t=>({messages:[],isStreaming:!1,currentContext:null,addUserMessage:e=>{const n={id:crypto.randomUUID(),role:"user",content:e,status:"complete",timestamp:Date.now()};t(r=>({messages:[...r.messages,n]}))},addAssistantMessage:(e,n)=>{const r={id:crypto.randomUUID(),role:"assistant",content:e,status:"complete",timestamp:Date.now(),metadata:n?{componentIntent:n}:void 0};t(i=>({messages:[...i.messages,r],isStreaming:!1}))},updateLastMessage:e=>{t(n=>{const r=[...n.messages],i=r[r.length-1];return i&&i.role==="assistant"&&(i.content=e,i.status="streaming"),{messages:r}})},setStreamingStatus:e=>{t({isStreaming:e}),e||t(n=>{const r=[...n.messages],i=r[r.length-1];return i&&i.role==="assistant"&&(i.status="complete"),{messages:r}})},updateContext:e=>{t({currentContext:e})},clearConversation:()=>{t({messages:[],isStreaming:!1})}}));function vUe(){throw new Error("Groq API   . .env  VITE_GROQ_API_KEY .")}class bUe{parse(e,n){const r=e.toLowerCase(),i=[this.parseButtonCreation,this.parseTableCreation,this.parseFormCreation,this.parseSelectCreation,this.parseStyleChange,this.parseLayoutChange,this.parseColorChange,this.parseDeleteAction];for(const s of i){const o=s.call(this,r,e,n);if(o)return o}return null}parseButtonCreation(e,n){const r=["","button",""," "],i=["","","","create","add"],s=r.some(a=>e.includes(a)),o=i.some(a=>e.includes(a));return s&&o?{action:"create",componentType:"Button",props:{children:this.extractText(n,["","button"])||""},styles:this.extractStyles(e),description:"  ."}:null}parseTableCreation(e){if(["","table","",""].some(i=>e.includes(i))){const i=this.guessDataEndpoint(e);return{action:"create",componentType:"Table",dataBinding:i?{baseUrl:"MOCK_DATA",endpoint:i}:void 0,description:"  ."}}return null}parseFormCreation(e){return["","form","",""].some(i=>e.includes(i))?{action:"create",componentType:"Form",description:"  ."}:null}parseSelectCreation(e){if(["","select","","dropdown"].some(i=>e.includes(i))){const i=this.guessDataEndpoint(e);return{action:"create",componentType:"Select",dataBinding:i?{baseUrl:"MOCK_DATA",endpoint:i}:void 0,description:"Select  ."}}return null}parseStyleChange(e,n,r){const i=["","color","","size",""],s=["","","","change"],o=i.some(l=>e.includes(l)),a=s.some(l=>e.includes(l));return o&&a&&r?.selectedElementId?{action:"style",targetElementId:r.selectedElementId,styles:this.extractStyles(e),description:"   ."}:null}parseLayoutChange(e,n,r){if(["","align","layout",""].some(o=>e.includes(o))&&r?.selectedElementId){const o={};if(e.includes("")||e.includes("left")?(o.justifyContent="flex-start",o.textAlign="left"):e.includes("")||e.includes("right")?(o.justifyContent="flex-end",o.textAlign="right"):(e.includes("")||e.includes("")||e.includes("center"))&&(o.justifyContent="center",o.textAlign="center"),Object.keys(o).length>0)return{action:"style",targetElementId:r.selectedElementId,styles:o,description:"   ."}}return null}parseColorChange(e,n,r){const i=this.extractColor(e);return i&&r?.selectedElementId?{action:"style",targetElementId:r.selectedElementId,styles:{backgroundColor:i},description:` ${i} .`}:null}parseDeleteAction(e,n,r){return["","","","delete","remove"].some(o=>e.includes(o))&&r?.selectedElementId?{action:"delete",targetElementId:r.selectedElementId,description:"  ."}:null}extractText(e,n){for(const r of n){const i=e.toLowerCase().indexOf(r);if(i!==-1){const s=e.slice(i+r.length).trim(),o=s.match(/["'](.+?)["']/);if(o)return o[1];const a=s.split(/\s+/).slice(0,3).join(" ");if(a)return a}}return null}extractColor(e){const n={:"red",:"red",:"blue",:"blue",:"green",:"green",:"yellow",:"yellow",:"black",:"black",:"white",:"white",:"gray",red:"red",blue:"blue",green:"green",yellow:"yellow",black:"black",white:"white",gray:"gray"};for(const[r,i]of Object.entries(n))if(e.includes(r))return i;return null}extractStyles(e){const n={},r=this.extractColor(e);return r&&(n.backgroundColor=r),n}guessDataEndpoint(e){const n={:"/countries",:"/countries",country:"/countries",countries:"/countries",:"/cities",city:"/cities",cities:"/cities",:"/products",product:"/products",products:"/products",:"/status",status:"/status",:"/users",:"/users",user:"/users",users:"/users",:"/departments",department:"/departments",departments:"/departments",:"/languages",language:"/languages",languages:"/languages",:"/currencies",currency:"/currencies",currencies:"/currencies"};for(const[r,i]of Object.entries(n))if(e.includes(r))return i;return null}}const xUe=new bUe;function CUe({message:t}){const{role:e,content:n,status:r,timestamp:i}=t,s=a=>new Date(a).toLocaleTimeString("ko-KR",{hour:"2-digit",minute:"2-digit"}),o=()=>e==="user"?"U":e==="assistant"?"AI":"?";return h.jsxs("div",{className:"chat-message","data-role":e,"data-status":r,children:[h.jsx("div",{className:"avatar",children:o()}),h.jsxs("div",{className:"content",children:[h.jsx("div",{className:"bubble",children:n}),h.jsx("div",{className:"timestamp",children:s(i)})]})]})}function EUe({onSend:t,disabled:e=!1,placeholder:n=" ... (Shift+Enter )"}){const[r,i]=x.useState(""),s=x.useRef(null),o=()=>{const u=r.trim();u&&!e&&(t(u),i(""),s.current&&(s.current.style.height="auto"))},a=u=>{u.key==="Enter"&&!u.shiftKey&&(u.preventDefault(),o())},l=u=>{i(u.target.value);const c=u.target;c.style.height="auto",c.style.height=`${Math.min(c.scrollHeight,120)}px`};return h.jsxs("div",{className:"chat-input",children:[h.jsx("textarea",{ref:s,className:"textarea",value:r,onChange:l,onKeyDown:a,placeholder:n,disabled:e,rows:1}),h.jsx(Kn,{onPress:o,isDisabled:e||!r.trim(),type:"button",variant:"primary",size:"sm",children:""})]})}function SUe({messages:t,onSendMessage:e,isStreaming:n=!1,suggestions:r=["  ","   Select ","    ","    "]}){const i=x.useRef(null);x.useEffect(()=>{i.current?.scrollIntoView({behavior:"smooth"})},[t]);const s=o=>{e(o)};return h.jsxs("div",{className:"chatPanel",children:[h.jsx("div",{className:"chat-content messages",children:t.length===0?h.jsxs("div",{className:"chat-content-empty",children:[h.jsx(Pve,{className:"chat-content-empty-icon"}),h.jsx("div",{className:"chat-content-empty-title",children:" "}),h.jsx("div",{className:"chat-content-empty-description",children:"     "}),h.jsx("div",{className:"chat-content-suggestions",children:r.map((o,a)=>h.jsx("button",{className:"chat-content-suggestion",onClick:()=>s(o),type:"button",children:o},a))})]}):h.jsxs(h.Fragment,{children:[t.map(o=>h.jsx(CUe,{message:o},o.id)),h.jsx("div",{ref:i})]})}),h.jsx(EUe,{onSend:e,disabled:n})]})}function wUe(){const{messages:t,isStreaming:e,currentContext:n,addUserMessage:r,addAssistantMessage:i,updateLastMessage:s,setStreamingStatus:o,updateContext:a,clearConversation:l}=SU(),u=Pe(C=>C.elements),c=Pe(C=>C.selectedElementId),d=Pe(C=>C.currentPageId),f=Pe(C=>C.addElement),p=Pe(C=>C.updateElementProps),m=Pe(C=>C.removeElement),v=x.useMemo(()=>{try{return vUe()}catch{return null}},[]);x.useEffect(()=>{const C={currentPageId:d||"default",selectedElementId:c||void 0,elements:u.map(E=>({id:E.id,tag:E.tag,props:E.props,parent_id:E.parent_id??null})),recentChanges:[]};a(C)},[u,c,d,a]);const y=x.useCallback(async C=>{try{switch(C.action){case"create":{if(!C.componentType)return;let E=null;if(c)E=c;else{const D=u.find(T=>T.tag==="body");D&&(E=D.id)}const I={id:crypto.randomUUID(),tag:C.componentType,props:C.props||{},parent_id:E,page_id:d||"default",order_num:u.length,dataBinding:void 0};C.styles&&Object.keys(C.styles).length>0&&(I.props={...I.props,style:C.styles}),C.dataBinding&&(I.dataBinding={type:"collection",source:"api",config:{baseUrl:C.dataBinding.baseUrl,endpoint:C.dataBinding.endpoint,params:C.dataBinding.params||{},dataMapping:{idField:"id",labelField:"name"}}}),await f(I);break}case"modify":case"style":{if(!C.targetElementId)return;const E=C.targetElementId==="current"?c:C.targetElementId;if(!E)return;const I={};C.props&&Object.assign(I,C.props),C.styles&&(I.style={...u.find(D=>D.id===E)?.props.style||{},...C.styles}),await p(E,I);break}case"delete":{if(!C.targetElementId)return;const E=C.targetElementId==="current"?c:C.targetElementId;if(!E)return;await m(E);break}case"query":break;default:}}catch(E){throw E}},[d,u,c,f,p,m]),A=x.useCallback(async C=>{if(n){r(C);try{if(v){o(!0),i("");let E="";try{for await(const D of v.chatStream(C,n))E+=D,s(E);o(!1);const I=v.parseIntent(E);if(I){await y(I);const D=SU.getState().messages,T=D[D.length-1];T&&(T.metadata={componentIntent:I})}}catch(I){throw o(!1),I}}else throw new Error("Groq service not available")}catch{const I=xUe.parse(C,n);if(I){const D=I.description||" .";i(D,I),await y(I)}else i(".   .  .")}}},[n,r,i,s,o,y,v]);return h.jsxs("div",{className:"ai-panel",children:[h.jsx(Uu,{icon:h.jsx(pX,{size:ce.size}),title:"AI Assistant",actions:t.length>0&&h.jsx("button",{className:"iconButton",onClick:l,type:"button","aria-label":"Clear conversation",title:" ",children:h.jsx(Qu,{color:ce.color,strokeWidth:ce.strokeWidth,size:ce.size})})}),h.jsx(SUe,{messages:t,onSendMessage:A,isStreaming:e})]})}function _Ue({isActive:t}){return t?h.jsx(wUe,{}):null}const wU={themeMode:"auto",uiScale:100},t_=aa()(e4(t=>({...wU,setThemeMode:e=>{t({themeMode:e})},setUiScale:e=>{document.documentElement.style.setProperty("--ui-scale",String(e)),t({uiScale:e})},resetUiSettings:()=>{t(wU)}}),{name:"xstudio-ui",version:1,onRehydrateStorage:()=>t=>{t?.uiScale&&document.documentElement.style.setProperty("--ui-scale",String(t.uiScale))}}));function gz(t){const{projectId:e,enableRealtime:n=!0}=t,r=Ds(m=>m.themes),i=Ds(m=>m.loading),s=Ds(m=>m.error),o=Ds(m=>m.setProjectId),a=Ds(m=>m.loadThemes),l=Ds(m=>m.createTheme),u=Ds(m=>m.updateTheme),c=Ds(m=>m.deleteTheme),d=Ds(m=>m.duplicateTheme),f=Ds(m=>m.activateTheme),p=Ds(m=>m.subscribeToThemes);return x.useEffect(()=>{o(e),a(e)},[e]),x.useEffect(()=>{if(!n)return;const m=p();return()=>{m&&m()}},[n]),{themes:r,loading:i,error:s,refetch:async()=>{await a(e)},createTheme:(m,v,y)=>l(m,v,y,e),updateTheme:u,deleteTheme:m=>c(m,e),duplicateTheme:(m,v,y)=>d(m,v,y,e),activateTheme:m=>f(m,e)}}function IUe(t){const{projectId:e,enableRealtime:n=!0}=t,r=Ds(d=>d.activeTheme),i=Ds(d=>d.loading),s=Ds(d=>d.error),o=Ds(d=>d.setProjectId),a=Ds(d=>d.loadActiveTheme),l=Ds(d=>d.activateTheme),u=Ds(d=>d.subscribeToThemes);return x.useEffect(()=>{o(e),a(e)},[e]),x.useEffect(()=>{if(!n)return;const d=u();return()=>{d&&d()}},[n]),{activeTheme:r,loading:i,error:s,refetch:async()=>{await a(e)},switchTheme:async d=>l(d)}}function BUe(){throw new Error("Groq API   . .env  VITE_GROQ_API_KEY .")}const _U="https://api.figma.com/v1";class DUe{accessToken;constructor(e){this.accessToken=e}async getFile(e){const n=await fetch(`${_U}/files/${e}`,{headers:{"X-Figma-Token":this.accessToken}});if(!n.ok)throw new Error(`Figma API : ${n.status} ${n.statusText}`);return n.json()}async getStyles(e){const n=await this.getFile(e),r=[],i=[],s=[];return n.styles&&Object.values(n.styles).forEach(o=>{o.styleType==="FILL"?r.push(o):o.styleType==="TEXT"?i.push(o):o.styleType==="EFFECT"&&s.push(o)}),{colors:r,textStyles:i,effects:s}}async getVariables(e){const n=await fetch(`${_U}/files/${e}/variables/local`,{headers:{"X-Figma-Token":this.accessToken}});if(!n.ok)throw new Error(`Figma Variables API : ${n.status} ${n.statusText}`);return(await n.json()).meta?.variables||[]}async importStyles(e){const n={success:!0,imported:{colors:0,textStyles:0,effects:0,variables:0,total:0},skipped:0,errors:[],tokens:[]};try{const r=await us.getResolvedTokens(e.themeId);if(e.importColors!==!1){const{colors:i}=await this.getStyles(e.fileKey),s=await this.importColorStyles(i,e,r,n.errors);n.tokens.push(...s),n.imported.colors=s.length}if(e.importTextStyles!==!1){const{textStyles:i}=await this.getStyles(e.fileKey),s=await this.importTextStyles(i,e,r,n.errors);n.tokens.push(...s),n.imported.textStyles=s.length}if(e.importEffects!==!1){const{effects:i}=await this.getStyles(e.fileKey),s=await this.importEffectStyles(i,e,r,n.errors);n.tokens.push(...s),n.imported.effects=s.length}if(e.importVariables!==!1){const i=await this.getVariables(e.fileKey),s=await this.importVariables(i,e,r,n.errors);n.tokens.push(...s),n.imported.variables=s.length}n.imported.total=n.tokens.length,n.tokens.length>0&&await us.bulkUpsertTokens(n.tokens),n.success=n.errors.length===0}catch(r){n.success=!1,n.errors.push({styleName:"ALL",styleType:"color",reason:" Import ",details:r instanceof Error?r.message:"   "})}return n}async importColorStyles(e,n,r,i){const s=[];for(const o of e)try{const a=this.convertFigmaNameToTokenName(o.name);if(r.find(u=>u.name===a)){if(n.conflictResolution==="skip")continue;if(n.conflictResolution==="rename"){const u=`${a}.figma`;s.push(this.createColorToken(n,o,u));continue}}s.push(this.createColorToken(n,o,a))}catch(a){i.push({styleName:o.name,styleType:"color",reason:"  ",details:a instanceof Error?a.message:"   "})}return s}createColorToken(e,n,r){let i;if(n.color){const s={r:Math.round(n.color.r*255),g:Math.round(n.color.g*255),b:Math.round(n.color.b*255),a:n.color.a};i=YQ(s)}else i={h:0,s:0,l:50,a:1};return{project_id:e.projectId,theme_id:e.themeId,name:r,type:"color",value:i,scope:"raw",css_variable:`--${r.replace(/\./g,"-")}`}}async importTextStyles(e,n,r,i){const s=[];for(const o of e)try{const a=this.convertFigmaNameToTokenName(o.name);if(r.find(u=>u.name===a)&&n.conflictResolution==="skip")continue;s.push({project_id:n.projectId,theme_id:n.themeId,name:`${a}.fontFamily`,type:"typography",value:o.fontFamily,scope:"raw",css_variable:`--${a.replace(/\./g,"-")}-font`},{project_id:n.projectId,theme_id:n.themeId,name:`${a}.fontSize`,type:"typography",value:`${o.fontSize}px`,scope:"raw",css_variable:`--${a.replace(/\./g,"-")}-size`},{project_id:n.projectId,theme_id:n.themeId,name:`${a}.fontWeight`,type:"typography",value:o.fontWeight,scope:"raw",css_variable:`--${a.replace(/\./g,"-")}-weight`})}catch(a){i.push({styleName:o.name,styleType:"text",reason:"   ",details:a instanceof Error?a.message:"   "})}return s}async importEffectStyles(e,n,r,i){const s=[];for(const o of e)try{const a=this.convertFigmaNameToTokenName(o.name),l=o.effects.find(u=>u.type==="DROP_SHADOW");if(!l)continue;s.push({project_id:n.projectId,theme_id:n.themeId,name:a,type:"shadow",value:{offsetX:`${l.offset?.x||0}px`,offsetY:`${l.offset?.y||0}px`,blur:`${l.radius}px`,spread:`${l.spread||0}px`,color:l.color?`rgba(${Math.round(l.color.r*255)}, ${Math.round(l.color.g*255)}, ${Math.round(l.color.b*255)}, ${l.color.a})`:"rgba(0, 0, 0, 0.1)"},scope:"raw",css_variable:`--${a.replace(/\./g,"-")}`})}catch(a){i.push({styleName:o.name,styleType:"effect",reason:"  ",details:a instanceof Error?a.message:"   "})}return s}async importVariables(e,n,r,i){const s=[];for(const o of e)try{const a=this.convertFigmaNameToTokenName(o.name),l=Object.keys(o.valuesByMode)[0],u=o.valuesByMode[l];if(u.type==="COLOR"&&u.color){const c={r:Math.round(u.color.r*255),g:Math.round(u.color.g*255),b:Math.round(u.color.b*255),a:u.color.a},d=YQ(c);s.push({project_id:n.projectId,theme_id:n.themeId,name:a,type:"color",value:d,scope:"raw",css_variable:`--${a.replace(/\./g,"-")}`})}else u.type==="FLOAT"&&s.push({project_id:n.projectId,theme_id:n.themeId,name:a,type:"spacing",value:`${u.value}px`,scope:"raw",css_variable:`--${a.replace(/\./g,"-")}`})}catch(a){i.push({styleName:o.name,styleType:"variable",reason:"Variable  ",details:a instanceof Error?a.message:"   "})}return s}convertFigmaNameToTokenName(e){return e.toLowerCase().replace(/\//g,".").replace(/\s+/g,"-").replace(/[^a-z0-9.-]/g,"").replace(/^\.+|\.+$/g,"")}async exportStyles(e){return{success:!1,exported:{colors:0,textStyles:0,effects:0,variables:0,total:0},errors:[{tokenName:"ALL",tokenType:"all",reason:"Export Figma Plugin   ",details:"Figma REST API    . Figma Plugin   ."}],figmaFileUrl:`https://www.figma.com/file/${e.fileKey}`}}}function TUe(t){const e=t||void 0;if(!e)throw new Error("Figma Access Token  . .env  VITE_FIGMA_ACCESS_TOKEN .");return new DUe(e)}class IU{static async exportTokens(e,n){switch(n.format){case"css":return this.exportToCSS(e,n);case"tailwind":return this.exportToTailwind(e,n);case"scss":return this.exportToSCSS(e,n);case"json":return this.exportToJSON(e,n);default:throw new Error(`Unsupported export format: ${n.format}`)}}static exportToCSS(e,n){const r=[];if(n.includeComments!==!1&&(r.push("/**"),r.push(" * Design Tokens - CSS Variables"),r.push(` * Generated: ${new Date().toISOString()}`),r.push(` * Total tokens: ${e.length}`),r.push(" */"),r.push("")),r.push(":root {"),n.groupByCategory){const s=this.groupTokensByCategory(e);Object.entries(s).forEach(([o,a])=>{n.includeComments!==!1&&r.push(`  /* ${o} */`),a.forEach(l=>{const u=this.tokenValueToCSS(l);r.push(`  ${l.css_variable||`--${l.name.replace(/\./g,"-")}`}: ${u};`)}),r.push("")})}else e.forEach(s=>{const o=this.tokenValueToCSS(s);r.push(`  ${s.css_variable||`--${s.name.replace(/\./g,"-")}`}: ${o};`)});return r.push("}"),{format:"css",content:n.minify?r.join("").replace(/\s+/g," "):r.join(`
`),filename:"tokens.css",mimeType:"text/css"}}static exportToTailwind(e,n){const r={theme:{extend:{}}},i=this.groupTokensByCategory(e);Object.entries(i).forEach(([a,l])=>{const u=this.getTailwindSection(a);u&&(r.theme.extend[u]={},l.forEach(c=>{const d=this.extractTailwindKey(c.name),f=this.tokenValueToTailwind(c);d&&f&&(r.theme.extend[u][d]=f)}))});const s=n.minify?JSON.stringify(r):JSON.stringify(r,null,2),o=[];return n.includeComments!==!1&&(o.push("/**"),o.push(" * Design Tokens - Tailwind Config"),o.push(` * Generated: ${new Date().toISOString()}`),o.push(" */"),o.push("")),o.push("module.exports = "+s),{format:"tailwind",content:o.join(`
`),filename:"tailwind.config.js",mimeType:"application/javascript"}}static exportToSCSS(e,n){const r=[];if(n.includeComments!==!1&&(r.push("//"),r.push("// Design Tokens - SCSS Variables"),r.push(`// Generated: ${new Date().toISOString()}`),r.push(`// Total tokens: ${e.length}`),r.push("//"),r.push("")),n.groupByCategory){const s=this.groupTokensByCategory(e);Object.entries(s).forEach(([o,a])=>{n.includeComments!==!1&&r.push(`// ${o}`),a.forEach(l=>{const u=this.tokenValueToSCSS(l);r.push(`$${l.name.replace(/\./g,"-")}: ${u};`)}),r.push("")})}else e.forEach(s=>{const o=this.tokenValueToSCSS(s);r.push(`$${s.name.replace(/\./g,"-")}: ${o};`)});return{format:"scss",content:n.minify?r.join("").replace(/\s+/g," "):r.join(`
`),filename:"tokens.scss",mimeType:"text/x-scss"}}static exportToJSON(e,n){const r=e.map(s=>({name:s.name,type:s.type,value:s.value,scope:s.scope,css_variable:s.css_variable}));return{format:"json",content:n.minify?JSON.stringify(r):JSON.stringify(r,null,2),filename:"tokens.json",mimeType:"application/json"}}static tokenValueToCSS(e){switch(e.type){case"color":return e.value&&typeof e.value=="object"?PB(e.value):String(e.value);case"spacing":case"typography":return String(e.value);case"shadow":if(yce(e.value)){const n=e.value;return`${n.offsetX} ${n.offsetY} ${n.blur} ${n.spread} ${n.color}`}return String(e.value);default:return JSON.stringify(e.value)}}static tokenValueToTailwind(e){return e.type==="color"&&e.value&&typeof e.value=="object"?mze(e.value):String(e.value)}static tokenValueToSCSS(e){return this.tokenValueToCSS(e)}static groupTokensByCategory(e){return e.reduce((n,r)=>{const i=r.name.split(".")[0]||"other";return n[i]||(n[i]=[]),n[i].push(r),n},{})}static getTailwindSection(e){return{color:"colors",spacing:"spacing",typography:"fontSize",shadow:"boxShadow",radius:"borderRadius"}[e]||null}static extractTailwindKey(e){return e.split(".").slice(1).join("-")}static downloadFile(e){const n=new Blob([e.content],{type:e.mimeType}),r=URL.createObjectURL(n),i=document.createElement("a");i.href=r,i.download=e.filename,document.body.appendChild(i),i.click(),document.body.removeChild(i),URL.revokeObjectURL(r)}}class II{static DEFAULT_OPTIONS={inversionStrength:1,saturationAdjustment:-10,lightnessOffset:0,adjustTextColors:!0,ensureContrast:!0};static async convertToDarkMode(e,n={}){const r={...this.DEFAULT_OPTIONS,...n};return e.map(i=>{if(i.type==="color"&&i.value&&typeof i.value=="object"){const s=i.value,o=this.convertColorToDark(s,i,r);return{...i,value:o}}return i})}static convertColorToDark(e,n,r){const{h:i,s,l:o,a=1}=e,l=n.name.toLowerCase(),u=l.includes("background")||l.includes("bg"),c=l.includes("text")||l.includes("foreground"),d=l.includes("border"),f=l.includes("primary");let p=o,m=s;return u?(p=this.invertLightness(o,r.inversionStrength||1),m=Math.max(0,s+(r.saturationAdjustment||-10)-5)):c&&r.adjustTextColors?(p=this.invertLightness(o,r.inversionStrength||1),m=Math.max(0,s+(r.saturationAdjustment||-10)*.5)):d?(p=Math.max(20,Math.min(80,100-o)),m=Math.max(0,s+(r.saturationAdjustment||-10))):f?(p=this.adjustPrimaryLightness(o),m=s):(p=this.invertLightness(o,r.inversionStrength||1),m=Math.max(0,s+(r.saturationAdjustment||-10))),p=Math.max(0,Math.min(100,p+(r.lightnessOffset||0))),r.ensureContrast&&(p=this.ensureContrast(p,u,c)),{h:i,s:Math.round(m),l:Math.round(p),a}}static invertLightness(e,n){const r=100-e;return e+(r-e)*n}static adjustPrimaryLightness(e){return e<50?e+20:e>70?e-10:e}static ensureContrast(e,n,r){return n&&e>30?Math.min(30,e):r&&e<70?Math.max(70,e):e}static async generateDarkTheme(e,n,r,i={}){const o=(await this.convertToDarkMode(n,i)).map(a=>({...a,name:a.name.includes("-dark")?a.name:`${a.name}-dark`,css_variable:a.css_variable?a.css_variable.replace("--","--dark-"):void 0}));return{darkTokens:o,metadata:{sourceThemeId:e,darkThemeId:`${e}-dark`,generatedAt:new Date().toISOString(),tokenCount:o.length,options:i}}}static PRESETS={default:{inversionStrength:1,saturationAdjustment:-10,lightnessOffset:0,adjustTextColors:!0,ensureContrast:!0},oled:{inversionStrength:1,saturationAdjustment:-15,lightnessOffset:-10,adjustTextColors:!0,ensureContrast:!0},soft:{inversionStrength:.8,saturationAdjustment:-5,lightnessOffset:5,adjustTextColors:!0,ensureContrast:!0},highContrast:{inversionStrength:1,saturationAdjustment:-20,lightnessOffset:0,adjustTextColors:!0,ensureContrast:!0}}}class BU{static async exportToFigmaPlugin(e,n){const r={};return n.includeFiles.manifest!==!1&&(r["manifest.json"]=this.generateManifest(n)),n.includeFiles.code!==!1&&(r["code.ts"]=this.generateCode(e,n)),n.includeFiles.ui!==!1&&(r["ui.html"]=this.generateUI(e,n)),{files:r,metadata:{pluginName:n.pluginName,tokenCount:e.length,generatedAt:new Date().toISOString()}}}static generateManifest(e){const n={name:e.pluginName,id:this.generatePluginId(e.pluginName),api:"1.0.0",main:"code.js",ui:"ui.html",editorType:["figma"],capabilities:["write"],description:e.description||"Import design tokens from XStudio"};return JSON.stringify(n,null,2)}static generateCode(e,n){const r=e.filter(a=>a.type==="color"),i=e.filter(a=>a.type==="typography"),s=e.filter(a=>a.type==="shadow"),o=[];return o.push("/**"),o.push(` * ${n.pluginName}`),o.push(` * Generated by XStudio - ${new Date().toISOString()}`),o.push(" */"),o.push(""),o.push("figma.showUI(__html__, { width: 400, height: 600 });"),o.push(""),o.push("figma.ui.onmessage = async (msg) => {"),o.push('  if (msg.type === "import-tokens") {'),o.push("    try {"),o.push("      let imported = 0;"),o.push(""),n.exportTargets.colors&&r.length>0&&(o.push("      // Import Color Styles"),o.push('      const colorTokens = msg.tokens.filter((t: { type: string }) => t.type === "color");'),o.push("      for (const token of colorTokens) {"),o.push("        const style = figma.createPaintStyle();"),o.push("        style.name = token.name;"),o.push("        style.paints = [{"),o.push('          type: "SOLID",'),o.push("          color: {"),o.push("            r: token.value.r / 255,"),o.push("            g: token.value.g / 255,"),o.push("            b: token.value.b / 255,"),o.push("          },"),o.push("          opacity: token.value.a || 1,"),o.push("        }];"),o.push("        imported++;"),o.push("      }"),o.push("")),n.exportTargets.textStyles&&i.length>0&&(o.push("      // Import Text Styles"),o.push('      const textTokens = msg.tokens.filter((t: { type: string }) => t.type === "typography");'),o.push("      for (const token of textTokens) {"),o.push("        const style = figma.createTextStyle();"),o.push("        style.name = token.name;"),o.push("        if (token.value.fontSize) {"),o.push("          style.fontSize = parseFloat(token.value.fontSize);"),o.push("        }"),o.push("        if (token.value.fontWeight) {"),o.push("          style.fontName = {"),o.push('            family: token.value.fontFamily || "Inter",'),o.push("            style: token.value.fontWeight,"),o.push("          };"),o.push("        }"),o.push("        if (token.value.lineHeight) {"),o.push('          style.lineHeight = { value: parseFloat(token.value.lineHeight), unit: "PIXELS" };'),o.push("        }"),o.push("        imported++;"),o.push("      }"),o.push("")),n.exportTargets.effects&&s.length>0&&(o.push("      // Import Effect Styles (Shadows)"),o.push('      const shadowTokens = msg.tokens.filter((t: { type: string }) => t.type === "shadow");'),o.push("      for (const token of shadowTokens) {"),o.push("        const style = figma.createEffectStyle();"),o.push("        style.name = token.name;"),o.push("        style.effects = [{"),o.push('          type: "DROP_SHADOW",'),o.push("          color: token.value.color,"),o.push("          offset: { x: token.value.offsetX || 0, y: token.value.offsetY || 0 },"),o.push("          radius: token.value.blur || 0,"),o.push("          spread: token.value.spread || 0,"),o.push("          visible: true,"),o.push('          blendMode: "NORMAL",'),o.push("        }];"),o.push("        imported++;"),o.push("      }"),o.push("")),o.push("      figma.ui.postMessage({"),o.push('        type: "import-complete",'),o.push("        imported,"),o.push("      });"),o.push("    } catch (error) {"),o.push("      figma.ui.postMessage({"),o.push('        type: "import-error",'),o.push("        message: error.message,"),o.push("      });"),o.push("    }"),o.push("  }"),o.push(""),o.push('  if (msg.type === "close-plugin") {'),o.push("    figma.closePlugin();"),o.push("  }"),o.push("};"),o.join(`
`)}static generateUI(e,n){return`<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>${n.pluginName}</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: Inter, sans-serif;
      font-size: 14px;
      padding: 16px;
      background: #ffffff;
    }

    h1 {
      font-size: 18px;
      font-weight: 600;
      margin-bottom: 12px;
    }

    p {
      color: #666;
      margin-bottom: 20px;
      line-height: 1.5;
    }

    .token-list {
      max-height: 400px;
      overflow-y: auto;
      margin-bottom: 20px;
      padding: 12px;
      background: #f5f5f5;
      border-radius: 8px;
    }

    .token-item {
      display: flex;
      align-items: center;
      gap: 8px;
      padding: 8px;
      background: white;
      border-radius: 4px;
      margin-bottom: 4px;
    }

    .token-color {
      width: 24px;
      height: 24px;
      border-radius: 4px;
      border: 1px solid #ddd;
    }

    .token-name {
      font-family: monospace;
      font-size: 12px;
    }

    .button-group {
      display: flex;
      gap: 8px;
    }

    button {
      flex: 1;
      padding: 12px;
      border: none;
      border-radius: 6px;
      font-size: 14px;
      font-weight: 500;
      cursor: pointer;
      transition: all 200ms;
    }

    .primary-btn {
      background: #0d99ff;
      color: white;
    }

    .primary-btn:hover {
      background: #0b7fdd;
    }

    .secondary-btn {
      background: #f0f0f0;
      color: #333;
    }

    .secondary-btn:hover {
      background: #e0e0e0;
    }

    .status {
      margin-top: 12px;
      padding: 12px;
      border-radius: 6px;
      font-size: 13px;
    }

    .success {
      background: #e7f7ed;
      color: #0f7b3f;
    }

    .error {
      background: #ffe7e7;
      color: #c92a2a;
    }
  </style>
</head>
<body>
  <h1>${n.pluginName}</h1>
  <p>${n.description||"Import design tokens from XStudio to Figma"}</p>

  <div id="token-list" class="token-list">
    <p>Loading tokens...</p>
  </div>

  <div class="button-group">
    <button class="primary-btn" onclick="importTokens()">Import to Figma</button>
    <button class="secondary-btn" onclick="closePlugin()">Cancel</button>
  </div>

  <div id="status"></div>

  <script>
    // Token data (will be replaced by actual tokens)
    const TOKENS = ${JSON.stringify(e.map(i=>{if(i.type==="color"&&typeof i.value=="object"){const s=gze(i.value);return{...i,value:s}}return i}),null,2)};

    // Render token list
    function renderTokens() {
      const list = document.getElementById('token-list');
      list.innerHTML = TOKENS.map(token => {
        if (token.type === 'color') {
          return \`
            <div class="token-item">
              <div class="token-color" style="background: rgb(\${token.value.r}, \${token.value.g}, \${token.value.b})"></div>
              <span class="token-name">\${token.name}</span>
            </div>
          \`;
        }
        return \`
          <div class="token-item">
            <span class="token-name">\${token.name}</span>
          </div>
        \`;
      }).join('');
    }

    // Import tokens
    function importTokens() {
      parent.postMessage({
        pluginMessage: {
          type: 'import-tokens',
          tokens: TOKENS,
        }
      }, '*');
    }

    // Close plugin
    function closePlugin() {
      parent.postMessage({
        pluginMessage: { type: 'close-plugin' }
      }, '*');
    }

    // Listen for messages from plugin
    window.onmessage = (event) => {
      const msg = event.data.pluginMessage;
      const status = document.getElementById('status');

      if (msg.type === 'import-complete') {
        status.className = 'status success';
        status.textContent = \` Successfully imported \${msg.imported} styles!\`;
        setTimeout(() => {
          closePlugin();
        }, 2000);
      }

      if (msg.type === 'import-error') {
        status.className = 'status error';
        status.textContent = \` Error: \${msg.message}\`;
      }
    };

    // Initialize
    renderTokens();
  <\/script>
</body>
</html>`}static generatePluginId(e){let n=0;for(let r=0;r<e.length;r++){const i=e.charCodeAt(r);n=(n<<5)-n+i,n=n&n}return Math.abs(n).toString()}static async downloadPluginFiles(e){for(const[n,r]of Object.entries(e.files)){if(!r)continue;const i=new Blob([r],{type:n.endsWith(".html")?"text/html":"text/plain"}),s=URL.createObjectURL(i),o=document.createElement("a");o.href=s,o.download=n,document.body.appendChild(o),o.click(),document.body.removeChild(o),URL.revokeObjectURL(s),await new Promise(a=>setTimeout(a,100))}}}function ud(t){return t<0?-1:t===0?0:1}function S_(t,e,n){return(1-n)*t+n*e}function MUe(t,e,n){return n<t?t:n>e?e:n}function kD(t,e,n){return n<t?t:n>e?e:n}function DU(t){return t=t%360,t<0&&(t=t+360),t}function Wy(t){return t=t%360,t<0&&(t=t+360),t}function J8(t,e){const n=t[0]*e[0][0]+t[1]*e[0][1]+t[2]*e[0][2],r=t[0]*e[1][0]+t[1]*e[1][1]+t[2]*e[1][2],i=t[0]*e[2][0]+t[1]*e[2][1]+t[2]*e[2][2];return[n,r,i]}const Tce=[[.41233895,.35762064,.18051042],[.2126,.7152,.0722],[.01932141,.11916382,.95034478]],kUe=[[3.2413774792388685,-1.5376652402851851,-.49885366846268053],[-.9691452513005321,1.8758853451067872,.04156585616912061],[.05562093689691305,-.20395524564742123,1.0571799111220335]],Mce=[95.047,100,108.883];function mz(t,e,n){return(255<<24|(t&255)<<16|(e&255)<<8|n&255)>>>0}function TU(t){const e=_x(t[0]),n=_x(t[1]),r=_x(t[2]);return mz(e,n,r)}function Az(t){return t>>16&255}function yz(t){return t>>8&255}function vz(t){return t&255}function PUe(t,e,n){const r=kUe,i=r[0][0]*t+r[0][1]*e+r[0][2]*n,s=r[1][0]*t+r[1][1]*e+r[1][2]*n,o=r[2][0]*t+r[2][1]*e+r[2][2]*n,a=_x(i),l=_x(s),u=_x(o);return mz(a,l,u)}function RUe(t){const e=D0(Az(t)),n=D0(yz(t)),r=D0(vz(t));return J8([e,n,r],Tce)}function NUe(t){const e=D0(Az(t)),n=D0(yz(t)),r=D0(vz(t)),i=Tce,s=i[0][0]*e+i[0][1]*n+i[0][2]*r,o=i[1][0]*e+i[1][1]*n+i[1][2]*r,a=i[2][0]*e+i[2][1]*n+i[2][2]*r,l=Mce,u=s/l[0],c=o/l[1],d=a/l[2],f=w_(u),p=w_(c),m=w_(d),v=116*p-16,y=500*(f-p),A=200*(p-m);return[v,y,A]}function LUe(t){const e=Fy(t),n=_x(e);return mz(n,n,n)}function MU(t){const e=RUe(t)[1];return 116*w_(e/100)-16}function Fy(t){return 100*$Ue((t+16)/116)}function Z8(t){return w_(t/100)*116-16}function D0(t){const e=t/255;return e<=.040449936?e/12.92*100:Math.pow((e+.055)/1.055,2.4)*100}function _x(t){const e=t/100;let n=0;return e<=.0031308?n=e*12.92:n=1.055*Math.pow(e,1/2.4)-.055,MUe(0,255,Math.round(n*255))}function FUe(){return Mce}function w_(t){const e=.008856451679035631,n=24389/27;return t>e?Math.pow(t,1/3):(n*t+16)/116}function $Ue(t){const e=.008856451679035631,n=24389/27,r=t*t*t;return r>e?r:(116*t-16)/n}class Jg{static make(e=FUe(),n=200/Math.PI*Fy(50)/100,r=50,i=2,s=!1){const o=e,a=o[0]*.401288+o[1]*.650173+o[2]*-.051461,l=o[0]*-.250268+o[1]*1.204414+o[2]*.045854,u=o[0]*-.002079+o[1]*.048952+o[2]*.953127,c=.8+i/10,d=c>=.9?S_(.59,.69,(c-.9)*10):S_(.525,.59,(c-.8)*10);let f=s?1:c*(1-1/3.6*Math.exp((-n-42)/92));f=f>1?1:f<0?0:f;const p=c,m=[f*(100/a)+1-f,f*(100/l)+1-f,f*(100/u)+1-f],v=1/(5*n+1),y=v*v*v*v,A=1-y,C=y*n+.1*A*A*Math.cbrt(5*n),E=Fy(r)/e[1],I=1.48+Math.sqrt(E),D=.725/Math.pow(E,.2),T=D,M=[Math.pow(C*m[0]*a/100,.42),Math.pow(C*m[1]*l/100,.42),Math.pow(C*m[2]*u/100,.42)],P=[400*M[0]/(M[0]+27.13),400*M[1]/(M[1]+27.13),400*M[2]/(M[2]+27.13)],k=(2*P[0]+P[1]+.05*P[2])*D;return new Jg(E,k,D,T,d,p,m,C,Math.pow(C,.25),I)}constructor(e,n,r,i,s,o,a,l,u,c){this.n=e,this.aw=n,this.nbb=r,this.ncb=i,this.c=s,this.nc=o,this.rgbD=a,this.fl=l,this.fLRoot=u,this.z=c}}Jg.DEFAULT=Jg.make();class Xd{constructor(e,n,r,i,s,o,a,l,u){this.hue=e,this.chroma=n,this.j=r,this.q=i,this.m=s,this.s=o,this.jstar=a,this.astar=l,this.bstar=u}distance(e){const n=this.jstar-e.jstar,r=this.astar-e.astar,i=this.bstar-e.bstar,s=Math.sqrt(n*n+r*r+i*i);return 1.41*Math.pow(s,.63)}static fromInt(e){return Xd.fromIntInViewingConditions(e,Jg.DEFAULT)}static fromIntInViewingConditions(e,n){const r=(e&16711680)>>16,i=(e&65280)>>8,s=e&255,o=D0(r),a=D0(i),l=D0(s),u=.41233895*o+.35762064*a+.18051042*l,c=.2126*o+.7152*a+.0722*l,d=.01932141*o+.11916382*a+.95034478*l,f=.401288*u+.650173*c-.051461*d,p=-.250268*u+1.204414*c+.045854*d,m=-.002079*u+.048952*c+.953127*d,v=n.rgbD[0]*f,y=n.rgbD[1]*p,A=n.rgbD[2]*m,C=Math.pow(n.fl*Math.abs(v)/100,.42),E=Math.pow(n.fl*Math.abs(y)/100,.42),I=Math.pow(n.fl*Math.abs(A)/100,.42),D=ud(v)*400*C/(C+27.13),T=ud(y)*400*E/(E+27.13),M=ud(A)*400*I/(I+27.13),P=(11*D+-12*T+M)/11,k=(D+T-2*M)/9,L=(20*D+20*T+21*M)/20,$=(40*D+20*T+M)/20,j=Math.atan2(k,P)*180/Math.PI,H=j<0?j+360:j>=360?j-360:j,W=H*Math.PI/180,O=$*n.nbb,G=100*Math.pow(O/n.aw,n.c*n.z),q=4/n.c*Math.sqrt(G/100)*(n.aw+4)*n.fLRoot,J=H<20.14?H+360:H,te=.25*(Math.cos(J*Math.PI/180+2)+3.8),Z=5e4/13*te*n.nc*n.ncb*Math.sqrt(P*P+k*k)/(L+.305),ee=Math.pow(Z,.9)*Math.pow(1.64-Math.pow(.29,n.n),.73),ie=ee*Math.sqrt(G/100),ue=ie*n.fLRoot,ae=50*Math.sqrt(ee*n.c/(n.aw+4)),de=(1+100*.007)*G/(1+.007*G),ge=1/.0228*Math.log(1+.0228*ue),_e=ge*Math.cos(W),we=ge*Math.sin(W);return new Xd(H,ie,G,q,ue,ae,de,_e,we)}static fromJch(e,n,r){return Xd.fromJchInViewingConditions(e,n,r,Jg.DEFAULT)}static fromJchInViewingConditions(e,n,r,i){const s=4/i.c*Math.sqrt(e/100)*(i.aw+4)*i.fLRoot,o=n*i.fLRoot,a=n/Math.sqrt(e/100),l=50*Math.sqrt(a*i.c/(i.aw+4)),u=r*Math.PI/180,c=(1+100*.007)*e/(1+.007*e),d=1/.0228*Math.log(1+.0228*o),f=d*Math.cos(u),p=d*Math.sin(u);return new Xd(r,n,e,s,o,l,c,f,p)}static fromUcs(e,n,r){return Xd.fromUcsInViewingConditions(e,n,r,Jg.DEFAULT)}static fromUcsInViewingConditions(e,n,r,i){const s=n,o=r,a=Math.sqrt(s*s+o*o),u=(Math.exp(a*.0228)-1)/.0228/i.fLRoot;let c=Math.atan2(o,s)*(180/Math.PI);c<0&&(c+=360);const d=e/(1-(e-100)*.007);return Xd.fromJchInViewingConditions(d,u,c,i)}toInt(){return this.viewed(Jg.DEFAULT)}viewed(e){const n=this.chroma===0||this.j===0?0:this.chroma/Math.sqrt(this.j/100),r=Math.pow(n/Math.pow(1.64-Math.pow(.29,e.n),.73),1/.9),i=this.hue*Math.PI/180,s=.25*(Math.cos(i+2)+3.8),o=e.aw*Math.pow(this.j/100,1/e.c/e.z),a=s*(5e4/13)*e.nc*e.ncb,l=o/e.nbb,u=Math.sin(i),c=Math.cos(i),d=23*(l+.305)*r/(23*a+11*r*c+108*r*u),f=d*c,p=d*u,m=(460*l+451*f+288*p)/1403,v=(460*l-891*f-261*p)/1403,y=(460*l-220*f-6300*p)/1403,A=Math.max(0,27.13*Math.abs(m)/(400-Math.abs(m))),C=ud(m)*(100/e.fl)*Math.pow(A,1/.42),E=Math.max(0,27.13*Math.abs(v)/(400-Math.abs(v))),I=ud(v)*(100/e.fl)*Math.pow(E,1/.42),D=Math.max(0,27.13*Math.abs(y)/(400-Math.abs(y))),T=ud(y)*(100/e.fl)*Math.pow(D,1/.42),M=C/e.rgbD[0],P=I/e.rgbD[1],k=T/e.rgbD[2],L=1.86206786*M-1.01125463*P+.14918677*k,$=.38752654*M+.62144744*P-.00897398*k,z=-.0158415*M-.03412294*P+1.04996444*k;return PUe(L,$,z)}static fromXyzInViewingConditions(e,n,r,i){const s=.401288*e+.650173*n-.051461*r,o=-.250268*e+1.204414*n+.045854*r,a=-.002079*e+.048952*n+.953127*r,l=i.rgbD[0]*s,u=i.rgbD[1]*o,c=i.rgbD[2]*a,d=Math.pow(i.fl*Math.abs(l)/100,.42),f=Math.pow(i.fl*Math.abs(u)/100,.42),p=Math.pow(i.fl*Math.abs(c)/100,.42),m=ud(l)*400*d/(d+27.13),v=ud(u)*400*f/(f+27.13),y=ud(c)*400*p/(p+27.13),A=(11*m+-12*v+y)/11,C=(m+v-2*y)/9,E=(20*m+20*v+21*y)/20,I=(40*m+20*v+y)/20,T=Math.atan2(C,A)*180/Math.PI,M=T<0?T+360:T>=360?T-360:T,P=M*Math.PI/180,k=I*i.nbb,L=100*Math.pow(k/i.aw,i.c*i.z),$=4/i.c*Math.sqrt(L/100)*(i.aw+4)*i.fLRoot,z=M<20.14?M+360:M,j=1/4*(Math.cos(z*Math.PI/180+2)+3.8),W=5e4/13*j*i.nc*i.ncb*Math.sqrt(A*A+C*C)/(E+.305),O=Math.pow(W,.9)*Math.pow(1.64-Math.pow(.29,i.n),.73),G=O*Math.sqrt(L/100),q=G*i.fLRoot,J=50*Math.sqrt(O*i.c/(i.aw+4)),te=(1+100*.007)*L/(1+.007*L),Y=Math.log(1+.0228*q)/.0228,Z=Y*Math.cos(P),ee=Y*Math.sin(P);return new Xd(M,G,L,$,q,J,te,Z,ee)}xyzInViewingConditions(e){const n=this.chroma===0||this.j===0?0:this.chroma/Math.sqrt(this.j/100),r=Math.pow(n/Math.pow(1.64-Math.pow(.29,e.n),.73),1/.9),i=this.hue*Math.PI/180,s=.25*(Math.cos(i+2)+3.8),o=e.aw*Math.pow(this.j/100,1/e.c/e.z),a=s*(5e4/13)*e.nc*e.ncb,l=o/e.nbb,u=Math.sin(i),c=Math.cos(i),d=23*(l+.305)*r/(23*a+11*r*c+108*r*u),f=d*c,p=d*u,m=(460*l+451*f+288*p)/1403,v=(460*l-891*f-261*p)/1403,y=(460*l-220*f-6300*p)/1403,A=Math.max(0,27.13*Math.abs(m)/(400-Math.abs(m))),C=ud(m)*(100/e.fl)*Math.pow(A,1/.42),E=Math.max(0,27.13*Math.abs(v)/(400-Math.abs(v))),I=ud(v)*(100/e.fl)*Math.pow(E,1/.42),D=Math.max(0,27.13*Math.abs(y)/(400-Math.abs(y))),T=ud(y)*(100/e.fl)*Math.pow(D,1/.42),M=C/e.rgbD[0],P=I/e.rgbD[1],k=T/e.rgbD[2],L=1.86206786*M-1.01125463*P+.14918677*k,$=.38752654*M+.62144744*P-.00897398*k,z=-.0158415*M-.03412294*P+1.04996444*k;return[L,$,z]}}class Zn{static sanitizeRadians(e){return(e+Math.PI*8)%(Math.PI*2)}static trueDelinearized(e){const n=e/100;let r=0;return n<=.0031308?r=n*12.92:r=1.055*Math.pow(n,1/2.4)-.055,r*255}static chromaticAdaptation(e){const n=Math.pow(Math.abs(e),.42);return ud(e)*400*n/(n+27.13)}static hueOf(e){const n=J8(e,Zn.SCALED_DISCOUNT_FROM_LINRGB),r=Zn.chromaticAdaptation(n[0]),i=Zn.chromaticAdaptation(n[1]),s=Zn.chromaticAdaptation(n[2]),o=(11*r+-12*i+s)/11,a=(r+i-2*s)/9;return Math.atan2(a,o)}static areInCyclicOrder(e,n,r){const i=Zn.sanitizeRadians(n-e),s=Zn.sanitizeRadians(r-e);return i<s}static intercept(e,n,r){return(n-e)/(r-e)}static lerpPoint(e,n,r){return[e[0]+(r[0]-e[0])*n,e[1]+(r[1]-e[1])*n,e[2]+(r[2]-e[2])*n]}static setCoordinate(e,n,r,i){const s=Zn.intercept(e[i],n,r[i]);return Zn.lerpPoint(e,s,r)}static isBounded(e){return 0<=e&&e<=100}static nthVertex(e,n){const r=Zn.Y_FROM_LINRGB[0],i=Zn.Y_FROM_LINRGB[1],s=Zn.Y_FROM_LINRGB[2],o=n%4<=1?0:100,a=n%2===0?0:100;if(n<4){const l=o,u=a,c=(e-l*i-u*s)/r;return Zn.isBounded(c)?[c,l,u]:[-1,-1,-1]}else if(n<8){const l=o,u=a,c=(e-u*r-l*s)/i;return Zn.isBounded(c)?[u,c,l]:[-1,-1,-1]}else{const l=o,u=a,c=(e-l*r-u*i)/s;return Zn.isBounded(c)?[l,u,c]:[-1,-1,-1]}}static bisectToSegment(e,n){let r=[-1,-1,-1],i=r,s=0,o=0,a=!1,l=!0;for(let u=0;u<12;u++){const c=Zn.nthVertex(e,u);if(c[0]<0)continue;const d=Zn.hueOf(c);if(!a){r=c,i=c,s=d,o=d,a=!0;continue}(l||Zn.areInCyclicOrder(s,d,o))&&(l=!1,Zn.areInCyclicOrder(s,n,d)?(i=c,o=d):(r=c,s=d))}return[r,i]}static midpoint(e,n){return[(e[0]+n[0])/2,(e[1]+n[1])/2,(e[2]+n[2])/2]}static criticalPlaneBelow(e){return Math.floor(e-.5)}static criticalPlaneAbove(e){return Math.ceil(e-.5)}static bisectToLimit(e,n){const r=Zn.bisectToSegment(e,n);let i=r[0],s=Zn.hueOf(i),o=r[1];for(let a=0;a<3;a++)if(i[a]!==o[a]){let l=-1,u=255;i[a]<o[a]?(l=Zn.criticalPlaneBelow(Zn.trueDelinearized(i[a])),u=Zn.criticalPlaneAbove(Zn.trueDelinearized(o[a]))):(l=Zn.criticalPlaneAbove(Zn.trueDelinearized(i[a])),u=Zn.criticalPlaneBelow(Zn.trueDelinearized(o[a])));for(let c=0;c<8&&!(Math.abs(u-l)<=1);c++){const d=Math.floor((l+u)/2),f=Zn.CRITICAL_PLANES[d],p=Zn.setCoordinate(i,f,o,a),m=Zn.hueOf(p);Zn.areInCyclicOrder(s,n,m)?(o=p,u=d):(i=p,s=m,l=d)}}return Zn.midpoint(i,o)}static inverseChromaticAdaptation(e){const n=Math.abs(e),r=Math.max(0,27.13*n/(400-n));return ud(e)*Math.pow(r,1/.42)}static findResultByJ(e,n,r){let i=Math.sqrt(r)*11;const s=Jg.DEFAULT,o=1/Math.pow(1.64-Math.pow(.29,s.n),.73),l=.25*(Math.cos(e+2)+3.8)*(5e4/13)*s.nc*s.ncb,u=Math.sin(e),c=Math.cos(e);for(let d=0;d<5;d++){const f=i/100,p=n===0||i===0?0:n/Math.sqrt(f),m=Math.pow(p*o,1/.9),y=s.aw*Math.pow(f,1/s.c/s.z)/s.nbb,A=23*(y+.305)*m/(23*l+11*m*c+108*m*u),C=A*c,E=A*u,I=(460*y+451*C+288*E)/1403,D=(460*y-891*C-261*E)/1403,T=(460*y-220*C-6300*E)/1403,M=Zn.inverseChromaticAdaptation(I),P=Zn.inverseChromaticAdaptation(D),k=Zn.inverseChromaticAdaptation(T),L=J8([M,P,k],Zn.LINRGB_FROM_SCALED_DISCOUNT);if(L[0]<0||L[1]<0||L[2]<0)return 0;const $=Zn.Y_FROM_LINRGB[0],z=Zn.Y_FROM_LINRGB[1],j=Zn.Y_FROM_LINRGB[2],H=$*L[0]+z*L[1]+j*L[2];if(H<=0)return 0;if(d===4||Math.abs(H-r)<.002)return L[0]>100.01||L[1]>100.01||L[2]>100.01?0:TU(L);i=i-(H-r)*i/(2*H)}return 0}static solveToInt(e,n,r){if(n<1e-4||r<1e-4||r>99.9999)return LUe(r);e=Wy(e);const i=e/180*Math.PI,s=Fy(r),o=Zn.findResultByJ(i,n,s);if(o!==0)return o;const a=Zn.bisectToLimit(s,i);return TU(a)}static solveToCam(e,n,r){return Xd.fromInt(Zn.solveToInt(e,n,r))}}Zn.SCALED_DISCOUNT_FROM_LINRGB=[[.001200833568784504,.002389694492170889,.0002795742885861124],[.0005891086651375999,.0029785502573438758,.0003270666104008398],[.00010146692491640572,.0005364214359186694,.0032979401770712076]];Zn.LINRGB_FROM_SCALED_DISCOUNT=[[1373.2198709594231,-1100.4251190754821,-7.278681089101213],[-271.815969077903,559.6580465940733,-32.46047482791194],[1.9622899599665666,-57.173814538844006,308.7233197812385]];Zn.Y_FROM_LINRGB=[.2126,.7152,.0722];Zn.CRITICAL_PLANES=[.015176349177441876,.045529047532325624,.07588174588720938,.10623444424209313,.13658714259697685,.16693984095186062,.19729253930674434,.2276452376616281,.2579979360165119,.28835063437139563,.3188300904430532,.350925934958123,.3848314933096426,.42057480301049466,.458183274052838,.4976837250274023,.5391024159806381,.5824650784040898,.6277969426914107,.6751227633498623,.7244668422128921,.775853049866786,.829304845476233,.8848452951698498,.942497089126609,1.0022825574869039,1.0642236851973577,1.1283421258858297,1.1946592148522128,1.2631959812511864,1.3339731595349034,1.407011200216447,1.4823302800086415,1.5599503113873272,1.6398909516233677,1.7221716113234105,1.8068114625156377,1.8938294463134073,1.9832442801866852,2.075074464868551,2.1693382909216234,2.2660538449872063,2.36523901573795,2.4669114995532007,2.5710888059345764,2.6777882626779785,2.7870270208169257,2.898822059350997,3.0131901897720907,3.1301480604002863,3.2497121605402226,3.3718988244681087,3.4967242352587946,3.624204428461639,3.754355295633311,3.887192587735158,4.022731918402185,4.160988767090289,4.301978482107941,4.445716283538092,4.592217266055746,4.741496401646282,4.893568542229298,5.048448422192488,5.20615066083972,5.3666897647573375,5.5300801301023865,5.696336044816294,5.865471690767354,6.037501145825082,6.212438385869475,6.390297286737924,6.571091626112461,6.7548350853498045,6.941541251256611,7.131223617812143,7.323895587840543,7.5195704746346665,7.7182615035334345,7.919981813454504,8.124744458384042,8.332562408825165,8.543448553206703,8.757415699253682,8.974476575321063,9.194643831691977,9.417930041841839,9.644347703669503,9.873909240696694,10.106627003236781,10.342513269534024,10.58158024687427,10.8238400726681,11.069304815507364,11.317986476196008,11.569896988756009,11.825048221409341,12.083451977536606,12.345119996613247,12.610063955123938,12.878295467455942,13.149826086772048,13.42466730586372,13.702830557985108,13.984327217668513,14.269168601521828,14.55736596900856,14.848930523210871,15.143873411576273,15.44220572664832,15.743938506781891,16.04908273684337,16.35764934889634,16.66964922287304,16.985093187232053,17.30399201960269,17.62635644741625,17.95219714852476,18.281524751807332,18.614349837764564,18.95068293910138,19.290534541298456,19.633915083172692,19.98083495742689,20.331304511189067,20.685334046541502,21.042933821039977,21.404114048223256,21.76888489811322,22.137256497705877,22.50923893145328,22.884842241736916,23.264076429332462,23.6469514538663,24.033477234264016,24.42366364919083,24.817520537484558,25.21505769858089,25.61628489293138,26.021211842414342,26.429848230738664,26.842203703840827,27.258287870275353,27.678110301598522,28.10168053274597,28.529008062403893,28.96010235337422,29.39497283293396,29.83362889318845,30.276079891419332,30.722335150426627,31.172403958865512,31.62629557157785,32.08401920991837,32.54558406207592,33.010999283389665,33.4802739966603,33.953417292456834,34.430438229418264,34.911345834551085,35.39614910352207,35.88485700094671,36.37747846067349,36.87402238606382,37.37449765026789,37.87891309649659,38.38727753828926,38.89959975977785,39.41588851594697,39.93615253289054,40.460400508064545,40.98864111053629,41.520882981230194,42.05713473317016,42.597404951718396,43.141702194811224,43.6900349931913,44.24241185063697,44.798841244188324,45.35933162437017,45.92389141541209,46.49252901546552,47.065252796817916,47.64207110610409,48.22299226451468,48.808024568002054,49.3971762874833,49.9904556690408,50.587870934119984,51.189430279724725,51.79514187861014,52.40501387947288,53.0190544071392,53.637271562750364,54.259673423945976,54.88626804504493,55.517063457223934,56.15206766869424,56.79128866487574,57.43473440856916,58.08241284012621,58.734331877617365,59.39049941699807,60.05092333227251,60.715611475655585,61.38457167773311,62.057811747619894,62.7353394731159,63.417162620860914,64.10328893648692,64.79372614476921,65.48848194977529,66.18756403501224,66.89098006357258,67.59873767827808,68.31084450182222,69.02730813691093,69.74813616640164,70.47333615344107,71.20291564160104,71.93688215501312,72.67524319850172,73.41800625771542,74.16517879925733,74.9167682708136,75.67278210128072,76.43322770089146,77.1981124613393,77.96744375590167,78.74122893956174,79.51947534912904,80.30219030335869,81.08938110306934,81.88105503125999,82.67721935322541,83.4778813166706,84.28304815182372,85.09272707154808,85.90692527145302,86.72564993000343,87.54890820862819,88.3767072518277,89.2090541872801,90.04595612594655,90.88742016217518,91.73345337380438,92.58406282226491,93.43925555268066,94.29903859396902,95.16341895893969,96.03240364439274,96.9059996312159,97.78421388448044,98.6670533535366,99.55452497210776];class Zs{static from(e,n,r){return new Zs(Zn.solveToInt(e,n,r))}static fromInt(e){return new Zs(e)}toInt(){return this.argb}get hue(){return this.internalHue}set hue(e){this.setInternalState(Zn.solveToInt(e,this.internalChroma,this.internalTone))}get chroma(){return this.internalChroma}set chroma(e){this.setInternalState(Zn.solveToInt(this.internalHue,e,this.internalTone))}get tone(){return this.internalTone}set tone(e){this.setInternalState(Zn.solveToInt(this.internalHue,this.internalChroma,e))}constructor(e){this.argb=e;const n=Xd.fromInt(e);this.internalHue=n.hue,this.internalChroma=n.chroma,this.internalTone=MU(e),this.argb=e}setInternalState(e){const n=Xd.fromInt(e);this.internalHue=n.hue,this.internalChroma=n.chroma,this.internalTone=MU(e),this.argb=e}inViewingConditions(e){const r=Xd.fromInt(this.toInt()).xyzInViewingConditions(e),i=Xd.fromXyzInViewingConditions(r[0],r[1],r[2],Jg.make());return Zs.from(i.hue,i.chroma,Z8(r[1]))}}class Bl{static ratioOfTones(e,n){return e=kD(0,100,e),n=kD(0,100,n),Bl.ratioOfYs(Fy(e),Fy(n))}static ratioOfYs(e,n){const r=e>n?e:n,i=r===n?e:n;return(r+5)/(i+5)}static lighter(e,n){if(e<0||e>100)return-1;const r=Fy(e),i=n*(r+5)-5,s=Bl.ratioOfYs(i,r),o=Math.abs(s-n);if(s<n&&o>.04)return-1;const a=Z8(i)+.4;return a<0||a>100?-1:a}static darker(e,n){if(e<0||e>100)return-1;const r=Fy(e),i=(r+5)/n-5,s=Bl.ratioOfYs(r,i),o=Math.abs(s-n);if(s<n&&o>.04)return-1;const a=Z8(i)-.4;return a<0||a>100?-1:a}static lighterUnsafe(e,n){const r=Bl.lighter(e,n);return r<0?100:r}static darkerUnsafe(e,n){const r=Bl.darker(e,n);return r<0?0:r}}class m4{static isDisliked(e){const n=Math.round(e.hue)>=90&&Math.round(e.hue)<=111,r=Math.round(e.chroma)>16,i=Math.round(e.tone)<65;return n&&r&&i}static fixIfDisliked(e){return m4.isDisliked(e)?Zs.from(e.hue,e.chroma,70):e}}class Cn{static fromPalette(e){return new Cn(e.name??"",e.palette,e.tone,e.isBackground??!1,e.background,e.secondBackground,e.contrastCurve,e.toneDeltaPair)}constructor(e,n,r,i,s,o,a,l){if(this.name=e,this.palette=n,this.tone=r,this.isBackground=i,this.background=s,this.secondBackground=o,this.contrastCurve=a,this.toneDeltaPair=l,this.hctCache=new Map,!s&&o)throw new Error(`Color ${e} has secondBackgrounddefined, but background is not defined.`);if(!s&&a)throw new Error(`Color ${e} has contrastCurvedefined, but background is not defined.`);if(s&&!a)throw new Error(`Color ${e} has backgrounddefined, but contrastCurve is not defined.`)}getArgb(e){return this.getHct(e).toInt()}getHct(e){const n=this.hctCache.get(e);if(n!=null)return n;const r=this.getTone(e),i=this.palette(e).getHct(r);return this.hctCache.size>4&&this.hctCache.clear(),this.hctCache.set(e,i),i}getTone(e){const n=e.contrastLevel<0;if(this.toneDeltaPair){const r=this.toneDeltaPair(e),i=r.roleA,s=r.roleB,o=r.delta,a=r.polarity,l=r.stayTogether,c=this.background(e).getTone(e),d=a==="nearer"||a==="lighter"&&!e.isDark||a==="darker"&&e.isDark,f=d?i:s,p=d?s:i,m=this.name===f.name,v=e.isDark?1:-1,y=f.contrastCurve.get(e.contrastLevel),A=p.contrastCurve.get(e.contrastLevel),C=f.tone(e);let E=Bl.ratioOfTones(c,C)>=y?C:Cn.foregroundTone(c,y);const I=p.tone(e);let D=Bl.ratioOfTones(c,I)>=A?I:Cn.foregroundTone(c,A);return n&&(E=Cn.foregroundTone(c,y),D=Cn.foregroundTone(c,A)),(D-E)*v>=o||(D=kD(0,100,E+o*v),(D-E)*v>=o||(E=kD(0,100,D-o*v))),50<=E&&E<60?v>0?(E=60,D=Math.max(D,E+o*v)):(E=49,D=Math.min(D,E+o*v)):50<=D&&D<60&&(l?v>0?(E=60,D=Math.max(D,E+o*v)):(E=49,D=Math.min(D,E+o*v)):v>0?D=60:D=49),m?E:D}else{let r=this.tone(e);if(this.background==null)return r;const i=this.background(e).getTone(e),s=this.contrastCurve.get(e.contrastLevel);if(Bl.ratioOfTones(i,r)>=s||(r=Cn.foregroundTone(i,s)),n&&(r=Cn.foregroundTone(i,s)),this.isBackground&&50<=r&&r<60&&(Bl.ratioOfTones(49,i)>=s?r=49:r=60),this.secondBackground){const[o,a]=[this.background,this.secondBackground],[l,u]=[o(e).getTone(e),a(e).getTone(e)],[c,d]=[Math.max(l,u),Math.min(l,u)];if(Bl.ratioOfTones(c,r)>=s&&Bl.ratioOfTones(d,r)>=s)return r;const f=Bl.lighter(c,s),p=Bl.darker(d,s),m=[];return f!==-1&&m.push(f),p!==-1&&m.push(p),Cn.tonePrefersLightForeground(l)||Cn.tonePrefersLightForeground(u)?f<0?100:f:m.length===1?m[0]:p<0?0:p}return r}}static foregroundTone(e,n){const r=Bl.lighterUnsafe(e,n),i=Bl.darkerUnsafe(e,n),s=Bl.ratioOfTones(r,e),o=Bl.ratioOfTones(i,e);if(Cn.tonePrefersLightForeground(e)){const l=Math.abs(s-o)<.1&&s<n&&o<n;return s>=n||s>=o||l?r:i}else return o>=n||o>=s?i:r}static tonePrefersLightForeground(e){return Math.round(e)<60}static toneAllowsLightForeground(e){return Math.round(e)<=49}static enableLightForeground(e){return Cn.tonePrefersLightForeground(e)&&!Cn.toneAllowsLightForeground(e)?49:e}}class Kr{static fromInt(e){const n=Zs.fromInt(e);return Kr.fromHct(n)}static fromHct(e){return new Kr(e.hue,e.chroma,e)}static fromHueAndChroma(e,n){const r=new zUe(e,n).create();return new Kr(e,n,r)}constructor(e,n,r){this.hue=e,this.chroma=n,this.keyColor=r,this.cache=new Map}tone(e){let n=this.cache.get(e);return n===void 0&&(n=Zs.from(this.hue,this.chroma,e).toInt(),this.cache.set(e,n)),n}getHct(e){return Zs.fromInt(this.tone(e))}}class zUe{constructor(e,n){this.hue=e,this.requestedChroma=n,this.chromaCache=new Map,this.maxChromaValue=200}create(){let i=0,s=100;for(;i<s;){const o=Math.floor((i+s)/2),a=this.maxChroma(o)<this.maxChroma(o+1);if(this.maxChroma(o)>=this.requestedChroma-.01)if(Math.abs(i-50)<Math.abs(s-50))s=o;else{if(i===o)return Zs.from(this.hue,this.requestedChroma,i);i=o}else a?i=o+1:s=o}return Zs.from(this.hue,this.requestedChroma,i)}maxChroma(e){if(this.chromaCache.has(e))return this.chromaCache.get(e);const n=Zs.from(this.hue,this.maxChromaValue,e).chroma;return this.chromaCache.set(e,n),n}}class Sr{constructor(e,n,r,i){this.low=e,this.normal=n,this.medium=r,this.high=i}get(e){return e<=-1?this.low:e<0?S_(this.low,this.normal,(e- -1)/1):e<.5?S_(this.normal,this.medium,(e-0)/.5):e<1?S_(this.medium,this.high,(e-.5)/.5):this.high}}class Sd{constructor(e,n,r,i,s){this.roleA=e,this.roleB=n,this.delta=r,this.polarity=i,this.stayTogether=s}}var Cf;(function(t){t[t.MONOCHROME=0]="MONOCHROME",t[t.NEUTRAL=1]="NEUTRAL",t[t.TONAL_SPOT=2]="TONAL_SPOT",t[t.VIBRANT=3]="VIBRANT",t[t.EXPRESSIVE=4]="EXPRESSIVE",t[t.FIDELITY=5]="FIDELITY",t[t.CONTENT=6]="CONTENT",t[t.RAINBOW=7]="RAINBOW",t[t.FRUIT_SALAD=8]="FRUIT_SALAD"})(Cf||(Cf={}));function mS(t){return t.variant===Cf.FIDELITY||t.variant===Cf.CONTENT}function Fo(t){return t.variant===Cf.MONOCHROME}function OUe(t,e,n,r){let i=n,s=Zs.from(t,e,n);if(s.chroma<e){let o=s.chroma;for(;s.chroma<e;){i+=r?-1:1;const a=Zs.from(t,e,i);if(o>a.chroma||Math.abs(a.chroma-e)<.4)break;const l=Math.abs(a.chroma-e),u=Math.abs(s.chroma-e);l<u&&(s=a),o=Math.max(o,a.chroma)}}return i}class We{static highestSurface(e){return e.isDark?We.surfaceBright:We.surfaceDim}}We.contentAccentToneDelta=15;We.primaryPaletteKeyColor=Cn.fromPalette({name:"primary_palette_key_color",palette:t=>t.primaryPalette,tone:t=>t.primaryPalette.keyColor.tone});We.secondaryPaletteKeyColor=Cn.fromPalette({name:"secondary_palette_key_color",palette:t=>t.secondaryPalette,tone:t=>t.secondaryPalette.keyColor.tone});We.tertiaryPaletteKeyColor=Cn.fromPalette({name:"tertiary_palette_key_color",palette:t=>t.tertiaryPalette,tone:t=>t.tertiaryPalette.keyColor.tone});We.neutralPaletteKeyColor=Cn.fromPalette({name:"neutral_palette_key_color",palette:t=>t.neutralPalette,tone:t=>t.neutralPalette.keyColor.tone});We.neutralVariantPaletteKeyColor=Cn.fromPalette({name:"neutral_variant_palette_key_color",palette:t=>t.neutralVariantPalette,tone:t=>t.neutralVariantPalette.keyColor.tone});We.background=Cn.fromPalette({name:"background",palette:t=>t.neutralPalette,tone:t=>t.isDark?6:98,isBackground:!0});We.onBackground=Cn.fromPalette({name:"on_background",palette:t=>t.neutralPalette,tone:t=>t.isDark?90:10,background:t=>We.background,contrastCurve:new Sr(3,3,4.5,7)});We.surface=Cn.fromPalette({name:"surface",palette:t=>t.neutralPalette,tone:t=>t.isDark?6:98,isBackground:!0});We.surfaceDim=Cn.fromPalette({name:"surface_dim",palette:t=>t.neutralPalette,tone:t=>t.isDark?6:new Sr(87,87,80,75).get(t.contrastLevel),isBackground:!0});We.surfaceBright=Cn.fromPalette({name:"surface_bright",palette:t=>t.neutralPalette,tone:t=>t.isDark?new Sr(24,24,29,34).get(t.contrastLevel):98,isBackground:!0});We.surfaceContainerLowest=Cn.fromPalette({name:"surface_container_lowest",palette:t=>t.neutralPalette,tone:t=>t.isDark?new Sr(4,4,2,0).get(t.contrastLevel):100,isBackground:!0});We.surfaceContainerLow=Cn.fromPalette({name:"surface_container_low",palette:t=>t.neutralPalette,tone:t=>t.isDark?new Sr(10,10,11,12).get(t.contrastLevel):new Sr(96,96,96,95).get(t.contrastLevel),isBackground:!0});We.surfaceContainer=Cn.fromPalette({name:"surface_container",palette:t=>t.neutralPalette,tone:t=>t.isDark?new Sr(12,12,16,20).get(t.contrastLevel):new Sr(94,94,92,90).get(t.contrastLevel),isBackground:!0});We.surfaceContainerHigh=Cn.fromPalette({name:"surface_container_high",palette:t=>t.neutralPalette,tone:t=>t.isDark?new Sr(17,17,21,25).get(t.contrastLevel):new Sr(92,92,88,85).get(t.contrastLevel),isBackground:!0});We.surfaceContainerHighest=Cn.fromPalette({name:"surface_container_highest",palette:t=>t.neutralPalette,tone:t=>t.isDark?new Sr(22,22,26,30).get(t.contrastLevel):new Sr(90,90,84,80).get(t.contrastLevel),isBackground:!0});We.onSurface=Cn.fromPalette({name:"on_surface",palette:t=>t.neutralPalette,tone:t=>t.isDark?90:10,background:t=>We.highestSurface(t),contrastCurve:new Sr(4.5,7,11,21)});We.surfaceVariant=Cn.fromPalette({name:"surface_variant",palette:t=>t.neutralVariantPalette,tone:t=>t.isDark?30:90,isBackground:!0});We.onSurfaceVariant=Cn.fromPalette({name:"on_surface_variant",palette:t=>t.neutralVariantPalette,tone:t=>t.isDark?80:30,background:t=>We.highestSurface(t),contrastCurve:new Sr(3,4.5,7,11)});We.inverseSurface=Cn.fromPalette({name:"inverse_surface",palette:t=>t.neutralPalette,tone:t=>t.isDark?90:20});We.inverseOnSurface=Cn.fromPalette({name:"inverse_on_surface",palette:t=>t.neutralPalette,tone:t=>t.isDark?20:95,background:t=>We.inverseSurface,contrastCurve:new Sr(4.5,7,11,21)});We.outline=Cn.fromPalette({name:"outline",palette:t=>t.neutralVariantPalette,tone:t=>t.isDark?60:50,background:t=>We.highestSurface(t),contrastCurve:new Sr(1.5,3,4.5,7)});We.outlineVariant=Cn.fromPalette({name:"outline_variant",palette:t=>t.neutralVariantPalette,tone:t=>t.isDark?30:80,background:t=>We.highestSurface(t),contrastCurve:new Sr(1,1,3,4.5)});We.shadow=Cn.fromPalette({name:"shadow",palette:t=>t.neutralPalette,tone:t=>0});We.scrim=Cn.fromPalette({name:"scrim",palette:t=>t.neutralPalette,tone:t=>0});We.surfaceTint=Cn.fromPalette({name:"surface_tint",palette:t=>t.primaryPalette,tone:t=>t.isDark?80:40,isBackground:!0});We.primary=Cn.fromPalette({name:"primary",palette:t=>t.primaryPalette,tone:t=>Fo(t)?t.isDark?100:0:t.isDark?80:40,isBackground:!0,background:t=>We.highestSurface(t),contrastCurve:new Sr(3,4.5,7,7),toneDeltaPair:t=>new Sd(We.primaryContainer,We.primary,10,"nearer",!1)});We.onPrimary=Cn.fromPalette({name:"on_primary",palette:t=>t.primaryPalette,tone:t=>Fo(t)?t.isDark?10:90:t.isDark?20:100,background:t=>We.primary,contrastCurve:new Sr(4.5,7,11,21)});We.primaryContainer=Cn.fromPalette({name:"primary_container",palette:t=>t.primaryPalette,tone:t=>mS(t)?t.sourceColorHct.tone:Fo(t)?t.isDark?85:25:t.isDark?30:90,isBackground:!0,background:t=>We.highestSurface(t),contrastCurve:new Sr(1,1,3,4.5),toneDeltaPair:t=>new Sd(We.primaryContainer,We.primary,10,"nearer",!1)});We.onPrimaryContainer=Cn.fromPalette({name:"on_primary_container",palette:t=>t.primaryPalette,tone:t=>mS(t)?Cn.foregroundTone(We.primaryContainer.tone(t),4.5):Fo(t)?t.isDark?0:100:t.isDark?90:30,background:t=>We.primaryContainer,contrastCurve:new Sr(3,4.5,7,11)});We.inversePrimary=Cn.fromPalette({name:"inverse_primary",palette:t=>t.primaryPalette,tone:t=>t.isDark?40:80,background:t=>We.inverseSurface,contrastCurve:new Sr(3,4.5,7,7)});We.secondary=Cn.fromPalette({name:"secondary",palette:t=>t.secondaryPalette,tone:t=>t.isDark?80:40,isBackground:!0,background:t=>We.highestSurface(t),contrastCurve:new Sr(3,4.5,7,7),toneDeltaPair:t=>new Sd(We.secondaryContainer,We.secondary,10,"nearer",!1)});We.onSecondary=Cn.fromPalette({name:"on_secondary",palette:t=>t.secondaryPalette,tone:t=>Fo(t)?t.isDark?10:100:t.isDark?20:100,background:t=>We.secondary,contrastCurve:new Sr(4.5,7,11,21)});We.secondaryContainer=Cn.fromPalette({name:"secondary_container",palette:t=>t.secondaryPalette,tone:t=>{const e=t.isDark?30:90;return Fo(t)?t.isDark?30:85:mS(t)?OUe(t.secondaryPalette.hue,t.secondaryPalette.chroma,e,!t.isDark):e},isBackground:!0,background:t=>We.highestSurface(t),contrastCurve:new Sr(1,1,3,4.5),toneDeltaPair:t=>new Sd(We.secondaryContainer,We.secondary,10,"nearer",!1)});We.onSecondaryContainer=Cn.fromPalette({name:"on_secondary_container",palette:t=>t.secondaryPalette,tone:t=>Fo(t)?t.isDark?90:10:mS(t)?Cn.foregroundTone(We.secondaryContainer.tone(t),4.5):t.isDark?90:30,background:t=>We.secondaryContainer,contrastCurve:new Sr(3,4.5,7,11)});We.tertiary=Cn.fromPalette({name:"tertiary",palette:t=>t.tertiaryPalette,tone:t=>Fo(t)?t.isDark?90:25:t.isDark?80:40,isBackground:!0,background:t=>We.highestSurface(t),contrastCurve:new Sr(3,4.5,7,7),toneDeltaPair:t=>new Sd(We.tertiaryContainer,We.tertiary,10,"nearer",!1)});We.onTertiary=Cn.fromPalette({name:"on_tertiary",palette:t=>t.tertiaryPalette,tone:t=>Fo(t)?t.isDark?10:90:t.isDark?20:100,background:t=>We.tertiary,contrastCurve:new Sr(4.5,7,11,21)});We.tertiaryContainer=Cn.fromPalette({name:"tertiary_container",palette:t=>t.tertiaryPalette,tone:t=>{if(Fo(t))return t.isDark?60:49;if(!mS(t))return t.isDark?30:90;const e=t.tertiaryPalette.getHct(t.sourceColorHct.tone);return m4.fixIfDisliked(e).tone},isBackground:!0,background:t=>We.highestSurface(t),contrastCurve:new Sr(1,1,3,4.5),toneDeltaPair:t=>new Sd(We.tertiaryContainer,We.tertiary,10,"nearer",!1)});We.onTertiaryContainer=Cn.fromPalette({name:"on_tertiary_container",palette:t=>t.tertiaryPalette,tone:t=>Fo(t)?t.isDark?0:100:mS(t)?Cn.foregroundTone(We.tertiaryContainer.tone(t),4.5):t.isDark?90:30,background:t=>We.tertiaryContainer,contrastCurve:new Sr(3,4.5,7,11)});We.error=Cn.fromPalette({name:"error",palette:t=>t.errorPalette,tone:t=>t.isDark?80:40,isBackground:!0,background:t=>We.highestSurface(t),contrastCurve:new Sr(3,4.5,7,7),toneDeltaPair:t=>new Sd(We.errorContainer,We.error,10,"nearer",!1)});We.onError=Cn.fromPalette({name:"on_error",palette:t=>t.errorPalette,tone:t=>t.isDark?20:100,background:t=>We.error,contrastCurve:new Sr(4.5,7,11,21)});We.errorContainer=Cn.fromPalette({name:"error_container",palette:t=>t.errorPalette,tone:t=>t.isDark?30:90,isBackground:!0,background:t=>We.highestSurface(t),contrastCurve:new Sr(1,1,3,4.5),toneDeltaPair:t=>new Sd(We.errorContainer,We.error,10,"nearer",!1)});We.onErrorContainer=Cn.fromPalette({name:"on_error_container",palette:t=>t.errorPalette,tone:t=>Fo(t)?t.isDark?90:10:t.isDark?90:30,background:t=>We.errorContainer,contrastCurve:new Sr(3,4.5,7,11)});We.primaryFixed=Cn.fromPalette({name:"primary_fixed",palette:t=>t.primaryPalette,tone:t=>Fo(t)?40:90,isBackground:!0,background:t=>We.highestSurface(t),contrastCurve:new Sr(1,1,3,4.5),toneDeltaPair:t=>new Sd(We.primaryFixed,We.primaryFixedDim,10,"lighter",!0)});We.primaryFixedDim=Cn.fromPalette({name:"primary_fixed_dim",palette:t=>t.primaryPalette,tone:t=>Fo(t)?30:80,isBackground:!0,background:t=>We.highestSurface(t),contrastCurve:new Sr(1,1,3,4.5),toneDeltaPair:t=>new Sd(We.primaryFixed,We.primaryFixedDim,10,"lighter",!0)});We.onPrimaryFixed=Cn.fromPalette({name:"on_primary_fixed",palette:t=>t.primaryPalette,tone:t=>Fo(t)?100:10,background:t=>We.primaryFixedDim,secondBackground:t=>We.primaryFixed,contrastCurve:new Sr(4.5,7,11,21)});We.onPrimaryFixedVariant=Cn.fromPalette({name:"on_primary_fixed_variant",palette:t=>t.primaryPalette,tone:t=>Fo(t)?90:30,background:t=>We.primaryFixedDim,secondBackground:t=>We.primaryFixed,contrastCurve:new Sr(3,4.5,7,11)});We.secondaryFixed=Cn.fromPalette({name:"secondary_fixed",palette:t=>t.secondaryPalette,tone:t=>Fo(t)?80:90,isBackground:!0,background:t=>We.highestSurface(t),contrastCurve:new Sr(1,1,3,4.5),toneDeltaPair:t=>new Sd(We.secondaryFixed,We.secondaryFixedDim,10,"lighter",!0)});We.secondaryFixedDim=Cn.fromPalette({name:"secondary_fixed_dim",palette:t=>t.secondaryPalette,tone:t=>Fo(t)?70:80,isBackground:!0,background:t=>We.highestSurface(t),contrastCurve:new Sr(1,1,3,4.5),toneDeltaPair:t=>new Sd(We.secondaryFixed,We.secondaryFixedDim,10,"lighter",!0)});We.onSecondaryFixed=Cn.fromPalette({name:"on_secondary_fixed",palette:t=>t.secondaryPalette,tone:t=>10,background:t=>We.secondaryFixedDim,secondBackground:t=>We.secondaryFixed,contrastCurve:new Sr(4.5,7,11,21)});We.onSecondaryFixedVariant=Cn.fromPalette({name:"on_secondary_fixed_variant",palette:t=>t.secondaryPalette,tone:t=>Fo(t)?25:30,background:t=>We.secondaryFixedDim,secondBackground:t=>We.secondaryFixed,contrastCurve:new Sr(3,4.5,7,11)});We.tertiaryFixed=Cn.fromPalette({name:"tertiary_fixed",palette:t=>t.tertiaryPalette,tone:t=>Fo(t)?40:90,isBackground:!0,background:t=>We.highestSurface(t),contrastCurve:new Sr(1,1,3,4.5),toneDeltaPair:t=>new Sd(We.tertiaryFixed,We.tertiaryFixedDim,10,"lighter",!0)});We.tertiaryFixedDim=Cn.fromPalette({name:"tertiary_fixed_dim",palette:t=>t.tertiaryPalette,tone:t=>Fo(t)?30:80,isBackground:!0,background:t=>We.highestSurface(t),contrastCurve:new Sr(1,1,3,4.5),toneDeltaPair:t=>new Sd(We.tertiaryFixed,We.tertiaryFixedDim,10,"lighter",!0)});We.onTertiaryFixed=Cn.fromPalette({name:"on_tertiary_fixed",palette:t=>t.tertiaryPalette,tone:t=>Fo(t)?100:10,background:t=>We.tertiaryFixedDim,secondBackground:t=>We.tertiaryFixed,contrastCurve:new Sr(4.5,7,11,21)});We.onTertiaryFixedVariant=Cn.fromPalette({name:"on_tertiary_fixed_variant",palette:t=>t.tertiaryPalette,tone:t=>Fo(t)?90:30,background:t=>We.tertiaryFixedDim,secondBackground:t=>We.tertiaryFixed,contrastCurve:new Sr(3,4.5,7,11)});class zp{constructor(e){this.sourceColorArgb=e.sourceColorArgb,this.variant=e.variant,this.contrastLevel=e.contrastLevel,this.isDark=e.isDark,this.sourceColorHct=Zs.fromInt(e.sourceColorArgb),this.primaryPalette=e.primaryPalette,this.secondaryPalette=e.secondaryPalette,this.tertiaryPalette=e.tertiaryPalette,this.neutralPalette=e.neutralPalette,this.neutralVariantPalette=e.neutralVariantPalette,this.errorPalette=Kr.fromHueAndChroma(25,84)}static getRotatedHue(e,n,r){const i=e.hue;if(n.length!==r.length)throw new Error(`mismatch between hue length ${n.length} & rotations ${r.length}`);if(r.length===1)return Wy(e.hue+r[0]);const s=n.length;for(let o=0;o<=s-2;o++){const a=n[o],l=n[o+1];if(a<i&&i<l)return Wy(i+r[o])}return i}getArgb(e){return e.getArgb(this)}getHct(e){return e.getHct(this)}get primaryPaletteKeyColor(){return this.getArgb(We.primaryPaletteKeyColor)}get secondaryPaletteKeyColor(){return this.getArgb(We.secondaryPaletteKeyColor)}get tertiaryPaletteKeyColor(){return this.getArgb(We.tertiaryPaletteKeyColor)}get neutralPaletteKeyColor(){return this.getArgb(We.neutralPaletteKeyColor)}get neutralVariantPaletteKeyColor(){return this.getArgb(We.neutralVariantPaletteKeyColor)}get background(){return this.getArgb(We.background)}get onBackground(){return this.getArgb(We.onBackground)}get surface(){return this.getArgb(We.surface)}get surfaceDim(){return this.getArgb(We.surfaceDim)}get surfaceBright(){return this.getArgb(We.surfaceBright)}get surfaceContainerLowest(){return this.getArgb(We.surfaceContainerLowest)}get surfaceContainerLow(){return this.getArgb(We.surfaceContainerLow)}get surfaceContainer(){return this.getArgb(We.surfaceContainer)}get surfaceContainerHigh(){return this.getArgb(We.surfaceContainerHigh)}get surfaceContainerHighest(){return this.getArgb(We.surfaceContainerHighest)}get onSurface(){return this.getArgb(We.onSurface)}get surfaceVariant(){return this.getArgb(We.surfaceVariant)}get onSurfaceVariant(){return this.getArgb(We.onSurfaceVariant)}get inverseSurface(){return this.getArgb(We.inverseSurface)}get inverseOnSurface(){return this.getArgb(We.inverseOnSurface)}get outline(){return this.getArgb(We.outline)}get outlineVariant(){return this.getArgb(We.outlineVariant)}get shadow(){return this.getArgb(We.shadow)}get scrim(){return this.getArgb(We.scrim)}get surfaceTint(){return this.getArgb(We.surfaceTint)}get primary(){return this.getArgb(We.primary)}get onPrimary(){return this.getArgb(We.onPrimary)}get primaryContainer(){return this.getArgb(We.primaryContainer)}get onPrimaryContainer(){return this.getArgb(We.onPrimaryContainer)}get inversePrimary(){return this.getArgb(We.inversePrimary)}get secondary(){return this.getArgb(We.secondary)}get onSecondary(){return this.getArgb(We.onSecondary)}get secondaryContainer(){return this.getArgb(We.secondaryContainer)}get onSecondaryContainer(){return this.getArgb(We.onSecondaryContainer)}get tertiary(){return this.getArgb(We.tertiary)}get onTertiary(){return this.getArgb(We.onTertiary)}get tertiaryContainer(){return this.getArgb(We.tertiaryContainer)}get onTertiaryContainer(){return this.getArgb(We.onTertiaryContainer)}get error(){return this.getArgb(We.error)}get onError(){return this.getArgb(We.onError)}get errorContainer(){return this.getArgb(We.errorContainer)}get onErrorContainer(){return this.getArgb(We.onErrorContainer)}get primaryFixed(){return this.getArgb(We.primaryFixed)}get primaryFixedDim(){return this.getArgb(We.primaryFixedDim)}get onPrimaryFixed(){return this.getArgb(We.onPrimaryFixed)}get onPrimaryFixedVariant(){return this.getArgb(We.onPrimaryFixedVariant)}get secondaryFixed(){return this.getArgb(We.secondaryFixed)}get secondaryFixedDim(){return this.getArgb(We.secondaryFixedDim)}get onSecondaryFixed(){return this.getArgb(We.onSecondaryFixed)}get onSecondaryFixedVariant(){return this.getArgb(We.onSecondaryFixedVariant)}get tertiaryFixed(){return this.getArgb(We.tertiaryFixed)}get tertiaryFixedDim(){return this.getArgb(We.tertiaryFixedDim)}get onTertiaryFixed(){return this.getArgb(We.onTertiaryFixed)}get onTertiaryFixedVariant(){return this.getArgb(We.onTertiaryFixedVariant)}}class AE{constructor(e){this.input=e,this.hctsByTempCache=[],this.hctsByHueCache=[],this.tempsByHctCache=new Map,this.inputRelativeTemperatureCache=-1,this.complementCache=null}get hctsByTemp(){if(this.hctsByTempCache.length>0)return this.hctsByTempCache;const e=this.hctsByHue.concat([this.input]),n=this.tempsByHct;return e.sort((r,i)=>n.get(r)-n.get(i)),this.hctsByTempCache=e,e}get warmest(){return this.hctsByTemp[this.hctsByTemp.length-1]}get coldest(){return this.hctsByTemp[0]}analogous(e=5,n=12){const r=Math.round(this.input.hue),i=this.hctsByHue[r];let s=this.relativeTemperature(i);const o=[i];let a=0;for(let m=0;m<360;m++){const v=DU(r+m),y=this.hctsByHue[v],A=this.relativeTemperature(y),C=Math.abs(A-s);s=A,a+=C}let l=1;const u=a/n;let c=0;for(s=this.relativeTemperature(i);o.length<n;){const m=DU(r+l),v=this.hctsByHue[m],y=this.relativeTemperature(v),A=Math.abs(y-s);c+=A;const C=o.length*u;let E=c>=C,I=1;for(;E&&o.length<n;){o.push(v);const D=(o.length+I)*u;E=c>=D,I++}if(s=y,l++,l>360){for(;o.length<n;)o.push(v);break}}const d=[this.input],f=Math.floor((e-1)/2);for(let m=1;m<f+1;m++){let v=0-m;for(;v<0;)v=o.length+v;v>=o.length&&(v=v%o.length),d.splice(0,0,o[v])}const p=e-f-1;for(let m=1;m<p+1;m++){let v=m;for(;v<0;)v=o.length+v;v>=o.length&&(v=v%o.length),d.push(o[v])}return d}get complement(){if(this.complementCache!=null)return this.complementCache;const e=this.coldest.hue,n=this.tempsByHct.get(this.coldest),r=this.warmest.hue,s=this.tempsByHct.get(this.warmest)-n,o=AE.isBetween(this.input.hue,e,r),a=o?r:e,l=o?e:r,u=1;let c=1e3,d=this.hctsByHue[Math.round(this.input.hue)];const f=1-this.inputRelativeTemperature;for(let p=0;p<=360;p+=1){const m=Wy(a+u*p);if(!AE.isBetween(m,a,l))continue;const v=this.hctsByHue[Math.round(m)],y=(this.tempsByHct.get(v)-n)/s,A=Math.abs(f-y);A<c&&(c=A,d=v)}return this.complementCache=d,this.complementCache}relativeTemperature(e){const n=this.tempsByHct.get(this.warmest)-this.tempsByHct.get(this.coldest),r=this.tempsByHct.get(e)-this.tempsByHct.get(this.coldest);return n===0?.5:r/n}get inputRelativeTemperature(){return this.inputRelativeTemperatureCache>=0?this.inputRelativeTemperatureCache:(this.inputRelativeTemperatureCache=this.relativeTemperature(this.input),this.inputRelativeTemperatureCache)}get tempsByHct(){if(this.tempsByHctCache.size>0)return this.tempsByHctCache;const e=this.hctsByHue.concat([this.input]),n=new Map;for(const r of e)n.set(r,AE.rawTemperature(r));return this.tempsByHctCache=n,n}get hctsByHue(){if(this.hctsByHueCache.length>0)return this.hctsByHueCache;const e=[];for(let n=0;n<=360;n+=1){const r=Zs.from(n,this.input.chroma,this.input.tone);e.push(r)}return this.hctsByHueCache=e,this.hctsByHueCache}static isBetween(e,n,r){return n<r?n<=e&&e<=r:n<=e||e<=r}static rawTemperature(e){const n=NUe(e.toInt()),r=Wy(Math.atan2(n[2],n[1])*180/Math.PI),i=Math.sqrt(n[1]*n[1]+n[2]*n[2]);return-.5+.02*Math.pow(i,1.07)*Math.cos(Wy(r-50)*Math.PI/180)}}class jUe extends zp{constructor(e,n,r){super({sourceColorArgb:e.toInt(),variant:Cf.CONTENT,contrastLevel:r,isDark:n,primaryPalette:Kr.fromHueAndChroma(e.hue,e.chroma),secondaryPalette:Kr.fromHueAndChroma(e.hue,Math.max(e.chroma-32,e.chroma*.5)),tertiaryPalette:Kr.fromInt(m4.fixIfDisliked(new AE(e).analogous(3,6)[2]).toInt()),neutralPalette:Kr.fromHueAndChroma(e.hue,e.chroma/8),neutralVariantPalette:Kr.fromHueAndChroma(e.hue,e.chroma/8+4)})}}class E0 extends zp{constructor(e,n,r){super({sourceColorArgb:e.toInt(),variant:Cf.EXPRESSIVE,contrastLevel:r,isDark:n,primaryPalette:Kr.fromHueAndChroma(Wy(e.hue+240),40),secondaryPalette:Kr.fromHueAndChroma(zp.getRotatedHue(e,E0.hues,E0.secondaryRotations),24),tertiaryPalette:Kr.fromHueAndChroma(zp.getRotatedHue(e,E0.hues,E0.tertiaryRotations),32),neutralPalette:Kr.fromHueAndChroma(e.hue+15,8),neutralVariantPalette:Kr.fromHueAndChroma(e.hue+15,12)})}}E0.hues=[0,21,51,121,151,191,271,321,360];E0.secondaryRotations=[45,95,45,20,45,90,45,45,45];E0.tertiaryRotations=[120,120,20,45,20,15,20,120,120];class QUe extends zp{constructor(e,n,r){super({sourceColorArgb:e.toInt(),variant:Cf.FIDELITY,contrastLevel:r,isDark:n,primaryPalette:Kr.fromHueAndChroma(e.hue,e.chroma),secondaryPalette:Kr.fromHueAndChroma(e.hue,Math.max(e.chroma-32,e.chroma*.5)),tertiaryPalette:Kr.fromInt(m4.fixIfDisliked(new AE(e).complement).toInt()),neutralPalette:Kr.fromHueAndChroma(e.hue,e.chroma/8),neutralVariantPalette:Kr.fromHueAndChroma(e.hue,e.chroma/8+4)})}}class UUe extends zp{constructor(e,n,r){super({sourceColorArgb:e.toInt(),variant:Cf.MONOCHROME,contrastLevel:r,isDark:n,primaryPalette:Kr.fromHueAndChroma(e.hue,0),secondaryPalette:Kr.fromHueAndChroma(e.hue,0),tertiaryPalette:Kr.fromHueAndChroma(e.hue,0),neutralPalette:Kr.fromHueAndChroma(e.hue,0),neutralVariantPalette:Kr.fromHueAndChroma(e.hue,0)})}}class HUe extends zp{constructor(e,n,r){super({sourceColorArgb:e.toInt(),variant:Cf.NEUTRAL,contrastLevel:r,isDark:n,primaryPalette:Kr.fromHueAndChroma(e.hue,12),secondaryPalette:Kr.fromHueAndChroma(e.hue,8),tertiaryPalette:Kr.fromHueAndChroma(e.hue,16),neutralPalette:Kr.fromHueAndChroma(e.hue,2),neutralVariantPalette:Kr.fromHueAndChroma(e.hue,2)})}}class kU extends zp{constructor(e,n,r){super({sourceColorArgb:e.toInt(),variant:Cf.TONAL_SPOT,contrastLevel:r,isDark:n,primaryPalette:Kr.fromHueAndChroma(e.hue,36),secondaryPalette:Kr.fromHueAndChroma(e.hue,16),tertiaryPalette:Kr.fromHueAndChroma(Wy(e.hue+60),24),neutralPalette:Kr.fromHueAndChroma(e.hue,6),neutralVariantPalette:Kr.fromHueAndChroma(e.hue,8)})}}class S0 extends zp{constructor(e,n,r){super({sourceColorArgb:e.toInt(),variant:Cf.VIBRANT,contrastLevel:r,isDark:n,primaryPalette:Kr.fromHueAndChroma(e.hue,200),secondaryPalette:Kr.fromHueAndChroma(zp.getRotatedHue(e,S0.hues,S0.secondaryRotations),24),tertiaryPalette:Kr.fromHueAndChroma(zp.getRotatedHue(e,S0.hues,S0.tertiaryRotations),32),neutralPalette:Kr.fromHueAndChroma(e.hue,10),neutralVariantPalette:Kr.fromHueAndChroma(e.hue,12)})}}S0.hues=[0,41,61,101,131,181,251,301,360];S0.secondaryRotations=[18,15,10,12,15,18,15,12,12];S0.tertiaryRotations=[35,30,20,25,30,35,30,25,25];function vi(t){const e=Az(t),n=yz(t),r=vz(t),i=[e.toString(16),n.toString(16),r.toString(16)];for(const[s,o]of i.entries())o.length===1&&(i[s]="0"+o);return"#"+i.join("")}function bz(t){t=t.replace("#","");const e=t.length===3,n=t.length===6,r=t.length===8;if(!e&&!n&&!r)throw new Error("unexpected hex "+t);let i=0,s=0,o=0;return e?(i=s0(t.slice(0,1).repeat(2)),s=s0(t.slice(1,2).repeat(2)),o=s0(t.slice(2,3).repeat(2))):n?(i=s0(t.slice(0,2)),s=s0(t.slice(2,4)),o=s0(t.slice(4,6))):r&&(i=s0(t.slice(2,4)),s=s0(t.slice(4,6)),o=s0(t.slice(6,8))),(255<<24|(i&255)<<16|(s&255)<<8|o&255)>>>0}function s0(t){return parseInt(t,16)}function kce(t){const e=bz(t),n=Zs.fromInt(e);return{hue:n.hue,chroma:n.chroma,tone:n.tone}}const VUe=[0,4,6,10,12,17,20,22,24,30,40,50,60,70,80,87,90,92,94,95,96,98,99,100],GUe=[50,100,200,300,400,500,600,700,800,900,950],KUe={50:98,100:94,200:87,300:80,400:70,500:60,600:50,700:40,800:30,900:20,950:10};function WUe(t){const e=kce(t),n=Kr.fromHueAndChroma(e.hue,e.chroma),r={};for(const i of GUe){const s=KUe[i],o=vi(n.tone(s)),a=kB(o);a&&(r[i]=a)}return r}function Pce(t,e,n,r=0){switch(e){case"tonalSpot":return new kU(Zs.fromInt(t),n,r);case"vibrant":return new S0(Zs.fromInt(t),n,r);case"expressive":return new E0(Zs.fromInt(t),n,r);case"neutral":return new HUe(Zs.fromInt(t),n,r);case"monochrome":return new UUe(Zs.fromInt(t),n,r);case"fidelity":return new QUe(Zs.fromInt(t),n,r);case"content":return new jUe(Zs.fromInt(t),n,r);default:return new kU(Zs.fromInt(t),n,r)}}function eL(t,e="tonalSpot",n=!1,r=0){const i=bz(t),s=Pce(i,e,n,r);return{primary:vi(s.primary),onPrimary:vi(s.onPrimary),primaryContainer:vi(s.primaryContainer),onPrimaryContainer:vi(s.onPrimaryContainer),secondary:vi(s.secondary),onSecondary:vi(s.onSecondary),secondaryContainer:vi(s.secondaryContainer),onSecondaryContainer:vi(s.onSecondaryContainer),tertiary:vi(s.tertiary),onTertiary:vi(s.onTertiary),tertiaryContainer:vi(s.tertiaryContainer),onTertiaryContainer:vi(s.onTertiaryContainer),error:vi(s.error),onError:vi(s.onError),errorContainer:vi(s.errorContainer),onErrorContainer:vi(s.onErrorContainer),surface:vi(s.surface),onSurface:vi(s.onSurface),surfaceVariant:vi(s.surfaceVariant),onSurfaceVariant:vi(s.onSurfaceVariant),surfaceContainerLowest:vi(s.surfaceContainerLowest),surfaceContainerLow:vi(s.surfaceContainerLow),surfaceContainer:vi(s.surfaceContainer),surfaceContainerHigh:vi(s.surfaceContainerHigh),surfaceContainerHighest:vi(s.surfaceContainerHighest),outline:vi(s.outline),outlineVariant:vi(s.outlineVariant),inverseSurface:vi(s.inverseSurface),inverseOnSurface:vi(s.inverseOnSurface),inversePrimary:vi(s.inversePrimary),scrim:vi(s.scrim),shadow:vi(s.shadow),background:vi(s.background),onBackground:vi(s.onBackground)}}function Rce(t,e="tonalSpot"){const n=bz(t),r=Pce(n,e,!1,0),i=s=>{const o={};for(const l of VUe)o[l]=vi(s.tone(l));const a=Zs.fromInt(s.tone(50));return{hue:a.hue,chroma:a.chroma,tones:o}};return{primary:i(r.primaryPalette),secondary:i(r.secondaryPalette),tertiary:i(r.tertiaryPalette),neutral:i(r.neutralPalette),neutralVariant:i(r.neutralVariantPalette),error:i(r.errorPalette)}}class qUe{async*generateTheme(e){const n=e.variant||"tonalSpot",r=e.contrastLevel||0,i=e.includeDarkMode??!0;try{yield{stage:"analyzing",progress:10,message:"Analyzing source color..."};const s=kce(e.sourceColor);console.log("[HctThemeService] Source HCT:",s),yield{stage:"palettes",progress:25,message:"Generating tonal palettes..."};const o=Rce(e.sourceColor,n);yield{stage:"palettes",progress:40,message:"Tonal palettes generated",data:{tonalPalettes:o}},yield{stage:"schemes",progress:50,message:"Generating color schemes..."};const a=eL(e.sourceColor,n,!1,r);let l;i&&(l=eL(e.sourceColor,n,!0,r)),yield{stage:"schemes",progress:65,message:"Color schemes generated",data:{lightScheme:a,darkScheme:l}},yield{stage:"tokens",progress:75,message:"Converting to design tokens..."};const u=await Lu.createTheme({project_id:e.projectId,name:e.themeName,status:"draft",supports_dark_mode:i}),c=this.convertToDesignTokens(e.projectId,u.id,e.sourceColor,o,a,l);yield{stage:"tokens",progress:85,message:`Generated ${c.length} design tokens`},yield{stage:"saving",progress:90,message:"Saving theme to database..."},await us.bulkUpsertTokens(c),yield{stage:"complete",progress:100,message:"Theme generation complete!",data:{themeId:u.id,themeName:e.themeName,sourceColor:e.sourceColor,variant:n,lightScheme:a,darkScheme:l,tonalPalettes:o,tokens:c,metadata:{generatedAt:new Date().toISOString(),algorithm:"hct",tokenCount:c.length,variant:n,contrastLevel:r}}}}catch(s){throw console.error("[HctThemeService] Generation failed:",s),s}}convertToDesignTokens(e,n,r,i,s,o){const a=[],l=["primary","secondary","tertiary","neutral","neutralVariant","error"];for(const d of l){const f=i[d],p=WUe(`#${f.tones[50].slice(1)}`),m=d==="neutralVariant"?"surface":d;for(const[v,y]of Object.entries(p))a.push({project_id:e,theme_id:n,name:`color.${m}.${v}`,type:"color",value:y,scope:"raw",css_variable:`--color-${m}-${v}`})}const u=Object.entries(s);for(const[d,f]of u){const p=kB(f);if(p){const m=d.replace(/([A-Z])/g,"-$1").toLowerCase();a.push({project_id:e,theme_id:n,name:`color.m3.${d}`,type:"color",value:p,scope:"semantic",css_variable:`--color-m3${m}`})}}if(o){const d=Object.entries(o);for(const[f,p]of d){const m=kB(p);if(m){const v=f.replace(/([A-Z])/g,"-$1").toLowerCase();a.push({project_id:e,theme_id:n,name:`color.m3.dark.${f}`,type:"color",value:m,scope:"semantic",css_variable:`--color-m3-dark${v}`})}}}const c=kB(r);return c&&a.push({project_id:e,theme_id:n,name:"color.source",type:"color",value:c,scope:"raw",css_variable:"--color-source"}),a}}function YUe(t,e="tonalSpot",n=!1,r=0){return eL(t,e,n,r)}function XUe(t,e="tonalSpot"){return Rce(t,e)}function qT(t){const e=t.split(".");return{category:e[0]||"other",group:e[1],tokenName:e[2]||e[e.length-1],fullName:t}}function JUe(t){return{...t,parsed:qT(t.name)}}function ZUe(t){return t.map(JUe)}function eHe(t,e){return t.filter(n=>qT(n.name).category===e)}function tHe(t,e,n){return t.filter(r=>{const i=qT(r.name);return i.category===e&&i.group===n})}function YT(t){const{themeId:e,filter:n,enableRealtime:r=!0}=t,[i,s]=x.useState([]),[o,a]=x.useState(!0),[l,u]=x.useState(null),c=x.useCallback(async()=>{try{a(!0),u(null);const D=await us.getResolvedTokens(e);s(D)}catch(D){const T=D instanceof Error?D.message:"  ";u(T),console.error("[useTokens] fetchTokens failed:",D)}finally{a(!1)}},[e]);x.useEffect(()=>{c()},[c]),x.useEffect(()=>!r||!e?void 0:us.subscribeToTokenChanges(e,T=>{console.log("[useTokens] Realtime update:",T),c()}),[r,e,c]);const d=x.useMemo(()=>{let D=i;if(n?.category&&(D=eHe(D,n.category)),n?.category&&n?.group&&(D=tHe(D,n.category,n.group)),n?.scope&&(D=D.filter(T=>T.scope===n.scope)),n?.showInherited===!1&&(D=D.filter(T=>!T.is_inherited)),n?.search){const T=n.search.toLowerCase();D=D.filter(M=>M.name.toLowerCase().includes(T)||M.type.toLowerCase().includes(T)||JSON.stringify(M.value).toLowerCase().includes(T))}return D},[i,n]),f=x.useMemo(()=>ZUe(d),[d]),p=x.useMemo(()=>d.filter(D=>D.scope==="raw"),[d]),m=x.useMemo(()=>d.filter(D=>D.scope==="semantic"),[d]),v=x.useMemo(()=>d.filter(D=>D.is_inherited),[d]),y=x.useMemo(()=>d.filter(D=>!D.is_inherited),[d]),A=x.useCallback(async D=>{try{return await us.createToken({...D,theme_id:e}),r||await c(),!0}catch(T){const M=T instanceof Error?T.message:"  ";return u(M),console.error("[useTokens] createToken failed:",T),!1}},[e,r,c]),C=x.useCallback(async(D,T)=>{try{return s(M=>M.map(P=>P.id===D?{...P,...T}:P)),await us.updateToken(D,T),r||await c(),!0}catch(M){const P=M instanceof Error?M.message:"  ";return u(P),console.error("[useTokens] updateToken failed:",M),await c(),!1}},[r,c]),E=x.useCallback(async D=>{try{return await us.deleteToken(D),r||await c(),!0}catch(T){const M=T instanceof Error?T.message:"  ";return u(M),console.error("[useTokens] deleteToken failed:",T),!1}},[r,c]),I=x.useCallback(async D=>{try{const T=D.map(P=>({...P,theme_id:e})),M=await us.bulkUpsertTokens(T);return r||await c(),M}catch(T){const M=T instanceof Error?T.message:"   ";return u(M),console.error("[useTokens] bulkUpsertTokens failed:",T),0}},[e,r,c]);return{tokens:d,parsedTokens:f,rawTokens:p,semanticTokens:m,inheritedTokens:v,currentThemeTokens:y,loading:o,error:l,refetch:c,createToken:A,updateToken:C,deleteToken:E,bulkUpsertTokens:I}}const nHe={total:0,raw:0,semantic:0,byType:{},inherited:0};function rHe(t){const{themeId:e,enableRealtime:n=!0}=t,[r,i]=x.useState(null),[s,o]=x.useState(!0),[a,l]=x.useState(null),u=x.useCallback(async()=>{try{o(!0),l(null);const f=await us.getTokenStats(e);i(f)}catch(f){const p=f instanceof Error?f.message:"  ";l(p),console.error("[useTokenStats] fetchStats failed:",f),i(nHe)}finally{o(!1)}},[e]);x.useEffect(()=>{u()},[u]),x.useEffect(()=>!n||!e?void 0:us.subscribeToTokenChanges(e,p=>{console.log("[useTokenStats] Realtime update:",p),u()}),[n,e,u]);const c={raw:r&&r.total>0?r.raw/r.total*100:0,semantic:r&&r.total>0?r.semantic/r.total*100:0,inherited:r&&r.total>0?r.inherited/r.total*100:0},d=r?Object.entries(r.byType).map(([f,p])=>({type:f,count:p,percentage:r.total>0?p/r.total*100:0})).sort((f,p)=>p.count-f.count):[];return{stats:r,loading:s,error:a,refetch:u,percentages:c,topTypes:d}}function iHe(){const{projectId:t}=nC(),{sendThemeTokens:e,sendDarkMode:n}=bce(),r=Pe(P=>P.showGrid),i=Pe(P=>P.setShowGrid),s=Pe(P=>P.snapToGrid),o=Pe(P=>P.setSnapToGrid),a=Pe(P=>P.gridSize),l=Pe(P=>P.setGridSize),u=t_(P=>P.themeMode),c=t_(P=>P.setThemeMode),d=t_(P=>P.uiScale),f=t_(P=>P.setUiScale),p=Ds(P=>P.activeTheme),m=Ds(P=>P.loadActiveTheme),{themes:v}=gz({projectId:t||"",enableRealtime:!1}),y=async P=>{if(t)try{await Lu.activateTheme(P),await m(t);const{tokens:k}=Ds.getState();k.length>0&&e(k)}catch{}},A=()=>u==="dark"?d_:u==="light"?QN:window.matchMedia("(prefers-color-scheme: dark)").matches?d_:QN,C=[{value:"light",label:"Light"},{value:"dark",label:"Dark"},{value:"auto",label:"Auto (System)"}],E=[{value:"80",label:"Small"},{value:"100",label:"Default"},{value:"120",label:"Large"}],I=[{value:"8",label:"8px"},{value:"16",label:"16px"},{value:"24",label:"24px"}],D=P=>{const k=parseInt(P);l(k)},T=P=>{const k=P;c(k);const L=k==="dark"||k==="auto"&&window.matchMedia("(prefers-color-scheme: dark)").matches;n(L)},M=P=>{const k=parseInt(P);f(k)};return h.jsxs("div",{className:"settings-panel",children:[h.jsx(Uu,{icon:h.jsx(wf,{size:ce.size}),title:"Settings"}),h.jsxs("div",{className:"panel-settings",children:[h.jsxs(Sc,{title:"Grid & Guides",children:[h.jsx(rv,{label:"Show Grid",isSelected:r,onChange:i,icon:_X}),h.jsx(rv,{label:"Snap to Grid",isSelected:s,onChange:o,icon:Ive}),h.jsx(kl,{label:"Grid Size",value:String(a),onChange:D,options:I,icon:dbe})]}),h.jsxs(Sc,{title:"Theme & Appearance",children:[t&&v.length>0&&h.jsx(kl,{label:"Theme Select",value:p?.id||"",onChange:y,options:v.map(P=>({value:P.id,label:P.name})),icon:ax}),h.jsx(kl,{label:"Theme Mode",value:u,onChange:T,options:C,icon:A()}),h.jsx(kl,{label:"UI Scale",value:String(d),onChange:M,options:E,icon:jxe})]})]})]})}function sHe({isActive:t}){return t?h.jsx(iHe,{}):null}function gy(){const{panelLayout:t,setPanelLayout:e}=Pe.getState();t.activeLeftPanels.includes("datatableEditor")||e({...t,activeLeftPanels:[...t.activeLeftPanels,"datatableEditor"]})}function oHe(){const{panelLayout:t,setPanelLayout:e}=Pe.getState();t.activeLeftPanels.includes("datatableEditor")&&e({...t,activeLeftPanels:t.activeLeftPanels.filter(n=>n!=="datatableEditor")})}const Zg=aa(t=>({mode:null,openTableCreator:e=>{t({mode:{type:"table-create",projectId:e}}),gy()},openTableEditor:e=>{t({mode:{type:"table-edit",tableId:e}}),gy()},openApiCreator:e=>{t({mode:{type:"api-create",projectId:e}}),gy()},openApiEditor:(e,n)=>{t({mode:{type:"api-edit",endpointId:e,initialTab:n}}),gy()},openVariableCreator:e=>{t({mode:{type:"variable-create",projectId:e}}),gy()},openVariableEditor:e=>{t({mode:{type:"variable-edit",variableId:e}}),gy()},openTransformerCreator:e=>{t({mode:{type:"transformer-create",projectId:e}}),gy()},openTransformerEditor:e=>{t({mode:{type:"transformer-edit",transformerId:e}}),gy()},close:()=>{t({mode:null}),oHe()}}));function aHe({projectId:t,editingId:e,onEditingChange:n,onCreateClick:r}){const i=Oi(f=>f.dataTables),s=Oi(f=>f.apiEndpoints),o=Oi(f=>f.deleteDataTable),a=x.useMemo(()=>Array.from(i.values()),[i]),l=x.useMemo(()=>Array.from(s.values()),[s]),u=x.useMemo(()=>f=>l.find(p=>p.targetDataTable===f),[l]),c=async(f,p)=>{if(p.stopPropagation(),!!confirm(" ?"))try{await o(f),e===f&&n(null)}catch(m){console.error("DataTable  :",m)}},d=(f,p)=>{p.stopPropagation(),n(f)};return h.jsxs("div",{className:"section",children:[h.jsx(g4,{title:"Table List",actions:h.jsxs("span",{className:"datatable-list-count",children:[a.length,""]})}),h.jsxs("div",{className:"section-content",children:[a.length===0?h.jsxs("div",{className:"datatable-empty",children:[h.jsx(G_,{size:32,className:"datatable-empty-icon"}),h.jsxs("p",{className:"datatable-empty-text",children:["  .",h.jsx("br",{}),"  ."]})]}):h.jsx("div",{className:"list-group",role:"list",children:a.map(f=>{const p=u(f.name);return h.jsxs("div",{role:"listitem",className:`list-item ${e===f.id?"selected":""}`,onClick:()=>n(f.id),children:[h.jsx("div",{className:"list-item-icon",children:h.jsx(G_,{...ce})}),h.jsxs("div",{className:"list-item-content",children:[h.jsx("div",{className:"list-item-name",children:f.name}),h.jsxs("div",{className:"list-item-meta",children:[f.schema.length,"  "," ",f.mockData?.length||0," ",p&&h.jsxs(h.Fragment,{children:[" "," ",h.jsx(lT,{size:10,className:"linked-api-icon"})," ",p.name]})]})]}),h.jsx("span",{className:`list-item-badge ${p?"api":"local"}`,children:p?"API":"Local"}),h.jsxs("div",{className:"list-item-actions",children:[h.jsx("button",{type:"button",className:"iconButton",onClick:m=>d(f.id,m),title:"",children:h.jsx(cT,{...yn})}),h.jsx("button",{type:"button",className:"iconButton",onClick:m=>c(f.id,m),title:"",children:h.jsx(Qu,{...yn})})]})]},f.id)})}),h.jsxs(Yt,{className:"datatable-add-btn",onPress:r,children:[h.jsx(yd,{...ce}),h.jsx("span",{children:"Table "})]})]})]})}function lHe({projectId:t}){const e=$T(),n=Oi(p=>p.createApiEndpoint),r=Oi(p=>p.deleteApiEndpoint),[i,s]=x.useState(null),o=Zg(p=>p.mode),a=Zg(p=>p.openApiEditor),l=o?.type==="api-edit"?o.endpointId:null,u=async()=>{const p=prompt("API URL  (: https://pokeapi.co/api/v2/pokemon):");if(!p)return;let m="",v="";try{const y=new URL(p);m=`${y.protocol}//${y.host}`,v=y.pathname||"/"}catch{m="https://api.example.com",v=p.startsWith("/")?p:`/${p}`}try{await n({name:p,project_id:t,method:"GET",baseUrl:m,path:v})}catch(y){console.error("API Endpoint  :",y)}},c=async(p,m)=>{if(m.stopPropagation(),!!confirm(" ?"))try{await r(p),i===p&&s(null)}catch(v){console.error("API Endpoint  :",v)}},d=(p,m)=>{m.stopPropagation(),a(p,"run")},f=(p,m)=>{m.stopPropagation(),a(p)};return h.jsxs("div",{className:"section",children:[h.jsx(g4,{title:"API List",actions:h.jsxs("span",{className:"datatable-list-count",children:[e.length,""]})}),h.jsxs("div",{className:"section-content",children:[e.length===0?h.jsxs("div",{className:"datatable-empty",children:[h.jsx(U_,{size:32,className:"datatable-empty-icon"}),h.jsxs("p",{className:"datatable-empty-text",children:["API Endpoint .",h.jsx("br",{})," API ."]})]}):h.jsx("div",{className:"list-group",role:"list",children:e.map(p=>h.jsxs("div",{role:"listitem",className:`list-item ${i===p.id?"selected":""} ${l===p.id?"editing":""}`,onClick:()=>s(p.id),children:[h.jsx("div",{className:"list-item-icon",children:h.jsx(U_,{...ce})}),h.jsxs("div",{className:"list-item-content",children:[h.jsx("div",{className:"list-item-name",children:p.name}),h.jsxs("div",{className:"list-item-meta",children:[p.baseUrl,p.path]})]}),h.jsx("span",{className:`list-item-badge method ${p.method}`,children:p.method}),h.jsxs("div",{className:"list-item-actions",children:[h.jsx("button",{type:"button",className:"iconButton",onClick:m=>d(p.id,m),title:"",children:h.jsx(ZE,{...yn})}),h.jsx("button",{type:"button",className:"iconButton",onClick:m=>f(p.id,m),title:"",children:h.jsx(cT,{...yn})}),h.jsx("button",{type:"button",className:"iconButton",onClick:m=>c(p.id,m),title:"",children:h.jsx(Qu,{...yn})})]})]},p.id))}),h.jsxs("button",{type:"button",className:"datatable-add-btn",onClick:u,children:[h.jsx(yd,{...ce}),h.jsx("span",{children:"API "})]})]})]})}function uHe({projectId:t}){const e=L$(),n=Oi(p=>p.createVariable),r=Oi(p=>p.deleteVariable),i=Zg(p=>p.mode),s=Zg(p=>p.openVariableEditor),o=i?.type==="variable-edit"?i.variableId:null,a=e.filter(p=>p.scope==="global"),l=e.filter(p=>p.scope==="page"),u=async()=>{const p=prompt("Variable  :");if(p)try{await n({name:p,project_id:t,type:"string",defaultValue:"",persist:!1,scope:"global"})}catch(m){console.error("Variable  :",m)}},c=async(p,m)=>{if(m.stopPropagation(),!!confirm(" ?"))try{await r(p)}catch(v){console.error("Variable  :",v)}},d=(p,m)=>{m.stopPropagation(),s(p)},f=p=>h.jsxs("div",{role:"listitem",className:`list-item ${o===p.id?"editing":""}`,onClick:()=>s(p.id),children:[h.jsx("div",{className:"list-item-icon",children:h.jsx(K_,{...ce})}),h.jsxs("div",{className:"list-item-content",children:[h.jsx("div",{className:"list-item-name",children:p.name}),h.jsxs("div",{className:"list-item-meta",children:[p.type,p.persist&&"  localStorage"]})]}),h.jsx("span",{className:`list-item-badge ${p.scope}`,children:p.scope}),h.jsxs("div",{className:"list-item-actions",children:[h.jsx("button",{type:"button",className:"iconButton",onClick:m=>d(p.id,m),title:"",children:h.jsx(cT,{...yn})}),h.jsx("button",{type:"button",className:"iconButton",onClick:m=>c(p.id,m),title:"",children:h.jsx(Qu,{...yn})})]})]},p.id);return h.jsxs("div",{className:"section",children:[h.jsx(g4,{title:"Variable List",actions:h.jsxs("span",{className:"datatable-list-count",children:[e.length,""]})}),h.jsxs("div",{className:"section-content",children:[e.length===0?h.jsxs("div",{className:"datatable-empty",children:[h.jsx(K_,{size:32,className:"datatable-empty-icon"}),h.jsxs("p",{className:"datatable-empty-text",children:[" .",h.jsx("br",{}),"  ."]})]}):h.jsxs(h.Fragment,{children:[a.length>0&&h.jsxs("div",{className:"list-subgroup",children:[h.jsxs("div",{className:"list-subgroup-header",children:[h.jsx("span",{className:"list-subgroup-title",children:"Global"}),h.jsxs("span",{className:"list-subgroup-count",children:[a.length,""]})]}),h.jsx("div",{className:"list-group",role:"list",children:a.map(f)})]}),l.length>0&&h.jsxs("div",{className:"list-subgroup",children:[h.jsxs("div",{className:"list-subgroup-header",children:[h.jsx("span",{className:"list-subgroup-title",children:"Page"}),h.jsxs("span",{className:"list-subgroup-count",children:[l.length,""]})]}),h.jsx("div",{className:"list-group",role:"list",children:l.map(f)})]})]}),h.jsxs("button",{type:"button",className:"datatable-add-btn",onClick:u,children:[h.jsx(yd,{...ce}),h.jsx("span",{children:"Variable "})]})]})]})}const cHe={level1_mapping:"Mapping",level2_transformer:"JS",level3_custom:"Custom"},dHe={level1_mapping:"level1",level2_transformer:"level2",level3_custom:"level3"};function hHe({projectId:t}){const e=S5e(),n=Oi(c=>c.createTransformer),r=Oi(c=>c.deleteTransformer),i=Oi(c=>c.executeTransformer),[s,o]=x.useState(null),a=async()=>{const c=prompt("Transformer  :");if(c)try{await n({name:c,project_id:t,level:"level1_mapping",enabled:!0})}catch(d){console.error("Transformer  :",d)}},l=async(c,d)=>{if(d.stopPropagation(),!!confirm(" ?"))try{await r(c),s===c&&o(null)}catch(f){console.error("Transformer  :",f)}},u=async(c,d)=>{d.stopPropagation();try{const f=await i(c,[{test:"data"}]);console.log("Transformer  :",f),alert("Transformer  !  .")}catch(f){console.error("Transformer  :",f),alert(`Transformer  : ${f.message}`)}};return h.jsxs("div",{className:"section",children:[h.jsx(g4,{title:"Transformer List",actions:h.jsxs("span",{className:"datatable-list-count",children:[e.length,""]})}),h.jsxs("div",{className:"section-content",children:[e.length===0?h.jsxs("div",{className:"datatable-empty",children:[h.jsx(UN,{size:32,className:"datatable-empty-icon"}),h.jsxs("p",{className:"datatable-empty-text",children:["Transformer .",h.jsx("br",{})," Transformer ."]})]}):h.jsx("div",{className:"datatable-list",children:e.map(c=>h.jsxs("div",{className:`datatable-item ${s===c.id?"selected":""}`,onClick:()=>o(c.id),children:[h.jsx("div",{className:"datatable-item-icon",children:h.jsx(UN,{...ce})}),h.jsxs("div",{className:"datatable-item-info",children:[h.jsx("div",{className:"datatable-item-name",children:c.name}),h.jsxs("div",{className:"datatable-item-meta",children:[c.inputDataTable&&`${c.inputDataTable}  `,c.outputDataTable||"output",!c.enabled&&"  "]})]}),h.jsx("span",{className:`level-badge ${dHe[c.level]}`,children:cHe[c.level]}),h.jsxs("div",{className:"datatable-item-actions",children:[h.jsx("button",{type:"button",className:"iconButton",onClick:d=>u(c.id,d),disabled:!c.enabled,title:"",children:h.jsx(ZE,{...yn})}),h.jsx("button",{type:"button",className:"iconButton",onClick:d=>{d.stopPropagation()},title:"",children:h.jsx(cT,{...yn})}),h.jsx("button",{type:"button",className:"iconButton",onClick:d=>l(c.id,d),title:"",children:h.jsx(Qu,{...yn})})]})]},c.id))}),h.jsxs("button",{type:"button",className:"datatable-add-btn",onClick:a,children:[h.jsx(yd,{...ce}),h.jsx("span",{children:"Transformer "})]})]})]})}const fHe=[{id:"tables",label:"Tables",icon:G_},{id:"endpoints",label:"APIs",icon:U_},{id:"variables",label:"Variables",icon:K_},{id:"transformers",label:"Transformers",icon:UN}];function pHe({isActive:t}){const[e,n]=x.useState("tables"),{projectId:r}=nC(),i=x.useRef(null),{isLoading:s,refetch:o}=hFe(r,{enabled:t}),a=Oi(E=>E.fetchDataTables),l=Oi(E=>E.fetchApiEndpoints),u=Oi(E=>E.fetchVariables),c=Oi(E=>E.fetchTransformers);x.useEffect(()=>{t&&r&&i.current!==r&&(i.current=r,Promise.all([a(r),l(r),u(r),c(r)]).then(()=>{}).catch(E=>{console.error(" [DataTablePanel]  :",E)}))},[t,r,a,l,u,c]);const d=Zg(E=>E.mode),f=Zg(E=>E.openTableCreator),p=Zg(E=>E.openTableEditor),m=Zg(E=>E.close),v=d?.type==="table-edit"?d.tableId:null;if(!t)return null;if(!r)return h.jsxs("div",{className:"datatable-panel",children:[h.jsx(Uu,{icon:h.jsx(nl,{size:ce.size}),title:"DataTable"}),h.jsx(Pa,{message:" "})]});const y=()=>{r&&(o(),a(r),l(r),u(r),c(r))},A=()=>{f(r)},C=E=>{E&&p(E)};return h.jsxs("div",{className:"datatable-panel",children:[h.jsx(Uu,{icon:h.jsx(nl,{size:ce.size}),title:"DataTable",actions:h.jsx("button",{className:"iconButton",type:"button",onClick:y,title:"",children:h.jsx(Qy,{size:ce.size})})}),h.jsx("div",{className:"panel-tabs",children:fHe.map(E=>h.jsxs("button",{className:`panel-tab ${e===E.id?"active":""}`,onClick:()=>{e!==E.id&&(d&&m(),n(E.id))},type:"button",children:[h.jsx(E.icon,{size:yn.size}),h.jsx("span",{children:E.label})]},E.id))}),h.jsxs("div",{className:"panel-contents",children:[s&&h.jsx("div",{className:"datatable-loading-overlay",children:h.jsx(Due,{})}),e==="tables"&&h.jsx(aHe,{projectId:r,editingId:v,onEditingChange:C,onCreateClick:A}),e==="endpoints"&&h.jsx(lHe,{projectId:r}),e==="variables"&&h.jsx(uHe,{projectId:r}),e==="transformers"&&h.jsx(hHe,{projectId:r})]})]})}var RB={exports:{}};var gHe=RB.exports,PU;function mHe(){return PU||(PU=1,(function(t,e){((n,r)=>{t.exports=r()})(gHe,function n(){var r=typeof self<"u"?self:typeof window<"u"?window:r!==void 0?r:{},i,s=!r.document&&!!r.postMessage,o=r.IS_PAPA_WORKER||!1,a={},l=0,u={};function c(P){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},(function(k){var L=D(k);L.chunkSize=parseInt(L.chunkSize),k.step||k.chunk||(L.chunkSize=null),this._handle=new v(L),(this._handle.streamer=this)._config=L}).call(this,P),this.parseChunk=function(k,L){var $=parseInt(this._config.skipFirstNLines)||0;if(this.isFirstChunk&&0<$){let j=this._config.newline;j||(z=this._config.quoteChar||'"',j=this._handle.guessLineEndings(k,z)),k=[...k.split(j).slice($)].join(j)}this.isFirstChunk&&M(this._config.beforeFirstChunk)&&(z=this._config.beforeFirstChunk(k))!==void 0&&(k=z),this.isFirstChunk=!1,this._halted=!1;var $=this._partialLine+k,z=(this._partialLine="",this._handle.parse($,this._baseIndex,!this._finished));if(!this._handle.paused()&&!this._handle.aborted()){if(k=z.meta.cursor,$=(this._finished||(this._partialLine=$.substring(k-this._baseIndex),this._baseIndex=k),z&&z.data&&(this._rowCount+=z.data.length),this._finished||this._config.preview&&this._rowCount>=this._config.preview),o)r.postMessage({results:z,workerId:u.WORKER_ID,finished:$});else if(M(this._config.chunk)&&!L){if(this._config.chunk(z,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);this._completeResults=z=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(z.data),this._completeResults.errors=this._completeResults.errors.concat(z.errors),this._completeResults.meta=z.meta),this._completed||!$||!M(this._config.complete)||z&&z.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),$||z&&z.meta.paused||this._nextChunk(),z}this._halted=!0},this._sendError=function(k){M(this._config.error)?this._config.error(k):o&&this._config.error&&r.postMessage({workerId:u.WORKER_ID,error:k,finished:!1})}}function d(P){var k;(P=P||{}).chunkSize||(P.chunkSize=u.RemoteChunkSize),c.call(this,P),this._nextChunk=s?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(L){this._input=L,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(k=new XMLHttpRequest,this._config.withCredentials&&(k.withCredentials=this._config.withCredentials),s||(k.onload=T(this._chunkLoaded,this),k.onerror=T(this._chunkError,this)),k.open(this._config.downloadRequestBody?"POST":"GET",this._input,!s),this._config.downloadRequestHeaders){var L,$=this._config.downloadRequestHeaders;for(L in $)k.setRequestHeader(L,$[L])}var z;this._config.chunkSize&&(z=this._start+this._config.chunkSize-1,k.setRequestHeader("Range","bytes="+this._start+"-"+z));try{k.send(this._config.downloadRequestBody)}catch(j){this._chunkError(j.message)}s&&k.status===0&&this._chunkError()}},this._chunkLoaded=function(){k.readyState===4&&(k.status<200||400<=k.status?this._chunkError():(this._start+=this._config.chunkSize||k.responseText.length,this._finished=!this._config.chunkSize||this._start>=(L=>(L=L.getResponseHeader("Content-Range"))!==null?parseInt(L.substring(L.lastIndexOf("/")+1)):-1)(k),this.parseChunk(k.responseText)))},this._chunkError=function(L){L=k.statusText||L,this._sendError(new Error(L))}}function f(P){(P=P||{}).chunkSize||(P.chunkSize=u.LocalChunkSize),c.call(this,P);var k,L,$=typeof FileReader<"u";this.stream=function(z){this._input=z,L=z.slice||z.webkitSlice||z.mozSlice,$?((k=new FileReader).onload=T(this._chunkLoaded,this),k.onerror=T(this._chunkError,this)):k=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var z=this._input,j=(this._config.chunkSize&&(j=Math.min(this._start+this._config.chunkSize,this._input.size),z=L.call(z,this._start,j)),k.readAsText(z,this._config.encoding));$||this._chunkLoaded({target:{result:j}})},this._chunkLoaded=function(z){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(z.target.result)},this._chunkError=function(){this._sendError(k.error)}}function p(P){var k;c.call(this,P=P||{}),this.stream=function(L){return k=L,this._nextChunk()},this._nextChunk=function(){var L,$;if(!this._finished)return L=this._config.chunkSize,k=L?($=k.substring(0,L),k.substring(L)):($=k,""),this._finished=!k,this.parseChunk($)}}function m(P){c.call(this,P=P||{});var k=[],L=!0,$=!1;this.pause=function(){c.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){c.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(z){this._input=z,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){$&&k.length===1&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),k.length?this.parseChunk(k.shift()):L=!0},this._streamData=T(function(z){try{k.push(typeof z=="string"?z:z.toString(this._config.encoding)),L&&(L=!1,this._checkIsFinished(),this.parseChunk(k.shift()))}catch(j){this._streamError(j)}},this),this._streamError=T(function(z){this._streamCleanUp(),this._sendError(z)},this),this._streamEnd=T(function(){this._streamCleanUp(),$=!0,this._streamData("")},this),this._streamCleanUp=T(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function v(P){var k,L,$,z,j=Math.pow(2,53),H=-j,W=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,O=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,G=this,q=0,J=0,te=!1,Y=!1,Z=[],ee={data:[],errors:[],meta:{}};function ie(ge){return P.skipEmptyLines==="greedy"?ge.join("").trim()==="":ge.length===1&&ge[0].length===0}function ue(){if(ee&&$&&(de("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+u.DefaultDelimiter+"'"),$=!1),P.skipEmptyLines&&(ee.data=ee.data.filter(function(ke){return!ie(ke)})),ae()){let ke=function(Fe,Ee){M(P.transformHeader)&&(Fe=P.transformHeader(Fe,Ee)),Z.push(Fe)};if(ee)if(Array.isArray(ee.data[0])){for(var ge=0;ae()&&ge<ee.data.length;ge++)ee.data[ge].forEach(ke);ee.data.splice(0,1)}else ee.data.forEach(ke)}function _e(ke,Fe){for(var Ee=P.header?{}:[],Me=0;Me<ke.length;Me++){var Ue=Me,Ge=ke[Me],Ge=((ut,ve)=>($e=>(P.dynamicTypingFunction&&P.dynamicTyping[$e]===void 0&&(P.dynamicTyping[$e]=P.dynamicTypingFunction($e)),(P.dynamicTyping[$e]||P.dynamicTyping)===!0))(ut)?ve==="true"||ve==="TRUE"||ve!=="false"&&ve!=="FALSE"&&(($e=>{if(W.test($e)&&($e=parseFloat($e),H<$e&&$e<j))return 1})(ve)?parseFloat(ve):O.test(ve)?new Date(ve):ve===""?null:ve):ve)(Ue=P.header?Me>=Z.length?"__parsed_extra":Z[Me]:Ue,Ge=P.transform?P.transform(Ge,Ue):Ge);Ue==="__parsed_extra"?(Ee[Ue]=Ee[Ue]||[],Ee[Ue].push(Ge)):Ee[Ue]=Ge}return P.header&&(Me>Z.length?de("FieldMismatch","TooManyFields","Too many fields: expected "+Z.length+" fields but parsed "+Me,J+Fe):Me<Z.length&&de("FieldMismatch","TooFewFields","Too few fields: expected "+Z.length+" fields but parsed "+Me,J+Fe)),Ee}var we;ee&&(P.header||P.dynamicTyping||P.transform)&&(we=1,!ee.data.length||Array.isArray(ee.data[0])?(ee.data=ee.data.map(_e),we=ee.data.length):ee.data=_e(ee.data,0),P.header&&ee.meta&&(ee.meta.fields=Z),J+=we)}function ae(){return P.header&&Z.length===0}function de(ge,_e,we,ke){ge={type:ge,code:_e,message:we},ke!==void 0&&(ge.row=ke),ee.errors.push(ge)}M(P.step)&&(z=P.step,P.step=function(ge){ee=ge,ae()?ue():(ue(),ee.data.length!==0&&(q+=ge.data.length,P.preview&&q>P.preview?L.abort():(ee.data=ee.data[0],z(ee,G))))}),this.parse=function(ge,_e,we){var ke=P.quoteChar||'"',ke=(P.newline||(P.newline=this.guessLineEndings(ge,ke)),$=!1,P.delimiter?M(P.delimiter)&&(P.delimiter=P.delimiter(ge),ee.meta.delimiter=P.delimiter):((ke=((Fe,Ee,Me,Ue,Ge)=>{var ut,ve,$e,gt;Ge=Ge||[",","	","|",";",u.RECORD_SEP,u.UNIT_SEP];for(var it=0;it<Ge.length;it++){for(var ot,le=Ge[it],se=0,Se=0,De=0,Be=($e=void 0,new A({comments:Ue,delimiter:le,newline:Ee,preview:10}).parse(Fe)),ze=0;ze<Be.data.length;ze++)Me&&ie(Be.data[ze])?De++:(ot=Be.data[ze].length,Se+=ot,$e===void 0?$e=ot:0<ot&&(se+=Math.abs(ot-$e),$e=ot));0<Be.data.length&&(Se/=Be.data.length-De),(ve===void 0||se<=ve)&&(gt===void 0||gt<Se)&&1.99<Se&&(ve=se,ut=le,gt=Se)}return{successful:!!(P.delimiter=ut),bestDelimiter:ut}})(ge,P.newline,P.skipEmptyLines,P.comments,P.delimitersToGuess)).successful?P.delimiter=ke.bestDelimiter:($=!0,P.delimiter=u.DefaultDelimiter),ee.meta.delimiter=P.delimiter),D(P));return P.preview&&P.header&&ke.preview++,k=ge,L=new A(ke),ee=L.parse(k,_e,we),ue(),te?{meta:{paused:!0}}:ee||{meta:{paused:!1}}},this.paused=function(){return te},this.pause=function(){te=!0,L.abort(),k=M(P.chunk)?"":k.substring(L.getCharIndex())},this.resume=function(){G.streamer._halted?(te=!1,G.streamer.parseChunk(k,!0)):setTimeout(G.resume,3)},this.aborted=function(){return Y},this.abort=function(){Y=!0,L.abort(),ee.meta.aborted=!0,M(P.complete)&&P.complete(ee),k=""},this.guessLineEndings=function(Fe,ke){Fe=Fe.substring(0,1048576);var ke=new RegExp(y(ke)+"([^]*?)"+y(ke),"gm"),we=(Fe=Fe.replace(ke,"")).split("\r"),ke=Fe.split(`
`),Fe=1<ke.length&&ke[0].length<we[0].length;if(we.length===1||Fe)return`
`;for(var Ee=0,Me=0;Me<we.length;Me++)we[Me][0]===`
`&&Ee++;return Ee>=we.length/2?`\r
`:"\r"}}function y(P){return P.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function A(P){var k=(P=P||{}).delimiter,L=P.newline,$=P.comments,z=P.step,j=P.preview,H=P.fastMode,W=null,O=!1,G=P.quoteChar==null?'"':P.quoteChar,q=G;if(P.escapeChar!==void 0&&(q=P.escapeChar),(typeof k!="string"||-1<u.BAD_DELIMITERS.indexOf(k))&&(k=","),$===k)throw new Error("Comment character same as delimiter");$===!0?$="#":(typeof $!="string"||-1<u.BAD_DELIMITERS.indexOf($))&&($=!1),L!==`
`&&L!=="\r"&&L!==`\r
`&&(L=`
`);var J=0,te=!1;this.parse=function(Y,Z,ee){if(typeof Y!="string")throw new Error("Input must be a string");var ie=Y.length,ue=k.length,ae=L.length,de=$.length,ge=M(z),_e=[],we=[],ke=[],Fe=J=0;if(!Y)return se();if(H||H!==!1&&Y.indexOf(G)===-1){for(var Ee=Y.split(L),Me=0;Me<Ee.length;Me++){if(ke=Ee[Me],J+=ke.length,Me!==Ee.length-1)J+=L.length;else if(ee)return se();if(!$||ke.substring(0,de)!==$){if(ge){if(_e=[],gt(ke.split(k)),Se(),te)return se()}else gt(ke.split(k));if(j&&j<=Me)return _e=_e.slice(0,j),se(!0)}}return se()}for(var Ue=Y.indexOf(k,J),Ge=Y.indexOf(L,J),ut=new RegExp(y(q)+y(G),"g"),ve=Y.indexOf(G,J);;)if(Y[J]===G)for(ve=J,J++;;){if((ve=Y.indexOf(G,ve+1))===-1)return ee||we.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:_e.length,index:J}),ot();if(ve===ie-1)return ot(Y.substring(J,ve).replace(ut,G));if(G===q&&Y[ve+1]===q)ve++;else if(G===q||ve===0||Y[ve-1]!==q){Ue!==-1&&Ue<ve+1&&(Ue=Y.indexOf(k,ve+1));var $e=it((Ge=Ge!==-1&&Ge<ve+1?Y.indexOf(L,ve+1):Ge)===-1?Ue:Math.min(Ue,Ge));if(Y.substr(ve+1+$e,ue)===k){ke.push(Y.substring(J,ve).replace(ut,G)),Y[J=ve+1+$e+ue]!==G&&(ve=Y.indexOf(G,J)),Ue=Y.indexOf(k,J),Ge=Y.indexOf(L,J);break}if($e=it(Ge),Y.substring(ve+1+$e,ve+1+$e+ae)===L){if(ke.push(Y.substring(J,ve).replace(ut,G)),le(ve+1+$e+ae),Ue=Y.indexOf(k,J),ve=Y.indexOf(G,J),ge&&(Se(),te))return se();if(j&&_e.length>=j)return se(!0);break}we.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:_e.length,index:J}),ve++}}else if($&&ke.length===0&&Y.substring(J,J+de)===$){if(Ge===-1)return se();J=Ge+ae,Ge=Y.indexOf(L,J),Ue=Y.indexOf(k,J)}else if(Ue!==-1&&(Ue<Ge||Ge===-1))ke.push(Y.substring(J,Ue)),J=Ue+ue,Ue=Y.indexOf(k,J);else{if(Ge===-1)break;if(ke.push(Y.substring(J,Ge)),le(Ge+ae),ge&&(Se(),te))return se();if(j&&_e.length>=j)return se(!0)}return ot();function gt(De){_e.push(De),Fe=J}function it(De){var Be=0;return Be=De!==-1&&(De=Y.substring(ve+1,De))&&De.trim()===""?De.length:Be}function ot(De){return ee||(De===void 0&&(De=Y.substring(J)),ke.push(De),J=ie,gt(ke),ge&&Se()),se()}function le(De){J=De,gt(ke),ke=[],Ge=Y.indexOf(L,J)}function se(De){if(P.header&&!Z&&_e.length&&!O){var Be=_e[0],ze=Object.create(null),kt=new Set(Be);let Et=!1;for(let zt=0;zt<Be.length;zt++){let Mt=Be[zt];if(ze[Mt=M(P.transformHeader)?P.transformHeader(Mt,zt):Mt]){let at,At=ze[Mt];for(;at=Mt+"_"+At,At++,kt.has(at););kt.add(at),Be[zt]=at,ze[Mt]++,Et=!0,(W=W===null?{}:W)[at]=Mt}else ze[Mt]=1,Be[zt]=Mt;kt.add(Mt)}Et&&console.warn("Duplicate headers found and renamed."),O=!0}return{data:_e,errors:we,meta:{delimiter:k,linebreak:L,aborted:te,truncated:!!De,cursor:Fe+(Z||0),renamedHeaders:W}}}function Se(){z(se()),_e=[],we=[]}},this.abort=function(){te=!0},this.getCharIndex=function(){return J}}function C(P){var k=P.data,L=a[k.workerId],$=!1;if(k.error)L.userError(k.error,k.file);else if(k.results&&k.results.data){var z={abort:function(){$=!0,E(k.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:I,resume:I};if(M(L.userStep)){for(var j=0;j<k.results.data.length&&(L.userStep({data:k.results.data[j],errors:k.results.errors,meta:k.results.meta},z),!$);j++);delete k.results}else M(L.userChunk)&&(L.userChunk(k.results,z,k.file),delete k.results)}k.finished&&!$&&E(k.workerId,k.results)}function E(P,k){var L=a[P];M(L.userComplete)&&L.userComplete(k),L.terminate(),delete a[P]}function I(){throw new Error("Not implemented.")}function D(P){if(typeof P!="object"||P===null)return P;var k,L=Array.isArray(P)?[]:{};for(k in P)L[k]=D(P[k]);return L}function T(P,k){return function(){P.apply(k,arguments)}}function M(P){return typeof P=="function"}return u.parse=function(P,k){var L=(k=k||{}).dynamicTyping||!1;if(M(L)&&(k.dynamicTypingFunction=L,L={}),k.dynamicTyping=L,k.transform=!!M(k.transform)&&k.transform,!k.worker||!u.WORKERS_SUPPORTED)return L=null,u.NODE_STREAM_INPUT,typeof P=="string"?(P=($=>$.charCodeAt(0)!==65279?$:$.slice(1))(P),L=new(k.download?d:p)(k)):P.readable===!0&&M(P.read)&&M(P.on)?L=new m(k):(r.File&&P instanceof File||P instanceof Object)&&(L=new f(k)),L.stream(P);(L=(()=>{var $;return!!u.WORKERS_SUPPORTED&&($=(()=>{var z=r.URL||r.webkitURL||null,j=n.toString();return u.BLOB_URL||(u.BLOB_URL=z.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",j,")();"],{type:"text/javascript"})))})(),($=new r.Worker($)).onmessage=C,$.id=l++,a[$.id]=$)})()).userStep=k.step,L.userChunk=k.chunk,L.userComplete=k.complete,L.userError=k.error,k.step=M(k.step),k.chunk=M(k.chunk),k.complete=M(k.complete),k.error=M(k.error),delete k.worker,L.postMessage({input:P,config:k,workerId:L.id})},u.unparse=function(P,k){var L=!1,$=!0,z=",",j=`\r
`,H='"',W=H+H,O=!1,G=null,q=!1,J=((()=>{if(typeof k=="object"){if(typeof k.delimiter!="string"||u.BAD_DELIMITERS.filter(function(Z){return k.delimiter.indexOf(Z)!==-1}).length||(z=k.delimiter),typeof k.quotes!="boolean"&&typeof k.quotes!="function"&&!Array.isArray(k.quotes)||(L=k.quotes),typeof k.skipEmptyLines!="boolean"&&typeof k.skipEmptyLines!="string"||(O=k.skipEmptyLines),typeof k.newline=="string"&&(j=k.newline),typeof k.quoteChar=="string"&&(H=k.quoteChar),typeof k.header=="boolean"&&($=k.header),Array.isArray(k.columns)){if(k.columns.length===0)throw new Error("Option columns is empty");G=k.columns}k.escapeChar!==void 0&&(W=k.escapeChar+H),k.escapeFormulae instanceof RegExp?q=k.escapeFormulae:typeof k.escapeFormulae=="boolean"&&k.escapeFormulae&&(q=/^[=+\-@\t\r].*$/)}})(),new RegExp(y(H),"g"));if(typeof P=="string"&&(P=JSON.parse(P)),Array.isArray(P)){if(!P.length||Array.isArray(P[0]))return te(null,P,O);if(typeof P[0]=="object")return te(G||Object.keys(P[0]),P,O)}else if(typeof P=="object")return typeof P.data=="string"&&(P.data=JSON.parse(P.data)),Array.isArray(P.data)&&(P.fields||(P.fields=P.meta&&P.meta.fields||G),P.fields||(P.fields=Array.isArray(P.data[0])?P.fields:typeof P.data[0]=="object"?Object.keys(P.data[0]):[]),Array.isArray(P.data[0])||typeof P.data[0]=="object"||(P.data=[P.data])),te(P.fields||[],P.data||[],O);throw new Error("Unable to serialize unrecognized input");function te(Z,ee,ie){var ue="",ae=(typeof Z=="string"&&(Z=JSON.parse(Z)),typeof ee=="string"&&(ee=JSON.parse(ee)),Array.isArray(Z)&&0<Z.length),de=!Array.isArray(ee[0]);if(ae&&$){for(var ge=0;ge<Z.length;ge++)0<ge&&(ue+=z),ue+=Y(Z[ge],ge);0<ee.length&&(ue+=j)}for(var _e=0;_e<ee.length;_e++){var we=(ae?Z:ee[_e]).length,ke=!1,Fe=ae?Object.keys(ee[_e]).length===0:ee[_e].length===0;if(ie&&!ae&&(ke=ie==="greedy"?ee[_e].join("").trim()==="":ee[_e].length===1&&ee[_e][0].length===0),ie==="greedy"&&ae){for(var Ee=[],Me=0;Me<we;Me++){var Ue=de?Z[Me]:Me;Ee.push(ee[_e][Ue])}ke=Ee.join("").trim()===""}if(!ke){for(var Ge=0;Ge<we;Ge++){0<Ge&&!Fe&&(ue+=z);var ut=ae&&de?Z[Ge]:Ge;ue+=Y(ee[_e][ut],Ge)}_e<ee.length-1&&(!ie||0<we&&!Fe)&&(ue+=j)}}return ue}function Y(Z,ee){var ie,ue;return Z==null?"":Z.constructor===Date?JSON.stringify(Z).slice(1,25):(ue=!1,q&&typeof Z=="string"&&q.test(Z)&&(Z="'"+Z,ue=!0),ie=Z.toString().replace(J,W),(ue=ue||L===!0||typeof L=="function"&&L(Z,ee)||Array.isArray(L)&&L[ee]||((ae,de)=>{for(var ge=0;ge<de.length;ge++)if(-1<ae.indexOf(de[ge]))return!0;return!1})(ie,u.BAD_DELIMITERS)||-1<ie.indexOf(z)||ie.charAt(0)===" "||ie.charAt(ie.length-1)===" ")?H+ie+H:ie)}},u.RECORD_SEP="",u.UNIT_SEP="",u.BYTE_ORDER_MARK="\uFEFF",u.BAD_DELIMITERS=["\r",`
`,'"',u.BYTE_ORDER_MARK],u.WORKERS_SUPPORTED=!s&&!!r.Worker,u.NODE_STREAM_INPUT=1,u.LocalChunkSize=10485760,u.RemoteChunkSize=5242880,u.DefaultDelimiter=",",u.Parser=A,u.ParserHandle=v,u.NetworkStreamer=d,u.FileStreamer=f,u.StringStreamer=p,u.ReadableStreamStreamer=m,r.jQuery&&((i=r.jQuery).fn.parse=function(P){var k=P.config||{},L=[];return this.each(function(j){if(!(i(this).prop("tagName").toUpperCase()==="INPUT"&&i(this).attr("type").toLowerCase()==="file"&&r.FileReader)||!this.files||this.files.length===0)return!0;for(var H=0;H<this.files.length;H++)L.push({file:this.files[H],inputElem:this,instanceConfig:i.extend({},k)})}),$(),this;function $(){if(L.length===0)M(P.complete)&&P.complete();else{var j,H,W,O,G=L[0];if(M(P.before)){var q=P.before(G.file,G.inputElem);if(typeof q=="object"){if(q.action==="abort")return j="AbortError",H=G.file,W=G.inputElem,O=q.reason,void(M(P.error)&&P.error({name:j},H,W,O));if(q.action==="skip")return void z();typeof q.config=="object"&&(G.instanceConfig=i.extend(G.instanceConfig,q.config))}else if(q==="skip")return void z()}var J=G.instanceConfig.complete;G.instanceConfig.complete=function(te){M(J)&&J(te,G.file,G.inputElem),z()},u.parse(G.file,G.instanceConfig)}}function z(){L.splice(0,1),$()}}),o&&(r.onmessage=function(P){P=P.data,u.WORKER_ID===void 0&&P&&(u.WORKER_ID=P.workerId),typeof P.input=="string"?r.postMessage({workerId:u.WORKER_ID,results:u.parse(P.input,P.config),finished:!0}):(r.File&&P.input instanceof File||P.input instanceof Object)&&(P=u.parse(P.input,P.config))&&r.postMessage({workerId:u.WORKER_ID,results:P,finished:!0})}),(d.prototype=Object.create(c.prototype)).constructor=d,(f.prototype=Object.create(c.prototype)).constructor=f,(p.prototype=Object.create(p.prototype)).constructor=p,(m.prototype=Object.create(c.prototype)).constructor=m,u})})(RB)),RB.exports}var AHe=mHe();const RU=G0(AHe),yHe=[{value:"string",label:"String"},{value:"number",label:"Number"},{value:"boolean",label:"Boolean"},{value:"date",label:"Date"},{value:"datetime",label:"DateTime"},{value:"email",label:"Email"},{value:"url",label:"URL"},{value:"image",label:"Image"},{value:"array",label:"Array"},{value:"object",label:"Object"}];function vHe({dataTable:t,onClose:e,activeTab:n}){const r=Oi(A=>A.updateDataTable),[i,s]=x.useState(new Set),o=x.useCallback(async A=>{try{await r(t.id,{schema:A})}catch(C){console.error("  :",C)}},[t.id,r]),a=x.useCallback(()=>{const A={key:`field_${Date.now()}`,type:"string",label:"New Field",required:!1};o([...t.schema,A])},[t.schema,o]),l=x.useCallback(A=>{const C=t.schema.filter(E=>E.key!==A);o(C)},[t.schema,o]),u=x.useCallback((A,C)=>{const E=t.schema.map(I=>I.key===A?{...I,...C}:I);o(E)},[t.schema,o]),c=x.useCallback(async A=>{try{await r(t.id,{mockData:A})}catch(C){console.error("Mock   :",C)}},[t.id,r]),d=x.useCallback(()=>{const A={},C=t.mockData.length+1;t.schema.forEach(E=>{E.key==="id"?E.type==="number"?A[E.key]=C:A[E.key]=`row_${C}`:A[E.key]=E.defaultValue??Nce(E.type)}),c([...t.mockData,A])},[t.schema,t.mockData,c]),f=x.useCallback(A=>{const C=t.mockData.filter((E,I)=>I!==A);c(C)},[t.mockData,c]),p=x.useCallback((A,C,E)=>{const I=t.mockData.map((D,T)=>T===A?{...D,[C]:E}:D);c(I)},[t.mockData,c]),m=x.useCallback(A=>{c(A)},[c]),v=x.useCallback(async A=>{try{await r(t.id,{useMockData:A})}catch(C){console.error("useMockData  :",C)}},[t.id,r]),y=x.useCallback(async A=>{try{await r(t.id,{name:A})}catch(C){console.error("  :",C)}},[t.id,r]);return h.jsxs(h.Fragment,{children:[n==="schema"&&h.jsx(xHe,{schema:t.schema,expandedFields:i,setExpandedFields:s,onAddField:a,onDeleteField:l,onUpdateField:u}),n==="data"&&h.jsx(CHe,{schema:t.schema,mockData:t.mockData,onAddRow:d,onDeleteRow:f,onUpdateCell:p,onImportCSV:m}),n==="settings"&&h.jsx(wHe,{name:t.name,useMockData:t.useMockData,onNameChange:y,onUseMockDataChange:v})]})}function bHe({field:t,onUpdateField:e,onDeleteField:n}){const[r,i]=x.useState(t.key),[s,o]=x.useState(t.label||"");return h.jsxs("tr",{children:[h.jsx("td",{children:h.jsx("input",{type:"text",className:"cell-input",value:r,onChange:a=>i(a.target.value),onBlur:()=>{r!==t.key&&e(t.key,{key:r})}})}),h.jsx("td",{children:h.jsx("select",{className:"cell-select",value:t.type,onChange:a=>e(t.key,{type:a.target.value}),children:yHe.map(a=>h.jsx("option",{value:a.value,children:a.label},a.value))})}),h.jsx("td",{children:h.jsx("input",{type:"text",className:"cell-input",value:s,onChange:a=>o(a.target.value),onBlur:()=>e(t.key,{label:s}),placeholder:"Label"})}),h.jsx("td",{className:"cell-center",children:h.jsx("input",{type:"checkbox",checked:t.required||!1,onChange:a=>e(t.key,{required:a.target.checked})})}),h.jsx("td",{children:h.jsx("button",{type:"button",className:"delete-row-btn",onClick:()=>n(t.key),children:h.jsx(Qu,{size:oh.size})})})]})}function xHe({schema:t,onAddField:e,onDeleteField:n,onUpdateField:r}){return h.jsxs("div",{className:"section",children:[h.jsx("div",{className:"section-content",children:h.jsx("div",{className:"data-table-wrapper",children:h.jsxs("table",{className:"data-table",children:[h.jsx("thead",{children:h.jsxs("tr",{children:[h.jsx("th",{children:"Key"}),h.jsx("th",{children:"Type"}),h.jsx("th",{children:"Label"}),h.jsx("th",{children:"Req"}),h.jsx("th",{})]})}),h.jsx("tbody",{children:t.map(i=>h.jsx(bHe,{field:i,onUpdateField:r,onDeleteField:n},i.key))})]})})}),h.jsxs("button",{type:"button",className:"add-field-btn",onClick:e,children:[h.jsx(yd,{...yn}),"Add Column"]})]})}function CHe({schema:t,mockData:e,onAddRow:n,onDeleteRow:r,onUpdateCell:i,onImportCSV:s}){const[o,a]=x.useState(""),l=x.useRef(null),u=x.useMemo(()=>{if(!o.trim())return e.map((p,m)=>({row:p,originalIndex:m}));const f=o.toLowerCase();return e.map((p,m)=>({row:p,originalIndex:m})).filter(({row:p})=>t.some(m=>{const v=p[m.key];return v==null?!1:String(v).toLowerCase().includes(f)}))},[e,t,o]),c=x.useCallback(f=>{const p=f.target.files?.[0];p&&RU.parse(p,{header:!0,skipEmptyLines:!0,complete:m=>{const y=m.data.map((A,C)=>{const E={};return t.forEach(I=>{const D=A[I.key];E[I.key]=EHe(D,I.type,C+1)}),E});s(y),l.current&&(l.current.value="")},error:m=>{console.error("CSV  :",m)}})},[t,s]),d=x.useCallback(()=>{if(e.length===0)return;const f=RU.unparse(e,{columns:t.map(y=>y.key)}),p=new Blob([f],{type:"text/csv;charset=utf-8;"}),m=URL.createObjectURL(p),v=document.createElement("a");v.href=m,v.download="data.csv",v.click(),URL.revokeObjectURL(m)},[e,t]);return t.length===0?h.jsx("div",{className:"data-empty",children:"  ."}):h.jsxs("div",{className:"section",children:[h.jsxs("div",{className:"section-content",children:[h.jsxs("div",{className:"data-toolbar",children:[h.jsxs("div",{className:"filter-input-wrapper",children:[h.jsx(_c,{...yn,className:"filter-icon"}),h.jsx("input",{type:"text",className:"filter-input",placeholder:"Filter rows...",value:o,onChange:f=>a(f.target.value)}),o&&h.jsx("button",{type:"button",className:"filter-clear-btn",onClick:()=>a(""),children:h.jsx(vd,{size:oh.size})})]}),h.jsxs("div",{className:"toolbar-actions",children:[h.jsx("input",{ref:l,type:"file",accept:".csv",onChange:c,style:{display:"none"}}),h.jsxs("button",{type:"button",className:"toolbar-btn",onClick:()=>l.current?.click(),title:"Import CSV",children:[h.jsx(Bxe,{...yn}),"Import"]}),h.jsxs("button",{type:"button",className:"toolbar-btn",onClick:d,disabled:e.length===0,title:"Export CSV",children:[h.jsx(aT,{...yn}),"Export"]})]})]}),o&&h.jsxs("div",{className:"filter-result-info",children:[u.length," / ",e.length," rows"]}),h.jsx("div",{className:"data-table-wrapper",children:h.jsxs("table",{className:"data-table",children:[h.jsx("thead",{children:h.jsxs("tr",{children:[h.jsx("th",{className:"row-index",children:"#"}),t.map(f=>h.jsx("th",{children:f.key},f.key)),h.jsx("th",{})]})}),h.jsx("tbody",{children:u.map(({row:f,originalIndex:p})=>h.jsxs("tr",{children:[h.jsx("td",{className:"row-index",children:p+1}),t.map(m=>h.jsx("td",{children:h.jsx(SHe,{fieldType:m.type,value:f[m.key],onChange:v=>i(p,m.key,v)},`${p}-${m.key}-${JSON.stringify(f[m.key])}`)},m.key)),h.jsx("td",{children:h.jsx("button",{type:"button",className:"delete-row-btn",onClick:()=>r(p),children:h.jsx(Qu,{size:oh.size})})})]},p))})]})})]}),h.jsxs("button",{type:"button",className:"add-row-btn",onClick:n,children:[h.jsx(yd,{...yn}),"Add Row"]})]})}function EHe(t,e,n){if(t==null||t==="")return Nce(e);const r=String(t);switch(e){case"number":{const i=Number(r);return isNaN(i)?0:i}case"boolean":return r.toLowerCase()==="true"||r==="1";case"date":try{const i=new Date(r);return isNaN(i.getTime())?new Date().toISOString().split("T")[0]:i.toISOString().split("T")[0]}catch{return new Date().toISOString().split("T")[0]}case"datetime":try{const i=new Date(r);return isNaN(i.getTime())?new Date().toISOString():i.toISOString()}catch{return new Date().toISOString()}case"array":try{const i=JSON.parse(r);return Array.isArray(i)?i:[r]}catch{return r.split(",").map(i=>i.trim())}case"object":try{return JSON.parse(r)}catch{return{}}default:return r===""||r==="undefined"?`row_${n}`:r}}function SHe({fieldType:t,value:e,onChange:n}){const[r,i]=x.useState(String(e||"")),s=()=>{n(t==="number"?r===""?0:Number(r):r)};switch(t){case"boolean":return h.jsx("input",{type:"checkbox",checked:!!e,onChange:o=>n(o.target.checked)});case"number":return h.jsx("input",{type:"number",className:"cell-input",value:r,onChange:o=>i(o.target.value),onBlur:s});case"date":return h.jsx("input",{type:"date",className:"cell-input",value:r,onChange:o=>i(o.target.value),onBlur:s});case"datetime":return h.jsx("input",{type:"datetime-local",className:"cell-input",value:r,onChange:o=>i(o.target.value),onBlur:s});default:return h.jsx("input",{type:"text",className:"cell-input",value:r,onChange:o=>i(o.target.value),onBlur:s})}}function wHe({name:t,useMockData:e,onNameChange:n,onUseMockDataChange:r}){const[i,s]=x.useState(t);return h.jsxs("div",{className:"settings-editor",children:[h.jsxs("div",{className:"settings-field",children:[h.jsx("label",{className:"settings-label",children:" "}),h.jsx("input",{type:"text",className:"settings-input",value:i,onChange:o=>s(o.target.value),onBlur:()=>{i!==t&&n(i)}})]}),h.jsx(rv,{label:"Use Table Data",isSelected:e,onChange:r}),h.jsx("p",{className:"settings-description",children:e?"Table  . API    Table  .":" API   ."})]})}function Nce(t){switch(t){case"string":case"email":case"url":case"image":return"";case"number":return 0;case"boolean":return!1;case"date":case"datetime":return new Date().toISOString().split("T")[0];case"array":return[];case"object":return{};default:return""}}const _He=[{id:"users-auth",name:"Users & Auth",icon:"Users",description:", ,  "},{id:"organization",name:"Organization",icon:"Building2",description:", ,  "},{id:"ecommerce",name:"E-commerce",icon:"ShoppingCart",description:", ,  "},{id:"manufacturing",name:"Manufacturing",icon:"Factory",description:", , BOM "},{id:"system",name:"System",icon:"Settings",description:" ,  "}],Ms=t=>t[Math.floor(Math.random()*t.length)],cs=(t,e)=>Math.floor(Math.random()*(e-t+1))+t,ji=(t="")=>{const e=cs(8,16),n="abcdefghijklmnopqrstuvwxyz0123456789";let r=t;for(let i=t.length;i<e;i++)r+=n.charAt(Math.floor(Math.random()*n.length));return r},om=t=>{const e=new Date,n=new Date;n.setFullYear(e.getFullYear()-t);const r=cs(n.getTime(),e.getTime());return new Date(r)},Ef=t=>t.toISOString(),xz=["","","","","","","","","",""],IHe=[" "," "," "," ","DevOps ","UI/UX "," "," ","QA "," "],BHe=["","","","","","","","","",""],DHe=["","","","","","","","","",""],THe=["IT ","","","","","",""],BI=["","","","","","","",""],MHe=["","","",""],kHe=["","","","",""],PHe=["","","",""],n_=["","","","","","",""],RHe=["","","","",""],NHe=t=>Array.from({length:t},(e,n)=>({id:ji("usr_"),num:n+1,name:`${Ms(BHe)}${Ms(DHe)}`,email:`user${n+1}@${Ms(["company.com","example.org","mail.co.kr"])}`,phone:`010-${cs(1e3,9999)}-${cs(1e3,9999)}`,company:Ms(xz),role:Ms(IHe),status:Ms(MHe),jobLevel:Ms(kHe),createdAt:Ef(om(2))})),LHe=t=>Array.from({length:t},(e,n)=>({id:ji("role_"),name:["","","","",""][n%5],description:["  ","  "," "," "," "][n%5],scope:Ms(["global","project"]),permissionIds:Array.from({length:cs(2,5)},()=>ji("perm_"))})),FHe=t=>Array.from({length:t},(e,n)=>({id:ji("perm_"),name:[" "," "," "," "," "][n%5],description:["  "," //"," "," ","  "][n%5],category:Ms(["user","project","organization","security","billing"])})),$He=t=>Array.from({length:t},(e,n)=>({id:ji("inv_"),email:`invited${n+1}@example.com`,roleId:ji("role_"),inviterUserId:ji("usr_"),status:Ms(["pending","accepted","expired","revoked"]),expiresAt:Ef(new Date(Date.now()+cs(1,30)*24*60*60*1e3)),createdAt:Ef(om(1))})),zHe=t=>Array.from({length:t},(e,n)=>({id:ji("org_"),name:Ms(xz),industry:Ms(THe),domain:`company${n+1}.com`,plan:Ms(["","",""]),createdAt:Ef(om(3))})),OHe=t=>Array.from({length:t},(e,n)=>({id:ji("dept_"),organizationId:ji("org_"),name:BI[n%BI.length],description:`${BI[n%BI.length]} .`,managerUserId:ji("usr_")})),jHe=t=>Array.from({length:t},(e,n)=>({id:ji("proj_"),organizationId:ji("org_"),departmentId:ji("dept_"),name:` ${n+1}`,status:Ms(PHe),startDate:Ef(om(1)),endDate:Ef(new Date(Date.now()+cs(30,365)*24*60*60*1e3)),budget:cs(1e3,5e4)*1e4,clientName:Ms(xz),visibility:Ms(["private","internal","public"])})),QHe=t=>Array.from({length:t},(e,n)=>({id:ji("prod_"),name:` ${n+1}`,price:cs(1e3,1e5),stock:cs(0,500),category:Ms(n_),description:` ${n+1}  .`,imageUrl:`https://picsum.photos/200/200?random=${n}`,isActive:Math.random()>.2,createdAt:Ef(om(2))})),UHe=t=>Array.from({length:t},(e,n)=>({id:ji("cat_"),name:n_[n%n_.length],parentId:n>3?ji("cat_"):null,description:`${n_[n%n_.length]} `,order:n+1,isActive:!0})),HHe=t=>Array.from({length:t},()=>({id:ji("ord_"),userId:ji("usr_"),items:Array.from({length:cs(1,5)},()=>({productId:ji("prod_"),quantity:cs(1,10),price:cs(1e3,5e4)})),total:cs(1e4,5e5),status:Ms(RHe),shippingAddress:` ${Ms(["","","",""])}`,createdAt:Ef(om(1))})),VHe=t=>Array.from({length:t},(e,n)=>({id:ji("eng_"),projectId:ji("proj_"),name:` ${n+1}`,code:`ENG-${String(n+1).padStart(4,"0")}`,version:`v${cs(1,5)}.${cs(0,9)}`,status:Ms(["","","","",""]),manufacturer:Ms(["","LG","SDI","",""]),specifications:{power:`${cs(50,500)}kW`,weight:`${cs(100,1e3)}kg`,dimensions:`${cs(50,200)}x${cs(50,200)}x${cs(50,200)}cm`},createdAt:Ef(om(2))})),GHe=t=>Array.from({length:t},(e,n)=>({id:ji("comp_"),engineId:ji("eng_"),parentId:n>5?ji("comp_"):null,name:` ${n+1}`,code:`COMP-${String(n+1).padStart(4,"0")}`,type:Ms(["assembly","part"]),level:cs(0,5),orderIndex:n+1,quantity:cs(1,100),unit:Ms(["EA","SET","M","KG","L"]),supplier:Ms(["","","","",""]),cost:cs(100,1e4),leadTime:cs(1,30),status:Ms(["","","",""])})),KHe=t=>Array.from({length:t},(e,n)=>({id:ji("log_"),actorUserId:ji("usr_"),organizationId:ji("org_"),entityType:Ms(["user","project","organization","department"]),entityId:ji(),action:Ms(["","",""," ",""]),description:` ${n+1}  `,timestamp:Ef(om(1)),ipAddress:`${cs(1,255)}.${cs(1,255)}.${cs(1,255)}.${cs(1,255)}`})),WHe=t=>Array.from({length:t},()=>({id:ji("mem_"),projectId:ji("proj_"),userId:ji("usr_"),roleId:ji("role_"),allocation:cs(10,100),billable:Math.random()>.3,joinedAt:Ef(om(2)),lastActiveAt:Ef(om(.5))})),qHe={users:{id:"users",name:"Users",description:"  ",category:"users-auth",icon:"User",schema:[{key:"id",type:"string",label:"ID",required:!0},{key:"num",type:"number",label:""},{key:"name",type:"string",label:"",required:!0},{key:"email",type:"email",label:"",required:!0},{key:"phone",type:"string",label:""},{key:"company",type:"string",label:""},{key:"role",type:"string",label:""},{key:"status",type:"string",label:""},{key:"jobLevel",type:"string",label:""},{key:"createdAt",type:"datetime",label:""}],generateSampleData:NHe,defaultSampleCount:10},roles:{id:"roles",name:"Roles",description:"    ",category:"users-auth",icon:"Key",schema:[{key:"id",type:"string",label:"ID",required:!0},{key:"name",type:"string",label:"",required:!0},{key:"description",type:"string",label:""},{key:"scope",type:"string",label:""},{key:"permissionIds",type:"array",label:" "}],generateSampleData:LHe,defaultSampleCount:5},permissions:{id:"permissions",name:"Permissions",description:"  ",category:"users-auth",icon:"Lock",schema:[{key:"id",type:"string",label:"ID",required:!0},{key:"name",type:"string",label:"",required:!0},{key:"description",type:"string",label:""},{key:"category",type:"string",label:""}],generateSampleData:FHe,defaultSampleCount:10},invitations:{id:"invitations",name:"Invitations",description:"  ",category:"users-auth",icon:"Mail",schema:[{key:"id",type:"string",label:"ID",required:!0},{key:"email",type:"email",label:"",required:!0},{key:"roleId",type:"string",label:" ID"},{key:"inviterUserId",type:"string",label:" ID"},{key:"status",type:"string",label:""},{key:"expiresAt",type:"datetime",label:""},{key:"createdAt",type:"datetime",label:""}],generateSampleData:$He,defaultSampleCount:5},organizations:{id:"organizations",name:"Organizations",description:"/ ",category:"organization",icon:"Building2",schema:[{key:"id",type:"string",label:"ID",required:!0},{key:"name",type:"string",label:"",required:!0},{key:"industry",type:"string",label:""},{key:"domain",type:"string",label:""},{key:"plan",type:"string",label:""},{key:"createdAt",type:"datetime",label:""}],generateSampleData:zHe,defaultSampleCount:5},departments:{id:"departments",name:"Departments",description:" ",category:"organization",icon:"Layers",schema:[{key:"id",type:"string",label:"ID",required:!0},{key:"organizationId",type:"string",label:" ID"},{key:"name",type:"string",label:"",required:!0},{key:"description",type:"string",label:""},{key:"managerUserId",type:"string",label:" ID"}],generateSampleData:OHe,defaultSampleCount:8},projects:{id:"projects",name:"Projects",description:" ",category:"organization",icon:"Folder",schema:[{key:"id",type:"string",label:"ID",required:!0},{key:"organizationId",type:"string",label:" ID"},{key:"departmentId",type:"string",label:" ID"},{key:"name",type:"string",label:"",required:!0},{key:"status",type:"string",label:""},{key:"startDate",type:"date",label:""},{key:"endDate",type:"date",label:""},{key:"budget",type:"number",label:""},{key:"clientName",type:"string",label:""},{key:"visibility",type:"string",label:""}],generateSampleData:jHe,defaultSampleCount:10},products:{id:"products",name:"Products",description:" ",category:"ecommerce",icon:"Package",schema:[{key:"id",type:"string",label:"ID",required:!0},{key:"name",type:"string",label:"",required:!0},{key:"price",type:"number",label:""},{key:"stock",type:"number",label:""},{key:"category",type:"string",label:""},{key:"description",type:"string",label:""},{key:"imageUrl",type:"url",label:""},{key:"isActive",type:"boolean",label:""},{key:"createdAt",type:"datetime",label:""}],generateSampleData:QHe,defaultSampleCount:20},categories:{id:"categories",name:"Categories",description:" ",category:"ecommerce",icon:"Tag",schema:[{key:"id",type:"string",label:"ID",required:!0},{key:"name",type:"string",label:"",required:!0},{key:"parentId",type:"string",label:"  ID"},{key:"description",type:"string",label:""},{key:"order",type:"number",label:""},{key:"isActive",type:"boolean",label:""}],generateSampleData:UHe,defaultSampleCount:10},orders:{id:"orders",name:"Orders",description:" ",category:"ecommerce",icon:"ShoppingCart",schema:[{key:"id",type:"string",label:"ID",required:!0},{key:"userId",type:"string",label:" ID"},{key:"items",type:"array",label:" "},{key:"total",type:"number",label:""},{key:"status",type:"string",label:""},{key:"shippingAddress",type:"string",label:""},{key:"createdAt",type:"datetime",label:""}],generateSampleData:HHe,defaultSampleCount:15},engines:{id:"engines",name:"Engines",description:"/ ",category:"manufacturing",icon:"Cpu",schema:[{key:"id",type:"string",label:"ID",required:!0},{key:"projectId",type:"string",label:" ID"},{key:"name",type:"string",label:"",required:!0},{key:"code",type:"string",label:""},{key:"version",type:"string",label:""},{key:"status",type:"string",label:""},{key:"manufacturer",type:"string",label:""},{key:"specifications",type:"object",label:""},{key:"createdAt",type:"datetime",label:""}],generateSampleData:VHe,defaultSampleCount:5},components:{id:"components",name:"Components",description:" (BOM) ",category:"manufacturing",icon:"Wrench",schema:[{key:"id",type:"string",label:"ID",required:!0},{key:"engineId",type:"string",label:" ID"},{key:"parentId",type:"string",label:"  ID"},{key:"name",type:"string",label:"",required:!0},{key:"code",type:"string",label:" "},{key:"type",type:"string",label:""},{key:"level",type:"number",label:""},{key:"quantity",type:"number",label:""},{key:"unit",type:"string",label:""},{key:"supplier",type:"string",label:""},{key:"cost",type:"number",label:""},{key:"leadTime",type:"number",label:" ()"},{key:"status",type:"string",label:""}],generateSampleData:GHe,defaultSampleCount:20},auditLogs:{id:"auditLogs",name:"Audit Logs",description:"  ",category:"system",icon:"FileText",schema:[{key:"id",type:"string",label:"ID",required:!0},{key:"actorUserId",type:"string",label:" ID"},{key:"organizationId",type:"string",label:" ID"},{key:"entityType",type:"string",label:" "},{key:"entityId",type:"string",label:" ID"},{key:"action",type:"string",label:""},{key:"description",type:"string",label:""},{key:"timestamp",type:"datetime",label:""},{key:"ipAddress",type:"string",label:"IP "}],generateSampleData:KHe,defaultSampleCount:20},projectMemberships:{id:"projectMemberships",name:"Project Memberships",description:"  ",category:"system",icon:"Users",schema:[{key:"id",type:"string",label:"ID",required:!0},{key:"projectId",type:"string",label:" ID"},{key:"userId",type:"string",label:" ID"},{key:"roleId",type:"string",label:" ID"},{key:"allocation",type:"number",label:" (%)"},{key:"billable",type:"boolean",label:" "},{key:"joinedAt",type:"datetime",label:""},{key:"lastActiveAt",type:"datetime",label:" "}],generateSampleData:WHe,defaultSampleCount:15}};function YHe(t){return Object.values(qHe).filter(e=>e.category===t)}const XHe={User:Txe,Key:fve,Lock:wve,Mail:Dve,Building2:gX,Layers:H_,Folder:EX,Package:MX,Tag:EF,ShoppingCart:PX,Cpu:Qb,Wrench:Fxe,FileText:AF,Users:wF,Database:nl,Settings:wf,Factory:CX},JHe={"users-auth":wF,organization:gX,ecommerce:PX,manufacturing:CX,system:wf};function ZHe({projectId:t,onClose:e,mode:n}){const r=Oi(C=>C.createDataTable),[i,s]=x.useState("users-auth"),[o,a]=x.useState(null),[l,u]=x.useState(10),[c,d]=x.useState(""),f=x.useMemo(()=>YHe(i),[i]),p=x.useCallback(C=>{s(C),a(null)},[]),m=x.useCallback(C=>{a(C),u(C.defaultSampleCount)},[]),v=x.useCallback(async()=>{try{if(n==="empty"){const C=c.trim()||"New Table";await r({name:C,project_id:t,schema:[],mockData:[],useMockData:!0})}else if(o){const C=o.generateSampleData(l);await r({name:o.name,project_id:t,schema:o.schema,mockData:C,useMockData:!0})}e()}catch(C){console.error("DataTable  :",C)}},[n,c,o,l,t,r,e]),y=(C,E=20)=>{const I=XHe[C];return I?h.jsx(I,{size:E}):h.jsx(nl,{size:E})},A=(C,E=16)=>{const I=JHe[C];return I?h.jsx(I,{size:E}):h.jsx(nl,{size:E})};return h.jsxs(h.Fragment,{children:[h.jsx("div",{className:"section","data-section-id":"table-creator",children:n==="empty"?h.jsxs("div",{className:"creator-empty-form",children:[h.jsxs("label",{className:"creator-form-label",children:[" ",h.jsx("input",{type:"text",className:"creator-form-input",value:c,onChange:C=>d(C.target.value),placeholder:"New Table"})]}),h.jsx("p",{className:"creator-form-hint",children:"    Schema     ."})]}):h.jsxs(h.Fragment,{children:[h.jsx("div",{className:"section-tabs",children:_He.map(C=>h.jsxs("button",{type:"button",className:`section-tab ${i===C.id?"active":""}`,onClick:()=>p(C.id),title:C.description,children:[A(C.id),h.jsx("span",{children:C.name})]},C.id))}),h.jsx("div",{className:"section-content",children:h.jsx("div",{className:"list-group",role:"list",children:f.map(C=>h.jsxs("button",{type:"button",role:"listitem",className:`list-item preset-card ${o?.id===C.id?"selected":""}`,onClick:()=>m(C),children:[h.jsx("div",{className:"list-item-icon",children:y(C.icon,16)}),h.jsx("div",{className:"list-item-name",children:C.name}),h.jsx("div",{className:"list-item-desc",children:C.description}),h.jsxs("div",{className:"list-item-meta",children:[C.schema.length," fields"]})]},C.id))})})]})}),n==="preset"&&o&&h.jsxs("div",{className:"section","data-section-id":"schema-preview",children:[h.jsx(g4,{icon:y(o.icon,16),title:`${o.name} Schema`,actions:h.jsxs("div",{className:"creator-sample-count",children:[h.jsx("label",{htmlFor:"sample-count",children:"row count"}),h.jsx("input",{id:"sample-count","aria-label":"row count","aria-required":"true","aria-invalid":"false",type:"number",min:"0",max:"100",value:l,onChange:C=>u(Math.max(0,Math.min(100,parseInt(C.target.value)||0)))})]})}),h.jsx("div",{className:"section-content",children:o.schema.map(C=>h.jsxs("div",{className:"creator-schema-field",children:[h.jsxs("span",{className:"schema-field-name",children:[C.key,C.required&&h.jsx("span",{className:"schema-field-required",children:"*"})]}),h.jsx("span",{className:"schema-field-type",children:C.type}),h.jsx("span",{className:"schema-field-label",children:C.label})]},C.key))})]}),h.jsxs("div",{className:"creator-footer",children:[h.jsx(Yt,{className:"react-aria-Button secondary",onPress:e,children:""}),h.jsx(Yt,{className:"react-aria-Button primary",onPress:v,isDisabled:n==="preset"&&!o,children:n==="empty"?"  ":""})]})]})}function eVe({columns:t,onColumnsChange:e,onImport:n,isImporting:r=!1,defaultTableName:i=""}){const[s,o]=x.useState(i),a=t.filter(v=>v.selected).length,l=a===t.length,u=a===0,c=x.useCallback(v=>{const y=t.map(A=>A.key===v?{...A,selected:!A.selected}:A);e(y)},[t,e]),d=x.useCallback(()=>{const v=!l,y=t.map(A=>({...A,selected:v}));e(y)},[t,l,e]),f=x.useCallback(()=>{u||!s.trim()||n(t,s.trim())},[t,s,u,n]),p=v=>v==null?"null":typeof v=="string"?v.length>30?`"${v.slice(0,30)}..."`:`"${v}"`:typeof v=="object"?JSON.stringify(v).slice(0,30)+"...":String(v),m=v=>{switch(v){case"string":return"type-string";case"number":return"type-number";case"boolean":return"type-boolean";case"date":case"datetime":return"type-date";case"email":return"type-email";case"url":case"image":return"type-url";case"array":case"object":return"type-complex";default:return""}};return h.jsxs("div",{className:"column-selector",children:[h.jsxs("div",{className:"column-selector-header",children:[h.jsxs("h4",{className:"column-selector-title",children:[h.jsx(G_,{...ce}),"Detected Columns"]}),h.jsxs("span",{className:"column-selector-count",children:[a," / ",t.length," selected"]})]}),h.jsx("div",{className:"column-selector-actions",children:h.jsxs(Yt,{className:"toggle-all-btn",onPress:d,children:[l?h.jsx(Dbe,{...ce}):h.jsx(Rx,{...ce}),l?"Deselect All":"Select All"]})}),h.jsx("div",{className:"column-list",children:t.map(v=>h.jsxs("div",{className:`column-item ${v.selected?"selected":""}`,onClick:()=>c(v.key),children:[h.jsx("div",{className:"column-checkbox",children:v.selected?h.jsx(AX,{...yn,className:"check-icon"}):h.jsx("div",{className:"empty-checkbox"})}),h.jsxs("div",{className:"column-info",children:[h.jsx("div",{className:"column-key",children:v.key}),h.jsxs("div",{className:"column-meta",children:[h.jsx("span",{className:`type-badge ${m(v.type)}`,children:v.type}),h.jsx("span",{className:"sample-value",children:p(v.sampleValue)})]})]})]},v.key))}),h.jsxs("div",{className:"import-section",children:[h.jsxs("div",{className:"import-input-row",children:[h.jsx("label",{className:"import-label",children:"DataTable Name"}),h.jsx("input",{type:"text",className:"import-input",value:s,onChange:v=>o(v.target.value),placeholder:"e.g., users_api"})]}),h.jsxs(Yt,{className:"import-btn",onPress:f,isDisabled:u||!s.trim()||r,children:[h.jsx(aT,{...yn}),r?"Importing...":`Import ${a} Columns`]})]})]})}function tVe(t){return t==null?"string":typeof t=="boolean"?"boolean":typeof t=="number"?"number":Array.isArray(t)?"array":typeof t=="object"?"object":typeof t=="string"?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t)?"email":/^https?:\/\/.+/.test(t)?"url":/\.(jpg|jpeg|png|gif|webp|svg|bmp)(\?.*)?$/i.test(t)?"image":/^\d{4}-\d{2}-\d{2}T\d{2}:\d{2}/.test(t)?"datetime":/^\d{4}-\d{2}-\d{2}$/.test(t)?"date":"string":"string"}function nVe(t){return t.replace(/_/g," ").replace(/([a-z])([A-Z])/g,"$1 $2").replace(/\b\w/g,e=>e.toUpperCase())}function rVe(t){if(!Array.isArray(t)||t.length===0)return[];const e=t[0];if(typeof e!="object"||e===null)return[];const n=[],r=Object.keys(e);for(const i of r){let s="string",o=null;for(let a=0;a<Math.min(t.length,5);a++){const u=t[a][i];if(u!=null&&(o=u,s=tVe(u),s!=="string"))break}n.push({key:i,label:nVe(i),type:s,sampleValue:o,selected:!0})}return n}function iVe(t){return t.filter(e=>e.selected).map(e=>({key:e.key,type:e.type,label:e.label,required:!1}))}function sVe(t,e){return Array.isArray(t)?t.map(n=>{const r={},i=n;for(const s of e)s in i&&(r[s]=i[s]);return r}):[]}const oVe=[{value:"GET",label:"GET"},{value:"POST",label:"POST"},{value:"PUT",label:"PUT"},{value:"PATCH",label:"PATCH"},{value:"DELETE",label:"DELETE"}];function aVe({endpoint:t,onClose:e,activeTab:n}){const r=Oi(D=>D.updateApiEndpoint),i=Oi(D=>D.executeApiEndpoint),s=Oi(D=>D.createDataTable),[o,a]=x.useState(null),[l,u]=x.useState(!1),[c,d]=x.useState([]),[f,p]=x.useState(!1),m=x.useRef(!1),v=x.useCallback(async D=>{try{await r(t.id,D)}catch(T){console.error("API Endpoint  :",T)}},[t.id,r]),y=x.useCallback(()=>{const D=[...t.headers||[],{key:"",value:"",enabled:!0}];v({headers:D})},[t.headers,v]),A=x.useCallback((D,T,M)=>{const P=[...t.headers||[]];P[D]={...P[D],key:T,value:M},v({headers:P})},[t.headers,v]),C=x.useCallback(D=>{const T=[...t.headers||[]];T.splice(D,1),v({headers:T})},[t.headers,v]),E=x.useCallback(async()=>{const D=t.responseMapping;u(!0),a(null),d([]);try{const T=await i(t.id);console.log(" API result:",{result:T,resultType:typeof T,dataPath:t.responseMapping?.dataPath}),a({success:!0,data:T});let M=T;if(!Array.isArray(M)&&typeof M=="object"&&M!==null){const k=["results","data","items","records","list","rows","entries"];for(const L of k){const $=M[L];if(Array.isArray($)&&$.length>0){console.log(` Auto-detected array field: "${L}" with ${$.length} items`),M=$,D?.dataPath||(console.log(` Auto-setting dataPath to "${L}"`),v({responseMapping:{...D,dataPath:L}}));break}}}console.log(" Column detection - dataToAnalyze:",{isArray:Array.isArray(M),type:typeof M,length:Array.isArray(M)?M.length:"N/A"});const P=rVe(M);console.log(" Detected columns:",P),d(P)}catch(T){a({success:!1,data:T.message})}finally{u(!1)}},[t.id,t.responseMapping,i,v]);x.useEffect(()=>{n==="run"&&!m.current&&!l&&(m.current=!0,E())},[n,E,l]);const I=x.useCallback(async(D,T)=>{p(!0);try{const M=iVe(D),P=D.filter($=>$.selected).map($=>$.key);let k=o?.data;if(!Array.isArray(k)&&typeof k=="object"&&k!==null){const $=["results","data","items","records","list","rows","entries"];for(const z of $){const j=k[z];if(Array.isArray(j)&&j.length>0){console.log(` handleImport: Auto-detected array field "${z}"`),k=j;break}}}console.log(" handleImport: dataToImport",{isArray:Array.isArray(k),length:Array.isArray(k)?k.length:0,selectedKeys:P});const L=sVe(k,P);console.log(" handleImport: mockData extracted",{mockDataLength:L.length,firstItem:L[0]}),await s({name:T,project_id:t.project_id,schema:M,mockData:L,useMockData:!1}),console.log(` DataTable "${T}"   (${M.length} , ${L.length} )`),alert(`DataTable "${T}"() .
${M.length} , ${L.length} `),d([])}catch(M){console.error(" DataTable Import :",M),alert(`Import : ${M.message}`)}finally{p(!1)}},[o?.data,t.project_id,s]);return h.jsxs(h.Fragment,{children:[n==="basic"&&h.jsx(lVe,{endpoint:t,onUpdate:v}),n==="headers"&&h.jsx(cVe,{headers:t.headers||[],onAdd:y,onUpdate:A,onDelete:C}),n==="body"&&h.jsx(dVe,{endpoint:t,onUpdate:v}),n==="response"&&h.jsx(hVe,{endpoint:t,onUpdate:v}),n==="run"&&h.jsx(pVe,{endpoint:t,testResult:o,isExecuting:l,onTest:E,detectedColumns:c,onColumnsChange:d,onImport:I,isImporting:f})]})}function lVe({endpoint:t,onUpdate:e}){return h.jsxs("div",{className:"basic-editor",children:[h.jsx(kl,{label:"Method",value:t.method,onChange:n=>e({method:n}),options:oVe}),h.jsx(Fa,{label:"Base URL",value:t.baseUrl||"",onChange:n=>e({baseUrl:n}),placeholder:"https://api.example.com"}),h.jsx(Fa,{label:"Path",value:t.path,onChange:n=>e({path:n}),placeholder:"/users/{{userId}}"}),h.jsx("div",{className:"section-divider"}),h.jsx("h4",{className:"section-title",children:"Query Parameters"}),h.jsx(uVe,{endpoint:t,onUpdate:e})]})}function uVe({endpoint:t,onUpdate:e}){const n=t.queryParams||[],r=()=>{const o=[...n,{key:"",value:"",type:"string",required:!1}];e({queryParams:o})},i=(o,a,l)=>{const u=[...n];u[o]={...u[o],key:a,value:l},e({queryParams:u})},s=o=>{const a=[...n];a.splice(o,1),e({queryParams:a})};return h.jsxs("div",{className:"query-params-editor",children:[n.map((o,a)=>h.jsxs("div",{className:"kv-row",children:[h.jsx("input",{type:"text",className:"kv-input key",value:o.key,onChange:l=>i(a,l.target.value,o.value),placeholder:"key"}),h.jsx("input",{type:"text",className:"kv-input value",value:o.value,onChange:l=>i(a,o.key,l.target.value),placeholder:"value or {{variable}}"}),h.jsx("button",{type:"button",className:"kv-delete",onClick:()=>s(a),children:h.jsx(Qu,{size:oh.size})})]},a)),h.jsxs("button",{type:"button",className:"add-kv-btn",onClick:r,children:[h.jsx(yd,{...yn}),"Add Parameter"]})]})}function cVe({headers:t,onAdd:e,onUpdate:n,onDelete:r}){return h.jsxs("div",{className:"kv-editor",children:[h.jsxs("p",{className:"kv-description",children:["HTTP  . ","{{}}","     ."]}),h.jsx("div",{className:"kv-list",children:t.map((i,s)=>h.jsxs("div",{className:"kv-row",children:[h.jsx("input",{type:"text",className:"kv-input key",value:i.key,onChange:o=>n(s,o.target.value,i.value),placeholder:"Header Name"}),h.jsx("input",{type:"text",className:"kv-input value",value:i.value,onChange:o=>n(s,i.key,o.target.value),placeholder:"Value or {{variable}}"}),h.jsx("button",{type:"button",className:"kv-delete",onClick:()=>r(s),children:h.jsx(Qu,{size:oh.size})})]},s))}),h.jsxs("button",{type:"button",className:"add-kv-btn",onClick:e,children:[h.jsx(yd,{...yn}),"Add Header"]})]})}function dVe({endpoint:t,onUpdate:e}){const n=t.bodyTemplate||"",r=i=>{e({bodyTemplate:i})};return h.jsxs("div",{className:"body-editor",children:[h.jsxs("p",{className:"editor-description",children:["POST/PUT/PATCH   JSON  .",h.jsx("br",{}),"{{}}     ."]}),h.jsx("textarea",{className:"body-textarea",value:n,onChange:i=>r(i.target.value),placeholder:'{"key": "value", "userId": "{{userId}}"}',rows:10})]})}function hVe({endpoint:t,onUpdate:e}){const n=Oi(l=>l.executeApiEndpoint),[r,i]=x.useState(!1),[s,o]=x.useState(null),a=async()=>{i(!0),o(null);try{const l=await n(t.id);if(l&&typeof l=="object"&&!Array.isArray(l)){const u=["results","data","items","records","list","rows","entries","content","hits"];for(const c of u){const d=l[c];if(Array.isArray(d)&&d.length>0){e({responseMapping:{...t.responseMapping,dataPath:c}}),o(` "${c}"  (${d.length} )`);return}}o("     ")}else Array.isArray(l)?o("    (dataPath )"):o("     ")}catch(l){o(` API  : ${l.message}`)}finally{i(!1)}};return h.jsxs("div",{className:"response-editor",children:[h.jsxs("div",{className:"field-with-action",children:[h.jsx(Fa,{label:"Data Path",value:t.responseMapping?.dataPath||"",onChange:l=>e({responseMapping:{...t.responseMapping,dataPath:l}}),placeholder:"results, data.items"}),h.jsxs("button",{type:"button",className:"auto-detect-btn",onClick:a,disabled:r,title:"API     ",children:[h.jsx(Rxe,{...yn}),r?" ...":" "]})]}),s&&h.jsx("p",{className:`detect-result ${s.startsWith("")?"success":s.startsWith("")?"warning":"error"}`,children:s}),h.jsx("p",{className:"field-description",children:" JSON    . (: results, data.items)"}),h.jsx(Fa,{label:"Target DataTable",value:t.targetDataTable||"",onChange:l=>e({targetDataTable:l}),placeholder:"pokemon_list"}),h.jsx("p",{className:"field-description",children:"API    DataTable . Test  Import   ."}),h.jsx("div",{className:"section-divider"}),h.jsx("h4",{className:"section-title",children:"Field Mapping"}),h.jsx("p",{className:"field-description",children:"API   DataTable  ."}),h.jsx(fVe,{endpoint:t,onUpdate:e})]})}function fVe({endpoint:t,onUpdate:e}){const n=t.responseMapping?.fieldMappings||[],r=()=>{const o=[...n,{sourceKey:"",targetKey:""}];e({responseMapping:{...t.responseMapping,dataPath:t.responseMapping?.dataPath||"",fieldMappings:o}})},i=(o,a,l)=>{const u=[...n];u[o]={sourceKey:a,targetKey:l},e({responseMapping:{...t.responseMapping,dataPath:t.responseMapping?.dataPath||"",fieldMappings:u}})},s=o=>{const a=[...n];a.splice(o,1),e({responseMapping:{...t.responseMapping,dataPath:t.responseMapping?.dataPath||"",fieldMappings:a}})};return h.jsxs("div",{className:"field-mapping-editor",children:[h.jsx("div",{className:"kv-list",children:n.map((o,a)=>h.jsxs("div",{className:"kv-row",children:[h.jsx("input",{type:"text",className:"kv-input key",value:o.sourceKey,onChange:l=>i(a,l.target.value,o.targetKey),placeholder:"API Field"}),h.jsx("span",{className:"kv-arrow",children:""}),h.jsx("input",{type:"text",className:"kv-input value",value:o.targetKey,onChange:l=>i(a,o.sourceKey,l.target.value),placeholder:"DataTable Field"}),h.jsx("button",{type:"button",className:"kv-delete",onClick:()=>s(a),children:h.jsx(Qu,{size:oh.size})})]},a))}),h.jsxs("button",{type:"button",className:"add-kv-btn",onClick:r,children:[h.jsx(yd,{...yn}),"Add Mapping"]})]})}function pVe({endpoint:t,testResult:e,isExecuting:n,onTest:r,detectedColumns:i,onColumnsChange:s,onImport:o,isImporting:a}){return h.jsxs("div",{className:"test-editor",children:[h.jsxs("div",{className:"test-info",children:[h.jsx("span",{className:`method-badge ${t.method.toLowerCase()}`,children:t.method}),h.jsxs("span",{className:"test-url",children:[t.baseUrl,t.path]})]}),h.jsxs("button",{type:"button",className:"test-btn",onClick:r,disabled:n,children:[h.jsx(ZE,{...yn}),n?"Executing...":"Execute Request"]}),e&&h.jsxs("div",{className:`test-result ${e.success?"success":"error"}`,children:[h.jsx("div",{className:"result-header",children:e.success?" Success":" Error"}),h.jsx("pre",{className:"result-data",children:typeof e.data=="string"?e.data:JSON.stringify(e.data,null,2)})]}),e?.success&&i.length>0&&h.jsx(eVe,{columns:i,onColumnsChange:s,onImport:o,isImporting:a,defaultTableName:t.targetDataTable||""})]})}const gVe=[{value:"string",label:"String"},{value:"number",label:"Number"},{value:"boolean",label:"Boolean"},{value:"object",label:"Object"},{value:"array",label:"Array"}],mVe=[{value:"global",label:"Global"},{value:"page",label:"Page"},{value:"component",label:"Component"}];function AVe({variable:t,onClose:e,activeTab:n}){const r=Oi(l=>l.updateVariable),[i,s]=x.useState(new Set(["validation"])),o=x.useCallback(async l=>{try{await r(t.id,l)}catch(u){console.error("Variable  :",u)}},[t.id,r]),a=l=>{s(u=>{const c=new Set(u);return c.has(l)?c.delete(l):c.add(l),c})};return h.jsxs(h.Fragment,{children:[n==="basic"&&h.jsx(yVe,{variable:t,onUpdate:o}),n==="validation"&&h.jsx(vVe,{variable:t,onUpdate:o,expandedSections:i,onToggleSection:a}),n==="transform"&&h.jsx(bVe,{variable:t,onUpdate:o})]})}function yVe({variable:t,onUpdate:e}){const n=xVe(t.defaultValue,t.type),r=i=>{const s=CVe(i,t.type);e({defaultValue:s})};return h.jsxs("div",{className:"basic-editor",children:[h.jsx(kl,{label:"Type",value:t.type,onChange:i=>e({type:i}),options:gVe}),h.jsx(kl,{label:"Scope",value:t.scope,onChange:i=>e({scope:i}),options:mVe}),h.jsxs("p",{className:"field-description",children:[t.scope==="global"&&"   .",t.scope==="page"&&"   .",t.scope==="component"&&"    ."]}),h.jsx("div",{className:"section-divider"}),h.jsx("h4",{className:"section-title",children:"Default Value"}),t.type==="boolean"?h.jsx(rv,{label:"Default Value",isSelected:!!t.defaultValue,onChange:i=>e({defaultValue:i})}):t.type==="object"||t.type==="array"?h.jsx("div",{className:"json-editor-wrapper",children:h.jsx("textarea",{className:"json-textarea",value:n,onChange:i=>r(i.target.value),placeholder:t.type==="array"?"[]":"{}",rows:6})}):h.jsx(Fa,{label:"Default Value",value:n,onChange:r,placeholder:t.type==="number"?"0":""}),h.jsx("div",{className:"section-divider"}),h.jsx(rv,{label:"Persist to localStorage",isSelected:t.persist||!1,onChange:i=>e({persist:i})}),h.jsx("p",{className:"field-description",children:"    ."})]})}function vVe({variable:t,onUpdate:e,expandedSections:n,onToggleSection:r}){const i=t.validation||{},s=n.has("validation"),o=a=>{e({validation:{...i,...a}})};return h.jsxs("div",{className:"validation-editor",children:[h.jsxs("div",{className:"section-header",onClick:()=>r("validation"),children:[s?h.jsx(ho,{...yn}):h.jsx(vf,{...yn}),h.jsx("span",{className:"section-header-title",children:"Validation Rules"})]}),s&&h.jsxs("div",{className:"validation-content",children:[h.jsx(rv,{label:"Required",isSelected:i.required||!1,onChange:a=>o({required:a})}),t.type==="string"&&h.jsxs(h.Fragment,{children:[h.jsx(Fa,{label:"Min Length",value:String(i.minLength??""),onChange:a=>o({minLength:a?Number(a):void 0}),placeholder:"0"}),h.jsx(Fa,{label:"Max Length",value:String(i.maxLength??""),onChange:a=>o({maxLength:a?Number(a):void 0}),placeholder:"255"}),h.jsx(Fa,{label:"Pattern (Regex)",value:i.pattern||"",onChange:a=>o({pattern:a||void 0}),placeholder:"^[a-zA-Z]+$"})]}),t.type==="number"&&h.jsxs(h.Fragment,{children:[h.jsx(Fa,{label:"Min Value",value:String(i.min??""),onChange:a=>o({min:a?Number(a):void 0}),placeholder:"0"}),h.jsx(Fa,{label:"Max Value",value:String(i.max??""),onChange:a=>o({max:a?Number(a):void 0}),placeholder:"100"})]}),(t.type==="array"||t.type==="object")&&h.jsx(Fa,{label:"JSON Schema",value:i.schema||"",onChange:a=>o({schema:a||void 0}),placeholder:"JSON Schema URL or inline schema"})]})]})}function bVe({variable:t,onUpdate:e}){return h.jsxs("div",{className:"transform-editor",children:[h.jsxs("p",{className:"editor-description",children:["     .",h.jsx("br",{})," (value, context) => transformedValue ."]}),h.jsxs("div",{className:"transform-input-wrapper",children:[h.jsx("span",{className:"transform-prefix",children:"(value, context) => {"}),h.jsx("textarea",{className:"transform-textarea",value:t.transform||"",onChange:n=>e({transform:n.target.value||void 0}),placeholder:"return value.trim().toUpperCase();",rows:8}),h.jsx("span",{className:"transform-suffix",children:"}"})]}),h.jsxs("div",{className:"transform-examples",children:[h.jsx("h5",{className:"examples-title",children:"Examples"}),h.jsxs("div",{className:"example-list",children:[h.jsxs("div",{className:"example-item",children:[h.jsx("code",{className:"example-code",children:"return value.trim();"}),h.jsx("span",{className:"example-desc",children:"   "})]}),h.jsxs("div",{className:"example-item",children:[h.jsx("code",{className:"example-code",children:"return Math.max(0, Math.min(100, value));"}),h.jsx("span",{className:"example-desc",children:"0-100  "})]}),h.jsxs("div",{className:"example-item",children:[h.jsxs("code",{className:"example-code",children:["return value.filter(x =",">"," x !== null);"]}),h.jsx("span",{className:"example-desc",children:" null "})]})]})]})]})}function xVe(t,e){if(t==null)return"";switch(e){case"object":case"array":return JSON.stringify(t,null,2);default:return String(t)}}function CVe(t,e){if(t)switch(e){case"number":return Number(t)||0;case"boolean":return t==="true";case"object":case"array":try{return JSON.parse(t)}catch{return e==="array"?[]:{}}default:return t}}const EVe=[{id:"schema",label:"Schema",icon:nl},{id:"data",label:"Table",icon:G_},{id:"settings",label:"Settings",icon:wf}],SVe=[{id:"basic",label:"Basic",icon:wf},{id:"headers",label:"Headers",icon:z3},{id:"body",label:"Body",icon:W7},{id:"response",label:"Response",icon:W7},{id:"run",label:"Run",icon:ZE}],wVe=[{id:"basic",label:"Basic",icon:wf},{id:"validation",label:"Validation",icon:xbe},{id:"transform",label:"Transform",icon:z3}];function _Ve({mode:t,close:e}){const[n,r]=x.useState("schema"),[i,s]=x.useState(t.type==="api-edit"&&t.initialTab?t.initialTab:"basic"),[o,a]=x.useState("basic"),[l,u]=x.useState("preset"),c=Oi(D=>D.dataTables),d=Oi(D=>D.apiEndpoints),f=Oi(D=>D.variables),p=Oi(D=>D.transformers),m=x.useMemo(()=>Array.from(c.values()),[c]),v=x.useMemo(()=>Array.from(d.values()),[d]),y=x.useMemo(()=>Array.from(f.values()),[f]),A=x.useMemo(()=>Array.from(p.values()),[p]),C=()=>{switch(t.type){case"table-create":return"Data Table Creator";case"table-edit":return m.find(T=>T.id===t.tableId)?.name||"Table Editor";case"api-create":return"New API";case"api-edit":return v.find(T=>T.id===t.endpointId)?.name||"API Editor";case"variable-create":return"New Variable";case"variable-edit":return y.find(T=>T.id===t.variableId)?.name||"Variable Editor";case"transformer-create":return"New Transformer";case"transformer-edit":return A.find(T=>T.id===t.transformerId)?.name||"Transformer Editor";default:return"Editor"}},E=()=>{switch(t.type){case"table-edit":return h.jsx("div",{className:"panel-tabs",children:EVe.map(D=>h.jsxs("button",{type:"button",className:`panel-tab ${n===D.id?"active":""}`,onClick:()=>r(D.id),children:[h.jsx(D.icon,{...yn}),h.jsx("span",{children:D.label})]},D.id))});case"api-edit":return h.jsx("div",{className:"panel-tabs",children:SVe.map(D=>h.jsxs("button",{type:"button",className:`panel-tab ${i===D.id?"active":""}`,onClick:()=>s(D.id),children:[h.jsx(D.icon,{...yn}),h.jsx("span",{children:D.label})]},D.id))});case"variable-edit":return h.jsx("div",{className:"panel-tabs",children:wVe.map(D=>h.jsxs("button",{type:"button",className:`panel-tab ${o===D.id?"active":""}`,onClick:()=>a(D.id),children:[h.jsx(D.icon,{...yn}),h.jsx("span",{children:D.label})]},D.id))});case"table-create":return h.jsxs("div",{className:"panel-selection",children:[h.jsxs("label",{className:"panel-option",children:[h.jsx("input",{type:"radio",name:"creatorMode",checked:l==="empty",onChange:()=>u("empty")}),"  "]}),h.jsxs("label",{className:"panel-option",children:[h.jsx("input",{type:"radio",name:"creatorMode",checked:l==="preset",onChange:()=>u("preset")}),"Preset "]})]});default:return null}},I=()=>{switch(t.type){case"table-create":return h.jsx(ZHe,{projectId:t.projectId,onClose:e,mode:l});case"table-edit":{const D=m.find(T=>T.id===t.tableId);return D?h.jsx(vHe,{dataTable:D,onClose:e,activeTab:n}):h.jsx(Pa,{message:"   "})}case"api-create":return h.jsx(Pa,{message:"API    "});case"api-edit":{const D=v.find(T=>T.id===t.endpointId);return D?h.jsx(aVe,{endpoint:D,onClose:e,activeTab:i}):h.jsx(Pa,{message:"API   "})}case"variable-create":return h.jsx(Pa,{message:"    "});case"variable-edit":{const D=y.find(T=>T.id===t.variableId);return D?h.jsx(AVe,{variable:D,onClose:e,activeTab:o}):h.jsx(Pa,{message:"   "})}case"transformer-create":return h.jsx(Pa,{message:"Transformer    "});case"transformer-edit":return A.find(T=>T.id===t.transformerId)?h.jsx(Pa,{message:"Transformer    "}):h.jsx(Pa,{message:"Transformer   "});default:return h.jsx(Pa,{message:"  "})}};return h.jsxs("div",{className:"datatable-editor-panel",children:[h.jsx(Uu,{icon:h.jsx(mF,{...ce}),title:C(),actions:h.jsx("button",{type:"button",className:"iconButton",onClick:e,title:"",children:h.jsx(vd,{...ce})})}),E(),h.jsx("div",{className:"panel-contents",children:I()})]})}function IVe(t){switch(t.type){case"table-create":return`table-create-${t.projectId}`;case"table-edit":return`table-edit-${t.tableId}`;case"api-create":return`api-create-${t.projectId}`;case"api-edit":return`api-edit-${t.endpointId}`;case"variable-create":return`variable-create-${t.projectId}`;case"variable-edit":return`variable-edit-${t.variableId}`;case"transformer-create":return`transformer-create-${t.projectId}`;case"transformer-edit":return`transformer-edit-${t.transformerId}`;default:return`unknown-${Date.now()}`}}function BVe({isActive:t}){const e=Zg(r=>r.mode),n=Zg(r=>r.close);return t?e?h.jsx(_Ve,{mode:e,close:n},IVe(e)):h.jsxs("div",{className:"datatable-editor-panel",children:[h.jsx(Uu,{icon:h.jsx(mF,{size:ce.size}),title:"Editor"}),h.jsx("div",{className:"panel-contents",children:h.jsx(Pa,{message:"  "})})]}):null}const B1=new Map,fP=Object.assign({"../../panels/properties/editors/AutocompleteEditor.tsx":()=>en(()=>import("./AutocompleteEditor-BZgE6lwO.js"),__vite__mapDeps([0,1,2,3])),"../../panels/properties/editors/BadgeEditor.tsx":()=>en(()=>import("./BadgeEditor-Cakag-XD.js"),__vite__mapDeps([4,1,5,6])),"../../panels/properties/editors/BreadcrumbEditor.tsx":()=>en(()=>import("./BreadcrumbEditor-8SxzrHB7.js"),__vite__mapDeps([7,1,2])),"../../panels/properties/editors/BreadcrumbsEditor.tsx":()=>en(()=>import("./BreadcrumbsEditor-DhWPCUdH.js"),__vite__mapDeps([8,1,2])),"../../panels/properties/editors/ButtonEditor.tsx":()=>en(()=>import("./ButtonEditor-CqQe3y6Q.js"),__vite__mapDeps([9,1,5,3,2])),"../../panels/properties/editors/CalendarEditor.tsx":()=>en(()=>import("./CalendarEditor-BG_h-FsB.js"),__vite__mapDeps([10,1,2,11,3])),"../../panels/properties/editors/CardEditor.tsx":()=>en(()=>import("./CardEditor-BB9Pm6Lc.js"),__vite__mapDeps([12,1,13,14,2])),"../../panels/properties/editors/CellEditor.tsx":()=>en(()=>import("./CellEditor-CQn-qBLg.js"),__vite__mapDeps([15,1])),"../../panels/properties/editors/CheckboxEditor.tsx":()=>en(()=>import("./CheckboxEditor-COWq08Mo.js"),__vite__mapDeps([16,1,17,3,2,11])),"../../panels/properties/editors/CheckboxGroupEditor.tsx":()=>en(()=>import("./CheckboxGroupEditor-DOFYxVkI.js"),__vite__mapDeps([18,1,2,19,11])),"../../panels/properties/editors/ColorAreaEditor.tsx":()=>en(()=>import("./ColorAreaEditor-B8iI1Cd1.js"),__vite__mapDeps([20,1,21,2])),"../../panels/properties/editors/ColorFieldEditor.tsx":()=>en(()=>import("./ColorFieldEditor-CEP135RM.js"),__vite__mapDeps([22,1,2,11])),"../../panels/properties/editors/ColorPickerEditor.tsx":()=>en(()=>import("./ColorPickerEditor-BWbQ2dAd.js"),__vite__mapDeps([23,1,2])),"../../panels/properties/editors/ColorSliderEditor.tsx":()=>en(()=>import("./ColorSliderEditor-DspYjHRU.js"),__vite__mapDeps([24,1,2])),"../../panels/properties/editors/ColorSwatchEditor.tsx":()=>en(()=>import("./ColorSwatchEditor-CO5nvtlX.js"),__vite__mapDeps([25,1])),"../../panels/properties/editors/ColorSwatchPickerEditor.tsx":()=>en(()=>import("./ColorSwatchPickerEditor-BioUGBd9.js"),__vite__mapDeps([26,1,2])),"../../panels/properties/editors/ColorWheelEditor.tsx":()=>en(()=>import("./ColorWheelEditor-BklSU7dj.js"),__vite__mapDeps([27,1,6,2])),"../../panels/properties/editors/ColumnEditor.tsx":()=>en(()=>import("./ColumnEditor-BBvNlSb5.js"),__vite__mapDeps([28,1,13,21])),"../../panels/properties/editors/ColumnGroupEditor.tsx":()=>en(()=>import("./ColumnGroupEditor-oVrztwgo.js"),__vite__mapDeps([29,1])),"../../panels/properties/editors/ComboBoxEditor.tsx":()=>en(()=>import("./ComboBoxEditor-sQjhEl2w.js"),__vite__mapDeps([30,31,1,32,2,11,3])),"../../panels/properties/editors/ComboBoxItemEditor.tsx":()=>en(()=>import("./ComboBoxItemEditor-BPLl0SWE.js"),__vite__mapDeps([33,1,32,2])),"../../panels/properties/editors/DataTableEditor.tsx":()=>en(()=>import("./DataTableEditor-ZTBHpmk2.js"),[]),"../../panels/properties/editors/DateFieldEditor.tsx":()=>en(()=>import("./DateFieldEditor-BB3Y1Cdw.js"),__vite__mapDeps([34,1,2,11,3])),"../../panels/properties/editors/DatePickerEditor.tsx":()=>en(()=>import("./DatePickerEditor-DbHlxAal.js"),__vite__mapDeps([35,1,2,11,3])),"../../panels/properties/editors/DateRangePickerEditor.tsx":()=>en(()=>import("./DateRangePickerEditor-Bvg2nqRi.js"),__vite__mapDeps([36,1,2,11,3])),"../../panels/properties/editors/DialogEditor.tsx":()=>en(()=>import("./DialogEditor-BYc4FTOe.js"),__vite__mapDeps([37,1])),"../../panels/properties/editors/DisclosureEditor.tsx":()=>en(()=>import("./DisclosureEditor-B_eP-kHc.js"),__vite__mapDeps([38,1,2])),"../../panels/properties/editors/DisclosureGroupEditor.tsx":()=>en(()=>import("./DisclosureGroupEditor-Biepye_7.js"),__vite__mapDeps([39,1,2])),"../../panels/properties/editors/DropZoneEditor.tsx":()=>en(()=>import("./DropZoneEditor-Bmt8WbGW.js"),__vite__mapDeps([40,1,2])),"../../panels/properties/editors/ElementSlotSelector.tsx":()=>en(()=>Promise.resolve().then(()=>TVe),void 0),"../../panels/properties/editors/FieldEditor.tsx":()=>en(()=>import("./FieldEditor-CeUkpOHv.js"),__vite__mapDeps([41,1,14])),"../../panels/properties/editors/FileTriggerEditor.tsx":()=>en(()=>import("./FileTriggerEditor-1hHOd_Js.js"),__vite__mapDeps([42,1])),"../../panels/properties/editors/FormEditor.tsx":()=>en(()=>import("./FormEditor-BInLYhHx.js"),__vite__mapDeps([43,1,3])),"../../panels/properties/editors/GridListEditor.tsx":()=>en(()=>import("./GridListEditor-C4ZyPHp5.js"),__vite__mapDeps([44,31,1,32,2,45,3])),"../../panels/properties/editors/GridListItemEditor.tsx":()=>en(()=>import("./GridListItemEditor-HlUIqe49.js"),__vite__mapDeps([46,1,32,2])),"../../panels/properties/editors/GroupEditor.tsx":()=>en(()=>import("./GroupEditor-D9dVmdvs.js"),__vite__mapDeps([47,1])),"../../panels/properties/editors/LayoutBodyEditor.tsx":()=>en(()=>import("./LayoutBodyEditor-CTfSkaII.js"),__vite__mapDeps([48,1,49,50,51])),"../../panels/properties/editors/LayoutSlugEditor.tsx":()=>en(()=>import("./LayoutSlugEditor-DWCtQyUT.js"),__vite__mapDeps([49,50])),"../../panels/properties/editors/LinkEditor.tsx":()=>en(()=>import("./LinkEditor-BBn0X8Em.js"),__vite__mapDeps([52,1,5,2])),"../../panels/properties/editors/ListBoxEditor.tsx":()=>en(()=>import("./ListBoxEditor-1ennoFab.js"),__vite__mapDeps([53,31,1,45,2,3,32])),"../../panels/properties/editors/ListBoxItemEditor.tsx":()=>en(()=>import("./ListBoxItemEditor-DKbG7no_.js"),__vite__mapDeps([54,1,32,2])),"../../panels/properties/editors/MenuEditor.tsx":()=>en(()=>import("./MenuEditor-Dw47VwwL.js"),__vite__mapDeps([55,1,45,2,3])),"../../panels/properties/editors/MenuItemEditor.tsx":()=>en(()=>import("./MenuItemEditor-Kae4v0ZS.js"),__vite__mapDeps([56,1,32,2])),"../../panels/properties/editors/MeterEditor.tsx":()=>en(()=>import("./MeterEditor-BACXpItw.js"),__vite__mapDeps([57,1,58])),"../../panels/properties/editors/ModalEditor.tsx":()=>en(()=>import("./ModalEditor-Blge-asV.js"),__vite__mapDeps([59,1])),"../../panels/properties/editors/NumberFieldEditor.tsx":()=>en(()=>import("./NumberFieldEditor-MI-rh8lm.js"),__vite__mapDeps([60,1,61,58,21,3,2,11])),"../../panels/properties/editors/PageBodyEditor.tsx":()=>en(()=>import("./PageBodyEditor-BmJpS5G7.js"),__vite__mapDeps([62,1,63,64,50,65])),"../../panels/properties/editors/PageLayoutSelector.tsx":()=>en(()=>import("./PageLayoutSelector-D0_5XzTx.js"),[]),"../../panels/properties/editors/PageParentSelector.tsx":()=>en(()=>import("./PageParentSelector-BkugJBXK.js"),__vite__mapDeps([64,50,65])),"../../panels/properties/editors/PanelEditor.tsx":()=>en(()=>import("./PanelEditor-Col9Yj_8.js"),__vite__mapDeps([66,1])),"../../panels/properties/editors/PopoverEditor.tsx":()=>en(()=>import("./PopoverEditor-BS20L2WD.js"),__vite__mapDeps([67,1,68])),"../../panels/properties/editors/ProgressBarEditor.tsx":()=>en(()=>import("./ProgressBarEditor-Ck5MnqXg.js"),__vite__mapDeps([69,1,58])),"../../panels/properties/editors/RadioEditor.tsx":()=>en(()=>import("./RadioEditor-BioPIn0D.js"),__vite__mapDeps([70,1,32,71,3,2,11])),"../../panels/properties/editors/RadioGroupEditor.tsx":()=>en(()=>import("./RadioGroupEditor-mF1D02p2.js"),__vite__mapDeps([72,1,19,32,71,2,11])),"../../panels/properties/editors/RangeCalendarEditor.tsx":()=>en(()=>import("./RangeCalendarEditor-BF3EsUCN.js"),__vite__mapDeps([73,1,2,11])),"../../panels/properties/editors/ResponsiveVisibilityEditor.tsx":()=>en(()=>import("./ResponsiveVisibilityEditor-CfwiMSg4.js"),__vite__mapDeps([74,14])),"../../panels/properties/editors/RowEditor.tsx":()=>en(()=>import("./RowEditor-vviPgynF.js"),__vite__mapDeps([75,1])),"../../panels/properties/editors/SearchFieldEditor.tsx":()=>en(()=>import("./SearchFieldEditor-DcT34tII.js"),__vite__mapDeps([76,1,61,3,2,11])),"../../panels/properties/editors/SelectEditor.tsx":()=>en(()=>import("./SelectEditor-B_Dlabp_.js"),__vite__mapDeps([77,31,1,61,45,2,11,3,32])),"../../panels/properties/editors/SelectItemEditor.tsx":()=>en(()=>import("./SelectItemEditor-CPM2cy9b.js"),__vite__mapDeps([78,1,32,2])),"../../panels/properties/editors/SeparatorEditor.tsx":()=>en(()=>import("./SeparatorEditor-CP0rJmQB.js"),__vite__mapDeps([79,1,17])),"../../panels/properties/editors/SliderEditor.tsx":()=>en(()=>import("./SliderEditor-B8Yz9-EE.js"),__vite__mapDeps([80,1,58,19,21,2])),"../../panels/properties/editors/SlotEditor.tsx":()=>en(()=>import("./SlotEditor-DXWUdTEG.js"),[]),"../../panels/properties/editors/SwitchEditor.tsx":()=>en(()=>import("./SwitchEditor-bKSRrQSZ.js"),__vite__mapDeps([81,1,3,2,11])),"../../panels/properties/editors/TabEditor.tsx":()=>en(()=>import("./TabEditor-B5HKJqDG.js"),__vite__mapDeps([82,1,2])),"../../panels/properties/editors/TableBodyEditor.tsx":()=>en(()=>import("./TableBodyEditor-umtJwH1O.js"),__vite__mapDeps([83,1])),"../../panels/properties/editors/TableEditor.tsx":()=>en(()=>import("./TableEditor-BlZGn8kl.js"),__vite__mapDeps([84,1,85])),"../../panels/properties/editors/TableHeaderEditor.tsx":()=>en(()=>import("./TableHeaderEditor-BXDuDcEN.js"),__vite__mapDeps([86,1])),"../../panels/properties/editors/TabsEditor.tsx":()=>en(()=>import("./TabsEditor-bojAlh0E.js"),__vite__mapDeps([87,1,2,19])),"../../panels/properties/editors/TagEditor.tsx":()=>en(()=>import("./TagEditor-BpKJjUYt.js"),__vite__mapDeps([88,1,2])),"../../panels/properties/editors/TagGroupEditor.tsx":()=>en(()=>import("./TagGroupEditor-CbB9e3FJ.js"),__vite__mapDeps([89,1,2,11])),"../../panels/properties/editors/TailSwatchEditor.tsx":()=>en(()=>import("./TailSwatchEditor-DS3LGL0H.js"),__vite__mapDeps([90,1,2])),"../../panels/properties/editors/TextFieldEditor.tsx":()=>en(()=>import("./TextFieldEditor-fm-RjDwf.js"),__vite__mapDeps([91,1,32,61,3,2,11])),"../../panels/properties/editors/TimeFieldEditor.tsx":()=>en(()=>import("./TimeFieldEditor-oJQu26bC.js"),__vite__mapDeps([92,1,2,11,3])),"../../panels/properties/editors/ToastEditor.tsx":()=>en(()=>import("./ToastEditor-DjRqsMpg.js"),__vite__mapDeps([93,1])),"../../panels/properties/editors/ToggleButtonEditor.tsx":()=>en(()=>import("./ToggleButtonEditor-D6CIyf__.js"),__vite__mapDeps([94,1,3,2,11])),"../../panels/properties/editors/ToggleButtonGroupEditor.tsx":()=>en(()=>import("./ToggleButtonGroupEditor-DNjQdm9B.js"),__vite__mapDeps([95,1,2,32,3])),"../../panels/properties/editors/ToolbarEditor.tsx":()=>en(()=>import("./ToolbarEditor-DXUhYVPD.js"),__vite__mapDeps([96,1,17])),"../../panels/properties/editors/TooltipEditor.tsx":()=>en(()=>import("./TooltipEditor-C26Y1nq-.js"),__vite__mapDeps([97,1,68,21])),"../../panels/properties/editors/TreeEditor.tsx":()=>en(()=>import("./TreeEditor-C1evsj_j.js"),__vite__mapDeps([98,1,65,45,2,3])),"../../panels/properties/editors/TreeItemEditor.tsx":()=>en(()=>import("./TreeItemEditor-B0ET_vmm.js"),__vite__mapDeps([99,1,32,2]))});async function NU(t){try{const e=`../../panels/properties/editors/${t}.tsx`,n=fP[e];if(!n)return console.warn(`[importEditor] Editor not found in glob: ${t}`,{requestedPath:e,availablePaths:Object.keys(fP).slice(0,5),totalCount:Object.keys(fP).length}),null;const r=await n();return r.default||r[t]||null}catch(e){return console.warn(`[importEditor] Failed to load editor: ${t}`,e),null}}async function DVe(t,e){if(t==="body"){const i=e?.editMode==="layout",s=i?"LayoutBodyEditor":"PageBodyEditor",o=`body:${i?"layout":"page"}`;if(B1.has(o))return B1.get(o);const a=await NU(s);return a?B1.set(o,a):console.warn("[getEditor] Failed to import body editor:",s),a}if(B1.has(t))return B1.get(t);const n=aue.find(i=>i.type===t);if(!n?.inspector.hasCustomEditor||!n.inspector.editorName)return null;const r=await NU(n.inspector.editorName);return r?B1.set(t,r):console.warn("[getEditor] Failed to import editor:",n.inspector.editorName),r}const tL=x.memo(function({elementId:e,currentSlotName:n,onSlotChange:r}){const i=Pe(d=>d.elements.find(f=>f.id===e)),s=Pe(d=>d.elements),o=Pe(d=>d.pages),a=x.useMemo(()=>{if(!i?.page_id)return[];const d=o.find(p=>p.id===i.page_id);return d?.layout_id?s.filter(p=>p.layout_id===d.layout_id&&p.tag==="Slot").map(p=>{const m=p.props?.name;return{name:m||`slot_${p.id.slice(0,8)}`,displayName:m||"unnamed",required:p.props?.required||!1,description:p.props?.description,elementId:p.id}}):[]},[i,s,o]),l=x.useMemo(()=>i?.parent_id?!s.some(f=>f.id===i.parent_id&&f.page_id===i.page_id):!0,[i,s]);if(a.length===0||!l)return null;const u=a.find(d=>d.required)||a[0],c=a.map(d=>({value:d.name,label:`${d.displayName}${d.required?" *":""}`}));return h.jsxs(Sc,{title:"Slot Assignment",icon:H_,children:[h.jsx(kl,{label:"Target Slot",value:n||u?.name||"content",onChange:r,options:c,icon:H_,description:"Choose which slot this element fills in the layout"}),n&&h.jsx("div",{className:"slot-selector-info",children:a.find(d=>d.name===n)?.description&&h.jsx("p",{className:"slot-selector-description",children:a.find(d=>d.name===n)?.description})})]})}),TVe=Object.freeze(Object.defineProperty({__proto__:null,ElementSlotSelector:tL,default:tL},Symbol.toStringTag,{value:"Module"}));function Lce(t,e,n){if(t.length===0)throw new Error("[Group] No elements selected to group");const r=t.map(C=>e.get(C)).filter(C=>C!==void 0);if(r.length===0)throw new Error("[Group] Selected elements not found");const i=r[0].parent_id,o=r.every(C=>C.parent_id===i)?i:null,a=Array.from(e.values()).filter(C=>C.parent_id===o&&C.page_id===n),u=(a.length>0?Math.max(...a.map(C=>C.order_num||0)):-1)+1,c=r.map(C=>{const E=C.props.style||{},I=LU(E.left),D=LU(E.top);return{left:I,top:D}}).filter(C=>C.left!==null&&C.top!==null),d=c.length>0?c.reduce((C,E)=>C+(E.left||0),0)/c.length:0,f=c.length>0?c.reduce((C,E)=>C+(E.top||0),0)/c.length:0,p=Array.from(e.values()).filter(C=>C.tag==="Group"&&C.customId?.startsWith("group_")),v=`group_${(p.length>0?Math.max(...p.map(C=>{const E=C.customId?.match(/^group_(\d+)$/);return E?parseInt(E[1],10):0})):0)+1}`,y={id:js.generateId(),customId:v,tag:"Group",props:{label:`Group (${r.length} elements)`,style:{display:"block",position:"relative",left:`${d}px`,top:`${f}px`}},parent_id:o,page_id:n,order_num:u,created_at:new Date().toISOString(),updated_at:new Date().toISOString()},A=r.map((C,E)=>({...C,parent_id:y.id,order_num:E,updated_at:new Date().toISOString()}));return console.log(` [Group] Created group with ${A.length} elements`),{groupElement:y,updatedChildren:A}}function LU(t){if(typeof t=="string"){const e=t.match(/^(-?\d+(?:\.\d+)?)px$/);if(e)return parseFloat(e[1])}return typeof t=="number"?t:null}function MVe(t,e){const n=e.get(t);if(!n)throw new Error(`[Ungroup] Group element not found: ${t}`);if(n.tag!=="Group")throw new Error(`[Ungroup] Element is not a Group: ${t} (tag: ${n.tag})`);const r=Array.from(e.values()).filter(l=>l.parent_id===t);if(r.length===0)return console.warn("[Ungroup] Group has no children, will just delete group"),{updatedChildren:[],groupIdToDelete:t};const i=n.parent_id,s=Array.from(e.values()).filter(l=>l.parent_id===i&&l.page_id===n.page_id&&l.id!==t);let o=s.length>0?Math.max(...s.map(l=>l.order_num||0))+1:0;const a=r.map(l=>({...l,parent_id:i,order_num:o++,updated_at:new Date().toISOString()}));return console.log(` [Ungroup] Ungrouped ${r.length} elements from group ${t}`),{updatedChildren:a,groupIdToDelete:t}}function DI(t){if(typeof t=="string"){const e=t.match(/^(-?\d+(?:\.\d+)?)px$/);if(e)return parseFloat(e[1])}return typeof t=="number"?t:null}function kVe(t,e){switch(e){case"left":return Math.min(...t.map(n=>n.left));case"right":return Math.max(...t.map(n=>n.left+n.width));case"center":{const n=t.map(r=>r.left+r.width/2);return n.reduce((r,i)=>r+i,0)/n.length}case"top":return Math.min(...t.map(n=>n.top));case"bottom":return Math.max(...t.map(n=>n.top+n.height));case"middle":{const n=t.map(r=>r.top+r.height/2);return n.reduce((r,i)=>r+i,0)/n.length}}}function PVe(t){return t.map(e=>{const n=e.props.style||{},r=DI(n.left),i=DI(n.top),s=DI(n.width),o=DI(n.height);return r===null||i===null||s===null||o===null?null:{id:e.id,left:r,top:i,width:s,height:o}}).filter(e=>e!==null)}function Fce(t,e,n){if(t.length<2)return console.warn("[Alignment] Need at least 2 elements to align"),[];const r=t.map(a=>e.get(a)).filter(a=>a!==void 0);if(r.length<2)return console.warn("[Alignment] Not enough valid elements to align"),[];const i=PVe(r);if(i.length<2)return console.warn("[Alignment] Elements missing position/size properties, cannot align"),[];const s=kVe(i,n),o=i.map(a=>{let l=a.left,u=a.top;switch(n){case"left":l=s;break;case"right":l=s-a.width;break;case"center":l=s-a.width/2;break;case"top":u=s;break;case"bottom":u=s-a.height;break;case"middle":u=s-a.height/2;break}return{id:a.id,style:{...n==="left"||n==="center"||n==="right"?{left:`${l}px`}:{},...n==="top"||n==="middle"||n==="bottom"?{top:`${u}px`}:{}}}});return console.log(` [Alignment] Aligned ${o.length} elements to ${n}`),o}function TI(t){if(typeof t=="string"){const e=t.match(/^(-?\d+(?:\.\d+)?)px$/);if(e)return parseFloat(e[1])}return typeof t=="number"?t:null}function RVe(t){return t.map(e=>{const n=e.props.style||{},r=TI(n.left),i=TI(n.top),s=TI(n.width),o=TI(n.height);return r===null||i===null||s===null||o===null?null:{id:e.id,left:r,top:i,width:s,height:o}}).filter(e=>e!==null)}function NVe(t){if(t.length<3)return console.warn("[Distribution] Need at least 3 elements to distribute"),[];const e=[...t].sort((d,f)=>d.left-f.left),n=e[0],r=e[e.length-1],i=e.reduce((d,f)=>d+f.width,0),s=n.left,l=(r.left+r.width-s-i)/(e.length-1),u=[];let c=s;return e.forEach((d,f)=>{if(f===0){c+=d.width;return}f!==e.length-1&&(c+=l,u.push({id:d.id,style:{left:`${c}px`}}),c+=d.width)}),u}function LVe(t){if(t.length<3)return console.warn("[Distribution] Need at least 3 elements to distribute"),[];const e=[...t].sort((d,f)=>d.top-f.top),n=e[0],r=e[e.length-1],i=e.reduce((d,f)=>d+f.height,0),s=n.top,l=(r.top+r.height-s-i)/(e.length-1),u=[];let c=s;return e.forEach((d,f)=>{if(f===0){c+=d.height;return}f!==e.length-1&&(c+=l,u.push({id:d.id,style:{top:`${c}px`}}),c+=d.height)}),u}function $ce(t,e,n){if(t.length<3)return console.warn("[Distribution] Need at least 3 elements to distribute"),[];const r=t.map(o=>e.get(o)).filter(o=>o!==void 0);if(r.length<3)return console.warn("[Distribution] Not enough valid elements to distribute"),[];const i=RVe(r);if(i.length<3)return console.warn("[Distribution] Elements missing position/size properties, cannot distribute"),[];const s=n==="horizontal"?NVe(i):LVe(i);return console.log(` [Distribution] Distributed ${s.length} elements ${n}ly`),s}function __(t,e,n){if(t.length===0)return;const r=t.map(i=>{const s=n.get(i);return s?{elementId:i,prevProps:s.props,newProps:{...s.props,...e}}:null}).filter(i=>i!==null);r.length!==0&&(ys.addEntry({type:"batch",elementId:t[0],elementIds:t,data:{batchUpdates:r}}),console.log(` [History] Tracked batch update for ${r.length} elements`))}function zce(t,e){e.length!==0&&(ys.addEntry({type:"group",elementId:t.id,elementIds:e.map(n=>n.id),data:{element:t,elements:e,groupData:{groupId:t.id,childIds:e.map(n=>n.id)}}}),console.log(` [History] Tracked group creation: ${t.id} with ${e.length} children`))}function FVe(t,e,n){e.length!==0&&(ys.addEntry({type:"ungroup",elementId:t,elementIds:e.map(r=>r.id),data:{element:n,prevElements:e,groupData:{groupId:t,childIds:e.map(r=>r.id)}}}),console.log(` [History] Tracked ungroup: ${t} with ${e.length} children`))}function $Ve(t){t.length!==0&&(t.forEach(e=>{ys.addEntry({type:"remove",elementId:e.id,data:{element:e,childElements:void 0}})}),console.log(` [History] Tracked multi-delete for ${t.length} elements`))}function nL(t){if(t.length===0)return;const[e,...n]=t;ys.addEntry({type:"add",elementId:e.id,elementIds:t.map(r=>r.id),data:{element:e,childElements:n,elements:t}}),console.log(` [History] Tracked multi-paste: single batch entry for ${t.length} elements`)}const zVe=x.memo(function({selectedElement:e}){const[n,r]=x.useState(null),[i,s]=x.useState(!0),o=rh(u=>u.mode),a=x.useMemo(()=>{const u=Pe.getState().elementsMap.get(e.id);return{layoutId:u?.layout_id||null,pageId:u?.page_id||null,editMode:o}},[e.id,o]);x.useEffect(()=>{let u=!0;if(!e){Promise.resolve().then(()=>{u&&(r(null),s(!1))});return}return Promise.resolve().then(()=>{u&&(s(!0),DVe(e.type,a).then(c=>{u&&(r(()=>c),s(!1))}).catch(c=>{u&&(r(null),s(!1))}))}),()=>{u=!1}},[e.type,a.editMode]);const l=x.useCallback(u=>{Pe.getState().updateSelectedProperties(u)},[]);return i?h.jsx(Due,{message:"  ...",description:`${e.type}   `}):n?h.jsx(n,{elementId:e.id,currentProps:e.properties,onUpdate:l}):h.jsx(Pa,{message:"    ",description:`'${e.type}'     .`})},(t,e)=>{const n=t.selectedElement,r=e.selectedElement;return!(n.id!==r.id||n.type!==r.type||n.customId!==r.customId||!(n.properties===r.properties||JSON.stringify(n.properties)===JSON.stringify(r.properties))||!(n.style===r.style||JSON.stringify(n.style)===JSON.stringify(r.style))||!(n.dataBinding===r.dataBinding||JSON.stringify(n.dataBinding)===JSON.stringify(r.dataBinding))||!(n.events===r.events||JSON.stringify(n.events)===JSON.stringify(r.events)))});function OVe({isActive:t}){return t?h.jsx(QVe,{}):null}const jVe=x.memo(function({selectedElement:e,onSetSelectedElement:n,onSetSelectedElements:r}){const i=Pe(j=>j.multiSelectMode)||!1,s=Pe(j=>j.selectedElementIds),o=x.useMemo(()=>s||[],[s]),a=Pe(j=>j.currentPageId),l=i&&o.length>1,u=Pe.getState().removeElement,c=Pe.getState().updateElementProps,d=Pe.getState().addElement,f=Pe.getState().updateElement,p=()=>Pe.getState().elementsMap,m=Pe.getState().getPageElements,v=a?m(a):[],y=x.useMemo(()=>{if(!l||!a||o.length===0)return[];const j=p(),H=[];for(const W of o){const O=j.get(W);O&&O.page_id===a&&H.push(O)}return H},[l,o,a]),{copyText:A,pasteText:C}=UT({onPaste:()=>{},name:"multi-elements"});if(!l)return null;const E=async()=>{if(o.length!==0)try{const j=p(),H=ED(o,j),W=ez(H);await A(W),console.log(` [Copy] Copied ${o.length} elements`)}catch(j){console.error(" [Copy] Failed:",j)}},I=async()=>{if(a)try{const j=await C();if(!j)return;const H=tz(j);if(!H)return;const W=SD(H,a,{x:10,y:10});if(W.length===0)return;await Promise.all(W.map(O=>d(O))),nL(W),console.log(` [Paste] Pasted ${W.length} elements`)}catch(j){console.error(" [Paste] Failed:",j)}},D=async()=>{if(confirm(`${o.length}   ?`))try{const j=p(),H=o.map(W=>j.get(W)).filter(W=>W!==void 0);if(H.length===0)return;$Ve(H),await Promise.all(o.map(W=>u(W))),console.log(` [DeleteAll] Deleted ${H.length} elements`)}catch(j){console.error(" [DeleteAll] Failed:",j)}},T=()=>{n(null)},M=async j=>{try{const H=p();__(o,j,H),await Promise.all(o.map(W=>c(W,j))),console.log("Batch update applied to",o.length,"elements")}catch(H){console.error("Failed to batch update:",H)}},P=j=>{j.length>0?r(j):n(null)},k=async()=>{if(!(o.length<2||!a))try{const j=p(),{groupElement:H,updatedChildren:W}=Lce(o,j,a);await d(H),await Promise.all(W.map(async O=>{await f(O.id,{parent_id:O.parent_id,order_num:O.order_num}),await bi.from("elements").update({parent_id:O.parent_id,order_num:O.order_num,updated_at:new Date().toISOString()}).eq("id",O.id)})),zce(H,W),n(H.id,H.props),console.log(` [Group] Created group with ${W.length} children`)}catch(j){console.error(" [Group] Failed:",j)}},L=async j=>{if(!(o.length<2))try{const H=p(),W=Fce(o,H,j);if(W.length===0)return;const O={};W.forEach(G=>{O[G.id]=G.style}),__(o,O,H),await Promise.all(W.map(G=>{const q=H.get(G.id);if(q){const J={...q.props.style||{},...G.style};return c(G.id,{style:J})}return Promise.resolve()})),console.log(` [Alignment] Aligned ${W.length} elements to ${j}`)}catch(H){console.error(" [Alignment] Failed:",H)}},$=async j=>{if(!(o.length<3))try{const H=p(),W=$ce(o,H,j);if(W.length===0)return;const O={};W.forEach(G=>{O[G.id]=G.style}),__(o,O,H),await Promise.all(W.map(G=>{const q=H.get(G.id);if(q){const J={...q.props.style||{},...G.style};return c(G.id,{style:J})}return Promise.resolve()})),console.log(` [Distribution] Distributed ${W.length} elements ${j}ly`)}catch(H){console.error(" [Distribution] Failed:",H)}},z=v.find(j=>j.id===e.id);return h.jsxs(h.Fragment,{children:[h.jsx(NLe,{count:o.length,primaryElementId:o[0],primaryElementType:e?.type,onCopyAll:E,onPasteAll:I,onDeleteAll:D,onClearSelection:T,onGroupSelection:k,onAlign:L,onDistribute:$}),h.jsx(OLe,{selectedElements:y,onBatchUpdate:M}),h.jsx(jLe,{allElements:v,onFilteredElements:P}),z&&h.jsx(eFe,{referenceElement:z,allElements:v,onSelect:j=>{r(j),a&&Xw.addSelection(j,v,a)}}),h.jsx(HLe,{currentPageId:a,onRestore:j=>r(j)})]})});function QVe(){const t=W$(),e=Pe.getState().removeElement,n=Pe.getState().setSelectedElement,r=Pe.getState().updateElementProps,i=Pe.getState().addElement,s=Pe.getState().updateElement,o=Pe.getState().setSelectedElements,a=x.useCallback(()=>Pe.getState().elementsMap,[]),l=x.useCallback(()=>Pe.getState().currentPageId,[]),u=x.useCallback(()=>Pe.getState().selectedElementIds||[],[]),c=x.useCallback(()=>Pe.getState().multiSelectMode||!1,[]),[d,f]=x.useState(!1),{copy:p,paste:m}=UT({onPaste:z=>{Pe.getState().updateSelectedProperties(z)},name:"properties"}),v=x.useCallback(async()=>{t?.properties&&await p(t.properties)},[t,p]),y=x.useCallback(async()=>{await m()},[m]),A=x.useCallback(async()=>{const z=u();if(console.log("[Copy] Starting copy operation...",{selectedElementIds:z}),z.length===0){console.warn("[Copy] No elements selected");return}try{console.log("[Copy] Calling copyMultipleElements...");const j=a(),H=ED(z,j);console.log("[Copy] Copied data:",{elementCount:H.elements.length,rootIds:H.rootIds,externalParents:H.externalParents.size}),console.log("[Copy] Serializing to JSON...");const W=ez(H);console.log("[Copy] JSON length:",W.length,"bytes"),console.log("[Copy] Writing to clipboard..."),await navigator.clipboard.writeText(W),console.log(` [Copy] Successfully copied ${z.length} elements to clipboard`)}catch(j){console.error(" [Copy] Failed to copy elements:",j)}},[u,a]),C=x.useCallback(async()=>{const z=l();if(console.log("[Paste] Starting paste operation...",{currentPageId:z}),!z){console.warn("[Paste] No current page selected");return}try{console.log("[Paste] Reading from clipboard...");const j=await navigator.clipboard.readText();console.log("[Paste] Clipboard text length:",j.length,"bytes"),console.log("[Paste] First 100 chars:",j.substring(0,100)),console.log("[Paste] Deserializing clipboard data...");const H=tz(j);if(!H){console.warn("[Paste] Clipboard does not contain valid XStudio element data");return}console.log("[Paste] Deserialized data:",{elementCount:H.elements.length,rootIds:H.rootIds,externalParents:H.externalParents.size}),console.log("[Paste] Creating new elements with offset...");const W=SD(H,z,{x:10,y:10});if(console.log("[Paste] New elements created:",W.length),W.length===0){console.warn("[Paste] No elements to paste");return}console.log("[Paste] Adding elements to store..."),await Promise.all(W.map(O=>(console.log("[Paste] Adding element:",O.id,O.tag),i(O)))),nL(W),console.log(` [Paste] Successfully pasted ${W.length} elements`)}catch(j){console.error(" [Paste] Failed to paste elements:",j)}},[l,i]),E=x.useCallback(async()=>{const z=c(),j=u(),H=l();if(!z||j.length===0||!H){console.warn("[Duplicate] No elements selected or no page active");return}try{console.log(`[Duplicate] Duplicating ${j.length} elements`);const W=a(),O=ED(j,W),G=SD(O,H,{x:10,y:10});if(G.length===0){console.warn("[Duplicate] No elements to duplicate");return}await Promise.all(G.map(J=>i(J))),nL(G);const q=G.map(J=>J.id);o(q),console.log(` [Duplicate] Duplicated and selected ${G.length} elements`)}catch(W){console.error(" [Duplicate] Failed to duplicate elements:",W)}},[c,u,l,a,i,o]),I=x.useCallback(()=>{const z=l();if(!z){console.warn("[SelectAll] No page selected");return}const j=Pe.getState().getPageElements,H=j(z);if(H.length===0){console.warn("[SelectAll] No elements on current page");return}const W=H.map(O=>O.id);o(W),console.log(` [SelectAll] Selected ${W.length} elements`)},[l,o]),D=x.useCallback(()=>{n(null),console.log(" [Esc] Selection cleared")},[n]),T=x.useCallback(z=>{const j=c(),H=u();if(!j||H.length===0)return;z.preventDefault();const W=H.indexOf(t?.id||"");let O;z.shiftKey?O=W<=0?H.length-1:W-1:O=W>=H.length-1?0:W+1;const G=H[O],J=a().get(G);J&&(n(G,J.props),console.log(` [Tab] Navigated to element ${O+1}/${H.length}:`,J.tag))},[c,u,t,a,n]),M=x.useCallback(async()=>{const z=c(),j=u(),H=l();if(!z||j.length<2||!H){console.warn("[Group] Need at least 2 elements selected");return}try{console.log("[Group] Grouping",j.length,"elements");const W=a(),{groupElement:O,updatedChildren:G}=Lce(j,W,H);await i(O),await Promise.all(G.map(async q=>{await s(q.id,{parent_id:q.parent_id,order_num:q.order_num});const{error:J}=await bi.from("elements").update({parent_id:q.parent_id,order_num:q.order_num,updated_at:new Date().toISOString()}).eq("id",q.id);J?console.error(` [Group] Failed to save child ${q.id} to DB:`,J):console.log(` [Group] Saved child ${q.id} to DB: parent_id=${q.parent_id}`)})),zce(O,G),n(O.id,O.props),console.log(` [Group] Created group ${O.id} with ${G.length} children`)}catch(W){console.error(" [Group] Failed to create group:",W)}},[c,u,l,a,i,s,n]),P=x.useCallback(async()=>{if(!t||t.type!=="Group"){console.warn("[Ungroup] Selected element is not a Group");return}try{console.log("[Ungroup] Ungrouping element",t.id);const z=a(),j=z.get(t.id),{updatedChildren:H,groupIdToDelete:W}=MVe(t.id,z);j&&FVe(W,H,j),await Promise.all(H.map(async O=>{await s(O.id,{parent_id:O.parent_id,order_num:O.order_num});const{error:G}=await bi.from("elements").update({parent_id:O.parent_id,order_num:O.order_num,updated_at:new Date().toISOString()}).eq("id",O.id);G?console.error(` [Ungroup] Failed to save child ${O.id} to DB:`,G):console.log(` [Ungroup] Saved child ${O.id} to DB: parent_id=${O.parent_id}`)})),await e(W),H.length>0?n(H[0].id,H[0].props):n(null),console.log(` [Ungroup] Ungrouped ${H.length} elements`)}catch(z){console.error(" [Ungroup] Failed to ungroup:",z)}},[t,a,s,e,n]),k=x.useCallback(async z=>{const j=c(),H=u();if(!j||H.length<2){console.warn("[Alignment] Need at least 2 elements selected");return}try{console.log(`[Alignment] Aligning ${H.length} elements to ${z}`);const W=a(),O=Fce(H,W,z);if(O.length===0){console.warn("[Alignment] No updates generated");return}const G={};O.forEach(q=>{G[q.id]=q.style}),__(H,G,W),await Promise.all(O.map(q=>{const J=W.get(q.id);if(J){const te={...J.props.style||{},...q.style};return r(q.id,{style:te})}return Promise.resolve()})),console.log(` [Alignment] Aligned ${O.length} elements to ${z}`)}catch(W){console.error(" [Alignment] Failed to align:",W)}},[c,u,a,r]),L=x.useCallback(async z=>{const j=c(),H=u();if(!j||H.length<3){console.warn("[Distribution] Need at least 3 elements selected");return}try{console.log(`[Distribution] Distributing ${H.length} elements ${z}ly`);const W=a(),O=$ce(H,W,z);if(O.length===0){console.warn("[Distribution] No updates generated");return}const G={};O.forEach(q=>{G[q.id]=q.style}),__(H,G,W),await Promise.all(O.map(q=>{const J=W.get(q.id);if(J){const te={...J.props.style||{},...q.style};return r(q.id,{style:te})}return Promise.resolve()})),console.log(` [Distribution] Distributed ${O.length} elements ${z}ly`)}catch(W){console.error(" [Distribution] Failed to distribute:",W)}},[c,u,a,r]),$=x.useMemo(()=>[{key:"c",modifier:"cmdShift",handler:v,description:"Copy Properties"},{key:"v",modifier:"cmdShift",handler:y,description:"Paste Properties"},{key:"c",modifier:"cmd",handler:A,description:"Copy All Elements"},{key:"v",modifier:"cmd",handler:C,description:"Paste Elements"},{key:"d",modifier:"cmd",handler:E,description:"Duplicate Selection"},{key:"a",modifier:"cmd",handler:I,description:"Select All"},{key:"Escape",modifier:"none",handler:D,description:"Clear Selection"},{key:"g",modifier:"cmd",handler:M,description:"Group Selection"},{key:"g",modifier:"cmdShift",handler:P,description:"Ungroup Selection"},{key:"l",modifier:"cmdShift",handler:()=>k("left"),description:"Align Left"},{key:"h",modifier:"cmdShift",handler:()=>k("center"),description:"Align Horizontal Center"},{key:"r",modifier:"cmdShift",handler:()=>k("right"),description:"Align Right"},{key:"t",modifier:"cmdShift",handler:()=>k("top"),description:"Align Top"},{key:"m",modifier:"cmdShift",handler:()=>k("middle"),description:"Align Vertical Middle"},{key:"b",modifier:"cmdShift",handler:()=>k("bottom"),description:"Align Bottom"},{key:"d",modifier:"cmdShift",handler:()=>L("horizontal"),description:"Distribute Horizontally"},{key:"v",modifier:"altShift",handler:()=>L("vertical"),description:"Distribute Vertically"},{key:"?",modifier:"cmd",handler:()=>f(z=>!z),description:"Toggle Keyboard Shortcuts Help"}],[v,y,A,C,E,I,D,M,P,k,L]);return Hx($,[v,y,A,C,E,I,D,M,P,k,L]),x.useEffect(()=>{const z=j=>{const H=Pe.getState().multiSelectMode||!1,W=Pe.getState().selectedElementIds||[];j.key==="Tab"&&H&&W.length>0&&T(j)};return window.addEventListener("keydown",z),()=>window.removeEventListener("keydown",z)},[T]),t?h.jsxs("div",{className:"panel",children:[h.jsx(Uu,{icon:h.jsx(eS,{size:ce.size}),title:t.type,actions:h.jsxs(h.Fragment,{children:[h.jsx(Kn,{variant:"ghost",className:"iconButton",onPress:v,"aria-label":"Copy properties",isDisabled:!t?.properties||Object.keys(t.properties).length===0,children:h.jsx(gF,{color:ce.color,size:ce.size,strokeWidth:ce.strokeWidth})}),h.jsx(Kn,{variant:"ghost",className:"iconButton",onPress:y,"aria-label":"Paste properties",children:h.jsx(fF,{color:ce.color,size:ce.size,strokeWidth:ce.strokeWidth})})]})}),h.jsxs("div",{className:"panel-contents",children:[h.jsx(jVe,{selectedElement:t,onSetSelectedElement:n,onSetSelectedElements:o}),h.jsx(zVe,{selectedElement:t}),h.jsx(tL,{elementId:t.id,currentSlotName:t.properties?.slot_name,onSlotChange:z=>{Pe.getState().updateSelectedProperties({slot_name:z})}}),h.jsx(pQe,{isOpen:d,onClose:()=>f(!1)})]})]}):h.jsx(Pa,{message:" "})}const UVe=typeof requestIdleCallback<"u"?requestIdleCallback:(t,e)=>{const n=Date.now();return window.setTimeout(()=>{t({didTimeout:!1,timeRemaining:()=>Math.max(0,50-(Date.now()-n))})},e?.timeout??1)},pP=typeof cancelIdleCallback<"u"?cancelIdleCallback:t=>{clearTimeout(t)};function XT(){const[t,e]=x.useTransition(),n=x.useRef(null),r=x.useRef(null),i=x.useRef(null);x.useEffect(()=>()=>{n.current!==null&&cancelAnimationFrame(n.current),r.current!==null&&pP(r.current)},[]);const s=x.useCallback(()=>{n.current!==null&&(cancelAnimationFrame(n.current),n.current=null),r.current!==null&&(pP(r.current),r.current=null),i.current=null},[]),o=x.useCallback((d,f)=>{s(),Pe.getState().updateSelectedStyle(d,f)},[s]),a=x.useCallback((d,f)=>{i.current={property:d,value:f},n.current===null&&(n.current=requestAnimationFrame(()=>{const p=i.current;p&&Pe.getState().updateSelectedStyle(p.property,p.value),n.current=null,i.current=null}))},[]),l=x.useCallback((d,f)=>{i.current={property:d,value:f},r.current!==null&&pP(r.current),r.current=UVe(()=>{const p=i.current;p&&Pe.getState().updateSelectedStyle(p.property,p.value),r.current=null,i.current=null},{timeout:100})},[]),u=x.useCallback(d=>{s(),Pe.getState().updateSelectedStyles(d)},[s]),c=x.useCallback(d=>{e(()=>{Pe.getState().updateSelectedStyles(d)})},[e]);return{isPending:t,updateStyleImmediate:o,updateStyleRAF:a,updateStyleIdle:l,updateStylesImmediate:u,updateStylesTransition:c,cancelPendingUpdates:s}}const w0={BASE_URL:"/xstudio/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_CANVAS_COMPARE_MODE:"false",VITE_SUPABASE_ANON_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImxpbHhwc2N3aXFnZ3htZHJvc2huIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTU0NzI1NjYsImV4cCI6MjA3MTA0ODU2Nn0.XhCb-gSV9IM8w355prG4ebgKFHU4yasR3eXg3dr7_60",VITE_SUPABASE_URL:"https://lilxpscwiqggxmdroshn.supabase.co",VITE_USE_WEBGL_CANVAS:"true"};function Oce(t){return"init"in t}function rL(t){return!!t.write}function FU(t){return"v"in t||"e"in t}function PD(t){if("e"in t)throw t.e;if((w0?"production":void 0)!=="production"&&!("v"in t))throw new Error("[Bug] atom state is not initialized");return t.v}const RD=new WeakMap;function jce(t){var e;return ND(t)&&!!((e=RD.get(t))!=null&&e[0])}function HVe(t){const e=RD.get(t);e?.[0]&&(e[0]=!1,e[1].forEach(n=>n()))}function iL(t,e){let n=RD.get(t);if(!n){n=[!0,new Set],RD.set(t,n);const r=()=>{n[0]=!1};t.then(r,r)}n[1].add(e)}function ND(t){return typeof t?.then=="function"}function Qce(t,e,n){if(!n.p.has(t)){n.p.add(t);const r=()=>n.p.delete(t);e.then(r,r)}}function Uce(t,e,n){var r;const i=new Set;for(const s of((r=n.get(t))==null?void 0:r.t)||[])i.add(s);for(const s of e.p)i.add(s);return i}const VVe=(t,e,...n)=>e.read(...n),GVe=(t,e,...n)=>e.write(...n),KVe=(t,e)=>{if(e.INTERNAL_onInit)return e.INTERNAL_onInit(t);if(e.unstable_onInit)return console.warn("[DEPRECATED] atom.unstable_onInit is renamed to atom.INTERNAL_onInit."),e.unstable_onInit(t)},WVe=(t,e,n)=>{var r;return(r=e.onMount)==null?void 0:r.call(e,n)},qVe=(t,e)=>{var n;const r=ju(t),i=r[0],s=r[6],o=r[9];if((w0?"production":void 0)!=="production"&&!e)throw new Error("Atom is undefined or null");let a=i.get(e);return a||(a={d:new Map,p:new Set,n:0},i.set(e,a),(n=s.i)==null||n.call(s,e),o?.(t,e)),a},YVe=t=>{const e=ju(t),n=e[1],r=e[3],i=e[4],s=e[5],o=e[6],a=e[13],l=[],u=c=>{try{c()}catch(d){l.push(d)}};do{o.f&&u(o.f);const c=new Set,d=c.add.bind(c);r.forEach(f=>{var p;return(p=n.get(f))==null?void 0:p.l.forEach(d)}),r.clear(),s.forEach(d),s.clear(),i.forEach(d),i.clear(),c.forEach(u),r.size&&a(t)}while(r.size||s.size||i.size);if(l.length)throw new AggregateError(l)},XVe=t=>{const e=ju(t),n=e[1],r=e[2],i=e[3],s=e[11],o=e[14],a=e[17],l=[],u=new WeakSet,c=new WeakSet,d=Array.from(i);for(;d.length;){const f=d[d.length-1],p=s(t,f);if(c.has(f)){d.pop();continue}if(u.has(f)){if(r.get(f)===p.n)l.push([f,p]);else if((w0?"production":void 0)!=="production"&&r.has(f))throw new Error("[Bug] invalidated atom exists");c.add(f),d.pop();continue}u.add(f);for(const m of Uce(f,p,n))u.has(m)||d.push(m)}for(let f=l.length-1;f>=0;--f){const[p,m]=l[f];let v=!1;for(const y of m.d.keys())if(y!==p&&i.has(y)){v=!0;break}v&&(o(t,p),a(t,p)),r.delete(p)}},sL=new WeakSet,JVe=(t,e)=>{var n,r;const i=ju(t),s=i[1],o=i[2],a=i[3],l=i[6],u=i[7],c=i[11],d=i[12],f=i[13],p=i[14],m=i[16],v=i[17],y=c(t,e);if(FU(y)){if(s.has(e)&&o.get(e)!==y.n)return y;let P=!1;for(const[k,L]of y.d)if(p(t,k).n!==L){P=!0;break}if(!P)return y}y.d.clear();let A=!0;function C(){s.has(e)&&(v(t,e),f(t),d(t))}function E(P){var k;if(P===e){const $=c(t,P);if(!FU($))if(Oce(P))LD(t,P,P.init);else throw new Error("no atom init");return PD($)}const L=p(t,P);try{return PD(L)}finally{y.d.set(P,L.n),jce(y.v)&&Qce(e,y.v,L),s.has(e)&&((k=s.get(P))==null||k.t.add(e)),A||C()}}let I,D;const T={get signal(){return I||(I=new AbortController),I.signal},get setSelf(){return(w0?"production":void 0)!=="production"&&!rL(e)&&console.warn("setSelf function cannot be used with read-only atom"),!D&&rL(e)&&(D=(...P)=>{if((w0?"production":void 0)!=="production"&&A&&console.warn("setSelf function cannot be called in sync"),!A)try{return m(t,e,...P)}finally{f(t),d(t)}}),D}},M=y.n;try{(w0?"production":void 0)!=="production"&&sL.delete(t);const P=u(t,e,E,T);return(w0?"production":void 0)!=="production"&&sL.has(t)&&console.warn("Detected store mutation during atom read. This is not supported."),LD(t,e,P),ND(P)&&(iL(P,()=>I?.abort()),P.then(C,C)),(n=l.r)==null||n.call(l,e),y}catch(P){return delete y.v,y.e=P,++y.n,y}finally{A=!1,M!==y.n&&o.get(e)===M&&(o.set(e,y.n),a.add(e),(r=l.c)==null||r.call(l,e))}},ZVe=(t,e)=>{const n=ju(t),r=n[1],i=n[2],s=n[11],o=[e];for(;o.length;){const a=o.pop(),l=s(t,a);for(const u of Uce(a,l,r)){const c=s(t,u);i.set(u,c.n),o.push(u)}}},Hce=(t,e,...n)=>{const r=ju(t),i=r[3],s=r[6],o=r[8],a=r[11],l=r[12],u=r[13],c=r[14],d=r[15],f=r[17];let p=!0;const m=y=>PD(c(t,y)),v=(y,...A)=>{var C;const E=a(t,y);try{if(y===e){if(!Oce(y))throw new Error("atom not writable");(w0?"production":void 0)!=="production"&&sL.add(t);const I=E.n,D=A[0];LD(t,y,D),f(t,y),I!==E.n&&(i.add(y),d(t,y),(C=s.c)==null||C.call(s,y));return}else return Hce(t,y,...A)}finally{p||(u(t),l(t))}};try{return o(t,e,m,v,...n)}finally{p=!1}},eGe=(t,e)=>{var n;const r=ju(t),i=r[1],s=r[3],o=r[6],a=r[11],l=r[15],u=r[18],c=r[19],d=a(t,e),f=i.get(e);if(f&&!jce(d.v)){for(const[p,m]of d.d)if(!f.d.has(p)){const v=a(t,p);u(t,p).t.add(e),f.d.add(p),m!==v.n&&(s.add(p),l(t,p),(n=o.c)==null||n.call(o,p))}for(const p of f.d)if(!d.d.has(p)){f.d.delete(p);const m=c(t,p);m?.t.delete(e)}}},Vce=(t,e)=>{var n;const r=ju(t),i=r[1],s=r[4],o=r[6],a=r[10],l=r[11],u=r[12],c=r[13],d=r[14],f=r[16],p=l(t,e);let m=i.get(e);if(!m){d(t,e);for(const v of p.d.keys())Vce(t,v).t.add(e);if(m={l:new Set,d:new Set(p.d.keys()),t:new Set},i.set(e,m),rL(e)){const v=()=>{let y=!0;const A=(...C)=>{try{return f(t,e,...C)}finally{y||(c(t),u(t))}};try{const C=a(t,e,A);C&&(m.u=()=>{y=!0;try{C()}finally{y=!1}})}finally{y=!1}};s.add(v)}(n=o.m)==null||n.call(o,e)}return m},tGe=(t,e)=>{var n,r;const i=ju(t),s=i[1],o=i[5],a=i[6],l=i[11],u=i[19],c=l(t,e);let d=s.get(e);if(!d||d.l.size)return d;let f=!1;for(const p of d.t)if((n=s.get(p))!=null&&n.d.has(e)){f=!0;break}if(!f){d.u&&o.add(d.u),d=void 0,s.delete(e);for(const p of c.d.keys()){const m=u(t,p);m?.t.delete(e)}(r=a.u)==null||r.call(a,e);return}return d},LD=(t,e,n)=>{const r=ju(t)[11],i=r(t,e),s="v"in i,o=i.v;if(ND(n))for(const a of i.d.keys())Qce(e,n,r(t,a));i.v=n,delete i.e,(!s||!Object.is(o,i.v))&&(++i.n,ND(o)&&HVe(o))},nGe=(t,e)=>{const n=ju(t)[14];return PD(n(t,e))},rGe=(t,e,...n)=>{const r=ju(t),i=r[12],s=r[13],o=r[16];try{return o(t,e,...n)}finally{s(t),i(t)}},iGe=(t,e,n)=>{const r=ju(t),i=r[12],s=r[18],o=r[19],l=s(t,e).l;return l.add(n),i(t),()=>{l.delete(n),o(t,e),i(t)}},Gce=new WeakMap,ju=t=>{const e=Gce.get(t);if((w0?"production":void 0)!=="production"&&!e)throw new Error("Store must be created by buildStore to read its building blocks");return e};function sGe(...t){const e={get(r){const i=ju(e)[21];return i(e,r)},set(r,...i){const s=ju(e)[22];return s(e,r,...i)},sub(r,i){const s=ju(e)[23];return s(e,r,i)}},n=[new WeakMap,new WeakMap,new WeakMap,new Set,new Set,new Set,{},VVe,GVe,KVe,WVe,qVe,YVe,XVe,JVe,ZVe,Hce,eGe,Vce,tGe,LD,nGe,rGe,iGe,void 0].map((r,i)=>t[i]||r);return Gce.set(e,Object.freeze(n)),e}const Kce={};let oGe=0;function JT(t,e){const n=`atom${++oGe}`,r={toString(){return(Kce?"production":void 0)!=="production"&&this.debugLabel?n+":"+this.debugLabel:n}};return typeof t=="function"?r.read=t:(r.init=t,r.read=aGe,r.write=lGe),r}function aGe(t){return t(this)}function lGe(t,e,n){return e(this,typeof n=="function"?n(t(this)):n)}function uGe(){return sGe()}let mw;function cGe(){return mw||(mw=uGe(),(Kce?"production":void 0)!=="production"&&(globalThis.__JOTAI_DEFAULT_STORE__||(globalThis.__JOTAI_DEFAULT_STORE__=mw),globalThis.__JOTAI_DEFAULT_STORE__!==mw&&console.warn("Detected multiple Jotai instances. It may cause unexpected behavior with the default store. https://github.com/pmndrs/jotai/discussions/2044"))),mw}const dGe={},hGe=x.createContext(void 0);function Wce(t){return x.useContext(hGe)||cGe()}const oL=t=>typeof t?.then=="function",aL=t=>{t.status||(t.status="pending",t.then(e=>{t.status="fulfilled",t.value=e},e=>{t.status="rejected",t.reason=e}))},fGe=xe.use||(t=>{if(t.status==="pending")throw t;if(t.status==="fulfilled")return t.value;throw t.status==="rejected"?t.reason:(aL(t),t)}),gP=new WeakMap,$U=(t,e)=>{let n=gP.get(t);return n||(n=new Promise((r,i)=>{let s=t;const o=u=>c=>{s===u&&r(c)},a=u=>c=>{s===u&&i(c)},l=()=>{try{const u=e();oL(u)?(gP.set(u,n),s=u,u.then(o(u),a(u)),iL(u,l)):r(u)}catch(u){i(u)}};t.then(o(t),a(t)),iL(t,l)}),gP.set(t,n)),n};function pf(t,e){const{delay:n,unstable_promiseStatus:r=!xe.use}={},i=Wce(),[[s,o,a],l]=x.useReducer(c=>{const d=i.get(t);return Object.is(c[0],d)&&c[1]===i&&c[2]===t?c:[d,i,t]},void 0,()=>[i.get(t),i,t]);let u=s;if((o!==i||a!==t)&&(l(),u=i.get(t)),x.useEffect(()=>{const c=i.sub(t,()=>{if(r)try{const d=i.get(t);oL(d)&&aL($U(d,()=>i.get(t)))}catch{}if(typeof n=="number"){setTimeout(l,n);return}l()});return l(),c},[i,t,n,r]),x.useDebugValue(u),oL(u)){const c=$U(u,()=>i.get(t));return r&&aL(c),fGe(c)}return u}function pGe(t,e){const n=Wce();return x.useCallback((...i)=>{if((dGe?"production":void 0)!=="production"&&!("write"in t))throw new Error("not writable atom");return n.set(t,...i)},[n,t])}const gGe={},mP=(t,e,n)=>(e.has(n)?e:e.set(n,t())).get(n),mGe=new WeakMap,AGe=(t,e,n,r)=>{const i=mP(()=>new WeakMap,mGe,e),s=mP(()=>new WeakMap,i,n);return mP(t,s,r)};function Ar(t,e,n=Object.is){return AGe(()=>{const r=Symbol(),i=([o,a])=>{if(a===r)return e(o);const l=e(o,a);return n(a,l)?a:l},s=JT(o=>{const a=o(s),l=o(t);return i([l,a])});return s.init=r,s},t,e,n)}const yGe=t=>typeof t?.then=="function";function vGe(t=()=>{try{return window.localStorage}catch(n){(gGe?"production":void 0)!=="production"&&typeof window<"u"&&console.warn(n);return}},e){var n;let r,i;const s={getItem:(l,u)=>{var c,d;const f=m=>{if(m=m||"",r!==m){try{i=JSON.parse(m,e?.reviver)}catch{return u}r=m}return i},p=(d=(c=t())==null?void 0:c.getItem(l))!=null?d:null;return yGe(p)?p.then(f):f(p)},setItem:(l,u)=>{var c;return(c=t())==null?void 0:c.setItem(l,JSON.stringify(u,void 0))},removeItem:l=>{var u;return(u=t())==null?void 0:u.removeItem(l)}},o=l=>(u,c,d)=>l(u,f=>{let p;try{p=JSON.parse(f||"")}catch{p=d}c(p)});let a;try{a=(n=t())==null?void 0:n.subscribe}catch{}return!a&&typeof window<"u"&&typeof window.addEventListener=="function"&&window.Storage&&(a=(l,u)=>{if(!(t()instanceof window.Storage))return()=>{};const c=d=>{d.storageArea===t()&&d.key===l&&u(d.newValue)};return window.addEventListener("storage",c),()=>{window.removeEventListener("storage",c)}}),a&&(s.subscribe=o(a)),s}vGe();const ir=JT(null);JT(t=>t(ir)?.style??null);JT(t=>t(ir)?.computedStyle??null);Ar(ir,t=>t?.style?.width??"auto",(t,e)=>t===e);Ar(ir,t=>t?.style?.height??"auto",(t,e)=>t===e);Ar(ir,t=>t?.style?.top??"auto",(t,e)=>t===e);Ar(ir,t=>t?.style?.left??"auto",(t,e)=>t===e);const bGe=Ar(ir,t=>t?{width:String(t.style?.width??"auto"),height:String(t.style?.height??"auto"),top:String(t.style?.top??"auto"),left:String(t.style?.left??"auto")}:null,(t,e)=>t===null&&e===null?!0:t===null||e===null?!1:t.width===e.width&&t.height===e.height&&t.top===e.top&&t.left===e.left);Ar(ir,t=>{const e=t?.style?.display,n=t?.computedStyle?.display;return String(e??n??"block")},(t,e)=>t===e);Ar(ir,t=>String(t?.style?.flexDirection??t?.computedStyle?.flexDirection??"row"),(t,e)=>t===e);Ar(ir,t=>String(t?.style?.alignItems??t?.computedStyle?.alignItems??""),(t,e)=>t===e);Ar(ir,t=>String(t?.style?.justifyContent??t?.computedStyle?.justifyContent??""),(t,e)=>t===e);Ar(ir,t=>String(t?.style?.gap??t?.computedStyle?.gap??"0px"),(t,e)=>t===e);Ar(ir,t=>String(t?.style?.flexWrap??t?.computedStyle?.flexWrap??"nowrap"),(t,e)=>t===e);Ar(ir,t=>String(t?.style?.padding??t?.computedStyle?.padding??"0px"),(t,e)=>t===e);Ar(ir,t=>String(t?.style?.paddingTop??t?.computedStyle?.paddingTop??"0px"),(t,e)=>t===e);Ar(ir,t=>String(t?.style?.paddingRight??t?.computedStyle?.paddingRight??"0px"),(t,e)=>t===e);Ar(ir,t=>String(t?.style?.paddingBottom??t?.computedStyle?.paddingBottom??"0px"),(t,e)=>t===e);Ar(ir,t=>String(t?.style?.paddingLeft??t?.computedStyle?.paddingLeft??"0px"),(t,e)=>t===e);Ar(ir,t=>String(t?.style?.margin??t?.computedStyle?.margin??"0px"),(t,e)=>t===e);Ar(ir,t=>String(t?.style?.marginTop??t?.computedStyle?.marginTop??"0px"),(t,e)=>t===e);Ar(ir,t=>String(t?.style?.marginRight??t?.computedStyle?.marginRight??"0px"),(t,e)=>t===e);Ar(ir,t=>String(t?.style?.marginBottom??t?.computedStyle?.marginBottom??"0px"),(t,e)=>t===e);Ar(ir,t=>String(t?.style?.marginLeft??t?.computedStyle?.marginLeft??"0px"),(t,e)=>t===e);const xGe=Ar(ir,t=>{if(!t)return null;const e=t.style??{},n=t.computedStyle??{};return{display:String(e.display??n.display??"block"),flexDirection:String(e.flexDirection??n.flexDirection??"row"),alignItems:String(e.alignItems??n.alignItems??""),justifyContent:String(e.justifyContent??n.justifyContent??""),gap:String(e.gap??n.gap??"0px"),flexWrap:String(e.flexWrap??n.flexWrap??"nowrap"),padding:String(e.padding??n.padding??"0px"),paddingTop:String(e.paddingTop??n.paddingTop??"0px"),paddingRight:String(e.paddingRight??n.paddingRight??"0px"),paddingBottom:String(e.paddingBottom??n.paddingBottom??"0px"),paddingLeft:String(e.paddingLeft??n.paddingLeft??"0px"),margin:String(e.margin??n.margin??"0px"),marginTop:String(e.marginTop??n.marginTop??"0px"),marginRight:String(e.marginRight??n.marginRight??"0px"),marginBottom:String(e.marginBottom??n.marginBottom??"0px"),marginLeft:String(e.marginLeft??n.marginLeft??"0px")}},(t,e)=>t===null&&e===null?!0:t===null||e===null?!1:t.display===e.display&&t.flexDirection===e.flexDirection&&t.alignItems===e.alignItems&&t.justifyContent===e.justifyContent&&t.gap===e.gap&&t.flexWrap===e.flexWrap&&t.padding===e.padding&&t.paddingTop===e.paddingTop&&t.paddingRight===e.paddingRight&&t.paddingBottom===e.paddingBottom&&t.paddingLeft===e.paddingLeft&&t.margin===e.margin&&t.marginTop===e.marginTop&&t.marginRight===e.marginRight&&t.marginBottom===e.marginBottom&&t.marginLeft===e.marginLeft);Ar(ir,t=>String(t?.style?.backgroundColor??t?.computedStyle?.backgroundColor??"#FFFFFF"),(t,e)=>t===e);Ar(ir,t=>String(t?.style?.borderColor??t?.computedStyle?.borderColor??"#000000"),(t,e)=>t===e);Ar(ir,t=>String(t?.style?.borderWidth??t?.computedStyle?.borderWidth??"0px"),(t,e)=>t===e);Ar(ir,t=>String(t?.style?.borderRadius??t?.computedStyle?.borderRadius??"0px"),(t,e)=>t===e);Ar(ir,t=>String(t?.style?.borderStyle??t?.computedStyle?.borderStyle??"solid"),(t,e)=>t===e);const CGe=Ar(ir,t=>{if(!t)return null;const e=t.style??{},n=t.computedStyle??{};return{backgroundColor:String(e.backgroundColor??n.backgroundColor??"#FFFFFF"),borderColor:String(e.borderColor??n.borderColor??"#000000"),borderWidth:String(e.borderWidth??n.borderWidth??"0px"),borderRadius:String(e.borderRadius??n.borderRadius??"0px"),borderStyle:String(e.borderStyle??n.borderStyle??"solid")}},(t,e)=>t===null&&e===null?!0:t===null||e===null?!1:t.backgroundColor===e.backgroundColor&&t.borderColor===e.borderColor&&t.borderWidth===e.borderWidth&&t.borderRadius===e.borderRadius&&t.borderStyle===e.borderStyle);Ar(ir,t=>String(t?.style?.fontFamily??t?.computedStyle?.fontFamily??"Arial"),(t,e)=>t===e);Ar(ir,t=>String(t?.style?.fontSize??t?.computedStyle?.fontSize??"16px"),(t,e)=>t===e);Ar(ir,t=>String(t?.style?.fontWeight??t?.computedStyle?.fontWeight??"normal"),(t,e)=>t===e);Ar(ir,t=>String(t?.style?.fontStyle??t?.computedStyle?.fontStyle??"normal"),(t,e)=>t===e);Ar(ir,t=>String(t?.style?.lineHeight??t?.computedStyle?.lineHeight??"normal"),(t,e)=>t===e);Ar(ir,t=>String(t?.style?.letterSpacing??t?.computedStyle?.letterSpacing??"normal"),(t,e)=>t===e);Ar(ir,t=>String(t?.style?.color??t?.computedStyle?.color??"#000000"),(t,e)=>t===e);Ar(ir,t=>String(t?.style?.textAlign??t?.computedStyle?.textAlign??"left"),(t,e)=>t===e);Ar(ir,t=>String(t?.style?.textDecoration??t?.computedStyle?.textDecoration??"none"),(t,e)=>t===e);Ar(ir,t=>String(t?.style?.textTransform??t?.computedStyle?.textTransform??"none"),(t,e)=>t===e);Ar(ir,t=>String(t?.style?.verticalAlign??t?.computedStyle?.verticalAlign??"baseline"),(t,e)=>t===e);const EGe=Ar(ir,t=>{if(!t)return null;const e=t.style??{},n=t.computedStyle??{};return{fontFamily:String(e.fontFamily??n.fontFamily??"Arial"),fontSize:String(e.fontSize??n.fontSize??"16px"),fontWeight:String(e.fontWeight??n.fontWeight??"normal"),fontStyle:String(e.fontStyle??n.fontStyle??"normal"),lineHeight:String(e.lineHeight??n.lineHeight??"normal"),letterSpacing:String(e.letterSpacing??n.letterSpacing??"normal"),color:String(e.color??n.color??"#000000"),textAlign:String(e.textAlign??n.textAlign??"left"),textDecoration:String(e.textDecoration??n.textDecoration??"none"),textTransform:String(e.textTransform??n.textTransform??"none"),verticalAlign:String(e.verticalAlign??n.verticalAlign??"baseline")}},(t,e)=>t===null&&e===null?!0:t===null||e===null?!1:t.fontFamily===e.fontFamily&&t.fontSize===e.fontSize&&t.fontWeight===e.fontWeight&&t.fontStyle===e.fontStyle&&t.lineHeight===e.lineHeight&&t.letterSpacing===e.letterSpacing&&t.color===e.color&&t.textAlign===e.textAlign&&t.textDecoration===e.textDecoration&&t.textTransform===e.textTransform&&t.verticalAlign===e.verticalAlign),SGe=Ar(ir,t=>{if(!t)return["block"];const e=t.style??{},n=t.computedStyle??{},r=String(e.display??n.display??"block"),i=String(e.flexDirection??n.flexDirection??"row");return r!=="flex"?["block"]:i==="column"?["column"]:["row"]},(t,e)=>t.length===e.length&&t.every((n,r)=>n===e[r])),wGe=Ar(ir,t=>{if(!t)return[];const e=t.style??{},n=t.computedStyle??{};if(String(e.display??n.display??"block")!=="flex")return[];const i=String(e.alignItems??n.alignItems??""),s=String(e.justifyContent??n.justifyContent??""),o=String(e.flexDirection??n.flexDirection??"row"),a={"flex-start":"Top",start:"Top",center:"Center","flex-end":"Bottom",end:"Bottom"},l={"flex-start":"left",start:"left",center:"center","flex-end":"right",end:"right"},u=a[i]||"",c=l[s]||"";return!u&&!c?[]:o==="column"?[`${c}${u}`]:[`${c}${u}`]},(t,e)=>t.length===e.length&&t.every((n,r)=>n===e[r])),_Ge=Ar(ir,t=>{if(!t)return[];const e=t.style??{},n=t.computedStyle??{},r=String(e.justifyContent??n.justifyContent??"");return["space-around","space-between","space-evenly"].includes(r)?[r]:[]},(t,e)=>t.length===e.length&&t.every((n,r)=>n===e[r])),IGe=Ar(ir,t=>{if(!t)return["nowrap"];const e=t.style??{},n=t.computedStyle??{};return[String(e.flexWrap??n.flexWrap??"nowrap")]},(t,e)=>t.length===e.length&&t.every((n,r)=>n===e[r])),BGe=Ar(ir,t=>t!==null,(t,e)=>t===e),DGe=Ar(ir,t=>t?.style??null,(t,e)=>{if(t===null&&e===null)return!0;if(t===null||e===null)return!1;const n=Object.keys(t),r=Object.keys(e);return n.length!==r.length?!1:n.every(i=>t[i]===e[i])}),TGe=Ar(ir,t=>t?.style?Object.keys(t.style).filter(e=>t.style[e]!==void 0).length:0,(t,e)=>t===e),MGe=Ar(ir,t=>t?.style?Object.keys(t.style).length===0:!0,(t,e)=>t===e);function kGe(){return pf(bGe)}function ZT(){return x.useCallback(e=>{const n={};e.forEach(r=>n[r]=""),Pe.getState().updateSelectedStyles(n)},[])}const PGe=x.memo(function(){const{updateStyleImmediate:e,updateStyleRAF:n}=XT(),r=kGe();return r?h.jsxs(h.Fragment,{children:[h.jsx(nh,{icon:ON,label:"Width",className:"width",value:r.width,units:["reset","px","%","rem","em","vh","vw"],onChange:i=>e("width",i),onDrag:i=>n("width",i),min:0,max:9999}),h.jsx(nh,{icon:ON,label:"Height",className:"height",value:r.height,units:["reset","px","%","rem","em","vh","vw"],onChange:i=>e("height",i),onDrag:i=>n("height",i),min:0,max:9999}),h.jsx("div",{className:"fieldset-actions actions-size",children:h.jsx(Kn,{children:h.jsx(ky,{color:ce.color,size:ce.size,strokeWidth:ce.strokeWidth})})}),h.jsx(nh,{icon:MAe,label:"Left",className:"left",value:r.left,units:["reset","px","%","rem","em","vh","vw"],onChange:i=>e("left",i),onDrag:i=>n("left",i),min:-9999,max:9999}),h.jsx(nh,{icon:IAe,label:"Top",className:"top",value:r.top,units:["reset","px","%","rem","em","vh","vw"],onChange:i=>e("top",i),onDrag:i=>n("top",i),min:-9999,max:9999}),h.jsx("div",{className:"fieldset-actions actions-position",children:h.jsx(Kn,{children:h.jsx(ky,{color:ce.color,size:ce.size,strokeWidth:ce.strokeWidth})})})]}):null}),RGe=x.memo(function(){const e=ZT(),n=()=>{e(["width","height","top","left"])};return h.jsx(Sc,{id:"transform",title:"Transform",onReset:n,children:h.jsx(PGe,{})})});function A4(){const{copy:t,paste:e}=UT({onPaste:p=>{const m={};Object.entries(p).forEach(([v,y])=>{y!=null&&(m[v]=String(y))}),Pe.getState().updateSelectedStyles(m)},name:"styles"}),n=x.useCallback((p,m)=>{Pe.getState().updateSelectedStyle(p,m)},[]),r=x.useCallback(p=>{Pe.getState().updateSelectedStyles(p)},[]),i=x.useCallback(p=>{const m={"align-vertical-start":"flex-start","align-vertical-center":"center","align-vertical-end":"flex-end"};Pe.getState().updateSelectedStyles({display:"flex",alignItems:m[p]||"flex-start"})},[]),s=x.useCallback(p=>{const m={"align-horizontal-start":"flex-start","align-horizontal-center":"center","align-horizontal-end":"flex-end"};Pe.getState().updateSelectedStyles({display:"flex",justifyContent:m[p]||"flex-start"})},[]),o=x.useCallback(p=>{p==="block"?Pe.getState().updateSelectedStyles({display:"block",flexDirection:"",justifyContent:"",alignItems:"",flexWrap:"",gap:""}):p==="row"?Pe.getState().updateSelectedStyles({display:"flex",flexDirection:"row"}):p==="column"&&Pe.getState().updateSelectedStyles({display:"flex",flexDirection:"column"})},[]),a=x.useCallback((p,m)=>{const y={leftTop:{horizontal:"flex-start",vertical:"flex-start"},centerTop:{horizontal:"center",vertical:"flex-start"},rightTop:{horizontal:"flex-end",vertical:"flex-start"},leftCenter:{horizontal:"flex-start",vertical:"center"},centerCenter:{horizontal:"center",vertical:"center"},rightCenter:{horizontal:"flex-end",vertical:"center"},leftBottom:{horizontal:"flex-start",vertical:"flex-end"},centerBottom:{horizontal:"center",vertical:"flex-end"},rightBottom:{horizontal:"flex-end",vertical:"flex-end"}}[p];y&&(m==="column"?Pe.getState().updateSelectedStyles({display:"flex",justifyContent:y.vertical,alignItems:y.horizontal}):Pe.getState().updateSelectedStyles({display:"flex",justifyContent:y.horizontal,alignItems:y.vertical}))},[]),l=x.useCallback(p=>{Pe.getState().updateSelectedStyles({display:"flex",justifyContent:p})},[]),u=x.useCallback(p=>{Pe.getState().updateSelectedStyles({display:"flex",flexWrap:p})},[]),c=x.useCallback(p=>{const m={};p.forEach(v=>m[v]=""),Pe.getState().updateSelectedStyles(m)},[]),d=x.useCallback(async p=>t(p),[t]),f=x.useCallback(async()=>e(),[e]);return{updateStyle:n,updateStyles:r,resetStyles:c,copyStyles:d,pasteStyles:f,handleVerticalAlignment:i,handleHorizontalAlignment:s,handleFlexDirection:o,handleFlexAlignment:a,handleJustifyContentSpacing:l,handleFlexWrap:u}}function NGe(){return pf(xGe)}function zU({values:t,onChange:e}){const n=(i,s)=>{const o=s.replace(/[^0-9.-]/g,"");o===""||o==="-"?e(i,""):e(i,`${o}px`)},r=i=>i.replace("px","");return h.jsxs("div",{className:"four-way-grid",children:[h.jsx(Br,{className:"react-aria-Input four-way-top",value:r(t.top),onChange:i=>n("Top",i.target.value),placeholder:"T","aria-label":"Top"}),h.jsx(Br,{className:"react-aria-Input four-way-left",value:r(t.left),onChange:i=>n("Left",i.target.value),placeholder:"L","aria-label":"Left"}),h.jsx(Br,{className:"react-aria-Input four-way-right",value:r(t.right),onChange:i=>n("Right",i.target.value),placeholder:"R","aria-label":"Right"}),h.jsx(Br,{className:"react-aria-Input four-way-bottom",value:r(t.bottom),onChange:i=>n("Bottom",i.target.value),placeholder:"B","aria-label":"Bottom"})]})}const LGe=x.memo(function(){const[e,n]=x.useState(!1),{handleFlexDirection:r,handleFlexAlignment:i,handleJustifyContentSpacing:s,handleFlexWrap:o}=A4(),{updateStyleImmediate:a,updateStyleRAF:l,updateStyleIdle:u}=XT(),c=NGe(),d=pf(SGe),f=pf(wGe),p=pf(_Ge),m=pf(IGe),v=(E,I)=>{u(`padding${E}`,I)},y=(E,I)=>{u(`margin${E}`,I)};if(!c)return null;const A={top:c.paddingTop,right:c.paddingRight,bottom:c.paddingBottom,left:c.paddingLeft},C={top:c.marginTop,right:c.marginRight,bottom:c.marginBottom,left:c.marginLeft};return h.jsxs(h.Fragment,{children:[h.jsxs("div",{className:"layout-direction",children:[h.jsxs("div",{className:"direction-controls flex-direction",children:[h.jsx("legend",{className:"fieldset-legend",children:"Direction"}),h.jsxs(Ip,{"aria-label":"Flex direction",indicator:!0,selectedKeys:d,onSelectionChange:E=>{const I=Array.from(E)[0];r(I)},children:[h.jsx(ri,{id:"block",children:h.jsx(Rx,{color:ce.color,size:ce.size,strokeWidth:ce.strokeWidth})}),h.jsx(ri,{id:"row",children:h.jsx(Ybe,{color:ce.color,size:ce.size,strokeWidth:ce.strokeWidth})}),h.jsx(ri,{id:"column",children:h.jsx(Wbe,{color:ce.color,size:ce.size,strokeWidth:ce.strokeWidth})})]})]}),h.jsxs("div",{className:"direction-alignment-grid flex-alignment",children:[h.jsx("legend",{className:"fieldset-legend",children:"Alignment"}),h.jsxs(Ip,{"aria-label":"Flex alignment",indicator:!0,selectionMode:"single",selectedKeys:f,onSelectionChange:E=>{const I=Array.from(E)[0];I&&i(I,c.flexDirection)},children:[h.jsx(ri,{id:"leftTop",children:h.jsx("span",{className:"alignment-dot"})}),h.jsx(ri,{id:"centerTop",children:h.jsx("span",{className:"alignment-dot"})}),h.jsx(ri,{id:"rightTop",children:h.jsx("span",{className:"alignment-dot"})}),h.jsx(ri,{id:"leftCenter",children:h.jsx("span",{className:"alignment-dot"})}),h.jsx(ri,{id:"centerCenter",children:h.jsx("span",{className:"alignment-dot"})}),h.jsx(ri,{id:"rightCenter",children:h.jsx("span",{className:"alignment-dot"})}),h.jsx(ri,{id:"leftBottom",children:h.jsx("span",{className:"alignment-dot"})}),h.jsx(ri,{id:"centerBottom",children:h.jsx("span",{className:"alignment-dot"})}),h.jsx(ri,{id:"rightBottom",children:h.jsx("span",{className:"alignment-dot"})})]})]}),h.jsx("div",{className:"fieldset-actions",children:h.jsx(Kn,{children:h.jsx($N,{color:ce.color,size:ce.size,strokeWidth:ce.strokeWidth})})}),h.jsxs("div",{className:"justify-control justify-content",children:[h.jsx("legend",{className:"fieldset-legend",children:"Justify"}),h.jsxs(Ip,{"aria-label":"Justify content alignment",indicator:!0,selectionMode:"single",selectedKeys:p,onSelectionChange:E=>{const I=Array.from(E)[0];I&&s(I)},children:[h.jsx(ri,{id:"space-around",children:h.jsx(V7,{color:ce.color,size:ce.size,strokeWidth:ce.strokeWidth})}),h.jsx(ri,{id:"space-between",children:h.jsx(Gye,{color:ce.color,size:ce.size,strokeWidth:ce.strokeWidth})}),h.jsx(ri,{id:"space-evenly",children:h.jsx(V7,{color:ce.color,size:ce.size,strokeWidth:ce.strokeWidth})})]})]}),h.jsxs("div",{className:"justify-control flex-wrap",children:[h.jsx("legend",{className:"fieldset-legend",children:"Wrap"}),h.jsxs(Ip,{"aria-label":"Flex wrap",indicator:!0,selectionMode:"single",selectedKeys:m,onSelectionChange:E=>{const I=Array.from(E)[0];I&&o(I)},children:[h.jsx(ri,{id:"wrap",children:h.jsx(gxe,{color:ce.color,size:ce.size,strokeWidth:ce.strokeWidth})}),h.jsx(ri,{id:"wrap-reverse",children:h.jsx(Bye,{color:ce.color,size:ce.size,strokeWidth:ce.strokeWidth})}),h.jsx(ri,{id:"nowrap",children:h.jsx(NAe,{color:ce.color,size:ce.size,strokeWidth:ce.strokeWidth})})]})]}),h.jsx(nh,{icon:$N,label:"Gap",className:"displayGap",value:c.gap,units:["reset","px","rem","em"],onChange:E=>a("gap",E),onDrag:E=>l("gap",E),min:0,max:500})]}),e?h.jsxs("div",{className:"layout-container layout-container-expanded",children:[h.jsxs("fieldset",{className:"properties-aria property-unit-input layout-padding",children:[h.jsx("legend",{className:"fieldset-legend",children:"Padding"}),h.jsx("div",{className:"react-aria-Group layout-spacing",children:h.jsx(zU,{values:A,onChange:v})})]}),h.jsxs("fieldset",{className:"properties-aria property-unit-input layout-margin",children:[h.jsx("legend",{className:"fieldset-legend",children:"Margin"}),h.jsx("div",{className:"react-aria-Group layout-spacing",children:h.jsx(zU,{values:C,onChange:y,allowNegative:!0})})]}),h.jsx("div",{className:"fieldset-actions actions-spacing",children:h.jsx(Kn,{onPress:()=>n(!1),"aria-label":"Collapse spacing to single input",children:h.jsx(Lve,{color:ce.color,size:ce.size,strokeWidth:ce.strokeWidth})})})]}):h.jsxs("div",{className:"layout-container",children:[h.jsx(nh,{icon:Hbe,label:"Padding",className:"padding",value:c.padding,units:["reset","px","rem","em"],onChange:E=>a("padding",E),onDrag:E=>l("padding",E),min:0,max:500}),h.jsx(nh,{icon:Uye,label:"Margin",className:"margin",value:c.margin,units:["reset","px","rem","em"],onChange:E=>a("margin",E),onDrag:E=>l("margin",E),min:0,max:500}),h.jsx("div",{className:"fieldset-actions actions-spacing",children:h.jsx(Kn,{onPress:()=>n(!0),"aria-label":"Expand spacing to 4-way input",children:h.jsx(zN,{color:ce.color,size:ce.size,strokeWidth:ce.strokeWidth})})})]})]})}),FGe=x.memo(function(){const e=ZT(),n=()=>{e(["display","flexDirection","flexWrap","alignItems","justifyContent","gap","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","margin","marginTop","marginRight","marginBottom","marginLeft"])};return h.jsx(Sc,{id:"layout",title:"Layout",onReset:n,children:h.jsx(LGe,{})})});function $Ge(){return pf(CGe)}const zGe=x.memo(function(){const{updateStyle:e}=A4(),{updateStyleImmediate:n,updateStyleRAF:r}=XT(),i=$Ge();return i?h.jsxs(h.Fragment,{children:[h.jsxs("div",{className:"style-background",children:[h.jsx(vD,{icon:Rx,label:"Background Color",className:"background-color",value:i.backgroundColor,onChange:s=>e("backgroundColor",s),placeholder:"#FFFFFF"}),h.jsx("div",{className:"fieldset-actions actions-icon",children:h.jsx(Kn,{children:h.jsx(ky,{color:ce.color,size:ce.size,strokeWidth:ce.strokeWidth})})})]}),h.jsxs("div",{className:"style-border",children:[h.jsx(vD,{icon:Rx,label:"Color",className:"border-color",value:i.borderColor,onChange:s=>e("borderColor",s),placeholder:"#000000"}),h.jsx(nh,{icon:Nbe,label:"Border Width",className:"border-width",value:i.borderWidth,units:["reset","px"],onChange:s=>n("borderWidth",s),onDrag:s=>r("borderWidth",s),min:0,max:100}),h.jsx(nh,{icon:Qbe,label:"Border Radius",className:"border-radius",value:i.borderRadius,units:["reset","px","%","rem","em"],onChange:s=>n("borderRadius",s),onDrag:s=>r("borderRadius",s),min:0,max:500}),h.jsx(kl,{icon:Pbe,label:"Border Style",className:"border-style",value:i.borderStyle,options:[{value:"reset",label:"Reset"},{value:"none",label:"none"},{value:"solid",label:"solid"},{value:"dashed",label:"dashed"},{value:"dotted",label:"dotted"},{value:"double",label:"double"},{value:"groove",label:"groove"},{value:"ridge",label:"ridge"},{value:"inset",label:"inset"},{value:"outset",label:"outset"}],onChange:s=>e("borderStyle",s)}),h.jsx("div",{className:"fieldset-actions actions-icon",children:h.jsx(Kn,{children:h.jsx(ky,{color:ce.color,size:ce.size,strokeWidth:ce.strokeWidth})})})]})]}):null}),OGe=x.memo(function(){const e=ZT(),n=()=>{e(["backgroundColor","borderColor","borderWidth","borderRadius","borderStyle"])};return h.jsx(Sc,{id:"appearance",title:"Appearance",onReset:n,children:h.jsx(zGe,{})})});function jGe(){return pf(EGe)}const QGe=x.memo(function(){const{updateStyle:e}=A4(),{updateStyleImmediate:n,updateStyleRAF:r}=XT(),i=jGe();return i?h.jsxs(h.Fragment,{children:[h.jsx(kl,{icon:Ug,label:"Font Family",className:"font-family",value:i.fontFamily,options:[{value:"reset",label:"Reset"},{value:"Arial",label:"Arial"},{value:"Helvetica",label:"Helvetica"},{value:"Times New Roman",label:"Times New Roman"},{value:"Georgia",label:"Georgia"},{value:"Courier New",label:"Courier New"},{value:"Verdana",label:"Verdana"}],onChange:s=>e("fontFamily",s)}),h.jsx(vD,{icon:Ug,label:"Color",className:"color",value:i.color,onChange:s=>e("color",s),placeholder:"#000000"}),h.jsx("div",{className:"fieldset-actions actions-font",children:h.jsx(Kn,{children:h.jsx(ky,{color:ce.color,size:ce.size,strokeWidth:ce.strokeWidth})})}),h.jsx(nh,{icon:Ug,label:"Font Size",className:"font-size",value:i.fontSize,units:["reset","px","rem","em","pt"],onChange:s=>n("fontSize",s),onDrag:s=>r("fontSize",s),min:8,max:200}),h.jsx(nh,{icon:Ug,label:"Line Height",className:"line-height",value:i.lineHeight,units:["reset","px","rem","em",""],onChange:s=>n("lineHeight",s),onDrag:s=>r("lineHeight",s),min:0,max:10,allowKeywords:!0}),h.jsx(kl,{icon:Ug,label:"Font Weight",className:"font-weight",value:i.fontWeight,options:[{value:"reset",label:"Reset"},{value:"100",label:"100 - Thin"},{value:"200",label:"200 - Extra Light"},{value:"300",label:"300 - Light"},{value:"400",label:"400 - Normal"},{value:"500",label:"500 - Medium"},{value:"600",label:"600 - Semi Bold"},{value:"700",label:"700 - Bold"},{value:"800",label:"800 - Extra Bold"},{value:"900",label:"900 - Black"},{value:"normal",label:"Normal"},{value:"bold",label:"Bold"}],onChange:s=>e("fontWeight",s)}),h.jsx(nh,{icon:Ug,label:"Letter Spacing",className:"letter-spacing",value:i.letterSpacing,units:["reset","px","rem","em"],onChange:s=>n("letterSpacing",s),onDrag:s=>r("letterSpacing",s),min:-10,max:10,allowKeywords:!0}),h.jsx("div",{className:"fieldset-actions",children:h.jsx(Kn,{children:h.jsx(ky,{color:ce.color,size:ce.size,strokeWidth:ce.strokeWidth})})}),h.jsxs("fieldset",{className:"properties-aria text-align",children:[h.jsx("legend",{className:"fieldset-legend",children:"Text Align"}),h.jsxs(Ip,{"aria-label":"Text alignment",indicator:!0,selectedKeys:[i.textAlign],onSelectionChange:s=>{const o=Array.from(s)[0];o&&e("textAlign",o)},children:[h.jsx(ri,{id:"left",children:h.jsx(SF,{color:ce.color,size:ce.size,strokeWidth:ce.strokeWidth})}),h.jsx(ri,{id:"center",children:h.jsx(NX,{color:ce.color,size:ce.size,strokeWidth:ce.strokeWidth})}),h.jsx(ri,{id:"right",children:h.jsx(LX,{color:ce.color,size:ce.size,strokeWidth:ce.strokeWidth})})]})]}),h.jsxs("fieldset",{className:"properties-aria vertical-align",children:[h.jsx("legend",{className:"fieldset-legend",children:"Vertical Align"}),h.jsxs(Ip,{"aria-label":"Vertical alignment",indicator:!0,selectedKeys:[i.verticalAlign],onSelectionChange:s=>{const o=Array.from(s)[0];o&&e("verticalAlign",o)},children:[h.jsx(ri,{id:"top",children:h.jsx(fX,{color:ce.color,size:ce.size,strokeWidth:ce.strokeWidth})}),h.jsx(ri,{id:"middle",children:h.jsx(dX,{color:ce.color,size:ce.size,strokeWidth:ce.strokeWidth})}),h.jsx(ri,{id:"bottom",children:h.jsx(hX,{color:ce.color,size:ce.size,strokeWidth:ce.strokeWidth})})]})]}),h.jsx("div",{className:"fieldset-actions",children:h.jsx(Kn,{children:h.jsx(ky,{color:ce.color,size:ce.size,strokeWidth:ce.strokeWidth})})}),h.jsxs("fieldset",{className:"properties-aria text-decoration",children:[h.jsx("legend",{className:"fieldset-legend",children:"Text Decoration"}),h.jsxs(Ip,{"aria-label":"Text decoration",indicator:!0,selectedKeys:i.textDecoration==="none"?[]:[i.textDecoration],onSelectionChange:s=>{const o=Array.from(s)[0];e("textDecoration",o||"none")},children:[h.jsx(ri,{id:"overline",children:h.jsx(zAe,{color:ce.color,size:ce.size,strokeWidth:ce.strokeWidth,style:{transform:"rotate(180deg)"}})}),h.jsx(ri,{id:"underline",children:h.jsx(wxe,{color:ce.color,size:ce.size,strokeWidth:ce.strokeWidth})}),h.jsx(ri,{id:"line-through",children:h.jsx(Jbe,{color:ce.color,size:ce.size,strokeWidth:ce.strokeWidth})})]})]}),h.jsxs("fieldset",{className:"properties-aria font-style",children:[h.jsx("legend",{className:"fieldset-legend",children:"Font Style"}),h.jsxs(Ip,{"aria-label":"Font style",indicator:!0,selectedKeys:[i.fontStyle],onSelectionChange:s=>{const o=Array.from(s)[0];o&&e("fontStyle",o)},children:[h.jsx(ri,{id:"normal",children:h.jsx(abe,{color:ce.color,size:ce.size,strokeWidth:ce.strokeWidth})}),h.jsx(ri,{id:"italic",children:h.jsx(dve,{color:ce.color,size:ce.size,strokeWidth:ce.strokeWidth})}),h.jsx(ri,{id:"oblique",children:h.jsx(Ug,{color:ce.color,size:ce.size,strokeWidth:ce.strokeWidth,style:{fontStyle:"oblique",transform:"skewX(-10deg)"}})})]})]}),h.jsx("div",{className:"fieldset-actions",children:h.jsx(Kn,{children:h.jsx(ky,{color:ce.color,size:ce.size,strokeWidth:ce.strokeWidth})})}),h.jsxs("fieldset",{className:"properties-aria text-transform",children:[h.jsx("legend",{className:"fieldset-legend",children:"Text Transform"}),h.jsxs(Ip,{"aria-label":"Text transform",indicator:!0,selectedKeys:i.textTransform==="none"?[]:[i.textTransform],onSelectionChange:s=>{const o=Array.from(s)[0];e("textTransform",o||"none")},children:[h.jsx(ri,{id:"uppercase",children:h.jsx(rye,{color:ce.color,size:ce.size,strokeWidth:ce.strokeWidth})}),h.jsx(ri,{id:"lowercase",children:h.jsx(ZAe,{color:ce.color,size:ce.size,strokeWidth:ce.strokeWidth})}),h.jsx(ri,{id:"capitalize",children:h.jsx(tye,{color:ce.color,size:ce.size,strokeWidth:ce.strokeWidth})})]})]})]}):null}),UGe=x.memo(function(){const e=ZT(),n=()=>{e(["fontFamily","fontSize","fontWeight","fontStyle","lineHeight","letterSpacing","color","textAlign","textDecoration","textTransform","verticalAlign"])};return h.jsx(Sc,{id:"typography",title:"Typography",onReset:n,children:h.jsx(QGe,{})})});function HGe(t){return!t||!t.style?[]:Object.keys(t.style).filter(e=>t.style[e]!==void 0)}const VGe=[{value:"auto",label:"auto"},{value:"Arial",label:"Arial"},{value:"Helvetica",label:"Helvetica"},{value:"Times New Roman",label:"Times New Roman"},{value:"Georgia",label:"Georgia"},{value:"Courier New",label:"Courier New"},{value:"Verdana",label:"Verdana"}],GGe=[{value:"auto",label:"auto"},{value:"100",label:"100 - Thin"},{value:"200",label:"200 - Extra Light"},{value:"300",label:"300 - Light"},{value:"400",label:"400 - Normal"},{value:"500",label:"500 - Medium"},{value:"600",label:"600 - Semi Bold"},{value:"700",label:"700 - Bold"},{value:"800",label:"800 - Extra Bold"},{value:"900",label:"900 - Black"},{value:"normal",label:"Normal"},{value:"bold",label:"Bold"}],KGe=[{value:"auto",label:"auto"},{value:"none",label:"none"},{value:"solid",label:"solid"},{value:"dashed",label:"dashed"},{value:"dotted",label:"dotted"},{value:"double",label:"double"},{value:"groove",label:"groove"},{value:"ridge",label:"ridge"},{value:"inset",label:"inset"},{value:"outset",label:"outset"}];function WGe({selectedElement:t}){const e=HGe(t),{updateStyle:n}=A4();if(e.length===0)return h.jsx(Sc,{title:"Modified Styles",children:h.jsxs("div",{className:"empty-state",children:[h.jsx("p",{className:"empty-message",children:"No modified styles"}),h.jsx("p",{className:"empty-hint",children:"Edit any style property to see it here"})]})});const r={layout:e.filter(s=>["display","flexDirection","alignItems","justifyContent","gap"].includes(s)),spacing:e.filter(s=>["padding","margin","width","height","top","left","right","bottom"].includes(s)),appearance:e.filter(s=>["backgroundColor","borderColor","borderWidth","borderRadius","borderStyle"].includes(s)),typography:e.filter(s=>["fontFamily","fontSize","fontWeight","fontStyle","lineHeight","letterSpacing","color","textAlign","textDecoration","textTransform","verticalAlign"].includes(s))},i=s=>{const o=t.style?.[s];return o?["backgroundColor","borderColor","color"].includes(s)?h.jsx(vD,{icon:Rx,label:Aw(s),value:String(o),onChange:a=>n(s,a)},s):s==="fontFamily"?h.jsx(kl,{icon:Ug,label:Aw(s),value:String(o),options:VGe,onChange:a=>n(s,a)},s):s==="fontWeight"?h.jsx(kl,{icon:Ug,label:Aw(s),value:String(o),options:GGe,onChange:a=>n(s,a)},s):s==="borderStyle"?h.jsx(kl,{icon:Rx,label:Aw(s),value:String(o),options:KGe,onChange:a=>n(s,a)},s):h.jsx(nh,{icon:ON,label:Aw(s),value:String(o),units:qGe(s),onChange:a=>n(s,a),min:YGe(s),max:XGe(s)},s):null};return h.jsxs(Sc,{title:`Modified Styles (${e.length})`,children:[r.layout.length>0&&h.jsxs("div",{className:"modified-category",children:[h.jsx("h4",{className:"category-title",children:"Layout"}),r.layout.map(i)]}),r.spacing.length>0&&h.jsxs("div",{className:"modified-category",children:[h.jsx("h4",{className:"category-title",children:"Spacing"}),r.spacing.map(i)]}),r.appearance.length>0&&h.jsxs("div",{className:"modified-category",children:[h.jsx("h4",{className:"category-title",children:"Appearance"}),r.appearance.map(i)]}),r.typography.length>0&&h.jsxs("div",{className:"modified-category",children:[h.jsx("h4",{className:"category-title",children:"Typography"}),r.typography.map(i)]})]})}function Aw(t){return t.replace(/([A-Z])/g," $1").replace(/^./,e=>e.toUpperCase()).trim()}function qGe(t){return["width","height","top","left","right","bottom"].includes(t)?["reset","px","%","rem","em","vh","vw"]:["padding","margin","gap"].includes(t)?["reset","px","rem","em"]:["fontSize","lineHeight","letterSpacing"].includes(t)?["reset","px","rem","em","pt"]:["borderWidth"].includes(t)?["reset","px"]:["borderRadius"].includes(t)?["reset","px","%","rem","em"]:["px"]}function YGe(t){return["top","left","right","bottom","letterSpacing"].includes(t)?-9999:0}function XGe(t){return["width","height","top","left","right","bottom"].includes(t)?9999:["padding","margin","gap","borderRadius"].includes(t)?500:["fontSize"].includes(t)?200:["borderWidth"].includes(t)?100:["lineHeight","letterSpacing"].includes(t)?10:9999}function JGe(){const t=pGe(ir);x.useEffect(()=>{const e=Pe.getState(),n=OU(e);return t(n),Pe.subscribe((i,s)=>{if(i.selectedElementId!==s.selectedElementId||i.selectedElementProps!==s.selectedElementProps){const o=OU(i);t(o)}})},[t])}function OU(t){const{selectedElementId:e,elementsMap:n,selectedElementProps:r}=t;if(!e)return null;const i=n.get(e);return i?{id:i.id,type:i.tag,style:r?.style??i.props?.style??{},computedStyle:r?.computedStyle,className:r?.className??i.props?.className??""}:null}function ZGe(){return JGe(),null}function eKe({isActive:t}){return t?h.jsxs(h.Fragment,{children:[h.jsx(ZGe,{}),h.jsx(rKe,{})]}):null}const tKe=x.memo(function(){const e=W$();return e?h.jsx(WGe,{selectedElement:e}):null}),nKe=x.memo(function(){return h.jsxs(h.Fragment,{children:[h.jsx(RGe,{}),h.jsx(FGe,{}),h.jsx(OGe,{}),h.jsx(UGe,{})]})});function rKe(){const t=pf(BGe),e=pf(DGe),n=pf(TGe),r=pf(MGe),[i,s]=x.useState("all"),{expandAll:o,collapseAll:a,collapsedSections:l,focusMode:u,toggleFocusMode:c}=EJ(),{copyStyles:d,pasteStyles:f}=A4(),p=x.useCallback(async()=>{e&&await d(e)},[e,d]),m=x.useCallback(async()=>{await f()},[f]),v=x.useMemo(()=>[{key:"c",modifier:"cmdShift",handler:p,description:"Copy Styles"},{key:"v",modifier:"cmdShift",handler:m,description:"Paste Styles"},{key:"s",modifier:"altShift",handler:c,description:"Toggle Focus Mode"},{key:"s",modifier:"alt",handler:()=>{l.size===4?o():a()},description:"Expand/Collapse All Sections"}],[p,m,c,l,o,a]);return Hx(v,[p,m,c,l,o,a]),t?h.jsxs("div",{className:"panel",children:[h.jsxs("div",{className:"panel-header",children:[h.jsxs("div",{className:"panel-actions",children:[h.jsx(Dy,{className:"iconButton",isSelected:i==="all",onChange:()=>s("all"),"aria-label":"Style",children:h.jsx(ax,{color:ce.color,size:ce.size,strokeWidth:ce.strokeWidth})}),h.jsxs(Dy,{className:"iconButton panel-title",isSelected:i==="modified",onChange:()=>s("modified"),"aria-label":"Modify",children:[h.jsx(Zve,{color:ce.color,size:ce.size,strokeWidth:ce.strokeWidth}),n>0&&`modify ${n}`]})]}),h.jsxs("div",{className:"panel-actions",children:[h.jsx(Kn,{variant:"ghost",className:"iconButton",onPress:p,"aria-label":"Copy styles",isDisabled:r,children:h.jsx(gF,{color:ce.color,size:ce.size,strokeWidth:ce.strokeWidth})}),h.jsx(Kn,{variant:"ghost",className:"iconButton",onPress:m,"aria-label":"Paste styles",children:h.jsx(fF,{color:ce.color,size:ce.size,strokeWidth:ce.strokeWidth})})]}),u&&h.jsx("div",{className:"focus-mode-indicator",children:"Focus Mode"})]}),h.jsx("div",{className:"panel-contents",children:i==="all"?h.jsx(nKe,{}):h.jsx(tKe,{})})]}):h.jsx(Pa,{message:" "})}const iKe=["onClick","onMouseEnter","onMouseLeave","onChange","onSubmit","onFocus","onBlur","onKeyDown","onKeyUp"];function jU(t){return iKe.includes(t)}const AP={mouse:{label:"Mouse Events",events:["onClick","onMouseEnter","onMouseLeave"]},form:{label:"Form Events",events:["onChange","onSubmit","onFocus","onBlur"]},keyboard:{label:"Keyboard Events",events:["onKeyDown","onKeyUp"]}},lL={navigation:{label:"Navigation",actions:["navigate","scrollTo"]},ui:{label:"UI Control",actions:["toggleVisibility","showModal","hideModal","showToast"]},data:{label:"Data Management",actions:["setState","updateState","copyToClipboard"]},form:{label:"Form Operations",actions:["validateForm","resetForm","submitForm","updateFormField"]},component:{label:"Component Interaction",actions:["setComponentState","triggerComponentAction"]},collection:{label:"Collection Operations",actions:["filterCollection","selectItem","clearSelection"]},dataPanel:{label:"Data Panel",actions:["fetchDataTable","refreshDataTable","executeApi","setVariable","getVariable","loadDataTable","syncComponent","saveToDataTable"]},custom:{label:"Custom",actions:["customFunction","apiCall"]}},my={onClick:"",onMouseEnter:" ",onMouseLeave:" ",onFocus:"",onBlur:" ",onChange:" ",onSubmit:"",onKeyDown:" ",onKeyUp:" "},Vg={navigate:" ",toggle_visibility:"/ ",toggleVisibility:"/ ",update_state:" ",updateState:" ",setState:" ",show_modal:" ",showModal:" ",hide_modal:" ",hideModal:" ",showToast:" ",custom_function:" ",customFunction:" ",scroll_to:" ",scrollTo:" ",copy_to_clipboard:" ",copyToClipboard:" ",validate_form:" ",validateForm:" ",reset_form:" ",resetForm:" ",submitForm:" ",updateFormField:"  ",apiCall:"API ",setComponentState:"  ",triggerComponentAction:"  ",filterCollection:" ",selectItem:" ",clearSelection:" ",fetchDataTable:"DataTable ",refreshDataTable:"DataTable ",executeApi:"API ",setVariable:" ",getVariable:" ",loadDataTable:"DataTable ",syncComponent:" ",saveToDataTable:"DataTable "},sKe={scroll_to:"scrollTo",toggle_visibility:"toggleVisibility",update_state:"updateState",show_modal:"showModal",hide_modal:"hideModal",copy_to_clipboard:"copyToClipboard",validate_form:"validateForm",reset_form:"resetForm",submit_form:"submitForm",update_form_field:"updateFormField",set_state:"setState",set_component_state:"setComponentState",trigger_component_action:"triggerComponentAction",filter_collection:"filterCollection",select_item:"selectItem",clear_selection:"clearSelection",custom_function:"customFunction",api_call:"apiCall",show_toast:"showToast"};function oKe(t){return sKe[t]??t}const aKe=["onClick","onChange","onSubmit","onKeyDown","onKeyUp","onMouseEnter","onMouseLeave","onFocus","onBlur"];function qce({onSelect:t,registeredTypes:e=[],selectedType:n,allowedTypes:r,isDisabled:i=!1,inline:s=!1}){const[o,a]=x.useState(""),[l,u]=x.useState(!1),c=x.useMemo(()=>{const C=r&&r.length>0?r:Object.keys(my);return n&&!C.includes(n)?Array.from(new Set([...C,n])):C},[r,n]),d=x.useMemo(()=>c.filter(C=>!e.includes(C)||C===n),[c,e,n]),f=x.useMemo(()=>{const C=[];for(const E of aKe)if(d.includes(E)&&E!==n&&(C.push(E),C.length>=3))break;return C},[d,n]),p=x.useMemo(()=>{if(!o)return d;const C=o.toLowerCase();return d.filter(E=>{const I=my[E]?.toLowerCase()||"";return E.toLowerCase().includes(C)||I.includes(C)})},[d,o]),m=x.useMemo(()=>{const C=[],E=new Set;typeof AP<"u"?Object.entries(AP).forEach(([,D])=>{const T=D,M=T.events.filter(P=>p.includes(P));M.length>0&&(C.push({category:T.label,events:M}),M.forEach(P=>E.add(P)))}):C.push({category:"Events",events:p});const I=p.filter(D=>!E.has(D));return I.length>0&&typeof AP<"u"&&C.push({category:"Events",events:I}),C},[p]),v=C=>{t(C),a(""),u(!1)},y=x.useRef(null),A=C=>{u(C),C?setTimeout(()=>{y.current?.focus()},50):a("")};return s?h.jsxs(u3,{isOpen:l,onOpenChange:A,children:[h.jsxs(Yt,{className:"event-picker-inline-trigger",isDisabled:i,"aria-label":"  ",children:[h.jsx("span",{className:"event-picker-value",children:n?my[n]||n:"Select event..."}),h.jsx(ho,{size:yn.size})]}),h.jsxs(m3,{placement:"bottom start",offset:4,className:"event-picker-popover",showArrow:!1,children:[h.jsxs("div",{className:"event-picker-search",children:[h.jsx(_c,{size:yn.size,color:ce.color}),h.jsx("input",{ref:y,className:"event-picker-search-input",placeholder:"Search events...",value:o,onChange:C=>a(C.target.value)})]}),h.jsx(Ui,{className:"event-picker-list","aria-label":"  ",selectionMode:"single",onSelectionChange:C=>{const E=Array.from(C)[0];E&&v(E)},children:p.length===0?h.jsx(tr,{id:"empty",textValue:"No events found",children:h.jsxs("div",{className:"event-picker-empty",children:[h.jsx(_c,{size:ce.size,color:ce.color}),h.jsx("span",{children:"No events found"})]})}):m.flatMap(C=>[h.jsx(tr,{id:`label-${C.category}`,textValue:C.category,className:"event-group-label-item",children:h.jsx("div",{className:"event-group-label",children:C.category})},`label-${C.category}`),...C.events.map(E=>h.jsxs(tr,{id:E,className:"event-item",textValue:my[E]||E,children:[h.jsx("span",{className:"event-name",children:my[E]||E}),h.jsx("span",{className:"event-type-code",children:E})]},E))])})]})]}):h.jsxs(u3,{isOpen:l,onOpenChange:A,children:[h.jsx(Yt,{className:"iconButton",isDisabled:i||d.length===0,"aria-label":" ",children:h.jsx($3,{color:ce.color,strokeWidth:ce.strokeWidth,size:ce.size})}),h.jsxs(m3,{placement:"bottom end",offset:4,className:"event-picker-popover",showArrow:!1,children:[!o&&f.length>0&&h.jsxs("div",{className:"event-picker-recommended",children:[h.jsxs("div",{className:"event-picker-recommended-header",children:[h.jsx(xx,{size:oh.size,color:ce.color}),h.jsx("span",{children:"Recommended"})]}),h.jsx("div",{className:"event-picker-recommended-list",children:f.map(C=>h.jsx("button",{type:"button",className:"event-picker-recommended-item",onClick:()=>v(C),children:h.jsx("span",{className:"event-name",children:my[C]||C})},C))})]}),h.jsxs("div",{className:"event-picker-search",children:[h.jsx(_c,{size:yn.size,color:ce.color}),h.jsx("input",{ref:y,className:"event-picker-search-input",placeholder:"Search events...",value:o,onChange:C=>a(C.target.value)})]}),h.jsx(Ui,{className:"event-picker-list","aria-label":"  ",selectionMode:"single",onSelectionChange:C=>{const E=Array.from(C)[0];E&&v(E)},children:p.length===0?h.jsx(tr,{id:"empty",textValue:"No events found",children:h.jsx("div",{className:"event-picker-empty",children:h.jsx("span",{children:"No events found"})})}):m.flatMap(C=>[h.jsx(tr,{id:`label-${C.category}`,textValue:C.category,className:"event-group-label-item",children:h.jsx("div",{className:"event-group-label",children:C.category})},`label-${C.category}`),...C.events.map(E=>h.jsxs(tr,{id:E,className:"event-item",textValue:my[E]||E,children:[h.jsx("span",{className:"event-name",children:my[E]||E}),h.jsx("span",{className:"event-type-code",children:E})]},E))])})]})]})}function lKe(t,e){if(t.length!==e.length)return!1;const n=new Set(t.map(i=>i.id)),r=new Set(e.map(i=>i.id));if(n.size!==r.size)return!1;for(const i of n)if(!r.has(i))return!1;return!0}function uKe(t){const e=t.map(c=>({...c,actions:c.actions||[]})),n=x.useRef(e),r=oS({initialItems:e,getKey:c=>c.id});x.useEffect(()=>{lKe(n.current,e)||(r.items.forEach(c=>{r.remove(c.id)}),e.forEach(c=>{r.append(c)}),n.current=e)},[e,r]);const i=c=>{const d={id:`event-${c}-${Date.now()}`,event:c,actions:[],enabled:!0};return r.append(d),d},s=(c,d)=>{if("id"in d&&"event"in d)r.update(c,d);else{const f=r.getItem(c);f&&r.update(c,{...f,...d})}},o=c=>{const d=r.getItem(c);if(!d)return;const f={...d,id:`${c}-copy-${Date.now()}`,actions:(d.actions||[]).map(p=>({...p,id:`${p.id}-copy-${Date.now()}`}))};return r.append(f),f},a=c=>{const d=r.getItem(c);d&&r.update(c,{...d,enabled:!d.enabled})},l=()=>{r.items.forEach(c=>{r.update(c.id,{...c,enabled:!0})})},u=()=>{r.items.forEach(c=>{r.update(c.id,{...c,enabled:!1})})};return{handlers:r.items,addHandler:i,updateHandler:s,removeHandler:r.remove,duplicateHandler:o,getHandler:r.getItem,toggleHandler:a,enableAll:l,disableAll:u,selectedKeys:r.selectedKeys,setSelectedKeys:r.setSelectedKeys}}function cKe(t,e){if(t.length!==e.length)return!1;const n=new Set(t.map(i=>i.id)),r=new Set(e.map(i=>i.id));if(n.size!==r.size)return!1;for(const i of n)if(!r.has(i))return!1;return!0}function QU(t){const e=x.useRef(t),n=oS({initialItems:t,getKey:p=>p.id||""});x.useEffect(()=>{cKe(e.current,t)||(n.items.forEach(p=>{p.id&&n.remove(p.id)}),t.forEach(p=>{n.append(p)}),e.current=t)},[t,n]);const r=(p,m={})=>{const v={id:`action-${p}-${Date.now()}`,type:p,config:m,enabled:!0};return n.append(v),v},i=(p,m)=>{const v=n.getItem(p);v&&n.update(p,{...v,...m})},s=(p,m)=>{n.move(p,m)},o=(p,m)=>{[...p].reverse().forEach((y,A)=>{n.move(y,m+A)})},a=p=>{const m=n.getItem(p);if(!m)return;const v=n.items.findIndex(A=>A.id===p),y={...m,id:`${p}-copy-${Date.now()}`};return n.insert(v+1,y),y},l=p=>{const m=n.getItem(p);m&&n.update(p,{...m,enabled:!m.enabled})},u=()=>{n.items.forEach(p=>{p.id&&n.update(p.id,{...p,enabled:!0})})},c=()=>{n.items.forEach(p=>{p.id&&n.update(p.id,{...p,enabled:!1})})},d=()=>{Array.from(n.selectedKeys).forEach(m=>n.remove(m))},f=()=>{n.items.forEach(p=>{p.id&&n.remove(p.id)})};return{actions:n.items,addAction:r,updateAction:i,removeAction:n.remove,moveAction:s,moveActions:o,duplicateAction:a,getAction:n.getItem,toggleAction:l,enableAll:u,disableAll:c,removeSelectedActions:d,removeAll:f,selectedKeys:n.selectedKeys,setSelectedKeys:n.setSelectedKeys}}function dKe(t){const[e,n]=x.useState(null),r=x.useMemo(()=>e&&t.find(f=>f.id===e)||null,[e,t]),i=f=>{n(f)},s=f=>e===f,o=()=>{n(null)};return{selectedHandlerId:e,selectedHandler:r,selectHandler:i,isSelected:s,clearSelection:o,selectNext:()=>{if(t.length===0)return;if(!e){n(t[0].id);return}const f=t.findIndex(p=>p.id===e);f===-1||f===t.length-1||n(t[f+1].id)},selectPrevious:()=>{if(t.length===0)return;if(!e){n(t[t.length-1].id);return}const f=t.findIndex(p=>p.id===e);f===-1||f===0||n(t[f-1].id)},selectFirst:()=>{t.length>0&&n(t[0].id)},selectLast:()=>{t.length>0&&n(t[t.length-1].id)},selectAfterDelete:f=>{if(e!==f)return;const p=t.findIndex(m=>m.id===f);if(p===-1){o();return}p<t.length-1?n(t[p+1].id):p>0?n(t[p-1].id):o()}}}function hKe({debounce:t,throttle:e,onChange:n}){const r=t?"debounce":e?"throttle":"none",i=t||e||300,s=l=>{l==="none"?n({debounce:void 0,throttle:void 0}):l==="debounce"?n({debounce:i,throttle:void 0}):l==="throttle"&&n({debounce:void 0,throttle:i})},o=l=>{r==="debounce"?n({debounce:l,throttle:void 0}):r==="throttle"&&n({debounce:void 0,throttle:l})},a=[{label:"Fast",value:100},{label:"Normal",value:300},{label:"Slow",value:1e3}];return h.jsxs("div",{className:"debounce-throttle-editor",children:[h.jsxs(fMe,{value:r,onChange:l=>s(l),className:"timing-mode-group",children:[h.jsx(xn,{className:"field-label",children:"Event Timing"}),h.jsxs("div",{className:"radio-options",children:[h.jsx(yk,{value:"none",className:"react-aria-Radio",children:"None (immediate)"}),h.jsx(yk,{value:"debounce",className:"react-aria-Radio",children:"Debounce (wait for pause)"}),h.jsx(yk,{value:"throttle",className:"react-aria-Radio",children:"Throttle (limit frequency)"})]})]}),r!=="none"&&h.jsxs(h.Fragment,{children:[h.jsxs(br,{className:"field",children:[h.jsxs(xn,{className:"field-label",children:[r==="debounce"?"Debounce":"Throttle"," Time (ms)"]}),h.jsx(Br,{className:"field-input",type:"number",value:String(i),onChange:l=>o(Number(l.target.value)||300),min:0,step:50})]}),h.jsxs("div",{className:"presets-group",children:[h.jsx(xn,{className:"field-label",children:"Presets:"}),h.jsx("div",{className:"preset-buttons",children:a.map(l=>h.jsxs(Yt,{className:"react-aria-Button sm",onPress:()=>o(l.value),children:[l.label," (",l.value,"ms)"]},l.label))})]}),h.jsx("div",{className:"field-hint",children:r==="debounce"?h.jsxs("p",{children:[h.jsx("strong",{children:"Debounce:"})," Waits for user to stop typing/clicking before executing. Good for search inputs."]}):h.jsxs("p",{children:[h.jsx("strong",{children:"Throttle:"})," Limits execution frequency. Good for scroll/resize events."]})})]})]})}function Cz({direction:t,className:e=""}){return h.jsx("div",{className:`block-connector ${t} ${e}`.trim(),role:"presentation","aria-hidden":"true"})}function fKe({trigger:t,onChange:e,registeredEventTypes:n=[],allowedEventTypes:r=[],onOptionsClick:i,showConnector:s=!0}){const o=a=>{e({...t,event:a})};return h.jsxs("div",{className:"event-block when-block",role:"group","aria-label":"When trigger",children:[h.jsxs("div",{className:"block-header",children:[h.jsx(xx,{className:"block-icon",size:ce.size,strokeWidth:ce.strokeWidth}),h.jsx("span",{className:"block-label",children:"WHEN"})]}),h.jsx("div",{className:"block-content",children:h.jsxs("div",{className:"trigger-row",children:[h.jsx(qce,{onSelect:o,registeredTypes:n,selectedType:t.event,allowedTypes:r}),h.jsx("span",{className:"trigger-target",children:t.target==="self"?"on this element":`on ${t.target}`}),i&&h.jsx(Yt,{className:"iconButton",onPress:i,"aria-label":"Trigger options",children:h.jsx(wf,{size:yn.size,color:ce.color,strokeWidth:ce.strokeWidth})})]})}),s&&h.jsx(Cz,{direction:"down"})]})}const uL={equals:{label:"=",unary:!1,description:""},not_equals:{label:"!=",unary:!1,description:" "},contains:{label:"contains",unary:!1,description:""},not_contains:{label:"not contains",unary:!1,description:" "},starts_with:{label:"starts with",unary:!1,description:"~ "},ends_with:{label:"ends with",unary:!1,description:"~ "},matches_regex:{label:"matches",unary:!1,description:" "},greater_than:{label:">",unary:!1,description:" "},less_than:{label:"<",unary:!1,description:" "},greater_or_equal:{label:">=",unary:!1,description:""},less_or_equal:{label:"<=",unary:!1,description:""},greater_than_or_equals:{label:">=",unary:!1,description:""},less_than_or_equals:{label:"<=",unary:!1,description:""},matches:{label:"matches",unary:!1,description:" "},is_empty:{label:"is empty",unary:!0,description:" "},is_not_empty:{label:"is not empty",unary:!0,description:"  "},is_true:{label:"is true",unary:!0,description:""},is_false:{label:"is false",unary:!0,description:""},is_null:{label:"is null",unary:!0,description:"null"},is_not_null:{label:"is not null",unary:!0,description:"null "}};function UU(t){return uL[t].unary}function HU(){return{id:`cond-${Date.now()}`,left:{type:"element",value:""},operator:"is_not_empty"}}const pKe=[{label:"Comparison",operators:["equals","not_equals","greater_than","less_than","greater_or_equal","less_or_equal"]},{label:"String",operators:["contains","not_contains","starts_with","ends_with","matches_regex"]},{label:"Check",operators:["is_empty","is_not_empty","is_true","is_false","is_null","is_not_null"]}];function gKe({value:t,onChange:e}){const n=uL[t];return h.jsxs(po,{className:"operator-picker",selectedKey:t,onSelectionChange:r=>e(r),"aria-label":"Condition operator",children:[h.jsxs(Yt,{className:"operator-picker-button",children:[h.jsx(go,{children:n.label}),h.jsx(ho,{size:oh.size})]}),h.jsx(Ss,{className:"operator-picker-popover",children:h.jsx(Ui,{className:"operator-picker-list",children:pKe.map(r=>h.jsxs("div",{className:"operator-group",children:[h.jsx("div",{className:"operator-group-label",children:r.label}),r.operators.map(i=>{const s=uL[i];return h.jsxs(tr,{id:i,className:"operator-item",textValue:s.label,children:[h.jsx("span",{className:"operator-symbol",children:s.label}),h.jsx("span",{className:"operator-description",children:s.description})]},i)})]},r.label))})})]})}function mKe({condition:t,onChange:e,onRemove:n,dragHandleProps:r={}}){const i=UU(t.operator),s=u=>u.startsWith("#")||u.startsWith(".")?"element":u.startsWith("state.")?"state":u.startsWith("event.")?"event":"literal",o=u=>{const c=s(u);e({...t,left:{type:c,value:u}})},a=u=>{const c={...t,operator:u};UU(u)?delete c.right:c.right||(c.right={type:"literal",value:""}),e(c)},l=u=>{if(!t.right)return;const c={...t.right,value:u};e({...t,right:c})};return h.jsxs("div",{className:"condition-row",role:"group","aria-label":"Condition",children:[h.jsx("div",{className:"condition-drag-handle",...r,children:h.jsx(O3,{size:yn.size,color:ce.color,strokeWidth:ce.strokeWidth})}),h.jsx(br,{className:"condition-operand condition-left","aria-label":"Left operand",children:h.jsx(Br,{value:String(t.left.value),onChange:u=>o(u.target.value),placeholder:"#element.value"})}),h.jsx(gKe,{value:t.operator,onChange:a}),!i&&h.jsx(br,{className:"condition-operand condition-right","aria-label":"Right operand",children:h.jsx(Br,{value:String(t.right?.value??""),onChange:u=>l(u.target.value),placeholder:"value"})}),h.jsx(Yt,{className:"iconButton condition-remove",onPress:n,"aria-label":"Remove condition",children:h.jsx(N0,{size:yn.size,color:ce.color,strokeWidth:ce.strokeWidth})})]})}function AKe({value:t,onChange:e}){const n=()=>{e(t==="AND"?"OR":"AND")};return h.jsx("div",{className:"operator-toggle",children:h.jsx(Yt,{className:"toggle-button",onPress:n,"aria-label":`Change to ${t==="AND"?"OR":"AND"}`,children:t})})}function yKe({conditions:t,onChange:e,onRemove:n,showSplitConnector:r=!1}){const[i,s]=x.useState(!0);if(!t)return h.jsxs(Yt,{className:"add-condition-button",onPress:()=>e({operator:"AND",conditions:[HU()]}),children:[h.jsx(yd,{size:yn.size}),"Add Condition (optional)"]});const o=()=>{e({...t,conditions:[...t.conditions,HU()]})},a=(c,d)=>{const f=[...t.conditions];f[c]=d,e({...t,conditions:f})},l=c=>{const d=t.conditions.filter((f,p)=>p!==c);d.length===0?n():e({...t,conditions:d})},u=c=>{e({...t,operator:c})};return h.jsxs("div",{className:"event-block if-block",role:"group","aria-label":"Condition block",children:[h.jsxs("div",{className:"block-header",children:[h.jsx(_c,{className:"block-icon",size:ce.size,strokeWidth:ce.strokeWidth}),h.jsx("span",{className:"block-label",children:"IF"}),h.jsx("span",{className:"block-sublabel",children:"(optional)"}),h.jsxs("div",{className:"block-actions",children:[h.jsx(Yt,{className:"iconButton",onPress:()=>s(!i),"aria-label":i?"Collapse conditions":"Expand conditions","aria-expanded":i,children:i?h.jsx(ho,{size:yn.size,color:ce.color,strokeWidth:ce.strokeWidth}):h.jsx(vf,{size:yn.size,color:ce.color,strokeWidth:ce.strokeWidth})}),h.jsx(Yt,{className:"iconButton",onPress:n,"aria-label":"Remove condition block",children:h.jsx(N0,{size:yn.size,color:ce.color,strokeWidth:ce.strokeWidth})})]})]}),i&&h.jsxs("div",{className:"block-content",children:[t.conditions.map((c,d)=>h.jsxs(x.Fragment,{children:[d>0&&h.jsx(AKe,{value:t.operator,onChange:u}),h.jsx(mKe,{condition:c,onChange:f=>a(d,f),onRemove:()=>l(d)})]},c.id)),h.jsxs(Yt,{className:"add-row-button",onPress:o,children:[h.jsx(yd,{size:yn.size}),"Add Condition"]})]}),h.jsx(Cz,{direction:r?"split":"down"})]})}const vKe={navigate:" ",scrollTo:" ",setState:" ",updateState:" ",apiCall:"API ",showModal:" ",hideModal:" ",showToast:" ",toggleVisibility:"/ ",validateForm:" ",resetForm:" ",submitForm:" ",setComponentState:"  ",triggerComponentAction:"  ",updateFormField:"  ",filterCollection:" ",selectItem:" ",clearSelection:" ",loadDataTable:"DataTable ",syncComponent:" ",saveToDataTable:"DataTable ",setVariable:" ",copyToClipboard:" ",customFunction:" "},bKe={navigate:Uve,scrollTo:DAe,setState:nl,updateState:Qy,apiCall:l5,showModal:yB,hideModal:yB,showToast:jAe,toggleVisibility:yB,validateForm:l5,resetForm:Qy,submitForm:l5,setComponentState:nl,triggerComponentAction:h_,updateFormField:nl,filterCollection:nl,selectItem:h_,clearSelection:h_,copyToClipboard:yye,customFunction:z3,loadDataTable:sxe,syncComponent:Qy,saveToDataTable:fbe,setVariable:K_};function xKe(t){const e=t.config;switch(t.type){case"navigate":return e.path||"";case"apiCall":return`${e.method||"GET"} ${e.endpoint||""}`;case"showToast":return e.message||"";case"setState":case"updateState":return e.storePath||"";case"showModal":case"hideModal":return e.modalId||"";case"toggleVisibility":return e.elementId||"";case"customFunction":return e.code?"(custom code)":"";default:return""}}function CKe({action:t,index:e,onClick:n,onRemove:r,isExpanded:i=!1,onToggleExpand:s,dragHandleProps:o={}}){const a=bKe[t.type]||z3,l=vKe[t.type]||t.type,u=xKe(t);return h.jsxs("div",{className:`action-item ${t.enabled===!1?"disabled":""}`,role:"listitem","aria-label":`Action ${e}: ${l}`,"data-action-id":t.id,children:[h.jsx("div",{className:"action-drag-handle",...o,children:h.jsx(O3,{size:yn.size,color:ce.color,strokeWidth:ce.strokeWidth})}),h.jsxs("div",{className:"list-item-icon",children:[h.jsx(a,{size:ce.size}),h.jsx("span",{className:"list-item-index",children:e})]}),h.jsxs("button",{type:"button",className:"action-info-button",onClick:n,"aria-label":`Edit ${l}`,children:[h.jsx("span",{className:"action-type",children:l}),u&&h.jsx("span",{className:"action-summary",children:u})]}),h.jsxs("div",{className:"action-controls",children:[s&&h.jsx(Yt,{className:"iconButton",onPress:s,"aria-label":i?"Collapse":"Expand","aria-expanded":i,children:i?h.jsx(ho,{size:yn.size,color:ce.color,strokeWidth:ce.strokeWidth}):h.jsx(vf,{size:yn.size,color:ce.color,strokeWidth:ce.strokeWidth})}),r&&h.jsx(Yt,{className:"iconButton",onPress:r,"aria-label":"Delete action",children:h.jsx(N0,{size:yn.size,color:ce.color,strokeWidth:ce.strokeWidth})})]})]})}function VU({type:t,actions:e,onAddAction:n,onActionClick:r,onRemoveAction:i,showConnector:s=!0,isDisabled:o=!1,defaultCollapsed:a=!1}){const[l,u]=x.useState(a),[c,d]=x.useState(null),f=t==="then",p=f?"then-block":"else-block",m=f?"THEN":"ELSE",v=f?"Actions when condition is true":"Actions when condition is false",y=A=>{d(C=>C===A?null:A)};return h.jsxs("div",{className:`branch-block ${p}`,children:[s&&h.jsx(Cz,{direction:"down",className:f?"success":"fallback"}),h.jsxs("div",{className:"block-container",role:"region","aria-label":v,"data-block-type":t,children:[h.jsxs("div",{className:"block-header",children:[h.jsx(Yt,{className:"iconButton block-collapse-btn",onPress:()=>u(!l),"aria-expanded":!l,"aria-label":l?`Expand ${m} block`:`Collapse ${m} block`,children:l?h.jsx(vf,{size:ce.size,color:ce.color,strokeWidth:ce.strokeWidth}):h.jsx(ho,{size:ce.size,color:ce.color,strokeWidth:ce.strokeWidth})}),h.jsx("span",{className:"block-label",children:m}),h.jsxs("span",{className:"block-count",children:[e.length," action",e.length!==1?"s":""]}),h.jsx("div",{className:"block-header-spacer"}),h.jsx(Yt,{className:"iconButton block-collapse-btn",onPress:n,isDisabled:o,"aria-label":`Add action to ${m}`,children:h.jsx(yd,{size:ce.size,color:ce.color,strokeWidth:ce.strokeWidth})})]}),!l&&h.jsx("div",{className:"block-content",role:"list","aria-label":`${m} actions`,children:e.length===0?h.jsxs("div",{className:"block-empty",children:[h.jsx("span",{children:"No actions"}),h.jsxs(Yt,{className:"add-action-btn",onPress:n,isDisabled:o,children:[h.jsx(yd,{size:oh.size}),h.jsx("span",{children:"Add action"})]})]}):e.map((A,C)=>h.jsx(CKe,{action:A,index:C+1,onClick:()=>r?.(A),onRemove:()=>i?.(A.id),isExpanded:c===A.id,onToggleExpand:()=>y(A.id)},A.id))})]})]})}function EKe(t){if(!t)return"/";const e=t.trim();return e.startsWith("/")?e:`/${e}`}function SKe({config:t,onChange:e}){const n=(r,i)=>{e(r==="path"&&typeof i=="string"?{...t,[r]:EKe(i)}:{...t,[r]:i})};return h.jsxs("div",{className:"navigate-action-editor",children:[h.jsxs(br,{className:"field",children:[h.jsx(xn,{className:"field-label",children:"Path"}),h.jsx(Br,{className:"field-input",value:t.path,onChange:r=>n("path",r.target.value),placeholder:"/page-name"})]}),h.jsx(l3,{className:"checkbox-field",isSelected:t.openInNewTab||!1,onChange:r=>n("openInNewTab",r),children:"Open in new tab"}),h.jsx(l3,{className:"checkbox-field",isSelected:t.replace||!1,onChange:r=>n("replace",r),children:"Replace history"})]})}function wKe({config:t,onChange:e}){const[n,r]=x.useState(()=>JSON.stringify(t.value,null,2)),[i,s]=x.useState(""),o=l=>{e({...t,storePath:l})},a=l=>{r(l);try{const u=JSON.parse(l);e({...t,value:u}),s("")}catch{s(" JSON ")}};return h.jsxs("div",{className:"setstate-action-editor",children:[h.jsxs(br,{className:"field",children:[h.jsx(xn,{className:"field-label",children:"Store Path"}),h.jsx(Br,{className:"field-input",value:t.storePath,onChange:l=>o(l.target.value),placeholder:"app.user.name"})]}),h.jsxs(br,{className:"field",children:[h.jsx(xn,{className:"field-label",children:"Value (JSON)"}),h.jsx(bd,{className:"field-textarea",value:n,onChange:l=>a(l.target.value),rows:4}),i&&h.jsxs("div",{className:"error-message",children:[" ",i]})]})]})}function _Ke({config:t,onChange:e}){const[n,r]=x.useState(()=>JSON.stringify(t.headers||{},null,2)),[i,s]=x.useState(()=>JSON.stringify(t.body||{},null,2)),o=d=>{e({...t,endpoint:d})},a=d=>{e({...t,method:d})},l=d=>{r(d);try{const f=JSON.parse(d);e({...t,headers:f})}catch{}},u=d=>{s(d);try{const f=JSON.parse(d);e({...t,body:f})}catch{}},c=["GET","POST","PUT","DELETE","PATCH"];return h.jsxs("div",{className:"apicall-action-editor",children:[h.jsxs(br,{className:"field",children:[h.jsx(xn,{className:"field-label",children:"Endpoint"}),h.jsx(Br,{className:"field-input",value:t.endpoint,onChange:d=>o(d.target.value),placeholder:"/api/users"})]}),h.jsxs("div",{className:"field",children:[h.jsx(xn,{className:"field-label",children:"Method"}),h.jsxs(po,{selectedKey:t.method,onSelectionChange:d=>a(d),children:[h.jsx(Yt,{className:"select-trigger",children:h.jsx(go,{})}),h.jsx(Ss,{className:"select-popover",children:h.jsx(Ui,{className:"select-listbox",children:c.map(d=>h.jsx(tr,{id:d,textValue:d,children:d},d))})})]})]}),h.jsxs(br,{className:"field",children:[h.jsx(xn,{className:"field-label",children:"Headers (JSON)"}),h.jsx(bd,{className:"field-textarea",value:n,onChange:d=>l(d.target.value),rows:3})]}),h.jsxs(br,{className:"field",children:[h.jsx(xn,{className:"field-label",children:"Body (JSON)"}),h.jsx(bd,{className:"field-textarea",value:i,onChange:d=>u(d.target.value),rows:4})]})]})}function Z0({value:t,onChange:e,label:n,placeholder:r="#element or ID",filter:i}){const[s,o]=x.useState(t),a=Pe(p=>p.currentPageId),l=Pe(p=>p.getPageElements),u=x.useMemo(()=>{if(!a)return[];const p=l(a);let m=p;return i&&(m=p.filter(v=>i({id:v.id,tag:v.tag,customId:v.customId}))),m.map(v=>({id:v.id,tag:v.tag,customId:v.customId,displayName:v.customId?`#${v.customId}`:`${v.tag} (${v.id.slice(0,8)})`}))},[a,l,i]),c=x.useMemo(()=>{if(!s)return u;const p=s.toLowerCase();return u.filter(m=>m.displayName.toLowerCase().includes(p)||m.tag.toLowerCase().includes(p)||m.id.toLowerCase().includes(p))},[u,s]),d=p=>{if(!p)return;const m=u.find(v=>v.id===p);if(m){const v=m.customId?`#${m.customId}`:m.id;o(v),e(v)}},f=p=>{o(p),e(p)};return h.jsxs(T$,{className:"element-picker",inputValue:s,onInputChange:f,onSelectionChange:d,allowsCustomValue:!0,"aria-label":n||"Element selector",children:[n&&h.jsx(xn,{className:"element-picker-label",children:n}),h.jsxs("div",{className:"element-picker-input-wrapper",children:[h.jsx(vF,{size:yn.size,className:"element-picker-icon"}),h.jsx(Br,{className:"element-picker-input",placeholder:r}),h.jsx(Yt,{className:"element-picker-button",children:h.jsx(ho,{size:yn.size})})]}),h.jsx(Ss,{className:"element-picker-popover",children:h.jsx(Ui,{className:"element-picker-list",children:c.length===0?h.jsxs("div",{className:"element-picker-empty",children:[h.jsx(_c,{size:ce.size,color:ce.color}),h.jsx("span",{children:"No elements found"})]}):c.map(p=>h.jsxs(tr,{id:p.id,className:"element-picker-item",textValue:p.displayName,children:[h.jsx("span",{className:"element-tag",children:p.tag}),h.jsx("span",{className:"element-name",children:p.displayName})]},p.id))})})]})}function IKe({config:t,onChange:e}){const[n,r]=x.useState(()=>JSON.stringify(t.props||{},null,2)),i=o=>{e({...t,modalId:o})},s=o=>{r(o);try{const a=JSON.parse(o);e({...t,props:a})}catch{}};return h.jsxs("div",{className:"showmodal-action-editor",children:[h.jsx(Z0,{label:"Modal ID",value:t.modalId||"",onChange:i,placeholder:"Select modal...",filter:o=>o.tag==="Modal"}),h.jsxs(br,{className:"field",children:[h.jsx(xn,{className:"field-label",children:"Props (JSON)"}),h.jsx(bd,{className:"field-textarea",value:n,onChange:o=>s(o.target.value),rows:4})]})]})}function BKe({config:t,onChange:e}){const n=["info","success","warning","error"],r=o=>{e({...t,message:o})},i=o=>{e({...t,type:o})},s=o=>{e({...t,duration:o})};return h.jsxs("div",{className:"showtoast-action-editor",children:[h.jsxs(br,{className:"field",children:[h.jsx(xn,{className:"field-label",children:"Message"}),h.jsx(Br,{className:"field-input",value:t.message,onChange:o=>r(o.target.value),placeholder:"Operation successful!"})]}),h.jsxs("div",{className:"field",children:[h.jsx(xn,{className:"field-label",children:"Type"}),h.jsxs(po,{selectedKey:t.type||"info",onSelectionChange:o=>i(o),children:[h.jsx(Yt,{className:"select-trigger",children:h.jsx(go,{})}),h.jsx(Ss,{className:"select-popover",children:h.jsx(Ui,{className:"select-listbox",children:n.map(o=>h.jsx(tr,{id:o,textValue:o,children:o},o))})})]})]}),h.jsxs(cMe,{className:"field",value:t.duration||3e3,onChange:o=>s(o),children:[h.jsx(xn,{className:"field-label",children:"Duration (ms)"}),h.jsx(Br,{className:"field-input"})]})]})}function DKe({config:t,onChange:e}){const n=r=>{e({...t,formId:r})};return h.jsxs("div",{className:"validateform-action-editor",children:[h.jsx(Z0,{label:"Form ID",value:t.formId||"",onChange:n,placeholder:"Select form...",filter:r=>r.tag==="Form"}),h.jsx("div",{className:"helper-text",children:h.jsx("p",{children:"onValid  onInvalid      ."})})]})}function TKe({config:t,onChange:e}){const n=(i,s)=>{e({...t,[i]:s})},r=[{value:"top",label:"Top"},{value:"center",label:"Center"},{value:"bottom",label:"Bottom"}];return h.jsxs("div",{className:"scrollto-action-editor",children:[h.jsx(Z0,{label:"Element ID",value:t.elementId||"",onChange:i=>n("elementId",i||void 0),placeholder:"Select element..."}),h.jsxs("div",{className:"field",children:[h.jsx(xn,{className:"field-label",children:"Position"}),h.jsxs(po,{selectedKey:t.position||"top",onSelectionChange:i=>n("position",i),children:[h.jsx(Yt,{className:"select-trigger",children:h.jsx(go,{})}),h.jsx(Ss,{className:"select-popover",children:h.jsx(Ui,{className:"select-listbox",children:r.map(i=>h.jsx(tr,{id:i.value,textValue:i.label,children:i.label},i.value))})})]})]}),h.jsx(l3,{className:"checkbox-field",isSelected:t.smooth!==!1,onChange:i=>n("smooth",i),children:"Smooth scroll"}),h.jsxs(br,{className:"field",children:[h.jsx(xn,{className:"field-label",children:"Offset (px)"}),h.jsx(Br,{className:"field-input",type:"number",value:String(t.offset||0),onChange:i=>n("offset",Number(i.target.value)||void 0),placeholder:"0"})]})]})}function MKe({config:t,onChange:e}){const[n,r]=x.useState(()=>JSON.stringify(t.value,null,2)),[i,s]=x.useState(""),o=u=>{e({...t,storePath:u})},a=u=>{r(u);try{const c=JSON.parse(u);e({...t,value:c}),s("")}catch{s(" JSON ")}},l=u=>{e({...t,merge:u})};return h.jsxs("div",{className:"updatestate-action-editor",children:[h.jsxs(br,{className:"field",children:[h.jsx(xn,{className:"field-label",children:"Store Path"}),h.jsx(Br,{className:"field-input",value:t.storePath,onChange:u=>o(u.target.value),placeholder:"cart.items"})]}),h.jsxs(br,{className:"field",children:[h.jsx(xn,{className:"field-label",children:"Value (JSON or Template)"}),h.jsx(bd,{className:"field-textarea",value:n,onChange:u=>a(u.target.value),rows:4,placeholder:'{"id": 123} or {{response.data}}'}),i&&h.jsxs("div",{className:"error-message",children:[" ",i]})]}),h.jsx(l3,{className:"checkbox-field",isSelected:t.merge||!1,onChange:u=>l(u),children:"Merge with existing state"})]})}function kKe({config:t,onChange:e}){const n=r=>{e({...t,modalId:r||void 0})};return h.jsxs("div",{className:"hidemodal-action-editor",children:[h.jsx(Z0,{label:"Modal ID (empty = close all)",value:t.modalId||"",onChange:n,placeholder:"Select modal...",filter:r=>r.tag==="Modal"}),h.jsx("p",{className:"field-hint",children:"Leave empty to close all open modals"})]})}function PKe({config:t,onChange:e}){const n=(s,o)=>{e({...t,[s]:o})},r=[{value:"",label:"Toggle"},{value:"true",label:"Show"},{value:"false",label:"Hide"}],i=[{value:"ease",label:"Ease"},{value:"ease-in",label:"Ease In"},{value:"ease-out",label:"Ease Out"},{value:"ease-in-out",label:"Ease In Out"},{value:"linear",label:"Linear"}];return h.jsxs("div",{className:"togglevisibility-action-editor",children:[h.jsx(Z0,{label:"Element ID",value:t.elementId||"",onChange:s=>n("elementId",s),placeholder:"Select element..."}),h.jsxs("div",{className:"field",children:[h.jsx(xn,{className:"field-label",children:"Action"}),h.jsxs(po,{selectedKey:t.show===void 0?"":t.show===!0?"true":"false",onSelectionChange:s=>{n("show",s===""?void 0:s==="true")},children:[h.jsx(Yt,{className:"select-trigger",children:h.jsx(go,{})}),h.jsx(Ss,{className:"select-popover",children:h.jsx(Ui,{className:"select-listbox",children:r.map(s=>h.jsx(tr,{id:s.value,textValue:s.label,children:s.label},s.value))})})]})]}),h.jsxs(br,{className:"field",children:[h.jsx(xn,{className:"field-label",children:"Duration (ms)"}),h.jsx(Br,{className:"field-input",type:"number",value:String(t.duration||300),onChange:s=>n("duration",Number(s.target.value)||void 0),placeholder:"300"})]}),h.jsxs("div",{className:"field",children:[h.jsx(xn,{className:"field-label",children:"Easing"}),h.jsxs(po,{selectedKey:t.easing||"ease",onSelectionChange:s=>n("easing",s),children:[h.jsx(Yt,{className:"select-trigger",children:h.jsx(go,{})}),h.jsx(Ss,{className:"select-popover",children:h.jsx(Ui,{className:"select-listbox",children:i.map(s=>h.jsx(tr,{id:s.value,textValue:s.label,children:s.label},s.value))})})]})]})]})}function RKe({config:t,onChange:e}){const n=r=>{e({...t,formId:r})};return h.jsxs("div",{className:"resetform-action-editor",children:[h.jsx(Z0,{label:"Form ID",value:t.formId||"",onChange:n,placeholder:"Select form...",filter:r=>r.tag==="Form"}),h.jsx("p",{className:"field-hint",children:"Resets all form fields to their initial values"})]})}function NKe({config:t,onChange:e}){const n=r=>{e({...t,formId:r})};return h.jsxs("div",{className:"submitform-action-editor",children:[h.jsx(Z0,{label:"Form ID",value:t.formId||"",onChange:n,placeholder:"Select form...",filter:r=>r.tag==="Form"}),h.jsx("p",{className:"field-hint",children:"Triggers form submission (typically used with API call actions)"})]})}function LKe({config:t,onChange:e}){const n=(s,o)=>{e({...t,[s]:o})},r=[{value:"static",label:"Static text"},{value:"element",label:"Element content"},{value:"state",label:"From state"}],i=t.source||"static";return h.jsxs("div",{className:"copytoclipboard-action-editor",children:[h.jsxs("div",{className:"field",children:[h.jsx(xn,{className:"field-label",children:"Source"}),h.jsxs(po,{selectedKey:i,onSelectionChange:s=>n("source",s),children:[h.jsx(Yt,{className:"select-trigger",children:h.jsx(go,{})}),h.jsx(Ss,{className:"select-popover",children:h.jsx(Ui,{className:"select-listbox",children:r.map(s=>h.jsx(tr,{id:s.value,textValue:s.label,children:s.label},s.value))})})]})]}),i==="static"&&h.jsxs(br,{className:"field",children:[h.jsx(xn,{className:"field-label",children:"Text"}),h.jsx(Br,{className:"field-input",value:t.text,onChange:s=>n("text",s.target.value),placeholder:"Text to copy"})]}),i==="element"&&h.jsx(Z0,{label:"Element ID",value:t.elementId||"",onChange:s=>n("elementId",s),placeholder:"Select element..."}),i==="state"&&h.jsxs(br,{className:"field",children:[h.jsx(xn,{className:"field-label",children:"State Key"}),h.jsx(Br,{className:"field-input",value:t.stateKey||"",onChange:s=>n("stateKey",s.target.value),placeholder:"user.email"})]})]})}function FKe({config:t,onChange:e}){const[n,r]=x.useState(()=>JSON.stringify(t.params||{},null,2)),[i,s]=x.useState(""),o=l=>{e({...t,code:l})},a=l=>{r(l);try{const u=JSON.parse(l);e({...t,params:u}),s("")}catch{s(" JSON ")}};return h.jsxs("div",{className:"customfunction-action-editor",children:[h.jsxs("div",{className:"field",children:[h.jsx(xn,{className:"field-label",children:"JavaScript Code"}),h.jsx(bd,{className:"field-textarea code-editor",value:t.code,onChange:l=>o(l.target.value),rows:10,placeholder:`// Available context:
// - event: Event object
// - element: DOM element
// - state: App state
// - console: Console methods

console.log('Hello from custom function!');
return { success: true };`})]}),h.jsxs("div",{className:"field",children:[h.jsx(xn,{className:"field-label",children:"Parameters (JSON)"}),h.jsx(bd,{className:"field-textarea",value:n,onChange:l=>a(l.target.value),rows:4,placeholder:'{"key": "value"}'}),i&&h.jsxs("div",{className:"error-message",children:[" ",i]})]}),h.jsxs("div",{className:"field-hint",children:[h.jsx("p",{children:h.jsx("strong",{children:" Security Note:"})}),h.jsxs("ul",{children:[h.jsx("li",{children:"Dangerous operations (eval, fetch, DOM manipulation) are restricted"}),h.jsx("li",{children:"Only safe console methods and limited DOM access allowed"}),h.jsx("li",{children:"Code execution is sandboxed for security"})]})]})]})}const $Ke={ListBox:["select","clear","selectAll","focus"],GridList:["select","clear","selectAll","focus"],Select:["select","clear","open","close","focus"],ComboBox:["select","clear","open","close","focus","filter"],RadioGroup:["select","clear","focus"],CheckboxGroup:["select","clear","selectAll","focus"],TagGroup:["add","remove","clear","focus"],TextField:["setValue","clear","focus","blur"],SearchField:["setValue","clear","focus","blur"],NumberField:["setValue","increment","decrement","focus","blur"],TextArea:["setValue","clear","focus","blur"],Slider:["setValue","focus"],DatePicker:["setValue","clear","open","close","focus"],TimeField:["setValue","clear","focus"],Modal:["open","close"],Dialog:["open","close"],Popover:["open","close"],Tooltip:["show","hide"],Tabs:["selectTab","focus"],Menu:["open","close","focus"],ProgressBar:["setValue"],Meter:["setValue"],Panel:["show","hide","toggle"],Card:["show","hide","toggle"]},cL=aa((t,e)=>({components:[],registerComponent:n=>{t(r=>r.components.some(s=>s.id===n.id)?{components:r.components.map(s=>s.id===n.id?n:s)}:{components:[...r.components,n]})},unregisterComponent:n=>{t(r=>({components:r.components.filter(i=>i.id!==n)}))},updateComponentState:(n,r)=>{t(i=>({components:i.components.map(s=>s.id===n?{...s,state:{...s.state,...r}}:s)}))},getComponent:n=>e().components.find(r=>r.id===n),getComponentByCustomId:n=>e().components.find(r=>r.customId===n),getComponentsByType:n=>e().components.filter(r=>r.tag===n),clearRegistry:()=>{t({components:[]})}}));function zKe(t){return $Ke[t]||[]}function y4({value:t,onChange:e,filterByType:n,label:r="Target Component",placeholder:i="Select a component"}){const s=cL(l=>l.components),o=n?s.filter(l=>n.includes(l.tag)):s,a=o.reduce((l,u)=>(l[u.tag]||(l[u.tag]=[]),l[u.tag].push(u),l),{});return h.jsxs("div",{className:"component-selector",children:[h.jsxs("div",{className:"field",children:[h.jsx(xn,{className:"field-label",children:r}),h.jsxs(po,{selectedKey:t||"",onSelectionChange:l=>e(l),children:[h.jsx(Yt,{className:"select-trigger",children:h.jsx(go,{})}),h.jsx(Ss,{className:"select-popover",children:h.jsxs(Ui,{className:"select-listbox",children:[h.jsx(tr,{id:"",textValue:i,children:i},""),Object.entries(a).map(([l,u])=>h.jsxs("div",{className:"component-group",children:[h.jsx("div",{className:"group-header",children:l}),u.map(c=>{const d=c.customId||`${c.tag} (${c.id.slice(0,8)})`;return h.jsx(tr,{id:c.customId||c.id,textValue:d,children:d},c.customId||c.id)})]},l)),o.length===0&&h.jsxs(tr,{id:"empty",isDisabled:!0,textValue:"No components available",children:["No components available",n&&` (filtered by: ${n.join(", ")})`]},"empty")]})})]})]}),t&&h.jsxs("p",{className:"field-hint",children:["Selected:"," ",o.find(l=>l.customId===t||l.id===t)?.customId||t]})]})}function OKe({config:t,onChange:e}){const[n,r]=x.useState(()=>JSON.stringify(t.value,null,2)),[i,s]=x.useState(""),o=(c,d)=>{e({...t,[c]:d})},a=c=>{r(c);try{const d=JSON.parse(c);e({...t,value:d}),s("")}catch{s(" JSON ")}},l=[{value:"static",label:"Static value"},{value:"state",label:"From app state"},{value:"event",label:"From event data"}],u=t.source||"static";return h.jsxs("div",{className:"setcomponentstate-action-editor",children:[h.jsx(y4,{value:t.targetId,onChange:c=>o("targetId",c),label:"Target Component",placeholder:"Select component to control"}),h.jsxs(br,{className:"field",children:[h.jsx(xn,{className:"field-label",children:"State Path"}),h.jsx(Br,{className:"field-input",value:t.statePath,onChange:c=>o("statePath",c.target.value),placeholder:"selectedKeys, isOpen, value"})]}),h.jsxs("div",{className:"field",children:[h.jsx(xn,{className:"field-label",children:"Value Source"}),h.jsxs(po,{selectedKey:u,onSelectionChange:c=>o("source",c),children:[h.jsx(Yt,{className:"select-trigger",children:h.jsx(go,{})}),h.jsx(Ss,{className:"select-popover",children:h.jsx(Ui,{className:"select-listbox",children:l.map(c=>h.jsx(tr,{id:c.value,textValue:c.label,children:c.label},c.value))})})]})]}),h.jsxs(br,{className:"field",children:[h.jsx(xn,{className:"field-label",children:"Value (JSON)"}),h.jsx(bd,{className:"field-textarea",value:n,onChange:c=>a(c.target.value),rows:4,placeholder:u==="static"?'["item-1", "item-2"] or true':u==="state"?"{{state.selectedItems}}":"{{event.target.value}}"}),i&&h.jsxs("div",{className:"error-message",children:[" ",i]})]}),h.jsxs("div",{className:"field-hint",children:[h.jsx("p",{children:h.jsx("strong",{children:"Common state paths:"})}),h.jsxs("ul",{children:[h.jsxs("li",{children:[h.jsx("code",{children:"selectedKeys"})," - Selection state (ListBox, GridList, Select)"]}),h.jsxs("li",{children:[h.jsx("code",{children:"isOpen"})," - Open/close state (Modal, Popover, Select)"]}),h.jsxs("li",{children:[h.jsx("code",{children:"value"})," - Input value (TextField, NumberField, Slider)"]}),h.jsxs("li",{children:[h.jsx("code",{children:"isDisabled"})," - Disabled state (any component)"]})]})]})]})}function jKe({config:t,onChange:e}){const[n,r]=x.useState(()=>JSON.stringify(t.params||{},null,2)),[i,s]=x.useState(""),o=(f,p)=>{e({...t,[f]:p})},a=f=>{r(f);try{const p=JSON.parse(f);e({...t,params:p}),s("")}catch{s(" JSON ")}},l=cL(f=>f.getComponent),u=cL(f=>f.getComponentByCustomId),c=l(t.targetId)||u(t.targetId),d=c?zKe(c.tag):[];return h.jsxs("div",{className:"triggercomponentaction-action-editor",children:[h.jsx(y4,{value:t.targetId,onChange:f=>o("targetId",f),label:"Target Component",placeholder:"Select component to trigger"}),d.length>0?h.jsxs("div",{className:"field",children:[h.jsx(xn,{className:"field-label",children:"Action"}),h.jsxs(po,{selectedKey:t.action||"",onSelectionChange:f=>o("action",f),children:[h.jsx(Yt,{className:"select-trigger",children:h.jsx(go,{})}),h.jsx(Ss,{className:"select-popover",children:h.jsxs(Ui,{className:"select-listbox",children:[h.jsx(tr,{id:"",textValue:"Select an action",children:"Select an action"},""),d.map(f=>h.jsx(tr,{id:f,textValue:f,children:f},f))]})})]})]}):h.jsx("p",{className:"field-hint warning",children:" Select a target component first to see available actions"}),t.action&&h.jsxs(h.Fragment,{children:[h.jsxs(br,{className:"field",children:[h.jsx(xn,{className:"field-label",children:"Parameters (JSON)"}),h.jsx(bd,{className:"field-textarea",value:n,onChange:f=>a(f.target.value),rows:4,placeholder:'{"itemId": "item-1", "behavior": "replace"}'}),i&&h.jsxs("div",{className:"error-message",children:[" ",i]})]}),h.jsxs("div",{className:"field-hint",children:[h.jsx("p",{children:h.jsxs("strong",{children:["Action: ",t.action]})}),h.jsx("p",{children:"Common parameters vary by action type:"}),h.jsxs("ul",{children:[h.jsxs("li",{children:[h.jsx("code",{children:"select"})," - itemId, behavior (replace/add/toggle)"]}),h.jsxs("li",{children:[h.jsx("code",{children:"filter"})," - query, mode (include/exclude)"]}),h.jsxs("li",{children:[h.jsx("code",{children:"setValue"})," - value"]}),h.jsxs("li",{children:[h.jsx("code",{children:"focus/blur"})," - no params needed"]})]})]})]}),c&&h.jsxs("div",{className:"field-hint",children:[h.jsxs("p",{children:["Target: ",h.jsx("strong",{children:c.customId||c.id})," (",c.tag,")"]}),h.jsxs("p",{children:["Available actions: ",d.join(", ")||"None"]})]})]})}function QKe({config:t,onChange:e}){const[n,r]=x.useState(()=>JSON.stringify(t.value,null,2)),[i,s]=x.useState(""),o=(c,d)=>{e({...t,[c]:d})},a=c=>{r(c);try{const d=JSON.parse(c);e({...t,value:d}),s("")}catch{s(" JSON ")}},l=[{value:"static",label:"Static value"},{value:"state",label:"From app state"},{value:"event",label:"From event data"}],u=t.source||"static";return h.jsxs("div",{className:"updateformfield-action-editor",children:[h.jsx(Z0,{label:"Form ID (optional)",value:t.formId||"",onChange:c=>o("formId",c||void 0),placeholder:"Select form...",filter:c=>c.tag==="Form"}),h.jsxs(br,{className:"field",children:[h.jsx(xn,{className:"field-label",children:"Field Name"}),h.jsx(Br,{className:"field-input",value:t.fieldName,onChange:c=>o("fieldName",c.target.value),placeholder:"email, password, username"})]}),h.jsxs("div",{className:"field",children:[h.jsx(xn,{className:"field-label",children:"Value Source"}),h.jsxs(po,{selectedKey:u,onSelectionChange:c=>o("source",c),children:[h.jsx(Yt,{className:"select-trigger",children:h.jsx(go,{})}),h.jsx(Ss,{className:"select-popover",children:h.jsx(Ui,{className:"select-listbox",children:l.map(c=>h.jsx(tr,{id:c.value,textValue:c.label,children:c.label},c.value))})})]})]}),h.jsxs(br,{className:"field",children:[h.jsx(xn,{className:"field-label",children:"Value (JSON)"}),h.jsx(bd,{className:"field-textarea",value:n,onChange:c=>a(c.target.value),rows:4,placeholder:u==="static"?'"user@example.com" or 123':u==="state"?"{{state.user.email}}":"{{event.target.value}}"}),i&&h.jsxs("div",{className:"error-message",children:[" ",i]})]}),h.jsxs("div",{className:"field-hint",children:[h.jsx("p",{children:h.jsx("strong",{children:"Usage:"})}),h.jsxs("ul",{children:[h.jsxs("li",{children:[h.jsx("strong",{children:"Field Name:"})," Must match the ",h.jsx("code",{children:"name"})," attribute of the form field"]}),h.jsxs("li",{children:[h.jsx("strong",{children:"Form ID:"})," Optional. If provided, will only update fields within that form"]}),h.jsxs("li",{children:[h.jsx("strong",{children:"Value Source:"}),h.jsxs("ul",{children:[h.jsxs("li",{children:[h.jsx("code",{children:"static"})," - Hardcoded value"]}),h.jsxs("li",{children:[h.jsx("code",{children:"state"})," - From app state (e.g., ",h.jsx("code",{children:"state.user.email"}),")"]}),h.jsxs("li",{children:[h.jsx("code",{children:"event"})," - From event data (e.g., ",h.jsx("code",{children:"event.target.value"}),")"]})]})]})]})]})]})}function UKe({config:t,onChange:e}){const[n,r]=x.useState(()=>JSON.stringify(t.fieldValue,null,2)),[i,s]=x.useState(""),o=(c,d)=>{e({...t,[c]:d})},a=c=>{r(c);try{const d=JSON.parse(c);e({...t,fieldValue:d}),s("")}catch{s(" JSON ")}},l=[{value:"text",label:"Text Search"},{value:"function",label:"Custom Function"},{value:"field",label:"Field Match"}],u=["ListBox","GridList","Select","ComboBox","TagGroup"];return h.jsxs("div",{className:"filtercollection-action-editor",children:[h.jsx(y4,{value:t.targetId,onChange:c=>o("targetId",c),filterByType:u,label:"Target Collection",placeholder:"Select ListBox, GridList, or other collection"}),h.jsxs("div",{className:"field",children:[h.jsx(xn,{className:"field-label",children:"Filter Mode"}),h.jsxs(po,{selectedKey:t.filterMode,onSelectionChange:c=>o("filterMode",c),children:[h.jsx(Yt,{className:"select-trigger",children:h.jsx(go,{})}),h.jsx(Ss,{className:"select-popover",children:h.jsx(Ui,{className:"select-listbox",children:l.map(c=>h.jsx(tr,{id:c.value,textValue:c.label,children:c.label},c.value))})})]})]}),t.filterMode==="text"&&h.jsxs(br,{className:"field",children:[h.jsx(xn,{className:"field-label",children:"Search Query"}),h.jsx(Br,{className:"field-input",value:t.query||"",onChange:c=>o("query",c.target.value),placeholder:"Enter search text"})]}),t.filterMode==="function"&&h.jsxs(br,{className:"field",children:[h.jsx(xn,{className:"field-label",children:"Filter Function"}),h.jsx(bd,{className:"field-textarea code-editor",value:t.filterFn||"",onChange:c=>o("filterFn",c.target.value),rows:4,placeholder:"item => item.category === 'premium' && item.price > 100"}),h.jsx("p",{className:"field-hint",children:"Write a JavaScript arrow function that returns true for items to keep."})]}),t.filterMode==="field"&&h.jsxs(h.Fragment,{children:[h.jsxs(br,{className:"field",children:[h.jsx(xn,{className:"field-label",children:"Field Name"}),h.jsx(Br,{className:"field-input",value:t.fieldName||"",onChange:c=>o("fieldName",c.target.value),placeholder:"category, status, type"})]}),h.jsxs(br,{className:"field",children:[h.jsx(xn,{className:"field-label",children:"Field Value (JSON)"}),h.jsx(bd,{className:"field-textarea",value:n,onChange:c=>a(c.target.value),rows:2,placeholder:'"premium" or ["active", "pending"]'}),i&&h.jsxs("div",{className:"error-message",children:[" ",i]})]})]}),h.jsxs("div",{className:"field-hint",children:[h.jsx("p",{children:h.jsx("strong",{children:"Filter Modes:"})}),h.jsxs("ul",{children:[h.jsxs("li",{children:[h.jsx("strong",{children:"Text Search:"})," Simple text matching across all fields"]}),h.jsxs("li",{children:[h.jsx("strong",{children:"Custom Function:"})," Advanced filtering with JavaScript"]}),h.jsxs("li",{children:[h.jsx("strong",{children:"Field Match:"})," Filter by specific field value"]})]}),h.jsxs("p",{children:["Examples:",h.jsx("br",{}),' Text: "premium user" searches all text fields',h.jsx("br",{})," Function: item => item.price > 100",h.jsx("br",{}),' Field: category = "electronics"']})]})]})}function HKe({config:t,onChange:e}){const n=(a,l)=>{e({...t,[a]:l})},r=[{value:"replace",label:"Replace (clear others)"},{value:"add",label:"Add (keep existing)"},{value:"toggle",label:"Toggle (flip state)"}],i=[{value:"static",label:"Static ID"},{value:"state",label:"From app state"},{value:"event",label:"From event data"}],s=["ListBox","GridList","Select","ComboBox","RadioGroup","CheckboxGroup"],o=t.source||"static";return h.jsxs("div",{className:"selectitem-action-editor",children:[h.jsx(y4,{value:t.targetId,onChange:a=>n("targetId",a),filterByType:s,label:"Target Collection",placeholder:"Select collection component"}),h.jsxs("div",{className:"field",children:[h.jsx(xn,{className:"field-label",children:"Selection Behavior"}),h.jsxs(po,{selectedKey:t.behavior,onSelectionChange:a=>n("behavior",a),children:[h.jsx(Yt,{className:"select-trigger",children:h.jsx(go,{})}),h.jsx(Ss,{className:"select-popover",children:h.jsx(Ui,{className:"select-listbox",children:r.map(a=>h.jsx(tr,{id:a.value,textValue:a.label,children:a.label},a.value))})})]})]}),h.jsxs("div",{className:"field",children:[h.jsx(xn,{className:"field-label",children:"Item ID Source"}),h.jsxs(po,{selectedKey:o,onSelectionChange:a=>n("source",a),children:[h.jsx(Yt,{className:"select-trigger",children:h.jsx(go,{})}),h.jsx(Ss,{className:"select-popover",children:h.jsx(Ui,{className:"select-listbox",children:i.map(a=>h.jsx(tr,{id:a.value,textValue:a.label,children:a.label},a.value))})})]})]}),o==="static"&&h.jsxs(h.Fragment,{children:[h.jsxs(br,{className:"field",children:[h.jsx(xn,{className:"field-label",children:"Item ID"}),h.jsx(Br,{className:"field-input",value:t.itemId||"",onChange:a=>n("itemId",a.target.value),placeholder:"user-123, product-456"})]}),h.jsxs(br,{className:"field",children:[h.jsx(xn,{className:"field-label",children:"Or Item Index (optional)"}),h.jsx(Br,{className:"field-input",type:"number",value:String(t.itemIndex??""),onChange:a=>n("itemIndex",a.target.value?Number(a.target.value):void 0),placeholder:"0, 1, 2, ..."})]})]}),o==="state"&&h.jsxs(br,{className:"field",children:[h.jsx(xn,{className:"field-label",children:"State Path"}),h.jsx(Br,{className:"field-input",value:t.itemId||"",onChange:a=>n("itemId",a.target.value),placeholder:"state.selectedUserId or {{state.cart.selectedProduct}}"})]}),o==="event"&&h.jsxs(br,{className:"field",children:[h.jsx(xn,{className:"field-label",children:"Event Path"}),h.jsx(Br,{className:"field-input",value:t.itemId||"",onChange:a=>n("itemId",a.target.value),placeholder:"event.target.value or {{event.detail.itemId}}"})]}),h.jsxs("div",{className:"field-hint",children:[h.jsx("p",{children:h.jsx("strong",{children:"Selection Behaviors:"})}),h.jsxs("ul",{children:[h.jsxs("li",{children:[h.jsx("strong",{children:"Replace:"})," Clear all existing selections and select this item only"]}),h.jsxs("li",{children:[h.jsx("strong",{children:"Add:"})," Add this item to existing selections (multi-select)"]}),h.jsxs("li",{children:[h.jsx("strong",{children:"Toggle:"})," If selected, deselect it; if not, select it"]})]}),h.jsxs("p",{children:[h.jsx("strong",{children:"Priority:"})," If both itemId and itemIndex are provided, itemId takes precedence."]})]})]})}function VKe({config:t,onChange:e}){const n=i=>{e({...t,targetId:i})},r=["ListBox","GridList","Select","ComboBox","RadioGroup","CheckboxGroup","TagGroup"];return h.jsxs("div",{className:"clearselection-action-editor",children:[h.jsx(y4,{value:t.targetId,onChange:n,filterByType:r,label:"Target Collection",placeholder:"Select collection to clear"}),h.jsxs("div",{className:"field-hint",children:[h.jsx("p",{children:"This action will clear all selected items in the target collection component."}),h.jsxs("p",{children:[h.jsx("strong",{children:"Compatible with:"})," ListBox, GridList, Select, ComboBox, RadioGroup, CheckboxGroup, TagGroup"]})]})]})}function GKe({config:t,onChange:e}){return h.jsxs("div",{className:"action-editor-fields",children:[h.jsxs(br,{value:t.dataTableName,onChange:n=>e({...t,dataTableName:n}),children:[h.jsx(xn,{className:"field-label",children:"DataTable Name"}),h.jsx(Br,{className:"field-input",placeholder:"e.g., users, products"})]}),h.jsxs("div",{className:"field-row",children:[h.jsx(LT,{isSelected:t.forceRefresh??!1,onChange:n=>e({...t,forceRefresh:n}),children:h.jsx("span",{className:"switch-label",children:"Force Refresh"})}),h.jsx("span",{className:"field-hint",children:"Bypass cache and fetch fresh data"})]}),h.jsxs(br,{value:String(t.cacheTTL??""),onChange:n=>e({...t,cacheTTL:n?parseInt(n,10):void 0}),children:[h.jsx(xn,{className:"field-label",children:"Cache TTL (seconds)"}),h.jsx(Br,{className:"field-input",type:"number",min:0,placeholder:"e.g., 300 (5 minutes)"})]}),h.jsxs(br,{value:t.targetVariable??"",onChange:n=>e({...t,targetVariable:n||void 0}),children:[h.jsx(xn,{className:"field-label",children:"Store Result In (optional)"}),h.jsx(Br,{className:"field-input",placeholder:"e.g., loadedUsers"})]})]})}function KKe({config:t,onChange:e}){const n=[{value:"replace",label:"Replace ()"},{value:"merge",label:"Merge ()"},{value:"append",label:"Append ()"}];return h.jsxs("div",{className:"action-editor-fields",children:[h.jsxs(br,{value:t.sourceId,onChange:r=>e({...t,sourceId:r}),children:[h.jsx(xn,{className:"field-label",children:"Source Component ID"}),h.jsx(Br,{className:"field-input",placeholder:"e.g., #userList, component_123"})]}),h.jsxs(br,{value:t.targetId,onChange:r=>e({...t,targetId:r}),children:[h.jsx(xn,{className:"field-label",children:"Target Component ID"}),h.jsx(Br,{className:"field-input",placeholder:"e.g., #userDetails, component_456"})]}),h.jsxs("div",{className:"field-group",children:[h.jsx(xn,{className:"field-label",children:"Sync Mode"}),h.jsxs(po,{selectedKey:t.syncMode,onSelectionChange:r=>e({...t,syncMode:r}),children:[h.jsx(Yt,{className:"select-trigger",children:h.jsx(go,{})}),h.jsx(Ss,{className:"select-popover",children:h.jsx(Ui,{className:"select-listbox",children:n.map(r=>h.jsx(tr,{id:r.value,textValue:r.label,children:r.label},r.value))})})]})]}),h.jsxs(br,{value:t.dataPath??"",onChange:r=>e({...t,dataPath:r||void 0}),children:[h.jsx(xn,{className:"field-label",children:"Data Path (optional)"}),h.jsx(Br,{className:"field-input",placeholder:"e.g., selectedItem, data.items[0]"})]})]})}function WKe({config:t,onChange:e}){const n=[{value:"response",label:"API Response"},{value:"variable",label:"Variable"},{value:"static",label:"Static Value"}],r=[{value:"replace",label:"Replace ( )"},{value:"merge",label:"Merge ()"},{value:"append",label:"Append ()"},{value:"upsert",label:"Upsert ( ,  )"}];return h.jsxs("div",{className:"action-editor-fields",children:[h.jsxs(br,{value:t.dataTableName,onChange:i=>e({...t,dataTableName:i}),children:[h.jsx(xn,{className:"field-label",children:"DataTable Name"}),h.jsx(Br,{className:"field-input",placeholder:"e.g., users, orders"})]}),h.jsxs("div",{className:"field-group",children:[h.jsx(xn,{className:"field-label",children:"Data Source"}),h.jsxs(po,{selectedKey:t.source,onSelectionChange:i=>e({...t,source:i}),children:[h.jsx(Yt,{className:"select-trigger",children:h.jsx(go,{})}),h.jsx(Ss,{className:"select-popover",children:h.jsx(Ui,{className:"select-listbox",children:n.map(i=>h.jsx(tr,{id:i.value,textValue:i.label,children:i.label},i.value))})})]})]}),h.jsxs(br,{value:t.sourcePath??"",onChange:i=>e({...t,sourcePath:i||void 0}),children:[h.jsx(xn,{className:"field-label",children:t.source==="response"?"Response Path":t.source==="variable"?"Variable Name":"Static Value"}),h.jsx(Br,{className:"field-input",placeholder:t.source==="response"?"e.g., data.items, result":t.source==="variable"?"e.g., apiResult, formData":'e.g., { "status": "active" }'})]}),h.jsxs("div",{className:"field-group",children:[h.jsx(xn,{className:"field-label",children:"Save Mode"}),h.jsxs(po,{selectedKey:t.saveMode,onSelectionChange:i=>e({...t,saveMode:i}),children:[h.jsx(Yt,{className:"select-trigger",children:h.jsx(go,{})}),h.jsx(Ss,{className:"select-popover",children:h.jsx(Ui,{className:"select-listbox",children:r.map(i=>h.jsx(tr,{id:i.value,textValue:i.label,children:i.label},i.value))})})]})]}),t.saveMode==="upsert"&&h.jsxs(br,{value:t.keyField??"",onChange:i=>e({...t,keyField:i||void 0}),children:[h.jsx(xn,{className:"field-label",children:"Key Field (for Upsert)"}),h.jsx(Br,{className:"field-input",placeholder:"e.g., id, email"})]}),h.jsxs(br,{value:t.transform??"",onChange:i=>e({...t,transform:i||void 0}),children:[h.jsx(xn,{className:"field-label",children:"Transform Expression (optional)"}),h.jsx(Br,{className:"field-input",placeholder:"e.g., items.map(i => ({ ...i, status: 'saved' }))"})]})]})}function qKe({config:t,onChange:e}){const[n,r]=x.useState(()=>JSON.stringify(t.value??"",null,2)),[i,s]=x.useState(""),o=Oi(f=>f.variables),a=x.useMemo(()=>Array.from(o.values()),[o]),l=x.useMemo(()=>a.find(f=>f.name===t.variableName),[a,t.variableName]),u=f=>{const m=a.find(v=>v.name===f)?.defaultValue??"";r(JSON.stringify(m,null,2)),e({...t,variableName:f,value:m})},c=f=>{r(f);try{const p=JSON.parse(f);e({...t,value:p}),s("")}catch{e({...t,value:f}),s("")}},d=l?.type==="boolean";return h.jsxs("div",{className:"setvariable-action-editor",children:[h.jsxs("div",{className:"field",children:[h.jsx(xn,{className:"field-label",children:"Variable"}),a.length>0?h.jsxs(po,{selectedKey:t.variableName||"",onSelectionChange:f=>u(f),children:[h.jsx(Yt,{className:"select-trigger",children:h.jsx(go,{children:"Select variable..."})}),h.jsx(Ss,{className:"select-popover",children:h.jsx(Ui,{className:"select-listbox",children:a.map(f=>h.jsxs(tr,{id:f.name,textValue:f.name,children:[h.jsx("span",{children:f.name}),h.jsxs("span",{className:"variable-type-badge",children:[f.type,"  ",f.scope]})]},f.name))})})]}):h.jsx(br,{className:"field",children:h.jsx(Br,{className:"field-input",value:t.variableName||"",onChange:f=>e({...t,variableName:f.target.value}),placeholder:"variableName"})})]}),d?h.jsxs("div",{className:"field",children:[h.jsx(xn,{className:"field-label",children:"Value"}),h.jsx("div",{className:"boolean-toggle",children:h.jsx(LT,{isSelected:t.value===!0,onChange:f=>e({...t,value:f}),children:h.jsx("span",{className:"switch-label",children:t.value===!0?"true":"false"})})})]}):h.jsxs(br,{className:"field",children:[h.jsx(xn,{className:"field-label",children:"Value (JSON)"}),h.jsx(bd,{className:"field-textarea",value:n,onChange:f=>c(f.target.value),rows:3,placeholder:l?.type==="string"?'"your text here"':l?.type==="number"?"0":l?.type==="array"?"[]":l?.type==="object"?"{}":"value"}),i&&h.jsx("div",{className:"error-message",children:i})]}),l&&h.jsxs("div",{className:"variable-info",children:[h.jsx("span",{className:"info-label",children:"Type:"}),h.jsx("span",{className:"info-value",children:l.type}),h.jsx("span",{className:"info-label",children:"Scope:"}),h.jsx("span",{className:"info-value",children:l.scope})]})]})}function YKe({condition:t,onChange:e,label:n="Condition (optional)",placeholder:r="event.value > 10 && state.isLoggedIn === true"}){const[i,s]=x.useState(!1),o=u=>{e(u.trim()===""?void 0:u)},a=[{name:"event",description:"Event object (e.g., event.target.value)"},{name:"state",description:"Application state (e.g., state.user.name)"},{name:"element",description:"Target DOM element (e.g., element.id)"}],l=["state.isLoggedIn === true","event.value > 100","state.cart.items.length > 0","element.dataset.type === 'premium'"];return h.jsxs("div",{className:"condition-editor",children:[h.jsxs(br,{className:"field",children:[h.jsx(xn,{className:"field-label",children:n}),h.jsx(bd,{className:"field-textarea code-editor",value:t||"",onChange:u=>o(u.target.value),onFocus:()=>s(!0),onBlur:()=>s(!1),rows:3,placeholder:r})]}),i&&h.jsxs("div",{className:"condition-hints",children:[h.jsxs("div",{className:"hints-section",children:[h.jsx("strong",{children:"Available context:"}),h.jsx("ul",{children:a.map(u=>h.jsxs("li",{children:[h.jsx("code",{children:u.name})," - ",u.description]},u.name))})]}),h.jsxs("div",{className:"hints-section",children:[h.jsx("strong",{children:"Examples:"}),h.jsx("ul",{children:l.map((u,c)=>h.jsx("li",{children:h.jsx("code",{children:u})},c))})]})]}),t&&h.jsx("p",{className:"field-hint",children:" Action will only execute if this condition is true"})]})}function XKe({delay:t,onChange:e}){const n=t!==void 0&&t>0,r=t||1e3,i=a=>{e(a?r:void 0)},s=a=>{e(a>0?a:void 0)},o=[{label:"0.5s",value:500},{label:"1s",value:1e3},{label:"2s",value:2e3},{label:"5s",value:5e3}];return h.jsxs("div",{className:"action-delay-editor",children:[h.jsx(l3,{className:"checkbox-field",isSelected:n,onChange:i,children:"Add delay before executing"}),n&&h.jsxs(h.Fragment,{children:[h.jsxs(br,{className:"field",children:[h.jsx(xn,{className:"field-label",children:"Delay (ms)"}),h.jsx(Br,{className:"field-input",type:"number",value:String(r),onChange:a=>s(Number(a.target.value)||0),min:0,step:100})]}),h.jsxs("div",{className:"presets-group",children:[h.jsx(xn,{className:"field-label",children:"Presets:"}),h.jsx("div",{className:"preset-buttons",children:o.map(a=>h.jsx(Yt,{className:"react-aria-Button sm",onPress:()=>s(a.value),children:a.label},a.label))})]}),h.jsxs("p",{className:"field-hint",children:[" This action will wait ",h.jsxs("strong",{children:[r,"ms"]})," before executing. Useful for creating sequences or animations."]})]})]})}function JKe({action:t,onChange:e}){const n=[{value:"navigate",label:"Navigate"},{value:"scrollTo",label:"Scroll To"},{value:"setState",label:"Set State"},{value:"updateState",label:"Update State"},{value:"apiCall",label:"API Call"},{value:"showModal",label:"Show Modal"},{value:"hideModal",label:"Hide Modal"},{value:"showToast",label:"Show Toast"},{value:"toggleVisibility",label:"Toggle Visibility"},{value:"validateForm",label:"Validate Form"},{value:"resetForm",label:"Reset Form"},{value:"submitForm",label:"Submit Form"},{value:"setComponentState",label:"Set Component State"},{value:"triggerComponentAction",label:"Trigger Component Action"},{value:"updateFormField",label:"Update Form Field"},{value:"filterCollection",label:"Filter Collection"},{value:"selectItem",label:"Select Item"},{value:"clearSelection",label:"Clear Selection"},{value:"copyToClipboard",label:"Copy to Clipboard"},{value:"customFunction",label:"Custom Function"},{value:"loadDataTable",label:"Load DataTable"},{value:"syncComponent",label:"Sync Component"},{value:"saveToDataTable",label:"Save to DataTable"},{value:"setVariable",label:"Set Variable"}],r=i=>{e({type:i,config:{navigate:{path:"/"},scrollTo:{elementId:"",position:"top",smooth:!0},setState:{storePath:"",value:""},updateState:{storePath:"",value:"",merge:!1},apiCall:{endpoint:"",method:"GET"},showModal:{modalId:""},hideModal:{modalId:""},showToast:{message:"",variant:"info",duration:3e3},toggleVisibility:{elementId:"",show:void 0},validateForm:{formId:""},resetForm:{formId:""},submitForm:{formId:""},setComponentState:{targetId:"",statePath:"",value:"",source:"static"},triggerComponentAction:{targetId:"",action:""},updateFormField:{fieldName:"",value:"",source:"static"},filterCollection:{targetId:"",filterMode:"text",query:""},selectItem:{targetId:"",itemId:"",behavior:"replace",source:"static"},clearSelection:{targetId:""},copyToClipboard:{text:"",source:"static"},customFunction:{code:"",params:{}},loadDataTable:{dataTableName:"",forceRefresh:!1},syncComponent:{sourceId:"",targetId:"",syncMode:"replace"},saveToDataTable:{dataTableName:"",source:"response",saveMode:"replace"},setVariable:{variableName:"",value:"",persist:!1}}[i]})};return h.jsxs("div",{className:"action-editor",children:[h.jsxs("div",{className:"action-type-selector",children:[h.jsx(xn,{className:"field-label",children:"Action Type"}),h.jsxs(po,{selectedKey:t.type,onSelectionChange:i=>r(i),children:[h.jsx(Yt,{className:"select-trigger",children:h.jsx(go,{})}),h.jsx(Ss,{className:"select-popover",children:h.jsx(Ui,{className:"select-listbox",children:n.map(i=>h.jsx(tr,{id:i.value,textValue:i.label,children:i.label},i.value))})})]})]}),h.jsxs("div",{className:"action-config",children:[t.type==="navigate"&&h.jsx(SKe,{config:t.config,onChange:i=>e({...t,config:i})}),t.type==="scrollTo"&&h.jsx(TKe,{config:t.config,onChange:i=>e({...t,config:i})}),t.type==="setState"&&h.jsx(wKe,{config:t.config,onChange:i=>e({...t,config:i})}),t.type==="updateState"&&h.jsx(MKe,{config:t.config,onChange:i=>e({...t,config:i})}),t.type==="apiCall"&&h.jsx(_Ke,{config:t.config,onChange:i=>e({...t,config:i})}),t.type==="showModal"&&h.jsx(IKe,{config:t.config,onChange:i=>e({...t,config:i})}),t.type==="hideModal"&&h.jsx(kKe,{config:t.config,onChange:i=>e({...t,config:i})}),t.type==="showToast"&&h.jsx(BKe,{config:t.config,onChange:i=>e({...t,config:i})}),t.type==="toggleVisibility"&&h.jsx(PKe,{config:t.config,onChange:i=>e({...t,config:i})}),t.type==="validateForm"&&h.jsx(DKe,{config:t.config,onChange:i=>e({...t,config:i})}),t.type==="resetForm"&&h.jsx(RKe,{config:t.config,onChange:i=>e({...t,config:i})}),t.type==="submitForm"&&h.jsx(NKe,{config:t.config,onChange:i=>e({...t,config:i})}),t.type==="copyToClipboard"&&h.jsx(LKe,{config:t.config,onChange:i=>e({...t,config:i})}),t.type==="customFunction"&&h.jsx(FKe,{config:t.config,onChange:i=>e({...t,config:i})}),t.type==="setComponentState"&&h.jsx(OKe,{config:t.config,onChange:i=>e({...t,config:i})}),t.type==="triggerComponentAction"&&h.jsx(jKe,{config:t.config,onChange:i=>e({...t,config:i})}),t.type==="updateFormField"&&h.jsx(QKe,{config:t.config,onChange:i=>e({...t,config:i})}),t.type==="filterCollection"&&h.jsx(UKe,{config:t.config,onChange:i=>e({...t,config:i})}),t.type==="selectItem"&&h.jsx(HKe,{config:t.config,onChange:i=>e({...t,config:i})}),t.type==="clearSelection"&&h.jsx(VKe,{config:t.config,onChange:i=>e({...t,config:i})}),t.type==="loadDataTable"&&h.jsx(GKe,{config:t.config,onChange:i=>e({...t,config:i})}),t.type==="syncComponent"&&h.jsx(KKe,{config:t.config,onChange:i=>e({...t,config:i})}),t.type==="saveToDataTable"&&h.jsx(WKe,{config:t.config,onChange:i=>e({...t,config:i})}),t.type==="setVariable"&&h.jsx(qKe,{config:t.config,onChange:i=>e({...t,config:i})})]}),h.jsxs("div",{className:"action-advanced-settings",children:[h.jsx("div",{className:"section-divider",children:"Advanced Settings"}),h.jsx(XKe,{delay:t.delay,onChange:i=>e({...t,delay:i})}),h.jsx(YKe,{condition:t.condition,onChange:i=>e({...t,condition:i}),label:"Execute only when (condition)",placeholder:"state.isEnabled === true && event.value > 0"})]})]})}function ZKe({onSelect:t,selectedType:e,isDisabled:n=!1,inline:r=!1,placeholder:i="Search actions...",showCategories:s=!0}){const[o,a]=x.useState(""),[l,u]=x.useState(!1),c=x.useMemo(()=>Object.keys(Vg),[]),d=x.useMemo(()=>{if(!o)return c;const y=o.toLowerCase();return c.filter(A=>{const C=Vg[A]?.toLowerCase()||"";return A.toLowerCase().includes(y)||C.includes(y)})},[c,o]),f=x.useMemo(()=>{if(!s)return[{category:"Actions",actions:d}];const y=[];return typeof lL<"u"?Object.entries(lL).forEach(([,A])=>{const C=A,E=C.actions.filter(I=>d.includes(I));E.length>0&&y.push({category:C.label,actions:E})}):y.push({category:"Actions",actions:d}),y},[d,s]),p=y=>{t(y),a(""),u(!1)},m=x.useRef(null),v=y=>{u(y),y?setTimeout(()=>{m.current?.focus()},50):a("")};return r?h.jsxs(u3,{isOpen:l,onOpenChange:v,children:[h.jsxs(Yt,{className:"action-picker-inline-trigger",isDisabled:n,"aria-label":"  ",children:[h.jsx("span",{className:"action-picker-value",children:e?Vg[e]||e:i}),h.jsx(ho,{size:yn.size})]}),h.jsxs(m3,{placement:"bottom start",offset:4,className:"action-picker-popover",showArrow:!1,children:[h.jsxs("div",{className:"action-picker-search",children:[h.jsx(_c,{size:yn.size,color:ce.color}),h.jsx("input",{ref:m,className:"action-picker-search-input",placeholder:i,value:o,onChange:y=>a(y.target.value)})]}),h.jsx(Ui,{className:"action-picker-list","aria-label":"  ",selectionMode:"single",onSelectionChange:y=>{const A=Array.from(y)[0];A&&p(A)},children:d.length===0?h.jsx(tr,{id:"empty",textValue:"No actions found",children:h.jsxs("div",{className:"action-picker-empty",children:[h.jsx(_c,{size:ce.size,color:ce.color}),h.jsx("span",{children:"No actions found"})]})}):f.flatMap(y=>[h.jsx(tr,{id:`label-${y.category}`,textValue:y.category,className:"action-group-label-item",children:h.jsx("div",{className:"action-group-label",children:y.category})},`label-${y.category}`),...y.actions.map(A=>h.jsxs(tr,{id:A,className:"action-item",textValue:Vg[A]||A,children:[h.jsx("span",{className:"action-name",children:Vg[A]||A}),h.jsx("span",{className:"action-type-code",children:A})]},A))])})]})]}):h.jsxs(u3,{isOpen:l,onOpenChange:v,children:[h.jsx(Yt,{className:"iconButton",isDisabled:n||c.length===0,"aria-label":" ",children:h.jsx($3,{color:ce.color,strokeWidth:ce.strokeWidth,size:ce.size})}),h.jsxs(m3,{placement:"bottom end",offset:4,className:"action-picker-popover",showArrow:!1,children:[h.jsxs("div",{className:"action-picker-search",children:[h.jsx(_c,{size:yn.size,color:ce.color}),h.jsx("input",{ref:m,className:"action-picker-search-input",placeholder:i,value:o,onChange:y=>a(y.target.value)})]}),h.jsx(Ui,{className:"action-picker-list","aria-label":"  ",selectionMode:"single",onSelectionChange:y=>{const A=Array.from(y)[0];A&&p(A)},children:d.length===0?h.jsx(tr,{id:"empty",textValue:"No actions found",children:h.jsx("div",{className:"action-picker-empty",children:h.jsx("span",{children:"No actions found"})})}):f.flatMap(y=>[h.jsx(tr,{id:`label-${y.category}`,textValue:y.category,className:"action-group-label-item",children:h.jsx("div",{className:"action-group-label",children:y.category})},`label-${y.category}`),...y.actions.map(A=>h.jsxs(tr,{id:A,className:"action-item",textValue:Vg[A]||A,children:[h.jsx("span",{className:"action-name",children:Vg[A]||A}),h.jsx("span",{className:"action-type-code",children:A})]},A))])})]})]})}function eWe(t){return{type:t.type,config:t.config,delay:t.delay,condition:t.condition}}function tWe(t,e){return{...e,type:t.type,config:t.config,delay:t.delay,condition:t.condition}}function nWe({action:t,onChange:e,onClose:n,onRemove:r,showTitle:i=!0}){const[s,o]=x.useState(!1),a=eWe(t),l=c=>{e(tWe(c,t))},u=c=>{e({...t,enabled:c})};return h.jsxs("div",{className:"block-action-editor","data-action-id":t.id,children:[i&&h.jsxs("div",{className:"block-action-editor-header",children:[h.jsx("span",{className:"block-action-editor-title",children:"Edit Action"}),h.jsx("div",{className:"block-action-enabled-toggle",children:h.jsx(LT,{isSelected:t.enabled!==!1,onChange:u,"aria-label":"Enable action",children:h.jsx("span",{className:"switch-label",children:"Enabled"})})}),h.jsx("div",{className:"block-action-editor-spacer"}),r&&h.jsx(Yt,{className:"iconButton",onPress:r,"aria-label":"Remove action",children:h.jsx(vd,{size:ce.size,color:ce.color,strokeWidth:ce.strokeWidth})}),n&&h.jsx(Yt,{className:"iconButton",onPress:n,"aria-label":"Close editor",children:h.jsx(vd,{size:ce.size,color:ce.color,strokeWidth:ce.strokeWidth})})]}),h.jsxs("div",{className:"block-action-type-row",children:[h.jsx("span",{className:"block-action-type-label",children:"Type"}),h.jsx(ZKe,{selectedType:t.type,onSelect:c=>{const d=rWe(c);e({...t,type:c,config:d})},inline:!0,placeholder:"Select action type..."})]}),h.jsx("div",{className:"block-action-config",children:h.jsx(JKe,{action:a,onChange:l})}),h.jsxs(Yt,{className:"block-action-advanced-toggle",onPress:()=>o(!s),"aria-expanded":s,children:[s?h.jsx(ho,{size:yn.size,color:ce.color}):h.jsx(vf,{size:yn.size,color:ce.color}),h.jsx("span",{children:"Advanced Settings"})]}),s&&h.jsx("div",{className:"block-action-advanced"})]})}function rWe(t){return{navigate:{path:"/"},scrollTo:{elementId:"",position:"top",smooth:!0},setState:{storePath:"",value:""},updateState:{storePath:"",value:"",merge:!1},apiCall:{endpoint:"",method:"GET"},showModal:{modalId:""},hideModal:{modalId:""},showToast:{message:"",variant:"info",duration:3e3},toggleVisibility:{elementId:"",show:void 0},validateForm:{formId:""},resetForm:{formId:""},submitForm:{formId:""},setComponentState:{targetId:"",statePath:"",value:"",source:"static"},triggerComponentAction:{targetId:"",action:""},updateFormField:{fieldName:"",value:"",source:"static"},filterCollection:{targetId:"",filterMode:"text",query:""},selectItem:{targetId:"",itemId:"",behavior:"replace",source:"static"},clearSelection:{targetId:""},copyToClipboard:{text:"",source:"static"},customFunction:{code:"",params:{}},loadDataTable:{dataTableName:"",forceRefresh:!1},syncComponent:{sourceId:"",targetId:"",syncMode:"replace"},saveToDataTable:{dataTableName:"",source:"response",saveMode:"replace"}}[t]||{}}function iWe(t){return{event:t.event,target:"self"}}function GU(t){return t?t.map((e,n)=>({id:e.id||`action-${n}-${Date.now()}`,type:e.type,config:e.config||{},delay:e.delay,condition:e.condition,enabled:e.enabled!==!1})):[]}function sWe(t){if(!t||t.trim()==="")return;const e=t.includes(" || "),n=t.includes(" && "),r=e&&!n?"OR":"AND",i=r==="OR"?" || ":" && ",o=t.split(i).map((a,l)=>{const u=a.trim(),c=u.split(/\s+/);return{id:`cond-parsed-${l}-${Date.now()}`,left:{type:"literal",value:c[0]||u},operator:c[1]||"is_not_empty",right:c[2]?{type:"literal",value:c[2]}:void 0}});return{operator:r,conditions:o}}function oWe({branch:t,onSelect:e,onClose:n}){const[r,i]=x.useState(""),s=x.useMemo(()=>Object.keys(Vg),[]),o=x.useMemo(()=>{if(!r)return s;const l=r.toLowerCase();return s.filter(u=>{const c=Vg[u]?.toLowerCase()||"";return u.toLowerCase().includes(l)||c.includes(l)})},[s,r]),a=x.useMemo(()=>{const l=[];return Object.entries(lL).forEach(([,u])=>{const c=u,d=c.actions.filter(f=>o.includes(f));d.length>0&&l.push({category:c.label,actions:d})}),l},[o]);return h.jsxs("div",{className:"action-picker-overlay",children:[h.jsxs("div",{className:"action-picker-header",children:[h.jsxs("span",{children:["Add Action to ",t.toUpperCase()]}),h.jsx(Yt,{className:"iconButton",onPress:n,"aria-label":"Close",children:h.jsx(vd,{color:ce.color,strokeWidth:ce.strokeWidth,size:ce.size})})]}),h.jsxs("div",{className:"action-picker-search",children:[h.jsx(_c,{size:yn.size,color:ce.color}),h.jsx("input",{className:"action-picker-search-input",placeholder:"Search actions...",value:r,onChange:l=>i(l.target.value),autoFocus:!0})]}),h.jsx("div",{className:"action-picker-list",role:"listbox","aria-label":"  ",children:o.length===0?h.jsxs("div",{className:"action-picker-empty",children:[h.jsx(_c,{size:ce.size,color:ce.color}),h.jsx("span",{children:"No actions found"})]}):a.map(l=>h.jsxs("div",{className:"action-group",children:[h.jsx("div",{className:"action-group-label",children:l.category}),l.actions.map(u=>h.jsxs("button",{type:"button",className:"action-item",onClick:()=>e(u),children:[h.jsx("span",{className:"action-name",children:Vg[u]||u}),h.jsx("span",{className:"action-type-code",children:u})]},u))]},l.category))})]})}function aWe({isActive:t}){const e=W$(),n=Pe(r=>r.updateSelectedEvents);return t?e?h.jsx(lWe,{selectedElement:e,updateEvents:n},e.id):h.jsxs("div",{className:"events-panel",children:[h.jsx(Uu,{icon:h.jsx(CF,{size:ce.size}),title:"Events"}),h.jsx("div",{className:"panel-contents",children:h.jsx(Pa,{message:" "})})]}):null}function lWe({selectedElement:t,updateEvents:e}){const i=(A$e(t?.type)?.inspector.supportedEvents||[]).filter(ie=>jU(ie)),[s,o]=x.useState(!1),[a,l]=x.useState(null),[u,c]=x.useState("then"),d=t?.events||[],{handlers:f,addHandler:p,updateHandler:m,removeHandler:v}=uKe(d),{selectedHandler:y,selectHandler:A,selectAfterDelete:C}=dKe(f),{actions:E,addAction:I}=QU(y?.actions||[]),{actions:D,addAction:T}=QU(y?.elseActions||[]),M=f.map(ie=>ie.event).filter(ie=>jU(ie)),P=i.filter(ie=>!M.includes(ie));cP({data:E,onUpdate:ie=>{if(y){const ue={...y,actions:ie};m(y.id,ue)}},resetKey:y?.id}),cP({data:D,onUpdate:ie=>{if(y){const ue={...y,elseActions:ie};m(y.id,ue)}},resetKey:y?.id});const k=x.useCallback(ie=>{e(ie)},[e]);cP({data:f,onUpdate:k,resetKey:t?.id});const L=ie=>{if(M.includes(ie))return;const ue=p(ie);A(ue.id)},$=ie=>{v(ie),C(ie)},z=(ie,ue="then")=>{const ae=oKe(ie);ue==="else"?T(ae,{}):I(ae,{}),o(!1)},j=x.useCallback(ie=>{const ue=E.filter(de=>de.id!==ie),ae={...y,actions:ue};m(y.id,ae)},[E,y,m]),H=x.useCallback(ie=>{const ue=D.filter(de=>de.id!==ie),ae={...y,elseActions:ue};m(y.id,ae)},[D,y,m]),W=x.useCallback((ie,ue)=>{const ae=E.find(de=>de.id===ie);if(ae){const de={...ae,type:ue.type??ae.type,config:ue.config??ae.config,delay:ue.delay??ae.delay,condition:ue.condition??ae.condition,enabled:ue.enabled!==void 0?ue.enabled:ae.enabled??!0},ge=E.map(we=>we.id===ie?de:we),_e={...y,actions:ge};m(y.id,_e)}},[E,y,m]),O=x.useCallback((ie,ue)=>{const ae=D.find(de=>de.id===ie);if(ae){const de={...ae,type:ue.type??ae.type,config:ue.config??ae.config,delay:ue.delay??ae.delay,condition:ue.condition??ae.condition,enabled:ue.enabled!==void 0?ue.enabled:ae.enabled??!0},ge=D.map(we=>we.id===ie?de:we),_e={...y,elseActions:ge};m(y.id,_e)}},[D,y,m]),G=x.useCallback(ie=>{if(!y)return;const ue={...y,event:ie.event};m(y.id,ue)},[y,m]),q=x.useCallback(ie=>{if(!y)return;const ue=ie?ie.conditions.map(de=>`${de.left.value} ${de.operator} ${de.right?.value||""}`).join(ie.operator==="AND"?" && ":" || "):void 0,ae={...y,condition:ue};m(y.id,ae)},[y,m]),J=x.useCallback(()=>{if(!y)return;const ie={...y,condition:void 0};m(y.id,ie)},[y,m]),te=GU(y?.actions||[]),Y=GU(y?.elseActions||[]),Z=sWe(y?.condition),ee=!!y?.condition;return h.jsxs("div",{className:"events-panel",children:[h.jsx(Uu,{icon:h.jsx(CF,{size:ce.size}),title:"Events",actions:P.length===1?h.jsx(Yt,{className:"iconButton",onPress:()=>L(P[0]),"aria-label":`Add ${P[0]}`,children:h.jsx(xx,{size:ce.size,color:ce.color,strokeWidth:ce.strokeWidth})}):h.jsx(qce,{onSelect:L,registeredTypes:M,allowedTypes:i,isDisabled:P.length===0&&i.length===0})}),h.jsx("div",{className:"panel-contents",children:f.length===0?h.jsx(Pa,{icon:h.jsx(xx,{size:J3.size,color:ce.color,strokeWidth:ce.strokeWidth}),message:"  ",description:" +    "}):y?h.jsxs("div",{className:"section block-view","data-section-id":"handler-detail",children:[h.jsxs("div",{className:"section-header",children:[h.jsx(Yt,{className:"iconButton",onPress:()=>A(null),"aria-label":"Back to list",children:h.jsx(KB,{color:ce.color,strokeWidth:ce.strokeWidth,size:ce.size})}),h.jsx("span",{className:"section-title",children:y.event}),h.jsx("div",{className:"section-actions",children:h.jsx(Yt,{className:"iconButton",onPress:()=>$(y.id),"aria-label":"Delete handler",children:h.jsx(N0,{color:ce.color,strokeWidth:ce.strokeWidth,size:ce.size})})})]}),h.jsxs("div",{className:"block-editor",children:[h.jsx(fKe,{trigger:iWe(y),onChange:G,registeredEventTypes:M.filter(ie=>ie!==y.event),allowedEventTypes:i,showConnector:!0}),h.jsx(yKe,{conditions:Z,onChange:q,onRemove:J,showSplitConnector:ee}),h.jsx(VU,{type:"then",actions:te,onAddAction:()=>o("then"),onActionClick:ie=>{l(ie),c("then")},onRemoveAction:j,onUpdateAction:W,showConnector:!0}),ee&&h.jsx(VU,{type:"else",actions:Y,onAddAction:()=>o("else"),onActionClick:ie=>{l(ie),c("else")},onRemoveAction:H,onUpdateAction:O,showConnector:!0}),s&&h.jsx(oWe,{branch:s,onSelect:ie=>z(ie,s),onClose:()=>o(!1)}),a&&h.jsxs("div",{className:"action-editor-overlay",children:[h.jsxs("div",{className:"action-editor-header",children:[h.jsx(Yt,{className:"iconButton",onPress:()=>l(null),"aria-label":"Close editor",children:h.jsx(KB,{color:ce.color,strokeWidth:ce.strokeWidth,size:ce.size})}),h.jsxs("span",{className:"action-editor-title",children:[a.type," (",u.toUpperCase(),")"]})]}),h.jsx(nWe,{action:a,onChange:ie=>{u==="else"?O(a.id,ie):W(a.id,ie),l({...a,...ie})}})]})]}),h.jsx(Sc,{id:"handler-settings",title:"Settings",children:h.jsx(hKe,{debounce:y.debounce,throttle:y.throttle,onChange:({debounce:ie,throttle:ue})=>{const ae={...y,debounce:ie,throttle:ue};m(y.id,ae)}})})]}):h.jsx(Sc,{id:"handlers-list",title:"Event Handlers",children:h.jsx("div",{className:"handlers-list",children:f.map(ie=>h.jsxs("button",{type:"button",className:"handler-item",onClick:()=>A(ie.id),children:[h.jsxs("div",{className:"handler-info",children:[h.jsx(xx,{size:yn.size,color:ce.color,strokeWidth:ce.strokeWidth}),h.jsx("span",{className:"handler-type",children:ie.event})]}),h.jsxs("span",{className:"handler-action-count",children:[ie.actions?.length||0," action",(ie.actions?.length||0)!==1?"s":""]})]},ie.id))})})})]})}function uWe(t){return new Date(t).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}function cWe(t){const e=t.data.element||t.data.prevElement;return e?.customId?e.customId:e?.tag?e.tag:t.elementId&&t.elementId!=="batch_diff"?t.elementId:null}function dWe(t){const e=cWe(t),n=e?` ${e}`:"";switch(t.type){case"add":return`${n}`;case"remove":return`${n}`;case"update":return`${n}`;case"move":return`${n}`;case"batch":return`  (${t.elementIds?.length??t.data.diffs?.length??0})`;case"group":return` (${t.data.groupData?.childIds?.length??t.elementIds?.length??0})`;case"ungroup":return`  (${t.data.groupData?.childIds?.length??t.elementIds?.length??0})`;default:return""}}function hWe({isActive:t}){return t?h.jsx(fWe,{}):null}function fWe(){const t=Pe(p=>p.goToHistoryIndex),e=Pe(p=>p.historyOperationInProgress),n=Pe(p=>p.undo),r=Pe(p=>p.redo),[i,s]=x.useState([]),[o,a]=x.useState(ys.getCurrentPageHistory());x.useEffect(()=>{const p=()=>{const v=ys.getCurrentPageHistory();s(ys.getCurrentPageEntries()),a(v)};return p(),ys.subscribe(p)},[]);const l=x.useCallback(async()=>{o.canUndo&&await n()},[o.canUndo,n]),u=x.useCallback(async()=>{o.canRedo&&await r()},[o.canRedo,r]),c=x.useCallback(()=>{const p=Pe.getState().currentPageId;p&&confirm("    ?")&&ys.clearPageHistory(p)},[]),d=x.useCallback(async p=>{if(e)return;const v=ys.getCurrentPageHistory().currentIndex;p!==v&&await t(p)},[e,t]),f=x.useMemo(()=>{const m=i.map((v,y)=>({id:v.id,index:y,label:dWe(v),timestamp:v.timestamp})).reverse();return i.length>0&&m.push({id:"history-start",index:-1,label:" ",timestamp:void 0,isStart:!0}),m},[i]);return f.length===0?h.jsxs("div",{className:"history-panel",children:[h.jsx(Uu,{icon:h.jsx(aE,{size:ce.size}),title:""}),h.jsx(Pa,{icon:h.jsx(aE,{size:48}),message:" ",description:"    "})]}):h.jsxs("div",{className:"history-panel",children:[h.jsx(Uu,{icon:h.jsx(aE,{size:ce.size}),title:"",actions:h.jsxs("div",{className:"history-actions",children:[h.jsxs("span",{className:"history-count",children:[Math.max(o.currentIndex+1,0),"/",o.totalEntries]}),h.jsx(MD,{shortcutId:"undo",placement:"bottom",children:h.jsx("button",{className:"iconButton",type:"button",onClick:l,disabled:!o.canUndo||e,"aria-label":"Undo",children:h.jsx($X,{size:ce.size})})}),h.jsx(MD,{shortcutId:"redo",placement:"bottom",children:h.jsx("button",{className:"iconButton",type:"button",onClick:u,disabled:!o.canRedo||e,"aria-label":"Redo",children:h.jsx(kX,{size:ce.size})})}),h.jsx("button",{className:"iconButton",type:"button",onClick:c,disabled:e,"aria-label":"Clear history",children:h.jsx(Qu,{size:ce.size})})]})}),h.jsx("div",{className:"panel-contents history-contents",children:h.jsx("div",{className:"history-list",children:f.map(p=>{const m=p.index===o.currentIndex,v=p.isStart,y=v?void 0:p.timestamp;return h.jsx("div",{className:"history-item","data-active":m,"data-start":v,children:h.jsxs(Kn,{variant:"ghost",size:"sm",onPress:()=>d(p.index),isDisabled:e,className:"history-item-btn",children:[h.jsxs("span",{className:"history-item-main",children:[h.jsx("span",{className:"history-label",children:p.label}),!v&&y!==void 0&&h.jsxs("span",{className:"history-meta",children:[h.jsx(pF,{size:oh.size}),uWe(y)]})]}),!v&&h.jsx("span",{className:"history-index",children:p.index+1})]})},p.id)})})})]})}function pWe(t={}){const{enabled:e=!0,interval:n=1e4}=t,[r,i]=x.useState(null),[s,o]=x.useState(""),[a,l]=x.useState(!1),u=x.useRef(null),c=x.useCallback(()=>{try{const f=ys.getMemoryStats(),p=performance,m=p.memory?{usedJSHeapSize:p.memory.usedJSHeapSize,totalJSHeapSize:p.memory.totalJSHeapSize,jsHeapSizeLimit:p.memory.jsHeapSizeLimit,usagePercent:p.memory.usedJSHeapSize/p.memory.jsHeapSizeLimit*100}:null,v=gWe(f.totalEntries,f.commandStoreStats.estimatedMemoryUsage,m?.usagePercent);i({pageCount:f.pageCount,totalEntries:f.totalEntries,commandStoreStats:f.commandStoreStats,browserMemory:m,recommendation:v,isBrowserMemorySupported:!!p.memory})}catch{}},[]);x.useEffect(()=>{if(!e){u.current&&(clearInterval(u.current),u.current=null);return}return"requestIdleCallback"in window?window.requestIdleCallback(()=>{c()}):setTimeout(c,0),u.current=window.setInterval(()=>{"requestIdleCallback"in window?window.requestIdleCallback(()=>{c()}):c()},n),()=>{u.current&&(clearInterval(u.current),u.current=null)}},[e,n,c]);const d=x.useCallback(async()=>{l(!0),o("  ...");try{ys.optimizeMemory(),"gc"in window&&window.gc?.(),await new Promise(f=>setTimeout(f,100)),c(),o("  ")}catch{o("   ")}finally{l(!1),setTimeout(()=>o(""),3e3)}},[c]);return{stats:r,statusMessage:s,optimize:d,isOptimizing:a}}function gWe(t,e,n){const r=e/1048576;return n&&n>75?"   .     .":r>50?"  50MB .  .":t>200?"  .   .":r>20?"   .":"  ."}function $y(t){if(t===0)return"0 B";const e=1024,n=["B","KB","MB","GB"],r=Math.floor(Math.log(t)/Math.log(e));return parseFloat((t/Math.pow(e,r)).toFixed(2))+" "+n[r]}function mWe(t,e={}){const{maxPoints:n=60,intervalMs:r=1e3,enabled:i=!0}=e,[s,o]=x.useState([]),a=x.useRef(null),l=x.useCallback(()=>{const c=t();if(!c)return;const d={timestamp:Date.now(),memoryUsage:c.memoryUsage,memoryPercent:c.memoryPercent,historyEntries:c.historyEntries,cacheSize:c.cacheSize};o(f=>[...f,d].slice(-n))},[t,n]);x.useEffect(()=>{if(!i){a.current&&(clearInterval(a.current),a.current=null);return}const c=setTimeout(l,0);return a.current=window.setInterval(l,r),()=>{clearTimeout(c),a.current&&clearInterval(a.current)}},[i,r,l]);const u=x.useCallback(()=>{o([])},[]);return{data:s,clearData:u}}function AWe(t={}){const{enabled:e=!0,historySize:n=60}=t,[r,i]=x.useState({current:0,average:0,min:60,max:0,history:[]}),s=x.useRef(0),o=x.useRef(0),a=x.useRef(null),l=x.useRef([]),u=x.useRef(e),c=x.useRef(n);x.useEffect(()=>{u.current=e,c.current=n},[e,n]),x.useEffect(()=>{if(!e){a.current&&(cancelAnimationFrame(a.current),a.current=null);return}o.current=performance.now();function f(){const p=performance.now();s.current++;const m=p-o.current;if(m>=1e3){const v=Math.round(s.current*1e3/m);l.current=[...l.current.slice(-(c.current-1)),v];const y=l.current,A=Math.round(y.reduce((I,D)=>I+D,0)/y.length),C=Math.min(...y),E=Math.max(...y);i({current:v,average:A,min:C,max:E,history:[...y]}),s.current=0,o.current=p}u.current&&(a.current=requestAnimationFrame(f))}return a.current=requestAnimationFrame(f),()=>{a.current&&(cancelAnimationFrame(a.current),a.current=null)}},[e]);const d=x.useCallback(()=>{l.current=[],i({current:0,average:0,min:60,max:0,history:[]})},[]);return{fps:r,reset:d}}function yWe(t={}){const{enabled:e=!0}=t,[n,r]=x.useState({lcp:null,fid:null,cls:null,ttfb:null});x.useEffect(()=>{if(!e)return;const a=l=>{l.data.type==="WEB_VITALS_UPDATE"&&r(l.data.vitals)};return window.addEventListener("message",a),()=>window.removeEventListener("message",a)},[e]);const i=xd()&&!fh(),s=x.useCallback(()=>{if(i)return;const a=document.querySelector(".canvas-iframe");a?.contentWindow&&a.contentWindow.postMessage({type:"REQUEST_WEB_VITALS"},"*")},[i]),o=x.useCallback(()=>{const a={lcp:null,fid:null,cls:null,ttfb:null};if("PerformanceObserver"in window){const l=performance.getEntriesByType("largest-contentful-paint");l.length>0&&(a.lcp=Math.round(l[l.length-1].startTime));const u=performance.getEntriesByType("navigation");if(u.length>0){const d=u[0];a.ttfb=Math.round(d.responseStart-d.requestStart)}const c=performance.getEntriesByType("layout-shift");a.cls=c.reduce((d,f)=>d+(f.value||0),0)}return r(a),a},[]);return{vitals:n,requestVitals:s,collectLocalVitals:o}}function vWe({data:t,width:e=400,height:n=120,threshold:r}){const i={top:10,right:10,bottom:20,left:50},s=e-i.left-i.right,o=n-i.top-i.bottom,{minValue:a,maxValue:l,yScale:u,xScale:c,pathD:d}=x.useMemo(()=>{if(t.length===0)return{minValue:0,maxValue:1,yScale:()=>0,xScale:()=>0,pathD:""};const v=Math.min(...t),y=Math.max(...t),A=y-v||y*.1||1,C=Math.max(0,v-A*.1),E=y+A*.1,I=P=>o-(P-C)/(E-C)*o,D=P=>P/(t.length-1||1)*s,M=t.map((P,k)=>({x:D(k),y:I(P)})).map((P,k)=>`${k===0?"M":"L"} ${P.x} ${P.y}`).join(" ");return{minValue:C,maxValue:E,yScale:I,xScale:D,pathD:M}},[t,s,o]),f=t[t.length-1]||0,p=r&&f>r,m=x.useMemo(()=>{const A=(l-a)/2;return Array.from({length:3},(C,E)=>a+A*E)},[a,l]);return h.jsxs("div",{className:"memory-chart",children:[h.jsx("svg",{width:e,height:n,"aria-label":"Memory usage chart",children:h.jsxs("g",{transform:`translate(${i.left}, ${i.top})`,children:[m.map((v,y)=>h.jsxs("g",{children:[h.jsx("line",{x1:0,y1:u(v),x2:s,y2:u(v),className:"chart-grid-line"}),h.jsx("text",{x:-8,y:u(v),className:"chart-axis-label",textAnchor:"end",dominantBaseline:"middle",children:$y(v)})]},y)),r&&h.jsx("line",{x1:0,y1:u(r),x2:s,y2:u(r),className:"chart-threshold-line"}),t.length>1&&h.jsx("path",{d,className:`chart-line ${p?"chart-line-danger":""}`,fill:"none"}),t.length>0&&h.jsx("circle",{cx:c(t.length-1),cy:u(f),r:4,className:`chart-dot ${p?"chart-dot-danger":""}`}),h.jsxs("text",{x:s/2,y:o+15,className:"chart-axis-label",textAnchor:"middle",children:["Last ",Math.min(t.length,60)*10,"s"]})]})}),h.jsxs("div",{className:`chart-current-value ${p?"danger":""}`,children:[h.jsx("span",{className:"label",children:"Current:"}),h.jsx("span",{className:"value",children:$y(f)})]})]})}function bWe({onOptimize:t,recommendation:e,isOptimizing:n=!1}){return h.jsxs("div",{className:"memory-actions",children:[h.jsx("div",{className:"recommendation",children:h.jsx("span",{className:"recommendation-text",children:e})}),h.jsx(Yt,{className:"optimize-button",onPress:t,isDisabled:n,"aria-label":"Optimize memory",children:n?h.jsxs(h.Fragment,{children:[h.jsx(Qy,{size:yn.size,className:"spinning"}),h.jsx("span",{children:"Optimizing..."})]}):h.jsxs(h.Fragment,{children:[h.jsx(Qu,{size:yn.size}),h.jsx("span",{children:"Optimize"})]})})]})}function xWe({value:t,warningThreshold:e=60,dangerThreshold:n=75,label:r="Memory Usage"}){const i=t>=n?"danger":t>=e?"warning":"safe",s=i==="danger"?yX:i==="warning"?FX:vX,o=i==="danger"?"":i==="warning"?"":"";return h.jsxs("div",{className:"threshold-indicator","data-threshold":i,children:[h.jsx(s,{size:ce.size,"aria-hidden":"true"}),h.jsxs("span",{className:"sr-only",children:[o,": "]}),h.jsxs("span",{children:[r,": ",t.toFixed(1),"%"]})]})}function KU({stats:t,format:e="json"}){const n=()=>{if(!t)return;const r=new Date().toISOString().replace(/[:.]/g,"-");let i,s,o;if(e==="csv"){const d=["Metric","Value","Timestamp"],f=[["Page Count",t.pageCount,r],["Total Entries",t.totalEntries,r],["Command Count",t.commandStoreStats.commandCount,r],["Cache Size",t.commandStoreStats.cacheSize,r],["Memory Usage (bytes)",t.commandStoreStats.estimatedMemoryUsage,r],["Compression Ratio",t.commandStoreStats.compressionRatio.toFixed(4),r]];i="\uFEFF"+[d,...f].map(p=>p.join(",")).join(`
`),s="text/csv;charset=utf-8",o="csv"}else i=JSON.stringify({...t,exportedAt:r},null,2),s="application/json",o="json";const a=new Blob([i],{type:s}),l=URL.createObjectURL(a),u=document.createElement("a");u.href=l,u.download=`monitor-stats-${r}.${o}`,u.click(),URL.revokeObjectURL(l)};return h.jsxs(Yt,{className:"export-button",onPress:n,isDisabled:!t,"aria-label":`Export stats as ${e.toUpperCase()}`,children:[h.jsx(aT,{size:yn.size,"aria-hidden":"true"}),h.jsxs("span",{children:["Export ",e.toUpperCase()]})]})}function CWe({data:t,width:e=400,height:n=120,metric:r="memoryPercent",showThresholds:i=!0}){const s={top:10,right:10,bottom:20,left:40},o=e-s.left-s.right,a=n-s.top-s.bottom,{minValue:l,maxValue:u,pathD:c,points:d}=x.useMemo(()=>{if(t.length===0)return{minValue:0,maxValue:100,pathD:"",points:[]};const m=t.map(I=>I[r]),v=r==="memoryPercent"?0:Math.min(...m),y=r==="memoryPercent"?100:Math.max(...m)*1.1,A=y-v||1,C=t.map((I,D)=>({x:s.left+D/(t.length-1||1)*o,y:s.top+a-(I[r]-v)/A*a,value:I[r],time:I.timestamp})),E=C.map((I,D)=>`${D===0?"M":"L"} ${I.x} ${I.y}`).join(" ");return{minValue:v,maxValue:y,pathD:E,points:C}},[t,r,o,a,s.left,s.top]),f=x.useMemo(()=>{if(t.length<2)return[];const m=[],v=t[t.length-1].timestamp;for(let y=0;y<t.length;y+=10){const A=t[y],C=s.left+y/(t.length-1||1)*o,E=Math.round((v-A.timestamp)/1e3);m.push({x:C,label:`-${E}s`})}return m},[t,o,s.left]),p=x.useMemo(()=>{const m=[];for(let y=0;y<=4;y++){const A=l+(u-l)*y/4,C=s.top+a-y/4*a;m.push({y:C,label:r==="memoryPercent"?`${Math.round(A)}%`:Math.round(A).toString()})}return m},[l,u,a,s.top,r]);return h.jsxs("svg",{width:e,height:n,className:"realtime-chart","aria-label":`Real-time ${r} chart showing last ${t.length} seconds`,role:"img",children:[h.jsx("g",{className:"chart-grid","aria-hidden":"true",children:p.map((m,v)=>h.jsx("line",{x1:s.left,y1:m.y,x2:e-s.right,y2:m.y,className:"chart-grid-line"},v))}),i&&r==="memoryPercent"&&h.jsxs("g",{className:"threshold-lines","aria-hidden":"true",children:[h.jsx("line",{x1:s.left,y1:s.top+a*.4,x2:e-s.right,y2:s.top+a*.4,className:"chart-threshold-warning"}),h.jsx("line",{x1:s.left,y1:s.top+a*.25,x2:e-s.right,y2:s.top+a*.25,className:"chart-threshold-danger"})]}),c&&d.length>0&&h.jsxs("g",{className:"chart-area",children:[h.jsx("defs",{children:h.jsxs("linearGradient",{id:"realtimeAreaGradient",x1:"0",y1:"0",x2:"0",y2:"1",children:[h.jsx("stop",{offset:"0%",stopColor:"var(--primary)",stopOpacity:"0.3"}),h.jsx("stop",{offset:"100%",stopColor:"var(--primary)",stopOpacity:"0.05"})]})}),h.jsx("path",{d:`${c} L ${d[d.length-1]?.x??0} ${s.top+a} L ${s.left} ${s.top+a} Z`,fill:"url(#realtimeAreaGradient)"}),h.jsx("path",{d:c,fill:"none",className:"chart-line"})]}),d.length>0&&h.jsx("circle",{cx:d[d.length-1].x,cy:d[d.length-1].y,r:"4",className:"chart-dot"}),h.jsx("g",{className:"y-axis","aria-hidden":"true",children:p.map((m,v)=>h.jsx("text",{x:s.left-5,y:m.y+4,textAnchor:"end",className:"chart-axis-label",children:m.label},v))}),h.jsx("g",{className:"x-axis","aria-hidden":"true",children:f.map((m,v)=>h.jsx("text",{x:m.x,y:n-5,textAnchor:"middle",className:"chart-axis-label",children:m.label},v))}),h.jsxs("text",{className:"sr-only",children:["Current ",r,": ",d[d.length-1]?.value.toFixed(1)??"N/A"]})]})}function WU(t){return t>=55?"good":t>=30?"warning":"poor"}function EWe({fps:t}){const e=WU(t.current);return h.jsxs("div",{className:"fps-meter","data-status":e,children:[h.jsxs("div",{className:"fps-meter-header",children:[h.jsx(_y,{size:yn.size,"aria-hidden":"true"}),h.jsx("span",{className:"fps-meter-title",children:"FPS"})]}),h.jsxs("div",{className:"fps-meter-value",children:[h.jsx("span",{className:"fps-current",children:t.current}),h.jsx("span",{className:"fps-unit",children:"fps"})]}),h.jsxs("div",{className:"fps-meter-stats",children:[h.jsxs("div",{className:"fps-stat",children:[h.jsx("span",{className:"fps-stat-label",children:"Avg"}),h.jsx("span",{className:"fps-stat-value",children:t.average})]}),h.jsxs("div",{className:"fps-stat",children:[h.jsx("span",{className:"fps-stat-label",children:"Min"}),h.jsx("span",{className:"fps-stat-value",children:t.min})]}),h.jsxs("div",{className:"fps-stat",children:[h.jsx("span",{className:"fps-stat-label",children:"Max"}),h.jsx("span",{className:"fps-stat-value",children:t.max})]})]}),h.jsx("div",{className:"fps-mini-chart","aria-hidden":"true",children:t.history.slice(-30).map((n,r)=>h.jsx("div",{className:"fps-bar",style:{height:`${Math.min(100,n/60*100)}%`},"data-status":WU(n)},r))}),h.jsxs("span",{className:"sr-only",children:["Current FPS: ",t.current,", Average: ",t.average,", Status: ",e]})]})}const SWe={lcp:{good:2500,poor:4e3},fid:{good:100,poor:300},cls:{good:.1,poor:.25},ttfb:{good:800,poor:1800}};function wWe(t,e){if(e===null)return"unknown";const{good:n,poor:r}=SWe[t];return e<=n?"good":e<=r?"needs-improvement":"poor"}function _We(t,e){return e===null?"":t==="cls"?e.toFixed(3):Math.round(e).toString()}function IWe({vitals:t,onRefresh:e}){const n=[{key:"lcp",label:"LCP",description:"Largest Contentful Paint",value:t.lcp,unit:"ms",icon:SX},{key:"fid",label:"FID",description:"First Input Delay",value:t.fid,unit:"ms",icon:h_},{key:"cls",label:"CLS",description:"Cumulative Layout Shift",value:t.cls,unit:"",icon:uT},{key:"ttfb",label:"TTFB",description:"Time to First Byte",value:t.ttfb,unit:"ms",icon:pF}];return h.jsxs("div",{className:"web-vitals-card",children:[h.jsxs("div",{className:"web-vitals-header",children:[h.jsx("h4",{className:"web-vitals-title",children:"Core Web Vitals"}),e&&h.jsx("button",{type:"button",className:"web-vitals-refresh",onClick:e,"aria-label":"Refresh Web Vitals",children:""})]}),h.jsx("div",{className:"web-vitals-grid",children:n.map(({key:r,label:i,description:s,value:o,unit:a,icon:l})=>h.jsxs("div",{className:"web-vital-item","data-status":wWe(r,o),title:s,children:[h.jsx(l,{size:yn.size,"aria-hidden":"true"}),h.jsx("span",{className:"web-vital-label",children:i}),h.jsxs("span",{className:"web-vital-value",children:[_We(r,o),o!==null&&a&&h.jsx("span",{className:"web-vital-unit",children:a})]})]},r))})]})}function dL(t){return t==null?0:typeof t=="boolean"?4:typeof t=="number"?8:typeof t=="string"?t.length*2:Array.isArray(t)?t.reduce((e,n)=>e+dL(n),0):typeof t=="object"?Object.entries(t).reduce((e,[n,r])=>e+n.length*2+dL(r),0):0}function BWe(t,e){let n=0,r=e.find(i=>i.id===t);for(;r?.parent_id&&(n++,r=e.find(i=>i.id===r.parent_id),!(n>100)););return n}function Yce(t,e){return e.filter(r=>r.parent_id===t).reduce((r,i)=>r+1+Yce(i.id,e),0)}function DWe(t={}){const{enabled:e=!0,sortBy:n="memory",limit:r=20}=t,i=Pe(c=>c.elements),[s,o]=x.useState([]),[a,l]=x.useState(0),u=x.useCallback(()=>{if(!e||i.length===0){o([]),l(0);return}const c=i.map(f=>{const p=dL(f.props),m=100,v=(f.id?.length??0)*2,y=(f.customId?.length??0)*2,A=(f.tag?.length??0)*2,C=m+v+y+A+p,E=Yce(f.id,i),I=BWe(f.id,i);return{elementId:f.id,customId:f.customId,tag:f.tag,depth:I,memoryBytes:C,childCount:E,propsSize:p,percentage:0}}),d=c.reduce((f,p)=>f+p.memoryBytes,0);l(d),c.forEach(f=>{f.percentage=d>0?f.memoryBytes/d*100:0}),c.sort((f,p)=>{switch(n){case"memory":return p.memoryBytes-f.memoryBytes;case"children":return p.childCount-f.childCount;case"depth":return f.depth-p.depth;default:return 0}}),o(c.slice(0,r))},[e,i,n,r]);return x.useEffect(()=>{const c=setTimeout(u,0);return()=>clearTimeout(c)},[u]),{componentMemory:s,totalMemory:a,refresh:u}}function TWe(t){return t>=15?"high":t>=5?"medium":"low"}function MWe({enabled:t=!0}){const[e,n]=x.useState("memory"),[r,i]=x.useState(!0),{componentMemory:s,totalMemory:o,refresh:a}=DWe({enabled:t,sortBy:e,limit:15});return h.jsxs("div",{className:"component-memory-list",children:[h.jsxs("div",{className:"component-memory-header",children:[h.jsxs("button",{type:"button",className:"component-memory-toggle",onClick:()=>i(!r),"aria-expanded":r,children:[r?h.jsx(Q_,{size:yn.size}):h.jsx(ho,{size:yn.size}),h.jsx("span",{children:"Component Memory"})]}),h.jsxs("div",{className:"component-memory-controls",children:[h.jsxs("select",{className:"component-memory-sort",value:e,onChange:l=>n(l.target.value),"aria-label":"Sort by",children:[h.jsx("option",{value:"memory",children:"Memory"}),h.jsx("option",{value:"children",children:"Children"}),h.jsx("option",{value:"depth",children:"Depth"})]}),h.jsx(Yt,{className:"component-memory-refresh",onPress:a,"aria-label":"Refresh",children:h.jsx(Qy,{size:oh.size})})]})]}),h.jsxs("div",{className:"component-memory-total",children:[h.jsx("span",{className:"total-label",children:"Total Elements Memory:"}),h.jsx("span",{className:"total-value",children:$y(o)})]}),r&&h.jsxs("div",{className:"component-memory-items",role:"list",children:[s.map(l=>h.jsx(kWe,{info:l},l.elementId)),s.length===0&&h.jsxs("div",{className:"component-memory-empty",children:[h.jsx(im,{size:J3.size}),h.jsx("p",{children:"No components to analyze"})]})]})]})}function kWe({info:t}){const e=TWe(t.percentage);return h.jsxs("div",{className:"component-memory-item","data-level":e,role:"listitem",children:[h.jsxs("div",{className:"component-memory-item-header",children:[h.jsx("span",{className:"component-tag",children:t.tag}),t.customId&&h.jsxs("span",{className:"component-customid",children:["#",t.customId]})]}),h.jsxs("div",{className:"component-memory-item-stats",children:[h.jsxs("div",{className:"component-stat",children:[h.jsx("span",{className:"stat-value",children:$y(t.memoryBytes)}),h.jsx("span",{className:"stat-label",children:"Memory"})]}),h.jsxs("div",{className:"component-stat",children:[h.jsx("span",{className:"stat-value",children:t.childCount}),h.jsx("span",{className:"stat-label",children:"Children"})]}),h.jsxs("div",{className:"component-stat",children:[h.jsx("span",{className:"stat-value",children:t.depth}),h.jsx("span",{className:"stat-label",children:"Depth"})]}),h.jsxs("div",{className:"component-stat",children:[h.jsxs("span",{className:"stat-value",children:[t.percentage.toFixed(1),"%"]}),h.jsx("span",{className:"stat-label",children:"Share"})]})]}),h.jsx("div",{className:"component-memory-bar",children:h.jsx("div",{className:"component-memory-bar-fill",style:{width:`${Math.min(100,t.percentage)}%`}})})]})}const Xce="xstudio-monitor-thresholds",PWe={warning:60,danger:75};function RWe(){try{const t=localStorage.getItem(Xce);if(t)return JSON.parse(t)}catch{}return PWe}function NWe(t){try{localStorage.setItem(Xce,JSON.stringify(t))}catch{}}function LWe({config:t,onChange:e}){const[n,r]=x.useState(!1),[i,s]=x.useState(t);x.useEffect(()=>{s(t)},[t]);const o=()=>{const l={warning:Math.min(i.warning,i.danger-5),danger:i.danger};NWe(l),e(l),r(!1)},a=()=>{s({warning:60,danger:75})};return h.jsxs("div",{className:"threshold-settings",children:[h.jsx(Yt,{className:"threshold-settings-btn","aria-label":"Threshold settings",onPress:()=>r(!n),children:h.jsx(wf,{size:yn.size})}),n&&h.jsxs("div",{className:"threshold-settings-popup",children:[h.jsxs("div",{className:"popup-header",children:[h.jsx("h4",{children:"Threshold Settings"}),h.jsx(Yt,{className:"popup-close",onPress:()=>r(!1),children:h.jsx(vd,{size:yn.size})})]}),h.jsxs("div",{className:"popup-content",children:[h.jsxs("div",{className:"threshold-slider-group",children:[h.jsxs("label",{className:"threshold-label",children:["Warning Threshold: ",i.warning,"%"]}),h.jsx("input",{type:"range",min:30,max:90,step:5,value:i.warning,onChange:l=>s(u=>({...u,warning:Number(l.target.value)})),className:"threshold-range warning","aria-label":"Warning threshold"}),h.jsx("p",{className:"threshold-hint",children:"    "})]}),h.jsxs("div",{className:"threshold-slider-group",children:[h.jsxs("label",{className:"threshold-label",children:["Danger Threshold: ",i.danger,"%"]}),h.jsx("input",{type:"range",min:40,max:95,step:5,value:i.danger,onChange:l=>s(u=>({...u,danger:Number(l.target.value)})),className:"threshold-range danger","aria-label":"Danger threshold"}),h.jsx("p",{className:"threshold-hint",children:"     "})]}),h.jsx("div",{className:"threshold-preview",children:h.jsxs("div",{className:"threshold-preview-bar",children:[h.jsx("div",{className:"threshold-zone safe",style:{width:`${i.warning}%`},children:"Safe"}),h.jsx("div",{className:"threshold-zone warning",style:{width:`${i.danger-i.warning}%`},children:"Warn"}),h.jsx("div",{className:"threshold-zone danger",style:{width:`${100-i.danger}%`},children:"Danger"})]})})]}),h.jsxs("div",{className:"popup-footer",children:[h.jsxs(Yt,{className:"btn-secondary",onPress:a,children:[h.jsx(xF,{size:oh.size}),"Reset"]}),h.jsx(Yt,{className:"btn-primary",onPress:o,children:"Save"})]})]})]})}const qU=60;function FWe({isActive:t}){return t?h.jsx($We,{}):null}function $We(){const[t,e]=x.useState("memory"),[n,r]=x.useState([]),[i,s]=x.useState(RWe),o=x.useRef(null),{toasts:a,showToast:l,dismissToast:u}=xce();x.useEffect(()=>(sx.setLogsEnabled(!0),()=>{sx.setLogsEnabled(!1)}),[]);const{stats:c,statusMessage:d,optimize:f,isOptimizing:p}=pWe({enabled:!0}),{fps:m}=AWe({enabled:t==="realtime"}),{vitals:v,collectLocalVitals:y}=yWe({enabled:t==="realtime"}),A=x.useCallback(()=>c?{memoryUsage:c.commandStoreStats.estimatedMemoryUsage,memoryPercent:c.browserMemory?.usagePercent??0,historyEntries:c.totalEntries,cacheSize:c.commandStoreStats.cacheSize}:null,[c]),{data:C}=mWe(A,{enabled:t==="realtime",maxPoints:60,intervalMs:1e3}),E=c?.browserMemory?.usagePercent??0,I=c?.browserMemory?.usagePercent;x.useEffect(()=>{if(I===void 0||t!=="memory")return;const T=I;T>=75?l("error",`    (${T.toFixed(1)}%)`):T>=60&&l("warning",`   (${T.toFixed(1)}%)`)},[I,t,l]),x.useEffect(()=>{if(!c||t!=="memory")return;const T=o.current?.commandStoreStats?.estimatedMemoryUsage,M=c.commandStoreStats.estimatedMemoryUsage;T!==M&&(o.current=c,requestAnimationFrame(()=>{r(P=>{const k=[...P,M];return k.length>qU?k.slice(-qU):k})}))},[c,t]);const D=x.useCallback(()=>{f(),r([])},[f]);return h.jsxs("div",{className:"monitor-panel",children:[h.jsx(Tue,{toasts:a,onDismiss:u}),d&&h.jsx("div",{className:"monitor-status-message",children:d}),h.jsxs(bMe,{className:"monitor-tabs",selectedKey:t,onSelectionChange:T=>e(T),children:[h.jsxs(CMe,{className:"monitor-tab-list","aria-label":"Monitor tabs",children:[h.jsxs(uw,{id:"memory",className:"monitor-tab",children:[h.jsx(_y,{size:yn.size}),h.jsx("span",{children:"Memory"})]}),h.jsxs(uw,{id:"realtime",className:"monitor-tab",children:[h.jsx(xx,{size:yn.size}),h.jsx("span",{children:"Realtime"})]}),h.jsxs(uw,{id:"stats",className:"monitor-tab",children:[h.jsx(nl,{size:yn.size}),h.jsx("span",{children:"Stats"})]}),h.jsxs(uw,{id:"browser",className:"monitor-tab",children:[h.jsx(Qb,{size:yn.size}),h.jsx("span",{children:"Browser"})]}),h.jsxs(uw,{id:"analysis",className:"monitor-tab",children:[h.jsx(mX,{size:yn.size}),h.jsx("span",{children:"Analysis"})]})]}),h.jsx(cw,{id:"memory",className:"monitor-tab-panel",children:h.jsxs("div",{className:"memory-tab-content",children:[c?.browserMemory&&h.jsx(xWe,{value:E,label:"Browser Memory"}),h.jsx("div",{className:"memory-chart-section",children:h.jsx(vWe,{data:n,width:380,height:100,threshold:50*1024*1024})}),h.jsxs("div",{className:"memory-actions-row",children:[c&&h.jsx(bWe,{onOptimize:D,recommendation:c.recommendation,isOptimizing:p}),h.jsx(KU,{stats:c,format:"json"})]})]})}),h.jsx(cw,{id:"realtime",className:"monitor-tab-panel",children:h.jsxs("div",{className:"realtime-tab-content",children:[h.jsxs("div",{className:"realtime-metrics-row",children:[h.jsx(EWe,{fps:m}),h.jsx(IWe,{vitals:v,onRefresh:y})]}),h.jsxs("div",{className:"realtime-chart-section",children:[h.jsx("div",{className:"realtime-chart-header",children:h.jsx("span",{className:"realtime-chart-title",children:"Memory Usage (Real-time)"})}),h.jsx(CWe,{data:C,width:380,height:100,metric:"memoryPercent",showThresholds:!0})]})]})}),h.jsx(cw,{id:"stats",className:"monitor-tab-panel",children:h.jsx("div",{className:"stats-grid",children:c&&h.jsxs(h.Fragment,{children:[h.jsx($g,{label:"Pages",value:c.pageCount.toString(),icon:h.jsx(nl,{size:ce.size})}),h.jsx($g,{label:"History Entries",value:c.totalEntries.toString(),icon:h.jsx(_y,{size:ce.size})}),h.jsx($g,{label:"Commands",value:c.commandStoreStats.commandCount.toString(),icon:h.jsx(_y,{size:ce.size})}),h.jsx($g,{label:"Cache Size",value:c.commandStoreStats.cacheSize.toString(),icon:h.jsx(nl,{size:ce.size})}),h.jsx($g,{label:"Memory Usage",value:$y(c.commandStoreStats.estimatedMemoryUsage),icon:h.jsx(Qb,{size:ce.size}),highlight:c.commandStoreStats.estimatedMemoryUsage>50*1024*1024}),h.jsx($g,{label:"Compression",value:`${(c.commandStoreStats.compressionRatio*100).toFixed(1)}%`,icon:h.jsx(_y,{size:ce.size})})]})})}),h.jsx(cw,{id:"browser",className:"monitor-tab-panel",children:c?.browserMemory?h.jsxs("div",{className:"stats-grid",children:[h.jsx($g,{label:"Used Heap",value:$y(c.browserMemory.usedJSHeapSize),icon:h.jsx(Qb,{size:ce.size})}),h.jsx($g,{label:"Total Heap",value:$y(c.browserMemory.totalJSHeapSize),icon:h.jsx(Qb,{size:ce.size})}),h.jsx($g,{label:"Heap Limit",value:$y(c.browserMemory.jsHeapSizeLimit),icon:h.jsx(Qb,{size:ce.size})}),h.jsx($g,{label:"Usage",value:`${c.browserMemory.usagePercent.toFixed(1)}%`,icon:h.jsx(_y,{size:ce.size}),highlight:c.browserMemory.usagePercent>75})]}):h.jsxs("div",{className:"browser-memory-fallback",children:[h.jsx(Qb,{size:J3.size}),h.jsx("p",{children:"Browser memory information is only available in Chrome/Edge."})]})}),h.jsx(cw,{id:"analysis",className:"monitor-tab-panel",children:h.jsxs("div",{className:"analysis-tab-content",children:[h.jsxs("div",{className:"analysis-actions-row",children:[h.jsx(KU,{stats:c,format:"csv"}),h.jsx(LWe,{config:i,onChange:s})]}),h.jsx(MWe,{enabled:t==="analysis"})]})})]})]})}function $g({label:t,value:e,icon:n,highlight:r}){return h.jsxs("div",{className:`stat-card ${r?"highlight":""}`,children:[h.jsx("div",{className:"stat-icon",children:n}),h.jsxs("div",{className:"stat-content",children:[h.jsx("div",{className:"stat-value",children:e}),h.jsx("div",{className:"stat-label",children:t})]})]})}const zWe=[{id:"nodes",name:"",nameEn:"Nodes",icon:yF,component:pUe,category:"navigation",defaultPosition:"left",minWidth:233,maxWidth:400,description:"   ",shortcut:"Ctrl+Shift+N"},{id:"components",name:"",nameEn:"Components",icon:im,component:gUe,category:"navigation",defaultPosition:"left",minWidth:249,maxWidth:249,description:" ",shortcut:"Ctrl+Shift+C"},{id:"datatable",name:"",nameEn:"DataTable",icon:nl,component:pHe,category:"navigation",defaultPosition:"left",minWidth:337,maxWidth:337,description:"DataTables, APIs, Variables, Transformers ",shortcut:"Ctrl+Shift+T"},{id:"datatableEditor",name:" ",nameEn:"DataTable Editor",icon:mF,component:BVe,category:"editor",defaultPosition:"left",minWidth:490,maxWidth:490,description:"DataTable, API, Variable, Transformer "},{id:"theme",name:"",nameEn:"Theme",icon:V_,component:yUe,category:"tool",defaultPosition:"left",minWidth:490,maxWidth:490,description:"   "},{id:"ai",name:"AI",nameEn:"AI",icon:pX,component:_Ue,category:"tool",defaultPosition:"right",minWidth:233,maxWidth:233,description:"AI   "},{id:"settings",name:"",nameEn:"Settings",icon:wf,component:sHe,category:"system",defaultPosition:"left",minWidth:233,maxWidth:400,description:"   ",shortcut:"Ctrl+,"},{id:"properties",name:"",nameEn:"Properties",icon:eS,component:OVe,category:"editor",defaultPosition:"right",minWidth:233,maxWidth:240,description:"  ",shortcut:"Ctrl+Shift+P"},{id:"styles",name:"",nameEn:"Styles",icon:Gve,component:eKe,category:"editor",defaultPosition:"right",minWidth:233,maxWidth:233,description:"CSS  ",shortcut:"Ctrl+Shift+S"},{id:"events",name:"",nameEn:"Events",icon:CF,component:aWe,category:"editor",defaultPosition:"right",minWidth:233,maxWidth:500,description:"  ",shortcut:"Ctrl+Shift+E"},{id:"history",name:"",nameEn:"History",icon:aE,component:hWe,category:"editor",defaultPosition:"right",minWidth:233,maxWidth:320,description:"    ",shortcut:"Ctrl+Shift+H"},{id:"monitor",name:"",nameEn:"Monitor",icon:_y,component:FWe,category:"system",defaultPosition:"bottom",minWidth:600,description:"    "}];function OWe(){Ky.isInitialized||(zWe.forEach(t=>{Ky.register(t)}),Ky.markInitialized())}OWe();function YU({side:t,panelIds:e,activePanels:n,onPanelClick:r}){return h.jsx("nav",{className:"panel-nav","data-side":t,children:h.jsx("ul",{className:"nav-list",children:e.map(i=>{const s=Ky.getPanel(i);if(!s)return null;const o=s.icon,a=n.includes(i);return h.jsx("li",{children:h.jsx("button",{className:`nav-button ${a?"active":""}`,onClick:()=>r(i),"aria-pressed":a,"aria-label":s.name,children:h.jsx(o,{color:a?Q5.color:ce.color,strokeWidth:a?Q5.strokeWidth:ce.strokeWidth,size:a?Q5.size:ce.size})})},i)})})})}const jWe=x.memo(function({panelId:e,side:n}){const r=Ky.getPanel(e);if(!r)return console.warn(`[PanelContainer] Panel "${e}" not found in registry`),null;const i=r.component;return h.jsx(i,{isActive:!0,side:n,onClose:void 0})});function QWe({panelId:t,side:e,isActive:n,panelWidth:r}){return h.jsx("div",{className:"panel-wrapper","data-panel":t,"data-active":n,style:{"--panel-width":`${r}px`,width:`${r}px`,minWidth:`${r}px`},children:h.jsx(jWe,{panelId:t,side:e})})}const XU=x.memo(function({side:e,panelIds:n,activePanels:r,show:i}){const s=x.useMemo(()=>{const o={};for(const a of n){const l=Ky.getPanel(a);o[a]=l?.minWidth||233}return o},[n]);return r.length===0&&!i?h.jsx("div",{className:"panel-container","data-show":!1,"data-side":e,"aria-hidden":!0,children:h.jsx("div",{className:"panel-empty-state",children:h.jsx("p",{className:"empty-message",children:" "})})}):h.jsx("div",{className:"panel-container","data-show":i,"data-side":e,"aria-hidden":!i,children:h.jsx("div",{className:"panel-content",children:n.map(o=>h.jsx(QWe,{panelId:o,side:e,isActive:r.includes(o),panelWidth:s[o]},o))})})}),JU=x.memo(function({side:e}){const{layout:n,togglePanel:r}=Y$(),i=x.useMemo(()=>({panelIds:e==="left"?n.leftPanels:n.rightPanels,activePanels:e==="left"?n.activeLeftPanels:n.activeRightPanels,show:e==="left"?n.showLeft:n.showRight}),[e,n.leftPanels,n.rightPanels,n.activeLeftPanels,n.activeRightPanels,n.showLeft,n.showRight]),s=x.useCallback(o=>{r(e,o)},[e,r]);return h.jsx("div",{className:`panel-slot panel-slot-${e}`,children:e==="left"?h.jsxs(h.Fragment,{children:[h.jsx(YU,{side:e,panelIds:i.panelIds,activePanels:i.activePanels,onPanelClick:s}),h.jsx(XU,{side:e,panelIds:i.panelIds,activePanels:i.activePanels,show:i.show})]}):h.jsxs(h.Fragment,{children:[h.jsx(XU,{side:e,panelIds:i.panelIds,activePanels:i.activePanels,show:i.show}),h.jsx(YU,{side:e,panelIds:i.panelIds,activePanels:i.activePanels,onPanelClick:s})]})})}),yP=150,vP=600,UWe=x.memo(function(){const{layout:e,closeBottomPanel:n,setBottomHeight:r}=Y$(),{showBottom:i,bottomHeight:s,activeBottomPanels:o,bottomPanels:a}=e,[l,u]=x.useState(!1),c=x.useRef(0),d=x.useRef(s);Hx([{key:"Escape",modifier:"none",preventDefault:!1,disabled:!i,handler:n,description:"Close bottom panel"}],[i,n]);const f=x.useCallback(p=>{p.preventDefault(),u(!0),c.current=p.clientY,d.current=s},[s]);return x.useEffect(()=>{if(!l)return;const p=v=>{const y=c.current-v.clientY,A=Math.max(yP,Math.min(vP,d.current+y));r(A)},m=()=>{u(!1)};return document.addEventListener("mousemove",p),document.addEventListener("mouseup",m),()=>{document.removeEventListener("mousemove",p),document.removeEventListener("mouseup",m)}},[l,r]),!i||o.length===0?null:h.jsxs("div",{className:"bottom-panel-slot",style:{height:s},"data-dragging":l,role:"region","aria-label":"Bottom panel",children:[h.jsx("div",{className:"bottom-panel-resize-handle",onMouseDown:f,role:"separator","aria-orientation":"horizontal","aria-valuenow":s,"aria-valuemin":yP,"aria-valuemax":vP,tabIndex:0,onKeyDown:p=>{p.key==="ArrowUp"?(p.preventDefault(),r(Math.min(vP,s+20))):p.key==="ArrowDown"&&(p.preventDefault(),r(Math.max(yP,s-20)))},children:h.jsx(Jye,{size:ce.size})}),h.jsxs("div",{className:"bottom-panel-header",children:[h.jsx("div",{className:"bottom-panel-tabs",children:o.map(p=>{const m=Ky.getPanel(p);if(!m)return null;const v=m.icon;return h.jsxs("span",{className:"bottom-panel-tab active",children:[h.jsx(v,{size:yn.size}),m.name]},p)})}),h.jsx("button",{className:"bottom-panel-close",onClick:n,"aria-label":"Close panel",type:"button",children:h.jsx(vd,{size:ce.size})})]}),h.jsx("div",{className:"bottom-panel-content",children:a.map(p=>{const m=Ky.getPanel(p);if(!m)return null;const v=m.component,y=o.includes(p);return h.jsx("div",{className:"bottom-panel-wrapper","data-panel":p,"data-active":y,children:h.jsx(v,{isActive:y,side:"bottom",onClose:n})},p)})})]})}),bP=.1,xP=5,ZU=.1,HWe=x.memo(function({className:e}){const n=ns(A=>A.zoom),r=x.useRef(!0),[i,s]=x.useState(""),o=Math.round(n*100);x.useEffect(()=>{s(`${o}%`)},[o]);const a=x.useCallback(A=>{const C=ns.getState(),{containerSize:E,panOffset:I,zoom:D,setZoom:T,setPanOffset:M}=C;if(r.current=!1,E.width===0||E.height===0){T(A);return}const P=E.width/2,k=E.height/2,L=Math.max(bP,Math.min(xP,A)),$=L/D,z=P-(P-I.x)*$,j=k-(k-I.y)*$;T(L),M({x:z,y:j})},[]),l=x.useCallback(()=>{const A=ns.getState().zoom;a(A+ZU)},[a]),u=x.useCallback(()=>{const A=ns.getState().zoom;a(A-ZU)},[a]),c=x.useCallback(()=>{const A=ns.getState(),{containerSize:C,canvasSize:E,setZoom:I,setPanOffset:D}=A;if(C.width===0||C.height===0)return;r.current=!0;const T=C.width/E.width,M=C.height/E.height,P=Math.min(T,M)*.9;I(P),D({x:(C.width-E.width*P)/2,y:(C.height-E.height*P)/2})},[]),d=x.useCallback(()=>{const A=ns.getState(),{containerSize:C,canvasSize:E,setZoom:I,setPanOffset:D}=A;if(C.width===0||C.height===0)return;r.current=!1;const T=C.width/E.width,M=C.height/E.height,P=Math.max(T,M);I(P),D({x:(C.width-E.width*P)/2,y:(C.height-E.height*P)/2})},[]),f=x.useCallback(A=>{switch(A){case"zoom-in":l();break;case"zoom-out":u();break;case"zoom-100":a(1);break;case"zoom-200":a(2);break;case"fit-to-screen":c();break;case"fill-screen":d();break}},[l,u,a,c,d]),p=x.useCallback(A=>{s(A)},[]),m=x.useCallback(()=>{const A=i.replace(/%/g,"").trim(),C=parseFloat(A);if(isNaN(C)||C<bP*100||C>xP*100){s(`${o}%`);return}a(C/100)},[i,o,a]),v=x.useCallback(A=>{if(A.key==="Enter"){A.preventDefault(),m(),A.target.blur();return}if(A.key==="Escape"){A.preventDefault(),s(`${o}%`),A.target.blur();return}const C=A.shiftKey?10:1;if(A.key==="ArrowUp"){A.preventDefault();const E=Math.min(o+C,xP*100);a(E/100)}else if(A.key==="ArrowDown"){A.preventDefault();const E=Math.max(o-C,bP*100);a(E/100)}},[m,o,a]),y=x.useCallback(A=>{A.target.select()},[]);return h.jsx("div",{className:`zoom-controls ${e||""}`,children:h.jsxs(T$,{"aria-label":"Zoom",inputValue:i,onInputChange:p,onSelectionChange:A=>{A!==null&&f(A)},children:[h.jsxs("div",{className:"zoom-trigger-button",children:[h.jsx(Br,{className:"zoom-input",onBlur:m,onKeyDown:v,onFocus:y}),h.jsx(Yt,{className:"zoom-chevron-button",children:h.jsx(ho,{size:ce.size})})]}),h.jsx(Ss,{className:"zoom-menu-popover",placement:"bottom start",children:h.jsxs(Ui,{className:"zoom-menu",children:[h.jsxs(tr,{id:"zoom-in",className:"zoom-menu-item",textValue:"",children:[h.jsx("span",{children:""}),h.jsx("kbd",{children:"+"})]}),h.jsxs(tr,{id:"zoom-out",className:"zoom-menu-item",textValue:"",children:[h.jsx("span",{children:""}),h.jsx("kbd",{children:"-"})]}),h.jsxs(tr,{id:"zoom-100",className:"zoom-menu-item",textValue:"100%",children:[h.jsx("span",{children:"100%"}),h.jsx("kbd",{children:"1"})]}),h.jsxs(tr,{id:"zoom-200",className:"zoom-menu-item",textValue:"200%",children:[h.jsx("span",{children:"200%"}),h.jsx("kbd",{children:"2"})]}),h.jsxs(tr,{id:"fit-to-screen",className:"zoom-menu-item",textValue:" ",children:[h.jsx("span",{children:" "}),h.jsx("kbd",{children:"0"})]}),h.jsx(tr,{id:"fill-screen",className:"zoom-menu-item",textValue:" ",children:h.jsx("span",{children:" "})})]})})]})})}),VWe=({projectId:t,projectName:e,breakpoint:n,breakpoints:r,onBreakpointChange:i,historyInfo:s,canUndo:o,canRedo:a,onUndo:l,onRedo:u,onPreview:c,onPlay:d,onPublish:f,viewMode:p,onViewModeToggle:m})=>{const{layout:v,toggleBottomPanel:y}=Y$(),A=v.showBottom&&v.activeBottomPanels.includes("monitor");return h.jsxs("nav",{className:"header",children:[h.jsxs("div",{className:"header_contents header_left",children:[h.jsx("button",{"aria-label":"Menu",children:h.jsx(bF,{strokeWidth:ce.strokeWidth,size:ce.size})}),h.jsx("div",{className:"logo-container",children:h.jsx("img",{src:"/appIcon.svg",alt:"logo"})}),h.jsxs("div",{className:"project-info",children:[e&&h.jsx("span",{className:"project-name",children:e}),!t&&!e&&"No project loaded"]})]}),h.jsxs("div",{className:"header_contents screen",children:[h.jsxs("code",{className:"code sizeInfo",children:[r.find(C=>C.id===Array.from(n)[0])?.max_width,"x",r.find(C=>C.id===Array.from(n)[0])?.max_height]}),h.jsx(Ip,{selectionMode:"single",selectedKeys:n,onSelectionChange:C=>{const E=Array.from(C)[0];E&&i(E)},indicator:!0,children:r.map(C=>h.jsxs(ri,{id:C.id,"aria-label":C.label,children:[C.id==="screen"&&h.jsx(FAe,{color:ce.color,strokeWidth:ce.strokeWidth,size:ce.size}),C.id==="desktop"&&h.jsx(zve,{color:ce.color,strokeWidth:ce.strokeWidth,size:ce.size}),C.id==="tablet"&&h.jsx(axe,{color:ce.color,strokeWidth:ce.strokeWidth,size:ce.size}),C.id==="mobile"&&h.jsx(_be,{color:ce.color,strokeWidth:ce.strokeWidth,size:ce.size})]},C.id))}),h.jsx(HWe,{})]}),h.jsxs("div",{className:"header_contents header_right",children:[h.jsx("span",{className:"history-info",children:s?`${s.current}/${s.total}`:"0/0"}),h.jsx(MD,{shortcutId:"undo",placement:"bottom",children:h.jsx("button",{"aria-label":"Undo",onClick:l,disabled:!o,className:o?"":"disabled",children:h.jsx($X,{color:o?ce.color:"#999",strokeWidth:ce.strokeWidth,size:ce.size})})}),h.jsx(MD,{shortcutId:"redo",placement:"bottom",children:h.jsx("button",{"aria-label":"Redo",onClick:u,disabled:!a,className:a?"":"disabled",children:h.jsx(kX,{color:a?ce.color:"#999",strokeWidth:ce.strokeWidth,size:ce.size})})}),h.jsxs(Ip,{selectionMode:"multiple",selectedKeys:new Set([...A?["monitor"]:[],...p==="workflow"?["workflow"]:[]]),indicator:!0,onSelectionChange:C=>{const E=new Set(C),I=A,D=E.has("monitor"),T=p==="workflow",M=E.has("workflow");I!==D&&y("monitor"),T!==M&&m()},"aria-label":"View options",children:[h.jsx(ri,{id:"monitor","aria-label":"Toggle Monitor Panel",children:h.jsx(_y,{color:A?"var(--color-white)":ce.color,strokeWidth:ce.strokeWidth,size:ce.size})}),h.jsx(ri,{id:"workflow","aria-label":p==="canvas"?"Switch to Workflow":"Switch to Canvas",children:p==="canvas"?h.jsx(wX,{color:ce.color,strokeWidth:ce.strokeWidth,size:ce.size}):h.jsx($N,{color:"var(--color-white)",strokeWidth:ce.strokeWidth,size:ce.size})}),h.jsx(ri,{id:"preview","aria-label":"Preview",onPress:c,children:h.jsx(yB,{color:ce.color,strokeWidth:ce.strokeWidth,size:ce.size})})]}),h.jsx("button",{"aria-label":"Play",onClick:d,children:h.jsx(ZE,{color:ce.color,strokeWidth:ce.strokeWidth,size:ce.size})}),h.jsx("button",{"aria-label":"Publish",className:"publish",onClick:f,children:"Publish"})]})]})},GWe=`
  * { box-sizing: border-box; }
  html, body {
    margin: 0;
    padding: 0;
    width: 100%;
    height: 100%;
  }
  /*  body React  body element  (DOM/  ) */
  body {
    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
    line-height: 1.5;
  }
  .preview-empty, .preview-loading {
    display: flex;
    align-items: center;
    justify-content: center;
    height: 100%;
    color: #666;
    font-size: 14px;
  }
`;function KWe(t){return`
<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>XStudio Preview</title>
  <style>${GWe}</style>
</head>
<body data-preview="true" data-project-id="${t}">
  <div class="preview-loading">Loading Preview Runtime...</div>
  <script>
    // React Refresh preamble    (   )
    // @vitejs/plugin-react-swc   
    window.$RefreshReg$ = () => {};
    window.$RefreshSig$ = () => (type) => type;
    window.__vite_plugin_react_preamble_installed__ = true;
  <\/script>
  <script type="module">
    //  : Vite client preview 
    async function loadPreviewRuntime() {
      try {
        // 1. Vite client  (HMR )
        await import('/@vite/client');

        // 2. React Refresh   ( HMR )
        try {
          await import('/@react-refresh');
        } catch (e) {
          console.warn('[Preview] React Refresh not available:', e.message);
        }

        // 3. canvas runtime  (React body  )
        await import('/src/canvas/index.tsx');

        console.log('[Preview] Runtime loaded successfully');
      } catch (err) {
        console.error('[Preview] Failed to load preview:', err);
        document.body.innerHTML =
          '<div class="preview-loading">Failed to load Preview Runtime: ' + err.message + '</div>';
      }
    }

    loadPreviewRuntime();
  <\/script>
</body>
</html>
`}function WWe(t){return console.warn("[Preview] Production bundle not available, falling back to dev mode"),KWe(t)}function qWe(t){return WWe(t)}function YWe(){if(typeof window>"u")return!1;if(new URLSearchParams(window.location.search).get("srcdoc")==="true")return!0;try{if(localStorage.getItem("USE_SRCDOC")==="true")return!0}catch{}return window.__USE_SRCDOC__,!0}const eH=({projectId:t,breakpoint:e,breakpoints:n,onIframeLoad:r,onMessage:i,children:s})=>{const o=n.find(c=>c.id===Array.from(e)[0]),a=YWe(),l=x.useMemo(()=>!a||!t?null:qWe(t),[a,t]),u=xe.useRef(i);return xe.useEffect(()=>{u.current=i},[i]),xe.useEffect(()=>{const c=d=>{u.current(d)};return window.addEventListener("message",c),()=>{window.removeEventListener("message",c)}},[]),h.jsx("main",{className:"workSpace",children:h.jsxs("div",{className:"canvas","data-max-width":o?.max_width?.toString()||"100%","data-max-height":o?.max_height?.toString()||"100%",style:{width:o?.max_width||"100%",height:o?.max_height||"100%",borderWidth:o?.id==="screen"?"0px":"1px"},children:[a&&l?h.jsx("iframe",{id:"previewFrame",srcDoc:l,style:{width:"100%",height:"100%",border:"none"},sandbox:"allow-scripts allow-same-origin allow-forms allow-popups allow-modals",title:"XStudio Preview",onLoad:r}):h.jsx("iframe",{id:"previewFrame",src:t?`/preview/${t}?isIframe=true`:"/preview?isIframe=true",style:{width:"100%",height:"100%",border:"none"},sandbox:"allow-scripts allow-same-origin allow-forms allow-popups allow-modals",title:"XStudio Preview",onLoad:r}),s]})})};function Qa(t){if(typeof t=="string"||typeof t=="number")return""+t;let e="";if(Array.isArray(t))for(let n=0,r;n<t.length;n++)(r=Qa(t[n]))!==""&&(e+=(e&&" ")+r);else for(let n in t)t[n]&&(e+=(e&&" ")+n);return e}var XWe={value:()=>{}};function eM(){for(var t=0,e=arguments.length,n={},r;t<e;++t){if(!(r=arguments[t]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new NB(n)}function NB(t){this._=t}function JWe(t,e){return t.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!e.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}NB.prototype=eM.prototype={constructor:NB,on:function(t,e){var n=this._,r=JWe(t+"",n),i,s=-1,o=r.length;if(arguments.length<2){for(;++s<o;)if((i=(t=r[s]).type)&&(i=ZWe(n[i],t.name)))return i;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++s<o;)if(i=(t=r[s]).type)n[i]=tH(n[i],t.name,e);else if(e==null)for(i in n)n[i]=tH(n[i],t.name,null);return this},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new NB(t)},call:function(t,e){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,s;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(s=this._[t],r=0,i=s.length;r<i;++r)s[r].value.apply(e,n)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,s=r.length;i<s;++i)r[i].value.apply(e,n)}};function ZWe(t,e){for(var n=0,r=t.length,i;n<r;++n)if((i=t[n]).name===e)return i.value}function tH(t,e,n){for(var r=0,i=t.length;r<i;++r)if(t[r].name===e){t[r]=XWe,t=t.slice(0,r).concat(t.slice(r+1));break}return n!=null&&t.push({name:e,value:n}),t}var hL="http://www.w3.org/1999/xhtml";const nH={svg:"http://www.w3.org/2000/svg",xhtml:hL,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function tM(t){var e=t+="",n=e.indexOf(":");return n>=0&&(e=t.slice(0,n))!=="xmlns"&&(t=t.slice(n+1)),nH.hasOwnProperty(e)?{space:nH[e],local:t}:t}function eqe(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===hL&&e.documentElement.namespaceURI===hL?e.createElement(t):e.createElementNS(n,t)}}function tqe(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function Jce(t){var e=tM(t);return(e.local?tqe:eqe)(e)}function nqe(){}function Ez(t){return t==null?nqe:function(){return this.querySelector(t)}}function rqe(t){typeof t!="function"&&(t=Ez(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var s=e[i],o=s.length,a=r[i]=new Array(o),l,u,c=0;c<o;++c)(l=s[c])&&(u=t.call(l,l.__data__,c,s))&&("__data__"in l&&(u.__data__=l.__data__),a[c]=u);return new ch(r,this._parents)}function iqe(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function sqe(){return[]}function Zce(t){return t==null?sqe:function(){return this.querySelectorAll(t)}}function oqe(t){return function(){return iqe(t.apply(this,arguments))}}function aqe(t){typeof t=="function"?t=oqe(t):t=Zce(t);for(var e=this._groups,n=e.length,r=[],i=[],s=0;s<n;++s)for(var o=e[s],a=o.length,l,u=0;u<a;++u)(l=o[u])&&(r.push(t.call(l,l.__data__,u,o)),i.push(l));return new ch(r,i)}function ede(t){return function(){return this.matches(t)}}function tde(t){return function(e){return e.matches(t)}}var lqe=Array.prototype.find;function uqe(t){return function(){return lqe.call(this.children,t)}}function cqe(){return this.firstElementChild}function dqe(t){return this.select(t==null?cqe:uqe(typeof t=="function"?t:tde(t)))}var hqe=Array.prototype.filter;function fqe(){return Array.from(this.children)}function pqe(t){return function(){return hqe.call(this.children,t)}}function gqe(t){return this.selectAll(t==null?fqe:pqe(typeof t=="function"?t:tde(t)))}function mqe(t){typeof t!="function"&&(t=ede(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var s=e[i],o=s.length,a=r[i]=[],l,u=0;u<o;++u)(l=s[u])&&t.call(l,l.__data__,u,s)&&a.push(l);return new ch(r,this._parents)}function nde(t){return new Array(t.length)}function Aqe(){return new ch(this._enter||this._groups.map(nde),this._parents)}function FD(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}FD.prototype={constructor:FD,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function yqe(t){return function(){return t}}function vqe(t,e,n,r,i,s){for(var o=0,a,l=e.length,u=s.length;o<u;++o)(a=e[o])?(a.__data__=s[o],r[o]=a):n[o]=new FD(t,s[o]);for(;o<l;++o)(a=e[o])&&(i[o]=a)}function bqe(t,e,n,r,i,s,o){var a,l,u=new Map,c=e.length,d=s.length,f=new Array(c),p;for(a=0;a<c;++a)(l=e[a])&&(f[a]=p=o.call(l,l.__data__,a,e)+"",u.has(p)?i[a]=l:u.set(p,l));for(a=0;a<d;++a)p=o.call(t,s[a],a,s)+"",(l=u.get(p))?(r[a]=l,l.__data__=s[a],u.delete(p)):n[a]=new FD(t,s[a]);for(a=0;a<c;++a)(l=e[a])&&u.get(f[a])===l&&(i[a]=l)}function xqe(t){return t.__data__}function Cqe(t,e){if(!arguments.length)return Array.from(this,xqe);var n=e?bqe:vqe,r=this._parents,i=this._groups;typeof t!="function"&&(t=yqe(t));for(var s=i.length,o=new Array(s),a=new Array(s),l=new Array(s),u=0;u<s;++u){var c=r[u],d=i[u],f=d.length,p=Eqe(t.call(c,c&&c.__data__,u,r)),m=p.length,v=a[u]=new Array(m),y=o[u]=new Array(m),A=l[u]=new Array(f);n(c,d,v,y,A,p,e);for(var C=0,E=0,I,D;C<m;++C)if(I=v[C]){for(C>=E&&(E=C+1);!(D=y[E])&&++E<m;);I._next=D||null}}return o=new ch(o,r),o._enter=a,o._exit=l,o}function Eqe(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function Sqe(){return new ch(this._exit||this._groups.map(nde),this._parents)}function wqe(t,e,n){var r=this.enter(),i=this,s=this.exit();return typeof t=="function"?(r=t(r),r&&(r=r.selection())):r=r.append(t+""),e!=null&&(i=e(i),i&&(i=i.selection())),n==null?s.remove():n(s),r&&i?r.merge(i).order():i}function _qe(t){for(var e=t.selection?t.selection():t,n=this._groups,r=e._groups,i=n.length,s=r.length,o=Math.min(i,s),a=new Array(i),l=0;l<o;++l)for(var u=n[l],c=r[l],d=u.length,f=a[l]=new Array(d),p,m=0;m<d;++m)(p=u[m]||c[m])&&(f[m]=p);for(;l<i;++l)a[l]=n[l];return new ch(a,this._parents)}function Iqe(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r=t[e],i=r.length-1,s=r[i],o;--i>=0;)(o=r[i])&&(s&&o.compareDocumentPosition(s)^4&&s.parentNode.insertBefore(o,s),s=o);return this}function Bqe(t){t||(t=Dqe);function e(d,f){return d&&f?t(d.__data__,f.__data__):!d-!f}for(var n=this._groups,r=n.length,i=new Array(r),s=0;s<r;++s){for(var o=n[s],a=o.length,l=i[s]=new Array(a),u,c=0;c<a;++c)(u=o[c])&&(l[c]=u);l.sort(e)}return new ch(i,this._parents).order()}function Dqe(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function Tqe(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function Mqe(){return Array.from(this)}function kqe(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,s=r.length;i<s;++i){var o=r[i];if(o)return o}return null}function Pqe(){let t=0;for(const e of this)++t;return t}function Rqe(){return!this.node()}function Nqe(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i=e[n],s=0,o=i.length,a;s<o;++s)(a=i[s])&&t.call(a,a.__data__,s,i);return this}function Lqe(t){return function(){this.removeAttribute(t)}}function Fqe(t){return function(){this.removeAttributeNS(t.space,t.local)}}function $qe(t,e){return function(){this.setAttribute(t,e)}}function zqe(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function Oqe(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttribute(t):this.setAttribute(t,n)}}function jqe(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function Qqe(t,e){var n=tM(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((e==null?n.local?Fqe:Lqe:typeof e=="function"?n.local?jqe:Oqe:n.local?zqe:$qe)(n,e))}function rde(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function Uqe(t){return function(){this.style.removeProperty(t)}}function Hqe(t,e,n){return function(){this.style.setProperty(t,e,n)}}function Vqe(t,e,n){return function(){var r=e.apply(this,arguments);r==null?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function Gqe(t,e,n){return arguments.length>1?this.each((e==null?Uqe:typeof e=="function"?Vqe:Hqe)(t,e,n??"")):NE(this.node(),t)}function NE(t,e){return t.style.getPropertyValue(e)||rde(t).getComputedStyle(t,null).getPropertyValue(e)}function Kqe(t){return function(){delete this[t]}}function Wqe(t,e){return function(){this[t]=e}}function qqe(t,e){return function(){var n=e.apply(this,arguments);n==null?delete this[t]:this[t]=n}}function Yqe(t,e){return arguments.length>1?this.each((e==null?Kqe:typeof e=="function"?qqe:Wqe)(t,e)):this.node()[t]}function ide(t){return t.trim().split(/^|\s+/)}function Sz(t){return t.classList||new sde(t)}function sde(t){this._node=t,this._names=ide(t.getAttribute("class")||"")}sde.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function ode(t,e){for(var n=Sz(t),r=-1,i=e.length;++r<i;)n.add(e[r])}function ade(t,e){for(var n=Sz(t),r=-1,i=e.length;++r<i;)n.remove(e[r])}function Xqe(t){return function(){ode(this,t)}}function Jqe(t){return function(){ade(this,t)}}function Zqe(t,e){return function(){(e.apply(this,arguments)?ode:ade)(this,t)}}function eYe(t,e){var n=ide(t+"");if(arguments.length<2){for(var r=Sz(this.node()),i=-1,s=n.length;++i<s;)if(!r.contains(n[i]))return!1;return!0}return this.each((typeof e=="function"?Zqe:e?Xqe:Jqe)(n,e))}function tYe(){this.textContent=""}function nYe(t){return function(){this.textContent=t}}function rYe(t){return function(){var e=t.apply(this,arguments);this.textContent=e??""}}function iYe(t){return arguments.length?this.each(t==null?tYe:(typeof t=="function"?rYe:nYe)(t)):this.node().textContent}function sYe(){this.innerHTML=""}function oYe(t){return function(){this.innerHTML=t}}function aYe(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e??""}}function lYe(t){return arguments.length?this.each(t==null?sYe:(typeof t=="function"?aYe:oYe)(t)):this.node().innerHTML}function uYe(){this.nextSibling&&this.parentNode.appendChild(this)}function cYe(){return this.each(uYe)}function dYe(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function hYe(){return this.each(dYe)}function fYe(t){var e=typeof t=="function"?t:Jce(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function pYe(){return null}function gYe(t,e){var n=typeof t=="function"?t:Jce(t),r=e==null?pYe:typeof e=="function"?e:Ez(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function mYe(){var t=this.parentNode;t&&t.removeChild(this)}function AYe(){return this.each(mYe)}function yYe(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function vYe(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function bYe(t){return this.select(t?vYe:yYe)}function xYe(t){return arguments.length?this.property("__data__",t):this.node().__data__}function CYe(t){return function(e){t.call(this,e,this.__data__)}}function EYe(t){return t.trim().split(/^|\s+/).map(function(e){var n="",r=e.indexOf(".");return r>=0&&(n=e.slice(r+1),e=e.slice(0,r)),{type:e,name:n}})}function SYe(t){return function(){var e=this.__on;if(e){for(var n=0,r=-1,i=e.length,s;n<i;++n)s=e[n],(!t.type||s.type===t.type)&&s.name===t.name?this.removeEventListener(s.type,s.listener,s.options):e[++r]=s;++r?e.length=r:delete this.__on}}}function wYe(t,e,n){return function(){var r=this.__on,i,s=CYe(e);if(r){for(var o=0,a=r.length;o<a;++o)if((i=r[o]).type===t.type&&i.name===t.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=s,i.options=n),i.value=e;return}}this.addEventListener(t.type,s,n),i={type:t.type,name:t.name,value:e,listener:s,options:n},r?r.push(i):this.__on=[i]}}function _Ye(t,e,n){var r=EYe(t+""),i,s=r.length,o;if(arguments.length<2){var a=this.node().__on;if(a){for(var l=0,u=a.length,c;l<u;++l)for(i=0,c=a[l];i<s;++i)if((o=r[i]).type===c.type&&o.name===c.name)return c.value}return}for(a=e?wYe:SYe,i=0;i<s;++i)this.each(a(r[i],e,n));return this}function lde(t,e,n){var r=rde(t),i=r.CustomEvent;typeof i=="function"?i=new i(e,n):(i=r.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}function IYe(t,e){return function(){return lde(this,t,e)}}function BYe(t,e){return function(){return lde(this,t,e.apply(this,arguments))}}function DYe(t,e){return this.each((typeof e=="function"?BYe:IYe)(t,e))}function*TYe(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,s=r.length,o;i<s;++i)(o=r[i])&&(yield o)}var ude=[null];function ch(t,e){this._groups=t,this._parents=e}function v4(){return new ch([[document.documentElement]],ude)}function MYe(){return this}ch.prototype=v4.prototype={constructor:ch,select:rqe,selectAll:aqe,selectChild:dqe,selectChildren:gqe,filter:mqe,data:Cqe,enter:Aqe,exit:Sqe,join:wqe,merge:_qe,selection:MYe,order:Iqe,sort:Bqe,call:Tqe,nodes:Mqe,node:kqe,size:Pqe,empty:Rqe,each:Nqe,attr:Qqe,style:Gqe,property:Yqe,classed:eYe,text:iYe,html:lYe,raise:cYe,lower:hYe,append:fYe,insert:gYe,remove:AYe,clone:bYe,datum:xYe,on:_Ye,dispatch:DYe,[Symbol.iterator]:TYe};function eh(t){return typeof t=="string"?new ch([[document.querySelector(t)]],[document.documentElement]):new ch([[t]],ude)}function kYe(t){let e;for(;e=t.sourceEvent;)t=e;return t}function Ep(t,e){if(t=kYe(t),e===void 0&&(e=t.currentTarget),e){var n=e.ownerSVGElement||e;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=t.clientX,r.y=t.clientY,r=r.matrixTransform(e.getScreenCTM().inverse()),[r.x,r.y]}if(e.getBoundingClientRect){var i=e.getBoundingClientRect();return[t.clientX-i.left-e.clientLeft,t.clientY-i.top-e.clientTop]}}return[t.pageX,t.pageY]}const PYe={passive:!1},b3={capture:!0,passive:!1};function CP(t){t.stopImmediatePropagation()}function yE(t){t.preventDefault(),t.stopImmediatePropagation()}function cde(t){var e=t.document.documentElement,n=eh(t).on("dragstart.drag",yE,b3);"onselectstart"in e?n.on("selectstart.drag",yE,b3):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")}function dde(t,e){var n=t.document.documentElement,r=eh(t).on("dragstart.drag",null);e&&(r.on("click.drag",yE,b3),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}const MI=t=>()=>t;function fL(t,{sourceEvent:e,subject:n,target:r,identifier:i,active:s,x:o,y:a,dx:l,dy:u,dispatch:c}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},identifier:{value:i,enumerable:!0,configurable:!0},active:{value:s,enumerable:!0,configurable:!0},x:{value:o,enumerable:!0,configurable:!0},y:{value:a,enumerable:!0,configurable:!0},dx:{value:l,enumerable:!0,configurable:!0},dy:{value:u,enumerable:!0,configurable:!0},_:{value:c}})}fL.prototype.on=function(){var t=this._.on.apply(this._,arguments);return t===this._?this:t};function RYe(t){return!t.ctrlKey&&!t.button}function NYe(){return this.parentNode}function LYe(t,e){return e??{x:t.x,y:t.y}}function FYe(){return navigator.maxTouchPoints||"ontouchstart"in this}function hde(){var t=RYe,e=NYe,n=LYe,r=FYe,i={},s=eM("start","drag","end"),o=0,a,l,u,c,d=0;function f(I){I.on("mousedown.drag",p).filter(r).on("touchstart.drag",y).on("touchmove.drag",A,PYe).on("touchend.drag touchcancel.drag",C).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function p(I,D){if(!(c||!t.call(this,I,D))){var T=E(this,e.call(this,I,D),I,D,"mouse");T&&(eh(I.view).on("mousemove.drag",m,b3).on("mouseup.drag",v,b3),cde(I.view),CP(I),u=!1,a=I.clientX,l=I.clientY,T("start",I))}}function m(I){if(yE(I),!u){var D=I.clientX-a,T=I.clientY-l;u=D*D+T*T>d}i.mouse("drag",I)}function v(I){eh(I.view).on("mousemove.drag mouseup.drag",null),dde(I.view,u),yE(I),i.mouse("end",I)}function y(I,D){if(t.call(this,I,D)){var T=I.changedTouches,M=e.call(this,I,D),P=T.length,k,L;for(k=0;k<P;++k)(L=E(this,M,I,D,T[k].identifier,T[k]))&&(CP(I),L("start",I,T[k]))}}function A(I){var D=I.changedTouches,T=D.length,M,P;for(M=0;M<T;++M)(P=i[D[M].identifier])&&(yE(I),P("drag",I,D[M]))}function C(I){var D=I.changedTouches,T=D.length,M,P;for(c&&clearTimeout(c),c=setTimeout(function(){c=null},500),M=0;M<T;++M)(P=i[D[M].identifier])&&(CP(I),P("end",I,D[M]))}function E(I,D,T,M,P,k){var L=s.copy(),$=Ep(k||T,D),z,j,H;if((H=n.call(I,new fL("beforestart",{sourceEvent:T,target:f,identifier:P,active:o,x:$[0],y:$[1],dx:0,dy:0,dispatch:L}),M))!=null)return z=H.x-$[0]||0,j=H.y-$[1]||0,function W(O,G,q){var J=$,te;switch(O){case"start":i[P]=W,te=o++;break;case"end":delete i[P],--o;case"drag":$=Ep(q||G,D),te=o;break}L.call(O,I,new fL(O,{sourceEvent:G,subject:H,target:f,identifier:P,active:te,x:$[0]+z,y:$[1]+j,dx:$[0]-J[0],dy:$[1]-J[1],dispatch:L}),M)}}return f.filter=function(I){return arguments.length?(t=typeof I=="function"?I:MI(!!I),f):t},f.container=function(I){return arguments.length?(e=typeof I=="function"?I:MI(I),f):e},f.subject=function(I){return arguments.length?(n=typeof I=="function"?I:MI(I),f):n},f.touchable=function(I){return arguments.length?(r=typeof I=="function"?I:MI(!!I),f):r},f.on=function(){var I=s.on.apply(s,arguments);return I===s?f:I},f.clickDistance=function(I){return arguments.length?(d=(I=+I)*I,f):Math.sqrt(d)},f}function wz(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function fde(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function b4(){}var x3=.7,$D=1/x3,vE="\\s*([+-]?\\d+)\\s*",C3="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",nm="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",$Ye=/^#([0-9a-f]{3,8})$/,zYe=new RegExp(`^rgb\\(${vE},${vE},${vE}\\)$`),OYe=new RegExp(`^rgb\\(${nm},${nm},${nm}\\)$`),jYe=new RegExp(`^rgba\\(${vE},${vE},${vE},${C3}\\)$`),QYe=new RegExp(`^rgba\\(${nm},${nm},${nm},${C3}\\)$`),UYe=new RegExp(`^hsl\\(${C3},${nm},${nm}\\)$`),HYe=new RegExp(`^hsla\\(${C3},${nm},${nm},${C3}\\)$`),rH={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};wz(b4,Wx,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:iH,formatHex:iH,formatHex8:VYe,formatHsl:GYe,formatRgb:sH,toString:sH});function iH(){return this.rgb().formatHex()}function VYe(){return this.rgb().formatHex8()}function GYe(){return pde(this).formatHsl()}function sH(){return this.rgb().formatRgb()}function Wx(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=$Ye.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?oH(e):n===3?new pd(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?kI(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?kI(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=zYe.exec(t))?new pd(e[1],e[2],e[3],1):(e=OYe.exec(t))?new pd(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=jYe.exec(t))?kI(e[1],e[2],e[3],e[4]):(e=QYe.exec(t))?kI(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=UYe.exec(t))?uH(e[1],e[2]/100,e[3]/100,1):(e=HYe.exec(t))?uH(e[1],e[2]/100,e[3]/100,e[4]):rH.hasOwnProperty(t)?oH(rH[t]):t==="transparent"?new pd(NaN,NaN,NaN,0):null}function oH(t){return new pd(t>>16&255,t>>8&255,t&255,1)}function kI(t,e,n,r){return r<=0&&(t=e=n=NaN),new pd(t,e,n,r)}function KYe(t){return t instanceof b4||(t=Wx(t)),t?(t=t.rgb(),new pd(t.r,t.g,t.b,t.opacity)):new pd}function pL(t,e,n,r){return arguments.length===1?KYe(t):new pd(t,e,n,r??1)}function pd(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}wz(pd,pL,fde(b4,{brighter(t){return t=t==null?$D:Math.pow($D,t),new pd(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?x3:Math.pow(x3,t),new pd(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new pd(Ix(this.r),Ix(this.g),Ix(this.b),zD(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:aH,formatHex:aH,formatHex8:WYe,formatRgb:lH,toString:lH}));function aH(){return`#${mx(this.r)}${mx(this.g)}${mx(this.b)}`}function WYe(){return`#${mx(this.r)}${mx(this.g)}${mx(this.b)}${mx((isNaN(this.opacity)?1:this.opacity)*255)}`}function lH(){const t=zD(this.opacity);return`${t===1?"rgb(":"rgba("}${Ix(this.r)}, ${Ix(this.g)}, ${Ix(this.b)}${t===1?")":`, ${t})`}`}function zD(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Ix(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function mx(t){return t=Ix(t),(t<16?"0":"")+t.toString(16)}function uH(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Bp(t,e,n,r)}function pde(t){if(t instanceof Bp)return new Bp(t.h,t.s,t.l,t.opacity);if(t instanceof b4||(t=Wx(t)),!t)return new Bp;if(t instanceof Bp)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),s=Math.max(e,n,r),o=NaN,a=s-i,l=(s+i)/2;return a?(e===s?o=(n-r)/a+(n<r)*6:n===s?o=(r-e)/a+2:o=(e-n)/a+4,a/=l<.5?s+i:2-s-i,o*=60):a=l>0&&l<1?0:o,new Bp(o,a,l,t.opacity)}function qYe(t,e,n,r){return arguments.length===1?pde(t):new Bp(t,e,n,r??1)}function Bp(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}wz(Bp,qYe,fde(b4,{brighter(t){return t=t==null?$D:Math.pow($D,t),new Bp(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?x3:Math.pow(x3,t),new Bp(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new pd(EP(t>=240?t-240:t+120,i,r),EP(t,i,r),EP(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new Bp(cH(this.h),PI(this.s),PI(this.l),zD(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=zD(this.opacity);return`${t===1?"hsl(":"hsla("}${cH(this.h)}, ${PI(this.s)*100}%, ${PI(this.l)*100}%${t===1?")":`, ${t})`}`}}));function cH(t){return t=(t||0)%360,t<0?t+360:t}function PI(t){return Math.max(0,Math.min(1,t||0))}function EP(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const _z=t=>()=>t;function YYe(t,e){return function(n){return t+n*e}}function XYe(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function JYe(t){return(t=+t)==1?gde:function(e,n){return n-e?XYe(e,n,t):_z(isNaN(e)?n:e)}}function gde(t,e){var n=e-t;return n?YYe(t,n):_z(isNaN(t)?e:t)}const OD=(function t(e){var n=JYe(e);function r(i,s){var o=n((i=pL(i)).r,(s=pL(s)).r),a=n(i.g,s.g),l=n(i.b,s.b),u=gde(i.opacity,s.opacity);return function(c){return i.r=o(c),i.g=a(c),i.b=l(c),i.opacity=u(c),i+""}}return r.gamma=t,r})(1);function ZYe(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(s){for(i=0;i<n;++i)r[i]=t[i]*(1-s)+e[i]*s;return r}}function eXe(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function tXe(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),s=new Array(n),o;for(o=0;o<r;++o)i[o]=I_(t[o],e[o]);for(;o<n;++o)s[o]=e[o];return function(a){for(o=0;o<r;++o)s[o]=i[o](a);return s}}function nXe(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function Wg(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function rXe(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=I_(t[i],e[i]):r[i]=e[i];return function(s){for(i in n)r[i]=n[i](s);return r}}var gL=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,SP=new RegExp(gL.source,"g");function iXe(t){return function(){return t}}function sXe(t){return function(e){return t(e)+""}}function mde(t,e){var n=gL.lastIndex=SP.lastIndex=0,r,i,s,o=-1,a=[],l=[];for(t=t+"",e=e+"";(r=gL.exec(t))&&(i=SP.exec(e));)(s=i.index)>n&&(s=e.slice(n,s),a[o]?a[o]+=s:a[++o]=s),(r=r[0])===(i=i[0])?a[o]?a[o]+=i:a[++o]=i:(a[++o]=null,l.push({i:o,x:Wg(r,i)})),n=SP.lastIndex;return n<e.length&&(s=e.slice(n),a[o]?a[o]+=s:a[++o]=s),a.length<2?l[0]?sXe(l[0].x):iXe(e):(e=l.length,function(u){for(var c=0,d;c<e;++c)a[(d=l[c]).i]=d.x(u);return a.join("")})}function I_(t,e){var n=typeof e,r;return e==null||n==="boolean"?_z(e):(n==="number"?Wg:n==="string"?(r=Wx(e))?(e=r,OD):mde:e instanceof Wx?OD:e instanceof Date?nXe:eXe(e)?ZYe:Array.isArray(e)?tXe:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?rXe:Wg)(t,e)}var dH=180/Math.PI,mL={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Ade(t,e,n,r,i,s){var o,a,l;return(o=Math.sqrt(t*t+e*e))&&(t/=o,e/=o),(l=t*n+e*r)&&(n-=t*l,r-=e*l),(a=Math.sqrt(n*n+r*r))&&(n/=a,r/=a,l/=a),t*r<e*n&&(t=-t,e=-e,l=-l,o=-o),{translateX:i,translateY:s,rotate:Math.atan2(e,t)*dH,skewX:Math.atan(l)*dH,scaleX:o,scaleY:a}}var RI;function oXe(t){const e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?mL:Ade(e.a,e.b,e.c,e.d,e.e,e.f)}function aXe(t){return t==null||(RI||(RI=document.createElementNS("http://www.w3.org/2000/svg","g")),RI.setAttribute("transform",t),!(t=RI.transform.baseVal.consolidate()))?mL:(t=t.matrix,Ade(t.a,t.b,t.c,t.d,t.e,t.f))}function yde(t,e,n,r){function i(u){return u.length?u.pop()+" ":""}function s(u,c,d,f,p,m){if(u!==d||c!==f){var v=p.push("translate(",null,e,null,n);m.push({i:v-4,x:Wg(u,d)},{i:v-2,x:Wg(c,f)})}else(d||f)&&p.push("translate("+d+e+f+n)}function o(u,c,d,f){u!==c?(u-c>180?c+=360:c-u>180&&(u+=360),f.push({i:d.push(i(d)+"rotate(",null,r)-2,x:Wg(u,c)})):c&&d.push(i(d)+"rotate("+c+r)}function a(u,c,d,f){u!==c?f.push({i:d.push(i(d)+"skewX(",null,r)-2,x:Wg(u,c)}):c&&d.push(i(d)+"skewX("+c+r)}function l(u,c,d,f,p,m){if(u!==d||c!==f){var v=p.push(i(p)+"scale(",null,",",null,")");m.push({i:v-4,x:Wg(u,d)},{i:v-2,x:Wg(c,f)})}else(d!==1||f!==1)&&p.push(i(p)+"scale("+d+","+f+")")}return function(u,c){var d=[],f=[];return u=t(u),c=t(c),s(u.translateX,u.translateY,c.translateX,c.translateY,d,f),o(u.rotate,c.rotate,d,f),a(u.skewX,c.skewX,d,f),l(u.scaleX,u.scaleY,c.scaleX,c.scaleY,d,f),u=c=null,function(p){for(var m=-1,v=f.length,y;++m<v;)d[(y=f[m]).i]=y.x(p);return d.join("")}}}var lXe=yde(oXe,"px, ","px)","deg)"),uXe=yde(aXe,", ",")",")"),cXe=1e-12;function hH(t){return((t=Math.exp(t))+1/t)/2}function dXe(t){return((t=Math.exp(t))-1/t)/2}function hXe(t){return((t=Math.exp(2*t))-1)/(t+1)}const LB=(function t(e,n,r){function i(s,o){var a=s[0],l=s[1],u=s[2],c=o[0],d=o[1],f=o[2],p=c-a,m=d-l,v=p*p+m*m,y,A;if(v<cXe)A=Math.log(f/u)/e,y=function(M){return[a+M*p,l+M*m,u*Math.exp(e*M*A)]};else{var C=Math.sqrt(v),E=(f*f-u*u+r*v)/(2*u*n*C),I=(f*f-u*u-r*v)/(2*f*n*C),D=Math.log(Math.sqrt(E*E+1)-E),T=Math.log(Math.sqrt(I*I+1)-I);A=(T-D)/e,y=function(M){var P=M*A,k=hH(D),L=u/(n*C)*(k*hXe(e*P+D)-dXe(D));return[a+L*p,l+L*m,u*k/hH(e*P+D)]}}return y.duration=A*1e3*e/Math.SQRT2,y}return i.rho=function(s){var o=Math.max(.001,+s),a=o*o,l=a*a;return t(o,a,l)},i})(Math.SQRT2,2,4);var LE=0,r_=0,yw=0,vde=1e3,jD,i_,QD=0,qx=0,nM=0,E3=typeof performance=="object"&&performance.now?performance:Date,bde=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function Iz(){return qx||(bde(fXe),qx=E3.now()+nM)}function fXe(){qx=0}function UD(){this._call=this._time=this._next=null}UD.prototype=xde.prototype={constructor:UD,restart:function(t,e,n){if(typeof t!="function")throw new TypeError("callback is not a function");n=(n==null?Iz():+n)+(e==null?0:+e),!this._next&&i_!==this&&(i_?i_._next=this:jD=this,i_=this),this._call=t,this._time=n,AL()},stop:function(){this._call&&(this._call=null,this._time=1/0,AL())}};function xde(t,e,n){var r=new UD;return r.restart(t,e,n),r}function pXe(){Iz(),++LE;for(var t=jD,e;t;)(e=qx-t._time)>=0&&t._call.call(void 0,e),t=t._next;--LE}function fH(){qx=(QD=E3.now())+nM,LE=r_=0;try{pXe()}finally{LE=0,mXe(),qx=0}}function gXe(){var t=E3.now(),e=t-QD;e>vde&&(nM-=e,QD=t)}function mXe(){for(var t,e=jD,n,r=1/0;e;)e._call?(r>e._time&&(r=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:jD=n);i_=t,AL(r)}function AL(t){if(!LE){r_&&(r_=clearTimeout(r_));var e=t-qx;e>24?(t<1/0&&(r_=setTimeout(fH,t-E3.now()-nM)),yw&&(yw=clearInterval(yw))):(yw||(QD=E3.now(),yw=setInterval(gXe,vde)),LE=1,bde(fH))}}function pH(t,e,n){var r=new UD;return e=e==null?0:+e,r.restart(i=>{r.stop(),t(i+e)},e,n),r}var AXe=eM("start","end","cancel","interrupt"),yXe=[],Cde=0,gH=1,yL=2,FB=3,mH=4,vL=5,$B=6;function rM(t,e,n,r,i,s){var o=t.__transition;if(!o)t.__transition={};else if(n in o)return;vXe(t,n,{name:e,index:r,group:i,on:AXe,tween:yXe,time:s.time,delay:s.delay,duration:s.duration,ease:s.ease,timer:null,state:Cde})}function Bz(t,e){var n=qp(t,e);if(n.state>Cde)throw new Error("too late; already scheduled");return n}function cm(t,e){var n=qp(t,e);if(n.state>FB)throw new Error("too late; already running");return n}function qp(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function vXe(t,e,n){var r=t.__transition,i;r[e]=n,n.timer=xde(s,0,n.time);function s(u){n.state=gH,n.timer.restart(o,n.delay,n.time),n.delay<=u&&o(u-n.delay)}function o(u){var c,d,f,p;if(n.state!==gH)return l();for(c in r)if(p=r[c],p.name===n.name){if(p.state===FB)return pH(o);p.state===mH?(p.state=$B,p.timer.stop(),p.on.call("interrupt",t,t.__data__,p.index,p.group),delete r[c]):+c<e&&(p.state=$B,p.timer.stop(),p.on.call("cancel",t,t.__data__,p.index,p.group),delete r[c])}if(pH(function(){n.state===FB&&(n.state=mH,n.timer.restart(a,n.delay,n.time),a(u))}),n.state=yL,n.on.call("start",t,t.__data__,n.index,n.group),n.state===yL){for(n.state=FB,i=new Array(f=n.tween.length),c=0,d=-1;c<f;++c)(p=n.tween[c].value.call(t,t.__data__,n.index,n.group))&&(i[++d]=p);i.length=d+1}}function a(u){for(var c=u<n.duration?n.ease.call(null,u/n.duration):(n.timer.restart(l),n.state=vL,1),d=-1,f=i.length;++d<f;)i[d].call(t,c);n.state===vL&&(n.on.call("end",t,t.__data__,n.index,n.group),l())}function l(){n.state=$B,n.timer.stop(),delete r[e];for(var u in r)return;delete t.__transition}}function zB(t,e){var n=t.__transition,r,i,s=!0,o;if(n){e=e==null?null:e+"";for(o in n){if((r=n[o]).name!==e){s=!1;continue}i=r.state>yL&&r.state<vL,r.state=$B,r.timer.stop(),r.on.call(i?"interrupt":"cancel",t,t.__data__,r.index,r.group),delete n[o]}s&&delete t.__transition}}function bXe(t){return this.each(function(){zB(this,t)})}function xXe(t,e){var n,r;return function(){var i=cm(this,t),s=i.tween;if(s!==n){r=n=s;for(var o=0,a=r.length;o<a;++o)if(r[o].name===e){r=r.slice(),r.splice(o,1);break}}i.tween=r}}function CXe(t,e,n){var r,i;if(typeof n!="function")throw new Error;return function(){var s=cm(this,t),o=s.tween;if(o!==r){i=(r=o).slice();for(var a={name:e,value:n},l=0,u=i.length;l<u;++l)if(i[l].name===e){i[l]=a;break}l===u&&i.push(a)}s.tween=i}}function EXe(t,e){var n=this._id;if(t+="",arguments.length<2){for(var r=qp(this.node(),n).tween,i=0,s=r.length,o;i<s;++i)if((o=r[i]).name===t)return o.value;return null}return this.each((e==null?xXe:CXe)(n,t,e))}function Dz(t,e,n){var r=t._id;return t.each(function(){var i=cm(this,r);(i.value||(i.value={}))[e]=n.apply(this,arguments)}),function(i){return qp(i,r).value[e]}}function Ede(t,e){var n;return(typeof e=="number"?Wg:e instanceof Wx?OD:(n=Wx(e))?(e=n,OD):mde)(t,e)}function SXe(t){return function(){this.removeAttribute(t)}}function wXe(t){return function(){this.removeAttributeNS(t.space,t.local)}}function _Xe(t,e,n){var r,i=n+"",s;return function(){var o=this.getAttribute(t);return o===i?null:o===r?s:s=e(r=o,n)}}function IXe(t,e,n){var r,i=n+"",s;return function(){var o=this.getAttributeNS(t.space,t.local);return o===i?null:o===r?s:s=e(r=o,n)}}function BXe(t,e,n){var r,i,s;return function(){var o,a=n(this),l;return a==null?void this.removeAttribute(t):(o=this.getAttribute(t),l=a+"",o===l?null:o===r&&l===i?s:(i=l,s=e(r=o,a)))}}function DXe(t,e,n){var r,i,s;return function(){var o,a=n(this),l;return a==null?void this.removeAttributeNS(t.space,t.local):(o=this.getAttributeNS(t.space,t.local),l=a+"",o===l?null:o===r&&l===i?s:(i=l,s=e(r=o,a)))}}function TXe(t,e){var n=tM(t),r=n==="transform"?uXe:Ede;return this.attrTween(t,typeof e=="function"?(n.local?DXe:BXe)(n,r,Dz(this,"attr."+t,e)):e==null?(n.local?wXe:SXe)(n):(n.local?IXe:_Xe)(n,r,e))}function MXe(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function kXe(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function PXe(t,e){var n,r;function i(){var s=e.apply(this,arguments);return s!==r&&(n=(r=s)&&kXe(t,s)),n}return i._value=e,i}function RXe(t,e){var n,r;function i(){var s=e.apply(this,arguments);return s!==r&&(n=(r=s)&&MXe(t,s)),n}return i._value=e,i}function NXe(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!="function")throw new Error;var r=tM(t);return this.tween(n,(r.local?PXe:RXe)(r,e))}function LXe(t,e){return function(){Bz(this,t).delay=+e.apply(this,arguments)}}function FXe(t,e){return e=+e,function(){Bz(this,t).delay=e}}function $Xe(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?LXe:FXe)(e,t)):qp(this.node(),e).delay}function zXe(t,e){return function(){cm(this,t).duration=+e.apply(this,arguments)}}function OXe(t,e){return e=+e,function(){cm(this,t).duration=e}}function jXe(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?zXe:OXe)(e,t)):qp(this.node(),e).duration}function QXe(t,e){if(typeof e!="function")throw new Error;return function(){cm(this,t).ease=e}}function UXe(t){var e=this._id;return arguments.length?this.each(QXe(e,t)):qp(this.node(),e).ease}function HXe(t,e){return function(){var n=e.apply(this,arguments);if(typeof n!="function")throw new Error;cm(this,t).ease=n}}function VXe(t){if(typeof t!="function")throw new Error;return this.each(HXe(this._id,t))}function GXe(t){typeof t!="function"&&(t=ede(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var s=e[i],o=s.length,a=r[i]=[],l,u=0;u<o;++u)(l=s[u])&&t.call(l,l.__data__,u,s)&&a.push(l);return new U0(r,this._parents,this._name,this._id)}function KXe(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,i=n.length,s=Math.min(r,i),o=new Array(r),a=0;a<s;++a)for(var l=e[a],u=n[a],c=l.length,d=o[a]=new Array(c),f,p=0;p<c;++p)(f=l[p]||u[p])&&(d[p]=f);for(;a<r;++a)o[a]=e[a];return new U0(o,this._parents,this._name,this._id)}function WXe(t){return(t+"").trim().split(/^|\s+/).every(function(e){var n=e.indexOf(".");return n>=0&&(e=e.slice(0,n)),!e||e==="start"})}function qXe(t,e,n){var r,i,s=WXe(e)?Bz:cm;return function(){var o=s(this,t),a=o.on;a!==r&&(i=(r=a).copy()).on(e,n),o.on=i}}function YXe(t,e){var n=this._id;return arguments.length<2?qp(this.node(),n).on.on(t):this.each(qXe(n,t,e))}function XXe(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}function JXe(){return this.on("end.remove",XXe(this._id))}function ZXe(t){var e=this._name,n=this._id;typeof t!="function"&&(t=Ez(t));for(var r=this._groups,i=r.length,s=new Array(i),o=0;o<i;++o)for(var a=r[o],l=a.length,u=s[o]=new Array(l),c,d,f=0;f<l;++f)(c=a[f])&&(d=t.call(c,c.__data__,f,a))&&("__data__"in c&&(d.__data__=c.__data__),u[f]=d,rM(u[f],e,n,f,u,qp(c,n)));return new U0(s,this._parents,e,n)}function eJe(t){var e=this._name,n=this._id;typeof t!="function"&&(t=Zce(t));for(var r=this._groups,i=r.length,s=[],o=[],a=0;a<i;++a)for(var l=r[a],u=l.length,c,d=0;d<u;++d)if(c=l[d]){for(var f=t.call(c,c.__data__,d,l),p,m=qp(c,n),v=0,y=f.length;v<y;++v)(p=f[v])&&rM(p,e,n,v,f,m);s.push(f),o.push(c)}return new U0(s,o,e,n)}var tJe=v4.prototype.constructor;function nJe(){return new tJe(this._groups,this._parents)}function rJe(t,e){var n,r,i;return function(){var s=NE(this,t),o=(this.style.removeProperty(t),NE(this,t));return s===o?null:s===n&&o===r?i:i=e(n=s,r=o)}}function Sde(t){return function(){this.style.removeProperty(t)}}function iJe(t,e,n){var r,i=n+"",s;return function(){var o=NE(this,t);return o===i?null:o===r?s:s=e(r=o,n)}}function sJe(t,e,n){var r,i,s;return function(){var o=NE(this,t),a=n(this),l=a+"";return a==null&&(l=a=(this.style.removeProperty(t),NE(this,t))),o===l?null:o===r&&l===i?s:(i=l,s=e(r=o,a))}}function oJe(t,e){var n,r,i,s="style."+e,o="end."+s,a;return function(){var l=cm(this,t),u=l.on,c=l.value[s]==null?a||(a=Sde(e)):void 0;(u!==n||i!==c)&&(r=(n=u).copy()).on(o,i=c),l.on=r}}function aJe(t,e,n){var r=(t+="")=="transform"?lXe:Ede;return e==null?this.styleTween(t,rJe(t,r)).on("end.style."+t,Sde(t)):typeof e=="function"?this.styleTween(t,sJe(t,r,Dz(this,"style."+t,e))).each(oJe(this._id,t)):this.styleTween(t,iJe(t,r,e),n).on("end.style."+t,null)}function lJe(t,e,n){return function(r){this.style.setProperty(t,e.call(this,r),n)}}function uJe(t,e,n){var r,i;function s(){var o=e.apply(this,arguments);return o!==i&&(r=(i=o)&&lJe(t,o,n)),r}return s._value=e,s}function cJe(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(e==null)return this.tween(r,null);if(typeof e!="function")throw new Error;return this.tween(r,uJe(t,e,n??""))}function dJe(t){return function(){this.textContent=t}}function hJe(t){return function(){var e=t(this);this.textContent=e??""}}function fJe(t){return this.tween("text",typeof t=="function"?hJe(Dz(this,"text",t)):dJe(t==null?"":t+""))}function pJe(t){return function(e){this.textContent=t.call(this,e)}}function gJe(t){var e,n;function r(){var i=t.apply(this,arguments);return i!==n&&(e=(n=i)&&pJe(i)),e}return r._value=t,r}function mJe(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!="function")throw new Error;return this.tween(e,gJe(t))}function AJe(){for(var t=this._name,e=this._id,n=wde(),r=this._groups,i=r.length,s=0;s<i;++s)for(var o=r[s],a=o.length,l,u=0;u<a;++u)if(l=o[u]){var c=qp(l,e);rM(l,t,n,u,o,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}return new U0(r,this._parents,t,n)}function yJe(){var t,e,n=this,r=n._id,i=n.size();return new Promise(function(s,o){var a={value:o},l={value:function(){--i===0&&s()}};n.each(function(){var u=cm(this,r),c=u.on;c!==t&&(e=(t=c).copy(),e._.cancel.push(a),e._.interrupt.push(a),e._.end.push(l)),u.on=e}),i===0&&s()})}var vJe=0;function U0(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function wde(){return++vJe}var o0=v4.prototype;U0.prototype={constructor:U0,select:ZXe,selectAll:eJe,selectChild:o0.selectChild,selectChildren:o0.selectChildren,filter:GXe,merge:KXe,selection:nJe,transition:AJe,call:o0.call,nodes:o0.nodes,node:o0.node,size:o0.size,empty:o0.empty,each:o0.each,on:YXe,attr:TXe,attrTween:NXe,style:aJe,styleTween:cJe,text:fJe,textTween:mJe,remove:JXe,tween:EXe,delay:$Xe,duration:jXe,ease:UXe,easeVarying:VXe,end:yJe,[Symbol.iterator]:o0[Symbol.iterator]};function bJe(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var xJe={time:null,delay:0,duration:250,ease:bJe};function CJe(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}function EJe(t){var e,n;t instanceof U0?(e=t._id,t=t._name):(e=wde(),(n=xJe).time=Iz(),t=t==null?null:t+"");for(var r=this._groups,i=r.length,s=0;s<i;++s)for(var o=r[s],a=o.length,l,u=0;u<a;++u)(l=o[u])&&rM(l,t,e,u,o,n||CJe(l,e));return new U0(r,this._parents,t,e)}v4.prototype.interrupt=bXe;v4.prototype.transition=EJe;const NI=t=>()=>t;function SJe(t,{sourceEvent:e,target:n,transform:r,dispatch:i}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:i}})}function _0(t,e,n){this.k=t,this.x=e,this.y=n}_0.prototype={constructor:_0,scale:function(t){return t===1?this:new _0(this.k*t,this.x,this.y)},translate:function(t,e){return t===0&e===0?this:new _0(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var iM=new _0(1,0,0);_de.prototype=_0.prototype;function _de(t){for(;!t.__zoom;)if(!(t=t.parentNode))return iM;return t.__zoom}function wP(t){t.stopImmediatePropagation()}function vw(t){t.preventDefault(),t.stopImmediatePropagation()}function wJe(t){return(!t.ctrlKey||t.type==="wheel")&&!t.button}function _Je(){var t=this;return t instanceof SVGElement?(t=t.ownerSVGElement||t,t.hasAttribute("viewBox")?(t=t.viewBox.baseVal,[[t.x,t.y],[t.x+t.width,t.y+t.height]]):[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]):[[0,0],[t.clientWidth,t.clientHeight]]}function AH(){return this.__zoom||iM}function IJe(t){return-t.deltaY*(t.deltaMode===1?.05:t.deltaMode?1:.002)*(t.ctrlKey?10:1)}function BJe(){return navigator.maxTouchPoints||"ontouchstart"in this}function DJe(t,e,n){var r=t.invertX(e[0][0])-n[0][0],i=t.invertX(e[1][0])-n[1][0],s=t.invertY(e[0][1])-n[0][1],o=t.invertY(e[1][1])-n[1][1];return t.translate(i>r?(r+i)/2:Math.min(0,r)||Math.max(0,i),o>s?(s+o)/2:Math.min(0,s)||Math.max(0,o))}function Ide(){var t=wJe,e=_Je,n=DJe,r=IJe,i=BJe,s=[0,1/0],o=[[-1/0,-1/0],[1/0,1/0]],a=250,l=LB,u=eM("start","zoom","end"),c,d,f,p=500,m=150,v=0,y=10;function A(H){H.property("__zoom",AH).on("wheel.zoom",P,{passive:!1}).on("mousedown.zoom",k).on("dblclick.zoom",L).filter(i).on("touchstart.zoom",$).on("touchmove.zoom",z).on("touchend.zoom touchcancel.zoom",j).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}A.transform=function(H,W,O,G){var q=H.selection?H.selection():H;q.property("__zoom",AH),H!==q?D(H,W,O,G):q.interrupt().each(function(){T(this,arguments).event(G).start().zoom(null,typeof W=="function"?W.apply(this,arguments):W).end()})},A.scaleBy=function(H,W,O,G){A.scaleTo(H,function(){var q=this.__zoom.k,J=typeof W=="function"?W.apply(this,arguments):W;return q*J},O,G)},A.scaleTo=function(H,W,O,G){A.transform(H,function(){var q=e.apply(this,arguments),J=this.__zoom,te=O==null?I(q):typeof O=="function"?O.apply(this,arguments):O,Y=J.invert(te),Z=typeof W=="function"?W.apply(this,arguments):W;return n(E(C(J,Z),te,Y),q,o)},O,G)},A.translateBy=function(H,W,O,G){A.transform(H,function(){return n(this.__zoom.translate(typeof W=="function"?W.apply(this,arguments):W,typeof O=="function"?O.apply(this,arguments):O),e.apply(this,arguments),o)},null,G)},A.translateTo=function(H,W,O,G,q){A.transform(H,function(){var J=e.apply(this,arguments),te=this.__zoom,Y=G==null?I(J):typeof G=="function"?G.apply(this,arguments):G;return n(iM.translate(Y[0],Y[1]).scale(te.k).translate(typeof W=="function"?-W.apply(this,arguments):-W,typeof O=="function"?-O.apply(this,arguments):-O),J,o)},G,q)};function C(H,W){return W=Math.max(s[0],Math.min(s[1],W)),W===H.k?H:new _0(W,H.x,H.y)}function E(H,W,O){var G=W[0]-O[0]*H.k,q=W[1]-O[1]*H.k;return G===H.x&&q===H.y?H:new _0(H.k,G,q)}function I(H){return[(+H[0][0]+ +H[1][0])/2,(+H[0][1]+ +H[1][1])/2]}function D(H,W,O,G){H.on("start.zoom",function(){T(this,arguments).event(G).start()}).on("interrupt.zoom end.zoom",function(){T(this,arguments).event(G).end()}).tween("zoom",function(){var q=this,J=arguments,te=T(q,J).event(G),Y=e.apply(q,J),Z=O==null?I(Y):typeof O=="function"?O.apply(q,J):O,ee=Math.max(Y[1][0]-Y[0][0],Y[1][1]-Y[0][1]),ie=q.__zoom,ue=typeof W=="function"?W.apply(q,J):W,ae=l(ie.invert(Z).concat(ee/ie.k),ue.invert(Z).concat(ee/ue.k));return function(de){if(de===1)de=ue;else{var ge=ae(de),_e=ee/ge[2];de=new _0(_e,Z[0]-ge[0]*_e,Z[1]-ge[1]*_e)}te.zoom(null,de)}})}function T(H,W,O){return!O&&H.__zooming||new M(H,W)}function M(H,W){this.that=H,this.args=W,this.active=0,this.sourceEvent=null,this.extent=e.apply(H,W),this.taps=0}M.prototype={event:function(H){return H&&(this.sourceEvent=H),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(H,W){return this.mouse&&H!=="mouse"&&(this.mouse[1]=W.invert(this.mouse[0])),this.touch0&&H!=="touch"&&(this.touch0[1]=W.invert(this.touch0[0])),this.touch1&&H!=="touch"&&(this.touch1[1]=W.invert(this.touch1[0])),this.that.__zoom=W,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(H){var W=eh(this.that).datum();u.call(H,this.that,new SJe(H,{sourceEvent:this.sourceEvent,target:A,transform:this.that.__zoom,dispatch:u}),W)}};function P(H,...W){if(!t.apply(this,arguments))return;var O=T(this,W).event(H),G=this.__zoom,q=Math.max(s[0],Math.min(s[1],G.k*Math.pow(2,r.apply(this,arguments)))),J=Ep(H);if(O.wheel)(O.mouse[0][0]!==J[0]||O.mouse[0][1]!==J[1])&&(O.mouse[1]=G.invert(O.mouse[0]=J)),clearTimeout(O.wheel);else{if(G.k===q)return;O.mouse=[J,G.invert(J)],zB(this),O.start()}vw(H),O.wheel=setTimeout(te,m),O.zoom("mouse",n(E(C(G,q),O.mouse[0],O.mouse[1]),O.extent,o));function te(){O.wheel=null,O.end()}}function k(H,...W){if(f||!t.apply(this,arguments))return;var O=H.currentTarget,G=T(this,W,!0).event(H),q=eh(H.view).on("mousemove.zoom",Z,!0).on("mouseup.zoom",ee,!0),J=Ep(H,O),te=H.clientX,Y=H.clientY;cde(H.view),wP(H),G.mouse=[J,this.__zoom.invert(J)],zB(this),G.start();function Z(ie){if(vw(ie),!G.moved){var ue=ie.clientX-te,ae=ie.clientY-Y;G.moved=ue*ue+ae*ae>v}G.event(ie).zoom("mouse",n(E(G.that.__zoom,G.mouse[0]=Ep(ie,O),G.mouse[1]),G.extent,o))}function ee(ie){q.on("mousemove.zoom mouseup.zoom",null),dde(ie.view,G.moved),vw(ie),G.event(ie).end()}}function L(H,...W){if(t.apply(this,arguments)){var O=this.__zoom,G=Ep(H.changedTouches?H.changedTouches[0]:H,this),q=O.invert(G),J=O.k*(H.shiftKey?.5:2),te=n(E(C(O,J),G,q),e.apply(this,W),o);vw(H),a>0?eh(this).transition().duration(a).call(D,te,G,H):eh(this).call(A.transform,te,G,H)}}function $(H,...W){if(t.apply(this,arguments)){var O=H.touches,G=O.length,q=T(this,W,H.changedTouches.length===G).event(H),J,te,Y,Z;for(wP(H),te=0;te<G;++te)Y=O[te],Z=Ep(Y,this),Z=[Z,this.__zoom.invert(Z),Y.identifier],q.touch0?!q.touch1&&q.touch0[2]!==Z[2]&&(q.touch1=Z,q.taps=0):(q.touch0=Z,J=!0,q.taps=1+!!c);c&&(c=clearTimeout(c)),J&&(q.taps<2&&(d=Z[0],c=setTimeout(function(){c=null},p)),zB(this),q.start())}}function z(H,...W){if(this.__zooming){var O=T(this,W).event(H),G=H.changedTouches,q=G.length,J,te,Y,Z;for(vw(H),J=0;J<q;++J)te=G[J],Y=Ep(te,this),O.touch0&&O.touch0[2]===te.identifier?O.touch0[0]=Y:O.touch1&&O.touch1[2]===te.identifier&&(O.touch1[0]=Y);if(te=O.that.__zoom,O.touch1){var ee=O.touch0[0],ie=O.touch0[1],ue=O.touch1[0],ae=O.touch1[1],de=(de=ue[0]-ee[0])*de+(de=ue[1]-ee[1])*de,ge=(ge=ae[0]-ie[0])*ge+(ge=ae[1]-ie[1])*ge;te=C(te,Math.sqrt(de/ge)),Y=[(ee[0]+ue[0])/2,(ee[1]+ue[1])/2],Z=[(ie[0]+ae[0])/2,(ie[1]+ae[1])/2]}else if(O.touch0)Y=O.touch0[0],Z=O.touch0[1];else return;O.zoom("touch",n(E(te,Y,Z),O.extent,o))}}function j(H,...W){if(this.__zooming){var O=T(this,W).event(H),G=H.changedTouches,q=G.length,J,te;for(wP(H),f&&clearTimeout(f),f=setTimeout(function(){f=null},p),J=0;J<q;++J)te=G[J],O.touch0&&O.touch0[2]===te.identifier?delete O.touch0:O.touch1&&O.touch1[2]===te.identifier&&delete O.touch1;if(O.touch1&&!O.touch0&&(O.touch0=O.touch1,delete O.touch1),O.touch0)O.touch0[1]=this.__zoom.invert(O.touch0[0]);else if(O.end(),O.taps===2&&(te=Ep(te,this),Math.hypot(d[0]-te[0],d[1]-te[1])<y)){var Y=eh(this).on("dblclick.zoom");Y&&Y.apply(this,arguments)}}}return A.wheelDelta=function(H){return arguments.length?(r=typeof H=="function"?H:NI(+H),A):r},A.filter=function(H){return arguments.length?(t=typeof H=="function"?H:NI(!!H),A):t},A.touchable=function(H){return arguments.length?(i=typeof H=="function"?H:NI(!!H),A):i},A.extent=function(H){return arguments.length?(e=typeof H=="function"?H:NI([[+H[0][0],+H[0][1]],[+H[1][0],+H[1][1]]]),A):e},A.scaleExtent=function(H){return arguments.length?(s[0]=+H[0],s[1]=+H[1],A):[s[0],s[1]]},A.translateExtent=function(H){return arguments.length?(o[0][0]=+H[0][0],o[1][0]=+H[1][0],o[0][1]=+H[0][1],o[1][1]=+H[1][1],A):[[o[0][0],o[0][1]],[o[1][0],o[1][1]]]},A.constrain=function(H){return arguments.length?(n=H,A):n},A.duration=function(H){return arguments.length?(a=+H,A):a},A.interpolate=function(H){return arguments.length?(l=H,A):l},A.on=function(){var H=u.on.apply(u,arguments);return H===u?A:H},A.clickDistance=function(H){return arguments.length?(v=(H=+H)*H,A):Math.sqrt(v)},A.tapDistance=function(H){return arguments.length?(y=+H,A):y},A}const am={error001:()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001",error002:()=>"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.",error003:t=>`Node type "${t}" not found. Using fallback type "default".`,error004:()=>"The React Flow parent container needs a width and a height to render the graph.",error005:()=>"Only child nodes can use a parent extent.",error006:()=>"Can't create edge. An edge needs a source and a target.",error007:t=>`The old edge with id=${t} does not exist.`,error009:t=>`Marker type "${t}" doesn't exist.`,error008:(t,{id:e,sourceHandle:n,targetHandle:r})=>`Couldn't create edge for ${t} handle id: "${t==="source"?n:r}", edge id: ${e}.`,error010:()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",error011:t=>`Edge type "${t}" not found. Using fallback type "default".`,error012:t=>`Node with id "${t}" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.`,error013:(t="react")=>`It seems that you haven't loaded the styles. Please import '@xyflow/${t}/dist/style.css' or base.css to make sure everything is working properly.`,error014:()=>"useNodeConnections: No node ID found. Call useNodeConnections inside a custom Node or provide a node ID.",error015:()=>"It seems that you are trying to drag a node that is not initialized. Please use onNodesChange as explained in the docs."},S3=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],Bde=["Enter"," ","Escape"],Dde={"node.a11yDescription.default":"Press enter or space to select a node. Press delete to remove it and escape to cancel.","node.a11yDescription.keyboardDisabled":"Press enter or space to select a node. You can then use the arrow keys to move the node around. Press delete to remove it and escape to cancel.","node.a11yDescription.ariaLiveMessage":({direction:t,x:e,y:n})=>`Moved selected node ${t}. New position, x: ${e}, y: ${n}`,"edge.a11yDescription.default":"Press enter or space to select an edge. You can then press delete to remove it or escape to cancel.","controls.ariaLabel":"Control Panel","controls.zoomIn.ariaLabel":"Zoom In","controls.zoomOut.ariaLabel":"Zoom Out","controls.fitView.ariaLabel":"Fit View","controls.interactive.ariaLabel":"Toggle Interactivity","minimap.ariaLabel":"Mini Map","handle.ariaLabel":"Handle"};var FE;(function(t){t.Strict="strict",t.Loose="loose"})(FE||(FE={}));var Bx;(function(t){t.Free="free",t.Vertical="vertical",t.Horizontal="horizontal"})(Bx||(Bx={}));var w3;(function(t){t.Partial="partial",t.Full="full"})(w3||(w3={}));const Tde={inProgress:!1,isValid:null,from:null,fromHandle:null,fromPosition:null,fromNode:null,to:null,toHandle:null,toPosition:null,toNode:null,pointer:null};var My;(function(t){t.Bezier="default",t.Straight="straight",t.Step="step",t.SmoothStep="smoothstep",t.SimpleBezier="simplebezier"})(My||(My={}));var $E;(function(t){t.Arrow="arrow",t.ArrowClosed="arrowclosed"})($E||($E={}));var zn;(function(t){t.Left="left",t.Top="top",t.Right="right",t.Bottom="bottom"})(zn||(zn={}));const yH={[zn.Left]:zn.Right,[zn.Right]:zn.Left,[zn.Top]:zn.Bottom,[zn.Bottom]:zn.Top};function Mde(t){return t===null?null:t?"valid":"invalid"}const kde=t=>"id"in t&&"source"in t&&"target"in t,TJe=t=>"id"in t&&"position"in t&&!("source"in t)&&!("target"in t),Tz=t=>"id"in t&&"internals"in t&&!("source"in t)&&!("target"in t),x4=(t,e=[0,0])=>{const{width:n,height:r}=eA(t),i=t.origin??e,s=n*i[0],o=r*i[1];return{x:t.position.x-s,y:t.position.y-o}},MJe=(t,e={nodeOrigin:[0,0]})=>{if(t.length===0)return{x:0,y:0,width:0,height:0};const n=t.reduce((r,i)=>{const s=typeof i=="string";let o=!e.nodeLookup&&!s?i:void 0;e.nodeLookup&&(o=s?e.nodeLookup.get(i):Tz(i)?i:e.nodeLookup.get(i.id));const a=o?HD(o,e.nodeOrigin):{x:0,y:0,x2:0,y2:0};return sM(r,a)},{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return oM(n)},C4=(t,e={})=>{let n={x:1/0,y:1/0,x2:-1/0,y2:-1/0},r=!1;return t.forEach(i=>{(e.filter===void 0||e.filter(i))&&(n=sM(n,HD(i)),r=!0)}),r?oM(n):{x:0,y:0,width:0,height:0}},Mz=(t,e,[n,r,i]=[0,0,1],s=!1,o=!1)=>{const a={...S4(e,[n,r,i]),width:e.width/i,height:e.height/i},l=[];for(const u of t.values()){const{measured:c,selectable:d=!0,hidden:f=!1}=u;if(o&&!d||f)continue;const p=c.width??u.width??u.initialWidth??null,m=c.height??u.height??u.initialHeight??null,v=_3(a,OE(u)),y=(p??0)*(m??0),A=s&&v>0;(!u.internals.handleBounds||A||v>=y||u.dragging)&&l.push(u)}return l},kJe=(t,e)=>{const n=new Set;return t.forEach(r=>{n.add(r.id)}),e.filter(r=>n.has(r.source)||n.has(r.target))};function PJe(t,e){const n=new Map,r=e?.nodes?new Set(e.nodes.map(i=>i.id)):null;return t.forEach(i=>{i.measured.width&&i.measured.height&&(e?.includeHiddenNodes||!i.hidden)&&(!r||r.has(i.id))&&n.set(i.id,i)}),n}async function RJe({nodes:t,width:e,height:n,panZoom:r,minZoom:i,maxZoom:s},o){if(t.size===0)return Promise.resolve(!0);const a=PJe(t,o),l=C4(a),u=kz(l,e,n,o?.minZoom??i,o?.maxZoom??s,o?.padding??.1);return await r.setViewport(u,{duration:o?.duration,ease:o?.ease,interpolate:o?.interpolate}),Promise.resolve(!0)}function Pde({nodeId:t,nextPosition:e,nodeLookup:n,nodeOrigin:r=[0,0],nodeExtent:i,onError:s}){const o=n.get(t),a=o.parentId?n.get(o.parentId):void 0,{x:l,y:u}=a?a.internals.positionAbsolute:{x:0,y:0},c=o.origin??r;let d=o.extent||i;if(o.extent==="parent"&&!o.expandParent)if(!a)s?.("005",am.error005());else{const p=a.measured.width,m=a.measured.height;p&&m&&(d=[[l,u],[l+p,u+m]])}else a&&jE(o.extent)&&(d=[[o.extent[0][0]+l,o.extent[0][1]+u],[o.extent[1][0]+l,o.extent[1][1]+u]]);const f=jE(d)?Yx(e,d,o.measured):e;return(o.measured.width===void 0||o.measured.height===void 0)&&s?.("015",am.error015()),{position:{x:f.x-l+(o.measured.width??0)*c[0],y:f.y-u+(o.measured.height??0)*c[1]},positionAbsolute:f}}async function NJe({nodesToRemove:t=[],edgesToRemove:e=[],nodes:n,edges:r,onBeforeDelete:i}){const s=new Set(t.map(f=>f.id)),o=[];for(const f of n){if(f.deletable===!1)continue;const p=s.has(f.id),m=!p&&f.parentId&&o.find(v=>v.id===f.parentId);(p||m)&&o.push(f)}const a=new Set(e.map(f=>f.id)),l=r.filter(f=>f.deletable!==!1),c=kJe(o,l);for(const f of l)a.has(f.id)&&!c.find(m=>m.id===f.id)&&c.push(f);if(!i)return{edges:c,nodes:o};const d=await i({nodes:o,edges:c});return typeof d=="boolean"?d?{edges:c,nodes:o}:{edges:[],nodes:[]}:d}const zE=(t,e=0,n=1)=>Math.min(Math.max(t,e),n),Yx=(t={x:0,y:0},e,n)=>({x:zE(t.x,e[0][0],e[1][0]-(n?.width??0)),y:zE(t.y,e[0][1],e[1][1]-(n?.height??0))});function Rde(t,e,n){const{width:r,height:i}=eA(n),{x:s,y:o}=n.internals.positionAbsolute;return Yx(t,[[s,o],[s+r,o+i]],e)}const vH=(t,e,n)=>t<e?zE(Math.abs(t-e),1,e)/e:t>n?-zE(Math.abs(t-n),1,e)/e:0,Nde=(t,e,n=15,r=40)=>{const i=vH(t.x,r,e.width-r)*n,s=vH(t.y,r,e.height-r)*n;return[i,s]},sM=(t,e)=>({x:Math.min(t.x,e.x),y:Math.min(t.y,e.y),x2:Math.max(t.x2,e.x2),y2:Math.max(t.y2,e.y2)}),bL=({x:t,y:e,width:n,height:r})=>({x:t,y:e,x2:t+n,y2:e+r}),oM=({x:t,y:e,x2:n,y2:r})=>({x:t,y:e,width:n-t,height:r-e}),OE=(t,e=[0,0])=>{const{x:n,y:r}=Tz(t)?t.internals.positionAbsolute:x4(t,e);return{x:n,y:r,width:t.measured?.width??t.width??t.initialWidth??0,height:t.measured?.height??t.height??t.initialHeight??0}},HD=(t,e=[0,0])=>{const{x:n,y:r}=Tz(t)?t.internals.positionAbsolute:x4(t,e);return{x:n,y:r,x2:n+(t.measured?.width??t.width??t.initialWidth??0),y2:r+(t.measured?.height??t.height??t.initialHeight??0)}},Lde=(t,e)=>oM(sM(bL(t),bL(e))),_3=(t,e)=>{const n=Math.max(0,Math.min(t.x+t.width,e.x+e.width)-Math.max(t.x,e.x)),r=Math.max(0,Math.min(t.y+t.height,e.y+e.height)-Math.max(t.y,e.y));return Math.ceil(n*r)},bH=t=>Pp(t.width)&&Pp(t.height)&&Pp(t.x)&&Pp(t.y),Pp=t=>!isNaN(t)&&isFinite(t),LJe=(t,e)=>{},E4=(t,e=[1,1])=>({x:e[0]*Math.round(t.x/e[0]),y:e[1]*Math.round(t.y/e[1])}),S4=({x:t,y:e},[n,r,i],s=!1,o=[1,1])=>{const a={x:(t-n)/i,y:(e-r)/i};return s?E4(a,o):a},VD=({x:t,y:e},[n,r,i])=>({x:t*i+n,y:e*i+r});function D1(t,e){if(typeof t=="number")return Math.floor((e-e/(1+t))*.5);if(typeof t=="string"&&t.endsWith("px")){const n=parseFloat(t);if(!Number.isNaN(n))return Math.floor(n)}if(typeof t=="string"&&t.endsWith("%")){const n=parseFloat(t);if(!Number.isNaN(n))return Math.floor(e*n*.01)}return console.error(`[React Flow] The padding value "${t}" is invalid. Please provide a number or a string with a valid unit (px or %).`),0}function FJe(t,e,n){if(typeof t=="string"||typeof t=="number"){const r=D1(t,n),i=D1(t,e);return{top:r,right:i,bottom:r,left:i,x:i*2,y:r*2}}if(typeof t=="object"){const r=D1(t.top??t.y??0,n),i=D1(t.bottom??t.y??0,n),s=D1(t.left??t.x??0,e),o=D1(t.right??t.x??0,e);return{top:r,right:o,bottom:i,left:s,x:s+o,y:r+i}}return{top:0,right:0,bottom:0,left:0,x:0,y:0}}function $Je(t,e,n,r,i,s){const{x:o,y:a}=VD(t,[e,n,r]),{x:l,y:u}=VD({x:t.x+t.width,y:t.y+t.height},[e,n,r]),c=i-l,d=s-u;return{left:Math.floor(o),top:Math.floor(a),right:Math.floor(c),bottom:Math.floor(d)}}const kz=(t,e,n,r,i,s)=>{const o=FJe(s,e,n),a=(e-o.x)/t.width,l=(n-o.y)/t.height,u=Math.min(a,l),c=zE(u,r,i),d=t.x+t.width/2,f=t.y+t.height/2,p=e/2-d*c,m=n/2-f*c,v=$Je(t,p,m,c,e,n),y={left:Math.min(v.left-o.left,0),top:Math.min(v.top-o.top,0),right:Math.min(v.right-o.right,0),bottom:Math.min(v.bottom-o.bottom,0)};return{x:p-y.left+y.right,y:m-y.top+y.bottom,zoom:c}},I3=()=>typeof navigator<"u"&&navigator?.userAgent?.indexOf("Mac")>=0;function jE(t){return t!=null&&t!=="parent"}function eA(t){return{width:t.measured?.width??t.width??t.initialWidth??0,height:t.measured?.height??t.height??t.initialHeight??0}}function Fde(t){return(t.measured?.width??t.width??t.initialWidth)!==void 0&&(t.measured?.height??t.height??t.initialHeight)!==void 0}function $de(t,e={width:0,height:0},n,r,i){const s={...t},o=r.get(n);if(o){const a=o.origin||i;s.x+=o.internals.positionAbsolute.x-(e.width??0)*a[0],s.y+=o.internals.positionAbsolute.y-(e.height??0)*a[1]}return s}function xH(t,e){if(t.size!==e.size)return!1;for(const n of t)if(!e.has(n))return!1;return!0}function zJe(){let t,e;return{promise:new Promise((r,i)=>{t=r,e=i}),resolve:t,reject:e}}function OJe(t){return{...Dde,...t||{}}}function B_(t,{snapGrid:e=[0,0],snapToGrid:n=!1,transform:r,containerBounds:i}){const{x:s,y:o}=Rp(t),a=S4({x:s-(i?.left??0),y:o-(i?.top??0)},r),{x:l,y:u}=n?E4(a,e):a;return{xSnapped:l,ySnapped:u,...a}}const Pz=t=>({width:t.offsetWidth,height:t.offsetHeight}),zde=t=>t?.getRootNode?.()||window?.document,jJe=["INPUT","SELECT","TEXTAREA"];function Ode(t){const e=t.composedPath?.()?.[0]||t.target;return e?.nodeType!==1?!1:jJe.includes(e.nodeName)||e.hasAttribute("contenteditable")||!!e.closest(".nokey")}const jde=t=>"clientX"in t,Rp=(t,e)=>{const n=jde(t),r=n?t.clientX:t.touches?.[0].clientX,i=n?t.clientY:t.touches?.[0].clientY;return{x:r-(e?.left??0),y:i-(e?.top??0)}},CH=(t,e,n,r,i)=>{const s=e.querySelectorAll(`.${t}`);return!s||!s.length?null:Array.from(s).map(o=>{const a=o.getBoundingClientRect();return{id:o.getAttribute("data-handleid"),type:t,nodeId:i,position:o.getAttribute("data-handlepos"),x:(a.left-n.left)/r,y:(a.top-n.top)/r,...Pz(o)}})};function Qde({sourceX:t,sourceY:e,targetX:n,targetY:r,sourceControlX:i,sourceControlY:s,targetControlX:o,targetControlY:a}){const l=t*.125+i*.375+o*.375+n*.125,u=e*.125+s*.375+a*.375+r*.125,c=Math.abs(l-t),d=Math.abs(u-e);return[l,u,c,d]}function LI(t,e){return t>=0?.5*t:e*25*Math.sqrt(-t)}function EH({pos:t,x1:e,y1:n,x2:r,y2:i,c:s}){switch(t){case zn.Left:return[e-LI(e-r,s),n];case zn.Right:return[e+LI(r-e,s),n];case zn.Top:return[e,n-LI(n-i,s)];case zn.Bottom:return[e,n+LI(i-n,s)]}}function Ude({sourceX:t,sourceY:e,sourcePosition:n=zn.Bottom,targetX:r,targetY:i,targetPosition:s=zn.Top,curvature:o=.25}){const[a,l]=EH({pos:n,x1:t,y1:e,x2:r,y2:i,c:o}),[u,c]=EH({pos:s,x1:r,y1:i,x2:t,y2:e,c:o}),[d,f,p,m]=Qde({sourceX:t,sourceY:e,targetX:r,targetY:i,sourceControlX:a,sourceControlY:l,targetControlX:u,targetControlY:c});return[`M${t},${e} C${a},${l} ${u},${c} ${r},${i}`,d,f,p,m]}function Hde({sourceX:t,sourceY:e,targetX:n,targetY:r}){const i=Math.abs(n-t)/2,s=n<t?n+i:n-i,o=Math.abs(r-e)/2,a=r<e?r+o:r-o;return[s,a,i,o]}function QJe({sourceNode:t,targetNode:e,selected:n=!1,zIndex:r=0,elevateOnSelect:i=!1,zIndexMode:s="basic"}){if(s==="manual")return r;const o=i&&n?r+1e3:r,a=Math.max(t.parentId||i&&t.selected?t.internals.z:0,e.parentId||i&&e.selected?e.internals.z:0);return o+a}function UJe({sourceNode:t,targetNode:e,width:n,height:r,transform:i}){const s=sM(HD(t),HD(e));s.x===s.x2&&(s.x2+=1),s.y===s.y2&&(s.y2+=1);const o={x:-i[0]/i[2],y:-i[1]/i[2],width:n/i[2],height:r/i[2]};return _3(o,oM(s))>0}const HJe=({source:t,sourceHandle:e,target:n,targetHandle:r})=>`xy-edge__${t}${e||""}-${n}${r||""}`,VJe=(t,e)=>e.some(n=>n.source===t.source&&n.target===t.target&&(n.sourceHandle===t.sourceHandle||!n.sourceHandle&&!t.sourceHandle)&&(n.targetHandle===t.targetHandle||!n.targetHandle&&!t.targetHandle)),GJe=(t,e,n={})=>{if(!t.source||!t.target)return e;const r=n.getEdgeId||HJe;let i;return kde(t)?i={...t}:i={...t,id:r(t)},VJe(i,e)?e:(i.sourceHandle===null&&delete i.sourceHandle,i.targetHandle===null&&delete i.targetHandle,e.concat(i))};function Vde({sourceX:t,sourceY:e,targetX:n,targetY:r}){const[i,s,o,a]=Hde({sourceX:t,sourceY:e,targetX:n,targetY:r});return[`M ${t},${e}L ${n},${r}`,i,s,o,a]}const SH={[zn.Left]:{x:-1,y:0},[zn.Right]:{x:1,y:0},[zn.Top]:{x:0,y:-1},[zn.Bottom]:{x:0,y:1}},KJe=({source:t,sourcePosition:e=zn.Bottom,target:n})=>e===zn.Left||e===zn.Right?t.x<n.x?{x:1,y:0}:{x:-1,y:0}:t.y<n.y?{x:0,y:1}:{x:0,y:-1},wH=(t,e)=>Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2));function WJe({source:t,sourcePosition:e=zn.Bottom,target:n,targetPosition:r=zn.Top,center:i,offset:s,stepPosition:o}){const a=SH[e],l=SH[r],u={x:t.x+a.x*s,y:t.y+a.y*s},c={x:n.x+l.x*s,y:n.y+l.y*s},d=KJe({source:u,sourcePosition:e,target:c}),f=d.x!==0?"x":"y",p=d[f];let m=[],v,y;const A={x:0,y:0},C={x:0,y:0},[,,E,I]=Hde({sourceX:t.x,sourceY:t.y,targetX:n.x,targetY:n.y});if(a[f]*l[f]===-1){f==="x"?(v=i.x??u.x+(c.x-u.x)*o,y=i.y??(u.y+c.y)/2):(v=i.x??(u.x+c.x)/2,y=i.y??u.y+(c.y-u.y)*o);const T=[{x:v,y:u.y},{x:v,y:c.y}],M=[{x:u.x,y},{x:c.x,y}];a[f]===p?m=f==="x"?T:M:m=f==="x"?M:T}else{const T=[{x:u.x,y:c.y}],M=[{x:c.x,y:u.y}];if(f==="x"?m=a.x===p?M:T:m=a.y===p?T:M,e===r){const z=Math.abs(t[f]-n[f]);if(z<=s){const j=Math.min(s-1,s-z);a[f]===p?A[f]=(u[f]>t[f]?-1:1)*j:C[f]=(c[f]>n[f]?-1:1)*j}}if(e!==r){const z=f==="x"?"y":"x",j=a[f]===l[z],H=u[z]>c[z],W=u[z]<c[z];(a[f]===1&&(!j&&H||j&&W)||a[f]!==1&&(!j&&W||j&&H))&&(m=f==="x"?T:M)}const P={x:u.x+A.x,y:u.y+A.y},k={x:c.x+C.x,y:c.y+C.y},L=Math.max(Math.abs(P.x-m[0].x),Math.abs(k.x-m[0].x)),$=Math.max(Math.abs(P.y-m[0].y),Math.abs(k.y-m[0].y));L>=$?(v=(P.x+k.x)/2,y=m[0].y):(v=m[0].x,y=(P.y+k.y)/2)}return[[t,{x:u.x+A.x,y:u.y+A.y},...m,{x:c.x+C.x,y:c.y+C.y},n],v,y,E,I]}function qJe(t,e,n,r){const i=Math.min(wH(t,e)/2,wH(e,n)/2,r),{x:s,y:o}=e;if(t.x===s&&s===n.x||t.y===o&&o===n.y)return`L${s} ${o}`;if(t.y===o){const u=t.x<n.x?-1:1,c=t.y<n.y?1:-1;return`L ${s+i*u},${o}Q ${s},${o} ${s},${o+i*c}`}const a=t.x<n.x?1:-1,l=t.y<n.y?-1:1;return`L ${s},${o+i*l}Q ${s},${o} ${s+i*a},${o}`}function xL({sourceX:t,sourceY:e,sourcePosition:n=zn.Bottom,targetX:r,targetY:i,targetPosition:s=zn.Top,borderRadius:o=5,centerX:a,centerY:l,offset:u=20,stepPosition:c=.5}){const[d,f,p,m,v]=WJe({source:{x:t,y:e},sourcePosition:n,target:{x:r,y:i},targetPosition:s,center:{x:a,y:l},offset:u,stepPosition:c});return[d.reduce((A,C,E)=>{let I="";return E>0&&E<d.length-1?I=qJe(d[E-1],C,d[E+1],o):I=`${E===0?"M":"L"}${C.x} ${C.y}`,A+=I,A},""),f,p,m,v]}function _H(t){return t&&!!(t.internals.handleBounds||t.handles?.length)&&!!(t.measured.width||t.width||t.initialWidth)}function YJe(t){const{sourceNode:e,targetNode:n}=t;if(!_H(e)||!_H(n))return null;const r=e.internals.handleBounds||IH(e.handles),i=n.internals.handleBounds||IH(n.handles),s=BH(r?.source??[],t.sourceHandle),o=BH(t.connectionMode===FE.Strict?i?.target??[]:(i?.target??[]).concat(i?.source??[]),t.targetHandle);if(!s||!o)return t.onError?.("008",am.error008(s?"target":"source",{id:t.id,sourceHandle:t.sourceHandle,targetHandle:t.targetHandle})),null;const a=s?.position||zn.Bottom,l=o?.position||zn.Top,u=Xx(e,s,a),c=Xx(n,o,l);return{sourceX:u.x,sourceY:u.y,targetX:c.x,targetY:c.y,sourcePosition:a,targetPosition:l}}function IH(t){if(!t)return null;const e=[],n=[];for(const r of t)r.width=r.width??1,r.height=r.height??1,r.type==="source"?e.push(r):r.type==="target"&&n.push(r);return{source:e,target:n}}function Xx(t,e,n=zn.Left,r=!1){const i=(e?.x??0)+t.internals.positionAbsolute.x,s=(e?.y??0)+t.internals.positionAbsolute.y,{width:o,height:a}=e??eA(t);if(r)return{x:i+o/2,y:s+a/2};switch(e?.position??n){case zn.Top:return{x:i+o/2,y:s};case zn.Right:return{x:i+o,y:s+a/2};case zn.Bottom:return{x:i+o/2,y:s+a};case zn.Left:return{x:i,y:s+a/2}}}function BH(t,e){return t&&(e?t.find(n=>n.id===e):t[0])||null}function CL(t,e){return t?typeof t=="string"?t:`${e?`${e}__`:""}${Object.keys(t).sort().map(r=>`${r}=${t[r]}`).join("&")}`:""}function XJe(t,{id:e,defaultColor:n,defaultMarkerStart:r,defaultMarkerEnd:i}){const s=new Set;return t.reduce((o,a)=>([a.markerStart||r,a.markerEnd||i].forEach(l=>{if(l&&typeof l=="object"){const u=CL(l,e);s.has(u)||(o.push({id:u,color:l.color||n,...l}),s.add(u))}}),o),[]).sort((o,a)=>o.id.localeCompare(a.id))}const Gde=1e3,JJe=10,Rz={nodeOrigin:[0,0],nodeExtent:S3,elevateNodesOnSelect:!0,zIndexMode:"basic",defaults:{}},ZJe={...Rz,checkEquality:!0};function Nz(t,e){const n={...t};for(const r in e)e[r]!==void 0&&(n[r]=e[r]);return n}function eZe(t,e,n){const r=Nz(Rz,n);for(const i of t.values())if(i.parentId)Fz(i,t,e,r);else{const s=x4(i,r.nodeOrigin),o=jE(i.extent)?i.extent:r.nodeExtent,a=Yx(s,o,eA(i));i.internals.positionAbsolute=a}}function tZe(t,e){if(!t.handles)return t.measured?e?.internals.handleBounds:void 0;const n=[],r=[];for(const i of t.handles){const s={id:i.id,width:i.width??1,height:i.height??1,nodeId:t.id,x:i.x,y:i.y,position:i.position,type:i.type};i.type==="source"?n.push(s):i.type==="target"&&r.push(s)}return{source:n,target:r}}function Lz(t){return t==="manual"}function EL(t,e,n,r={}){const i=Nz(ZJe,r),s={i:0},o=new Map(e),a=i?.elevateNodesOnSelect&&!Lz(i.zIndexMode)?Gde:0;let l=t.length>0;e.clear(),n.clear();for(const u of t){let c=o.get(u.id);if(i.checkEquality&&u===c?.internals.userNode)e.set(u.id,c);else{const d=x4(u,i.nodeOrigin),f=jE(u.extent)?u.extent:i.nodeExtent,p=Yx(d,f,eA(u));c={...i.defaults,...u,measured:{width:u.measured?.width,height:u.measured?.height},internals:{positionAbsolute:p,handleBounds:tZe(u,c),z:Kde(u,a,i.zIndexMode),userNode:u}},e.set(u.id,c)}(c.measured===void 0||c.measured.width===void 0||c.measured.height===void 0)&&!c.hidden&&(l=!1),u.parentId&&Fz(c,e,n,r,s)}return l}function nZe(t,e){if(!t.parentId)return;const n=e.get(t.parentId);n?n.set(t.id,t):e.set(t.parentId,new Map([[t.id,t]]))}function Fz(t,e,n,r,i){const{elevateNodesOnSelect:s,nodeOrigin:o,nodeExtent:a,zIndexMode:l}=Nz(Rz,r),u=t.parentId,c=e.get(u);if(!c){console.warn(`Parent node ${u} not found. Please make sure that parent nodes are in front of their child nodes in the nodes array.`);return}nZe(t,n),i&&!c.parentId&&c.internals.rootParentIndex===void 0&&l==="auto"&&(c.internals.rootParentIndex=++i.i,c.internals.z=c.internals.z+i.i*JJe),i&&c.internals.rootParentIndex!==void 0&&(i.i=c.internals.rootParentIndex);const d=s&&!Lz(l)?Gde:0,{x:f,y:p,z:m}=rZe(t,c,o,a,d,l),{positionAbsolute:v}=t.internals,y=f!==v.x||p!==v.y;(y||m!==t.internals.z)&&e.set(t.id,{...t,internals:{...t.internals,positionAbsolute:y?{x:f,y:p}:v,z:m}})}function Kde(t,e,n){const r=Pp(t.zIndex)?t.zIndex:0;return Lz(n)?r:r+(t.selected?e:0)}function rZe(t,e,n,r,i,s){const{x:o,y:a}=e.internals.positionAbsolute,l=eA(t),u=x4(t,n),c=jE(t.extent)?Yx(u,t.extent,l):u;let d=Yx({x:o+c.x,y:a+c.y},r,l);t.extent==="parent"&&(d=Rde(d,l,e));const f=Kde(t,i,s),p=e.internals.z??0;return{x:d.x,y:d.y,z:p>=f?p+1:f}}function $z(t,e,n,r=[0,0]){const i=[],s=new Map;for(const o of t){const a=e.get(o.parentId);if(!a)continue;const l=s.get(o.parentId)?.expandedRect??OE(a),u=Lde(l,o.rect);s.set(o.parentId,{expandedRect:u,parent:a})}return s.size>0&&s.forEach(({expandedRect:o,parent:a},l)=>{const u=a.internals.positionAbsolute,c=eA(a),d=a.origin??r,f=o.x<u.x?Math.round(Math.abs(u.x-o.x)):0,p=o.y<u.y?Math.round(Math.abs(u.y-o.y)):0,m=Math.max(c.width,Math.round(o.width)),v=Math.max(c.height,Math.round(o.height)),y=(m-c.width)*d[0],A=(v-c.height)*d[1];(f>0||p>0||y||A)&&(i.push({id:l,type:"position",position:{x:a.position.x-f+y,y:a.position.y-p+A}}),n.get(l)?.forEach(C=>{t.some(E=>E.id===C.id)||i.push({id:C.id,type:"position",position:{x:C.position.x+f,y:C.position.y+p}})})),(c.width<o.width||c.height<o.height||f||p)&&i.push({id:l,type:"dimensions",setAttributes:!0,dimensions:{width:m+(f?d[0]*f-y:0),height:v+(p?d[1]*p-A:0)}})}),i}function iZe(t,e,n,r,i,s,o){const a=r?.querySelector(".xyflow__viewport");let l=!1;if(!a)return{changes:[],updatedInternals:l};const u=[],c=window.getComputedStyle(a),{m22:d}=new window.DOMMatrixReadOnly(c.transform),f=[];for(const p of t.values()){const m=e.get(p.id);if(!m)continue;if(m.hidden){e.set(m.id,{...m,internals:{...m.internals,handleBounds:void 0}}),l=!0;continue}const v=Pz(p.nodeElement),y=m.measured.width!==v.width||m.measured.height!==v.height;if(!!(v.width&&v.height&&(y||!m.internals.handleBounds||p.force))){const C=p.nodeElement.getBoundingClientRect(),E=jE(m.extent)?m.extent:s;let{positionAbsolute:I}=m.internals;m.parentId&&m.extent==="parent"?I=Rde(I,v,e.get(m.parentId)):E&&(I=Yx(I,E,v));const D={...m,measured:v,internals:{...m.internals,positionAbsolute:I,handleBounds:{source:CH("source",p.nodeElement,C,d,m.id),target:CH("target",p.nodeElement,C,d,m.id)}}};e.set(m.id,D),m.parentId&&Fz(D,e,n,{nodeOrigin:i,zIndexMode:o}),l=!0,y&&(u.push({id:m.id,type:"dimensions",dimensions:v}),m.expandParent&&m.parentId&&f.push({id:m.id,parentId:m.parentId,rect:OE(D,i)}))}}if(f.length>0){const p=$z(f,e,n,i);u.push(...p)}return{changes:u,updatedInternals:l}}async function sZe({delta:t,panZoom:e,transform:n,translateExtent:r,width:i,height:s}){if(!e||!t.x&&!t.y)return Promise.resolve(!1);const o=await e.setViewportConstrained({x:n[0]+t.x,y:n[1]+t.y,zoom:n[2]},[[0,0],[i,s]],r),a=!!o&&(o.x!==n[0]||o.y!==n[1]||o.k!==n[2]);return Promise.resolve(a)}function DH(t,e,n,r,i,s){let o=i;const a=r.get(o)||new Map;r.set(o,a.set(n,e)),o=`${i}-${t}`;const l=r.get(o)||new Map;if(r.set(o,l.set(n,e)),s){o=`${i}-${t}-${s}`;const u=r.get(o)||new Map;r.set(o,u.set(n,e))}}function Wde(t,e,n){t.clear(),e.clear();for(const r of n){const{source:i,target:s,sourceHandle:o=null,targetHandle:a=null}=r,l={edgeId:r.id,source:i,target:s,sourceHandle:o,targetHandle:a},u=`${i}-${o}--${s}-${a}`,c=`${s}-${a}--${i}-${o}`;DH("source",l,c,t,i,o),DH("target",l,u,t,s,a),e.set(r.id,r)}}function qde(t,e){if(!t.parentId)return!1;const n=e.get(t.parentId);return n?n.selected?!0:qde(n,e):!1}function TH(t,e,n){let r=t;do{if(r?.matches?.(e))return!0;if(r===n)return!1;r=r?.parentElement}while(r);return!1}function oZe(t,e,n,r){const i=new Map;for(const[s,o]of t)if((o.selected||o.id===r)&&(!o.parentId||!qde(o,t))&&(o.draggable||e&&typeof o.draggable>"u")){const a=t.get(s);a&&i.set(s,{id:s,position:a.position||{x:0,y:0},distance:{x:n.x-a.internals.positionAbsolute.x,y:n.y-a.internals.positionAbsolute.y},extent:a.extent,parentId:a.parentId,origin:a.origin,expandParent:a.expandParent,internals:{positionAbsolute:a.internals.positionAbsolute||{x:0,y:0}},measured:{width:a.measured.width??0,height:a.measured.height??0}})}return i}function _P({nodeId:t,dragItems:e,nodeLookup:n,dragging:r=!0}){const i=[];for(const[o,a]of e){const l=n.get(o)?.internals.userNode;l&&i.push({...l,position:a.position,dragging:r})}if(!t)return[i[0],i];const s=n.get(t)?.internals.userNode;return[s?{...s,position:e.get(t)?.position||s.position,dragging:r}:i[0],i]}function aZe({dragItems:t,snapGrid:e,x:n,y:r}){const i=t.values().next().value;if(!i)return null;const s={x:n-i.distance.x,y:r-i.distance.y},o=E4(s,e);return{x:o.x-s.x,y:o.y-s.y}}function lZe({onNodeMouseDown:t,getStoreItems:e,onDragStart:n,onDrag:r,onDragStop:i}){let s={x:null,y:null},o=0,a=new Map,l=!1,u={x:0,y:0},c=null,d=!1,f=null,p=!1,m=!1,v=null;function y({noDragClassName:C,handleSelector:E,domNode:I,isSelectable:D,nodeId:T,nodeClickDistance:M=0}){f=eh(I);function P({x:z,y:j}){const{nodeLookup:H,nodeExtent:W,snapGrid:O,snapToGrid:G,nodeOrigin:q,onNodeDrag:J,onSelectionDrag:te,onError:Y,updateNodePositions:Z}=e();s={x:z,y:j};let ee=!1;const ie=a.size>1,ue=ie&&W?bL(C4(a)):null,ae=ie&&G?aZe({dragItems:a,snapGrid:O,x:z,y:j}):null;for(const[de,ge]of a){if(!H.has(de))continue;let _e={x:z-ge.distance.x,y:j-ge.distance.y};G&&(_e=ae?{x:Math.round(_e.x+ae.x),y:Math.round(_e.y+ae.y)}:E4(_e,O));let we=null;if(ie&&W&&!ge.extent&&ue){const{positionAbsolute:Ee}=ge.internals,Me=Ee.x-ue.x+W[0][0],Ue=Ee.x+ge.measured.width-ue.x2+W[1][0],Ge=Ee.y-ue.y+W[0][1],ut=Ee.y+ge.measured.height-ue.y2+W[1][1];we=[[Me,Ge],[Ue,ut]]}const{position:ke,positionAbsolute:Fe}=Pde({nodeId:de,nextPosition:_e,nodeLookup:H,nodeExtent:we||W,nodeOrigin:q,onError:Y});ee=ee||ge.position.x!==ke.x||ge.position.y!==ke.y,ge.position=ke,ge.internals.positionAbsolute=Fe}if(m=m||ee,!!ee&&(Z(a,!0),v&&(r||J||!T&&te))){const[de,ge]=_P({nodeId:T,dragItems:a,nodeLookup:H});r?.(v,a,de,ge),J?.(v,de,ge),T||te?.(v,ge)}}async function k(){if(!c)return;const{transform:z,panBy:j,autoPanSpeed:H,autoPanOnNodeDrag:W}=e();if(!W){l=!1,cancelAnimationFrame(o);return}const[O,G]=Nde(u,c,H);(O!==0||G!==0)&&(s.x=(s.x??0)-O/z[2],s.y=(s.y??0)-G/z[2],await j({x:O,y:G})&&P(s)),o=requestAnimationFrame(k)}function L(z){const{nodeLookup:j,multiSelectionActive:H,nodesDraggable:W,transform:O,snapGrid:G,snapToGrid:q,selectNodesOnDrag:J,onNodeDragStart:te,onSelectionDragStart:Y,unselectNodesAndEdges:Z}=e();d=!0,(!J||!D)&&!H&&T&&(j.get(T)?.selected||Z()),D&&J&&T&&t?.(T);const ee=B_(z.sourceEvent,{transform:O,snapGrid:G,snapToGrid:q,containerBounds:c});if(s=ee,a=oZe(j,W,ee,T),a.size>0&&(n||te||!T&&Y)){const[ie,ue]=_P({nodeId:T,dragItems:a,nodeLookup:j});n?.(z.sourceEvent,a,ie,ue),te?.(z.sourceEvent,ie,ue),T||Y?.(z.sourceEvent,ue)}}const $=hde().clickDistance(M).on("start",z=>{const{domNode:j,nodeDragThreshold:H,transform:W,snapGrid:O,snapToGrid:G}=e();c=j?.getBoundingClientRect()||null,p=!1,m=!1,v=z.sourceEvent,H===0&&L(z),s=B_(z.sourceEvent,{transform:W,snapGrid:O,snapToGrid:G,containerBounds:c}),u=Rp(z.sourceEvent,c)}).on("drag",z=>{const{autoPanOnNodeDrag:j,transform:H,snapGrid:W,snapToGrid:O,nodeDragThreshold:G,nodeLookup:q}=e(),J=B_(z.sourceEvent,{transform:H,snapGrid:W,snapToGrid:O,containerBounds:c});if(v=z.sourceEvent,(z.sourceEvent.type==="touchmove"&&z.sourceEvent.touches.length>1||T&&!q.has(T))&&(p=!0),!p){if(!l&&j&&d&&(l=!0,k()),!d){const te=Rp(z.sourceEvent,c),Y=te.x-u.x,Z=te.y-u.y;Math.sqrt(Y*Y+Z*Z)>G&&L(z)}(s.x!==J.xSnapped||s.y!==J.ySnapped)&&a&&d&&(u=Rp(z.sourceEvent,c),P(J))}}).on("end",z=>{if(!(!d||p)&&(l=!1,d=!1,cancelAnimationFrame(o),a.size>0)){const{nodeLookup:j,updateNodePositions:H,onNodeDragStop:W,onSelectionDragStop:O}=e();if(m&&(H(a,!1),m=!1),i||W||!T&&O){const[G,q]=_P({nodeId:T,dragItems:a,nodeLookup:j,dragging:!1});i?.(z.sourceEvent,a,G,q),W?.(z.sourceEvent,G,q),T||O?.(z.sourceEvent,q)}}}).filter(z=>{const j=z.target;return!z.button&&(!C||!TH(j,`.${C}`,I))&&(!E||TH(j,E,I))});f.call($)}function A(){f?.on(".drag",null)}return{update:y,destroy:A}}function uZe(t,e,n){const r=[],i={x:t.x-n,y:t.y-n,width:n*2,height:n*2};for(const s of e.values())_3(i,OE(s))>0&&r.push(s);return r}const cZe=250;function dZe(t,e,n,r){let i=[],s=1/0;const o=uZe(t,n,e+cZe);for(const a of o){const l=[...a.internals.handleBounds?.source??[],...a.internals.handleBounds?.target??[]];for(const u of l){if(r.nodeId===u.nodeId&&r.type===u.type&&r.id===u.id)continue;const{x:c,y:d}=Xx(a,u,u.position,!0),f=Math.sqrt(Math.pow(c-t.x,2)+Math.pow(d-t.y,2));f>e||(f<s?(i=[{...u,x:c,y:d}],s=f):f===s&&i.push({...u,x:c,y:d}))}}if(!i.length)return null;if(i.length>1){const a=r.type==="source"?"target":"source";return i.find(l=>l.type===a)??i[0]}return i[0]}function Yde(t,e,n,r,i,s=!1){const o=r.get(t);if(!o)return null;const a=i==="strict"?o.internals.handleBounds?.[e]:[...o.internals.handleBounds?.source??[],...o.internals.handleBounds?.target??[]],l=(n?a?.find(u=>u.id===n):a?.[0])??null;return l&&s?{...l,...Xx(o,l,l.position,!0)}:l}function Xde(t,e){return t||(e?.classList.contains("target")?"target":e?.classList.contains("source")?"source":null)}function hZe(t,e){let n=null;return e?n=!0:t&&!e&&(n=!1),n}const Jde=()=>!0;function fZe(t,{connectionMode:e,connectionRadius:n,handleId:r,nodeId:i,edgeUpdaterType:s,isTarget:o,domNode:a,nodeLookup:l,lib:u,autoPanOnConnect:c,flowId:d,panBy:f,cancelConnection:p,onConnectStart:m,onConnect:v,onConnectEnd:y,isValidConnection:A=Jde,onReconnectEnd:C,updateConnection:E,getTransform:I,getFromHandle:D,autoPanSpeed:T,dragThreshold:M=1,handleDomNode:P}){const k=zde(t.target);let L=0,$;const{x:z,y:j}=Rp(t),H=Xde(s,P),W=a?.getBoundingClientRect();let O=!1;if(!W||!H)return;const G=Yde(i,H,r,l,e);if(!G)return;let q=Rp(t,W),J=!1,te=null,Y=!1,Z=null;function ee(){if(!c||!W)return;const[ke,Fe]=Nde(q,W,T);f({x:ke,y:Fe}),L=requestAnimationFrame(ee)}const ie={...G,nodeId:i,type:H,position:G.position},ue=l.get(i);let de={inProgress:!0,isValid:null,from:Xx(ue,ie,zn.Left,!0),fromHandle:ie,fromPosition:ie.position,fromNode:ue,to:q,toHandle:null,toPosition:yH[ie.position],toNode:null,pointer:q};function ge(){O=!0,E(de),m?.(t,{nodeId:i,handleId:r,handleType:H})}M===0&&ge();function _e(ke){if(!O){const{x:ut,y:ve}=Rp(ke),$e=ut-z,gt=ve-j;if(!($e*$e+gt*gt>M*M))return;ge()}if(!D()||!ie){we(ke);return}const Fe=I();q=Rp(ke,W),$=dZe(S4(q,Fe,!1,[1,1]),n,l,ie),J||(ee(),J=!0);const Ee=Zde(ke,{handle:$,connectionMode:e,fromNodeId:i,fromHandleId:r,fromType:o?"target":"source",isValidConnection:A,doc:k,lib:u,flowId:d,nodeLookup:l});Z=Ee.handleDomNode,te=Ee.connection,Y=hZe(!!$,Ee.isValid);const Me=l.get(i),Ue=Me?Xx(Me,ie,zn.Left,!0):de.from,Ge={...de,from:Ue,isValid:Y,to:Ee.toHandle&&Y?VD({x:Ee.toHandle.x,y:Ee.toHandle.y},Fe):q,toHandle:Ee.toHandle,toPosition:Y&&Ee.toHandle?Ee.toHandle.position:yH[ie.position],toNode:Ee.toHandle?l.get(Ee.toHandle.nodeId):null,pointer:q};E(Ge),de=Ge}function we(ke){if(!("touches"in ke&&ke.touches.length>0)){if(O){($||Z)&&te&&Y&&v?.(te);const{inProgress:Fe,...Ee}=de,Me={...Ee,toPosition:de.toHandle?de.toPosition:null};y?.(ke,Me),s&&C?.(ke,Me)}p(),cancelAnimationFrame(L),J=!1,Y=!1,te=null,Z=null,k.removeEventListener("mousemove",_e),k.removeEventListener("mouseup",we),k.removeEventListener("touchmove",_e),k.removeEventListener("touchend",we)}}k.addEventListener("mousemove",_e),k.addEventListener("mouseup",we),k.addEventListener("touchmove",_e),k.addEventListener("touchend",we)}function Zde(t,{handle:e,connectionMode:n,fromNodeId:r,fromHandleId:i,fromType:s,doc:o,lib:a,flowId:l,isValidConnection:u=Jde,nodeLookup:c}){const d=s==="target",f=e?o.querySelector(`.${a}-flow__handle[data-id="${l}-${e?.nodeId}-${e?.id}-${e?.type}"]`):null,{x:p,y:m}=Rp(t),v=o.elementFromPoint(p,m),y=v?.classList.contains(`${a}-flow__handle`)?v:f,A={handleDomNode:y,isValid:!1,connection:null,toHandle:null};if(y){const C=Xde(void 0,y),E=y.getAttribute("data-nodeid"),I=y.getAttribute("data-handleid"),D=y.classList.contains("connectable"),T=y.classList.contains("connectableend");if(!E||!C)return A;const M={source:d?E:r,sourceHandle:d?I:i,target:d?r:E,targetHandle:d?i:I};A.connection=M;const k=D&&T&&(n===FE.Strict?d&&C==="source"||!d&&C==="target":E!==r||I!==i);A.isValid=k&&u(M),A.toHandle=Yde(E,C,I,c,n,!0)}return A}const SL={onPointerDown:fZe,isValid:Zde};function pZe({domNode:t,panZoom:e,getTransform:n,getViewScale:r}){const i=eh(t);function s({translateExtent:a,width:l,height:u,zoomStep:c=1,pannable:d=!0,zoomable:f=!0,inversePan:p=!1}){const m=E=>{if(E.sourceEvent.type!=="wheel"||!e)return;const I=n(),D=E.sourceEvent.ctrlKey&&I3()?10:1,T=-E.sourceEvent.deltaY*(E.sourceEvent.deltaMode===1?.05:E.sourceEvent.deltaMode?1:.002)*c,M=I[2]*Math.pow(2,T*D);e.scaleTo(M)};let v=[0,0];const y=E=>{(E.sourceEvent.type==="mousedown"||E.sourceEvent.type==="touchstart")&&(v=[E.sourceEvent.clientX??E.sourceEvent.touches[0].clientX,E.sourceEvent.clientY??E.sourceEvent.touches[0].clientY])},A=E=>{const I=n();if(E.sourceEvent.type!=="mousemove"&&E.sourceEvent.type!=="touchmove"||!e)return;const D=[E.sourceEvent.clientX??E.sourceEvent.touches[0].clientX,E.sourceEvent.clientY??E.sourceEvent.touches[0].clientY],T=[D[0]-v[0],D[1]-v[1]];v=D;const M=r()*Math.max(I[2],Math.log(I[2]))*(p?-1:1),P={x:I[0]-T[0]*M,y:I[1]-T[1]*M},k=[[0,0],[l,u]];e.setViewportConstrained({x:P.x,y:P.y,zoom:I[2]},k,a)},C=Ide().on("start",y).on("zoom",d?A:null).on("zoom.wheel",f?m:null);i.call(C,{})}function o(){i.on("zoom",null)}return{update:s,destroy:o,pointer:Ep}}const aM=t=>({x:t.x,y:t.y,zoom:t.k}),IP=({x:t,y:e,zoom:n})=>iM.translate(t,e).scale(n),tE=(t,e)=>t.target.closest(`.${e}`),ehe=(t,e)=>e===2&&Array.isArray(t)&&t.includes(2),gZe=t=>((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2,BP=(t,e=0,n=gZe,r=()=>{})=>{const i=typeof e=="number"&&e>0;return i||r(),i?t.transition().duration(e).ease(n).on("end",r):t},the=t=>{const e=t.ctrlKey&&I3()?10:1;return-t.deltaY*(t.deltaMode===1?.05:t.deltaMode?1:.002)*e};function mZe({zoomPanValues:t,noWheelClassName:e,d3Selection:n,d3Zoom:r,panOnScrollMode:i,panOnScrollSpeed:s,zoomOnPinch:o,onPanZoomStart:a,onPanZoom:l,onPanZoomEnd:u}){return c=>{if(tE(c,e))return c.ctrlKey&&c.preventDefault(),!1;c.preventDefault(),c.stopImmediatePropagation();const d=n.property("__zoom").k||1;if(c.ctrlKey&&o){const y=Ep(c),A=the(c),C=d*Math.pow(2,A);r.scaleTo(n,C,y,c);return}const f=c.deltaMode===1?20:1;let p=i===Bx.Vertical?0:c.deltaX*f,m=i===Bx.Horizontal?0:c.deltaY*f;!I3()&&c.shiftKey&&i!==Bx.Vertical&&(p=c.deltaY*f,m=0),r.translateBy(n,-(p/d)*s,-(m/d)*s,{internal:!0});const v=aM(n.property("__zoom"));clearTimeout(t.panScrollTimeout),t.isPanScrolling?(l?.(c,v),t.panScrollTimeout=setTimeout(()=>{u?.(c,v),t.isPanScrolling=!1},150)):(t.isPanScrolling=!0,a?.(c,v))}}function AZe({noWheelClassName:t,preventScrolling:e,d3ZoomHandler:n}){return function(r,i){const s=r.type==="wheel",o=!e&&s&&!r.ctrlKey,a=tE(r,t);if(r.ctrlKey&&s&&a&&r.preventDefault(),o||a)return null;r.preventDefault(),n.call(this,r,i)}}function yZe({zoomPanValues:t,onDraggingChange:e,onPanZoomStart:n}){return r=>{if(r.sourceEvent?.internal)return;const i=aM(r.transform);t.mouseButton=r.sourceEvent?.button||0,t.isZoomingOrPanning=!0,t.prevViewport=i,r.sourceEvent?.type==="mousedown"&&e(!0),n&&n?.(r.sourceEvent,i)}}function vZe({zoomPanValues:t,panOnDrag:e,onPaneContextMenu:n,onTransformChange:r,onPanZoom:i}){return s=>{t.usedRightMouseButton=!!(n&&ehe(e,t.mouseButton??0)),s.sourceEvent?.sync||r([s.transform.x,s.transform.y,s.transform.k]),i&&!s.sourceEvent?.internal&&i?.(s.sourceEvent,aM(s.transform))}}function bZe({zoomPanValues:t,panOnDrag:e,panOnScroll:n,onDraggingChange:r,onPanZoomEnd:i,onPaneContextMenu:s}){return o=>{if(!o.sourceEvent?.internal&&(t.isZoomingOrPanning=!1,s&&ehe(e,t.mouseButton??0)&&!t.usedRightMouseButton&&o.sourceEvent&&s(o.sourceEvent),t.usedRightMouseButton=!1,r(!1),i)){const a=aM(o.transform);t.prevViewport=a,clearTimeout(t.timerId),t.timerId=setTimeout(()=>{i?.(o.sourceEvent,a)},n?150:0)}}}function xZe({zoomActivationKeyPressed:t,zoomOnScroll:e,zoomOnPinch:n,panOnDrag:r,panOnScroll:i,zoomOnDoubleClick:s,userSelectionActive:o,noWheelClassName:a,noPanClassName:l,lib:u,connectionInProgress:c}){return d=>{const f=t||e,p=n&&d.ctrlKey,m=d.type==="wheel";if(d.button===1&&d.type==="mousedown"&&(tE(d,`${u}-flow__node`)||tE(d,`${u}-flow__edge`)))return!0;if(!r&&!f&&!i&&!s&&!n||o||c&&!m||tE(d,a)&&m||tE(d,l)&&(!m||i&&m&&!t)||!n&&d.ctrlKey&&m)return!1;if(!n&&d.type==="touchstart"&&d.touches?.length>1)return d.preventDefault(),!1;if(!f&&!i&&!p&&m||!r&&(d.type==="mousedown"||d.type==="touchstart")||Array.isArray(r)&&!r.includes(d.button)&&d.type==="mousedown")return!1;const v=Array.isArray(r)&&r.includes(d.button)||!d.button||d.button<=1;return(!d.ctrlKey||m)&&v}}function CZe({domNode:t,minZoom:e,maxZoom:n,translateExtent:r,viewport:i,onPanZoom:s,onPanZoomStart:o,onPanZoomEnd:a,onDraggingChange:l}){const u={isZoomingOrPanning:!1,usedRightMouseButton:!1,prevViewport:{},mouseButton:0,timerId:void 0,panScrollTimeout:void 0,isPanScrolling:!1},c=t.getBoundingClientRect(),d=Ide().scaleExtent([e,n]).translateExtent(r),f=eh(t).call(d);C({x:i.x,y:i.y,zoom:zE(i.zoom,e,n)},[[0,0],[c.width,c.height]],r);const p=f.on("wheel.zoom"),m=f.on("dblclick.zoom");d.wheelDelta(the);function v($,z){return f?new Promise(j=>{d?.interpolate(z?.interpolate==="linear"?I_:LB).transform(BP(f,z?.duration,z?.ease,()=>j(!0)),$)}):Promise.resolve(!1)}function y({noWheelClassName:$,noPanClassName:z,onPaneContextMenu:j,userSelectionActive:H,panOnScroll:W,panOnDrag:O,panOnScrollMode:G,panOnScrollSpeed:q,preventScrolling:J,zoomOnPinch:te,zoomOnScroll:Y,zoomOnDoubleClick:Z,zoomActivationKeyPressed:ee,lib:ie,onTransformChange:ue,connectionInProgress:ae,paneClickDistance:de,selectionOnDrag:ge}){H&&!u.isZoomingOrPanning&&A();const _e=W&&!ee&&!H;d.clickDistance(ge?1/0:!Pp(de)||de<0?0:de);const we=_e?mZe({zoomPanValues:u,noWheelClassName:$,d3Selection:f,d3Zoom:d,panOnScrollMode:G,panOnScrollSpeed:q,zoomOnPinch:te,onPanZoomStart:o,onPanZoom:s,onPanZoomEnd:a}):AZe({noWheelClassName:$,preventScrolling:J,d3ZoomHandler:p});if(f.on("wheel.zoom",we,{passive:!1}),!H){const Fe=yZe({zoomPanValues:u,onDraggingChange:l,onPanZoomStart:o});d.on("start",Fe);const Ee=vZe({zoomPanValues:u,panOnDrag:O,onPaneContextMenu:!!j,onPanZoom:s,onTransformChange:ue});d.on("zoom",Ee);const Me=bZe({zoomPanValues:u,panOnDrag:O,panOnScroll:W,onPaneContextMenu:j,onPanZoomEnd:a,onDraggingChange:l});d.on("end",Me)}const ke=xZe({zoomActivationKeyPressed:ee,panOnDrag:O,zoomOnScroll:Y,panOnScroll:W,zoomOnDoubleClick:Z,zoomOnPinch:te,userSelectionActive:H,noPanClassName:z,noWheelClassName:$,lib:ie,connectionInProgress:ae});d.filter(ke),Z?f.on("dblclick.zoom",m):f.on("dblclick.zoom",null)}function A(){d.on("zoom",null)}async function C($,z,j){const H=IP($),W=d?.constrain()(H,z,j);return W&&await v(W),new Promise(O=>O(W))}async function E($,z){const j=IP($);return await v(j,z),new Promise(H=>H(j))}function I($){if(f){const z=IP($),j=f.property("__zoom");(j.k!==$.zoom||j.x!==$.x||j.y!==$.y)&&d?.transform(f,z,null,{sync:!0})}}function D(){const $=f?_de(f.node()):{x:0,y:0,k:1};return{x:$.x,y:$.y,zoom:$.k}}function T($,z){return f?new Promise(j=>{d?.interpolate(z?.interpolate==="linear"?I_:LB).scaleTo(BP(f,z?.duration,z?.ease,()=>j(!0)),$)}):Promise.resolve(!1)}function M($,z){return f?new Promise(j=>{d?.interpolate(z?.interpolate==="linear"?I_:LB).scaleBy(BP(f,z?.duration,z?.ease,()=>j(!0)),$)}):Promise.resolve(!1)}function P($){d?.scaleExtent($)}function k($){d?.translateExtent($)}function L($){const z=!Pp($)||$<0?0:$;d?.clickDistance(z)}return{update:y,destroy:A,setViewport:E,setViewportConstrained:C,getViewport:D,scaleTo:T,scaleBy:M,setScaleExtent:P,setTranslateExtent:k,syncViewport:I,setClickDistance:L}}var QE;(function(t){t.Line="line",t.Handle="handle"})(QE||(QE={}));function EZe({width:t,prevWidth:e,height:n,prevHeight:r,affectsX:i,affectsY:s}){const o=t-e,a=n-r,l=[o>0?1:o<0?-1:0,a>0?1:a<0?-1:0];return o&&i&&(l[0]=l[0]*-1),a&&s&&(l[1]=l[1]*-1),l}function MH(t){const e=t.includes("right")||t.includes("left"),n=t.includes("bottom")||t.includes("top"),r=t.includes("left"),i=t.includes("top");return{isHorizontal:e,isVertical:n,affectsX:r,affectsY:i}}function Ay(t,e){return Math.max(0,e-t)}function yy(t,e){return Math.max(0,t-e)}function FI(t,e,n){return Math.max(0,e-t,t-n)}function kH(t,e){return t?!e:e}function SZe(t,e,n,r,i,s,o,a){let{affectsX:l,affectsY:u}=e;const{isHorizontal:c,isVertical:d}=e,f=c&&d,{xSnapped:p,ySnapped:m}=n,{minWidth:v,maxWidth:y,minHeight:A,maxHeight:C}=r,{x:E,y:I,width:D,height:T,aspectRatio:M}=t;let P=Math.floor(c?p-t.pointerX:0),k=Math.floor(d?m-t.pointerY:0);const L=D+(l?-P:P),$=T+(u?-k:k),z=-s[0]*D,j=-s[1]*T;let H=FI(L,v,y),W=FI($,A,C);if(o){let q=0,J=0;l&&P<0?q=Ay(E+P+z,o[0][0]):!l&&P>0&&(q=yy(E+L+z,o[1][0])),u&&k<0?J=Ay(I+k+j,o[0][1]):!u&&k>0&&(J=yy(I+$+j,o[1][1])),H=Math.max(H,q),W=Math.max(W,J)}if(a){let q=0,J=0;l&&P>0?q=yy(E+P,a[0][0]):!l&&P<0&&(q=Ay(E+L,a[1][0])),u&&k>0?J=yy(I+k,a[0][1]):!u&&k<0&&(J=Ay(I+$,a[1][1])),H=Math.max(H,q),W=Math.max(W,J)}if(i){if(c){const q=FI(L/M,A,C)*M;if(H=Math.max(H,q),o){let J=0;!l&&!u||l&&!u&&f?J=yy(I+j+L/M,o[1][1])*M:J=Ay(I+j+(l?P:-P)/M,o[0][1])*M,H=Math.max(H,J)}if(a){let J=0;!l&&!u||l&&!u&&f?J=Ay(I+L/M,a[1][1])*M:J=yy(I+(l?P:-P)/M,a[0][1])*M,H=Math.max(H,J)}}if(d){const q=FI($*M,v,y)/M;if(W=Math.max(W,q),o){let J=0;!l&&!u||u&&!l&&f?J=yy(E+$*M+z,o[1][0])/M:J=Ay(E+(u?k:-k)*M+z,o[0][0])/M,W=Math.max(W,J)}if(a){let J=0;!l&&!u||u&&!l&&f?J=Ay(E+$*M,a[1][0])/M:J=yy(E+(u?k:-k)*M,a[0][0])/M,W=Math.max(W,J)}}}k=k+(k<0?W:-W),P=P+(P<0?H:-H),i&&(f?L>$*M?k=(kH(l,u)?-P:P)/M:P=(kH(l,u)?-k:k)*M:c?(k=P/M,u=l):(P=k*M,l=u));const O=l?E+P:E,G=u?I+k:I;return{width:D+(l?-P:P),height:T+(u?-k:k),x:s[0]*P*(l?-1:1)+O,y:s[1]*k*(u?-1:1)+G}}const nhe={width:0,height:0,x:0,y:0},wZe={...nhe,pointerX:0,pointerY:0,aspectRatio:1};function _Ze(t){return[[0,0],[t.measured.width,t.measured.height]]}function IZe(t,e,n){const r=e.position.x+t.position.x,i=e.position.y+t.position.y,s=t.measured.width??0,o=t.measured.height??0,a=n[0]*s,l=n[1]*o;return[[r-a,i-l],[r+s-a,i+o-l]]}function BZe({domNode:t,nodeId:e,getStoreItems:n,onChange:r,onEnd:i}){const s=eh(t);let o={controlDirection:MH("bottom-right"),boundaries:{minWidth:0,minHeight:0,maxWidth:Number.MAX_VALUE,maxHeight:Number.MAX_VALUE},resizeDirection:void 0,keepAspectRatio:!1};function a({controlPosition:u,boundaries:c,keepAspectRatio:d,resizeDirection:f,onResizeStart:p,onResize:m,onResizeEnd:v,shouldResize:y}){let A={...nhe},C={...wZe};o={boundaries:c,resizeDirection:f,keepAspectRatio:d,controlDirection:MH(u)};let E,I=null,D=[],T,M,P,k=!1;const L=hde().on("start",$=>{const{nodeLookup:z,transform:j,snapGrid:H,snapToGrid:W,nodeOrigin:O,paneDomNode:G}=n();if(E=z.get(e),!E)return;I=G?.getBoundingClientRect()??null;const{xSnapped:q,ySnapped:J}=B_($.sourceEvent,{transform:j,snapGrid:H,snapToGrid:W,containerBounds:I});A={width:E.measured.width??0,height:E.measured.height??0,x:E.position.x??0,y:E.position.y??0},C={...A,pointerX:q,pointerY:J,aspectRatio:A.width/A.height},T=void 0,E.parentId&&(E.extent==="parent"||E.expandParent)&&(T=z.get(E.parentId),M=T&&E.extent==="parent"?_Ze(T):void 0),D=[],P=void 0;for(const[te,Y]of z)if(Y.parentId===e&&(D.push({id:te,position:{...Y.position},extent:Y.extent}),Y.extent==="parent"||Y.expandParent)){const Z=IZe(Y,E,Y.origin??O);P?P=[[Math.min(Z[0][0],P[0][0]),Math.min(Z[0][1],P[0][1])],[Math.max(Z[1][0],P[1][0]),Math.max(Z[1][1],P[1][1])]]:P=Z}p?.($,{...A})}).on("drag",$=>{const{transform:z,snapGrid:j,snapToGrid:H,nodeOrigin:W}=n(),O=B_($.sourceEvent,{transform:z,snapGrid:j,snapToGrid:H,containerBounds:I}),G=[];if(!E)return;const{x:q,y:J,width:te,height:Y}=A,Z={},ee=E.origin??W,{width:ie,height:ue,x:ae,y:de}=SZe(C,o.controlDirection,O,o.boundaries,o.keepAspectRatio,ee,M,P),ge=ie!==te,_e=ue!==Y,we=ae!==q&&ge,ke=de!==J&&_e;if(!we&&!ke&&!ge&&!_e)return;if((we||ke||ee[0]===1||ee[1]===1)&&(Z.x=we?ae:A.x,Z.y=ke?de:A.y,A.x=Z.x,A.y=Z.y,D.length>0)){const Ue=ae-q,Ge=de-J;for(const ut of D)ut.position={x:ut.position.x-Ue+ee[0]*(ie-te),y:ut.position.y-Ge+ee[1]*(ue-Y)},G.push(ut)}if((ge||_e)&&(Z.width=ge&&(!o.resizeDirection||o.resizeDirection==="horizontal")?ie:A.width,Z.height=_e&&(!o.resizeDirection||o.resizeDirection==="vertical")?ue:A.height,A.width=Z.width,A.height=Z.height),T&&E.expandParent){const Ue=ee[0]*(Z.width??0);Z.x&&Z.x<Ue&&(A.x=Ue,C.x=C.x-(Z.x-Ue));const Ge=ee[1]*(Z.height??0);Z.y&&Z.y<Ge&&(A.y=Ge,C.y=C.y-(Z.y-Ge))}const Fe=EZe({width:A.width,prevWidth:te,height:A.height,prevHeight:Y,affectsX:o.controlDirection.affectsX,affectsY:o.controlDirection.affectsY}),Ee={...A,direction:Fe};y?.($,Ee)!==!1&&(k=!0,m?.($,Ee),r(Z,G))}).on("end",$=>{k&&(v?.($,{...A}),i?.({...A}),k=!1)});s.call(L)}function l(){s.on(".drag",null)}return{update:a,destroy:l}}var DP={exports:{}},TP={};var PH;function DZe(){if(PH)return TP;PH=1;var t=qE(),e=cne();function n(u,c){return u===c&&(u!==0||1/u===1/c)||u!==u&&c!==c}var r=typeof Object.is=="function"?Object.is:n,i=e.useSyncExternalStore,s=t.useRef,o=t.useEffect,a=t.useMemo,l=t.useDebugValue;return TP.useSyncExternalStoreWithSelector=function(u,c,d,f,p){var m=s(null);if(m.current===null){var v={hasValue:!1,value:null};m.current=v}else v=m.current;m=a(function(){function A(T){if(!C){if(C=!0,E=T,T=f(T),p!==void 0&&v.hasValue){var M=v.value;if(p(M,T))return I=M}return I=T}if(M=I,r(E,T))return M;var P=f(T);return p!==void 0&&p(M,P)?(E=T,M):(E=T,I=P)}var C=!1,E,I,D=d===void 0?null:d;return[function(){return A(c())},D===null?void 0:function(){return A(D())}]},[c,d,f,p]);var y=i(u,m[0],m[1]);return o(function(){v.hasValue=!0,v.value=y},[y]),l(y),y},TP}var RH;function TZe(){return RH||(RH=1,DP.exports=DZe()),DP.exports}var MZe=TZe();const kZe=G0(MZe),PZe={},NH=t=>{let e;const n=new Set,r=(c,d)=>{const f=typeof c=="function"?c(e):c;if(!Object.is(f,e)){const p=e;e=d??(typeof f!="object"||f===null)?f:Object.assign({},e,f),n.forEach(m=>m(e,p))}},i=()=>e,l={setState:r,getState:i,getInitialState:()=>u,subscribe:c=>(n.add(c),()=>n.delete(c)),destroy:()=>{(PZe?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},u=e=t(r,i,l);return l},RZe=t=>t?NH(t):NH,{useDebugValue:NZe}=xe,{useSyncExternalStoreWithSelector:LZe}=kZe,FZe=t=>t;function rhe(t,e=FZe,n){const r=LZe(t.subscribe,t.getState,t.getServerState||t.getInitialState,e,n);return NZe(r),r}const LH=(t,e)=>{const n=RZe(t),r=(i,s=e)=>rhe(n,i,s);return Object.assign(r,n),r},$Ze=(t,e)=>t?LH(t,e):LH;function Ao(t,e){if(Object.is(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;if(t instanceof Map&&e instanceof Map){if(t.size!==e.size)return!1;for(const[r,i]of t)if(!Object.is(i,e.get(r)))return!1;return!0}if(t instanceof Set&&e instanceof Set){if(t.size!==e.size)return!1;for(const r of t)if(!e.has(r))return!1;return!0}const n=Object.keys(t);if(n.length!==Object.keys(e).length)return!1;for(const r of n)if(!Object.prototype.hasOwnProperty.call(e,r)||!Object.is(t[r],e[r]))return!1;return!0}const lM=x.createContext(null),zZe=lM.Provider,ihe=am.error001();function Li(t,e){const n=x.useContext(lM);if(n===null)throw new Error(ihe);return rhe(n,t,e)}function bo(){const t=x.useContext(lM);if(t===null)throw new Error(ihe);return x.useMemo(()=>({getState:t.getState,setState:t.setState,subscribe:t.subscribe}),[t])}const FH={display:"none"},OZe={position:"absolute",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)",clipPath:"inset(100%)"},she="react-flow__node-desc",ohe="react-flow__edge-desc",jZe="react-flow__aria-live",QZe=t=>t.ariaLiveMessage,UZe=t=>t.ariaLabelConfig;function HZe({rfId:t}){const e=Li(QZe);return h.jsx("div",{id:`${jZe}-${t}`,"aria-live":"assertive","aria-atomic":"true",style:OZe,children:e})}function VZe({rfId:t,disableKeyboardA11y:e}){const n=Li(UZe);return h.jsxs(h.Fragment,{children:[h.jsx("div",{id:`${she}-${t}`,style:FH,children:e?n["node.a11yDescription.default"]:n["node.a11yDescription.keyboardDisabled"]}),h.jsx("div",{id:`${ohe}-${t}`,style:FH,children:n["edge.a11yDescription.default"]}),!e&&h.jsx(HZe,{rfId:t})]})}const uM=x.forwardRef(({position:t="top-left",children:e,className:n,style:r,...i},s)=>{const o=`${t}`.split("-");return h.jsx("div",{className:Qa(["react-flow__panel",n,...o]),style:r,ref:s,...i,children:e})});uM.displayName="Panel";function GZe({proOptions:t,position:e="bottom-right"}){return t?.hideAttribution?null:h.jsx(uM,{position:e,className:"react-flow__attribution","data-message":"Please only hide this attribution when you are subscribed to React Flow Pro: https://pro.reactflow.dev",children:h.jsx("a",{href:"https://reactflow.dev",target:"_blank",rel:"noopener noreferrer","aria-label":"React Flow attribution",children:"React Flow"})})}const KZe=t=>{const e=[],n=[];for(const[,r]of t.nodeLookup)r.selected&&e.push(r.internals.userNode);for(const[,r]of t.edgeLookup)r.selected&&n.push(r);return{selectedNodes:e,selectedEdges:n}},$I=t=>t.id;function WZe(t,e){return Ao(t.selectedNodes.map($I),e.selectedNodes.map($I))&&Ao(t.selectedEdges.map($I),e.selectedEdges.map($I))}function qZe({onSelectionChange:t}){const e=bo(),{selectedNodes:n,selectedEdges:r}=Li(KZe,WZe);return x.useEffect(()=>{const i={nodes:n,edges:r};t?.(i),e.getState().onSelectionChangeHandlers.forEach(s=>s(i))},[n,r,t]),null}const YZe=t=>!!t.onSelectionChangeHandlers;function XZe({onSelectionChange:t}){const e=Li(YZe);return t||e?h.jsx(qZe,{onSelectionChange:t}):null}const ahe=[0,0],JZe={x:0,y:0,zoom:1},ZZe=["nodes","edges","defaultNodes","defaultEdges","onConnect","onConnectStart","onConnectEnd","onClickConnectStart","onClickConnectEnd","nodesDraggable","autoPanOnNodeFocus","nodesConnectable","nodesFocusable","edgesFocusable","edgesReconnectable","elevateNodesOnSelect","elevateEdgesOnSelect","minZoom","maxZoom","nodeExtent","onNodesChange","onEdgesChange","elementsSelectable","connectionMode","snapGrid","snapToGrid","translateExtent","connectOnClick","defaultEdgeOptions","fitView","fitViewOptions","onNodesDelete","onEdgesDelete","onDelete","onNodeDrag","onNodeDragStart","onNodeDragStop","onSelectionDrag","onSelectionDragStart","onSelectionDragStop","onMoveStart","onMove","onMoveEnd","noPanClassName","nodeOrigin","autoPanOnConnect","autoPanOnNodeDrag","onError","connectionRadius","isValidConnection","selectNodesOnDrag","nodeDragThreshold","connectionDragThreshold","onBeforeDelete","debug","autoPanSpeed","ariaLabelConfig","zIndexMode"],$H=[...ZZe,"rfId"],eet=t=>({setNodes:t.setNodes,setEdges:t.setEdges,setMinZoom:t.setMinZoom,setMaxZoom:t.setMaxZoom,setTranslateExtent:t.setTranslateExtent,setNodeExtent:t.setNodeExtent,reset:t.reset,setDefaultNodesAndEdges:t.setDefaultNodesAndEdges}),zH={translateExtent:S3,nodeOrigin:ahe,minZoom:.5,maxZoom:2,elementsSelectable:!0,noPanClassName:"nopan",rfId:"1"};function tet(t){const{setNodes:e,setEdges:n,setMinZoom:r,setMaxZoom:i,setTranslateExtent:s,setNodeExtent:o,reset:a,setDefaultNodesAndEdges:l}=Li(eet,Ao),u=bo();x.useEffect(()=>(l(t.defaultNodes,t.defaultEdges),()=>{c.current=zH,a()}),[]);const c=x.useRef(zH);return x.useEffect(()=>{for(const d of $H){const f=t[d],p=c.current[d];f!==p&&(typeof t[d]>"u"||(d==="nodes"?e(f):d==="edges"?n(f):d==="minZoom"?r(f):d==="maxZoom"?i(f):d==="translateExtent"?s(f):d==="nodeExtent"?o(f):d==="ariaLabelConfig"?u.setState({ariaLabelConfig:OJe(f)}):d==="fitView"?u.setState({fitViewQueued:f}):d==="fitViewOptions"?u.setState({fitViewOptions:f}):u.setState({[d]:f})))}c.current=t},$H.map(d=>t[d])),null}function OH(){return typeof window>"u"||!window.matchMedia?null:window.matchMedia("(prefers-color-scheme: dark)")}function net(t){const[e,n]=x.useState(t==="system"?null:t);return x.useEffect(()=>{if(t!=="system"){n(t);return}const r=OH(),i=()=>n(r?.matches?"dark":"light");return i(),r?.addEventListener("change",i),()=>{r?.removeEventListener("change",i)}},[t]),e!==null?e:OH()?.matches?"dark":"light"}const jH=typeof document<"u"?document:null;function B3(t=null,e={target:jH,actInsideInputWithModifier:!0}){const[n,r]=x.useState(!1),i=x.useRef(!1),s=x.useRef(new Set([])),[o,a]=x.useMemo(()=>{if(t!==null){const u=(Array.isArray(t)?t:[t]).filter(d=>typeof d=="string").map(d=>d.replace("+",`
`).replace(`

`,`
+`).split(`
`)),c=u.reduce((d,f)=>d.concat(...f),[]);return[u,c]}return[[],[]]},[t]);return x.useEffect(()=>{const l=e?.target??jH,u=e?.actInsideInputWithModifier??!0;if(t!==null){const c=p=>{if(i.current=p.ctrlKey||p.metaKey||p.shiftKey||p.altKey,(!i.current||i.current&&!u)&&Ode(p))return!1;const v=UH(p.code,a);if(s.current.add(p[v]),QH(o,s.current,!1)){const y=p.composedPath?.()?.[0]||p.target,A=y?.nodeName==="BUTTON"||y?.nodeName==="A";e.preventDefault!==!1&&(i.current||!A)&&p.preventDefault(),r(!0)}},d=p=>{const m=UH(p.code,a);QH(o,s.current,!0)?(r(!1),s.current.clear()):s.current.delete(p[m]),p.key==="Meta"&&s.current.clear(),i.current=!1},f=()=>{s.current.clear(),r(!1)};return l?.addEventListener("keydown",c),l?.addEventListener("keyup",d),window.addEventListener("blur",f),window.addEventListener("contextmenu",f),()=>{l?.removeEventListener("keydown",c),l?.removeEventListener("keyup",d),window.removeEventListener("blur",f),window.removeEventListener("contextmenu",f)}}},[t,r]),n}function QH(t,e,n){return t.filter(r=>n||r.length===e.size).some(r=>r.every(i=>e.has(i)))}function UH(t,e){return e.includes(t)?"code":"key"}const ret=()=>{const t=bo();return x.useMemo(()=>({zoomIn:e=>{const{panZoom:n}=t.getState();return n?n.scaleBy(1.2,{duration:e?.duration}):Promise.resolve(!1)},zoomOut:e=>{const{panZoom:n}=t.getState();return n?n.scaleBy(1/1.2,{duration:e?.duration}):Promise.resolve(!1)},zoomTo:(e,n)=>{const{panZoom:r}=t.getState();return r?r.scaleTo(e,{duration:n?.duration}):Promise.resolve(!1)},getZoom:()=>t.getState().transform[2],setViewport:async(e,n)=>{const{transform:[r,i,s],panZoom:o}=t.getState();return o?(await o.setViewport({x:e.x??r,y:e.y??i,zoom:e.zoom??s},n),Promise.resolve(!0)):Promise.resolve(!1)},getViewport:()=>{const[e,n,r]=t.getState().transform;return{x:e,y:n,zoom:r}},setCenter:async(e,n,r)=>t.getState().setCenter(e,n,r),fitBounds:async(e,n)=>{const{width:r,height:i,minZoom:s,maxZoom:o,panZoom:a}=t.getState(),l=kz(e,r,i,s,o,n?.padding??.1);return a?(await a.setViewport(l,{duration:n?.duration,ease:n?.ease,interpolate:n?.interpolate}),Promise.resolve(!0)):Promise.resolve(!1)},screenToFlowPosition:(e,n={})=>{const{transform:r,snapGrid:i,snapToGrid:s,domNode:o}=t.getState();if(!o)return e;const{x:a,y:l}=o.getBoundingClientRect(),u={x:e.x-a,y:e.y-l},c=n.snapGrid??i,d=n.snapToGrid??s;return S4(u,r,d,c)},flowToScreenPosition:e=>{const{transform:n,domNode:r}=t.getState();if(!r)return e;const{x:i,y:s}=r.getBoundingClientRect(),o=VD(e,n);return{x:o.x+i,y:o.y+s}}}),[])};function lhe(t,e){const n=[],r=new Map,i=[];for(const s of t)if(s.type==="add"){i.push(s);continue}else if(s.type==="remove"||s.type==="replace")r.set(s.id,[s]);else{const o=r.get(s.id);o?o.push(s):r.set(s.id,[s])}for(const s of e){const o=r.get(s.id);if(!o){n.push(s);continue}if(o[0].type==="remove")continue;if(o[0].type==="replace"){n.push({...o[0].item});continue}const a={...s};for(const l of o)iet(l,a);n.push(a)}return i.length&&i.forEach(s=>{s.index!==void 0?n.splice(s.index,0,{...s.item}):n.push({...s.item})}),n}function iet(t,e){switch(t.type){case"select":{e.selected=t.selected;break}case"position":{typeof t.position<"u"&&(e.position=t.position),typeof t.dragging<"u"&&(e.dragging=t.dragging);break}case"dimensions":{typeof t.dimensions<"u"&&(e.measured={...t.dimensions},t.setAttributes&&((t.setAttributes===!0||t.setAttributes==="width")&&(e.width=t.dimensions.width),(t.setAttributes===!0||t.setAttributes==="height")&&(e.height=t.dimensions.height))),typeof t.resizing=="boolean"&&(e.resizing=t.resizing);break}}}function uhe(t,e){return lhe(t,e)}function che(t,e){return lhe(t,e)}function Gb(t,e){return{id:t,type:"select",selected:e}}function nE(t,e=new Set,n=!1){const r=[];for(const[i,s]of t){const o=e.has(i);!(s.selected===void 0&&!o)&&s.selected!==o&&(n&&(s.selected=o),r.push(Gb(s.id,o)))}return r}function HH({items:t=[],lookup:e}){const n=[],r=new Map(t.map(i=>[i.id,i]));for(const[i,s]of t.entries()){const o=e.get(s.id),a=o?.internals?.userNode??o;a!==void 0&&a!==s&&n.push({id:s.id,item:s,type:"replace"}),a===void 0&&n.push({item:s,type:"add",index:i})}for(const[i]of e)r.get(i)===void 0&&n.push({id:i,type:"remove"});return n}function VH(t){return{id:t.id,type:"remove"}}const GH=t=>TJe(t),set=t=>kde(t);function dhe(t){return x.forwardRef(t)}const oet=typeof window<"u"?x.useLayoutEffect:x.useEffect;function KH(t){const[e,n]=x.useState(BigInt(0)),[r]=x.useState(()=>aet(()=>n(i=>i+BigInt(1))));return oet(()=>{const i=r.get();i.length&&(t(i),r.reset())},[e]),r}function aet(t){let e=[];return{get:()=>e,reset:()=>{e=[]},push:n=>{e.push(n),t()}}}const hhe=x.createContext(null);function uet({children:t}){const e=bo(),n=x.useCallback(a=>{const{nodes:l=[],setNodes:u,hasDefaultNodes:c,onNodesChange:d,nodeLookup:f,fitViewQueued:p,onNodesChangeMiddlewareMap:m}=e.getState();let v=l;for(const A of a)v=typeof A=="function"?A(v):A;let y=HH({items:v,lookup:f});for(const A of m.values())y=A(y);c&&u(v),y.length>0?d?.(y):p&&window.requestAnimationFrame(()=>{const{fitViewQueued:A,nodes:C,setNodes:E}=e.getState();A&&E(C)})},[]),r=KH(n),i=x.useCallback(a=>{const{edges:l=[],setEdges:u,hasDefaultEdges:c,onEdgesChange:d,edgeLookup:f}=e.getState();let p=l;for(const m of a)p=typeof m=="function"?m(p):m;c?u(p):d&&d(HH({items:p,lookup:f}))},[]),s=KH(i),o=x.useMemo(()=>({nodeQueue:r,edgeQueue:s}),[]);return h.jsx(hhe.Provider,{value:o,children:t})}function cet(){const t=x.useContext(hhe);if(!t)throw new Error("useBatchContext must be used within a BatchProvider");return t}const det=t=>!!t.panZoom;function cM(){const t=ret(),e=bo(),n=cet(),r=Li(det),i=x.useMemo(()=>{const s=d=>e.getState().nodeLookup.get(d),o=d=>{n.nodeQueue.push(d)},a=d=>{n.edgeQueue.push(d)},l=d=>{const{nodeLookup:f,nodeOrigin:p}=e.getState(),m=GH(d)?d:f.get(d.id),v=m.parentId?$de(m.position,m.measured,m.parentId,f,p):m.position,y={...m,position:v,width:m.measured?.width??m.width,height:m.measured?.height??m.height};return OE(y)},u=(d,f,p={replace:!1})=>{o(m=>m.map(v=>{if(v.id===d){const y=typeof f=="function"?f(v):f;return p.replace&&GH(y)?y:{...v,...y}}return v}))},c=(d,f,p={replace:!1})=>{a(m=>m.map(v=>{if(v.id===d){const y=typeof f=="function"?f(v):f;return p.replace&&set(y)?y:{...v,...y}}return v}))};return{getNodes:()=>e.getState().nodes.map(d=>({...d})),getNode:d=>s(d)?.internals.userNode,getInternalNode:s,getEdges:()=>{const{edges:d=[]}=e.getState();return d.map(f=>({...f}))},getEdge:d=>e.getState().edgeLookup.get(d),setNodes:o,setEdges:a,addNodes:d=>{const f=Array.isArray(d)?d:[d];n.nodeQueue.push(p=>[...p,...f])},addEdges:d=>{const f=Array.isArray(d)?d:[d];n.edgeQueue.push(p=>[...p,...f])},toObject:()=>{const{nodes:d=[],edges:f=[],transform:p}=e.getState(),[m,v,y]=p;return{nodes:d.map(A=>({...A})),edges:f.map(A=>({...A})),viewport:{x:m,y:v,zoom:y}}},deleteElements:async({nodes:d=[],edges:f=[]})=>{const{nodes:p,edges:m,onNodesDelete:v,onEdgesDelete:y,triggerNodeChanges:A,triggerEdgeChanges:C,onDelete:E,onBeforeDelete:I}=e.getState(),{nodes:D,edges:T}=await NJe({nodesToRemove:d,edgesToRemove:f,nodes:p,edges:m,onBeforeDelete:I}),M=T.length>0,P=D.length>0;if(M){const k=T.map(VH);y?.(T),C(k)}if(P){const k=D.map(VH);v?.(D),A(k)}return(P||M)&&E?.({nodes:D,edges:T}),{deletedNodes:D,deletedEdges:T}},getIntersectingNodes:(d,f=!0,p)=>{const m=bH(d),v=m?d:l(d),y=p!==void 0;return v?(p||e.getState().nodes).filter(A=>{const C=e.getState().nodeLookup.get(A.id);if(C&&!m&&(A.id===d.id||!C.internals.positionAbsolute))return!1;const E=OE(y?A:C),I=_3(E,v);return f&&I>0||I>=E.width*E.height||I>=v.width*v.height}):[]},isNodeIntersecting:(d,f,p=!0)=>{const v=bH(d)?d:l(d);if(!v)return!1;const y=_3(v,f);return p&&y>0||y>=f.width*f.height||y>=v.width*v.height},updateNode:u,updateNodeData:(d,f,p={replace:!1})=>{u(d,m=>{const v=typeof f=="function"?f(m):f;return p.replace?{...m,data:v}:{...m,data:{...m.data,...v}}},p)},updateEdge:c,updateEdgeData:(d,f,p={replace:!1})=>{c(d,m=>{const v=typeof f=="function"?f(m):f;return p.replace?{...m,data:v}:{...m,data:{...m.data,...v}}},p)},getNodesBounds:d=>{const{nodeLookup:f,nodeOrigin:p}=e.getState();return MJe(d,{nodeLookup:f,nodeOrigin:p})},getHandleConnections:({type:d,id:f,nodeId:p})=>Array.from(e.getState().connectionLookup.get(`${p}-${d}${f?`-${f}`:""}`)?.values()??[]),getNodeConnections:({type:d,handleId:f,nodeId:p})=>Array.from(e.getState().connectionLookup.get(`${p}${d?f?`-${d}-${f}`:`-${d}`:""}`)?.values()??[]),fitView:async d=>{const f=e.getState().fitViewResolver??zJe();return e.setState({fitViewQueued:!0,fitViewOptions:d,fitViewResolver:f}),n.nodeQueue.push(p=>[...p]),f.promise}}},[]);return x.useMemo(()=>({...i,...t,viewportInitialized:r}),[r])}const WH=t=>t.selected,het=typeof window<"u"?window:void 0;function fet({deleteKeyCode:t,multiSelectionKeyCode:e}){const n=bo(),{deleteElements:r}=cM(),i=B3(t,{actInsideInputWithModifier:!1}),s=B3(e,{target:het});x.useEffect(()=>{if(i){const{edges:o,nodes:a}=n.getState();r({nodes:a.filter(WH),edges:o.filter(WH)}),n.setState({nodesSelectionActive:!1})}},[i]),x.useEffect(()=>{n.setState({multiSelectionActive:s})},[s])}function pet(t){const e=bo();x.useEffect(()=>{const n=()=>{if(!t.current||!(t.current.checkVisibility?.()??!0))return!1;const r=Pz(t.current);(r.height===0||r.width===0)&&e.getState().onError?.("004",am.error004()),e.setState({width:r.width||500,height:r.height||500})};if(t.current){n(),window.addEventListener("resize",n);const r=new ResizeObserver(()=>n());return r.observe(t.current),()=>{window.removeEventListener("resize",n),r&&t.current&&r.unobserve(t.current)}}},[])}const dM={position:"absolute",width:"100%",height:"100%",top:0,left:0},get=t=>({userSelectionActive:t.userSelectionActive,lib:t.lib,connectionInProgress:t.connection.inProgress});function met({onPaneContextMenu:t,zoomOnScroll:e=!0,zoomOnPinch:n=!0,panOnScroll:r=!1,panOnScrollSpeed:i=.5,panOnScrollMode:s=Bx.Free,zoomOnDoubleClick:o=!0,panOnDrag:a=!0,defaultViewport:l,translateExtent:u,minZoom:c,maxZoom:d,zoomActivationKeyCode:f,preventScrolling:p=!0,children:m,noWheelClassName:v,noPanClassName:y,onViewportChange:A,isControlledViewport:C,paneClickDistance:E,selectionOnDrag:I}){const D=bo(),T=x.useRef(null),{userSelectionActive:M,lib:P,connectionInProgress:k}=Li(get,Ao),L=B3(f),$=x.useRef();pet(T);const z=x.useCallback(j=>{A?.({x:j[0],y:j[1],zoom:j[2]}),C||D.setState({transform:j})},[A,C]);return x.useEffect(()=>{if(T.current){$.current=CZe({domNode:T.current,minZoom:c,maxZoom:d,translateExtent:u,viewport:l,onDraggingChange:O=>D.setState({paneDragging:O}),onPanZoomStart:(O,G)=>{const{onViewportChangeStart:q,onMoveStart:J}=D.getState();J?.(O,G),q?.(G)},onPanZoom:(O,G)=>{const{onViewportChange:q,onMove:J}=D.getState();J?.(O,G),q?.(G)},onPanZoomEnd:(O,G)=>{const{onViewportChangeEnd:q,onMoveEnd:J}=D.getState();J?.(O,G),q?.(G)}});const{x:j,y:H,zoom:W}=$.current.getViewport();return D.setState({panZoom:$.current,transform:[j,H,W],domNode:T.current.closest(".react-flow")}),()=>{$.current?.destroy()}}},[]),x.useEffect(()=>{$.current?.update({onPaneContextMenu:t,zoomOnScroll:e,zoomOnPinch:n,panOnScroll:r,panOnScrollSpeed:i,panOnScrollMode:s,zoomOnDoubleClick:o,panOnDrag:a,zoomActivationKeyPressed:L,preventScrolling:p,noPanClassName:y,userSelectionActive:M,noWheelClassName:v,lib:P,onTransformChange:z,connectionInProgress:k,selectionOnDrag:I,paneClickDistance:E})},[t,e,n,r,i,s,o,a,L,p,y,M,v,P,z,k,I,E]),h.jsx("div",{className:"react-flow__renderer",ref:T,style:dM,children:m})}const Aet=t=>({userSelectionActive:t.userSelectionActive,userSelectionRect:t.userSelectionRect});function yet(){const{userSelectionActive:t,userSelectionRect:e}=Li(Aet,Ao);return t&&e?h.jsx("div",{className:"react-flow__selection react-flow__container",style:{width:e.width,height:e.height,transform:`translate(${e.x}px, ${e.y}px)`}}):null}const MP=(t,e)=>n=>{n.target===e.current&&t?.(n)},vet=t=>({userSelectionActive:t.userSelectionActive,elementsSelectable:t.elementsSelectable,connectionInProgress:t.connection.inProgress,dragging:t.paneDragging});function bet({isSelecting:t,selectionKeyPressed:e,selectionMode:n=w3.Full,panOnDrag:r,paneClickDistance:i,selectionOnDrag:s,onSelectionStart:o,onSelectionEnd:a,onPaneClick:l,onPaneContextMenu:u,onPaneScroll:c,onPaneMouseEnter:d,onPaneMouseMove:f,onPaneMouseLeave:p,children:m}){const v=bo(),{userSelectionActive:y,elementsSelectable:A,dragging:C,connectionInProgress:E}=Li(vet,Ao),I=A&&(t||y),D=x.useRef(null),T=x.useRef(),M=x.useRef(new Set),P=x.useRef(new Set),k=x.useRef(!1),L=q=>{if(k.current||E){k.current=!1;return}l?.(q),v.getState().resetSelectedElements(),v.setState({nodesSelectionActive:!1})},$=q=>{if(Array.isArray(r)&&r?.includes(2)){q.preventDefault();return}u?.(q)},z=c?q=>c(q):void 0,j=q=>{k.current&&(q.stopPropagation(),k.current=!1)},H=q=>{const{domNode:J}=v.getState();if(T.current=J?.getBoundingClientRect(),!T.current)return;const te=q.target===D.current;if(!te&&!!q.target.closest(".nokey")||!t||!(s&&te||e)||q.button!==0||!q.isPrimary)return;q.target?.setPointerCapture?.(q.pointerId),k.current=!1;const{x:ee,y:ie}=Rp(q.nativeEvent,T.current);v.setState({userSelectionRect:{width:0,height:0,startX:ee,startY:ie,x:ee,y:ie}}),te||(q.stopPropagation(),q.preventDefault())},W=q=>{const{userSelectionRect:J,transform:te,nodeLookup:Y,edgeLookup:Z,connectionLookup:ee,triggerNodeChanges:ie,triggerEdgeChanges:ue,defaultEdgeOptions:ae,resetSelectedElements:de}=v.getState();if(!T.current||!J)return;const{x:ge,y:_e}=Rp(q.nativeEvent,T.current),{startX:we,startY:ke}=J;if(!k.current){const Ge=e?0:i;if(Math.hypot(ge-we,_e-ke)<=Ge)return;de(),o?.(q)}k.current=!0;const Fe={startX:we,startY:ke,x:ge<we?ge:we,y:_e<ke?_e:ke,width:Math.abs(ge-we),height:Math.abs(_e-ke)},Ee=M.current,Me=P.current;M.current=new Set(Mz(Y,Fe,te,n===w3.Partial,!0).map(Ge=>Ge.id)),P.current=new Set;const Ue=ae?.selectable??!0;for(const Ge of M.current){const ut=ee.get(Ge);if(ut)for(const{edgeId:ve}of ut.values()){const $e=Z.get(ve);$e&&($e.selectable??Ue)&&P.current.add(ve)}}if(!xH(Ee,M.current)){const Ge=nE(Y,M.current,!0);ie(Ge)}if(!xH(Me,P.current)){const Ge=nE(Z,P.current);ue(Ge)}v.setState({userSelectionRect:Fe,userSelectionActive:!0,nodesSelectionActive:!1})},O=q=>{q.button===0&&(q.target?.releasePointerCapture?.(q.pointerId),!y&&q.target===D.current&&v.getState().userSelectionRect&&L?.(q),v.setState({userSelectionActive:!1,userSelectionRect:null}),k.current&&(a?.(q),v.setState({nodesSelectionActive:M.current.size>0})))},G=r===!0||Array.isArray(r)&&r.includes(0);return h.jsxs("div",{className:Qa(["react-flow__pane",{draggable:G,dragging:C,selection:t}]),onClick:I?void 0:MP(L,D),onContextMenu:MP($,D),onWheel:MP(z,D),onPointerEnter:I?void 0:d,onPointerMove:I?W:f,onPointerUp:I?O:void 0,onPointerDownCapture:I?H:void 0,onClickCapture:I?j:void 0,onPointerLeave:p,ref:D,style:dM,children:[m,h.jsx(yet,{})]})}function wL({id:t,store:e,unselect:n=!1,nodeRef:r}){const{addSelectedNodes:i,unselectNodesAndEdges:s,multiSelectionActive:o,nodeLookup:a,onError:l}=e.getState(),u=a.get(t);if(!u){l?.("012",am.error012(t));return}e.setState({nodesSelectionActive:!1}),u.selected?(n||u.selected&&o)&&(s({nodes:[u],edges:[]}),requestAnimationFrame(()=>r?.current?.blur())):i([t])}function fhe({nodeRef:t,disabled:e=!1,noDragClassName:n,handleSelector:r,nodeId:i,isSelectable:s,nodeClickDistance:o}){const a=bo(),[l,u]=x.useState(!1),c=x.useRef();return x.useEffect(()=>{c.current=lZe({getStoreItems:()=>a.getState(),onNodeMouseDown:d=>{wL({id:d,store:a,nodeRef:t})},onDragStart:()=>{u(!0)},onDragStop:()=>{u(!1)}})},[]),x.useEffect(()=>{if(e)c.current?.destroy();else if(t.current)return c.current?.update({noDragClassName:n,handleSelector:r,domNode:t.current,isSelectable:s,nodeId:i,nodeClickDistance:o}),()=>{c.current?.destroy()}},[n,r,e,s,t,i]),l}const xet=t=>e=>e.selected&&(e.draggable||t&&typeof e.draggable>"u");function phe(){const t=bo();return x.useCallback(n=>{const{nodeExtent:r,snapToGrid:i,snapGrid:s,nodesDraggable:o,onError:a,updateNodePositions:l,nodeLookup:u,nodeOrigin:c}=t.getState(),d=new Map,f=xet(o),p=i?s[0]:5,m=i?s[1]:5,v=n.direction.x*p*n.factor,y=n.direction.y*m*n.factor;for(const[,A]of u){if(!f(A))continue;let C={x:A.internals.positionAbsolute.x+v,y:A.internals.positionAbsolute.y+y};i&&(C=E4(C,s));const{position:E,positionAbsolute:I}=Pde({nodeId:A.id,nextPosition:C,nodeLookup:u,nodeExtent:r,nodeOrigin:c,onError:a});A.position=E,A.internals.positionAbsolute=I,d.set(A.id,A)}l(d)},[])}const zz=x.createContext(null),Cet=zz.Provider;zz.Consumer;const ghe=()=>x.useContext(zz),Eet=t=>({connectOnClick:t.connectOnClick,noPanClassName:t.noPanClassName,rfId:t.rfId}),wet=(t,e,n)=>r=>{const{connectionClickStartHandle:i,connectionMode:s,connection:o}=r,{fromHandle:a,toHandle:l,isValid:u}=o,c=l?.nodeId===t&&l?.id===e&&l?.type===n;return{connectingFrom:a?.nodeId===t&&a?.id===e&&a?.type===n,connectingTo:c,clickConnecting:i?.nodeId===t&&i?.id===e&&i?.type===n,isPossibleEndHandle:s===FE.Strict?a?.type!==n:t!==a?.nodeId||e!==a?.id,connectionInProcess:!!a,clickConnectionInProcess:!!i,valid:c&&u}};function _et({type:t="source",position:e=zn.Top,isValidConnection:n,isConnectable:r=!0,isConnectableStart:i=!0,isConnectableEnd:s=!0,id:o,onConnect:a,children:l,className:u,onMouseDown:c,onTouchStart:d,...f},p){const m=o||null,v=t==="target",y=bo(),A=ghe(),{connectOnClick:C,noPanClassName:E,rfId:I}=Li(Eet,Ao),{connectingFrom:D,connectingTo:T,clickConnecting:M,isPossibleEndHandle:P,connectionInProcess:k,clickConnectionInProcess:L,valid:$}=Li(wet(A,m,t),Ao);A||y.getState().onError?.("010",am.error010());const z=W=>{const{defaultEdgeOptions:O,onConnect:G,hasDefaultEdges:q}=y.getState(),J={...O,...W};if(q){const{edges:te,setEdges:Y}=y.getState();Y(GJe(J,te))}G?.(J),a?.(J)},j=W=>{if(!A)return;const O=jde(W.nativeEvent);if(i&&(O&&W.button===0||!O)){const G=y.getState();SL.onPointerDown(W.nativeEvent,{handleDomNode:W.currentTarget,autoPanOnConnect:G.autoPanOnConnect,connectionMode:G.connectionMode,connectionRadius:G.connectionRadius,domNode:G.domNode,nodeLookup:G.nodeLookup,lib:G.lib,isTarget:v,handleId:m,nodeId:A,flowId:G.rfId,panBy:G.panBy,cancelConnection:G.cancelConnection,onConnectStart:G.onConnectStart,onConnectEnd:G.onConnectEnd,updateConnection:G.updateConnection,onConnect:z,isValidConnection:n||G.isValidConnection,getTransform:()=>y.getState().transform,getFromHandle:()=>y.getState().connection.fromHandle,autoPanSpeed:G.autoPanSpeed,dragThreshold:G.connectionDragThreshold})}O?c?.(W):d?.(W)},H=W=>{const{onClickConnectStart:O,onClickConnectEnd:G,connectionClickStartHandle:q,connectionMode:J,isValidConnection:te,lib:Y,rfId:Z,nodeLookup:ee,connection:ie}=y.getState();if(!A||!q&&!i)return;if(!q){O?.(W.nativeEvent,{nodeId:A,handleId:m,handleType:t}),y.setState({connectionClickStartHandle:{nodeId:A,type:t,id:m}});return}const ue=zde(W.target),ae=n||te,{connection:de,isValid:ge}=SL.isValid(W.nativeEvent,{handle:{nodeId:A,id:m,type:t},connectionMode:J,fromNodeId:q.nodeId,fromHandleId:q.id||null,fromType:q.type,isValidConnection:ae,flowId:Z,doc:ue,lib:Y,nodeLookup:ee});ge&&de&&z(de);const _e=structuredClone(ie);delete _e.inProgress,_e.toPosition=_e.toHandle?_e.toHandle.position:null,G?.(W,_e),y.setState({connectionClickStartHandle:null})};return h.jsx("div",{"data-handleid":m,"data-nodeid":A,"data-handlepos":e,"data-id":`${I}-${A}-${m}-${t}`,className:Qa(["react-flow__handle",`react-flow__handle-${e}`,"nodrag",E,u,{source:!v,target:v,connectable:r,connectablestart:i,connectableend:s,clickconnecting:M,connectingfrom:D,connectingto:T,valid:$,connectionindicator:r&&(!k||P)&&(k||L?s:i)}]),onMouseDown:j,onTouchStart:j,onClick:C?H:void 0,ref:p,...f,children:l})}const H0=x.memo(dhe(_et));function Iet({data:t,isConnectable:e,sourcePosition:n=zn.Bottom}){return h.jsxs(h.Fragment,{children:[t?.label,h.jsx(H0,{type:"source",position:n,isConnectable:e})]})}function Bet({data:t,isConnectable:e,targetPosition:n=zn.Top,sourcePosition:r=zn.Bottom}){return h.jsxs(h.Fragment,{children:[h.jsx(H0,{type:"target",position:n,isConnectable:e}),t?.label,h.jsx(H0,{type:"source",position:r,isConnectable:e})]})}function Det(){return null}function Tet({data:t,isConnectable:e,targetPosition:n=zn.Top}){return h.jsxs(h.Fragment,{children:[h.jsx(H0,{type:"target",position:n,isConnectable:e}),t?.label]})}const GD={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}},qH={input:Iet,default:Bet,output:Tet,group:Det};function Met(t){return t.internals.handleBounds===void 0?{width:t.width??t.initialWidth??t.style?.width,height:t.height??t.initialHeight??t.style?.height}:{width:t.width??t.style?.width,height:t.height??t.style?.height}}const ket=t=>{const{width:e,height:n,x:r,y:i}=C4(t.nodeLookup,{filter:s=>!!s.selected});return{width:Pp(e)?e:null,height:Pp(n)?n:null,userSelectionActive:t.userSelectionActive,transformString:`translate(${t.transform[0]}px,${t.transform[1]}px) scale(${t.transform[2]}) translate(${r}px,${i}px)`}};function Pet({onSelectionContextMenu:t,noPanClassName:e,disableKeyboardA11y:n}){const r=bo(),{width:i,height:s,transformString:o,userSelectionActive:a}=Li(ket,Ao),l=phe(),u=x.useRef(null);if(x.useEffect(()=>{n||u.current?.focus({preventScroll:!0})},[n]),fhe({nodeRef:u}),a||!i||!s)return null;const c=t?f=>{const p=r.getState().nodes.filter(m=>m.selected);t(f,p)}:void 0,d=f=>{Object.prototype.hasOwnProperty.call(GD,f.key)&&(f.preventDefault(),l({direction:GD[f.key],factor:f.shiftKey?4:1}))};return h.jsx("div",{className:Qa(["react-flow__nodesselection","react-flow__container",e]),style:{transform:o},children:h.jsx("div",{ref:u,className:"react-flow__nodesselection-rect",onContextMenu:c,tabIndex:n?void 0:-1,onKeyDown:n?void 0:d,style:{width:i,height:s}})})}const YH=typeof window<"u"?window:void 0,Ret=t=>({nodesSelectionActive:t.nodesSelectionActive,userSelectionActive:t.userSelectionActive});function mhe({children:t,onPaneClick:e,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:i,onPaneContextMenu:s,onPaneScroll:o,paneClickDistance:a,deleteKeyCode:l,selectionKeyCode:u,selectionOnDrag:c,selectionMode:d,onSelectionStart:f,onSelectionEnd:p,multiSelectionKeyCode:m,panActivationKeyCode:v,zoomActivationKeyCode:y,elementsSelectable:A,zoomOnScroll:C,zoomOnPinch:E,panOnScroll:I,panOnScrollSpeed:D,panOnScrollMode:T,zoomOnDoubleClick:M,panOnDrag:P,defaultViewport:k,translateExtent:L,minZoom:$,maxZoom:z,preventScrolling:j,onSelectionContextMenu:H,noWheelClassName:W,noPanClassName:O,disableKeyboardA11y:G,onViewportChange:q,isControlledViewport:J}){const{nodesSelectionActive:te,userSelectionActive:Y}=Li(Ret,Ao),Z=B3(u,{target:YH}),ee=B3(v,{target:YH}),ie=ee||P,ue=ee||I,ae=c&&ie!==!0,de=Z||Y||ae;return fet({deleteKeyCode:l,multiSelectionKeyCode:m}),h.jsx(met,{onPaneContextMenu:s,elementsSelectable:A,zoomOnScroll:C,zoomOnPinch:E,panOnScroll:ue,panOnScrollSpeed:D,panOnScrollMode:T,zoomOnDoubleClick:M,panOnDrag:!Z&&ie,defaultViewport:k,translateExtent:L,minZoom:$,maxZoom:z,zoomActivationKeyCode:y,preventScrolling:j,noWheelClassName:W,noPanClassName:O,onViewportChange:q,isControlledViewport:J,paneClickDistance:a,selectionOnDrag:ae,children:h.jsxs(bet,{onSelectionStart:f,onSelectionEnd:p,onPaneClick:e,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:i,onPaneContextMenu:s,onPaneScroll:o,panOnDrag:ie,isSelecting:!!de,selectionMode:d,selectionKeyPressed:Z,paneClickDistance:a,selectionOnDrag:ae,children:[t,te&&h.jsx(Pet,{onSelectionContextMenu:H,noPanClassName:O,disableKeyboardA11y:G})]})})}mhe.displayName="FlowRenderer";const Net=x.memo(mhe),Let=t=>e=>t?Mz(e.nodeLookup,{x:0,y:0,width:e.width,height:e.height},e.transform,!0).map(n=>n.id):Array.from(e.nodeLookup.keys());function Fet(t){return Li(x.useCallback(Let(t),[t]),Ao)}const $et=t=>t.updateNodeInternals;function zet(){const t=Li($et),[e]=x.useState(()=>typeof ResizeObserver>"u"?null:new ResizeObserver(n=>{const r=new Map;n.forEach(i=>{const s=i.target.getAttribute("data-id");r.set(s,{id:s,nodeElement:i.target,force:!0})}),t(r)}));return x.useEffect(()=>()=>{e?.disconnect()},[e]),e}function Oet({node:t,nodeType:e,hasDimensions:n,resizeObserver:r}){const i=bo(),s=x.useRef(null),o=x.useRef(null),a=x.useRef(t.sourcePosition),l=x.useRef(t.targetPosition),u=x.useRef(e),c=n&&!!t.internals.handleBounds;return x.useEffect(()=>{s.current&&!t.hidden&&(!c||o.current!==s.current)&&(o.current&&r?.unobserve(o.current),r?.observe(s.current),o.current=s.current)},[c,t.hidden]),x.useEffect(()=>()=>{o.current&&(r?.unobserve(o.current),o.current=null)},[]),x.useEffect(()=>{if(s.current){const d=u.current!==e,f=a.current!==t.sourcePosition,p=l.current!==t.targetPosition;(d||f||p)&&(u.current=e,a.current=t.sourcePosition,l.current=t.targetPosition,i.getState().updateNodeInternals(new Map([[t.id,{id:t.id,nodeElement:s.current,force:!0}]])))}},[t.id,e,t.sourcePosition,t.targetPosition]),s}function jet({id:t,onClick:e,onMouseEnter:n,onMouseMove:r,onMouseLeave:i,onContextMenu:s,onDoubleClick:o,nodesDraggable:a,elementsSelectable:l,nodesConnectable:u,nodesFocusable:c,resizeObserver:d,noDragClassName:f,noPanClassName:p,disableKeyboardA11y:m,rfId:v,nodeTypes:y,nodeClickDistance:A,onError:C}){const{node:E,internals:I,isParent:D}=Li(ge=>{const _e=ge.nodeLookup.get(t),we=ge.parentLookup.has(t);return{node:_e,internals:_e.internals,isParent:we}},Ao);let T=E.type||"default",M=y?.[T]||qH[T];M===void 0&&(C?.("003",am.error003(T)),T="default",M=y?.default||qH.default);const P=!!(E.draggable||a&&typeof E.draggable>"u"),k=!!(E.selectable||l&&typeof E.selectable>"u"),L=!!(E.connectable||u&&typeof E.connectable>"u"),$=!!(E.focusable||c&&typeof E.focusable>"u"),z=bo(),j=Fde(E),H=Oet({node:E,nodeType:T,hasDimensions:j,resizeObserver:d}),W=fhe({nodeRef:H,disabled:E.hidden||!P,noDragClassName:f,handleSelector:E.dragHandle,nodeId:t,isSelectable:k,nodeClickDistance:A}),O=phe();if(E.hidden)return null;const G=eA(E),q=Met(E),J=k||P||e||n||r||i,te=n?ge=>n(ge,{...I.userNode}):void 0,Y=r?ge=>r(ge,{...I.userNode}):void 0,Z=i?ge=>i(ge,{...I.userNode}):void 0,ee=s?ge=>s(ge,{...I.userNode}):void 0,ie=o?ge=>o(ge,{...I.userNode}):void 0,ue=ge=>{const{selectNodesOnDrag:_e,nodeDragThreshold:we}=z.getState();k&&(!_e||!P||we>0)&&wL({id:t,store:z,nodeRef:H}),e&&e(ge,{...I.userNode})},ae=ge=>{if(!(Ode(ge.nativeEvent)||m)){if(Bde.includes(ge.key)&&k){const _e=ge.key==="Escape";wL({id:t,store:z,unselect:_e,nodeRef:H})}else if(P&&E.selected&&Object.prototype.hasOwnProperty.call(GD,ge.key)){ge.preventDefault();const{ariaLabelConfig:_e}=z.getState();z.setState({ariaLiveMessage:_e["node.a11yDescription.ariaLiveMessage"]({direction:ge.key.replace("Arrow","").toLowerCase(),x:~~I.positionAbsolute.x,y:~~I.positionAbsolute.y})}),O({direction:GD[ge.key],factor:ge.shiftKey?4:1})}}},de=()=>{if(m||!H.current?.matches(":focus-visible"))return;const{transform:ge,width:_e,height:we,autoPanOnNodeFocus:ke,setCenter:Fe}=z.getState();if(!ke)return;Mz(new Map([[t,E]]),{x:0,y:0,width:_e,height:we},ge,!0).length>0||Fe(E.position.x+G.width/2,E.position.y+G.height/2,{zoom:ge[2]})};return h.jsx("div",{className:Qa(["react-flow__node",`react-flow__node-${T}`,{[p]:P},E.className,{selected:E.selected,selectable:k,parent:D,draggable:P,dragging:W}]),ref:H,style:{zIndex:I.z,transform:`translate(${I.positionAbsolute.x}px,${I.positionAbsolute.y}px)`,pointerEvents:J?"all":"none",visibility:j?"visible":"hidden",...E.style,...q},"data-id":t,"data-testid":`rf__node-${t}`,onMouseEnter:te,onMouseMove:Y,onMouseLeave:Z,onContextMenu:ee,onClick:ue,onDoubleClick:ie,onKeyDown:$?ae:void 0,tabIndex:$?0:void 0,onFocus:$?de:void 0,role:E.ariaRole??($?"group":void 0),"aria-roledescription":"node","aria-describedby":m?void 0:`${she}-${v}`,"aria-label":E.ariaLabel,...E.domAttributes,children:h.jsx(Cet,{value:t,children:h.jsx(M,{id:t,data:E.data,type:T,positionAbsoluteX:I.positionAbsolute.x,positionAbsoluteY:I.positionAbsolute.y,selected:E.selected??!1,selectable:k,draggable:P,deletable:E.deletable??!0,isConnectable:L,sourcePosition:E.sourcePosition,targetPosition:E.targetPosition,dragging:W,dragHandle:E.dragHandle,zIndex:I.z,parentId:E.parentId,...G})})})}var Qet=x.memo(jet);const Uet=t=>({nodesDraggable:t.nodesDraggable,nodesConnectable:t.nodesConnectable,nodesFocusable:t.nodesFocusable,elementsSelectable:t.elementsSelectable,onError:t.onError});function Ahe(t){const{nodesDraggable:e,nodesConnectable:n,nodesFocusable:r,elementsSelectable:i,onError:s}=Li(Uet,Ao),o=Fet(t.onlyRenderVisibleElements),a=zet();return h.jsx("div",{className:"react-flow__nodes",style:dM,children:o.map(l=>h.jsx(Qet,{id:l,nodeTypes:t.nodeTypes,nodeExtent:t.nodeExtent,onClick:t.onNodeClick,onMouseEnter:t.onNodeMouseEnter,onMouseMove:t.onNodeMouseMove,onMouseLeave:t.onNodeMouseLeave,onContextMenu:t.onNodeContextMenu,onDoubleClick:t.onNodeDoubleClick,noDragClassName:t.noDragClassName,noPanClassName:t.noPanClassName,rfId:t.rfId,disableKeyboardA11y:t.disableKeyboardA11y,resizeObserver:a,nodesDraggable:e,nodesConnectable:n,nodesFocusable:r,elementsSelectable:i,nodeClickDistance:t.nodeClickDistance,onError:s},l))})}Ahe.displayName="NodeRenderer";const Het=x.memo(Ahe);function Vet(t){return Li(x.useCallback(n=>{if(!t)return n.edges.map(i=>i.id);const r=[];if(n.width&&n.height)for(const i of n.edges){const s=n.nodeLookup.get(i.source),o=n.nodeLookup.get(i.target);s&&o&&UJe({sourceNode:s,targetNode:o,width:n.width,height:n.height,transform:n.transform})&&r.push(i.id)}return r},[t]),Ao)}const Get=({color:t="none",strokeWidth:e=1})=>{const n={strokeWidth:e,...t&&{stroke:t}};return h.jsx("polyline",{className:"arrow",style:n,strokeLinecap:"round",fill:"none",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4"})},Ket=({color:t="none",strokeWidth:e=1})=>{const n={strokeWidth:e,...t&&{stroke:t,fill:t}};return h.jsx("polyline",{className:"arrowclosed",style:n,strokeLinecap:"round",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4 -5,-4"})},XH={[$E.Arrow]:Get,[$E.ArrowClosed]:Ket};function Wet(t){const e=bo();return x.useMemo(()=>Object.prototype.hasOwnProperty.call(XH,t)?XH[t]:(e.getState().onError?.("009",am.error009(t)),null),[t])}const qet=({id:t,type:e,color:n,width:r=12.5,height:i=12.5,markerUnits:s="strokeWidth",strokeWidth:o,orient:a="auto-start-reverse"})=>{const l=Wet(e);return l?h.jsx("marker",{className:"react-flow__arrowhead",id:t,markerWidth:`${r}`,markerHeight:`${i}`,viewBox:"-10 -10 20 20",markerUnits:s,orient:a,refX:"0",refY:"0",children:h.jsx(l,{color:n,strokeWidth:o})}):null},yhe=({defaultColor:t,rfId:e})=>{const n=Li(s=>s.edges),r=Li(s=>s.defaultEdgeOptions),i=x.useMemo(()=>XJe(n,{id:e,defaultColor:t,defaultMarkerStart:r?.markerStart,defaultMarkerEnd:r?.markerEnd}),[n,r,e,t]);return i.length?h.jsx("svg",{className:"react-flow__marker","aria-hidden":"true",children:h.jsx("defs",{children:i.map(s=>h.jsx(qet,{id:s.id,type:s.type,color:s.color,width:s.width,height:s.height,markerUnits:s.markerUnits,strokeWidth:s.strokeWidth,orient:s.orient},s.id))})}):null};yhe.displayName="MarkerDefinitions";var Yet=x.memo(yhe);function vhe({x:t,y:e,label:n,labelStyle:r,labelShowBg:i=!0,labelBgStyle:s,labelBgPadding:o=[2,4],labelBgBorderRadius:a=2,children:l,className:u,...c}){const[d,f]=x.useState({x:1,y:0,width:0,height:0}),p=Qa(["react-flow__edge-textwrapper",u]),m=x.useRef(null);return x.useEffect(()=>{if(m.current){const v=m.current.getBBox();f({x:v.x,y:v.y,width:v.width,height:v.height})}},[n]),n?h.jsxs("g",{transform:`translate(${t-d.width/2} ${e-d.height/2})`,className:p,visibility:d.width?"visible":"hidden",...c,children:[i&&h.jsx("rect",{width:d.width+2*o[0],x:-o[0],y:-o[1],height:d.height+2*o[1],className:"react-flow__edge-textbg",style:s,rx:a,ry:a}),h.jsx("text",{className:"react-flow__edge-text",y:d.height/2,dy:"0.3em",ref:m,style:r,children:n}),l]}):null}vhe.displayName="EdgeText";const Xet=x.memo(vhe);function hM({path:t,labelX:e,labelY:n,label:r,labelStyle:i,labelShowBg:s,labelBgStyle:o,labelBgPadding:a,labelBgBorderRadius:l,interactionWidth:u=20,...c}){return h.jsxs(h.Fragment,{children:[h.jsx("path",{...c,d:t,fill:"none",className:Qa(["react-flow__edge-path",c.className])}),u?h.jsx("path",{d:t,fill:"none",strokeOpacity:0,strokeWidth:u,className:"react-flow__edge-interaction"}):null,r&&Pp(e)&&Pp(n)?h.jsx(Xet,{x:e,y:n,label:r,labelStyle:i,labelShowBg:s,labelBgStyle:o,labelBgPadding:a,labelBgBorderRadius:l}):null]})}function JH({pos:t,x1:e,y1:n,x2:r,y2:i}){return t===zn.Left||t===zn.Right?[.5*(e+r),n]:[e,.5*(n+i)]}function bhe({sourceX:t,sourceY:e,sourcePosition:n=zn.Bottom,targetX:r,targetY:i,targetPosition:s=zn.Top}){const[o,a]=JH({pos:n,x1:t,y1:e,x2:r,y2:i}),[l,u]=JH({pos:s,x1:r,y1:i,x2:t,y2:e}),[c,d,f,p]=Qde({sourceX:t,sourceY:e,targetX:r,targetY:i,sourceControlX:o,sourceControlY:a,targetControlX:l,targetControlY:u});return[`M${t},${e} C${o},${a} ${l},${u} ${r},${i}`,c,d,f,p]}function xhe(t){return x.memo(({id:e,sourceX:n,sourceY:r,targetX:i,targetY:s,sourcePosition:o,targetPosition:a,label:l,labelStyle:u,labelShowBg:c,labelBgStyle:d,labelBgPadding:f,labelBgBorderRadius:p,style:m,markerEnd:v,markerStart:y,interactionWidth:A})=>{const[C,E,I]=bhe({sourceX:n,sourceY:r,sourcePosition:o,targetX:i,targetY:s,targetPosition:a}),D=t.isInternal?void 0:e;return h.jsx(hM,{id:D,path:C,labelX:E,labelY:I,label:l,labelStyle:u,labelShowBg:c,labelBgStyle:d,labelBgPadding:f,labelBgBorderRadius:p,style:m,markerEnd:v,markerStart:y,interactionWidth:A})})}const Jet=xhe({isInternal:!1}),Che=xhe({isInternal:!0});Jet.displayName="SimpleBezierEdge";Che.displayName="SimpleBezierEdgeInternal";function Ehe(t){return x.memo(({id:e,sourceX:n,sourceY:r,targetX:i,targetY:s,label:o,labelStyle:a,labelShowBg:l,labelBgStyle:u,labelBgPadding:c,labelBgBorderRadius:d,style:f,sourcePosition:p=zn.Bottom,targetPosition:m=zn.Top,markerEnd:v,markerStart:y,pathOptions:A,interactionWidth:C})=>{const[E,I,D]=xL({sourceX:n,sourceY:r,sourcePosition:p,targetX:i,targetY:s,targetPosition:m,borderRadius:A?.borderRadius,offset:A?.offset,stepPosition:A?.stepPosition}),T=t.isInternal?void 0:e;return h.jsx(hM,{id:T,path:E,labelX:I,labelY:D,label:o,labelStyle:a,labelShowBg:l,labelBgStyle:u,labelBgPadding:c,labelBgBorderRadius:d,style:f,markerEnd:v,markerStart:y,interactionWidth:C})})}const She=Ehe({isInternal:!1}),whe=Ehe({isInternal:!0});She.displayName="SmoothStepEdge";whe.displayName="SmoothStepEdgeInternal";function _he(t){return x.memo(({id:e,...n})=>{const r=t.isInternal?void 0:e;return h.jsx(She,{...n,id:r,pathOptions:x.useMemo(()=>({borderRadius:0,offset:n.pathOptions?.offset}),[n.pathOptions?.offset])})})}const Zet=_he({isInternal:!1}),Ihe=_he({isInternal:!0});Zet.displayName="StepEdge";Ihe.displayName="StepEdgeInternal";function Bhe(t){return x.memo(({id:e,sourceX:n,sourceY:r,targetX:i,targetY:s,label:o,labelStyle:a,labelShowBg:l,labelBgStyle:u,labelBgPadding:c,labelBgBorderRadius:d,style:f,markerEnd:p,markerStart:m,interactionWidth:v})=>{const[y,A,C]=Vde({sourceX:n,sourceY:r,targetX:i,targetY:s}),E=t.isInternal?void 0:e;return h.jsx(hM,{id:E,path:y,labelX:A,labelY:C,label:o,labelStyle:a,labelShowBg:l,labelBgStyle:u,labelBgPadding:c,labelBgBorderRadius:d,style:f,markerEnd:p,markerStart:m,interactionWidth:v})})}const ett=Bhe({isInternal:!1}),Dhe=Bhe({isInternal:!0});ett.displayName="StraightEdge";Dhe.displayName="StraightEdgeInternal";function The(t){return x.memo(({id:e,sourceX:n,sourceY:r,targetX:i,targetY:s,sourcePosition:o=zn.Bottom,targetPosition:a=zn.Top,label:l,labelStyle:u,labelShowBg:c,labelBgStyle:d,labelBgPadding:f,labelBgBorderRadius:p,style:m,markerEnd:v,markerStart:y,pathOptions:A,interactionWidth:C})=>{const[E,I,D]=Ude({sourceX:n,sourceY:r,sourcePosition:o,targetX:i,targetY:s,targetPosition:a,curvature:A?.curvature}),T=t.isInternal?void 0:e;return h.jsx(hM,{id:T,path:E,labelX:I,labelY:D,label:l,labelStyle:u,labelShowBg:c,labelBgStyle:d,labelBgPadding:f,labelBgBorderRadius:p,style:m,markerEnd:v,markerStart:y,interactionWidth:C})})}const ttt=The({isInternal:!1}),Mhe=The({isInternal:!0});ttt.displayName="BezierEdge";Mhe.displayName="BezierEdgeInternal";const ZH={default:Mhe,straight:Dhe,step:Ihe,smoothstep:whe,simplebezier:Che},eV={sourceX:null,sourceY:null,targetX:null,targetY:null,sourcePosition:null,targetPosition:null},ntt=(t,e,n)=>n===zn.Left?t-e:n===zn.Right?t+e:t,rtt=(t,e,n)=>n===zn.Top?t-e:n===zn.Bottom?t+e:t,tV="react-flow__edgeupdater";function nV({position:t,centerX:e,centerY:n,radius:r=10,onMouseDown:i,onMouseEnter:s,onMouseOut:o,type:a}){return h.jsx("circle",{onMouseDown:i,onMouseEnter:s,onMouseOut:o,className:Qa([tV,`${tV}-${a}`]),cx:ntt(e,r,t),cy:rtt(n,r,t),r,stroke:"transparent",fill:"transparent"})}function itt({isReconnectable:t,reconnectRadius:e,edge:n,sourceX:r,sourceY:i,targetX:s,targetY:o,sourcePosition:a,targetPosition:l,onReconnect:u,onReconnectStart:c,onReconnectEnd:d,setReconnecting:f,setUpdateHover:p}){const m=bo(),v=(I,D)=>{if(I.button!==0)return;const{autoPanOnConnect:T,domNode:M,isValidConnection:P,connectionMode:k,connectionRadius:L,lib:$,onConnectStart:z,onConnectEnd:j,cancelConnection:H,nodeLookup:W,rfId:O,panBy:G,updateConnection:q}=m.getState(),J=D.type==="target",te=(ee,ie)=>{f(!1),d?.(ee,n,D.type,ie)},Y=ee=>u?.(n,ee),Z=(ee,ie)=>{f(!0),c?.(I,n,D.type),z?.(ee,ie)};SL.onPointerDown(I.nativeEvent,{autoPanOnConnect:T,connectionMode:k,connectionRadius:L,domNode:M,handleId:D.id,nodeId:D.nodeId,nodeLookup:W,isTarget:J,edgeUpdaterType:D.type,lib:$,flowId:O,cancelConnection:H,panBy:G,isValidConnection:P,onConnect:Y,onConnectStart:Z,onConnectEnd:j,onReconnectEnd:te,updateConnection:q,getTransform:()=>m.getState().transform,getFromHandle:()=>m.getState().connection.fromHandle,dragThreshold:m.getState().connectionDragThreshold,handleDomNode:I.currentTarget})},y=I=>v(I,{nodeId:n.target,id:n.targetHandle??null,type:"target"}),A=I=>v(I,{nodeId:n.source,id:n.sourceHandle??null,type:"source"}),C=()=>p(!0),E=()=>p(!1);return h.jsxs(h.Fragment,{children:[(t===!0||t==="source")&&h.jsx(nV,{position:a,centerX:r,centerY:i,radius:e,onMouseDown:y,onMouseEnter:C,onMouseOut:E,type:"source"}),(t===!0||t==="target")&&h.jsx(nV,{position:l,centerX:s,centerY:o,radius:e,onMouseDown:A,onMouseEnter:C,onMouseOut:E,type:"target"})]})}function stt({id:t,edgesFocusable:e,edgesReconnectable:n,elementsSelectable:r,onClick:i,onDoubleClick:s,onContextMenu:o,onMouseEnter:a,onMouseMove:l,onMouseLeave:u,reconnectRadius:c,onReconnect:d,onReconnectStart:f,onReconnectEnd:p,rfId:m,edgeTypes:v,noPanClassName:y,onError:A,disableKeyboardA11y:C}){let E=Li(Fe=>Fe.edgeLookup.get(t));const I=Li(Fe=>Fe.defaultEdgeOptions);E=I?{...I,...E}:E;let D=E.type||"default",T=v?.[D]||ZH[D];T===void 0&&(A?.("011",am.error011(D)),D="default",T=v?.default||ZH.default);const M=!!(E.focusable||e&&typeof E.focusable>"u"),P=typeof d<"u"&&(E.reconnectable||n&&typeof E.reconnectable>"u"),k=!!(E.selectable||r&&typeof E.selectable>"u"),L=x.useRef(null),[$,z]=x.useState(!1),[j,H]=x.useState(!1),W=bo(),{zIndex:O,sourceX:G,sourceY:q,targetX:J,targetY:te,sourcePosition:Y,targetPosition:Z}=Li(x.useCallback(Fe=>{const Ee=Fe.nodeLookup.get(E.source),Me=Fe.nodeLookup.get(E.target);if(!Ee||!Me)return{zIndex:E.zIndex,...eV};const Ue=YJe({id:t,sourceNode:Ee,targetNode:Me,sourceHandle:E.sourceHandle||null,targetHandle:E.targetHandle||null,connectionMode:Fe.connectionMode,onError:A});return{zIndex:QJe({selected:E.selected,zIndex:E.zIndex,sourceNode:Ee,targetNode:Me,elevateOnSelect:Fe.elevateEdgesOnSelect,zIndexMode:Fe.zIndexMode}),...Ue||eV}},[E.source,E.target,E.sourceHandle,E.targetHandle,E.selected,E.zIndex]),Ao),ee=x.useMemo(()=>E.markerStart?`url('#${CL(E.markerStart,m)}')`:void 0,[E.markerStart,m]),ie=x.useMemo(()=>E.markerEnd?`url('#${CL(E.markerEnd,m)}')`:void 0,[E.markerEnd,m]);if(E.hidden||G===null||q===null||J===null||te===null)return null;const ue=Fe=>{const{addSelectedEdges:Ee,unselectNodesAndEdges:Me,multiSelectionActive:Ue}=W.getState();k&&(W.setState({nodesSelectionActive:!1}),E.selected&&Ue?(Me({nodes:[],edges:[E]}),L.current?.blur()):Ee([t])),i&&i(Fe,E)},ae=s?Fe=>{s(Fe,{...E})}:void 0,de=o?Fe=>{o(Fe,{...E})}:void 0,ge=a?Fe=>{a(Fe,{...E})}:void 0,_e=l?Fe=>{l(Fe,{...E})}:void 0,we=u?Fe=>{u(Fe,{...E})}:void 0,ke=Fe=>{if(!C&&Bde.includes(Fe.key)&&k){const{unselectNodesAndEdges:Ee,addSelectedEdges:Me}=W.getState();Fe.key==="Escape"?(L.current?.blur(),Ee({edges:[E]})):Me([t])}};return h.jsx("svg",{style:{zIndex:O},children:h.jsxs("g",{className:Qa(["react-flow__edge",`react-flow__edge-${D}`,E.className,y,{selected:E.selected,animated:E.animated,inactive:!k&&!i,updating:$,selectable:k}]),onClick:ue,onDoubleClick:ae,onContextMenu:de,onMouseEnter:ge,onMouseMove:_e,onMouseLeave:we,onKeyDown:M?ke:void 0,tabIndex:M?0:void 0,role:E.ariaRole??(M?"group":"img"),"aria-roledescription":"edge","data-id":t,"data-testid":`rf__edge-${t}`,"aria-label":E.ariaLabel===null?void 0:E.ariaLabel||`Edge from ${E.source} to ${E.target}`,"aria-describedby":M?`${ohe}-${m}`:void 0,ref:L,...E.domAttributes,children:[!j&&h.jsx(T,{id:t,source:E.source,target:E.target,type:E.type,selected:E.selected,animated:E.animated,selectable:k,deletable:E.deletable??!0,label:E.label,labelStyle:E.labelStyle,labelShowBg:E.labelShowBg,labelBgStyle:E.labelBgStyle,labelBgPadding:E.labelBgPadding,labelBgBorderRadius:E.labelBgBorderRadius,sourceX:G,sourceY:q,targetX:J,targetY:te,sourcePosition:Y,targetPosition:Z,data:E.data,style:E.style,sourceHandleId:E.sourceHandle,targetHandleId:E.targetHandle,markerStart:ee,markerEnd:ie,pathOptions:"pathOptions"in E?E.pathOptions:void 0,interactionWidth:E.interactionWidth}),P&&h.jsx(itt,{edge:E,isReconnectable:P,reconnectRadius:c,onReconnect:d,onReconnectStart:f,onReconnectEnd:p,sourceX:G,sourceY:q,targetX:J,targetY:te,sourcePosition:Y,targetPosition:Z,setUpdateHover:z,setReconnecting:H})]})})}var ott=x.memo(stt);const att=t=>({edgesFocusable:t.edgesFocusable,edgesReconnectable:t.edgesReconnectable,elementsSelectable:t.elementsSelectable,connectionMode:t.connectionMode,onError:t.onError});function khe({defaultMarkerColor:t,onlyRenderVisibleElements:e,rfId:n,edgeTypes:r,noPanClassName:i,onReconnect:s,onEdgeContextMenu:o,onEdgeMouseEnter:a,onEdgeMouseMove:l,onEdgeMouseLeave:u,onEdgeClick:c,reconnectRadius:d,onEdgeDoubleClick:f,onReconnectStart:p,onReconnectEnd:m,disableKeyboardA11y:v}){const{edgesFocusable:y,edgesReconnectable:A,elementsSelectable:C,onError:E}=Li(att,Ao),I=Vet(e);return h.jsxs("div",{className:"react-flow__edges",children:[h.jsx(Yet,{defaultColor:t,rfId:n}),I.map(D=>h.jsx(ott,{id:D,edgesFocusable:y,edgesReconnectable:A,elementsSelectable:C,noPanClassName:i,onReconnect:s,onContextMenu:o,onMouseEnter:a,onMouseMove:l,onMouseLeave:u,onClick:c,reconnectRadius:d,onDoubleClick:f,onReconnectStart:p,onReconnectEnd:m,rfId:n,onError:E,edgeTypes:r,disableKeyboardA11y:v},D))]})}khe.displayName="EdgeRenderer";const ltt=x.memo(khe),utt=t=>`translate(${t.transform[0]}px,${t.transform[1]}px) scale(${t.transform[2]})`;function ctt({children:t}){const e=Li(utt);return h.jsx("div",{className:"react-flow__viewport xyflow__viewport react-flow__container",style:{transform:e},children:t})}function dtt(t){const e=cM(),n=x.useRef(!1);x.useEffect(()=>{!n.current&&e.viewportInitialized&&t&&(setTimeout(()=>t(e),1),n.current=!0)},[t,e.viewportInitialized])}const htt=t=>t.panZoom?.syncViewport;function ftt(t){const e=Li(htt),n=bo();return x.useEffect(()=>{t&&(e?.(t),n.setState({transform:[t.x,t.y,t.zoom]}))},[t,e]),null}function ptt(t){return t.connection.inProgress?{...t.connection,to:S4(t.connection.to,t.transform)}:{...t.connection}}function gtt(t){return ptt}function mtt(t){const e=gtt();return Li(e,Ao)}const Att=t=>({nodesConnectable:t.nodesConnectable,isValid:t.connection.isValid,inProgress:t.connection.inProgress,width:t.width,height:t.height});function ytt({containerStyle:t,style:e,type:n,component:r}){const{nodesConnectable:i,width:s,height:o,isValid:a,inProgress:l}=Li(Att,Ao);return!(s&&i&&l)?null:h.jsx("svg",{style:t,width:s,height:o,className:"react-flow__connectionline react-flow__container",children:h.jsx("g",{className:Qa(["react-flow__connection",Mde(a)]),children:h.jsx(Phe,{style:e,type:n,CustomComponent:r,isValid:a})})})}const Phe=({style:t,type:e=My.Bezier,CustomComponent:n,isValid:r})=>{const{inProgress:i,from:s,fromNode:o,fromHandle:a,fromPosition:l,to:u,toNode:c,toHandle:d,toPosition:f,pointer:p}=mtt();if(!i)return;if(n)return h.jsx(n,{connectionLineType:e,connectionLineStyle:t,fromNode:o,fromHandle:a,fromX:s.x,fromY:s.y,toX:u.x,toY:u.y,fromPosition:l,toPosition:f,connectionStatus:Mde(r),toNode:c,toHandle:d,pointer:p});let m="";const v={sourceX:s.x,sourceY:s.y,sourcePosition:l,targetX:u.x,targetY:u.y,targetPosition:f};switch(e){case My.Bezier:[m]=Ude(v);break;case My.SimpleBezier:[m]=bhe(v);break;case My.Step:[m]=xL({...v,borderRadius:0});break;case My.SmoothStep:[m]=xL(v);break;default:[m]=Vde(v)}return h.jsx("path",{d:m,fill:"none",className:"react-flow__connection-path",style:t})};Phe.displayName="ConnectionLine";const vtt={};function rV(t=vtt){x.useRef(t),bo(),x.useEffect(()=>{},[t])}function btt(){bo(),x.useRef(!1),x.useEffect(()=>{},[])}function Rhe({nodeTypes:t,edgeTypes:e,onInit:n,onNodeClick:r,onEdgeClick:i,onNodeDoubleClick:s,onEdgeDoubleClick:o,onNodeMouseEnter:a,onNodeMouseMove:l,onNodeMouseLeave:u,onNodeContextMenu:c,onSelectionContextMenu:d,onSelectionStart:f,onSelectionEnd:p,connectionLineType:m,connectionLineStyle:v,connectionLineComponent:y,connectionLineContainerStyle:A,selectionKeyCode:C,selectionOnDrag:E,selectionMode:I,multiSelectionKeyCode:D,panActivationKeyCode:T,zoomActivationKeyCode:M,deleteKeyCode:P,onlyRenderVisibleElements:k,elementsSelectable:L,defaultViewport:$,translateExtent:z,minZoom:j,maxZoom:H,preventScrolling:W,defaultMarkerColor:O,zoomOnScroll:G,zoomOnPinch:q,panOnScroll:J,panOnScrollSpeed:te,panOnScrollMode:Y,zoomOnDoubleClick:Z,panOnDrag:ee,onPaneClick:ie,onPaneMouseEnter:ue,onPaneMouseMove:ae,onPaneMouseLeave:de,onPaneScroll:ge,onPaneContextMenu:_e,paneClickDistance:we,nodeClickDistance:ke,onEdgeContextMenu:Fe,onEdgeMouseEnter:Ee,onEdgeMouseMove:Me,onEdgeMouseLeave:Ue,reconnectRadius:Ge,onReconnect:ut,onReconnectStart:ve,onReconnectEnd:$e,noDragClassName:gt,noWheelClassName:it,noPanClassName:ot,disableKeyboardA11y:le,nodeExtent:se,rfId:Se,viewport:De,onViewportChange:Be}){return rV(t),rV(e),btt(),dtt(n),ftt(De),h.jsx(Net,{onPaneClick:ie,onPaneMouseEnter:ue,onPaneMouseMove:ae,onPaneMouseLeave:de,onPaneContextMenu:_e,onPaneScroll:ge,paneClickDistance:we,deleteKeyCode:P,selectionKeyCode:C,selectionOnDrag:E,selectionMode:I,onSelectionStart:f,onSelectionEnd:p,multiSelectionKeyCode:D,panActivationKeyCode:T,zoomActivationKeyCode:M,elementsSelectable:L,zoomOnScroll:G,zoomOnPinch:q,zoomOnDoubleClick:Z,panOnScroll:J,panOnScrollSpeed:te,panOnScrollMode:Y,panOnDrag:ee,defaultViewport:$,translateExtent:z,minZoom:j,maxZoom:H,onSelectionContextMenu:d,preventScrolling:W,noDragClassName:gt,noWheelClassName:it,noPanClassName:ot,disableKeyboardA11y:le,onViewportChange:Be,isControlledViewport:!!De,children:h.jsxs(ctt,{children:[h.jsx(ltt,{edgeTypes:e,onEdgeClick:i,onEdgeDoubleClick:o,onReconnect:ut,onReconnectStart:ve,onReconnectEnd:$e,onlyRenderVisibleElements:k,onEdgeContextMenu:Fe,onEdgeMouseEnter:Ee,onEdgeMouseMove:Me,onEdgeMouseLeave:Ue,reconnectRadius:Ge,defaultMarkerColor:O,noPanClassName:ot,disableKeyboardA11y:le,rfId:Se}),h.jsx(ytt,{style:v,type:m,component:y,containerStyle:A}),h.jsx("div",{className:"react-flow__edgelabel-renderer"}),h.jsx(Het,{nodeTypes:t,onNodeClick:r,onNodeDoubleClick:s,onNodeMouseEnter:a,onNodeMouseMove:l,onNodeMouseLeave:u,onNodeContextMenu:c,nodeClickDistance:ke,onlyRenderVisibleElements:k,noPanClassName:ot,noDragClassName:gt,disableKeyboardA11y:le,nodeExtent:se,rfId:Se}),h.jsx("div",{className:"react-flow__viewport-portal"})]})})}Rhe.displayName="GraphView";const xtt=x.memo(Rhe),iV=({nodes:t,edges:e,defaultNodes:n,defaultEdges:r,width:i,height:s,fitView:o,fitViewOptions:a,minZoom:l=.5,maxZoom:u=2,nodeOrigin:c,nodeExtent:d,zIndexMode:f="basic"}={})=>{const p=new Map,m=new Map,v=new Map,y=new Map,A=r??e??[],C=n??t??[],E=c??[0,0],I=d??S3;Wde(v,y,A);const D=EL(C,p,m,{nodeOrigin:E,nodeExtent:I,zIndexMode:f});let T=[0,0,1];if(o&&i&&s){const M=C4(p,{filter:$=>!!(($.width||$.initialWidth)&&($.height||$.initialHeight))}),{x:P,y:k,zoom:L}=kz(M,i,s,l,u,a?.padding??.1);T=[P,k,L]}return{rfId:"1",width:i??0,height:s??0,transform:T,nodes:C,nodesInitialized:D,nodeLookup:p,parentLookup:m,edges:A,edgeLookup:y,connectionLookup:v,onNodesChange:null,onEdgesChange:null,hasDefaultNodes:n!==void 0,hasDefaultEdges:r!==void 0,panZoom:null,minZoom:l,maxZoom:u,translateExtent:S3,nodeExtent:I,nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,connectionMode:FE.Strict,domNode:null,paneDragging:!1,noPanClassName:"nopan",nodeOrigin:E,nodeDragThreshold:1,connectionDragThreshold:1,snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,nodesFocusable:!0,edgesFocusable:!0,edgesReconnectable:!0,elementsSelectable:!0,elevateNodesOnSelect:!0,elevateEdgesOnSelect:!0,selectNodesOnDrag:!0,multiSelectionActive:!1,fitViewQueued:o??!1,fitViewOptions:a,fitViewResolver:null,connection:{...Tde},connectionClickStartHandle:null,connectOnClick:!0,ariaLiveMessage:"",autoPanOnConnect:!0,autoPanOnNodeDrag:!0,autoPanOnNodeFocus:!0,autoPanSpeed:15,connectionRadius:20,onError:LJe,isValidConnection:void 0,onSelectionChangeHandlers:[],lib:"react",debug:!1,ariaLabelConfig:Dde,zIndexMode:f,onNodesChangeMiddlewareMap:new Map,onEdgesChangeMiddlewareMap:new Map}},Ctt=({nodes:t,edges:e,defaultNodes:n,defaultEdges:r,width:i,height:s,fitView:o,fitViewOptions:a,minZoom:l,maxZoom:u,nodeOrigin:c,nodeExtent:d,zIndexMode:f})=>$Ze((p,m)=>{async function v(){const{nodeLookup:y,panZoom:A,fitViewOptions:C,fitViewResolver:E,width:I,height:D,minZoom:T,maxZoom:M}=m();A&&(await RJe({nodes:y,width:I,height:D,panZoom:A,minZoom:T,maxZoom:M},C),E?.resolve(!0),p({fitViewResolver:null}))}return{...iV({nodes:t,edges:e,width:i,height:s,fitView:o,fitViewOptions:a,minZoom:l,maxZoom:u,nodeOrigin:c,nodeExtent:d,defaultNodes:n,defaultEdges:r,zIndexMode:f}),setNodes:y=>{const{nodeLookup:A,parentLookup:C,nodeOrigin:E,elevateNodesOnSelect:I,fitViewQueued:D,zIndexMode:T}=m(),M=EL(y,A,C,{nodeOrigin:E,nodeExtent:d,elevateNodesOnSelect:I,checkEquality:!0,zIndexMode:T});D&&M?(v(),p({nodes:y,nodesInitialized:M,fitViewQueued:!1,fitViewOptions:void 0})):p({nodes:y,nodesInitialized:M})},setEdges:y=>{const{connectionLookup:A,edgeLookup:C}=m();Wde(A,C,y),p({edges:y})},setDefaultNodesAndEdges:(y,A)=>{if(y){const{setNodes:C}=m();C(y),p({hasDefaultNodes:!0})}if(A){const{setEdges:C}=m();C(A),p({hasDefaultEdges:!0})}},updateNodeInternals:y=>{const{triggerNodeChanges:A,nodeLookup:C,parentLookup:E,domNode:I,nodeOrigin:D,nodeExtent:T,debug:M,fitViewQueued:P,zIndexMode:k}=m(),{changes:L,updatedInternals:$}=iZe(y,C,E,I,D,T,k);$&&(eZe(C,E,{nodeOrigin:D,nodeExtent:T,zIndexMode:k}),P?(v(),p({fitViewQueued:!1,fitViewOptions:void 0})):p({}),L?.length>0&&(M&&console.log("React Flow: trigger node changes",L),A?.(L)))},updateNodePositions:(y,A=!1)=>{const C=[];let E=[];const{nodeLookup:I,triggerNodeChanges:D,connection:T,updateConnection:M,onNodesChangeMiddlewareMap:P}=m();for(const[k,L]of y){const $=I.get(k),z=!!($?.expandParent&&$?.parentId&&L?.position),j={id:k,type:"position",position:z?{x:Math.max(0,L.position.x),y:Math.max(0,L.position.y)}:L.position,dragging:A};if($&&T.inProgress&&T.fromNode.id===$.id){const H=Xx($,T.fromHandle,zn.Left,!0);M({...T,from:H})}z&&$.parentId&&C.push({id:k,parentId:$.parentId,rect:{...L.internals.positionAbsolute,width:L.measured.width??0,height:L.measured.height??0}}),E.push(j)}if(C.length>0){const{parentLookup:k,nodeOrigin:L}=m(),$=$z(C,I,k,L);E.push(...$)}for(const k of P.values())E=k(E);D(E)},triggerNodeChanges:y=>{const{onNodesChange:A,setNodes:C,nodes:E,hasDefaultNodes:I,debug:D}=m();if(y?.length){if(I){const T=uhe(y,E);C(T)}D&&console.log("React Flow: trigger node changes",y),A?.(y)}},triggerEdgeChanges:y=>{const{onEdgesChange:A,setEdges:C,edges:E,hasDefaultEdges:I,debug:D}=m();if(y?.length){if(I){const T=che(y,E);C(T)}D&&console.log("React Flow: trigger edge changes",y),A?.(y)}},addSelectedNodes:y=>{const{multiSelectionActive:A,edgeLookup:C,nodeLookup:E,triggerNodeChanges:I,triggerEdgeChanges:D}=m();if(A){const T=y.map(M=>Gb(M,!0));I(T);return}I(nE(E,new Set([...y]),!0)),D(nE(C))},addSelectedEdges:y=>{const{multiSelectionActive:A,edgeLookup:C,nodeLookup:E,triggerNodeChanges:I,triggerEdgeChanges:D}=m();if(A){const T=y.map(M=>Gb(M,!0));D(T);return}D(nE(C,new Set([...y]))),I(nE(E,new Set,!0))},unselectNodesAndEdges:({nodes:y,edges:A}={})=>{const{edges:C,nodes:E,nodeLookup:I,triggerNodeChanges:D,triggerEdgeChanges:T}=m(),M=y||E,P=A||C,k=M.map($=>{const z=I.get($.id);return z&&(z.selected=!1),Gb($.id,!1)}),L=P.map($=>Gb($.id,!1));D(k),T(L)},setMinZoom:y=>{const{panZoom:A,maxZoom:C}=m();A?.setScaleExtent([y,C]),p({minZoom:y})},setMaxZoom:y=>{const{panZoom:A,minZoom:C}=m();A?.setScaleExtent([C,y]),p({maxZoom:y})},setTranslateExtent:y=>{m().panZoom?.setTranslateExtent(y),p({translateExtent:y})},resetSelectedElements:()=>{const{edges:y,nodes:A,triggerNodeChanges:C,triggerEdgeChanges:E,elementsSelectable:I}=m();if(!I)return;const D=A.reduce((M,P)=>P.selected?[...M,Gb(P.id,!1)]:M,[]),T=y.reduce((M,P)=>P.selected?[...M,Gb(P.id,!1)]:M,[]);C(D),E(T)},setNodeExtent:y=>{const{nodes:A,nodeLookup:C,parentLookup:E,nodeOrigin:I,elevateNodesOnSelect:D,nodeExtent:T,zIndexMode:M}=m();y[0][0]===T[0][0]&&y[0][1]===T[0][1]&&y[1][0]===T[1][0]&&y[1][1]===T[1][1]||(EL(A,C,E,{nodeOrigin:I,nodeExtent:y,elevateNodesOnSelect:D,checkEquality:!1,zIndexMode:M}),p({nodeExtent:y}))},panBy:y=>{const{transform:A,width:C,height:E,panZoom:I,translateExtent:D}=m();return sZe({delta:y,panZoom:I,transform:A,translateExtent:D,width:C,height:E})},setCenter:async(y,A,C)=>{const{width:E,height:I,maxZoom:D,panZoom:T}=m();if(!T)return Promise.resolve(!1);const M=typeof C?.zoom<"u"?C.zoom:D;return await T.setViewport({x:E/2-y*M,y:I/2-A*M,zoom:M},{duration:C?.duration,ease:C?.ease,interpolate:C?.interpolate}),Promise.resolve(!0)},cancelConnection:()=>{p({connection:{...Tde}})},updateConnection:y=>{p({connection:y})},reset:()=>p({...iV()})}},Object.is);function Nhe({initialNodes:t,initialEdges:e,defaultNodes:n,defaultEdges:r,initialWidth:i,initialHeight:s,initialMinZoom:o,initialMaxZoom:a,initialFitViewOptions:l,fitView:u,nodeOrigin:c,nodeExtent:d,zIndexMode:f,children:p}){const[m]=x.useState(()=>Ctt({nodes:t,edges:e,defaultNodes:n,defaultEdges:r,width:i,height:s,fitView:u,minZoom:o,maxZoom:a,fitViewOptions:l,nodeOrigin:c,nodeExtent:d,zIndexMode:f}));return h.jsx(zZe,{value:m,children:h.jsx(uet,{children:p})})}function Ett({children:t,nodes:e,edges:n,defaultNodes:r,defaultEdges:i,width:s,height:o,fitView:a,fitViewOptions:l,minZoom:u,maxZoom:c,nodeOrigin:d,nodeExtent:f,zIndexMode:p}){return x.useContext(lM)?h.jsx(h.Fragment,{children:t}):h.jsx(Nhe,{initialNodes:e,initialEdges:n,defaultNodes:r,defaultEdges:i,initialWidth:s,initialHeight:o,fitView:a,initialFitViewOptions:l,initialMinZoom:u,initialMaxZoom:c,nodeOrigin:d,nodeExtent:f,zIndexMode:p,children:t})}const Stt={width:"100%",height:"100%",overflow:"hidden",position:"relative",zIndex:0};function wtt({nodes:t,edges:e,defaultNodes:n,defaultEdges:r,className:i,nodeTypes:s,edgeTypes:o,onNodeClick:a,onEdgeClick:l,onInit:u,onMove:c,onMoveStart:d,onMoveEnd:f,onConnect:p,onConnectStart:m,onConnectEnd:v,onClickConnectStart:y,onClickConnectEnd:A,onNodeMouseEnter:C,onNodeMouseMove:E,onNodeMouseLeave:I,onNodeContextMenu:D,onNodeDoubleClick:T,onNodeDragStart:M,onNodeDrag:P,onNodeDragStop:k,onNodesDelete:L,onEdgesDelete:$,onDelete:z,onSelectionChange:j,onSelectionDragStart:H,onSelectionDrag:W,onSelectionDragStop:O,onSelectionContextMenu:G,onSelectionStart:q,onSelectionEnd:J,onBeforeDelete:te,connectionMode:Y,connectionLineType:Z=My.Bezier,connectionLineStyle:ee,connectionLineComponent:ie,connectionLineContainerStyle:ue,deleteKeyCode:ae="Backspace",selectionKeyCode:de="Shift",selectionOnDrag:ge=!1,selectionMode:_e=w3.Full,panActivationKeyCode:we="Space",multiSelectionKeyCode:ke=I3()?"Meta":"Control",zoomActivationKeyCode:Fe=I3()?"Meta":"Control",snapToGrid:Ee,snapGrid:Me,onlyRenderVisibleElements:Ue=!1,selectNodesOnDrag:Ge,nodesDraggable:ut,autoPanOnNodeFocus:ve,nodesConnectable:$e,nodesFocusable:gt,nodeOrigin:it=ahe,edgesFocusable:ot,edgesReconnectable:le,elementsSelectable:se=!0,defaultViewport:Se=JZe,minZoom:De=.5,maxZoom:Be=2,translateExtent:ze=S3,preventScrolling:kt=!0,nodeExtent:Et,defaultMarkerColor:zt="#b1b1b7",zoomOnScroll:Mt=!0,zoomOnPinch:at=!0,panOnScroll:At=!1,panOnScrollSpeed:Pt=.5,panOnScrollMode:wt=Bx.Free,zoomOnDoubleClick:Lt=!0,panOnDrag:un=!0,onPaneClick:Oe,onPaneMouseEnter:Wt,onPaneMouseMove:Vt,onPaneMouseLeave:Xt,onPaneScroll:It,onPaneContextMenu:St,paneClickDistance:qt=1,nodeClickDistance:ct=0,children:Bt,onReconnect:Rt,onReconnectStart:Ht,onReconnectEnd:Vn,onEdgeContextMenu:In,onEdgeDoubleClick:rn,onEdgeMouseEnter:ln,onEdgeMouseMove:nr,onEdgeMouseLeave:yr,reconnectRadius:zr=10,onNodesChange:ii,onEdgesChange:Or,noDragClassName:Wn="nodrag",noWheelClassName:Hi="nowheel",noPanClassName:fs="nopan",fitView:ua,fitViewOptions:ul,connectOnClick:Tc,attributionPosition:Vu,proOptions:Nl,defaultEdgeOptions:au,elevateNodesOnSelect:Vi=!0,elevateEdgesOnSelect:si=!1,disableKeyboardA11y:ca=!1,autoPanOnConnect:xo,autoPanOnNodeDrag:me,autoPanSpeed:He,connectionRadius:dt,isValidConnection:tt,onError:Xe,style:sn,id:cn,nodeDragThreshold:tn,connectionDragThreshold:hn,viewport:bn,onViewportChange:he,width:pe,height:Ie,colorMode:Le="light",debug:Ke,onScroll:pt,ariaLabelConfig:Ct,zIndexMode:nt="basic",...Ft},xt){const Jt=cn||"1",En=net(Le),Un=x.useCallback(jr=>{jr.currentTarget.scrollTo({top:0,left:0,behavior:"instant"}),pt?.(jr)},[pt]);return h.jsx("div",{"data-testid":"rf__wrapper",...Ft,onScroll:Un,style:{...sn,...Stt},ref:xt,className:Qa(["react-flow",i,En]),id:cn,role:"application",children:h.jsxs(Ett,{nodes:t,edges:e,width:pe,height:Ie,fitView:ua,fitViewOptions:ul,minZoom:De,maxZoom:Be,nodeOrigin:it,nodeExtent:Et,zIndexMode:nt,children:[h.jsx(xtt,{onInit:u,onNodeClick:a,onEdgeClick:l,onNodeMouseEnter:C,onNodeMouseMove:E,onNodeMouseLeave:I,onNodeContextMenu:D,onNodeDoubleClick:T,nodeTypes:s,edgeTypes:o,connectionLineType:Z,connectionLineStyle:ee,connectionLineComponent:ie,connectionLineContainerStyle:ue,selectionKeyCode:de,selectionOnDrag:ge,selectionMode:_e,deleteKeyCode:ae,multiSelectionKeyCode:ke,panActivationKeyCode:we,zoomActivationKeyCode:Fe,onlyRenderVisibleElements:Ue,defaultViewport:Se,translateExtent:ze,minZoom:De,maxZoom:Be,preventScrolling:kt,zoomOnScroll:Mt,zoomOnPinch:at,zoomOnDoubleClick:Lt,panOnScroll:At,panOnScrollSpeed:Pt,panOnScrollMode:wt,panOnDrag:un,onPaneClick:Oe,onPaneMouseEnter:Wt,onPaneMouseMove:Vt,onPaneMouseLeave:Xt,onPaneScroll:It,onPaneContextMenu:St,paneClickDistance:qt,nodeClickDistance:ct,onSelectionContextMenu:G,onSelectionStart:q,onSelectionEnd:J,onReconnect:Rt,onReconnectStart:Ht,onReconnectEnd:Vn,onEdgeContextMenu:In,onEdgeDoubleClick:rn,onEdgeMouseEnter:ln,onEdgeMouseMove:nr,onEdgeMouseLeave:yr,reconnectRadius:zr,defaultMarkerColor:zt,noDragClassName:Wn,noWheelClassName:Hi,noPanClassName:fs,rfId:Jt,disableKeyboardA11y:ca,nodeExtent:Et,viewport:bn,onViewportChange:he}),h.jsx(tet,{nodes:t,edges:e,defaultNodes:n,defaultEdges:r,onConnect:p,onConnectStart:m,onConnectEnd:v,onClickConnectStart:y,onClickConnectEnd:A,nodesDraggable:ut,autoPanOnNodeFocus:ve,nodesConnectable:$e,nodesFocusable:gt,edgesFocusable:ot,edgesReconnectable:le,elementsSelectable:se,elevateNodesOnSelect:Vi,elevateEdgesOnSelect:si,minZoom:De,maxZoom:Be,nodeExtent:Et,onNodesChange:ii,onEdgesChange:Or,snapToGrid:Ee,snapGrid:Me,connectionMode:Y,translateExtent:ze,connectOnClick:Tc,defaultEdgeOptions:au,fitView:ua,fitViewOptions:ul,onNodesDelete:L,onEdgesDelete:$,onDelete:z,onNodeDragStart:M,onNodeDrag:P,onNodeDragStop:k,onSelectionDrag:W,onSelectionDragStart:H,onSelectionDragStop:O,onMove:c,onMoveStart:d,onMoveEnd:f,noPanClassName:fs,nodeOrigin:it,rfId:Jt,autoPanOnConnect:xo,autoPanOnNodeDrag:me,autoPanSpeed:He,onError:Xe,connectionRadius:dt,isValidConnection:tt,selectNodesOnDrag:Ge,nodeDragThreshold:tn,connectionDragThreshold:hn,onBeforeDelete:te,debug:Ke,ariaLabelConfig:Ct,zIndexMode:nt}),h.jsx(XZe,{onSelectionChange:j}),Bt,h.jsx(GZe,{proOptions:Nl,position:Vu}),h.jsx(VZe,{rfId:Jt,disableKeyboardA11y:ca})]})})}var _tt=dhe(wtt);function Itt({dimensions:t,lineWidth:e,variant:n,className:r}){return h.jsx("path",{strokeWidth:e,d:`M${t[0]/2} 0 V${t[1]} M0 ${t[1]/2} H${t[0]}`,className:Qa(["react-flow__background-pattern",n,r])})}function Btt({radius:t,className:e}){return h.jsx("circle",{cx:t,cy:t,r:t,className:Qa(["react-flow__background-pattern","dots",e])})}var T0;(function(t){t.Lines="lines",t.Dots="dots",t.Cross="cross"})(T0||(T0={}));const Dtt={[T0.Dots]:1,[T0.Lines]:1,[T0.Cross]:6},Ttt=t=>({transform:t.transform,patternId:`pattern-${t.rfId}`});function Lhe({id:t,variant:e=T0.Dots,gap:n=20,size:r,lineWidth:i=1,offset:s=0,color:o,bgColor:a,style:l,className:u,patternClassName:c}){const d=x.useRef(null),{transform:f,patternId:p}=Li(Ttt,Ao),m=r||Dtt[e],v=e===T0.Dots,y=e===T0.Cross,A=Array.isArray(n)?n:[n,n],C=[A[0]*f[2]||1,A[1]*f[2]||1],E=m*f[2],I=Array.isArray(s)?s:[s,s],D=y?[E,E]:C,T=[I[0]*f[2]||1+D[0]/2,I[1]*f[2]||1+D[1]/2],M=`${p}${t||""}`;return h.jsxs("svg",{className:Qa(["react-flow__background",u]),style:{...l,...dM,"--xy-background-color-props":a,"--xy-background-pattern-color-props":o},ref:d,"data-testid":"rf__background",children:[h.jsx("pattern",{id:M,x:f[0]%C[0],y:f[1]%C[1],width:C[0],height:C[1],patternUnits:"userSpaceOnUse",patternTransform:`translate(-${T[0]},-${T[1]})`,children:v?h.jsx(Btt,{radius:E/2,className:c}):h.jsx(Itt,{dimensions:D,lineWidth:i,variant:e,className:c})}),h.jsx("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:`url(#${M})`})]})}Lhe.displayName="Background";const Mtt=x.memo(Lhe);function ktt(){return h.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",children:h.jsx("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"})})}function Ptt(){return h.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5",children:h.jsx("path",{d:"M0 0h32v4.2H0z"})})}function Rtt(){return h.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30",children:h.jsx("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"})})}function Ntt(){return h.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:h.jsx("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"})})}function Ltt(){return h.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:h.jsx("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"})})}function zI({children:t,className:e,...n}){return h.jsx("button",{type:"button",className:Qa(["react-flow__controls-button",e]),...n,children:t})}const Ftt=t=>({isInteractive:t.nodesDraggable||t.nodesConnectable||t.elementsSelectable,minZoomReached:t.transform[2]<=t.minZoom,maxZoomReached:t.transform[2]>=t.maxZoom,ariaLabelConfig:t.ariaLabelConfig});function Fhe({style:t,showZoom:e=!0,showFitView:n=!0,showInteractive:r=!0,fitViewOptions:i,onZoomIn:s,onZoomOut:o,onFitView:a,onInteractiveChange:l,className:u,children:c,position:d="bottom-left",orientation:f="vertical","aria-label":p}){const m=bo(),{isInteractive:v,minZoomReached:y,maxZoomReached:A,ariaLabelConfig:C}=Li(Ftt,Ao),{zoomIn:E,zoomOut:I,fitView:D}=cM(),T=()=>{E(),s?.()},M=()=>{I(),o?.()},P=()=>{D(i),a?.()},k=()=>{m.setState({nodesDraggable:!v,nodesConnectable:!v,elementsSelectable:!v}),l?.(!v)},L=f==="horizontal"?"horizontal":"vertical";return h.jsxs(uM,{className:Qa(["react-flow__controls",L,u]),position:d,style:t,"data-testid":"rf__controls","aria-label":p??C["controls.ariaLabel"],children:[e&&h.jsxs(h.Fragment,{children:[h.jsx(zI,{onClick:T,className:"react-flow__controls-zoomin",title:C["controls.zoomIn.ariaLabel"],"aria-label":C["controls.zoomIn.ariaLabel"],disabled:A,children:h.jsx(ktt,{})}),h.jsx(zI,{onClick:M,className:"react-flow__controls-zoomout",title:C["controls.zoomOut.ariaLabel"],"aria-label":C["controls.zoomOut.ariaLabel"],disabled:y,children:h.jsx(Ptt,{})})]}),n&&h.jsx(zI,{className:"react-flow__controls-fitview",onClick:P,title:C["controls.fitView.ariaLabel"],"aria-label":C["controls.fitView.ariaLabel"],children:h.jsx(Rtt,{})}),r&&h.jsx(zI,{className:"react-flow__controls-interactive",onClick:k,title:C["controls.interactive.ariaLabel"],"aria-label":C["controls.interactive.ariaLabel"],children:v?h.jsx(Ltt,{}):h.jsx(Ntt,{})}),c]})}Fhe.displayName="Controls";const $tt=x.memo(Fhe);function ztt({id:t,x:e,y:n,width:r,height:i,style:s,color:o,strokeColor:a,strokeWidth:l,className:u,borderRadius:c,shapeRendering:d,selected:f,onClick:p}){const{background:m,backgroundColor:v}=s||{},y=o||m||v;return h.jsx("rect",{className:Qa(["react-flow__minimap-node",{selected:f},u]),x:e,y:n,rx:c,ry:c,width:r,height:i,style:{fill:y,stroke:a,strokeWidth:l},shapeRendering:d,onClick:p?A=>p(A,t):void 0})}const Ott=x.memo(ztt),jtt=t=>t.nodes.map(e=>e.id),kP=t=>t instanceof Function?t:()=>t;function Qtt({nodeStrokeColor:t,nodeColor:e,nodeClassName:n="",nodeBorderRadius:r=5,nodeStrokeWidth:i,nodeComponent:s=Ott,onClick:o}){const a=Li(jtt,Ao),l=kP(e),u=kP(t),c=kP(n),d=typeof window>"u"||window.chrome?"crispEdges":"geometricPrecision";return h.jsx(h.Fragment,{children:a.map(f=>h.jsx(Htt,{id:f,nodeColorFunc:l,nodeStrokeColorFunc:u,nodeClassNameFunc:c,nodeBorderRadius:r,nodeStrokeWidth:i,NodeComponent:s,onClick:o,shapeRendering:d},f))})}function Utt({id:t,nodeColorFunc:e,nodeStrokeColorFunc:n,nodeClassNameFunc:r,nodeBorderRadius:i,nodeStrokeWidth:s,shapeRendering:o,NodeComponent:a,onClick:l}){const{node:u,x:c,y:d,width:f,height:p}=Li(m=>{const{internals:v}=m.nodeLookup.get(t),y=v.userNode,{x:A,y:C}=v.positionAbsolute,{width:E,height:I}=eA(y);return{node:y,x:A,y:C,width:E,height:I}},Ao);return!u||u.hidden||!Fde(u)?null:h.jsx(a,{x:c,y:d,width:f,height:p,style:u.style,selected:!!u.selected,className:r(u),color:e(u),borderRadius:i,strokeColor:n(u),strokeWidth:s,shapeRendering:o,onClick:l,id:u.id})}const Htt=x.memo(Utt);var Vtt=x.memo(Qtt);const Gtt=200,Ktt=150,Wtt=t=>!t.hidden,qtt=t=>{const e={x:-t.transform[0]/t.transform[2],y:-t.transform[1]/t.transform[2],width:t.width/t.transform[2],height:t.height/t.transform[2]};return{viewBB:e,boundingRect:t.nodeLookup.size>0?Lde(C4(t.nodeLookup,{filter:Wtt}),e):e,rfId:t.rfId,panZoom:t.panZoom,translateExtent:t.translateExtent,flowWidth:t.width,flowHeight:t.height,ariaLabelConfig:t.ariaLabelConfig}},Ytt="react-flow__minimap-desc";function $he({style:t,className:e,nodeStrokeColor:n,nodeColor:r,nodeClassName:i="",nodeBorderRadius:s=5,nodeStrokeWidth:o,nodeComponent:a,bgColor:l,maskColor:u,maskStrokeColor:c,maskStrokeWidth:d,position:f="bottom-right",onClick:p,onNodeClick:m,pannable:v=!1,zoomable:y=!1,ariaLabel:A,inversePan:C,zoomStep:E=1,offsetScale:I=5}){const D=bo(),T=x.useRef(null),{boundingRect:M,viewBB:P,rfId:k,panZoom:L,translateExtent:$,flowWidth:z,flowHeight:j,ariaLabelConfig:H}=Li(qtt,Ao),W=t?.width??Gtt,O=t?.height??Ktt,G=M.width/W,q=M.height/O,J=Math.max(G,q),te=J*W,Y=J*O,Z=I*J,ee=M.x-(te-M.width)/2-Z,ie=M.y-(Y-M.height)/2-Z,ue=te+Z*2,ae=Y+Z*2,de=`${Ytt}-${k}`,ge=x.useRef(0),_e=x.useRef();ge.current=J,x.useEffect(()=>{if(T.current&&L)return _e.current=pZe({domNode:T.current,panZoom:L,getTransform:()=>D.getState().transform,getViewScale:()=>ge.current}),()=>{_e.current?.destroy()}},[L]),x.useEffect(()=>{_e.current?.update({translateExtent:$,width:z,height:j,inversePan:C,pannable:v,zoomStep:E,zoomable:y})},[v,y,C,E,$,z,j]);const we=p?Ee=>{const[Me,Ue]=_e.current?.pointer(Ee)||[0,0];p(Ee,{x:Me,y:Ue})}:void 0,ke=m?x.useCallback((Ee,Me)=>{const Ue=D.getState().nodeLookup.get(Me).internals.userNode;m(Ee,Ue)},[]):void 0,Fe=A??H["minimap.ariaLabel"];return h.jsx(uM,{position:f,style:{...t,"--xy-minimap-background-color-props":typeof l=="string"?l:void 0,"--xy-minimap-mask-background-color-props":typeof u=="string"?u:void 0,"--xy-minimap-mask-stroke-color-props":typeof c=="string"?c:void 0,"--xy-minimap-mask-stroke-width-props":typeof d=="number"?d*J:void 0,"--xy-minimap-node-background-color-props":typeof r=="string"?r:void 0,"--xy-minimap-node-stroke-color-props":typeof n=="string"?n:void 0,"--xy-minimap-node-stroke-width-props":typeof o=="number"?o:void 0},className:Qa(["react-flow__minimap",e]),"data-testid":"rf__minimap",children:h.jsxs("svg",{width:W,height:O,viewBox:`${ee} ${ie} ${ue} ${ae}`,className:"react-flow__minimap-svg",role:"img","aria-labelledby":de,ref:T,onClick:we,children:[Fe&&h.jsx("title",{id:de,children:Fe}),h.jsx(Vtt,{onClick:ke,nodeColor:r,nodeStrokeColor:n,nodeBorderRadius:s,nodeClassName:i,nodeStrokeWidth:o,nodeComponent:a}),h.jsx("path",{className:"react-flow__minimap-mask",d:`M${ee-Z},${ie-Z}h${ue+Z*2}v${ae+Z*2}h${-ue-Z*2}z
        M${P.x},${P.y}h${P.width}v${P.height}h${-P.width}z`,fillRule:"evenodd",pointerEvents:"none"})]})})}$he.displayName="MiniMap";const Xtt=x.memo($he),Jtt=t=>e=>t?`${Math.max(1/e.transform[2],1)}`:void 0,Ztt={[QE.Line]:"right",[QE.Handle]:"bottom-right"};function ent({nodeId:t,position:e,variant:n=QE.Handle,className:r,style:i=void 0,children:s,color:o,minWidth:a=10,minHeight:l=10,maxWidth:u=Number.MAX_VALUE,maxHeight:c=Number.MAX_VALUE,keepAspectRatio:d=!1,resizeDirection:f,autoScale:p=!0,shouldResize:m,onResizeStart:v,onResize:y,onResizeEnd:A}){const C=ghe(),E=typeof t=="string"?t:C,I=bo(),D=x.useRef(null),T=n===QE.Handle,M=Li(x.useCallback(Jtt(T&&p),[T,p]),Ao),P=x.useRef(null),k=e??Ztt[n];x.useEffect(()=>{if(!(!D.current||!E))return P.current||(P.current=BZe({domNode:D.current,nodeId:E,getStoreItems:()=>{const{nodeLookup:$,transform:z,snapGrid:j,snapToGrid:H,nodeOrigin:W,domNode:O}=I.getState();return{nodeLookup:$,transform:z,snapGrid:j,snapToGrid:H,nodeOrigin:W,paneDomNode:O}},onChange:($,z)=>{const{triggerNodeChanges:j,nodeLookup:H,parentLookup:W,nodeOrigin:O}=I.getState(),G=[],q={x:$.x,y:$.y},J=H.get(E);if(J&&J.expandParent&&J.parentId){const te=J.origin??O,Y=$.width??J.measured.width??0,Z=$.height??J.measured.height??0,ee={id:J.id,parentId:J.parentId,rect:{width:Y,height:Z,...$de({x:$.x??J.position.x,y:$.y??J.position.y},{width:Y,height:Z},J.parentId,H,te)}},ie=$z([ee],H,W,O);G.push(...ie),q.x=$.x?Math.max(te[0]*Y,$.x):void 0,q.y=$.y?Math.max(te[1]*Z,$.y):void 0}if(q.x!==void 0&&q.y!==void 0){const te={id:E,type:"position",position:{...q}};G.push(te)}if($.width!==void 0&&$.height!==void 0){const Y={id:E,type:"dimensions",resizing:!0,setAttributes:f?f==="horizontal"?"width":"height":!0,dimensions:{width:$.width,height:$.height}};G.push(Y)}for(const te of z){const Y={...te,type:"position"};G.push(Y)}j(G)},onEnd:({width:$,height:z})=>{const j={id:E,type:"dimensions",resizing:!1,dimensions:{width:$,height:z}};I.getState().triggerNodeChanges([j])}})),P.current.update({controlPosition:k,boundaries:{minWidth:a,minHeight:l,maxWidth:u,maxHeight:c},keepAspectRatio:d,resizeDirection:f,onResizeStart:v,onResize:y,onResizeEnd:A,shouldResize:m}),()=>{P.current?.destroy()}},[k,a,l,u,c,d,v,y,A,m]);const L=k.split("-");return h.jsx("div",{className:Qa(["react-flow__resize-control","nodrag",...L,n,r]),ref:D,style:{...i,scale:M,...o&&{[T?"backgroundColor":"borderColor"]:o}},children:s})}x.memo(ent);var PP,sV;function Oz(){if(sV)return PP;sV=1;var t="\0",e="\0",n="";class r{_isDirected=!0;_isMultigraph=!1;_isCompound=!1;_label;_defaultNodeLabelFn=()=>{};_defaultEdgeLabelFn=()=>{};_nodes={};_in={};_preds={};_out={};_sucs={};_edgeObjs={};_edgeLabels={};_nodeCount=0;_edgeCount=0;_parent;_children;constructor(c){c&&(this._isDirected=Object.hasOwn(c,"directed")?c.directed:!0,this._isMultigraph=Object.hasOwn(c,"multigraph")?c.multigraph:!1,this._isCompound=Object.hasOwn(c,"compound")?c.compound:!1),this._isCompound&&(this._parent={},this._children={},this._children[e]={})}isDirected(){return this._isDirected}isMultigraph(){return this._isMultigraph}isCompound(){return this._isCompound}setGraph(c){return this._label=c,this}graph(){return this._label}setDefaultNodeLabel(c){return this._defaultNodeLabelFn=c,typeof c!="function"&&(this._defaultNodeLabelFn=()=>c),this}nodeCount(){return this._nodeCount}nodes(){return Object.keys(this._nodes)}sources(){var c=this;return this.nodes().filter(d=>Object.keys(c._in[d]).length===0)}sinks(){var c=this;return this.nodes().filter(d=>Object.keys(c._out[d]).length===0)}setNodes(c,d){var f=arguments,p=this;return c.forEach(function(m){f.length>1?p.setNode(m,d):p.setNode(m)}),this}setNode(c,d){return Object.hasOwn(this._nodes,c)?(arguments.length>1&&(this._nodes[c]=d),this):(this._nodes[c]=arguments.length>1?d:this._defaultNodeLabelFn(c),this._isCompound&&(this._parent[c]=e,this._children[c]={},this._children[e][c]=!0),this._in[c]={},this._preds[c]={},this._out[c]={},this._sucs[c]={},++this._nodeCount,this)}node(c){return this._nodes[c]}hasNode(c){return Object.hasOwn(this._nodes,c)}removeNode(c){var d=this;if(Object.hasOwn(this._nodes,c)){var f=p=>d.removeEdge(d._edgeObjs[p]);delete this._nodes[c],this._isCompound&&(this._removeFromParentsChildList(c),delete this._parent[c],this.children(c).forEach(function(p){d.setParent(p)}),delete this._children[c]),Object.keys(this._in[c]).forEach(f),delete this._in[c],delete this._preds[c],Object.keys(this._out[c]).forEach(f),delete this._out[c],delete this._sucs[c],--this._nodeCount}return this}setParent(c,d){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if(d===void 0)d=e;else{d+="";for(var f=d;f!==void 0;f=this.parent(f))if(f===c)throw new Error("Setting "+d+" as parent of "+c+" would create a cycle");this.setNode(d)}return this.setNode(c),this._removeFromParentsChildList(c),this._parent[c]=d,this._children[d][c]=!0,this}_removeFromParentsChildList(c){delete this._children[this._parent[c]][c]}parent(c){if(this._isCompound){var d=this._parent[c];if(d!==e)return d}}children(c=e){if(this._isCompound){var d=this._children[c];if(d)return Object.keys(d)}else{if(c===e)return this.nodes();if(this.hasNode(c))return[]}}predecessors(c){var d=this._preds[c];if(d)return Object.keys(d)}successors(c){var d=this._sucs[c];if(d)return Object.keys(d)}neighbors(c){var d=this.predecessors(c);if(d){const p=new Set(d);for(var f of this.successors(c))p.add(f);return Array.from(p.values())}}isLeaf(c){var d;return this.isDirected()?d=this.successors(c):d=this.neighbors(c),d.length===0}filterNodes(c){var d=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});d.setGraph(this.graph());var f=this;Object.entries(this._nodes).forEach(function([v,y]){c(v)&&d.setNode(v,y)}),Object.values(this._edgeObjs).forEach(function(v){d.hasNode(v.v)&&d.hasNode(v.w)&&d.setEdge(v,f.edge(v))});var p={};function m(v){var y=f.parent(v);return y===void 0||d.hasNode(y)?(p[v]=y,y):y in p?p[y]:m(y)}return this._isCompound&&d.nodes().forEach(v=>d.setParent(v,m(v))),d}setDefaultEdgeLabel(c){return this._defaultEdgeLabelFn=c,typeof c!="function"&&(this._defaultEdgeLabelFn=()=>c),this}edgeCount(){return this._edgeCount}edges(){return Object.values(this._edgeObjs)}setPath(c,d){var f=this,p=arguments;return c.reduce(function(m,v){return p.length>1?f.setEdge(m,v,d):f.setEdge(m,v),v}),this}setEdge(){var c,d,f,p,m=!1,v=arguments[0];typeof v=="object"&&v!==null&&"v"in v?(c=v.v,d=v.w,f=v.name,arguments.length===2&&(p=arguments[1],m=!0)):(c=v,d=arguments[1],f=arguments[3],arguments.length>2&&(p=arguments[2],m=!0)),c=""+c,d=""+d,f!==void 0&&(f=""+f);var y=o(this._isDirected,c,d,f);if(Object.hasOwn(this._edgeLabels,y))return m&&(this._edgeLabels[y]=p),this;if(f!==void 0&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(c),this.setNode(d),this._edgeLabels[y]=m?p:this._defaultEdgeLabelFn(c,d,f);var A=a(this._isDirected,c,d,f);return c=A.v,d=A.w,Object.freeze(A),this._edgeObjs[y]=A,i(this._preds[d],c),i(this._sucs[c],d),this._in[d][y]=A,this._out[c][y]=A,this._edgeCount++,this}edge(c,d,f){var p=arguments.length===1?l(this._isDirected,arguments[0]):o(this._isDirected,c,d,f);return this._edgeLabels[p]}edgeAsObj(){const c=this.edge(...arguments);return typeof c!="object"?{label:c}:c}hasEdge(c,d,f){var p=arguments.length===1?l(this._isDirected,arguments[0]):o(this._isDirected,c,d,f);return Object.hasOwn(this._edgeLabels,p)}removeEdge(c,d,f){var p=arguments.length===1?l(this._isDirected,arguments[0]):o(this._isDirected,c,d,f),m=this._edgeObjs[p];return m&&(c=m.v,d=m.w,delete this._edgeLabels[p],delete this._edgeObjs[p],s(this._preds[d],c),s(this._sucs[c],d),delete this._in[d][p],delete this._out[c][p],this._edgeCount--),this}inEdges(c,d){var f=this._in[c];if(f){var p=Object.values(f);return d?p.filter(m=>m.v===d):p}}outEdges(c,d){var f=this._out[c];if(f){var p=Object.values(f);return d?p.filter(m=>m.w===d):p}}nodeEdges(c,d){var f=this.inEdges(c,d);if(f)return f.concat(this.outEdges(c,d))}}function i(u,c){u[c]?u[c]++:u[c]=1}function s(u,c){--u[c]||delete u[c]}function o(u,c,d,f){var p=""+c,m=""+d;if(!u&&p>m){var v=p;p=m,m=v}return p+n+m+n+(f===void 0?t:f)}function a(u,c,d,f){var p=""+c,m=""+d;if(!u&&p>m){var v=p;p=m,m=v}var y={v:p,w:m};return f&&(y.name=f),y}function l(u,c){return o(u,c.v,c.w,c.name)}return PP=r,PP}var RP,oV;function tnt(){return oV||(oV=1,RP="2.2.4"),RP}var NP,aV;function nnt(){return aV||(aV=1,NP={Graph:Oz(),version:tnt()}),NP}var LP,lV;function rnt(){if(lV)return LP;lV=1;var t=Oz();LP={write:e,read:i};function e(s){var o={options:{directed:s.isDirected(),multigraph:s.isMultigraph(),compound:s.isCompound()},nodes:n(s),edges:r(s)};return s.graph()!==void 0&&(o.value=structuredClone(s.graph())),o}function n(s){return s.nodes().map(function(o){var a=s.node(o),l=s.parent(o),u={v:o};return a!==void 0&&(u.value=a),l!==void 0&&(u.parent=l),u})}function r(s){return s.edges().map(function(o){var a=s.edge(o),l={v:o.v,w:o.w};return o.name!==void 0&&(l.name=o.name),a!==void 0&&(l.value=a),l})}function i(s){var o=new t(s.options).setGraph(s.value);return s.nodes.forEach(function(a){o.setNode(a.v,a.value),a.parent&&o.setParent(a.v,a.parent)}),s.edges.forEach(function(a){o.setEdge({v:a.v,w:a.w,name:a.name},a.value)}),o}return LP}var FP,uV;function int(){if(uV)return FP;uV=1,FP=t;function t(e){var n={},r=[],i;function s(o){Object.hasOwn(n,o)||(n[o]=!0,i.push(o),e.successors(o).forEach(s),e.predecessors(o).forEach(s))}return e.nodes().forEach(function(o){i=[],s(o),i.length&&r.push(i)}),r}return FP}var $P,cV;function zhe(){if(cV)return $P;cV=1;class t{_arr=[];_keyIndices={};size(){return this._arr.length}keys(){return this._arr.map(function(n){return n.key})}has(n){return Object.hasOwn(this._keyIndices,n)}priority(n){var r=this._keyIndices[n];if(r!==void 0)return this._arr[r].priority}min(){if(this.size()===0)throw new Error("Queue underflow");return this._arr[0].key}add(n,r){var i=this._keyIndices;if(n=String(n),!Object.hasOwn(i,n)){var s=this._arr,o=s.length;return i[n]=o,s.push({key:n,priority:r}),this._decrease(o),!0}return!1}removeMin(){this._swap(0,this._arr.length-1);var n=this._arr.pop();return delete this._keyIndices[n.key],this._heapify(0),n.key}decrease(n,r){var i=this._keyIndices[n];if(r>this._arr[i].priority)throw new Error("New priority is greater than current priority. Key: "+n+" Old: "+this._arr[i].priority+" New: "+r);this._arr[i].priority=r,this._decrease(i)}_heapify(n){var r=this._arr,i=2*n,s=i+1,o=n;i<r.length&&(o=r[i].priority<r[o].priority?i:o,s<r.length&&(o=r[s].priority<r[o].priority?s:o),o!==n&&(this._swap(n,o),this._heapify(o)))}_decrease(n){for(var r=this._arr,i=r[n].priority,s;n!==0&&(s=n>>1,!(r[s].priority<i));)this._swap(n,s),n=s}_swap(n,r){var i=this._arr,s=this._keyIndices,o=i[n],a=i[r];i[n]=a,i[r]=o,s[a.key]=n,s[o.key]=r}}return $P=t,$P}var zP,dV;function Ohe(){if(dV)return zP;dV=1;var t=zhe();zP=n;var e=()=>1;function n(i,s,o,a){return r(i,String(s),o||e,a||function(l){return i.outEdges(l)})}function r(i,s,o,a){var l={},u=new t,c,d,f=function(p){var m=p.v!==c?p.v:p.w,v=l[m],y=o(p),A=d.distance+y;if(y<0)throw new Error("dijkstra does not allow negative edge weights. Bad edge: "+p+" Weight: "+y);A<v.distance&&(v.distance=A,v.predecessor=c,u.decrease(m,A))};for(i.nodes().forEach(function(p){var m=p===s?0:Number.POSITIVE_INFINITY;l[p]={distance:m},u.add(p,m)});u.size()>0&&(c=u.removeMin(),d=l[c],d.distance!==Number.POSITIVE_INFINITY);)a(c).forEach(f);return l}return zP}var OP,hV;function snt(){if(hV)return OP;hV=1;var t=Ohe();OP=e;function e(n,r,i){return n.nodes().reduce(function(s,o){return s[o]=t(n,o,r,i),s},{})}return OP}var jP,fV;function jhe(){if(fV)return jP;fV=1,jP=t;function t(e){var n=0,r=[],i={},s=[];function o(a){var l=i[a]={onStack:!0,lowlink:n,index:n++};if(r.push(a),e.successors(a).forEach(function(d){Object.hasOwn(i,d)?i[d].onStack&&(l.lowlink=Math.min(l.lowlink,i[d].index)):(o(d),l.lowlink=Math.min(l.lowlink,i[d].lowlink))}),l.lowlink===l.index){var u=[],c;do c=r.pop(),i[c].onStack=!1,u.push(c);while(a!==c);s.push(u)}}return e.nodes().forEach(function(a){Object.hasOwn(i,a)||o(a)}),s}return jP}var QP,pV;function ont(){if(pV)return QP;pV=1;var t=jhe();QP=e;function e(n){return t(n).filter(function(r){return r.length>1||r.length===1&&n.hasEdge(r[0],r[0])})}return QP}var UP,gV;function ant(){if(gV)return UP;gV=1,UP=e;var t=()=>1;function e(r,i,s){return n(r,i||t,s||function(o){return r.outEdges(o)})}function n(r,i,s){var o={},a=r.nodes();return a.forEach(function(l){o[l]={},o[l][l]={distance:0},a.forEach(function(u){l!==u&&(o[l][u]={distance:Number.POSITIVE_INFINITY})}),s(l).forEach(function(u){var c=u.v===l?u.w:u.v,d=i(u);o[l][c]={distance:d,predecessor:l}})}),a.forEach(function(l){var u=o[l];a.forEach(function(c){var d=o[c];a.forEach(function(f){var p=d[l],m=u[f],v=d[f],y=p.distance+m.distance;y<v.distance&&(v.distance=y,v.predecessor=m.predecessor)})})}),o}return UP}var HP,mV;function Qhe(){if(mV)return HP;mV=1;function t(n){var r={},i={},s=[];function o(a){if(Object.hasOwn(i,a))throw new e;Object.hasOwn(r,a)||(i[a]=!0,r[a]=!0,n.predecessors(a).forEach(o),delete i[a],s.push(a))}if(n.sinks().forEach(o),Object.keys(r).length!==n.nodeCount())throw new e;return s}class e extends Error{constructor(){super(...arguments)}}return HP=t,t.CycleException=e,HP}var VP,AV;function lnt(){if(AV)return VP;AV=1;var t=Qhe();VP=e;function e(n){try{t(n)}catch(r){if(r instanceof t.CycleException)return!1;throw r}return!0}return VP}var GP,yV;function Uhe(){if(yV)return GP;yV=1,GP=t;function t(i,s,o){Array.isArray(s)||(s=[s]);var a=i.isDirected()?d=>i.successors(d):d=>i.neighbors(d),l=o==="post"?e:n,u=[],c={};return s.forEach(d=>{if(!i.hasNode(d))throw new Error("Graph does not have node: "+d);l(d,a,c,u)}),u}function e(i,s,o,a){for(var l=[[i,!1]];l.length>0;){var u=l.pop();u[1]?a.push(u[0]):Object.hasOwn(o,u[0])||(o[u[0]]=!0,l.push([u[0],!0]),r(s(u[0]),c=>l.push([c,!1])))}}function n(i,s,o,a){for(var l=[i];l.length>0;){var u=l.pop();Object.hasOwn(o,u)||(o[u]=!0,a.push(u),r(s(u),c=>l.push(c)))}}function r(i,s){for(var o=i.length;o--;)s(i[o],o,i);return i}return GP}var KP,vV;function unt(){if(vV)return KP;vV=1;var t=Uhe();KP=e;function e(n,r){return t(n,r,"post")}return KP}var WP,bV;function cnt(){if(bV)return WP;bV=1;var t=Uhe();WP=e;function e(n,r){return t(n,r,"pre")}return WP}var qP,xV;function dnt(){if(xV)return qP;xV=1;var t=Oz(),e=zhe();qP=n;function n(r,i){var s=new t,o={},a=new e,l;function u(d){var f=d.v===l?d.w:d.v,p=a.priority(f);if(p!==void 0){var m=i(d);m<p&&(o[f]=l,a.decrease(f,m))}}if(r.nodeCount()===0)return s;r.nodes().forEach(function(d){a.add(d,Number.POSITIVE_INFINITY),s.setNode(d)}),a.decrease(r.nodes()[0],0);for(var c=!1;a.size()>0;){if(l=a.removeMin(),Object.hasOwn(o,l))s.setEdge(l,o[l]);else{if(c)throw new Error("Input graph is not connected: "+r);c=!0}r.nodeEdges(l).forEach(u)}return s}return qP}var YP,CV;function hnt(){return CV||(CV=1,YP={components:int(),dijkstra:Ohe(),dijkstraAll:snt(),findCycles:ont(),floydWarshall:ant(),isAcyclic:lnt(),postorder:unt(),preorder:cnt(),prim:dnt(),tarjan:jhe(),topsort:Qhe()}),YP}var XP,EV;function Hp(){if(EV)return XP;EV=1;var t=nnt();return XP={Graph:t.Graph,json:rnt(),alg:hnt(),version:t.version},XP}var JP,SV;function fnt(){if(SV)return JP;SV=1;class t{constructor(){let i={};i._next=i._prev=i,this._sentinel=i}dequeue(){let i=this._sentinel,s=i._prev;if(s!==i)return e(s),s}enqueue(i){let s=this._sentinel;i._prev&&i._next&&e(i),i._next=s._next,s._next._prev=i,s._next=i,i._prev=s}toString(){let i=[],s=this._sentinel,o=s._prev;for(;o!==s;)i.push(JSON.stringify(o,n)),o=o._prev;return"["+i.join(", ")+"]"}}function e(r){r._prev._next=r._next,r._next._prev=r._prev,delete r._next,delete r._prev}function n(r,i){if(r!=="_next"&&r!=="_prev")return i}return JP=t,JP}var ZP,wV;function pnt(){if(wV)return ZP;wV=1;let t=Hp().Graph,e=fnt();ZP=r;let n=()=>1;function r(u,c){if(u.nodeCount()<=1)return[];let d=o(u,c||n);return i(d.graph,d.buckets,d.zeroIdx).flatMap(p=>u.outEdges(p.v,p.w))}function i(u,c,d){let f=[],p=c[c.length-1],m=c[0],v;for(;u.nodeCount();){for(;v=m.dequeue();)s(u,c,d,v);for(;v=p.dequeue();)s(u,c,d,v);if(u.nodeCount()){for(let y=c.length-2;y>0;--y)if(v=c[y].dequeue(),v){f=f.concat(s(u,c,d,v,!0));break}}}return f}function s(u,c,d,f,p){let m=p?[]:void 0;return u.inEdges(f.v).forEach(v=>{let y=u.edge(v),A=u.node(v.v);p&&m.push({v:v.v,w:v.w}),A.out-=y,a(c,d,A)}),u.outEdges(f.v).forEach(v=>{let y=u.edge(v),A=v.w,C=u.node(A);C.in-=y,a(c,d,C)}),u.removeNode(f.v),m}function o(u,c){let d=new t,f=0,p=0;u.nodes().forEach(y=>{d.setNode(y,{v:y,in:0,out:0})}),u.edges().forEach(y=>{let A=d.edge(y.v,y.w)||0,C=c(y),E=A+C;d.setEdge(y.v,y.w,E),p=Math.max(p,d.node(y.v).out+=C),f=Math.max(f,d.node(y.w).in+=C)});let m=l(p+f+3).map(()=>new e),v=f+1;return d.nodes().forEach(y=>{a(m,v,d.node(y))}),{graph:d,buckets:m,zeroIdx:v}}function a(u,c,d){d.out?d.in?u[d.out-d.in+c].enqueue(d):u[u.length-1].enqueue(d):u[0].enqueue(d)}function l(u){const c=[];for(let d=0;d<u;d++)c.push(d);return c}return ZP}var eR,_V;function za(){if(_V)return eR;_V=1;let t=Hp().Graph;eR={addBorderNode:c,addDummyNode:e,applyWithChunking:p,asNonCompoundGraph:r,buildLayerMatrix:a,intersectRect:o,mapValues:T,maxRank:m,normalizeRanks:l,notime:A,partition:v,pick:D,predecessorWeights:s,range:I,removeEmptyRanks:u,simplify:n,successorWeights:i,time:y,uniqueId:E,zipObject:M};function e(P,k,L,$){for(var z=$;P.hasNode(z);)z=E($);return L.dummy=k,P.setNode(z,L),z}function n(P){let k=new t().setGraph(P.graph());return P.nodes().forEach(L=>k.setNode(L,P.node(L))),P.edges().forEach(L=>{let $=k.edge(L.v,L.w)||{weight:0,minlen:1},z=P.edge(L);k.setEdge(L.v,L.w,{weight:$.weight+z.weight,minlen:Math.max($.minlen,z.minlen)})}),k}function r(P){let k=new t({multigraph:P.isMultigraph()}).setGraph(P.graph());return P.nodes().forEach(L=>{P.children(L).length||k.setNode(L,P.node(L))}),P.edges().forEach(L=>{k.setEdge(L,P.edge(L))}),k}function i(P){let k=P.nodes().map(L=>{let $={};return P.outEdges(L).forEach(z=>{$[z.w]=($[z.w]||0)+P.edge(z).weight}),$});return M(P.nodes(),k)}function s(P){let k=P.nodes().map(L=>{let $={};return P.inEdges(L).forEach(z=>{$[z.v]=($[z.v]||0)+P.edge(z).weight}),$});return M(P.nodes(),k)}function o(P,k){let L=P.x,$=P.y,z=k.x-L,j=k.y-$,H=P.width/2,W=P.height/2;if(!z&&!j)throw new Error("Not possible to find intersection inside of the rectangle");let O,G;return Math.abs(j)*H>Math.abs(z)*W?(j<0&&(W=-W),O=W*z/j,G=W):(z<0&&(H=-H),O=H,G=H*j/z),{x:L+O,y:$+G}}function a(P){let k=I(m(P)+1).map(()=>[]);return P.nodes().forEach(L=>{let $=P.node(L),z=$.rank;z!==void 0&&(k[z][$.order]=L)}),k}function l(P){let k=P.nodes().map($=>{let z=P.node($).rank;return z===void 0?Number.MAX_VALUE:z}),L=p(Math.min,k);P.nodes().forEach($=>{let z=P.node($);Object.hasOwn(z,"rank")&&(z.rank-=L)})}function u(P){let k=P.nodes().map(H=>P.node(H).rank),L=p(Math.min,k),$=[];P.nodes().forEach(H=>{let W=P.node(H).rank-L;$[W]||($[W]=[]),$[W].push(H)});let z=0,j=P.graph().nodeRankFactor;Array.from($).forEach((H,W)=>{H===void 0&&W%j!==0?--z:H!==void 0&&z&&H.forEach(O=>P.node(O).rank+=z)})}function c(P,k,L,$){let z={width:0,height:0};return arguments.length>=4&&(z.rank=L,z.order=$),e(P,"border",z,k)}function d(P,k=f){const L=[];for(let $=0;$<P.length;$+=k){const z=P.slice($,$+k);L.push(z)}return L}const f=65535;function p(P,k){if(k.length>f){const L=d(k);return P.apply(null,L.map($=>P.apply(null,$)))}else return P.apply(null,k)}function m(P){const L=P.nodes().map($=>{let z=P.node($).rank;return z===void 0?Number.MIN_VALUE:z});return p(Math.max,L)}function v(P,k){let L={lhs:[],rhs:[]};return P.forEach($=>{k($)?L.lhs.push($):L.rhs.push($)}),L}function y(P,k){let L=Date.now();try{return k()}finally{console.log(P+" time: "+(Date.now()-L)+"ms")}}function A(P,k){return k()}let C=0;function E(P){var k=++C;return P+(""+k)}function I(P,k,L=1){k==null&&(k=P,P=0);let $=j=>j<k;L<0&&($=j=>k<j);const z=[];for(let j=P;$(j);j+=L)z.push(j);return z}function D(P,k){const L={};for(const $ of k)P[$]!==void 0&&(L[$]=P[$]);return L}function T(P,k){let L=k;return typeof k=="string"&&(L=$=>$[k]),Object.entries(P).reduce(($,[z,j])=>($[z]=L(j,z),$),{})}function M(P,k){return P.reduce((L,$,z)=>(L[$]=k[z],L),{})}return eR}var tR,IV;function gnt(){if(IV)return tR;IV=1;let t=pnt(),e=za().uniqueId;tR={run:n,undo:i};function n(s){(s.graph().acyclicer==="greedy"?t(s,a(s)):r(s)).forEach(l=>{let u=s.edge(l);s.removeEdge(l),u.forwardName=l.name,u.reversed=!0,s.setEdge(l.w,l.v,u,e("rev"))});function a(l){return u=>l.edge(u).weight}}function r(s){let o=[],a={},l={};function u(c){Object.hasOwn(l,c)||(l[c]=!0,a[c]=!0,s.outEdges(c).forEach(d=>{Object.hasOwn(a,d.w)?o.push(d):u(d.w)}),delete a[c])}return s.nodes().forEach(u),o}function i(s){s.edges().forEach(o=>{let a=s.edge(o);if(a.reversed){s.removeEdge(o);let l=a.forwardName;delete a.reversed,delete a.forwardName,s.setEdge(o.w,o.v,a,l)}})}return tR}var nR,BV;function mnt(){if(BV)return nR;BV=1;let t=za();nR={run:e,undo:r};function e(i){i.graph().dummyChains=[],i.edges().forEach(s=>n(i,s))}function n(i,s){let o=s.v,a=i.node(o).rank,l=s.w,u=i.node(l).rank,c=s.name,d=i.edge(s),f=d.labelRank;if(u===a+1)return;i.removeEdge(s);let p,m,v;for(v=0,++a;a<u;++v,++a)d.points=[],m={width:0,height:0,edgeLabel:d,edgeObj:s,rank:a},p=t.addDummyNode(i,"edge",m,"_d"),a===f&&(m.width=d.width,m.height=d.height,m.dummy="edge-label",m.labelpos=d.labelpos),i.setEdge(o,p,{weight:d.weight},c),v===0&&i.graph().dummyChains.push(p),o=p;i.setEdge(o,l,{weight:d.weight},c)}function r(i){i.graph().dummyChains.forEach(s=>{let o=i.node(s),a=o.edgeLabel,l;for(i.setEdge(o.edgeObj,a);o.dummy;)l=i.successors(s)[0],i.removeNode(s),a.points.push({x:o.x,y:o.y}),o.dummy==="edge-label"&&(a.x=o.x,a.y=o.y,a.width=o.width,a.height=o.height),s=l,o=i.node(s)})}return nR}var rR,DV;function KD(){if(DV)return rR;DV=1;const{applyWithChunking:t}=za();rR={longestPath:e,slack:n};function e(r){var i={};function s(o){var a=r.node(o);if(Object.hasOwn(i,o))return a.rank;i[o]=!0;let l=r.outEdges(o).map(c=>c==null?Number.POSITIVE_INFINITY:s(c.w)-r.edge(c).minlen);var u=t(Math.min,l);return u===Number.POSITIVE_INFINITY&&(u=0),a.rank=u}r.sources().forEach(s)}function n(r,i){return r.node(i.w).rank-r.node(i.v).rank-r.edge(i).minlen}return rR}var iR,TV;function Hhe(){if(TV)return iR;TV=1;var t=Hp().Graph,e=KD().slack;iR=n;function n(o){var a=new t({directed:!1}),l=o.nodes()[0],u=o.nodeCount();a.setNode(l,{});for(var c,d;r(a,o)<u;)c=i(a,o),d=a.hasNode(c.v)?e(o,c):-e(o,c),s(a,o,d);return a}function r(o,a){function l(u){a.nodeEdges(u).forEach(c=>{var d=c.v,f=u===d?c.w:d;!o.hasNode(f)&&!e(a,c)&&(o.setNode(f,{}),o.setEdge(u,f,{}),l(f))})}return o.nodes().forEach(l),o.nodeCount()}function i(o,a){return a.edges().reduce((u,c)=>{let d=Number.POSITIVE_INFINITY;return o.hasNode(c.v)!==o.hasNode(c.w)&&(d=e(a,c)),d<u[0]?[d,c]:u},[Number.POSITIVE_INFINITY,null])[1]}function s(o,a,l){o.nodes().forEach(u=>a.node(u).rank+=l)}return iR}var sR,MV;function Ant(){if(MV)return sR;MV=1;var t=Hhe(),e=KD().slack,n=KD().longestPath,r=Hp().alg.preorder,i=Hp().alg.postorder,s=za().simplify;sR=o,o.initLowLimValues=c,o.initCutValues=a,o.calcCutValue=u,o.leaveEdge=f,o.enterEdge=p,o.exchangeEdges=m;function o(C){C=s(C),n(C);var E=t(C);c(E),a(E,C);for(var I,D;I=f(E);)D=p(E,C,I),m(E,C,I,D)}function a(C,E){var I=i(C,C.nodes());I=I.slice(0,I.length-1),I.forEach(D=>l(C,E,D))}function l(C,E,I){var D=C.node(I),T=D.parent;C.edge(I,T).cutvalue=u(C,E,I)}function u(C,E,I){var D=C.node(I),T=D.parent,M=!0,P=E.edge(I,T),k=0;return P||(M=!1,P=E.edge(T,I)),k=P.weight,E.nodeEdges(I).forEach(L=>{var $=L.v===I,z=$?L.w:L.v;if(z!==T){var j=$===M,H=E.edge(L).weight;if(k+=j?H:-H,y(C,I,z)){var W=C.edge(I,z).cutvalue;k+=j?-W:W}}}),k}function c(C,E){arguments.length<2&&(E=C.nodes()[0]),d(C,{},1,E)}function d(C,E,I,D,T){var M=I,P=C.node(D);return E[D]=!0,C.neighbors(D).forEach(k=>{Object.hasOwn(E,k)||(I=d(C,E,I,k,D))}),P.low=M,P.lim=I++,T?P.parent=T:delete P.parent,I}function f(C){return C.edges().find(E=>C.edge(E).cutvalue<0)}function p(C,E,I){var D=I.v,T=I.w;E.hasEdge(D,T)||(D=I.w,T=I.v);var M=C.node(D),P=C.node(T),k=M,L=!1;M.lim>P.lim&&(k=P,L=!0);var $=E.edges().filter(z=>L===A(C,C.node(z.v),k)&&L!==A(C,C.node(z.w),k));return $.reduce((z,j)=>e(E,j)<e(E,z)?j:z)}function m(C,E,I,D){var T=I.v,M=I.w;C.removeEdge(T,M),C.setEdge(D.v,D.w,{}),c(C),a(C,E),v(C,E)}function v(C,E){var I=C.nodes().find(T=>!E.node(T).parent),D=r(C,I);D=D.slice(1),D.forEach(T=>{var M=C.node(T).parent,P=E.edge(T,M),k=!1;P||(P=E.edge(M,T),k=!0),E.node(T).rank=E.node(M).rank+(k?P.minlen:-P.minlen)})}function y(C,E,I){return C.hasEdge(E,I)}function A(C,E,I){return I.low<=E.lim&&E.lim<=I.lim}return sR}var oR,kV;function ynt(){if(kV)return oR;kV=1;var t=KD(),e=t.longestPath,n=Hhe(),r=Ant();oR=i;function i(l){var u=l.graph().ranker;if(u instanceof Function)return u(l);switch(l.graph().ranker){case"network-simplex":a(l);break;case"tight-tree":o(l);break;case"longest-path":s(l);break;case"none":break;default:a(l)}}var s=e;function o(l){e(l),n(l)}function a(l){r(l)}return oR}var aR,PV;function vnt(){if(PV)return aR;PV=1,aR=t;function t(r){let i=n(r);r.graph().dummyChains.forEach(s=>{let o=r.node(s),a=o.edgeObj,l=e(r,i,a.v,a.w),u=l.path,c=l.lca,d=0,f=u[d],p=!0;for(;s!==a.w;){if(o=r.node(s),p){for(;(f=u[d])!==c&&r.node(f).maxRank<o.rank;)d++;f===c&&(p=!1)}if(!p){for(;d<u.length-1&&r.node(f=u[d+1]).minRank<=o.rank;)d++;f=u[d]}r.setParent(s,f),s=r.successors(s)[0]}})}function e(r,i,s,o){let a=[],l=[],u=Math.min(i[s].low,i[o].low),c=Math.max(i[s].lim,i[o].lim),d,f;d=s;do d=r.parent(d),a.push(d);while(d&&(i[d].low>u||c>i[d].lim));for(f=d,d=o;(d=r.parent(d))!==f;)l.push(d);return{path:a.concat(l.reverse()),lca:f}}function n(r){let i={},s=0;function o(a){let l=s;r.children(a).forEach(o),i[a]={low:l,lim:s++}}return r.children().forEach(o),i}return aR}var lR,RV;function bnt(){if(RV)return lR;RV=1;let t=za();lR={run:e,cleanup:s};function e(o){let a=t.addDummyNode(o,"root",{},"_root"),l=r(o),u=Object.values(l),c=t.applyWithChunking(Math.max,u)-1,d=2*c+1;o.graph().nestingRoot=a,o.edges().forEach(p=>o.edge(p).minlen*=d);let f=i(o)+1;o.children().forEach(p=>n(o,a,d,f,c,l,p)),o.graph().nodeRankFactor=d}function n(o,a,l,u,c,d,f){let p=o.children(f);if(!p.length){f!==a&&o.setEdge(a,f,{weight:0,minlen:l});return}let m=t.addBorderNode(o,"_bt"),v=t.addBorderNode(o,"_bb"),y=o.node(f);o.setParent(m,f),y.borderTop=m,o.setParent(v,f),y.borderBottom=v,p.forEach(A=>{n(o,a,l,u,c,d,A);let C=o.node(A),E=C.borderTop?C.borderTop:A,I=C.borderBottom?C.borderBottom:A,D=C.borderTop?u:2*u,T=E!==I?1:c-d[f]+1;o.setEdge(m,E,{weight:D,minlen:T,nestingEdge:!0}),o.setEdge(I,v,{weight:D,minlen:T,nestingEdge:!0})}),o.parent(f)||o.setEdge(a,m,{weight:0,minlen:c+d[f]})}function r(o){var a={};function l(u,c){var d=o.children(u);d&&d.length&&d.forEach(f=>l(f,c+1)),a[u]=c}return o.children().forEach(u=>l(u,1)),a}function i(o){return o.edges().reduce((a,l)=>a+o.edge(l).weight,0)}function s(o){var a=o.graph();o.removeNode(a.nestingRoot),delete a.nestingRoot,o.edges().forEach(l=>{var u=o.edge(l);u.nestingEdge&&o.removeEdge(l)})}return lR}var uR,NV;function xnt(){if(NV)return uR;NV=1;let t=za();uR=e;function e(r){function i(s){let o=r.children(s),a=r.node(s);if(o.length&&o.forEach(i),Object.hasOwn(a,"minRank")){a.borderLeft=[],a.borderRight=[];for(let l=a.minRank,u=a.maxRank+1;l<u;++l)n(r,"borderLeft","_bl",s,a,l),n(r,"borderRight","_br",s,a,l)}}r.children().forEach(i)}function n(r,i,s,o,a,l){let u={width:0,height:0,rank:l,borderType:i},c=a[i][l-1],d=t.addDummyNode(r,"border",u,s);a[i][l]=d,r.setParent(d,o),c&&r.setEdge(c,d,{weight:1})}return uR}var cR,LV;function Cnt(){if(LV)return cR;LV=1,cR={adjust:t,undo:e};function t(l){let u=l.graph().rankdir.toLowerCase();(u==="lr"||u==="rl")&&n(l)}function e(l){let u=l.graph().rankdir.toLowerCase();(u==="bt"||u==="rl")&&i(l),(u==="lr"||u==="rl")&&(o(l),n(l))}function n(l){l.nodes().forEach(u=>r(l.node(u))),l.edges().forEach(u=>r(l.edge(u)))}function r(l){let u=l.width;l.width=l.height,l.height=u}function i(l){l.nodes().forEach(u=>s(l.node(u))),l.edges().forEach(u=>{let c=l.edge(u);c.points.forEach(s),Object.hasOwn(c,"y")&&s(c)})}function s(l){l.y=-l.y}function o(l){l.nodes().forEach(u=>a(l.node(u))),l.edges().forEach(u=>{let c=l.edge(u);c.points.forEach(a),Object.hasOwn(c,"x")&&a(c)})}function a(l){let u=l.x;l.x=l.y,l.y=u}return cR}var dR,FV;function Ent(){if(FV)return dR;FV=1;let t=za();dR=e;function e(n){let r={},i=n.nodes().filter(c=>!n.children(c).length),s=i.map(c=>n.node(c).rank),o=t.applyWithChunking(Math.max,s),a=t.range(o+1).map(()=>[]);function l(c){if(r[c])return;r[c]=!0;let d=n.node(c);a[d.rank].push(c),n.successors(c).forEach(l)}return i.sort((c,d)=>n.node(c).rank-n.node(d).rank).forEach(l),a}return dR}var hR,$V;function Snt(){if($V)return hR;$V=1;let t=za().zipObject;hR=e;function e(r,i){let s=0;for(let o=1;o<i.length;++o)s+=n(r,i[o-1],i[o]);return s}function n(r,i,s){let o=t(s,s.map((f,p)=>p)),a=i.flatMap(f=>r.outEdges(f).map(p=>({pos:o[p.w],weight:r.edge(p).weight})).sort((p,m)=>p.pos-m.pos)),l=1;for(;l<s.length;)l<<=1;let u=2*l-1;l-=1;let c=new Array(u).fill(0),d=0;return a.forEach(f=>{let p=f.pos+l;c[p]+=f.weight;let m=0;for(;p>0;)p%2&&(m+=c[p+1]),p=p-1>>1,c[p]+=f.weight;d+=f.weight*m}),d}return hR}var fR,zV;function wnt(){if(zV)return fR;zV=1,fR=t;function t(e,n=[]){return n.map(r=>{let i=e.inEdges(r);if(i.length){let s=i.reduce((o,a)=>{let l=e.edge(a),u=e.node(a.v);return{sum:o.sum+l.weight*u.order,weight:o.weight+l.weight}},{sum:0,weight:0});return{v:r,barycenter:s.sum/s.weight,weight:s.weight}}else return{v:r}})}return fR}var pR,OV;function _nt(){if(OV)return pR;OV=1;let t=za();pR=e;function e(i,s){let o={};i.forEach((l,u)=>{let c=o[l.v]={indegree:0,in:[],out:[],vs:[l.v],i:u};l.barycenter!==void 0&&(c.barycenter=l.barycenter,c.weight=l.weight)}),s.edges().forEach(l=>{let u=o[l.v],c=o[l.w];u!==void 0&&c!==void 0&&(c.indegree++,u.out.push(o[l.w]))});let a=Object.values(o).filter(l=>!l.indegree);return n(a)}function n(i){let s=[];function o(l){return u=>{u.merged||(u.barycenter===void 0||l.barycenter===void 0||u.barycenter>=l.barycenter)&&r(l,u)}}function a(l){return u=>{u.in.push(l),--u.indegree===0&&i.push(u)}}for(;i.length;){let l=i.pop();s.push(l),l.in.reverse().forEach(o(l)),l.out.forEach(a(l))}return s.filter(l=>!l.merged).map(l=>t.pick(l,["vs","i","barycenter","weight"]))}function r(i,s){let o=0,a=0;i.weight&&(o+=i.barycenter*i.weight,a+=i.weight),s.weight&&(o+=s.barycenter*s.weight,a+=s.weight),i.vs=s.vs.concat(i.vs),i.barycenter=o/a,i.weight=a,i.i=Math.min(s.i,i.i),s.merged=!0}return pR}var gR,jV;function Int(){if(jV)return gR;jV=1;let t=za();gR=e;function e(i,s){let o=t.partition(i,m=>Object.hasOwn(m,"barycenter")),a=o.lhs,l=o.rhs.sort((m,v)=>v.i-m.i),u=[],c=0,d=0,f=0;a.sort(r(!!s)),f=n(u,l,f),a.forEach(m=>{f+=m.vs.length,u.push(m.vs),c+=m.barycenter*m.weight,d+=m.weight,f=n(u,l,f)});let p={vs:u.flat(!0)};return d&&(p.barycenter=c/d,p.weight=d),p}function n(i,s,o){let a;for(;s.length&&(a=s[s.length-1]).i<=o;)s.pop(),i.push(a.vs),o++;return o}function r(i){return(s,o)=>s.barycenter<o.barycenter?-1:s.barycenter>o.barycenter?1:i?o.i-s.i:s.i-o.i}return gR}var mR,QV;function Bnt(){if(QV)return mR;QV=1;let t=wnt(),e=_nt(),n=Int();mR=r;function r(o,a,l,u){let c=o.children(a),d=o.node(a),f=d?d.borderLeft:void 0,p=d?d.borderRight:void 0,m={};f&&(c=c.filter(C=>C!==f&&C!==p));let v=t(o,c);v.forEach(C=>{if(o.children(C.v).length){let E=r(o,C.v,l,u);m[C.v]=E,Object.hasOwn(E,"barycenter")&&s(C,E)}});let y=e(v,l);i(y,m);let A=n(y,u);if(f&&(A.vs=[f,A.vs,p].flat(!0),o.predecessors(f).length)){let C=o.node(o.predecessors(f)[0]),E=o.node(o.predecessors(p)[0]);Object.hasOwn(A,"barycenter")||(A.barycenter=0,A.weight=0),A.barycenter=(A.barycenter*A.weight+C.order+E.order)/(A.weight+2),A.weight+=2}return A}function i(o,a){o.forEach(l=>{l.vs=l.vs.flatMap(u=>a[u]?a[u].vs:u)})}function s(o,a){o.barycenter!==void 0?(o.barycenter=(o.barycenter*o.weight+a.barycenter*a.weight)/(o.weight+a.weight),o.weight+=a.weight):(o.barycenter=a.barycenter,o.weight=a.weight)}return mR}var AR,UV;function Dnt(){if(UV)return AR;UV=1;let t=Hp().Graph,e=za();AR=n;function n(i,s,o,a){a||(a=i.nodes());let l=r(i),u=new t({compound:!0}).setGraph({root:l}).setDefaultNodeLabel(c=>i.node(c));return a.forEach(c=>{let d=i.node(c),f=i.parent(c);(d.rank===s||d.minRank<=s&&s<=d.maxRank)&&(u.setNode(c),u.setParent(c,f||l),i[o](c).forEach(p=>{let m=p.v===c?p.w:p.v,v=u.edge(m,c),y=v!==void 0?v.weight:0;u.setEdge(m,c,{weight:i.edge(p).weight+y})}),Object.hasOwn(d,"minRank")&&u.setNode(c,{borderLeft:d.borderLeft[s],borderRight:d.borderRight[s]}))}),u}function r(i){for(var s;i.hasNode(s=e.uniqueId("_root")););return s}return AR}var yR,HV;function Tnt(){if(HV)return yR;HV=1,yR=t;function t(e,n,r){let i={},s;r.forEach(o=>{let a=e.parent(o),l,u;for(;a;){if(l=e.parent(a),l?(u=i[l],i[l]=a):(u=s,s=a),u&&u!==a){n.setEdge(u,a);return}a=l}})}return yR}var vR,VV;function Mnt(){if(VV)return vR;VV=1;let t=Ent(),e=Snt(),n=Bnt(),r=Dnt(),i=Tnt(),s=Hp().Graph,o=za();vR=a;function a(d,f){if(f&&typeof f.customOrder=="function"){f.customOrder(d,a);return}let p=o.maxRank(d),m=l(d,o.range(1,p+1),"inEdges"),v=l(d,o.range(p-1,-1,-1),"outEdges"),y=t(d);if(c(d,y),f&&f.disableOptimalOrderHeuristic)return;let A=Number.POSITIVE_INFINITY,C;for(let E=0,I=0;I<4;++E,++I){u(E%2?m:v,E%4>=2),y=o.buildLayerMatrix(d);let D=e(d,y);D<A&&(I=0,C=Object.assign({},y),A=D)}c(d,C)}function l(d,f,p){const m=new Map,v=(y,A)=>{m.has(y)||m.set(y,[]),m.get(y).push(A)};for(const y of d.nodes()){const A=d.node(y);if(typeof A.rank=="number"&&v(A.rank,y),typeof A.minRank=="number"&&typeof A.maxRank=="number")for(let C=A.minRank;C<=A.maxRank;C++)C!==A.rank&&v(C,y)}return f.map(function(y){return r(d,y,p,m.get(y)||[])})}function u(d,f){let p=new s;d.forEach(function(m){let v=m.graph().root,y=n(m,v,p,f);y.vs.forEach((A,C)=>m.node(A).order=C),i(m,p,y.vs)})}function c(d,f){Object.values(f).forEach(p=>p.forEach((m,v)=>d.node(m).order=v))}return vR}var bR,GV;function knt(){if(GV)return bR;GV=1;let t=Hp().Graph,e=za();bR={positionX:p,findType1Conflicts:n,findType2Conflicts:r,addConflict:s,hasConflict:o,verticalAlignment:a,horizontalCompaction:l,alignCoordinates:d,findSmallestWidthAlignment:c,balance:f};function n(y,A){let C={};function E(I,D){let T=0,M=0,P=I.length,k=D[D.length-1];return D.forEach((L,$)=>{let z=i(y,L),j=z?y.node(z).order:P;(z||L===k)&&(D.slice(M,$+1).forEach(H=>{y.predecessors(H).forEach(W=>{let O=y.node(W),G=O.order;(G<T||j<G)&&!(O.dummy&&y.node(H).dummy)&&s(C,W,H)})}),M=$+1,T=j)}),D}return A.length&&A.reduce(E),C}function r(y,A){let C={};function E(D,T,M,P,k){let L;e.range(T,M).forEach($=>{L=D[$],y.node(L).dummy&&y.predecessors(L).forEach(z=>{let j=y.node(z);j.dummy&&(j.order<P||j.order>k)&&s(C,z,L)})})}function I(D,T){let M=-1,P,k=0;return T.forEach((L,$)=>{if(y.node(L).dummy==="border"){let z=y.predecessors(L);z.length&&(P=y.node(z[0]).order,E(T,k,$,M,P),k=$,M=P)}E(T,k,T.length,P,D.length)}),T}return A.length&&A.reduce(I),C}function i(y,A){if(y.node(A).dummy)return y.predecessors(A).find(C=>y.node(C).dummy)}function s(y,A,C){if(A>C){let I=A;A=C,C=I}let E=y[A];E||(y[A]=E={}),E[C]=!0}function o(y,A,C){if(A>C){let E=A;A=C,C=E}return!!y[A]&&Object.hasOwn(y[A],C)}function a(y,A,C,E){let I={},D={},T={};return A.forEach(M=>{M.forEach((P,k)=>{I[P]=P,D[P]=P,T[P]=k})}),A.forEach(M=>{let P=-1;M.forEach(k=>{let L=E(k);if(L.length){L=L.sort((z,j)=>T[z]-T[j]);let $=(L.length-1)/2;for(let z=Math.floor($),j=Math.ceil($);z<=j;++z){let H=L[z];D[k]===k&&P<T[H]&&!o(C,k,H)&&(D[H]=k,D[k]=I[k]=I[H],P=T[H])}}})}),{root:I,align:D}}function l(y,A,C,E,I){let D={},T=u(y,A,C,I),M=I?"borderLeft":"borderRight";function P($,z){let j=T.nodes(),H=j.pop(),W={};for(;H;)W[H]?$(H):(W[H]=!0,j.push(H),j=j.concat(z(H))),H=j.pop()}function k($){D[$]=T.inEdges($).reduce((z,j)=>Math.max(z,D[j.v]+T.edge(j)),0)}function L($){let z=T.outEdges($).reduce((H,W)=>Math.min(H,D[W.w]-T.edge(W)),Number.POSITIVE_INFINITY),j=y.node($);z!==Number.POSITIVE_INFINITY&&j.borderType!==M&&(D[$]=Math.max(D[$],z))}return P(k,T.predecessors.bind(T)),P(L,T.successors.bind(T)),Object.keys(E).forEach($=>D[$]=D[C[$]]),D}function u(y,A,C,E){let I=new t,D=y.graph(),T=m(D.nodesep,D.edgesep,E);return A.forEach(M=>{let P;M.forEach(k=>{let L=C[k];if(I.setNode(L),P){var $=C[P],z=I.edge($,L);I.setEdge($,L,Math.max(T(y,k,P),z||0))}P=k})}),I}function c(y,A){return Object.values(A).reduce((C,E)=>{let I=Number.NEGATIVE_INFINITY,D=Number.POSITIVE_INFINITY;Object.entries(E).forEach(([M,P])=>{let k=v(y,M)/2;I=Math.max(P+k,I),D=Math.min(P-k,D)});const T=I-D;return T<C[0]&&(C=[T,E]),C},[Number.POSITIVE_INFINITY,null])[1]}function d(y,A){let C=Object.values(A),E=e.applyWithChunking(Math.min,C),I=e.applyWithChunking(Math.max,C);["u","d"].forEach(D=>{["l","r"].forEach(T=>{let M=D+T,P=y[M];if(P===A)return;let k=Object.values(P),L=E-e.applyWithChunking(Math.min,k);T!=="l"&&(L=I-e.applyWithChunking(Math.max,k)),L&&(y[M]=e.mapValues(P,$=>$+L))})})}function f(y,A){return e.mapValues(y.ul,(C,E)=>{if(A)return y[A.toLowerCase()][E];{let I=Object.values(y).map(D=>D[E]).sort((D,T)=>D-T);return(I[1]+I[2])/2}})}function p(y){let A=e.buildLayerMatrix(y),C=Object.assign(n(y,A),r(y,A)),E={},I;["u","d"].forEach(T=>{I=T==="u"?A:Object.values(A).reverse(),["l","r"].forEach(M=>{M==="r"&&(I=I.map($=>Object.values($).reverse()));let P=(T==="u"?y.predecessors:y.successors).bind(y),k=a(y,I,C,P),L=l(y,I,k.root,k.align,M==="r");M==="r"&&(L=e.mapValues(L,$=>-$)),E[T+M]=L})});let D=c(y,E);return d(E,D),f(E,y.graph().align)}function m(y,A,C){return(E,I,D)=>{let T=E.node(I),M=E.node(D),P=0,k;if(P+=T.width/2,Object.hasOwn(T,"labelpos"))switch(T.labelpos.toLowerCase()){case"l":k=-T.width/2;break;case"r":k=T.width/2;break}if(k&&(P+=C?k:-k),k=0,P+=(T.dummy?A:y)/2,P+=(M.dummy?A:y)/2,P+=M.width/2,Object.hasOwn(M,"labelpos"))switch(M.labelpos.toLowerCase()){case"l":k=M.width/2;break;case"r":k=-M.width/2;break}return k&&(P+=C?k:-k),k=0,P}}function v(y,A){return y.node(A).width}return bR}var xR,KV;function Pnt(){if(KV)return xR;KV=1;let t=za(),e=knt().positionX;xR=n;function n(i){i=t.asNonCompoundGraph(i),r(i),Object.entries(e(i)).forEach(([s,o])=>i.node(s).x=o)}function r(i){let s=t.buildLayerMatrix(i),o=i.graph().ranksep,a=0;s.forEach(l=>{const u=l.reduce((c,d)=>{const f=i.node(d).height;return c>f?c:f},0);l.forEach(c=>i.node(c).y=a+u/2),a+=u+o})}return xR}var CR,WV;function Rnt(){if(WV)return CR;WV=1;let t=gnt(),e=mnt(),n=ynt(),r=za().normalizeRanks,i=vnt(),s=za().removeEmptyRanks,o=bnt(),a=xnt(),l=Cnt(),u=Mnt(),c=Pnt(),d=za(),f=Hp().Graph;CR=p;function p(ee,ie){let ue=ie&&ie.debugTiming?d.time:d.notime;ue("layout",()=>{let ae=ue("  buildLayoutGraph",()=>P(ee));ue("  runLayout",()=>m(ae,ue,ie)),ue("  updateInputGraph",()=>v(ee,ae))})}function m(ee,ie,ue){ie("    makeSpaceForEdgeLabels",()=>k(ee)),ie("    removeSelfEdges",()=>q(ee)),ie("    acyclic",()=>t.run(ee)),ie("    nestingGraph.run",()=>o.run(ee)),ie("    rank",()=>n(d.asNonCompoundGraph(ee))),ie("    injectEdgeLabelProxies",()=>L(ee)),ie("    removeEmptyRanks",()=>s(ee)),ie("    nestingGraph.cleanup",()=>o.cleanup(ee)),ie("    normalizeRanks",()=>r(ee)),ie("    assignRankMinMax",()=>$(ee)),ie("    removeEdgeLabelProxies",()=>z(ee)),ie("    normalize.run",()=>e.run(ee)),ie("    parentDummyChains",()=>i(ee)),ie("    addBorderSegments",()=>a(ee)),ie("    order",()=>u(ee,ue)),ie("    insertSelfEdges",()=>J(ee)),ie("    adjustCoordinateSystem",()=>l.adjust(ee)),ie("    position",()=>c(ee)),ie("    positionSelfEdges",()=>te(ee)),ie("    removeBorderNodes",()=>G(ee)),ie("    normalize.undo",()=>e.undo(ee)),ie("    fixupEdgeLabelCoords",()=>W(ee)),ie("    undoCoordinateSystem",()=>l.undo(ee)),ie("    translateGraph",()=>j(ee)),ie("    assignNodeIntersects",()=>H(ee)),ie("    reversePoints",()=>O(ee)),ie("    acyclic.undo",()=>t.undo(ee))}function v(ee,ie){ee.nodes().forEach(ue=>{let ae=ee.node(ue),de=ie.node(ue);ae&&(ae.x=de.x,ae.y=de.y,ae.rank=de.rank,ie.children(ue).length&&(ae.width=de.width,ae.height=de.height))}),ee.edges().forEach(ue=>{let ae=ee.edge(ue),de=ie.edge(ue);ae.points=de.points,Object.hasOwn(de,"x")&&(ae.x=de.x,ae.y=de.y)}),ee.graph().width=ie.graph().width,ee.graph().height=ie.graph().height}let y=["nodesep","edgesep","ranksep","marginx","marginy"],A={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},C=["acyclicer","ranker","rankdir","align"],E=["width","height","rank"],I={width:0,height:0},D=["minlen","weight","width","height","labeloffset"],T={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},M=["labelpos"];function P(ee){let ie=new f({multigraph:!0,compound:!0}),ue=Z(ee.graph());return ie.setGraph(Object.assign({},A,Y(ue,y),d.pick(ue,C))),ee.nodes().forEach(ae=>{let de=Z(ee.node(ae));const ge=Y(de,E);Object.keys(I).forEach(_e=>{ge[_e]===void 0&&(ge[_e]=I[_e])}),ie.setNode(ae,ge),ie.setParent(ae,ee.parent(ae))}),ee.edges().forEach(ae=>{let de=Z(ee.edge(ae));ie.setEdge(ae,Object.assign({},T,Y(de,D),d.pick(de,M)))}),ie}function k(ee){let ie=ee.graph();ie.ranksep/=2,ee.edges().forEach(ue=>{let ae=ee.edge(ue);ae.minlen*=2,ae.labelpos.toLowerCase()!=="c"&&(ie.rankdir==="TB"||ie.rankdir==="BT"?ae.width+=ae.labeloffset:ae.height+=ae.labeloffset)})}function L(ee){ee.edges().forEach(ie=>{let ue=ee.edge(ie);if(ue.width&&ue.height){let ae=ee.node(ie.v),ge={rank:(ee.node(ie.w).rank-ae.rank)/2+ae.rank,e:ie};d.addDummyNode(ee,"edge-proxy",ge,"_ep")}})}function $(ee){let ie=0;ee.nodes().forEach(ue=>{let ae=ee.node(ue);ae.borderTop&&(ae.minRank=ee.node(ae.borderTop).rank,ae.maxRank=ee.node(ae.borderBottom).rank,ie=Math.max(ie,ae.maxRank))}),ee.graph().maxRank=ie}function z(ee){ee.nodes().forEach(ie=>{let ue=ee.node(ie);ue.dummy==="edge-proxy"&&(ee.edge(ue.e).labelRank=ue.rank,ee.removeNode(ie))})}function j(ee){let ie=Number.POSITIVE_INFINITY,ue=0,ae=Number.POSITIVE_INFINITY,de=0,ge=ee.graph(),_e=ge.marginx||0,we=ge.marginy||0;function ke(Fe){let Ee=Fe.x,Me=Fe.y,Ue=Fe.width,Ge=Fe.height;ie=Math.min(ie,Ee-Ue/2),ue=Math.max(ue,Ee+Ue/2),ae=Math.min(ae,Me-Ge/2),de=Math.max(de,Me+Ge/2)}ee.nodes().forEach(Fe=>ke(ee.node(Fe))),ee.edges().forEach(Fe=>{let Ee=ee.edge(Fe);Object.hasOwn(Ee,"x")&&ke(Ee)}),ie-=_e,ae-=we,ee.nodes().forEach(Fe=>{let Ee=ee.node(Fe);Ee.x-=ie,Ee.y-=ae}),ee.edges().forEach(Fe=>{let Ee=ee.edge(Fe);Ee.points.forEach(Me=>{Me.x-=ie,Me.y-=ae}),Object.hasOwn(Ee,"x")&&(Ee.x-=ie),Object.hasOwn(Ee,"y")&&(Ee.y-=ae)}),ge.width=ue-ie+_e,ge.height=de-ae+we}function H(ee){ee.edges().forEach(ie=>{let ue=ee.edge(ie),ae=ee.node(ie.v),de=ee.node(ie.w),ge,_e;ue.points?(ge=ue.points[0],_e=ue.points[ue.points.length-1]):(ue.points=[],ge=de,_e=ae),ue.points.unshift(d.intersectRect(ae,ge)),ue.points.push(d.intersectRect(de,_e))})}function W(ee){ee.edges().forEach(ie=>{let ue=ee.edge(ie);if(Object.hasOwn(ue,"x"))switch((ue.labelpos==="l"||ue.labelpos==="r")&&(ue.width-=ue.labeloffset),ue.labelpos){case"l":ue.x-=ue.width/2+ue.labeloffset;break;case"r":ue.x+=ue.width/2+ue.labeloffset;break}})}function O(ee){ee.edges().forEach(ie=>{let ue=ee.edge(ie);ue.reversed&&ue.points.reverse()})}function G(ee){ee.nodes().forEach(ie=>{if(ee.children(ie).length){let ue=ee.node(ie),ae=ee.node(ue.borderTop),de=ee.node(ue.borderBottom),ge=ee.node(ue.borderLeft[ue.borderLeft.length-1]),_e=ee.node(ue.borderRight[ue.borderRight.length-1]);ue.width=Math.abs(_e.x-ge.x),ue.height=Math.abs(de.y-ae.y),ue.x=ge.x+ue.width/2,ue.y=ae.y+ue.height/2}}),ee.nodes().forEach(ie=>{ee.node(ie).dummy==="border"&&ee.removeNode(ie)})}function q(ee){ee.edges().forEach(ie=>{if(ie.v===ie.w){var ue=ee.node(ie.v);ue.selfEdges||(ue.selfEdges=[]),ue.selfEdges.push({e:ie,label:ee.edge(ie)}),ee.removeEdge(ie)}})}function J(ee){var ie=d.buildLayerMatrix(ee);ie.forEach(ue=>{var ae=0;ue.forEach((de,ge)=>{var _e=ee.node(de);_e.order=ge+ae,(_e.selfEdges||[]).forEach(we=>{d.addDummyNode(ee,"selfedge",{width:we.label.width,height:we.label.height,rank:_e.rank,order:ge+ ++ae,e:we.e,label:we.label},"_se")}),delete _e.selfEdges})})}function te(ee){ee.nodes().forEach(ie=>{var ue=ee.node(ie);if(ue.dummy==="selfedge"){var ae=ee.node(ue.e.v),de=ae.x+ae.width/2,ge=ae.y,_e=ue.x-de,we=ae.height/2;ee.setEdge(ue.e,ue.label),ee.removeNode(ie),ue.label.points=[{x:de+2*_e/3,y:ge-we},{x:de+5*_e/6,y:ge-we},{x:de+_e,y:ge},{x:de+5*_e/6,y:ge+we},{x:de+2*_e/3,y:ge+we}],ue.label.x=ue.x,ue.label.y=ue.y}})}function Y(ee,ie){return d.mapValues(d.pick(ee,ie),Number)}function Z(ee){var ie={};return ee&&Object.entries(ee).forEach(([ue,ae])=>{typeof ue=="string"&&(ue=ue.toLowerCase()),ie[ue]=ae}),ie}return CR}var ER,qV;function Nnt(){if(qV)return ER;qV=1;let t=za(),e=Hp().Graph;ER={debugOrdering:n};function n(r){let i=t.buildLayerMatrix(r),s=new e({compound:!0,multigraph:!0}).setGraph({});return r.nodes().forEach(o=>{s.setNode(o,{label:o}),s.setParent(o,"layer"+r.node(o).rank)}),r.edges().forEach(o=>s.setEdge(o.v,o.w,{},o.name)),i.forEach((o,a)=>{let l="layer"+a;s.setNode(l,{rank:"same"}),o.reduce((u,c)=>(s.setEdge(u,c,{style:"invis"}),c))}),s}return ER}var SR,YV;function Lnt(){return YV||(YV=1,SR="1.1.8"),SR}var wR,XV;function Fnt(){return XV||(XV=1,wR={graphlib:Hp(),layout:Rnt(),debug:Nnt(),util:{time:za().time,notime:za().notime},version:Lnt()}),wR}var $nt=Fnt();const JV=G0($nt),znt={direction:"TB",nodeSpacing:100,rankSpacing:150},ZV={page:{width:180,height:80},layout:{width:200,height:60},dataSource:{width:160,height:50}},eG={width:180,height:80};function Ont(t,e,n={}){const r={...znt,...n};if(t.length===0)return{nodes:t,edges:e};const i=new JV.graphlib.Graph().setDefaultEdgeLabel(()=>({}));return i.setGraph({rankdir:r.direction,nodesep:r.nodeSpacing,ranksep:r.rankSpacing,marginx:50,marginy:50}),t.forEach(o=>{const a=ZV[o.type||""]||eG;i.setNode(o.id,{width:a.width,height:a.height})}),e.forEach(o=>{i.setEdge(o.source,o.target)}),JV.layout(i),{nodes:t.map(o=>{const a=i.node(o.id),l=ZV[o.type||""]||eG;return{...o,position:{x:a.x-l.width/2,y:a.y-l.height/2}}}),edges:e}}const jnt={pages:[],layouts:[],elements:[],projectId:null,nodes:[],edges:[],selectedNodeId:null,isLoading:!1,error:null,showLayouts:!0,showNavigationEdges:!0,showEventLinks:!0,showLayoutEdges:!0,showDataSources:!0};function _R(t,e,n,r,i){const s=u=>u?u.split(/[?#]/)[0].replace(/^\/+/,"").replace(/\/+$/,""):"",o=e.filter(u=>u.page_id===t),a=[],l=r||new Map(n.map(u=>[(i||s)(u.slug),u.id]));return o.forEach(u=>{const c=u.props?.href||u.props?.to||u.props?.path||u.props?.url||u.props?.link?.href,d=(u.tag||"").toLowerCase();if((d==="link"||d==="a"||d==="button")&&c&&!c.startsWith("http")&&!c.startsWith("#")){const p=s(c),m=l.get(p);m&&m!==t&&a.push(m)}Array.isArray(u.events)&&u.events.forEach(p=>{if(!p||p.enabled===!1)return;(Array.isArray(p.actions)?p.actions:[]).forEach(v=>{if(!v||v.enabled===!1)return;const y=(v.type||"").toLowerCase(),A=v.config?.path||v.config?.href||v.config?.to||v.config?.url||v.value?.path||v.value?.href||v.value?.to||v.value?.url;if((y==="navigate"||y==="link"||y.includes("navigate"))&&A&&!A.startsWith("http")&&!A.startsWith("#")){const E=s(A),I=l.get(E);I&&I!==t&&a.push(I)}})})}),[...new Set(a)]}function Qnt(t,e){return e.filter(n=>n.layout_id===t&&n.tag==="Slot").length}function IR(t,e,n,r,i){const s=r||(c=>c?c.split(/[?#]/)[0].replace(/^\/+/,"").replace(/\/+$/,""):""),o=e.filter(c=>c.page_id===t),a=[],l=i??new Map(n.map(c=>[s(c.slug),c.id])),u=new Map;return n.forEach(c=>{const d=s(c.slug);u.set(d,c.id),u.set(`/${d}`,c.id),(d==="home"||d==="")&&u.set("/",c.id)}),o.forEach(c=>{!c.events||!Array.isArray(c.events)||c.events.forEach(d=>{if(!d.enabled)return;const f=(d.event_type||d.event||"").toString();(Array.isArray(d.actions)?d.actions:[]).forEach(m=>{if(m.type!=="navigate"||m.enabled===!1)return;const v=m.config?.path||m.config?.href||m.config?.to||m.config?.url||m.value?.path||m.value?.href||m.value?.to||m.value?.url;if(!v||v.startsWith("http")||v.startsWith("#"))return;const y=v.startsWith("/")?v:`/${v}`,A=y==="/"?"/":s(v),C=u.get(y)||l.get(A);!C||C===t||a.push({sourceElementId:c.id,sourceElementTag:c.tag,eventType:f,targetPageId:C,condition:m.condition})})})}),a}function Unt(t){const e=new Map;return t.forEach(n=>{if(!n.dataBinding)return;const r=n.dataBinding;let i=null,s="",o="";if("source"in r&&"name"in r&&r.name&&(r.source==="dataTable"?(i="dataTable",s=r.name,o=`dataTable-${s}`):r.source==="api"&&(i="api",s=r.name,o=`api-${s}`)),"type"in r&&r.config){const a=r.config;a.baseUrl==="MOCK_DATA"?(i="mock",s=a.endpoint||"Mock Data",o=`mock-${s}`):r.source==="supabase"&&a.tableName?(i="supabase",s=a.tableName,o=`supabase-${s}`):r.source==="api"&&a.endpoint&&(i="api",s=a.endpoint,o=`api-${s}`)}!i||!s||(e.has(o)?e.get(o).boundElements.push({elementId:n.id,elementTag:n.tag,pageId:n.page_id||""}):e.set(o,{id:o,sourceType:i,name:s,boundElements:[{elementId:n.id,elementTag:n.tag,pageId:n.page_id||""}]}))}),Array.from(e.values())}function Hnt(t,e,n,r,i,s,o,a){const l=C=>C?C.split(/[?#]/)[0].replace(/^\/+/,"").replace(/\/+$/,""):"",u=[],c=[],d=Unt(n),f=a&&d.length>0?150:0;a&&d.length>0&&d.forEach((C,E)=>{const I=[...new Set(C.boundElements.map(T=>T.pageId).filter(Boolean))],D={id:`datasource-${C.id}`,type:"dataSource",position:{x:100+E*200,y:0},data:{type:"dataSource",dataSource:C,pageIds:I}};u.push(D)}),r&&e.forEach((C,E)=>{const I=t.filter(T=>T.layout_id===C.id).map(T=>T.id),D={id:`layout-${C.id}`,type:"layout",position:{x:100+E*300,y:50+f},data:{type:"layout",layout:C,pageIds:I,slotCount:Qnt(C.id,n)}};u.push(D)});const p=new Map(t.map(C=>[l(C.slug),C.id])),m=t.filter(C=>!C.layout_id),v=t.filter(C=>C.layout_id);m.forEach((C,E)=>{const I=_R(C.id,n,t,p,l),D=IR(C.id,n,t,l),T=n.filter(P=>P.page_id===C.id).length,M={id:`page-${C.id}`,type:"page",position:{x:100+E*250,y:(r?250:100)+f},data:{type:"page",page:C,outgoingLinks:I,outgoingEventLinks:D,layoutId:null,elementCount:T}};u.push(M)});const y=new Map;v.forEach(C=>{const E=C.layout_id;y.has(E)||y.set(E,[]),y.get(E).push(C)});let A=0;if(y.forEach((C,E)=>{C.forEach((I,D)=>{const T=_R(I.id,n,t,p,l),M=IR(I.id,n,t,l),P=n.filter(L=>L.page_id===I.id).length,k={id:`page-${I.id}`,type:"page",position:{x:100+A*300+D*50,y:(r?400+D*150:250+D*150)+f},data:{type:"page",page:I,outgoingLinks:T,outgoingEventLinks:M,layoutId:E,elementCount:P}};u.push(k),r&&o&&c.push({id:`edge-layout-${E}-page-${I.id}`,source:`layout-${E}`,target:`page-${I.id}`,type:"smoothstep",animated:!1,style:{stroke:"var(--color-secondary-400)",strokeDasharray:"5,5"},data:{type:"layout-usage",label:"uses layout"}})}),A++}),i){const C=new Map(t.map(E=>[l(E.slug),E.id]));t.forEach(E=>{_R(E.id,n,t,C,l).forEach(D=>{c.push({id:`edge-nav-${E.id}-${D}`,source:`page-${E.id}`,target:`page-${D}`,type:"smoothstep",animated:!0,style:{stroke:"var(--color-primary-500)"},markerEnd:{type:$E.ArrowClosed},data:{type:"navigation",label:"Link"}})})})}if(s){const C=new Map(t.map(E=>[l(E.slug),E.id]));t.forEach(E=>{IR(E.id,n,t,l,C).forEach((D,T)=>{const M=c.some(P=>P.source===`page-${E.id}`&&P.target===`page-${D.targetPageId}`);c.push({id:`edge-event-${E.id}-${D.targetPageId}-${T}`,source:`page-${E.id}`,target:`page-${D.targetPageId}`,type:"smoothstep",animated:!0,style:{stroke:"var(--color-secondary-500)",strokeDasharray:"5,5"},markerEnd:{type:$E.ArrowClosed},data:{type:"event-navigation",label:`${D.eventType}${D.condition?" ()":""}`},...M&&{labelBgPadding:[8,4],style:{strokeDasharray:"2,2"}}})})})}return a&&d.length>0&&d.forEach(C=>{[...new Set(C.boundElements.map(I=>I.pageId).filter(Boolean))].forEach(I=>{c.push({id:`edge-data-${C.id}-page-${I}`,source:`datasource-${C.id}`,target:`page-${I}`,type:"smoothstep",animated:!1,style:{stroke:"var(--color-success-500)",strokeDasharray:"3,3"},data:{type:"data-binding",label:C.name}})})}),{nodes:u,edges:c}}const ao=aa((t,e)=>({...jnt,setProjectId:n=>t({projectId:n}),setPages:n=>{t({pages:n}),e().buildWorkflowGraph()},setLayouts:n=>{t({layouts:n}),e().buildWorkflowGraph()},setElements:n=>{t({elements:n}),e().buildWorkflowGraph()},setNodes:n=>t({nodes:n}),setEdges:n=>t({edges:n}),onNodesChange:n=>{t({nodes:uhe(n,e().nodes)})},onEdgesChange:n=>{t({edges:che(n,e().edges)})},setSelectedNodeId:n=>t({selectedNodeId:n}),setLoading:n=>t({isLoading:n}),setError:n=>t({error:n}),toggleShowLayouts:()=>{t({showLayouts:!e().showLayouts}),e().buildWorkflowGraph()},toggleShowNavigationEdges:()=>{t({showNavigationEdges:!e().showNavigationEdges}),e().buildWorkflowGraph()},toggleShowEventLinks:()=>{t({showEventLinks:!e().showEventLinks}),e().buildWorkflowGraph()},toggleShowLayoutEdges:()=>{t({showLayoutEdges:!e().showLayoutEdges}),e().buildWorkflowGraph()},toggleShowDataSources:()=>{t({showDataSources:!e().showDataSources}),e().buildWorkflowGraph()},autoLayout:(n="TB")=>{const{nodes:r,edges:i}=e();if(r.length===0)return;const{nodes:s}=Ont(r,i,{direction:n,nodeSpacing:80,rankSpacing:120});t({nodes:s})},buildWorkflowGraph:()=>{const{pages:n,layouts:r,elements:i,showLayouts:s,showNavigationEdges:o,showEventLinks:a,showLayoutEdges:l,showDataSources:u}=e();if(n.length===0){t({nodes:[],edges:[]});return}const{nodes:c,edges:d}=Hnt(n,r,i,s,o,a,l,u);t({nodes:c,edges:d})}})),Vnt=x.memo(function({data:e,selected:n}){const{page:r,outgoingLinks:i,layoutId:s,elementCount:o}=e;return h.jsxs("div",{className:`workflow-node workflow-page-node ${n?"selected":""}`,children:[h.jsx(H0,{type:"target",position:zn.Top,className:"workflow-handle workflow-handle-target"}),h.jsxs("div",{className:"workflow-node-header",children:[h.jsx(AF,{size:14,className:"workflow-node-icon"}),h.jsx("span",{className:"workflow-node-title",children:r.title})]}),h.jsxs("div",{className:"workflow-node-content",children:[h.jsxs("div",{className:"workflow-node-slug",children:["/",r.slug]}),h.jsxs("div",{className:"workflow-node-stats",children:[h.jsxs("div",{className:"workflow-stat",title:"Elements",children:[h.jsx(H_,{size:12}),h.jsx("span",{children:o})]}),i.length>0&&h.jsxs("div",{className:"workflow-stat",title:"Links to other pages",children:[h.jsx(lT,{size:12}),h.jsx("span",{children:i.length})]})]}),s&&h.jsx("div",{className:"workflow-node-badge workflow-badge-layout",children:"Layout"})]}),h.jsx(H0,{type:"source",position:zn.Bottom,className:"workflow-handle workflow-handle-source"})]})}),Gnt=x.memo(function({data:e,selected:n}){const{layout:r,pageIds:i,slotCount:s}=e;return h.jsxs("div",{className:`workflow-node workflow-layout-node ${n?"selected":""}`,children:[h.jsx(H0,{type:"target",position:zn.Top,className:"workflow-handle workflow-handle-target",style:{visibility:"hidden"}}),h.jsxs("div",{className:"workflow-node-header workflow-layout-header",children:[h.jsx(uT,{size:14,className:"workflow-node-icon"}),h.jsx("span",{className:"workflow-node-title",children:r.name})]}),h.jsxs("div",{className:"workflow-node-content",children:[r.description&&h.jsx("div",{className:"workflow-node-description",children:r.description}),h.jsxs("div",{className:"workflow-node-stats",children:[h.jsxs("div",{className:"workflow-stat",title:"Pages using this layout",children:[h.jsx($ye,{size:12}),h.jsxs("span",{children:[i.length," pages"]})]}),h.jsxs("div",{className:"workflow-stat",title:"Slot count",children:[h.jsx(im,{size:12}),h.jsxs("span",{children:[s," slots"]})]})]})]}),h.jsx(H0,{type:"source",position:zn.Bottom,className:"workflow-handle workflow-handle-source"})]})}),Knt={dataTable:nl,api:U_,supabase:xX,mock:cxe},Wnt=t=>{switch(t){case"dataTable":return"DataTable";case"api":return"API";case"supabase":return"Supabase";case"mock":return"Mock";default:return"Data"}},qnt=x.memo(function({data:e,selected:n}){const{dataSource:r,pageIds:i}=e,s=x.useMemo(()=>Knt[r.sourceType]||nl,[r.sourceType]);return h.jsxs("div",{className:`workflow-node workflow-datasource-node workflow-datasource-${r.sourceType} ${n?"selected":""}`,children:[h.jsxs("div",{className:"workflow-node-header",children:[h.jsx(s,{size:14,className:"workflow-node-icon"}),h.jsx("span",{className:"workflow-node-title",children:r.name})]}),h.jsxs("div",{className:"workflow-node-content",children:[h.jsx("div",{className:"workflow-node-type",children:Wnt(r.sourceType)}),h.jsxs("div",{className:"workflow-node-stats",children:[h.jsx("div",{className:"workflow-stat",title:"Bound elements",children:h.jsxs("span",{children:[r.boundElements.length," elements"]})}),h.jsx("div",{className:"workflow-stat",title:"Pages using this data",children:h.jsxs("span",{children:[i.length," pages"]})})]})]}),h.jsx(H0,{type:"source",position:zn.Bottom,className:"workflow-handle workflow-handle-source"})]})}),Ynt={page:Vnt,layout:Gnt,dataSource:qnt};function Xnt(){const{fitView:t}=cM(),e=ao(f=>f.nodes),n=ao(f=>f.edges),r=ao(f=>f.onNodesChange),i=ao(f=>f.onEdgesChange),s=ao(f=>f.setSelectedNodeId),o=x.useRef("");x.useEffect(()=>{const f=JSON.stringify(e.map(p=>({id:p.id,x:p.position.x,y:p.position.y})));if(o.current&&o.current!==f){const p=setTimeout(()=>{t({padding:.2,duration:300})},50);return()=>clearTimeout(p)}o.current=f},[e,t]);const a=x.useCallback(f=>{r(f)},[r]),l=x.useCallback(f=>{i(f)},[i]),u=x.useCallback((f,p)=>{if(s(p.id),p.id.startsWith("page-")){const m=p.id.replace("page-","");window.parent.postMessage({type:"WORKFLOW_SELECT_PAGE",payload:{pageId:m}},"*")}},[s]),c=x.useCallback(f=>f.type==="layout"?"var(--color-secondary-500)":f.type==="dataSource"?"var(--color-success-500)":"var(--color-primary-500)",[]),d=x.useMemo(()=>({x:50,y:50,zoom:.8}),[]);return h.jsx("div",{className:"workflow-canvas",children:h.jsxs(_tt,{nodes:e,edges:n,nodeTypes:Ynt,onNodesChange:a,onEdgesChange:l,onNodeClick:u,defaultViewport:d,fitView:!0,fitViewOptions:{padding:.2},minZoom:.1,maxZoom:2,children:[h.jsx(Mtt,{variant:T0.Dots,gap:20,size:1,color:"var(--color-gray-300)"}),h.jsx($tt,{showZoom:!0,showFitView:!0,showInteractive:!1,position:"bottom-right"}),h.jsx(Xtt,{nodeColor:c,nodeStrokeWidth:2,zoomable:!0,pannable:!0,position:"top-right"})]})})}function Jnt(){const t=ao(d=>d.showLayouts),e=ao(d=>d.showNavigationEdges),n=ao(d=>d.showEventLinks),r=ao(d=>d.showLayoutEdges),i=ao(d=>d.showDataSources),s=ao(d=>d.toggleShowLayouts),o=ao(d=>d.toggleShowNavigationEdges),a=ao(d=>d.toggleShowEventLinks),l=ao(d=>d.toggleShowLayoutEdges),u=ao(d=>d.toggleShowDataSources),c=ao(d=>d.autoLayout);return h.jsx("div",{className:"workflow-toolbar",children:h.jsxs("div",{className:"workflow-toolbar-actions",children:[h.jsxs("button",{className:"workflow-toolbar-btn",onClick:()=>c("TB"),title:"Auto Layout (Top to Bottom)",children:[h.jsx(CAe,{size:16}),h.jsx("span",{children:"Auto Layout"})]}),h.jsx("div",{className:"workflow-toolbar-separator"}),h.jsxs("button",{className:`workflow-toolbar-btn ${t?"active":""}`,onClick:s,title:"Show Layouts",children:[h.jsx(uT,{size:16}),h.jsx("span",{children:"Layouts"})]}),h.jsxs("button",{className:`workflow-toolbar-btn ${e?"active":""}`,onClick:o,title:"Show Link Navigation",children:[h.jsx(PAe,{size:16}),h.jsx("span",{children:"Links"})]}),h.jsxs("button",{className:`workflow-toolbar-btn ${n?"active":""}`,onClick:a,title:"Show Event Navigation (onClick, onSubmit, etc.)",children:[h.jsx(xx,{size:16}),h.jsx("span",{children:"Events"})]}),h.jsxs("button",{className:`workflow-toolbar-btn ${r?"active":""}`,onClick:l,title:"Show Layout Usage",disabled:!t,children:[h.jsx(lT,{size:16}),h.jsx("span",{children:"Layout Links"})]}),h.jsxs("button",{className:`workflow-toolbar-btn ${i?"active":""}`,onClick:u,title:"Show Data Sources (DataTable, API, etc.)",children:[h.jsx(nl,{size:16}),h.jsx("span",{children:"Data"})]})]})})}function Znt(){const t=ao(c=>c.setPages),e=ao(c=>c.setLayouts),n=ao(c=>c.setElements),r=ao(c=>c.setProjectId),i=ao(c=>c.setLoading),s=Pe(c=>c.pages),o=Pe(c=>c.elements),a=Pe(c=>c.currentPageId),l=Fu(c=>c.layouts),u=x.useRef(!1);x.useEffect(()=>{const c=s.map(d=>({id:d.id,title:d.title,slug:d.slug?.replace(/^\/+/,"")||"",project_id:d.project_id||"",parent_id:d.parent_id,order_num:d.order_num,layout_id:d.layout_id}));t(c),u.current||(u.current=!0,i(!1))},[s,t,i]),x.useEffect(()=>{const c=l.map(d=>({id:d.id,name:d.name,project_id:d.project_id||"",description:d.description}));e(c)},[l,e]),x.useEffect(()=>{const c=o.map(d=>({id:d.id,tag:d.tag,props:d.props,parent_id:d.parent_id,page_id:d.page_id,layout_id:d.layout_id,order_num:d.order_num,events:d.props.events||d.events,dataBinding:d.props.dataBinding||d.dataBinding}));n(c)},[o,n]),x.useEffect(()=>{const c=s.find(d=>d.id===a);c?.project_id&&r(c.project_id)},[a,s,r])}function ert(){Znt();const t=ao(r=>r.isLoading),e=ao(r=>r.error),n=ao(r=>r.nodes);return t?h.jsxs("div",{className:"workflow-loading",children:[h.jsx("div",{className:"workflow-loading-spinner"}),h.jsx("span",{children:"Loading workflow..."})]}):e?h.jsx("div",{className:"workflow-error",children:h.jsxs("span",{children:["Error: ",e]})}):n.length===0?h.jsxs("div",{className:"workflow-empty",children:[h.jsx("span",{children:"No pages to display"}),h.jsx("p",{children:"Add pages to your project to see the workflow"})]}):h.jsx(Xnt,{})}const trt=()=>h.jsx(Nhe,{children:h.jsxs("main",{className:"workflow-app",children:[h.jsx(Jnt,{}),h.jsx(ert,{})]})}),nrt=({children:t,className:e="app"})=>h.jsx("div",{className:e,children:t});function rrt(t,e){const[n,r]=x.useState({left:0,top:0,right:0,bottom:0}),i=x.useRef(null);return x.useEffect(()=>{const o=e.current;if(!o?.contentWindow)return;const a=()=>{i.current===null&&(i.current=requestAnimationFrame(()=>{const l=o.contentDocument;if(!l){i.current=null;return}const u=l.documentElement.scrollLeft||l.body.scrollLeft,c=l.documentElement.scrollTop||l.body.scrollTop,d=o.clientWidth,f=o.clientHeight;r({left:u,top:c,right:u+d,bottom:c+f}),i.current=null}))};return a(),o.contentWindow.addEventListener("scroll",a,{passive:!0}),o.contentWindow.addEventListener("resize",a,{passive:!0}),()=>{o.contentWindow?.removeEventListener("scroll",a),o.contentWindow?.removeEventListener("resize",a),i.current!==null&&cancelAnimationFrame(i.current)}},[e]),x.useMemo(()=>n.right===0&&n.bottom===0?t:t.filter(o=>{const{rect:a}=o;return!(a.right<n.left||a.left>n.right||a.bottom<n.top||a.top>n.bottom)}),[t,n])}const irt=50,srt=100;class ort{pendingIds=new Set;rafId=null;lastUpdateTime=0;onUpdate;getDocument;runToken=0;constructor(e,n){this.onUpdate=e,this.getDocument=n}schedule(e,n=!1){this.runToken++;for(const r of e)this.pendingIds.add(r);n?(this.cancelPending(),this.flush()):this.rafId||(this.rafId=requestAnimationFrame(()=>this.flush()))}scheduleThrottled(e){Date.now()-this.lastUpdateTime<srt||this.schedule(e)}cancelPending(){this.rafId&&(cancelAnimationFrame(this.rafId),this.rafId=null)}clear(){this.cancelPending(),this.pendingIds.clear()}flush(){this.rafId=null,this.lastUpdateTime=Date.now();const e=Array.from(this.pendingIds);if(this.pendingIds.clear(),e.length===0)return;const n=this.getDocument();if(!n)return;const r=this.runToken;this.processChunk(n,e,0,r)}processChunk(e,n,r,i){if(i!==this.runToken)return;const s=new Map,o=new Map,a=Math.min(r+irt,n.length);for(let l=r;l<a;l++){const u=n[l],c=this.findElement(e,u);if(c){const d=c.getBoundingClientRect();s.set(u,{top:d.top,left:d.left,width:d.width,height:d.height}),o.set(u,c.tagName.toLowerCase())}}i===this.runToken&&(this.onUpdate({rects:s,tags:o,reset:r===0,done:a>=n.length,total:n.length,processed:a}),a<n.length&&requestAnimationFrame(()=>this.processChunk(e,n,a,i)))}findElement(e,n){let r=e.querySelector(`[data-element-id="${n}"]`);return!r&&e.body.getAttribute("data-element-id")===n&&(r=e.body),r}}function art(t,e){const n=x.useRef(null),r=x.useRef(t),i=x.useRef(e);x.useEffect(()=>{r.current=t},[t]),x.useEffect(()=>{i.current=e},[e]),x.useEffect(()=>(n.current=new ort(l=>r.current(l),()=>i.current()),()=>{n.current?.clear(),n.current=null}),[]);const s=x.useCallback((l,u=!1)=>{n.current?.schedule(l,u)},[]),o=x.useCallback(l=>{n.current?.scheduleThrottled(l)},[]),a=x.useCallback(()=>{n.current?.clear()},[]);return{schedule:s,scheduleThrottled:o,clear:a}}function lrt(t,e){return e.get(t)?.tag?.toLowerCase()==="body"}function urt(t,e){return t.length===0?!1:t.every(n=>lrt(n,e))}function crt(t,e){x.useRef(0),x.useRef(0),x.useEffect(()=>{},[t,e])}let Np=!1,ih=null,UE=0,fM=0,pM=0,gM=0,D_=-1,bE=null,Ax=null;function drt(t){if(!t||t==="reset"||t==="inherit"||t==="initial")return 0;const e=t.split(/\s+/)[0],n=parseFloat(e);return isNaN(n)?0:n}const Vhe={topLeft:"borderTopLeftRadius",topRight:"borderTopRightRadius",bottomLeft:"borderBottomLeftRadius",bottomRight:"borderBottomRightRadius"};function Ghe(t,e,n){switch(t){case"topLeft":return(e+n)/Math.SQRT2;case"topRight":return(-e+n)/Math.SQRT2;case"bottomLeft":return(e-n)/Math.SQRT2;case"bottomRight":return(-e-n)/Math.SQRT2;default:return 0}}function jz(t,e){if(xd()&&!fh())return;const r=Ta.getIframe();r?.contentWindow&&r.contentWindow.postMessage({type:"UPDATE_ELEMENT_PROPS",elementId:t,props:{style:e},merge:!0},window.location.origin)}function hrt(t){switch(t){case"topLeft":case"bottomRight":return"nwse-resize";case"topRight":case"bottomLeft":return"nesw-resize";default:return"nwse-resize"}}function frt(){if(Ax)return;const t=ih?hrt(ih):"nwse-resize";Ax=document.createElement("div"),Ax.style.cssText=`
    position: fixed;
    inset: 0;
    z-index: 99999;
    cursor: ${t};
  `,document.body.appendChild(Ax)}function prt(){Ax&&(Ax.remove(),Ax=null)}function WD(){Np=!1,ih=null,UE=0,fM=0,pM=0,gM=0,D_=-1,bE!==null&&(cancelAnimationFrame(bE),bE=null),prt()}function Qz(t,e,n){return n?{borderTopLeftRadius:`${t}px`,borderTopRightRadius:`${t}px`,borderBottomLeftRadius:`${t}px`,borderBottomRightRadius:`${t}px`,borderRadius:`${t}px`}:{[Vhe[e]]:`${t}px`}}function Khe(){if(!Np)return;document.removeEventListener("mousemove",k_),document.removeEventListener("mouseup",P_),document.removeEventListener("keydown",T_),window.removeEventListener("blur",M_);const t=Pe.getState().selectedElementId;if(t&&ih){const e=Qz(UE,ih,!1);jz(t,e)}WD()}function T_(t){t.key==="Escape"&&Np&&(t.preventDefault(),Khe())}function M_(){Np&&Khe()}function k_(t){if(!Np||!ih)return;const e=t.clientX-fM,n=t.clientY-pM,r=Ghe(ih,e,n);let i=Math.round(UE+r);if(i=Math.max(0,Math.min(gM,i)),i===D_)return;D_=i;const s=Pe.getState().selectedElementId;s&&bE===null&&(bE=requestAnimationFrame(()=>{if(bE=null,!Np||!ih)return;const o=Qz(D_,ih,t.shiftKey);jz(s,o)}))}function P_(t){if(!Np||!ih)return;document.removeEventListener("mousemove",k_),document.removeEventListener("mouseup",P_),document.removeEventListener("keydown",T_),window.removeEventListener("blur",M_);const e=ih,n=t.clientX-fM,r=t.clientY-pM,i=Ghe(e,n,r);let s=Math.round(UE+i);s=Math.max(0,Math.min(gM,s));const o=t.shiftKey;WD();const a=Pe.getState().selectedElementId;if(!a)return;const l=Qz(s,e,o);jz(a,l);const u=Pe.getState().updateSelectedStyle,c=Pe.getState().updateSelectedStyles;if(o)c(l);else{const d=Vhe[e];u(d,`${s}px`)}}function grt(t,e,n={}){const{onDragStart:r}=n;return x.useEffect(()=>()=>{Np&&(document.removeEventListener("mousemove",k_),document.removeEventListener("mouseup",P_),document.removeEventListener("keydown",T_),window.removeEventListener("blur",M_),WD())},[]),{handleDragStart:x.useCallback((s,o)=>{o.preventDefault(),o.stopPropagation(),t&&(Np&&(document.removeEventListener("mousemove",k_),document.removeEventListener("mouseup",P_),document.removeEventListener("keydown",T_),window.removeEventListener("blur",M_),WD()),Np=!0,ih=s,UE=drt(e),fM=o.clientX,pM=o.clientY,gM=Math.min(t.width,t.height)/2,D_=UE,frt(),r?.(),document.addEventListener("mousemove",k_),document.addEventListener("mouseup",P_),document.addEventListener("keydown",T_),window.addEventListener("blur",M_))},[t,e,r]),isDragging:Np,activeCorner:ih}}function bw(t){if(!t||t==="reset"||t==="inherit"||t==="initial")return 0;const e=t.split(/\s+/)[0],n=parseFloat(e);return isNaN(n)?0:n}const OI={topLeft:"nwse-resize",topRight:"nesw-resize",bottomLeft:"nesw-resize",bottomRight:"nwse-resize"};function mrt({rect:t,borderRadius:e,individualRadii:n,onDragStart:r,onDragEnd:i}){const{handleDragStart:s,activeCorner:o}=grt({width:t.width,height:t.height},e,{onDragStart:r}),a=x.useMemo(()=>{const u=bw(e);return{topLeft:bw(n?.topLeft)||u,topRight:bw(n?.topRight)||u,bottomLeft:bw(n?.bottomLeft)||u,bottomRight:bw(n?.bottomRight)||u}},[e,n]),l=x.useMemo(()=>{const u=c=>4+c*.5;return{topLeft:{x:u(a.topLeft),y:u(a.topLeft)},topRight:{x:t.width-u(a.topRight),y:u(a.topRight)},bottomLeft:{x:u(a.bottomLeft),y:t.height-u(a.bottomLeft)},bottomRight:{x:t.width-u(a.bottomRight),y:t.height-u(a.bottomRight)}}},[t.width,t.height,a]);return h.jsxs("div",{className:"border-radius-handles",children:[h.jsx("div",{className:`border-radius-handle top-left ${o==="topLeft"?"active":""}`,style:{left:l.topLeft.x,top:l.topLeft.y,cursor:OI.topLeft},onMouseDown:u=>s("topLeft",u),title:`Border Radius: ${a.topLeft}px`,children:h.jsx("div",{className:"handle-inner"})}),h.jsx("div",{className:`border-radius-handle top-right ${o==="topRight"?"active":""}`,style:{left:l.topRight.x,top:l.topRight.y,cursor:OI.topRight},onMouseDown:u=>s("topRight",u),title:`Border Radius: ${a.topRight}px`,children:h.jsx("div",{className:"handle-inner"})}),h.jsx("div",{className:`border-radius-handle bottom-left ${o==="bottomLeft"?"active":""}`,style:{left:l.bottomLeft.x,top:l.bottomLeft.y,cursor:OI.bottomLeft},onMouseDown:u=>s("bottomLeft",u),title:`Border Radius: ${a.bottomLeft}px`,children:h.jsx("div",{className:"handle-inner"})}),h.jsx("div",{className:`border-radius-handle bottom-right ${o==="bottomRight"?"active":""}`,style:{left:l.bottomRight.x,top:l.bottomRight.y,cursor:OI.bottomRight},onMouseDown:u=>s("bottomRight",u),title:`Border Radius: ${a.bottomRight}px`,children:h.jsx("div",{className:"handle-inner"})}),o&&h.jsxs("div",{className:"border-radius-tooltip",children:[a[o],"px"]})]})}function tG(){const t=Pe(H=>H.selectedElementId),e=Pe(H=>H.selectedElementIds||[]),n=Pe(H=>H.multiSelectMode||!1);crt("SelectionOverlay",t||"none");const[r,i]=x.useState(null),[s,o]=x.useState(""),[a,l]=x.useState(new Map),u=x.useRef(null),c=x.useRef(null),d=x.useCallback(()=>u.current?.contentDocument,[]),f=x.useCallback(H=>{l(W=>{const O=H.reset?new Map:new Map(W);return H.rects.forEach((G,q)=>{O.set(q,{rect:G,tag:H.tags.get(q)||O.get(q)?.tag||""})}),O})},[]),{schedule:p,scheduleThrottled:m,clear:v}=art(f,d),y=Bue(),A=x.useMemo(()=>{const H=y?.computedStyle?.borderRadius,W=y?.style?.borderRadius,O=typeof H=="number"?`${H}px`:H;return W||O},[y?.computedStyle?.borderRadius,y?.style?.borderRadius]),C=x.useMemo(()=>{const H=Pe.getState().elementsMap;return(t?H.get(t):null)?.tag||s||""},[t,s]),E=x.useCallback((H=!1)=>{const W=()=>{const O=u.current;if(!O?.contentDocument||!t){i(null);return}let G=O.contentDocument.querySelector(`[data-element-id="${t}"]`);if(G||Pe.getState().elementsMap.get(t)?.tag==="body"&&O.contentDocument.body.getAttribute("data-element-id")&&(G=O.contentDocument.body),!G){i(null),o("");return}const q=G.getBoundingClientRect(),J={top:q.top,left:q.left,width:q.width,height:q.height};i(J),o(G.tagName.toLowerCase())};H?(c.current!==null&&(cancelAnimationFrame(c.current),c.current=null),W()):(c.current!==null&&cancelAnimationFrame(c.current),c.current=requestAnimationFrame(()=>{c.current=null,W()}))},[t]),I=x.useMemo(()=>{if(e.length===0)return!1;const H=Pe.getState().elementsMap;return urt(e,H)},[e]),D=x.useCallback((H=!1)=>{if(I){l(new Map);return}if(e.length===0){l(new Map);return}p(e,H)},[e,I,p]),T=x.useCallback(()=>{I||e.length===0||m(e)},[e,I,m]),M=x.useMemo(()=>Array.from(a.entries()).map(([H,W])=>({id:H,rect:{left:W.rect.left,top:W.rect.top,right:W.rect.left+W.rect.width,bottom:W.rect.top+W.rect.height,width:W.rect.width,height:W.rect.height},isPrimary:H===t})),[a,t]),P=rrt(M,u);x.useEffect(()=>{n&&e.length>0&&D()},[n,e,D]),x.useEffect(()=>{if(!t||!u.current?.contentDocument)return;const H=u.current.contentDocument.querySelector(`[data-element-id="${t}"]`);if(!H)return;const W=new ResizeObserver(()=>E());return W.observe(H),()=>{W.disconnect()}},[t,E]);const k=x.useRef(t),L=x.useRef(n),$=x.useRef(E),z=x.useRef(D),j=x.useRef(T);if(x.useEffect(()=>{k.current=t,L.current=n,$.current=E,z.current=D,j.current=T}),x.useEffect(()=>{const H=Ta.getIframe();if(u.current=H,!H?.contentDocument){requestAnimationFrame(()=>{i(null),o("")});return}const W=G=>{if(G.origin===window.location.origin)if(G.data.type==="ELEMENT_SELECTED"&&G.data.payload?.rect){const{top:q,left:J,width:te,height:Y}=G.data.payload.rect;i({top:q,left:J,width:te,height:Y}),o(G.data.payload.tag||""),c.current!==null&&(cancelAnimationFrame(c.current),c.current=null)}else if(G.data.type==="ELEMENTS_DRAG_SELECTED")z.current?.();else if(G.data.type==="UPDATE_ELEMENT_PROPS"){if(G.data.payload?.rect){const{top:q,left:J,width:te,height:Y}=G.data.payload.rect;i({top:q,left:J,width:te,height:Y})}else L.current?z.current?.():$.current?.();G.data.payload?.tag&&o(G.data.payload.tag)}else G.data.type==="CLEAR_OVERLAY"&&(i(null),o(""),l(new Map))},O=()=>{L.current?j.current?.():$.current?.()};return window.addEventListener("message",W),H.contentWindow?.addEventListener("scroll",O),window.addEventListener("resize",O),window.addEventListener("scroll",O),()=>{window.removeEventListener("message",W),H.contentWindow?.removeEventListener("scroll",O),window.removeEventListener("resize",O),window.removeEventListener("scroll",O),c.current!==null&&(cancelAnimationFrame(c.current),c.current=null),v()}},[v]),x.useEffect(()=>{!t||!u.current?.contentWindow||(n?D():E())},[t,n,E,D]),n&&a.size>0){const H=M.length,W=P.length;return h.jsxs("div",{className:"overlay",children:[P.map(O=>{const G=O.id,q=O.isPrimary,J=Pe.getState().elementsMap.get(G),te=a.get(G),Y=J?.tag||te?.tag||"";return h.jsxs("div",{className:`overlay-element multi-select ${q?"primary":"secondary"}`,style:{top:O.rect.top,left:O.rect.left,width:O.rect.width,height:O.rect.height},children:[q&&h.jsxs("div",{className:"overlay-info",children:[h.jsx("div",{className:"overlay-tag-parent",children:h.jsx(zN,{size:ce.size})}),h.jsx("div",{className:"overlay-tag",children:Y})]}),h.jsx("div",{className:"overlay-background"}),h.jsx("div",{className:"overlay-pattern",children:h.jsx("div",{className:"overlay-pattern-inner"})})]},`overlay-${G}-${q?"primary":"secondary"}`)}),W<H&&h.jsxs("div",{className:"overlay-stats",children:[W," / ",H," visible"]})]})}return r?h.jsx("div",{className:"overlay",children:h.jsxs("div",{className:"overlay-element",style:{top:r.top,left:r.left,width:r.width,height:r.height},children:[h.jsxs("div",{className:"overlay-info",children:[h.jsx("div",{className:"overlay-tag-parent",children:h.jsx(zN,{size:ce.size})}),h.jsx("div",{className:"overlay-tag",children:C})]}),h.jsx("div",{title:"Drag to resize",className:"resize-handle"}),h.jsx("div",{className:"overlay-background"}),h.jsx("div",{className:"overlay-pattern",children:h.jsx("div",{className:"overlay-pattern-inner"})}),h.jsx(mrt,{rect:r,borderRadius:A})]})}):null}function Whe(t,e,n){if(!t)return;if(n(t)===!0)return t;let r=t.child;for(;r;){const i=Whe(r,e,n);if(i)return i;r=r.sibling}}function qhe(t){try{return Object.defineProperties(t,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return t}}const Uz=qhe(x.createContext(null));let Yhe=class extends x.Component{render(){return x.createElement(Uz.Provider,{value:this._reactInternals},this.props.children)}};function Art(){const t=x.useContext(Uz);if(t===null)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const e=x.useId();return x.useMemo(()=>{for(const n of[t,t?.alternate]){if(!n)continue;const r=Whe(n,!1,i=>{let s=i.memoizedState;for(;s;){if(s.memoizedState===e)return!0;s=s.next}});if(r)return r}},[t,e])}const yrt=Symbol.for("react.context"),vrt=t=>t!==null&&typeof t=="object"&&"$$typeof"in t&&t.$$typeof===yrt;function brt(){const t=Art(),[e]=x.useState(()=>new Map);e.clear();let n=t;for(;n;){const r=n.type;vrt(r)&&r!==Uz&&!e.has(r)&&e.set(r,x.use(qhe(r))),n=n.return}return e}function xrt(){const t=brt();return x.useMemo(()=>Array.from(t.keys()).reduce((e,n)=>r=>x.createElement(e,null,x.createElement(n.Provider,{...r,value:t.get(n)})),e=>x.createElement(Yhe,{...e})),[t])}var Qn=(t=>(t.Application="application",t.WebGLPipes="webgl-pipes",t.WebGLPipesAdaptor="webgl-pipes-adaptor",t.WebGLSystem="webgl-system",t.WebGPUPipes="webgpu-pipes",t.WebGPUPipesAdaptor="webgpu-pipes-adaptor",t.WebGPUSystem="webgpu-system",t.CanvasSystem="canvas-system",t.CanvasPipesAdaptor="canvas-pipes-adaptor",t.CanvasPipes="canvas-pipes",t.Asset="asset",t.LoadParser="load-parser",t.ResolveParser="resolve-parser",t.CacheParser="cache-parser",t.DetectionParser="detection-parser",t.MaskEffect="mask-effect",t.BlendMode="blend-mode",t.TextureSource="texture-source",t.Environment="environment",t.ShapeBuilder="shape-builder",t.Batcher="batcher",t))(Qn||{});const _L=t=>{if(typeof t=="function"||typeof t=="object"&&t.extension){if(!t.extension)throw new Error("Extension class must have an extension object");t={...typeof t.extension!="object"?{type:t.extension}:t.extension,ref:t}}if(typeof t=="object")t={...t};else throw new Error("Invalid extension type");return typeof t.type=="string"&&(t.type=[t.type]),t},jI=(t,e)=>_L(t).priority??e,mo={_addHandlers:{},_removeHandlers:{},_queue:{},remove(...t){return t.map(_L).forEach(e=>{e.type.forEach(n=>this._removeHandlers[n]?.(e))}),this},add(...t){return t.map(_L).forEach(e=>{e.type.forEach(n=>{const r=this._addHandlers,i=this._queue;r[n]?r[n]?.(e):(i[n]=i[n]||[],i[n]?.push(e))})}),this},handle(t,e,n){const r=this._addHandlers,i=this._removeHandlers;if(r[t]||i[t])throw new Error(`Extension type ${t} already has a handler`);r[t]=e,i[t]=n;const s=this._queue;return s[t]&&(s[t]?.forEach(o=>e(o)),delete s[t]),this},handleByMap(t,e){return this.handle(t,n=>{n.name&&(e[n.name]=n.ref)},n=>{n.name&&delete e[n.name]})},handleByNamedList(t,e,n=-1){return this.handle(t,r=>{e.findIndex(s=>s.name===r.name)>=0||(e.push({name:r.name,value:r.ref}),e.sort((s,o)=>jI(o.value,n)-jI(s.value,n)))},r=>{const i=e.findIndex(s=>s.name===r.name);i!==-1&&e.splice(i,1)})},handleByList(t,e,n=-1){return this.handle(t,r=>{e.includes(r.ref)||(e.push(r.ref),e.sort((i,s)=>jI(s,n)-jI(i,n)))},r=>{const i=e.indexOf(r.ref);i!==-1&&e.splice(i,1)})},mixin(t,...e){for(const n of e)Object.defineProperties(t.prototype,Object.getOwnPropertyDescriptors(n))}},Crt={extension:{type:Qn.Environment,name:"browser",priority:-1},test:()=>!0,load:async()=>{await en(()=>import("./browserAll-DaANnzYl.js"),__vite__mapDeps([100,101,102]))}},Ert={extension:{type:Qn.Environment,name:"webworker",priority:0},test:()=>typeof self<"u"&&self.WorkerGlobalScope!==void 0,load:async()=>{await en(()=>import("./webworkerAll-BD40Yx_A.js"),__vite__mapDeps([101,102]))}};class lo{constructor(e,n,r){this._x=n||0,this._y=r||0,this._observer=e}clone(e){return new lo(e??this._observer,this._x,this._y)}set(e=0,n=e){return(this._x!==e||this._y!==n)&&(this._x=e,this._y=n,this._observer._onUpdate(this)),this}copyFrom(e){return(this._x!==e.x||this._y!==e.y)&&(this._x=e.x,this._y=e.y,this._observer._onUpdate(this)),this}copyTo(e){return e.set(this._x,this._y),e}equals(e){return e.x===this._x&&e.y===this._y}toString(){return`[pixi.js/math:ObservablePoint x=${this._x} y=${this._y} scope=${this._observer}]`}get x(){return this._x}set x(e){this._x!==e&&(this._x=e,this._observer._onUpdate(this))}get y(){return this._y}set y(e){this._y!==e&&(this._y=e,this._observer._onUpdate(this))}}var BR={exports:{}},nG;function Srt(){return nG||(nG=1,(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(l,u,c){this.fn=l,this.context=u,this.once=c||!1}function s(l,u,c,d,f){if(typeof c!="function")throw new TypeError("The listener must be a function");var p=new i(c,d||l,f),m=n?n+u:u;return l._events[m]?l._events[m].fn?l._events[m]=[l._events[m],p]:l._events[m].push(p):(l._events[m]=p,l._eventsCount++),l}function o(l,u){--l._eventsCount===0?l._events=new r:delete l._events[u]}function a(){this._events=new r,this._eventsCount=0}a.prototype.eventNames=function(){var u=[],c,d;if(this._eventsCount===0)return u;for(d in c=this._events)e.call(c,d)&&u.push(n?d.slice(1):d);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(c)):u},a.prototype.listeners=function(u){var c=n?n+u:u,d=this._events[c];if(!d)return[];if(d.fn)return[d.fn];for(var f=0,p=d.length,m=new Array(p);f<p;f++)m[f]=d[f].fn;return m},a.prototype.listenerCount=function(u){var c=n?n+u:u,d=this._events[c];return d?d.fn?1:d.length:0},a.prototype.emit=function(u,c,d,f,p,m){var v=n?n+u:u;if(!this._events[v])return!1;var y=this._events[v],A=arguments.length,C,E;if(y.fn){switch(y.once&&this.removeListener(u,y.fn,void 0,!0),A){case 1:return y.fn.call(y.context),!0;case 2:return y.fn.call(y.context,c),!0;case 3:return y.fn.call(y.context,c,d),!0;case 4:return y.fn.call(y.context,c,d,f),!0;case 5:return y.fn.call(y.context,c,d,f,p),!0;case 6:return y.fn.call(y.context,c,d,f,p,m),!0}for(E=1,C=new Array(A-1);E<A;E++)C[E-1]=arguments[E];y.fn.apply(y.context,C)}else{var I=y.length,D;for(E=0;E<I;E++)switch(y[E].once&&this.removeListener(u,y[E].fn,void 0,!0),A){case 1:y[E].fn.call(y[E].context);break;case 2:y[E].fn.call(y[E].context,c);break;case 3:y[E].fn.call(y[E].context,c,d);break;case 4:y[E].fn.call(y[E].context,c,d,f);break;default:if(!C)for(D=1,C=new Array(A-1);D<A;D++)C[D-1]=arguments[D];y[E].fn.apply(y[E].context,C)}}return!0},a.prototype.on=function(u,c,d){return s(this,u,c,d,!1)},a.prototype.once=function(u,c,d){return s(this,u,c,d,!0)},a.prototype.removeListener=function(u,c,d,f){var p=n?n+u:u;if(!this._events[p])return this;if(!c)return o(this,p),this;var m=this._events[p];if(m.fn)m.fn===c&&(!f||m.once)&&(!d||m.context===d)&&o(this,p);else{for(var v=0,y=[],A=m.length;v<A;v++)(m[v].fn!==c||f&&!m[v].once||d&&m[v].context!==d)&&y.push(m[v]);y.length?this._events[p]=y.length===1?y[0]:y:o(this,p)}return this},a.prototype.removeAllListeners=function(u){var c;return u?(c=n?n+u:u,this._events[c]&&o(this,c)):(this._events=new r,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=n,a.EventEmitter=a,t.exports=a})(BR)),BR.exports}var wrt=Srt();const Yp=G0(wrt),_rt=Math.PI*2,Irt=180/Math.PI,Brt=Math.PI/180;class oa{constructor(e=0,n=0){this.x=0,this.y=0,this.x=e,this.y=n}clone(){return new oa(this.x,this.y)}copyFrom(e){return this.set(e.x,e.y),this}copyTo(e){return e.set(this.x,this.y),e}equals(e){return e.x===this.x&&e.y===this.y}set(e=0,n=e){return this.x=e,this.y=n,this}toString(){return`[pixi.js/math:Point x=${this.x} y=${this.y}]`}static get shared(){return DR.x=0,DR.y=0,DR}}const DR=new oa;class mi{constructor(e=1,n=0,r=0,i=1,s=0,o=0){this.array=null,this.a=e,this.b=n,this.c=r,this.d=i,this.tx=s,this.ty=o}fromArray(e){this.a=e[0],this.b=e[1],this.c=e[3],this.d=e[4],this.tx=e[2],this.ty=e[5]}set(e,n,r,i,s,o){return this.a=e,this.b=n,this.c=r,this.d=i,this.tx=s,this.ty=o,this}toArray(e,n){this.array||(this.array=new Float32Array(9));const r=n||this.array;return e?(r[0]=this.a,r[1]=this.b,r[2]=0,r[3]=this.c,r[4]=this.d,r[5]=0,r[6]=this.tx,r[7]=this.ty,r[8]=1):(r[0]=this.a,r[1]=this.c,r[2]=this.tx,r[3]=this.b,r[4]=this.d,r[5]=this.ty,r[6]=0,r[7]=0,r[8]=1),r}apply(e,n){n=n||new oa;const r=e.x,i=e.y;return n.x=this.a*r+this.c*i+this.tx,n.y=this.b*r+this.d*i+this.ty,n}applyInverse(e,n){n=n||new oa;const r=this.a,i=this.b,s=this.c,o=this.d,a=this.tx,l=this.ty,u=1/(r*o+s*-i),c=e.x,d=e.y;return n.x=o*u*c+-s*u*d+(l*s-a*o)*u,n.y=r*u*d+-i*u*c+(-l*r+a*i)*u,n}translate(e,n){return this.tx+=e,this.ty+=n,this}scale(e,n){return this.a*=e,this.d*=n,this.c*=e,this.b*=n,this.tx*=e,this.ty*=n,this}rotate(e){const n=Math.cos(e),r=Math.sin(e),i=this.a,s=this.c,o=this.tx;return this.a=i*n-this.b*r,this.b=i*r+this.b*n,this.c=s*n-this.d*r,this.d=s*r+this.d*n,this.tx=o*n-this.ty*r,this.ty=o*r+this.ty*n,this}append(e){const n=this.a,r=this.b,i=this.c,s=this.d;return this.a=e.a*n+e.b*i,this.b=e.a*r+e.b*s,this.c=e.c*n+e.d*i,this.d=e.c*r+e.d*s,this.tx=e.tx*n+e.ty*i+this.tx,this.ty=e.tx*r+e.ty*s+this.ty,this}appendFrom(e,n){const r=e.a,i=e.b,s=e.c,o=e.d,a=e.tx,l=e.ty,u=n.a,c=n.b,d=n.c,f=n.d;return this.a=r*u+i*d,this.b=r*c+i*f,this.c=s*u+o*d,this.d=s*c+o*f,this.tx=a*u+l*d+n.tx,this.ty=a*c+l*f+n.ty,this}setTransform(e,n,r,i,s,o,a,l,u){return this.a=Math.cos(a+u)*s,this.b=Math.sin(a+u)*s,this.c=-Math.sin(a-l)*o,this.d=Math.cos(a-l)*o,this.tx=e-(r*this.a+i*this.c),this.ty=n-(r*this.b+i*this.d),this}prepend(e){const n=this.tx;if(e.a!==1||e.b!==0||e.c!==0||e.d!==1){const r=this.a,i=this.c;this.a=r*e.a+this.b*e.c,this.b=r*e.b+this.b*e.d,this.c=i*e.a+this.d*e.c,this.d=i*e.b+this.d*e.d}return this.tx=n*e.a+this.ty*e.c+e.tx,this.ty=n*e.b+this.ty*e.d+e.ty,this}decompose(e){const n=this.a,r=this.b,i=this.c,s=this.d,o=e.pivot,a=-Math.atan2(-i,s),l=Math.atan2(r,n),u=Math.abs(a+l);return u<1e-5||Math.abs(_rt-u)<1e-5?(e.rotation=l,e.skew.x=e.skew.y=0):(e.rotation=0,e.skew.x=a,e.skew.y=l),e.scale.x=Math.sqrt(n*n+r*r),e.scale.y=Math.sqrt(i*i+s*s),e.position.x=this.tx+(o.x*n+o.y*i),e.position.y=this.ty+(o.x*r+o.y*s),e}invert(){const e=this.a,n=this.b,r=this.c,i=this.d,s=this.tx,o=e*i-n*r;return this.a=i/o,this.b=-n/o,this.c=-r/o,this.d=e/o,this.tx=(r*this.ty-i*s)/o,this.ty=-(e*this.ty-n*s)/o,this}isIdentity(){return this.a===1&&this.b===0&&this.c===0&&this.d===1&&this.tx===0&&this.ty===0}identity(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this}clone(){const e=new mi;return e.a=this.a,e.b=this.b,e.c=this.c,e.d=this.d,e.tx=this.tx,e.ty=this.ty,e}copyTo(e){return e.a=this.a,e.b=this.b,e.c=this.c,e.d=this.d,e.tx=this.tx,e.ty=this.ty,e}copyFrom(e){return this.a=e.a,this.b=e.b,this.c=e.c,this.d=e.d,this.tx=e.tx,this.ty=e.ty,this}equals(e){return e.a===this.a&&e.b===this.b&&e.c===this.c&&e.d===this.d&&e.tx===this.tx&&e.ty===this.ty}toString(){return`[pixi.js:Matrix a=${this.a} b=${this.b} c=${this.c} d=${this.d} tx=${this.tx} ty=${this.ty}]`}static get IDENTITY(){return Trt.identity()}static get shared(){return Drt.identity()}}const Drt=new mi,Trt=new mi,Kb=[1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1,0,1],Wb=[0,1,1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1],qb=[0,-1,-1,-1,0,1,1,1,0,1,1,1,0,-1,-1,-1],Yb=[1,1,0,-1,-1,-1,0,1,-1,-1,0,1,1,1,0,-1],IL=[],Xhe=[],QI=Math.sign;function Mrt(){for(let t=0;t<16;t++){const e=[];IL.push(e);for(let n=0;n<16;n++){const r=QI(Kb[t]*Kb[n]+qb[t]*Wb[n]),i=QI(Wb[t]*Kb[n]+Yb[t]*Wb[n]),s=QI(Kb[t]*qb[n]+qb[t]*Yb[n]),o=QI(Wb[t]*qb[n]+Yb[t]*Yb[n]);for(let a=0;a<16;a++)if(Kb[a]===r&&Wb[a]===i&&qb[a]===s&&Yb[a]===o){e.push(a);break}}}for(let t=0;t<16;t++){const e=new mi;e.set(Kb[t],Wb[t],qb[t],Yb[t],0,0),Xhe.push(e)}}Mrt();const Cs={E:0,SE:1,S:2,SW:3,W:4,NW:5,N:6,NE:7,MIRROR_VERTICAL:8,MAIN_DIAGONAL:10,MIRROR_HORIZONTAL:12,REVERSE_DIAGONAL:14,uX:t=>Kb[t],uY:t=>Wb[t],vX:t=>qb[t],vY:t=>Yb[t],inv:t=>t&8?t&15:-t&7,add:(t,e)=>IL[t][e],sub:(t,e)=>IL[t][Cs.inv(e)],rotate180:t=>t^4,isVertical:t=>(t&3)===2,byDirection:(t,e)=>Math.abs(t)*2<=Math.abs(e)?e>=0?Cs.S:Cs.N:Math.abs(e)*2<=Math.abs(t)?t>0?Cs.E:Cs.W:e>0?t>0?Cs.SE:Cs.SW:t>0?Cs.NE:Cs.NW,matrixAppendRotationInv:(t,e,n=0,r=0)=>{const i=Xhe[Cs.inv(e)];i.tx=n,i.ty=r,t.append(i)},transformRectCoords:(t,e,n,r)=>{const{x:i,y:s,width:o,height:a}=t,{x:l,y:u,width:c,height:d}=e;return n===Cs.E?(r.set(i+l,s+u,o,a),r):n===Cs.S?r.set(c-s-a+l,i+u,a,o):n===Cs.W?r.set(c-i-o+l,d-s-a+u,o,a):n===Cs.N?r.set(s+l,d-i-o+u,a,o):r.set(i+l,s+u,o,a)}},UI=[new oa,new oa,new oa,new oa];class rs{constructor(e=0,n=0,r=0,i=0){this.type="rectangle",this.x=Number(e),this.y=Number(n),this.width=Number(r),this.height=Number(i)}get left(){return this.x}get right(){return this.x+this.width}get top(){return this.y}get bottom(){return this.y+this.height}isEmpty(){return this.left===this.right||this.top===this.bottom}static get EMPTY(){return new rs(0,0,0,0)}clone(){return new rs(this.x,this.y,this.width,this.height)}copyFromBounds(e){return this.x=e.minX,this.y=e.minY,this.width=e.maxX-e.minX,this.height=e.maxY-e.minY,this}copyFrom(e){return this.x=e.x,this.y=e.y,this.width=e.width,this.height=e.height,this}copyTo(e){return e.copyFrom(this),e}contains(e,n){return this.width<=0||this.height<=0?!1:e>=this.x&&e<this.x+this.width&&n>=this.y&&n<this.y+this.height}strokeContains(e,n,r,i=.5){const{width:s,height:o}=this;if(s<=0||o<=0)return!1;const a=this.x,l=this.y,u=r*(1-i),c=r-u,d=a-u,f=a+s+u,p=l-u,m=l+o+u,v=a+c,y=a+s-c,A=l+c,C=l+o-c;return e>=d&&e<=f&&n>=p&&n<=m&&!(e>v&&e<y&&n>A&&n<C)}intersects(e,n){if(!n){const P=this.x<e.x?e.x:this.x;if((this.right>e.right?e.right:this.right)<=P)return!1;const L=this.y<e.y?e.y:this.y;return(this.bottom>e.bottom?e.bottom:this.bottom)>L}const r=this.left,i=this.right,s=this.top,o=this.bottom;if(i<=r||o<=s)return!1;const a=UI[0].set(e.left,e.top),l=UI[1].set(e.left,e.bottom),u=UI[2].set(e.right,e.top),c=UI[3].set(e.right,e.bottom);if(u.x<=a.x||l.y<=a.y)return!1;const d=Math.sign(n.a*n.d-n.b*n.c);if(d===0||(n.apply(a,a),n.apply(l,l),n.apply(u,u),n.apply(c,c),Math.max(a.x,l.x,u.x,c.x)<=r||Math.min(a.x,l.x,u.x,c.x)>=i||Math.max(a.y,l.y,u.y,c.y)<=s||Math.min(a.y,l.y,u.y,c.y)>=o))return!1;const f=d*(l.y-a.y),p=d*(a.x-l.x),m=f*r+p*s,v=f*i+p*s,y=f*r+p*o,A=f*i+p*o;if(Math.max(m,v,y,A)<=f*a.x+p*a.y||Math.min(m,v,y,A)>=f*c.x+p*c.y)return!1;const C=d*(a.y-u.y),E=d*(u.x-a.x),I=C*r+E*s,D=C*i+E*s,T=C*r+E*o,M=C*i+E*o;return!(Math.max(I,D,T,M)<=C*a.x+E*a.y||Math.min(I,D,T,M)>=C*c.x+E*c.y)}pad(e=0,n=e){return this.x-=e,this.y-=n,this.width+=e*2,this.height+=n*2,this}fit(e){const n=Math.max(this.x,e.x),r=Math.min(this.x+this.width,e.x+e.width),i=Math.max(this.y,e.y),s=Math.min(this.y+this.height,e.y+e.height);return this.x=n,this.width=Math.max(r-n,0),this.y=i,this.height=Math.max(s-i,0),this}ceil(e=1,n=.001){const r=Math.ceil((this.x+this.width-n)*e)/e,i=Math.ceil((this.y+this.height-n)*e)/e;return this.x=Math.floor((this.x+n)*e)/e,this.y=Math.floor((this.y+n)*e)/e,this.width=r-this.x,this.height=i-this.y,this}scale(e,n=e){return this.x*=e,this.y*=n,this.width*=e,this.height*=n,this}enlarge(e){const n=Math.min(this.x,e.x),r=Math.max(this.x+this.width,e.x+e.width),i=Math.min(this.y,e.y),s=Math.max(this.y+this.height,e.y+e.height);return this.x=n,this.width=r-n,this.y=i,this.height=s-i,this}getBounds(e){return e||(e=new rs),e.copyFrom(this),e}containsRect(e){if(this.width<=0||this.height<=0)return!1;const n=e.x,r=e.y,i=e.x+e.width,s=e.y+e.height;return n>=this.x&&n<this.x+this.width&&r>=this.y&&r<this.y+this.height&&i>=this.x&&i<this.x+this.width&&s>=this.y&&s<this.y+this.height}set(e,n,r,i){return this.x=e,this.y=n,this.width=r,this.height=i,this}toString(){return`[pixi.js/math:Rectangle x=${this.x} y=${this.y} width=${this.width} height=${this.height}]`}}const TR={default:-1};function qo(t="default"){return TR[t]===void 0&&(TR[t]=-1),++TR[t]}const rG=new Set,Ni="8.0.0",krt="8.3.4",rE={quiet:!1,noColor:!1},Pr=(t,e,n=3)=>{if(rE.quiet||rG.has(e))return;let r=new Error().stack;const i=`${e}
Deprecated since v${t}`,s=typeof console.groupCollapsed=="function"&&!rE.noColor;typeof r>"u"?console.warn("PixiJS Deprecation Warning: ",i):(r=r.split(`
`).splice(n).join(`
`),s?(console.groupCollapsed("%cPixiJS Deprecation Warning: %c%s","color:#614108;background:#fffbe6","font-weight:normal;color:#614108;background:#fffbe6",i),console.warn(r),console.groupEnd()):(console.warn("PixiJS Deprecation Warning: ",i),console.warn(r))),rG.add(e)};Object.defineProperties(Pr,{quiet:{get:()=>rE.quiet,set:t=>{rE.quiet=t},enumerable:!0,configurable:!1},noColor:{get:()=>rE.noColor,set:t=>{rE.noColor=t},enumerable:!0,configurable:!1}});const Jhe=()=>{};function HE(t){return t+=t===0?1:0,--t,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t+1}function iG(t){return!(t&t-1)&&!!t}function Zhe(t){const e={};for(const n in t)t[n]!==void 0&&(e[n]=t[n]);return e}const sG=Object.create(null);function Prt(t){const e=sG[t];return e===void 0&&(sG[t]=qo("resource")),e}const efe=class tfe extends Yp{constructor(e={}){super(),this._resourceType="textureSampler",this._touched=0,this._maxAnisotropy=1,this.destroyed=!1,e={...tfe.defaultOptions,...e},this.addressMode=e.addressMode,this.addressModeU=e.addressModeU??this.addressModeU,this.addressModeV=e.addressModeV??this.addressModeV,this.addressModeW=e.addressModeW??this.addressModeW,this.scaleMode=e.scaleMode,this.magFilter=e.magFilter??this.magFilter,this.minFilter=e.minFilter??this.minFilter,this.mipmapFilter=e.mipmapFilter??this.mipmapFilter,this.lodMinClamp=e.lodMinClamp,this.lodMaxClamp=e.lodMaxClamp,this.compare=e.compare,this.maxAnisotropy=e.maxAnisotropy??1}set addressMode(e){this.addressModeU=e,this.addressModeV=e,this.addressModeW=e}get addressMode(){return this.addressModeU}set wrapMode(e){Pr(Ni,"TextureStyle.wrapMode is now TextureStyle.addressMode"),this.addressMode=e}get wrapMode(){return this.addressMode}set scaleMode(e){this.magFilter=e,this.minFilter=e,this.mipmapFilter=e}get scaleMode(){return this.magFilter}set maxAnisotropy(e){this._maxAnisotropy=Math.min(e,16),this._maxAnisotropy>1&&(this.scaleMode="linear")}get maxAnisotropy(){return this._maxAnisotropy}get _resourceId(){return this._sharedResourceId||this._generateResourceId()}update(){this.emit("change",this),this._sharedResourceId=null}_generateResourceId(){const e=`${this.addressModeU}-${this.addressModeV}-${this.addressModeW}-${this.magFilter}-${this.minFilter}-${this.mipmapFilter}-${this.lodMinClamp}-${this.lodMaxClamp}-${this.compare}-${this._maxAnisotropy}`;return this._sharedResourceId=Prt(e),this._resourceId}destroy(){this.destroyed=!0,this.emit("destroy",this),this.emit("change",this),this.removeAllListeners()}};efe.defaultOptions={addressMode:"clamp-to-edge",scaleMode:"linear"};let VE=efe;const nfe=class rfe extends Yp{constructor(e={}){super(),this.options=e,this.uid=qo("textureSource"),this._resourceType="textureSource",this._resourceId=qo("resource"),this.uploadMethodId="unknown",this._resolution=1,this.pixelWidth=1,this.pixelHeight=1,this.width=1,this.height=1,this.sampleCount=1,this.mipLevelCount=1,this.autoGenerateMipmaps=!1,this.format="rgba8unorm",this.dimension="2d",this.antialias=!1,this._touched=0,this._batchTick=-1,this._textureBindLocation=-1,e={...rfe.defaultOptions,...e},this.label=e.label??"",this.resource=e.resource,this.autoGarbageCollect=e.autoGarbageCollect,this._resolution=e.resolution,e.width?this.pixelWidth=e.width*this._resolution:this.pixelWidth=this.resource?this.resourceWidth??1:1,e.height?this.pixelHeight=e.height*this._resolution:this.pixelHeight=this.resource?this.resourceHeight??1:1,this.width=this.pixelWidth/this._resolution,this.height=this.pixelHeight/this._resolution,this.format=e.format,this.dimension=e.dimensions,this.mipLevelCount=e.mipLevelCount,this.autoGenerateMipmaps=e.autoGenerateMipmaps,this.sampleCount=e.sampleCount,this.antialias=e.antialias,this.alphaMode=e.alphaMode,this.style=new VE(Zhe(e)),this.destroyed=!1,this._refreshPOT()}get source(){return this}get style(){return this._style}set style(e){this.style!==e&&(this._style?.off("change",this._onStyleChange,this),this._style=e,this._style?.on("change",this._onStyleChange,this),this._onStyleChange())}set maxAnisotropy(e){this._style.maxAnisotropy=e}get maxAnisotropy(){return this._style.maxAnisotropy}get addressMode(){return this._style.addressMode}set addressMode(e){this._style.addressMode=e}get repeatMode(){return this._style.addressMode}set repeatMode(e){this._style.addressMode=e}get magFilter(){return this._style.magFilter}set magFilter(e){this._style.magFilter=e}get minFilter(){return this._style.minFilter}set minFilter(e){this._style.minFilter=e}get mipmapFilter(){return this._style.mipmapFilter}set mipmapFilter(e){this._style.mipmapFilter=e}get lodMinClamp(){return this._style.lodMinClamp}set lodMinClamp(e){this._style.lodMinClamp=e}get lodMaxClamp(){return this._style.lodMaxClamp}set lodMaxClamp(e){this._style.lodMaxClamp=e}_onStyleChange(){this.emit("styleChange",this)}update(){if(this.resource){const e=this._resolution;if(this.resize(this.resourceWidth/e,this.resourceHeight/e))return}this.emit("update",this)}destroy(){this.destroyed=!0,this.emit("destroy",this),this.emit("change",this),this._style&&(this._style.destroy(),this._style=null),this.uploadMethodId=null,this.resource=null,this.removeAllListeners()}unload(){this._resourceId=qo("resource"),this.emit("change",this),this.emit("unload",this)}get resourceWidth(){const{resource:e}=this;return e.naturalWidth||e.videoWidth||e.displayWidth||e.width}get resourceHeight(){const{resource:e}=this;return e.naturalHeight||e.videoHeight||e.displayHeight||e.height}get resolution(){return this._resolution}set resolution(e){this._resolution!==e&&(this._resolution=e,this.width=this.pixelWidth/e,this.height=this.pixelHeight/e)}resize(e,n,r){r||(r=this._resolution),e||(e=this.width),n||(n=this.height);const i=Math.round(e*r),s=Math.round(n*r);return this.width=i/r,this.height=s/r,this._resolution=r,this.pixelWidth===i&&this.pixelHeight===s?!1:(this._refreshPOT(),this.pixelWidth=i,this.pixelHeight=s,this.emit("resize",this),this._resourceId=qo("resource"),this.emit("change",this),!0)}updateMipmaps(){this.autoGenerateMipmaps&&this.mipLevelCount>1&&this.emit("updateMipmaps",this)}set wrapMode(e){this._style.wrapMode=e}get wrapMode(){return this._style.wrapMode}set scaleMode(e){this._style.scaleMode=e}get scaleMode(){return this._style.scaleMode}_refreshPOT(){this.isPowerOfTwo=iG(this.pixelWidth)&&iG(this.pixelHeight)}static test(e){throw new Error("Unimplemented")}};nfe.defaultOptions={resolution:1,format:"bgra8unorm",alphaMode:"premultiply-alpha-on-upload",dimensions:"2d",mipLevelCount:1,autoGenerateMipmaps:!1,sampleCount:1,antialias:!1,autoGarbageCollect:!1};let Mf=nfe;class Hz extends Mf{constructor(e){const n=e.resource||new Float32Array(e.width*e.height*4);let r=e.format;r||(n instanceof Float32Array?r="rgba32float":n instanceof Int32Array||n instanceof Uint32Array?r="rgba32uint":n instanceof Int16Array||n instanceof Uint16Array?r="rgba16uint":(n instanceof Int8Array,r="bgra8unorm")),super({...e,resource:n,format:r}),this.uploadMethodId="buffer"}static test(e){return e instanceof Int8Array||e instanceof Uint8Array||e instanceof Uint8ClampedArray||e instanceof Int16Array||e instanceof Uint16Array||e instanceof Int32Array||e instanceof Uint32Array||e instanceof Float32Array}}Hz.extension=Qn.TextureSource;const oG=new mi;class Rrt{constructor(e,n){this.mapCoord=new mi,this.uClampFrame=new Float32Array(4),this.uClampOffset=new Float32Array(2),this._textureID=-1,this._updateID=0,this.clampOffset=0,typeof n>"u"?this.clampMargin=e.width<10?0:.5:this.clampMargin=n,this.isSimple=!1,this.texture=e}get texture(){return this._texture}set texture(e){this.texture!==e&&(this._texture?.removeListener("update",this.update,this),this._texture=e,this._texture.addListener("update",this.update,this),this.update())}multiplyUvs(e,n){n===void 0&&(n=e);const r=this.mapCoord;for(let i=0;i<e.length;i+=2){const s=e[i],o=e[i+1];n[i]=s*r.a+o*r.c+r.tx,n[i+1]=s*r.b+o*r.d+r.ty}return n}update(){const e=this._texture;this._updateID++;const n=e.uvs;this.mapCoord.set(n.x1-n.x0,n.y1-n.y0,n.x3-n.x0,n.y3-n.y0,n.x0,n.y0);const r=e.orig,i=e.trim;i&&(oG.set(r.width/i.width,0,0,r.height/i.height,-i.x/i.width,-i.y/i.height),this.mapCoord.append(oG));const s=e.source,o=this.uClampFrame,a=this.clampMargin/s._resolution,l=this.clampOffset/s._resolution;return o[0]=(e.frame.x+a+l)/s.width,o[1]=(e.frame.y+a+l)/s.height,o[2]=(e.frame.x+e.frame.width-a+l)/s.width,o[3]=(e.frame.y+e.frame.height-a+l)/s.height,this.uClampOffset[0]=this.clampOffset/s.pixelWidth,this.uClampOffset[1]=this.clampOffset/s.pixelHeight,this.isSimple=e.frame.width===s.width&&e.frame.height===s.height&&e.rotate===0,!0}}class er extends Yp{constructor({source:e,label:n,frame:r,orig:i,trim:s,defaultAnchor:o,defaultBorders:a,rotate:l,dynamic:u}={}){if(super(),this.uid=qo("texture"),this.uvs={x0:0,y0:0,x1:0,y1:0,x2:0,y2:0,x3:0,y3:0},this.frame=new rs,this.noFrame=!1,this.dynamic=!1,this.isTexture=!0,this.label=n,this.source=e?.source??new Mf,this.noFrame=!r,r)this.frame.copyFrom(r);else{const{width:c,height:d}=this._source;this.frame.width=c,this.frame.height=d}this.orig=i||this.frame,this.trim=s,this.rotate=l??0,this.defaultAnchor=o,this.defaultBorders=a,this.destroyed=!1,this.dynamic=u||!1,this.updateUvs()}set source(e){this._source&&this._source.off("resize",this.update,this),this._source=e,e.on("resize",this.update,this),this.emit("update",this)}get source(){return this._source}get textureMatrix(){return this._textureMatrix||(this._textureMatrix=new Rrt(this)),this._textureMatrix}get width(){return this.orig.width}get height(){return this.orig.height}updateUvs(){const{uvs:e,frame:n}=this,{width:r,height:i}=this._source,s=n.x/r,o=n.y/i,a=n.width/r,l=n.height/i;let u=this.rotate;if(u){const c=a/2,d=l/2,f=s+c,p=o+d;u=Cs.add(u,Cs.NW),e.x0=f+c*Cs.uX(u),e.y0=p+d*Cs.uY(u),u=Cs.add(u,2),e.x1=f+c*Cs.uX(u),e.y1=p+d*Cs.uY(u),u=Cs.add(u,2),e.x2=f+c*Cs.uX(u),e.y2=p+d*Cs.uY(u),u=Cs.add(u,2),e.x3=f+c*Cs.uX(u),e.y3=p+d*Cs.uY(u)}else e.x0=s,e.y0=o,e.x1=s+a,e.y1=o,e.x2=s+a,e.y2=o+l,e.x3=s,e.y3=o+l}destroy(e=!1){this._source&&(this._source.off("resize",this.update,this),e&&(this._source.destroy(),this._source=null)),this._textureMatrix=null,this.destroyed=!0,this.emit("destroy",this),this.removeAllListeners()}update(){this.noFrame&&(this.frame.width=this._source.width,this.frame.height=this._source.height),this.updateUvs(),this.emit("update",this)}get baseTexture(){return Pr(Ni,"Texture.baseTexture is now Texture.source"),this._source}}er.EMPTY=new er({label:"EMPTY",source:new Mf({label:"EMPTY"})});er.EMPTY.destroy=Jhe;er.WHITE=new er({source:new Hz({resource:new Uint8Array([255,255,255,255]),width:1,height:1,alphaMode:"premultiply-alpha-on-upload",label:"WHITE"}),label:"WHITE"});er.WHITE.destroy=Jhe;function Nrt(t,e,n){const{width:r,height:i}=n.orig,s=n.trim;if(s){const o=s.width,a=s.height;t.minX=s.x-e._x*r,t.maxX=t.minX+o,t.minY=s.y-e._y*i,t.maxY=t.minY+a}else t.minX=-e._x*r,t.maxX=t.minX+r,t.minY=-e._y*i,t.maxY=t.minY+i}const aG=new mi;class Vp{constructor(e=1/0,n=1/0,r=-1/0,i=-1/0){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.matrix=aG,this.minX=e,this.minY=n,this.maxX=r,this.maxY=i}isEmpty(){return this.minX>this.maxX||this.minY>this.maxY}get rectangle(){this._rectangle||(this._rectangle=new rs);const e=this._rectangle;return this.minX>this.maxX||this.minY>this.maxY?(e.x=0,e.y=0,e.width=0,e.height=0):e.copyFromBounds(this),e}clear(){return this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.matrix=aG,this}set(e,n,r,i){this.minX=e,this.minY=n,this.maxX=r,this.maxY=i}addFrame(e,n,r,i,s){s||(s=this.matrix);const o=s.a,a=s.b,l=s.c,u=s.d,c=s.tx,d=s.ty;let f=this.minX,p=this.minY,m=this.maxX,v=this.maxY,y=o*e+l*n+c,A=a*e+u*n+d;y<f&&(f=y),A<p&&(p=A),y>m&&(m=y),A>v&&(v=A),y=o*r+l*n+c,A=a*r+u*n+d,y<f&&(f=y),A<p&&(p=A),y>m&&(m=y),A>v&&(v=A),y=o*e+l*i+c,A=a*e+u*i+d,y<f&&(f=y),A<p&&(p=A),y>m&&(m=y),A>v&&(v=A),y=o*r+l*i+c,A=a*r+u*i+d,y<f&&(f=y),A<p&&(p=A),y>m&&(m=y),A>v&&(v=A),this.minX=f,this.minY=p,this.maxX=m,this.maxY=v}addRect(e,n){this.addFrame(e.x,e.y,e.x+e.width,e.y+e.height,n)}addBounds(e,n){this.addFrame(e.minX,e.minY,e.maxX,e.maxY,n)}addBoundsMask(e){this.minX=this.minX>e.minX?this.minX:e.minX,this.minY=this.minY>e.minY?this.minY:e.minY,this.maxX=this.maxX<e.maxX?this.maxX:e.maxX,this.maxY=this.maxY<e.maxY?this.maxY:e.maxY}applyMatrix(e){const n=this.minX,r=this.minY,i=this.maxX,s=this.maxY,{a:o,b:a,c:l,d:u,tx:c,ty:d}=e;let f=o*n+l*r+c,p=a*n+u*r+d;this.minX=f,this.minY=p,this.maxX=f,this.maxY=p,f=o*i+l*r+c,p=a*i+u*r+d,this.minX=f<this.minX?f:this.minX,this.minY=p<this.minY?p:this.minY,this.maxX=f>this.maxX?f:this.maxX,this.maxY=p>this.maxY?p:this.maxY,f=o*n+l*s+c,p=a*n+u*s+d,this.minX=f<this.minX?f:this.minX,this.minY=p<this.minY?p:this.minY,this.maxX=f>this.maxX?f:this.maxX,this.maxY=p>this.maxY?p:this.maxY,f=o*i+l*s+c,p=a*i+u*s+d,this.minX=f<this.minX?f:this.minX,this.minY=p<this.minY?p:this.minY,this.maxX=f>this.maxX?f:this.maxX,this.maxY=p>this.maxY?p:this.maxY}fit(e){return this.minX<e.left&&(this.minX=e.left),this.maxX>e.right&&(this.maxX=e.right),this.minY<e.top&&(this.minY=e.top),this.maxY>e.bottom&&(this.maxY=e.bottom),this}fitBounds(e,n,r,i){return this.minX<e&&(this.minX=e),this.maxX>n&&(this.maxX=n),this.minY<r&&(this.minY=r),this.maxY>i&&(this.maxY=i),this}pad(e,n=e){return this.minX-=e,this.maxX+=e,this.minY-=n,this.maxY+=n,this}ceil(){return this.minX=Math.floor(this.minX),this.minY=Math.floor(this.minY),this.maxX=Math.ceil(this.maxX),this.maxY=Math.ceil(this.maxY),this}clone(){return new Vp(this.minX,this.minY,this.maxX,this.maxY)}scale(e,n=e){return this.minX*=e,this.minY*=n,this.maxX*=e,this.maxY*=n,this}get x(){return this.minX}set x(e){const n=this.maxX-this.minX;this.minX=e,this.maxX=e+n}get y(){return this.minY}set y(e){const n=this.maxY-this.minY;this.minY=e,this.maxY=e+n}get width(){return this.maxX-this.minX}set width(e){this.maxX=this.minX+e}get height(){return this.maxY-this.minY}set height(e){this.maxY=this.minY+e}get left(){return this.minX}get right(){return this.maxX}get top(){return this.minY}get bottom(){return this.maxY}get isPositive(){return this.maxX-this.minX>0&&this.maxY-this.minY>0}get isValid(){return this.minX+this.minY!==1/0}addVertexData(e,n,r,i){let s=this.minX,o=this.minY,a=this.maxX,l=this.maxY;i||(i=this.matrix);const u=i.a,c=i.b,d=i.c,f=i.d,p=i.tx,m=i.ty;for(let v=n;v<r;v+=2){const y=e[v],A=e[v+1],C=u*y+d*A+p,E=c*y+f*A+m;s=C<s?C:s,o=E<o?E:o,a=C>a?C:a,l=E>l?E:l}this.minX=s,this.minY=o,this.maxX=a,this.maxY=l}containsPoint(e,n){return this.minX<=e&&this.minY<=n&&this.maxX>=e&&this.maxY>=n}toString(){return`[pixi.js:Bounds minX=${this.minX} minY=${this.minY} maxX=${this.maxX} maxY=${this.maxY} width=${this.width} height=${this.height}]`}copyFrom(e){return this.minX=e.minX,this.minY=e.minY,this.maxX=e.maxX,this.maxY=e.maxY,this}}var Lrt={grad:.9,turn:360,rad:360/(2*Math.PI)},a0=function(t){return typeof t=="string"?t.length>0:typeof t=="number"},Ml=function(t,e,n){return e===void 0&&(e=0),n===void 0&&(n=Math.pow(10,e)),Math.round(n*t)/n+0},gf=function(t,e,n){return e===void 0&&(e=0),n===void 0&&(n=1),t>n?n:t>e?t:e},ife=function(t){return(t=isFinite(t)?t%360:0)>0?t:t+360},lG=function(t){return{r:gf(t.r,0,255),g:gf(t.g,0,255),b:gf(t.b,0,255),a:gf(t.a)}},MR=function(t){return{r:Ml(t.r),g:Ml(t.g),b:Ml(t.b),a:Ml(t.a,3)}},Frt=/^#([0-9a-f]{3,8})$/i,HI=function(t){var e=t.toString(16);return e.length<2?"0"+e:e},sfe=function(t){var e=t.r,n=t.g,r=t.b,i=t.a,s=Math.max(e,n,r),o=s-Math.min(e,n,r),a=o?s===e?(n-r)/o:s===n?2+(r-e)/o:4+(e-n)/o:0;return{h:60*(a<0?a+6:a),s:s?o/s*100:0,v:s/255*100,a:i}},ofe=function(t){var e=t.h,n=t.s,r=t.v,i=t.a;e=e/360*6,n/=100,r/=100;var s=Math.floor(e),o=r*(1-n),a=r*(1-(e-s)*n),l=r*(1-(1-e+s)*n),u=s%6;return{r:255*[r,a,o,o,l,r][u],g:255*[l,r,r,a,o,o][u],b:255*[o,o,l,r,r,a][u],a:i}},uG=function(t){return{h:ife(t.h),s:gf(t.s,0,100),l:gf(t.l,0,100),a:gf(t.a)}},cG=function(t){return{h:Ml(t.h),s:Ml(t.s),l:Ml(t.l),a:Ml(t.a,3)}},dG=function(t){return ofe((n=(e=t).s,{h:e.h,s:(n*=((r=e.l)<50?r:100-r)/100)>0?2*n/(r+n)*100:0,v:r+n,a:e.a}));var e,n,r},R_=function(t){return{h:(e=sfe(t)).h,s:(i=(200-(n=e.s))*(r=e.v)/100)>0&&i<200?n*r/100/(i<=100?i:200-i)*100:0,l:i/2,a:e.a};var e,n,r,i},$rt=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s*,\s*([+-]?\d*\.?\d+)%\s*,\s*([+-]?\d*\.?\d+)%\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,zrt=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s+([+-]?\d*\.?\d+)%\s+([+-]?\d*\.?\d+)%\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,Ort=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,jrt=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,BL={string:[[function(t){var e=Frt.exec(t);return e?(t=e[1]).length<=4?{r:parseInt(t[0]+t[0],16),g:parseInt(t[1]+t[1],16),b:parseInt(t[2]+t[2],16),a:t.length===4?Ml(parseInt(t[3]+t[3],16)/255,2):1}:t.length===6||t.length===8?{r:parseInt(t.substr(0,2),16),g:parseInt(t.substr(2,2),16),b:parseInt(t.substr(4,2),16),a:t.length===8?Ml(parseInt(t.substr(6,2),16)/255,2):1}:null:null},"hex"],[function(t){var e=Ort.exec(t)||jrt.exec(t);return e?e[2]!==e[4]||e[4]!==e[6]?null:lG({r:Number(e[1])/(e[2]?100/255:1),g:Number(e[3])/(e[4]?100/255:1),b:Number(e[5])/(e[6]?100/255:1),a:e[7]===void 0?1:Number(e[7])/(e[8]?100:1)}):null},"rgb"],[function(t){var e=$rt.exec(t)||zrt.exec(t);if(!e)return null;var n,r,i=uG({h:(n=e[1],r=e[2],r===void 0&&(r="deg"),Number(n)*(Lrt[r]||1)),s:Number(e[3]),l:Number(e[4]),a:e[5]===void 0?1:Number(e[5])/(e[6]?100:1)});return dG(i)},"hsl"]],object:[[function(t){var e=t.r,n=t.g,r=t.b,i=t.a,s=i===void 0?1:i;return a0(e)&&a0(n)&&a0(r)?lG({r:Number(e),g:Number(n),b:Number(r),a:Number(s)}):null},"rgb"],[function(t){var e=t.h,n=t.s,r=t.l,i=t.a,s=i===void 0?1:i;if(!a0(e)||!a0(n)||!a0(r))return null;var o=uG({h:Number(e),s:Number(n),l:Number(r),a:Number(s)});return dG(o)},"hsl"],[function(t){var e=t.h,n=t.s,r=t.v,i=t.a,s=i===void 0?1:i;if(!a0(e)||!a0(n)||!a0(r))return null;var o=(function(a){return{h:ife(a.h),s:gf(a.s,0,100),v:gf(a.v,0,100),a:gf(a.a)}})({h:Number(e),s:Number(n),v:Number(r),a:Number(s)});return ofe(o)},"hsv"]]},hG=function(t,e){for(var n=0;n<e.length;n++){var r=e[n][0](t);if(r)return[r,e[n][1]]}return[null,void 0]},Qrt=function(t){return typeof t=="string"?hG(t.trim(),BL.string):typeof t=="object"&&t!==null?hG(t,BL.object):[null,void 0]},kR=function(t,e){var n=R_(t);return{h:n.h,s:gf(n.s+100*e,0,100),l:n.l,a:n.a}},PR=function(t){return(299*t.r+587*t.g+114*t.b)/1e3/255},fG=function(t,e){var n=R_(t);return{h:n.h,s:n.s,l:gf(n.l+100*e,0,100),a:n.a}},DL=(function(){function t(e){this.parsed=Qrt(e)[0],this.rgba=this.parsed||{r:0,g:0,b:0,a:1}}return t.prototype.isValid=function(){return this.parsed!==null},t.prototype.brightness=function(){return Ml(PR(this.rgba),2)},t.prototype.isDark=function(){return PR(this.rgba)<.5},t.prototype.isLight=function(){return PR(this.rgba)>=.5},t.prototype.toHex=function(){return e=MR(this.rgba),n=e.r,r=e.g,i=e.b,o=(s=e.a)<1?HI(Ml(255*s)):"","#"+HI(n)+HI(r)+HI(i)+o;var e,n,r,i,s,o},t.prototype.toRgb=function(){return MR(this.rgba)},t.prototype.toRgbString=function(){return e=MR(this.rgba),n=e.r,r=e.g,i=e.b,(s=e.a)<1?"rgba("+n+", "+r+", "+i+", "+s+")":"rgb("+n+", "+r+", "+i+")";var e,n,r,i,s},t.prototype.toHsl=function(){return cG(R_(this.rgba))},t.prototype.toHslString=function(){return e=cG(R_(this.rgba)),n=e.h,r=e.s,i=e.l,(s=e.a)<1?"hsla("+n+", "+r+"%, "+i+"%, "+s+")":"hsl("+n+", "+r+"%, "+i+"%)";var e,n,r,i,s},t.prototype.toHsv=function(){return e=sfe(this.rgba),{h:Ml(e.h),s:Ml(e.s),v:Ml(e.v),a:Ml(e.a,3)};var e},t.prototype.invert=function(){return Og({r:255-(e=this.rgba).r,g:255-e.g,b:255-e.b,a:e.a});var e},t.prototype.saturate=function(e){return e===void 0&&(e=.1),Og(kR(this.rgba,e))},t.prototype.desaturate=function(e){return e===void 0&&(e=.1),Og(kR(this.rgba,-e))},t.prototype.grayscale=function(){return Og(kR(this.rgba,-1))},t.prototype.lighten=function(e){return e===void 0&&(e=.1),Og(fG(this.rgba,e))},t.prototype.darken=function(e){return e===void 0&&(e=.1),Og(fG(this.rgba,-e))},t.prototype.rotate=function(e){return e===void 0&&(e=15),this.hue(this.hue()+e)},t.prototype.alpha=function(e){return typeof e=="number"?Og({r:(n=this.rgba).r,g:n.g,b:n.b,a:e}):Ml(this.rgba.a,3);var n},t.prototype.hue=function(e){var n=R_(this.rgba);return typeof e=="number"?Og({h:e,s:n.s,l:n.l,a:n.a}):Ml(n.h)},t.prototype.isEqual=function(e){return this.toHex()===Og(e).toHex()},t})(),Og=function(t){return t instanceof DL?t:new DL(t)},pG=[],Urt=function(t){t.forEach(function(e){pG.indexOf(e)<0&&(e(DL,BL),pG.push(e))})};function Hrt(t,e){var n={white:"#ffffff",bisque:"#ffe4c4",blue:"#0000ff",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",antiquewhite:"#faebd7",aqua:"#00ffff",azure:"#f0ffff",whitesmoke:"#f5f5f5",papayawhip:"#ffefd5",plum:"#dda0dd",blanchedalmond:"#ffebcd",black:"#000000",gold:"#ffd700",goldenrod:"#daa520",gainsboro:"#dcdcdc",cornsilk:"#fff8dc",cornflowerblue:"#6495ed",burlywood:"#deb887",aquamarine:"#7fffd4",beige:"#f5f5dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkkhaki:"#bdb76b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",peachpuff:"#ffdab9",darkmagenta:"#8b008b",darkred:"#8b0000",darkorchid:"#9932cc",darkorange:"#ff8c00",darkslateblue:"#483d8b",gray:"#808080",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",deeppink:"#ff1493",deepskyblue:"#00bfff",wheat:"#f5deb3",firebrick:"#b22222",floralwhite:"#fffaf0",ghostwhite:"#f8f8ff",darkviolet:"#9400d3",magenta:"#ff00ff",green:"#008000",dodgerblue:"#1e90ff",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",blueviolet:"#8a2be2",forestgreen:"#228b22",lawngreen:"#7cfc00",indianred:"#cd5c5c",indigo:"#4b0082",fuchsia:"#ff00ff",brown:"#a52a2a",maroon:"#800000",mediumblue:"#0000cd",lightcoral:"#f08080",darkturquoise:"#00ced1",lightcyan:"#e0ffff",ivory:"#fffff0",lightyellow:"#ffffe0",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",linen:"#faf0e6",mediumaquamarine:"#66cdaa",lemonchiffon:"#fffacd",lime:"#00ff00",khaki:"#f0e68c",mediumseagreen:"#3cb371",limegreen:"#32cd32",mediumspringgreen:"#00fa9a",lightskyblue:"#87cefa",lightblue:"#add8e6",midnightblue:"#191970",lightpink:"#ffb6c1",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",mintcream:"#f5fffa",lightslategray:"#778899",lightslategrey:"#778899",navajowhite:"#ffdead",navy:"#000080",mediumvioletred:"#c71585",powderblue:"#b0e0e6",palegoldenrod:"#eee8aa",oldlace:"#fdf5e6",paleturquoise:"#afeeee",mediumturquoise:"#48d1cc",mediumorchid:"#ba55d3",rebeccapurple:"#663399",lightsteelblue:"#b0c4de",mediumslateblue:"#7b68ee",thistle:"#d8bfd8",tan:"#d2b48c",orchid:"#da70d6",mediumpurple:"#9370db",purple:"#800080",pink:"#ffc0cb",skyblue:"#87ceeb",springgreen:"#00ff7f",palegreen:"#98fb98",red:"#ff0000",yellow:"#ffff00",slateblue:"#6a5acd",lavenderblush:"#fff0f5",peru:"#cd853f",palevioletred:"#db7093",violet:"#ee82ee",teal:"#008080",slategray:"#708090",slategrey:"#708090",aliceblue:"#f0f8ff",darkseagreen:"#8fbc8f",darkolivegreen:"#556b2f",greenyellow:"#adff2f",seagreen:"#2e8b57",seashell:"#fff5ee",tomato:"#ff6347",silver:"#c0c0c0",sienna:"#a0522d",lavender:"#e6e6fa",lightgreen:"#90ee90",orange:"#ffa500",orangered:"#ff4500",steelblue:"#4682b4",royalblue:"#4169e1",turquoise:"#40e0d0",yellowgreen:"#9acd32",salmon:"#fa8072",saddlebrown:"#8b4513",sandybrown:"#f4a460",rosybrown:"#bc8f8f",darksalmon:"#e9967a",lightgoldenrodyellow:"#fafad2",snow:"#fffafa",lightgrey:"#d3d3d3",lightgray:"#d3d3d3",dimgray:"#696969",dimgrey:"#696969",olivedrab:"#6b8e23",olive:"#808000"},r={};for(var i in n)r[n[i]]=i;var s={};t.prototype.toName=function(o){if(!(this.rgba.a||this.rgba.r||this.rgba.g||this.rgba.b))return"transparent";var a,l,u=r[this.toHex()];if(u)return u;if(o?.closest){var c=this.toRgb(),d=1/0,f="black";if(!s.length)for(var p in n)s[p]=new t(n[p]).toRgb();for(var m in n){var v=(a=c,l=s[m],Math.pow(a.r-l.r,2)+Math.pow(a.g-l.g,2)+Math.pow(a.b-l.b,2));v<d&&(d=v,f=m)}return f}},e.string.push([function(o){var a=o.toLowerCase(),l=a==="transparent"?"#0000":n[a];return l?new t(l).toRgb():null},"name"])}Urt([Hrt]);const GE=class s_{constructor(e=16777215){this._value=null,this._components=new Float32Array(4),this._components.fill(1),this._int=16777215,this.value=e}get red(){return this._components[0]}get green(){return this._components[1]}get blue(){return this._components[2]}get alpha(){return this._components[3]}setValue(e){return this.value=e,this}set value(e){if(e instanceof s_)this._value=this._cloneSource(e._value),this._int=e._int,this._components.set(e._components);else{if(e===null)throw new Error("Cannot set Color#value to null");(this._value===null||!this._isSourceEqual(this._value,e))&&(this._value=this._cloneSource(e),this._normalize(this._value))}}get value(){return this._value}_cloneSource(e){return typeof e=="string"||typeof e=="number"||e instanceof Number||e===null?e:Array.isArray(e)||ArrayBuffer.isView(e)?e.slice(0):typeof e=="object"&&e!==null?{...e}:e}_isSourceEqual(e,n){const r=typeof e;if(r!==typeof n)return!1;if(r==="number"||r==="string"||e instanceof Number)return e===n;if(Array.isArray(e)&&Array.isArray(n)||ArrayBuffer.isView(e)&&ArrayBuffer.isView(n))return e.length!==n.length?!1:e.every((s,o)=>s===n[o]);if(e!==null&&n!==null){const s=Object.keys(e),o=Object.keys(n);return s.length!==o.length?!1:s.every(a=>e[a]===n[a])}return e===n}toRgba(){const[e,n,r,i]=this._components;return{r:e,g:n,b:r,a:i}}toRgb(){const[e,n,r]=this._components;return{r:e,g:n,b:r}}toRgbaString(){const[e,n,r]=this.toUint8RgbArray();return`rgba(${e},${n},${r},${this.alpha})`}toUint8RgbArray(e){const[n,r,i]=this._components;return this._arrayRgb||(this._arrayRgb=[]),e||(e=this._arrayRgb),e[0]=Math.round(n*255),e[1]=Math.round(r*255),e[2]=Math.round(i*255),e}toArray(e){this._arrayRgba||(this._arrayRgba=[]),e||(e=this._arrayRgba);const[n,r,i,s]=this._components;return e[0]=n,e[1]=r,e[2]=i,e[3]=s,e}toRgbArray(e){this._arrayRgb||(this._arrayRgb=[]),e||(e=this._arrayRgb);const[n,r,i]=this._components;return e[0]=n,e[1]=r,e[2]=i,e}toNumber(){return this._int}toBgrNumber(){const[e,n,r]=this.toUint8RgbArray();return(r<<16)+(n<<8)+e}toLittleEndianNumber(){const e=this._int;return(e>>16)+(e&65280)+((e&255)<<16)}multiply(e){const[n,r,i,s]=s_._temp.setValue(e)._components;return this._components[0]*=n,this._components[1]*=r,this._components[2]*=i,this._components[3]*=s,this._refreshInt(),this._value=null,this}premultiply(e,n=!0){return n&&(this._components[0]*=e,this._components[1]*=e,this._components[2]*=e),this._components[3]=e,this._refreshInt(),this._value=null,this}toPremultiplied(e,n=!0){if(e===1)return(255<<24)+this._int;if(e===0)return n?0:this._int;let r=this._int>>16&255,i=this._int>>8&255,s=this._int&255;return n&&(r=r*e+.5|0,i=i*e+.5|0,s=s*e+.5|0),(e*255<<24)+(r<<16)+(i<<8)+s}toHex(){const e=this._int.toString(16);return`#${"000000".substring(0,6-e.length)+e}`}toHexa(){const n=Math.round(this._components[3]*255).toString(16);return this.toHex()+"00".substring(0,2-n.length)+n}setAlpha(e){return this._components[3]=this._clamp(e),this}_normalize(e){let n,r,i,s;if((typeof e=="number"||e instanceof Number)&&e>=0&&e<=16777215){const o=e;n=(o>>16&255)/255,r=(o>>8&255)/255,i=(o&255)/255,s=1}else if((Array.isArray(e)||e instanceof Float32Array)&&e.length>=3&&e.length<=4)e=this._clamp(e),[n,r,i,s=1]=e;else if((e instanceof Uint8Array||e instanceof Uint8ClampedArray)&&e.length>=3&&e.length<=4)e=this._clamp(e,0,255),[n,r,i,s=255]=e,n/=255,r/=255,i/=255,s/=255;else if(typeof e=="string"||typeof e=="object"){if(typeof e=="string"){const a=s_.HEX_PATTERN.exec(e);a&&(e=`#${a[2]}`)}const o=Og(e);o.isValid()&&({r:n,g:r,b:i,a:s}=o.rgba,n/=255,r/=255,i/=255)}if(n!==void 0)this._components[0]=n,this._components[1]=r,this._components[2]=i,this._components[3]=s,this._refreshInt();else throw new Error(`Unable to convert color ${e}`)}_refreshInt(){this._clamp(this._components);const[e,n,r]=this._components;this._int=(e*255<<16)+(n*255<<8)+(r*255|0)}_clamp(e,n=0,r=1){return typeof e=="number"?Math.min(Math.max(e,n),r):(e.forEach((i,s)=>{e[s]=Math.min(Math.max(i,n),r)}),e)}static isColorLike(e){return typeof e=="number"||typeof e=="string"||e instanceof Number||e instanceof s_||Array.isArray(e)||e instanceof Uint8Array||e instanceof Uint8ClampedArray||e instanceof Float32Array||e.r!==void 0&&e.g!==void 0&&e.b!==void 0||e.r!==void 0&&e.g!==void 0&&e.b!==void 0&&e.a!==void 0||e.h!==void 0&&e.s!==void 0&&e.l!==void 0||e.h!==void 0&&e.s!==void 0&&e.l!==void 0&&e.a!==void 0||e.h!==void 0&&e.s!==void 0&&e.v!==void 0||e.h!==void 0&&e.s!==void 0&&e.v!==void 0&&e.a!==void 0}};GE.shared=new GE;GE._temp=new GE;GE.HEX_PATTERN=/^(#|0x)?(([a-f0-9]{3}){1,2}([a-f0-9]{2})?)$/i;let Oa=GE;const Vrt={cullArea:null,cullable:!1,cullableChildren:!0};let RR=0;const gG=500;function to(...t){RR!==gG&&(RR++,RR===gG?console.warn("PixiJS Warning: too many warnings, no more warnings will be reported to the console by PixiJS."):console.warn("PixiJS Warning: ",...t))}const w4={_registeredResources:new Set,register(t){this._registeredResources.add(t)},unregister(t){this._registeredResources.delete(t)},release(){this._registeredResources.forEach(t=>t.clear())},get registeredCount(){return this._registeredResources.size},isRegistered(t){return this._registeredResources.has(t)},reset(){this._registeredResources.clear()}};class Grt{constructor(e,n){this._pool=[],this._count=0,this._index=0,this._classType=e,n&&this.prepopulate(n)}prepopulate(e){for(let n=0;n<e;n++)this._pool[this._index++]=new this._classType;this._count+=e}get(e){let n;return this._index>0?n=this._pool[--this._index]:(n=new this._classType,this._count++),n.init?.(e),n}return(e){e.reset?.(),this._pool[this._index++]=e}get totalSize(){return this._count}get totalFree(){return this._index}get totalUsed(){return this._count-this._index}clear(){if(this._pool.length>0&&this._pool[0].destroy)for(let e=0;e<this._index;e++)this._pool[e].destroy();this._pool.length=0,this._count=0,this._index=0}}class Krt{constructor(){this._poolsByClass=new Map}prepopulate(e,n){this.getPool(e).prepopulate(n)}get(e,n){return this.getPool(e).get(n)}return(e){this.getPool(e.constructor).return(e)}getPool(e){return this._poolsByClass.has(e)||this._poolsByClass.set(e,new Grt(e)),this._poolsByClass.get(e)}stats(){const e={};return this._poolsByClass.forEach(n=>{const r=e[n._classType.name]?n._classType.name+n._classType.ID:n._classType.name;e[r]={free:n.totalFree,used:n.totalUsed,size:n.totalSize}}),e}clear(){this._poolsByClass.forEach(e=>e.clear()),this._poolsByClass.clear()}}const Af=new Krt;w4.register(Af);const Wrt={get isCachedAsTexture(){return!!this.renderGroup?.isCachedAsTexture},cacheAsTexture(t){typeof t=="boolean"&&t===!1?this.disableRenderGroup():(this.enableRenderGroup(),this.renderGroup.enableCacheAsTexture(t===!0?{}:t))},updateCacheTexture(){this.renderGroup?.updateCacheTexture()},get cacheAsBitmap(){return this.isCachedAsTexture},set cacheAsBitmap(t){Pr("v8.6.0","cacheAsBitmap is deprecated, use cacheAsTexture instead."),this.cacheAsTexture(t)}};function qrt(t,e,n){const r=t.length;let i;if(e>=r||n===0)return;n=e+n>r?r-e:n;const s=r-n;for(i=e;i<s;++i)t[i]=t[i+n];t.length=s}const Yrt={allowChildren:!0,removeChildren(t=0,e){const n=e??this.children.length,r=n-t,i=[];if(r>0&&r<=n){for(let o=n-1;o>=t;o--){const a=this.children[o];a&&(i.push(a),a.parent=null)}qrt(this.children,t,n);const s=this.renderGroup||this.parentRenderGroup;s&&s.removeChildren(i);for(let o=0;o<i.length;++o){const a=i[o];a.parentRenderLayer?.detach(a),this.emit("childRemoved",a,this,o),i[o].emit("removed",this)}return i.length>0&&this._didViewChangeTick++,i}else if(r===0&&this.children.length===0)return i;throw new RangeError("removeChildren: numeric values are outside the acceptable range.")},removeChildAt(t){const e=this.getChildAt(t);return this.removeChild(e)},getChildAt(t){if(t<0||t>=this.children.length)throw new Error(`getChildAt: Index (${t}) does not exist.`);return this.children[t]},setChildIndex(t,e){if(e<0||e>=this.children.length)throw new Error(`The index ${e} supplied is out of bounds ${this.children.length}`);this.getChildIndex(t),this.addChildAt(t,e)},getChildIndex(t){const e=this.children.indexOf(t);if(e===-1)throw new Error("The supplied Container must be a child of the caller");return e},addChildAt(t,e){this.allowChildren||Pr(Ni,"addChildAt: Only Containers will be allowed to add children in v8.0.0");const{children:n}=this;if(e<0||e>n.length)throw new Error(`${t}addChildAt: The index ${e} supplied is out of bounds ${n.length}`);if(t.parent){const i=t.parent.children.indexOf(t);if(t.parent===this&&i===e)return t;i!==-1&&t.parent.children.splice(i,1)}e===n.length?n.push(t):n.splice(e,0,t),t.parent=this,t.didChange=!0,t._updateFlags=15;const r=this.renderGroup||this.parentRenderGroup;return r&&r.addChild(t),this.sortableChildren&&(this.sortDirty=!0),this.emit("childAdded",t,this,e),t.emit("added",this),t},swapChildren(t,e){if(t===e)return;const n=this.getChildIndex(t),r=this.getChildIndex(e);this.children[n]=e,this.children[r]=t;const i=this.renderGroup||this.parentRenderGroup;i&&(i.structureDidChange=!0),this._didContainerChangeTick++},removeFromParent(){this.parent?.removeChild(this)},reparentChild(...t){return t.length===1?this.reparentChildAt(t[0],this.children.length):(t.forEach(e=>this.reparentChildAt(e,this.children.length)),t[0])},reparentChildAt(t,e){if(t.parent===this)return this.setChildIndex(t,e),t;const n=t.worldTransform.clone();t.removeFromParent(),this.addChildAt(t,e);const r=this.worldTransform.clone();return r.invert(),n.prepend(r),t.setFromMatrix(n),t},replaceChild(t,e){t.updateLocalTransform(),this.addChildAt(e,this.getChildIndex(t)),e.setFromMatrix(t.localTransform),e.updateLocalTransform(),this.removeChild(t)}},Xrt={collectRenderables(t,e,n){this.parentRenderLayer&&this.parentRenderLayer!==n||this.globalDisplayStatus<7||!this.includeInBuild||(this.sortableChildren&&this.sortChildren(),this.isSimple?this.collectRenderablesSimple(t,e,n):this.renderGroup?e.renderPipes.renderGroup.addRenderGroup(this.renderGroup,t):this.collectRenderablesWithEffects(t,e,n))},collectRenderablesSimple(t,e,n){const r=this.children,i=r.length;for(let s=0;s<i;s++)r[s].collectRenderables(t,e,n)},collectRenderablesWithEffects(t,e,n){const{renderPipes:r}=e;for(let i=0;i<this.effects.length;i++){const s=this.effects[i];r[s.pipe].push(s,this,t)}this.collectRenderablesSimple(t,e,n);for(let i=this.effects.length-1;i>=0;i--){const s=this.effects[i];r[s.pipe].pop(s,this,t)}}};class mG{constructor(){this.pipe="filter",this.priority=1}destroy(){for(let e=0;e<this.filters.length;e++)this.filters[e].destroy();this.filters=null,this.filterArea=null}}class Jrt{constructor(){this._effectClasses=[],this._tests=[],this._initialized=!1}init(){this._initialized||(this._initialized=!0,this._effectClasses.forEach(e=>{this.add({test:e.test,maskClass:e})}))}add(e){this._tests.push(e)}getMaskEffect(e){this._initialized||this.init();for(let n=0;n<this._tests.length;n++){const r=this._tests[n];if(r.test(e))return Af.get(r.maskClass,e)}return e}returnMaskEffect(e){Af.return(e)}}const TL=new Jrt;mo.handleByList(Qn.MaskEffect,TL._effectClasses);const Zrt={_maskEffect:null,_maskOptions:{inverse:!1},_filterEffect:null,effects:[],_markStructureAsChanged(){const t=this.renderGroup||this.parentRenderGroup;t&&(t.structureDidChange=!0)},addEffect(t){this.effects.indexOf(t)===-1&&(this.effects.push(t),this.effects.sort((n,r)=>n.priority-r.priority),this._markStructureAsChanged(),this._updateIsSimple())},removeEffect(t){const e=this.effects.indexOf(t);e!==-1&&(this.effects.splice(e,1),this._markStructureAsChanged(),this._updateIsSimple())},set mask(t){const e=this._maskEffect;e?.mask!==t&&(e&&(this.removeEffect(e),TL.returnMaskEffect(e),this._maskEffect=null),t!=null&&(this._maskEffect=TL.getMaskEffect(t),this.addEffect(this._maskEffect)))},get mask(){return this._maskEffect?.mask},setMask(t){this._maskOptions={...this._maskOptions,...t},t.mask&&(this.mask=t.mask),this._markStructureAsChanged()},set filters(t){!Array.isArray(t)&&t&&(t=[t]);const e=this._filterEffect||(this._filterEffect=new mG);t=t;const n=t?.length>0,r=e.filters?.length>0,i=n!==r;t=Array.isArray(t)?t.slice(0):t,e.filters=Object.freeze(t),i&&(n?this.addEffect(e):(this.removeEffect(e),e.filters=t??null))},get filters(){return this._filterEffect?.filters},set filterArea(t){this._filterEffect||(this._filterEffect=new mG),this._filterEffect.filterArea=t},get filterArea(){return this._filterEffect?.filterArea}},eit={label:null,get name(){return Pr(Ni,"Container.name property has been removed, use Container.label instead"),this.label},set name(t){Pr(Ni,"Container.name property has been removed, use Container.label instead"),this.label=t},getChildByName(t,e=!1){return this.getChildByLabel(t,e)},getChildByLabel(t,e=!1){const n=this.children;for(let r=0;r<n.length;r++){const i=n[r];if(i.label===t||t instanceof RegExp&&t.test(i.label))return i}if(e)for(let r=0;r<n.length;r++){const s=n[r].getChildByLabel(t,!0);if(s)return s}return null},getChildrenByLabel(t,e=!1,n=[]){const r=this.children;for(let i=0;i<r.length;i++){const s=r[i];(s.label===t||t instanceof RegExp&&t.test(s.label))&&n.push(s)}if(e)for(let i=0;i<r.length;i++)r[i].getChildrenByLabel(t,!0,n);return n}},wc=Af.getPool(mi),M0=Af.getPool(Vp),tit=new mi,nit={getFastGlobalBounds(t,e){e||(e=new Vp),e.clear(),this._getGlobalBoundsRecursive(!!t,e,this.parentRenderLayer),e.isValid||e.set(0,0,0,0);const n=this.renderGroup||this.parentRenderGroup;return e.applyMatrix(n.worldTransform),e},_getGlobalBoundsRecursive(t,e,n){let r=e;if(t&&this.parentRenderLayer&&this.parentRenderLayer!==n||this.localDisplayStatus!==7||!this.measurable)return;const i=!!this.effects.length;if((this.renderGroup||i)&&(r=M0.get().clear()),this.boundsArea)e.addRect(this.boundsArea,this.worldTransform);else{if(this.renderPipeId){const o=this.bounds;r.addFrame(o.minX,o.minY,o.maxX,o.maxY,this.groupTransform)}const s=this.children;for(let o=0;o<s.length;o++)s[o]._getGlobalBoundsRecursive(t,r,n)}if(i){let s=!1;const o=this.renderGroup||this.parentRenderGroup;for(let a=0;a<this.effects.length;a++)this.effects[a].addBounds&&(s||(s=!0,r.applyMatrix(o.worldTransform)),this.effects[a].addBounds(r,!0));s&&r.applyMatrix(o.worldTransform.copyTo(tit).invert()),e.addBounds(r),M0.return(r)}else this.renderGroup&&(e.addBounds(r,this.relativeGroupTransform),M0.return(r))}};function afe(t,e,n){n.clear();let r,i;return t.parent?e?r=t.parent.worldTransform:(i=wc.get().identity(),r=Vz(t,i)):r=mi.IDENTITY,lfe(t,n,r,e),i&&wc.return(i),n.isValid||n.set(0,0,0,0),n}function lfe(t,e,n,r){if(!t.visible||!t.measurable)return;let i;r?i=t.worldTransform:(t.updateLocalTransform(),i=wc.get(),i.appendFrom(t.localTransform,n));const s=e,o=!!t.effects.length;if(o&&(e=M0.get().clear()),t.boundsArea)e.addRect(t.boundsArea,i);else{const a=t.bounds;a&&!a.isEmpty()&&(e.matrix=i,e.addBounds(a));for(let l=0;l<t.children.length;l++)lfe(t.children[l],e,i,r)}if(o){for(let a=0;a<t.effects.length;a++)t.effects[a].addBounds?.(e);s.addBounds(e,mi.IDENTITY),M0.return(e)}r||wc.return(i)}function Vz(t,e){const n=t.parent;return n&&(Vz(n,e),n.updateLocalTransform(),e.append(n.localTransform)),e}function ufe(t,e){if(t===16777215||!e)return e;if(e===16777215||!t)return t;const n=t>>16&255,r=t>>8&255,i=t&255,s=e>>16&255,o=e>>8&255,a=e&255,l=n*s/255|0,u=r*o/255|0,c=i*a/255|0;return(l<<16)+(u<<8)+c}const AG=16777215;function yG(t,e){return t===AG?e:e===AG?t:ufe(t,e)}function OB(t){return((t&255)<<16)+(t&65280)+(t>>16&255)}const rit={getGlobalAlpha(t){if(t)return this.renderGroup?this.renderGroup.worldAlpha:this.parentRenderGroup?this.parentRenderGroup.worldAlpha*this.alpha:this.alpha;let e=this.alpha,n=this.parent;for(;n;)e*=n.alpha,n=n.parent;return e},getGlobalTransform(t=new mi,e){if(e)return t.copyFrom(this.worldTransform);this.updateLocalTransform();const n=Vz(this,wc.get().identity());return t.appendFrom(this.localTransform,n),wc.return(n),t},getGlobalTint(t){if(t)return this.renderGroup?OB(this.renderGroup.worldColor):this.parentRenderGroup?OB(yG(this.localColor,this.parentRenderGroup.worldColor)):this.tint;let e=this.localColor,n=this.parent;for(;n;)e=yG(e,n.localColor),n=n.parent;return OB(e)}};function cfe(t,e,n){return e.clear(),n||(n=mi.IDENTITY),dfe(t,e,n,t,!0),e.isValid||e.set(0,0,0,0),e}function dfe(t,e,n,r,i){let s;if(i)s=wc.get(),s=n.copyTo(s);else{if(!t.visible||!t.measurable)return;t.updateLocalTransform();const l=t.localTransform;s=wc.get(),s.appendFrom(l,n)}const o=e,a=!!t.effects.length;if(a&&(e=M0.get().clear()),t.boundsArea)e.addRect(t.boundsArea,s);else{t.renderPipeId&&(e.matrix=s,e.addBounds(t.bounds));const l=t.children;for(let u=0;u<l.length;u++)dfe(l[u],e,s,r,!1)}if(a){for(let l=0;l<t.effects.length;l++)t.effects[l].addLocalBounds?.(e,r);o.addBounds(e,mi.IDENTITY),M0.return(e)}wc.return(s)}function hfe(t,e){const n=t.children;for(let r=0;r<n.length;r++){const i=n[r],s=i.uid,o=(i._didViewChangeTick&65535)<<16|i._didContainerChangeTick&65535,a=e.index;(e.data[a]!==s||e.data[a+1]!==o)&&(e.data[e.index]=s,e.data[e.index+1]=o,e.didChange=!0),e.index=a+2,i.children.length&&hfe(i,e)}return e.didChange}const iit=new mi,sit={_localBoundsCacheId:-1,_localBoundsCacheData:null,_setWidth(t,e){const n=Math.sign(this.scale.x)||1;e!==0?this.scale.x=t/e*n:this.scale.x=n},_setHeight(t,e){const n=Math.sign(this.scale.y)||1;e!==0?this.scale.y=t/e*n:this.scale.y=n},getLocalBounds(){this._localBoundsCacheData||(this._localBoundsCacheData={data:[],index:1,didChange:!1,localBounds:new Vp});const t=this._localBoundsCacheData;return t.index=1,t.didChange=!1,t.data[0]!==this._didViewChangeTick&&(t.didChange=!0,t.data[0]=this._didViewChangeTick),hfe(this,t),t.didChange&&cfe(this,t.localBounds,iit),t.localBounds},getBounds(t,e){return afe(this,t,e||new Vp)}},oit={_onRender:null,set onRender(t){const e=this.renderGroup||this.parentRenderGroup;if(!t){this._onRender&&e?.removeOnRender(this),this._onRender=null;return}this._onRender||e?.addOnRender(this),this._onRender=t},get onRender(){return this._onRender}},ait={_zIndex:0,sortDirty:!1,sortableChildren:!1,get zIndex(){return this._zIndex},set zIndex(t){this._zIndex!==t&&(this._zIndex=t,this.depthOfChildModified())},depthOfChildModified(){this.parent&&(this.parent.sortableChildren=!0,this.parent.sortDirty=!0),this.parentRenderGroup&&(this.parentRenderGroup.structureDidChange=!0)},sortChildren(){this.sortDirty&&(this.sortDirty=!1,this.children.sort(lit))}};function lit(t,e){return t._zIndex-e._zIndex}const uit={getGlobalPosition(t=new oa,e=!1){return this.parent?this.parent.toGlobal(this._position,t,e):(t.x=this._position.x,t.y=this._position.y),t},toGlobal(t,e,n=!1){const r=this.getGlobalTransform(wc.get(),n);return e=r.apply(t,e),wc.return(r),e},toLocal(t,e,n,r){e&&(t=e.toGlobal(t,n,r));const i=this.getGlobalTransform(wc.get(),r);return n=i.applyInverse(t,n),wc.return(i),n}};class ffe{constructor(){this.uid=qo("instructionSet"),this.instructions=[],this.instructionSize=0,this.renderables=[],this.gcTick=0}reset(){this.instructionSize=0}destroy(){this.instructions.length=0,this.renderables.length=0,this.renderPipes=null,this.gcTick=0}add(e){this.instructions[this.instructionSize++]=e}log(){this.instructions.length=this.instructionSize,console.table(this.instructions,["type","action"])}}let cit=0;class dit{constructor(e){this._poolKeyHash=Object.create(null),this._texturePool={},this.textureOptions=e||{},this.enableFullScreen=!1,this.textureStyle=new VE(this.textureOptions)}createTexture(e,n,r){const i=new Mf({...this.textureOptions,width:e,height:n,resolution:1,antialias:r,autoGarbageCollect:!1});return new er({source:i,label:`texturePool_${cit++}`})}getOptimalTexture(e,n,r=1,i){let s=Math.ceil(e*r-1e-6),o=Math.ceil(n*r-1e-6);s=HE(s),o=HE(o);const a=(s<<17)+(o<<1)+(i?1:0);this._texturePool[a]||(this._texturePool[a]=[]);let l=this._texturePool[a].pop();return l||(l=this.createTexture(s,o,i)),l.source._resolution=r,l.source.width=s/r,l.source.height=o/r,l.source.pixelWidth=s,l.source.pixelHeight=o,l.frame.x=0,l.frame.y=0,l.frame.width=e,l.frame.height=n,l.updateUvs(),this._poolKeyHash[l.uid]=a,l}getSameSizeTexture(e,n=!1){const r=e.source;return this.getOptimalTexture(e.width,e.height,r._resolution,n)}returnTexture(e,n=!1){const r=this._poolKeyHash[e.uid];n&&(e.source.style=this.textureStyle),this._texturePool[r].push(e)}clear(e){if(e=e!==!1,e)for(const n in this._texturePool){const r=this._texturePool[n];if(r)for(let i=0;i<r.length;i++)r[i].destroy(!0)}this._texturePool={}}}const pfe=new dit;w4.register(pfe);class hit{constructor(){this.renderPipeId="renderGroup",this.root=null,this.canBundle=!1,this.renderGroupParent=null,this.renderGroupChildren=[],this.worldTransform=new mi,this.worldColorAlpha=4294967295,this.worldColor=16777215,this.worldAlpha=1,this.childrenToUpdate=Object.create(null),this.updateTick=0,this.gcTick=0,this.childrenRenderablesToUpdate={list:[],index:0},this.structureDidChange=!0,this.instructionSet=new ffe,this._onRenderContainers=[],this.textureNeedsUpdate=!0,this.isCachedAsTexture=!1,this._matrixDirty=7}init(e){this.root=e,e._onRender&&this.addOnRender(e),e.didChange=!0;const n=e.children;for(let r=0;r<n.length;r++){const i=n[r];i._updateFlags=15,this.addChild(i)}}enableCacheAsTexture(e={}){this.textureOptions=e,this.isCachedAsTexture=!0,this.textureNeedsUpdate=!0}disableCacheAsTexture(){this.isCachedAsTexture=!1,this.texture&&(pfe.returnTexture(this.texture,!0),this.texture=null)}updateCacheTexture(){this.textureNeedsUpdate=!0;const e=this._parentCacheAsTextureRenderGroup;e&&!e.textureNeedsUpdate&&e.updateCacheTexture()}reset(){this.renderGroupChildren.length=0;for(const e in this.childrenToUpdate){const n=this.childrenToUpdate[e];n.list.fill(null),n.index=0}this.childrenRenderablesToUpdate.index=0,this.childrenRenderablesToUpdate.list.fill(null),this.root=null,this.updateTick=0,this.structureDidChange=!0,this._onRenderContainers.length=0,this.renderGroupParent=null,this.disableCacheAsTexture()}get localTransform(){return this.root.localTransform}addRenderGroupChild(e){e.renderGroupParent&&e.renderGroupParent._removeRenderGroupChild(e),e.renderGroupParent=this,this.renderGroupChildren.push(e)}_removeRenderGroupChild(e){const n=this.renderGroupChildren.indexOf(e);n>-1&&this.renderGroupChildren.splice(n,1),e.renderGroupParent=null}addChild(e){if(this.structureDidChange=!0,e.parentRenderGroup=this,e.updateTick=-1,e.parent===this.root?e.relativeRenderGroupDepth=1:e.relativeRenderGroupDepth=e.parent.relativeRenderGroupDepth+1,e.didChange=!0,this.onChildUpdate(e),e.renderGroup){this.addRenderGroupChild(e.renderGroup);return}e._onRender&&this.addOnRender(e);const n=e.children;for(let r=0;r<n.length;r++)this.addChild(n[r])}removeChild(e){if(this.structureDidChange=!0,e._onRender&&(e.renderGroup||this.removeOnRender(e)),e.parentRenderGroup=null,e.renderGroup){this._removeRenderGroupChild(e.renderGroup);return}const n=e.children;for(let r=0;r<n.length;r++)this.removeChild(n[r])}removeChildren(e){for(let n=0;n<e.length;n++)this.removeChild(e[n])}onChildUpdate(e){let n=this.childrenToUpdate[e.relativeRenderGroupDepth];n||(n=this.childrenToUpdate[e.relativeRenderGroupDepth]={index:0,list:[]}),n.list[n.index++]=e}updateRenderable(e){e.globalDisplayStatus<7||(this.instructionSet.renderPipes[e.renderPipeId].updateRenderable(e),e.didViewUpdate=!1)}onChildViewUpdate(e){this.childrenRenderablesToUpdate.list[this.childrenRenderablesToUpdate.index++]=e}get isRenderable(){return this.root.localDisplayStatus===7&&this.worldAlpha>0}addOnRender(e){this._onRenderContainers.push(e)}removeOnRender(e){this._onRenderContainers.splice(this._onRenderContainers.indexOf(e),1)}runOnRender(e){for(let n=0;n<this._onRenderContainers.length;n++)this._onRenderContainers[n]._onRender(e)}destroy(){this.disableCacheAsTexture(),this.renderGroupParent=null,this.root=null,this.childrenRenderablesToUpdate=null,this.childrenToUpdate=null,this.renderGroupChildren=null,this._onRenderContainers=null,this.instructionSet=null}getChildren(e=[]){const n=this.root.children;for(let r=0;r<n.length;r++)this._getChildren(n[r],e);return e}_getChildren(e,n=[]){if(n.push(e),e.renderGroup)return n;const r=e.children;for(let i=0;i<r.length;i++)this._getChildren(r[i],n);return n}invalidateMatrices(){this._matrixDirty=7}get inverseWorldTransform(){return(this._matrixDirty&1)===0?this._inverseWorldTransform:(this._matrixDirty&=-2,this._inverseWorldTransform||(this._inverseWorldTransform=new mi),this._inverseWorldTransform.copyFrom(this.worldTransform).invert())}get textureOffsetInverseTransform(){return(this._matrixDirty&2)===0?this._textureOffsetInverseTransform:(this._matrixDirty&=-3,this._textureOffsetInverseTransform||(this._textureOffsetInverseTransform=new mi),this._textureOffsetInverseTransform.copyFrom(this.inverseWorldTransform).translate(-this._textureBounds.x,-this._textureBounds.y))}get inverseParentTextureTransform(){if((this._matrixDirty&4)===0)return this._inverseParentTextureTransform;this._matrixDirty&=-5;const e=this._parentCacheAsTextureRenderGroup;return e?(this._inverseParentTextureTransform||(this._inverseParentTextureTransform=new mi),this._inverseParentTextureTransform.copyFrom(this.worldTransform).prepend(e.inverseWorldTransform).translate(-e._textureBounds.x,-e._textureBounds.y)):this.worldTransform}get cacheToLocalTransform(){return this.isCachedAsTexture?this.textureOffsetInverseTransform:this._parentCacheAsTextureRenderGroup?this._parentCacheAsTextureRenderGroup.textureOffsetInverseTransform:null}}function fit(t,e,n={}){for(const r in e)!n[r]&&e[r]!==void 0&&(t[r]=e[r])}const NR=new lo(null),VI=new lo(null),LR=new lo(null,1,1),GI=new lo(null),vG=1,pit=2,FR=4;class xr extends Yp{constructor(e={}){super(),this.uid=qo("renderable"),this._updateFlags=15,this.renderGroup=null,this.parentRenderGroup=null,this.parentRenderGroupIndex=0,this.didChange=!1,this.didViewUpdate=!1,this.relativeRenderGroupDepth=0,this.children=[],this.parent=null,this.includeInBuild=!0,this.measurable=!0,this.isSimple=!0,this.parentRenderLayer=null,this.updateTick=-1,this.localTransform=new mi,this.relativeGroupTransform=new mi,this.groupTransform=this.relativeGroupTransform,this.destroyed=!1,this._position=new lo(this,0,0),this._scale=LR,this._pivot=VI,this._origin=GI,this._skew=NR,this._cx=1,this._sx=0,this._cy=0,this._sy=1,this._rotation=0,this.localColor=16777215,this.localAlpha=1,this.groupAlpha=1,this.groupColor=16777215,this.groupColorAlpha=4294967295,this.localBlendMode="inherit",this.groupBlendMode="normal",this.localDisplayStatus=7,this.globalDisplayStatus=7,this._didContainerChangeTick=0,this._didViewChangeTick=0,this._didLocalTransformChangeId=-1,this.effects=[],fit(this,e,{children:!0,parent:!0,effects:!0}),e.children?.forEach(n=>this.addChild(n)),e.parent?.addChild(this)}static mixin(e){Pr("8.8.0","Container.mixin is deprecated, please use extensions.mixin instead."),mo.mixin(xr,e)}set _didChangeId(e){this._didViewChangeTick=e>>12&4095,this._didContainerChangeTick=e&4095}get _didChangeId(){return this._didContainerChangeTick&4095|(this._didViewChangeTick&4095)<<12}addChild(...e){if(this.allowChildren||Pr(Ni,"addChild: Only Containers will be allowed to add children in v8.0.0"),e.length>1){for(let i=0;i<e.length;i++)this.addChild(e[i]);return e[0]}const n=e[0],r=this.renderGroup||this.parentRenderGroup;return n.parent===this?(this.children.splice(this.children.indexOf(n),1),this.children.push(n),r&&(r.structureDidChange=!0),n):(n.parent&&n.parent.removeChild(n),this.children.push(n),this.sortableChildren&&(this.sortDirty=!0),n.parent=this,n.didChange=!0,n._updateFlags=15,r&&r.addChild(n),this.emit("childAdded",n,this,this.children.length-1),n.emit("added",this),this._didViewChangeTick++,n._zIndex!==0&&n.depthOfChildModified(),n)}removeChild(...e){if(e.length>1){for(let i=0;i<e.length;i++)this.removeChild(e[i]);return e[0]}const n=e[0],r=this.children.indexOf(n);return r>-1&&(this._didViewChangeTick++,this.children.splice(r,1),this.renderGroup?this.renderGroup.removeChild(n):this.parentRenderGroup&&this.parentRenderGroup.removeChild(n),n.parentRenderLayer&&n.parentRenderLayer.detach(n),n.parent=null,this.emit("childRemoved",n,this,r),n.emit("removed",this)),n}_onUpdate(e){e&&e===this._skew&&this._updateSkew(),this._didContainerChangeTick++,!this.didChange&&(this.didChange=!0,this.parentRenderGroup&&this.parentRenderGroup.onChildUpdate(this))}set isRenderGroup(e){!!this.renderGroup!==e&&(e?this.enableRenderGroup():this.disableRenderGroup())}get isRenderGroup(){return!!this.renderGroup}enableRenderGroup(){if(this.renderGroup)return;const e=this.parentRenderGroup;e?.removeChild(this),this.renderGroup=Af.get(hit,this),this.groupTransform=mi.IDENTITY,e?.addChild(this),this._updateIsSimple()}disableRenderGroup(){if(!this.renderGroup)return;const e=this.parentRenderGroup;e?.removeChild(this),Af.return(this.renderGroup),this.renderGroup=null,this.groupTransform=this.relativeGroupTransform,e?.addChild(this),this._updateIsSimple()}_updateIsSimple(){this.isSimple=!this.renderGroup&&this.effects.length===0}get worldTransform(){return this._worldTransform||(this._worldTransform=new mi),this.renderGroup?this._worldTransform.copyFrom(this.renderGroup.worldTransform):this.parentRenderGroup&&this._worldTransform.appendFrom(this.relativeGroupTransform,this.parentRenderGroup.worldTransform),this._worldTransform}get x(){return this._position.x}set x(e){this._position.x=e}get y(){return this._position.y}set y(e){this._position.y=e}get position(){return this._position}set position(e){this._position.copyFrom(e)}get rotation(){return this._rotation}set rotation(e){this._rotation!==e&&(this._rotation=e,this._onUpdate(this._skew))}get angle(){return this.rotation*Irt}set angle(e){this.rotation=e*Brt}get pivot(){return this._pivot===VI&&(this._pivot=new lo(this,0,0)),this._pivot}set pivot(e){this._pivot===VI&&(this._pivot=new lo(this,0,0),this._origin!==GI&&to("Setting both a pivot and origin on a Container is not recommended. This can lead to unexpected behavior if not handled carefully.")),typeof e=="number"?this._pivot.set(e):this._pivot.copyFrom(e)}get skew(){return this._skew===NR&&(this._skew=new lo(this,0,0)),this._skew}set skew(e){this._skew===NR&&(this._skew=new lo(this,0,0)),this._skew.copyFrom(e)}get scale(){return this._scale===LR&&(this._scale=new lo(this,1,1)),this._scale}set scale(e){this._scale===LR&&(this._scale=new lo(this,0,0)),typeof e=="string"&&(e=parseFloat(e)),typeof e=="number"?this._scale.set(e):this._scale.copyFrom(e)}get origin(){return this._origin===GI&&(this._origin=new lo(this,0,0)),this._origin}set origin(e){this._origin===GI&&(this._origin=new lo(this,0,0),this._pivot!==VI&&to("Setting both a pivot and origin on a Container is not recommended. This can lead to unexpected behavior if not handled carefully.")),typeof e=="number"?this._origin.set(e):this._origin.copyFrom(e)}get width(){return Math.abs(this.scale.x*this.getLocalBounds().width)}set width(e){const n=this.getLocalBounds().width;this._setWidth(e,n)}get height(){return Math.abs(this.scale.y*this.getLocalBounds().height)}set height(e){const n=this.getLocalBounds().height;this._setHeight(e,n)}getSize(e){e||(e={});const n=this.getLocalBounds();return e.width=Math.abs(this.scale.x*n.width),e.height=Math.abs(this.scale.y*n.height),e}setSize(e,n){const r=this.getLocalBounds();typeof e=="object"?(n=e.height??e.width,e=e.width):n??(n=e),e!==void 0&&this._setWidth(e,r.width),n!==void 0&&this._setHeight(n,r.height)}_updateSkew(){const e=this._rotation,n=this._skew;this._cx=Math.cos(e+n._y),this._sx=Math.sin(e+n._y),this._cy=-Math.sin(e-n._x),this._sy=Math.cos(e-n._x)}updateTransform(e){return this.position.set(typeof e.x=="number"?e.x:this.position.x,typeof e.y=="number"?e.y:this.position.y),this.scale.set(typeof e.scaleX=="number"?e.scaleX||1:this.scale.x,typeof e.scaleY=="number"?e.scaleY||1:this.scale.y),this.rotation=typeof e.rotation=="number"?e.rotation:this.rotation,this.skew.set(typeof e.skewX=="number"?e.skewX:this.skew.x,typeof e.skewY=="number"?e.skewY:this.skew.y),this.pivot.set(typeof e.pivotX=="number"?e.pivotX:this.pivot.x,typeof e.pivotY=="number"?e.pivotY:this.pivot.y),this.origin.set(typeof e.originX=="number"?e.originX:this.origin.x,typeof e.originY=="number"?e.originY:this.origin.y),this}setFromMatrix(e){e.decompose(this)}updateLocalTransform(){const e=this._didContainerChangeTick;if(this._didLocalTransformChangeId===e)return;this._didLocalTransformChangeId=e;const n=this.localTransform,r=this._scale,i=this._pivot,s=this._origin,o=this._position,a=r._x,l=r._y,u=i._x,c=i._y,d=-s._x,f=-s._y;n.a=this._cx*a,n.b=this._sx*a,n.c=this._cy*l,n.d=this._sy*l,n.tx=o._x-(u*n.a+c*n.c)+(d*n.a+f*n.c)-d,n.ty=o._y-(u*n.b+c*n.d)+(d*n.b+f*n.d)-f}set alpha(e){e!==this.localAlpha&&(this.localAlpha=e,this._updateFlags|=vG,this._onUpdate())}get alpha(){return this.localAlpha}set tint(e){const r=Oa.shared.setValue(e??16777215).toBgrNumber();r!==this.localColor&&(this.localColor=r,this._updateFlags|=vG,this._onUpdate())}get tint(){return OB(this.localColor)}set blendMode(e){this.localBlendMode!==e&&(this.parentRenderGroup&&(this.parentRenderGroup.structureDidChange=!0),this._updateFlags|=pit,this.localBlendMode=e,this._onUpdate())}get blendMode(){return this.localBlendMode}get visible(){return!!(this.localDisplayStatus&2)}set visible(e){const n=e?2:0;(this.localDisplayStatus&2)!==n&&(this.parentRenderGroup&&(this.parentRenderGroup.structureDidChange=!0),this._updateFlags|=FR,this.localDisplayStatus^=2,this._onUpdate())}get culled(){return!(this.localDisplayStatus&4)}set culled(e){const n=e?0:4;(this.localDisplayStatus&4)!==n&&(this.parentRenderGroup&&(this.parentRenderGroup.structureDidChange=!0),this._updateFlags|=FR,this.localDisplayStatus^=4,this._onUpdate())}get renderable(){return!!(this.localDisplayStatus&1)}set renderable(e){const n=e?1:0;(this.localDisplayStatus&1)!==n&&(this._updateFlags|=FR,this.localDisplayStatus^=1,this.parentRenderGroup&&(this.parentRenderGroup.structureDidChange=!0),this._onUpdate())}get isRenderable(){return this.localDisplayStatus===7&&this.groupAlpha>0}destroy(e=!1){if(this.destroyed)return;this.destroyed=!0;let n;if(this.children.length&&(n=this.removeChildren(0,this.children.length)),this.removeFromParent(),this.parent=null,this._maskEffect=null,this._filterEffect=null,this.effects=null,this._position=null,this._scale=null,this._pivot=null,this._origin=null,this._skew=null,this.emit("destroyed",this),this.removeAllListeners(),(typeof e=="boolean"?e:e?.children)&&n)for(let i=0;i<n.length;++i)n[i].destroy(e);this.renderGroup?.destroy(),this.renderGroup=null}}mo.mixin(xr,Yrt,nit,uit,oit,sit,Zrt,eit,ait,Vrt,Wrt,rit,Xrt);class fC extends xr{constructor(e){super(e),this.canBundle=!0,this.allowChildren=!1,this._roundPixels=0,this._lastUsed=-1,this._gpuData=Object.create(null),this._bounds=new Vp(0,1,0,0),this._boundsDirty=!0}get bounds(){return this._boundsDirty?(this.updateBounds(),this._boundsDirty=!1,this._bounds):this._bounds}get roundPixels(){return!!this._roundPixels}set roundPixels(e){this._roundPixels=e?1:0}containsPoint(e){const n=this.bounds,{x:r,y:i}=e;return r>=n.minX&&r<=n.maxX&&i>=n.minY&&i<=n.maxY}onViewUpdate(){if(this._didViewChangeTick++,this._boundsDirty=!0,this.didViewUpdate)return;this.didViewUpdate=!0;const e=this.renderGroup||this.parentRenderGroup;e&&e.onChildViewUpdate(this)}destroy(e){super.destroy(e),this._bounds=null;for(const n in this._gpuData)this._gpuData[n].destroy?.();this._gpuData=null}collectRenderablesSimple(e,n,r){const{renderPipes:i}=n;i.blendMode.pushBlendMode(this,this.groupBlendMode,e),i[this.renderPipeId].addRenderable(this,e),this.didViewUpdate=!1;const o=this.children,a=o.length;for(let l=0;l<a;l++)o[l].collectRenderables(e,n,r);i.blendMode.popBlendMode(e)}}let Sf=class ML extends fC{constructor(e=er.EMPTY){e instanceof er&&(e={texture:e});const{texture:n=er.EMPTY,anchor:r,roundPixels:i,width:s,height:o,...a}=e;super({label:"Sprite",...a}),this.renderPipeId="sprite",this.batched=!0,this._visualBounds={minX:0,maxX:1,minY:0,maxY:0},this._anchor=new lo({_onUpdate:()=>{this.onViewUpdate()}}),r?this.anchor=r:n.defaultAnchor&&(this.anchor=n.defaultAnchor),this.texture=n,this.allowChildren=!1,this.roundPixels=i??!1,s!==void 0&&(this.width=s),o!==void 0&&(this.height=o)}static from(e,n=!1){return e instanceof er?new ML(e):new ML(er.from(e,n))}set texture(e){e||(e=er.EMPTY);const n=this._texture;n!==e&&(n&&n.dynamic&&n.off("update",this.onViewUpdate,this),e.dynamic&&e.on("update",this.onViewUpdate,this),this._texture=e,this._width&&this._setWidth(this._width,this._texture.orig.width),this._height&&this._setHeight(this._height,this._texture.orig.height),this.onViewUpdate())}get texture(){return this._texture}get visualBounds(){return Nrt(this._visualBounds,this._anchor,this._texture),this._visualBounds}get sourceBounds(){return Pr("8.6.1","Sprite.sourceBounds is deprecated, use visualBounds instead."),this.visualBounds}updateBounds(){const e=this._anchor,n=this._texture,r=this._bounds,{width:i,height:s}=n.orig;r.minX=-e._x*i,r.maxX=r.minX+i,r.minY=-e._y*s,r.maxY=r.minY+s}destroy(e=!1){if(super.destroy(e),typeof e=="boolean"?e:e?.texture){const r=typeof e=="boolean"?e:e?.textureSource;this._texture.destroy(r)}this._texture=null,this._visualBounds=null,this._bounds=null,this._anchor=null,this._gpuData=null}get anchor(){return this._anchor}set anchor(e){typeof e=="number"?this._anchor.set(e):this._anchor.copyFrom(e)}get width(){return Math.abs(this.scale.x)*this._texture.orig.width}set width(e){this._setWidth(e,this._texture.orig.width),this._width=e}get height(){return Math.abs(this.scale.y)*this._texture.orig.height}set height(e){this._setHeight(e,this._texture.orig.height),this._height=e}getSize(e){return e||(e={}),e.width=Math.abs(this.scale.x)*this._texture.orig.width,e.height=Math.abs(this.scale.y)*this._texture.orig.height,e}setSize(e,n){typeof e=="object"?(n=e.height??e.width,e=e.width):n??(n=e),e!==void 0&&this._setWidth(e,this._texture.orig.width),n!==void 0&&this._setHeight(n,this._texture.orig.height)}};const git=new Vp;function gfe(t,e,n){const r=git;t.measurable=!0,afe(t,n,r),e.addBoundsMask(r),t.measurable=!1}function mfe(t,e,n){const r=M0.get();t.measurable=!0;const i=wc.get().identity(),s=Afe(t,n,i);cfe(t,r,s),t.measurable=!1,e.addBoundsMask(r),wc.return(i),M0.return(r)}function Afe(t,e,n){return t?(t!==e&&(Afe(t.parent,e,n),t.updateLocalTransform(),n.append(t.localTransform)),n):(to("Mask bounds, renderable is not inside the root container"),n)}class yfe{constructor(e){this.priority=0,this.inverse=!1,this.pipe="alphaMask",e?.mask&&this.init(e.mask)}init(e){this.mask=e,this.renderMaskToTexture=!(e instanceof Sf),this.mask.renderable=this.renderMaskToTexture,this.mask.includeInBuild=!this.renderMaskToTexture,this.mask.measurable=!1}reset(){this.mask!==null&&(this.mask.measurable=!0,this.mask=null)}addBounds(e,n){this.inverse||gfe(this.mask,e,n)}addLocalBounds(e,n){mfe(this.mask,e,n)}containsPoint(e,n){const r=this.mask;return n(r,e)}destroy(){this.reset()}static test(e){return e instanceof Sf}}yfe.extension=Qn.MaskEffect;class vfe{constructor(e){this.priority=0,this.pipe="colorMask",e?.mask&&this.init(e.mask)}init(e){this.mask=e}destroy(){}static test(e){return typeof e=="number"}}vfe.extension=Qn.MaskEffect;class bfe{constructor(e){this.priority=0,this.pipe="stencilMask",e?.mask&&this.init(e.mask)}init(e){this.mask=e,this.mask.includeInBuild=!1,this.mask.measurable=!1}reset(){this.mask!==null&&(this.mask.measurable=!0,this.mask.includeInBuild=!0,this.mask=null)}addBounds(e,n){gfe(this.mask,e,n)}addLocalBounds(e,n){mfe(this.mask,e,n)}containsPoint(e,n){const r=this.mask;return n(r,e)}destroy(){this.reset()}static test(e){return e instanceof xr}}bfe.extension=Qn.MaskEffect;const mit={createCanvas:(t,e)=>{const n=document.createElement("canvas");return n.width=t,n.height=e,n},createImage:()=>new Image,getCanvasRenderingContext2D:()=>CanvasRenderingContext2D,getWebGLRenderingContext:()=>WebGLRenderingContext,getNavigator:()=>navigator,getBaseUrl:()=>document.baseURI??window.location.href,getFontFaceSet:()=>document.fonts,fetch:(t,e)=>fetch(t,e),parseXML:t=>new DOMParser().parseFromString(t,"text/xml")};let bG=mit;const hs={get(){return bG},set(t){bG=t}};class Gz extends Mf{constructor(e){e.resource||(e.resource=hs.get().createCanvas()),e.width||(e.width=e.resource.width,e.autoDensity||(e.width/=e.resolution)),e.height||(e.height=e.resource.height,e.autoDensity||(e.height/=e.resolution)),super(e),this.uploadMethodId="image",this.autoDensity=e.autoDensity,this.resizeCanvas(),this.transparent=!!e.transparent}resizeCanvas(){this.autoDensity&&"style"in this.resource&&(this.resource.style.width=`${this.width}px`,this.resource.style.height=`${this.height}px`),(this.resource.width!==this.pixelWidth||this.resource.height!==this.pixelHeight)&&(this.resource.width=this.pixelWidth,this.resource.height=this.pixelHeight)}resize(e=this.width,n=this.height,r=this._resolution){const i=super.resize(e,n,r);return i&&this.resizeCanvas(),i}static test(e){return globalThis.HTMLCanvasElement&&e instanceof HTMLCanvasElement||globalThis.OffscreenCanvas&&e instanceof OffscreenCanvas}get context2D(){return this._context2D||(this._context2D=this.resource.getContext("2d"))}}Gz.extension=Qn.TextureSource;class Jx extends Mf{constructor(e){super(e),this.uploadMethodId="image",this.autoGarbageCollect=!0}static test(e){return globalThis.HTMLImageElement&&e instanceof HTMLImageElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap||globalThis.VideoFrame&&e instanceof VideoFrame}}Jx.extension=Qn.TextureSource;var kL=(t=>(t[t.INTERACTION=50]="INTERACTION",t[t.HIGH=25]="HIGH",t[t.NORMAL=0]="NORMAL",t[t.LOW=-25]="LOW",t[t.UTILITY=-50]="UTILITY",t))(kL||{});class $R{constructor(e,n=null,r=0,i=!1){this.next=null,this.previous=null,this._destroyed=!1,this._fn=e,this._context=n,this.priority=r,this._once=i}match(e,n=null){return this._fn===e&&this._context===n}emit(e){this._fn&&(this._context?this._fn.call(this._context,e):this._fn(e));const n=this.next;return this._once&&this.destroy(!0),this._destroyed&&(this.next=null),n}connect(e){this.previous=e,e.next&&(e.next.previous=this),this.next=e.next,e.next=this}destroy(e=!1){this._destroyed=!0,this._fn=null,this._context=null,this.previous&&(this.previous.next=this.next),this.next&&(this.next.previous=this.previous);const n=this.next;return this.next=e?null:n,this.previous=null,n}}const xfe=class qd{constructor(){this.autoStart=!1,this.deltaTime=1,this.lastTime=-1,this.speed=1,this.started=!1,this._requestId=null,this._maxElapsedMS=100,this._minElapsedMS=0,this._protected=!1,this._lastFrame=-1,this._head=new $R(null,null,1/0),this.deltaMS=1/qd.targetFPMS,this.elapsedMS=1/qd.targetFPMS,this._tick=e=>{this._requestId=null,this.started&&(this.update(e),this.started&&this._requestId===null&&this._head.next&&(this._requestId=requestAnimationFrame(this._tick)))}}_requestIfNeeded(){this._requestId===null&&this._head.next&&(this.lastTime=performance.now(),this._lastFrame=this.lastTime,this._requestId=requestAnimationFrame(this._tick))}_cancelIfNeeded(){this._requestId!==null&&(cancelAnimationFrame(this._requestId),this._requestId=null)}_startIfPossible(){this.started?this._requestIfNeeded():this.autoStart&&this.start()}add(e,n,r=kL.NORMAL){return this._addListener(new $R(e,n,r))}addOnce(e,n,r=kL.NORMAL){return this._addListener(new $R(e,n,r,!0))}_addListener(e){let n=this._head.next,r=this._head;if(!n)e.connect(r);else{for(;n;){if(e.priority>n.priority){e.connect(r);break}r=n,n=n.next}e.previous||e.connect(r)}return this._startIfPossible(),this}remove(e,n){let r=this._head.next;for(;r;)r.match(e,n)?r=r.destroy():r=r.next;return this._head.next||this._cancelIfNeeded(),this}get count(){if(!this._head)return 0;let e=0,n=this._head;for(;n=n.next;)e++;return e}start(){this.started||(this.started=!0,this._requestIfNeeded())}stop(){this.started&&(this.started=!1,this._cancelIfNeeded())}destroy(){if(!this._protected){this.stop();let e=this._head.next;for(;e;)e=e.destroy(!0);this._head.destroy(),this._head=null}}update(e=performance.now()){let n;if(e>this.lastTime){if(n=this.elapsedMS=e-this.lastTime,n>this._maxElapsedMS&&(n=this._maxElapsedMS),n*=this.speed,this._minElapsedMS){const s=e-this._lastFrame|0;if(s<this._minElapsedMS)return;this._lastFrame=e-s%this._minElapsedMS}this.deltaMS=n,this.deltaTime=this.deltaMS*qd.targetFPMS;const r=this._head;let i=r.next;for(;i;)i=i.emit(this);r.next||this._cancelIfNeeded()}else this.deltaTime=this.deltaMS=this.elapsedMS=0;this.lastTime=e}get FPS(){return 1e3/this.elapsedMS}get minFPS(){return 1e3/this._maxElapsedMS}set minFPS(e){const n=Math.min(this.maxFPS,e),r=Math.min(Math.max(0,n)/1e3,qd.targetFPMS);this._maxElapsedMS=1/r}get maxFPS(){return this._minElapsedMS?Math.round(1e3/this._minElapsedMS):0}set maxFPS(e){if(e===0)this._minElapsedMS=0;else{const n=Math.max(this.minFPS,e);this._minElapsedMS=1/(n/1e3)}}static get shared(){if(!qd._shared){const e=qd._shared=new qd;e.autoStart=!0,e._protected=!0}return qd._shared}static get system(){if(!qd._system){const e=qd._system=new qd;e.autoStart=!0,e._protected=!0}return qd._system}};xfe.targetFPMS=.06;let zy=xfe,zR;async function Cfe(){return zR??(zR=(async()=>{const e=hs.get().createCanvas(1,1).getContext("webgl");if(!e)return"premultiply-alpha-on-upload";const n=await new Promise(o=>{const a=document.createElement("video");a.onloadeddata=()=>o(a),a.onerror=()=>o(null),a.autoplay=!1,a.crossOrigin="anonymous",a.preload="auto",a.src="data:video/webm;base64,GkXfo59ChoEBQveBAULygQRC84EIQoKEd2VibUKHgQJChYECGFOAZwEAAAAAAAHTEU2bdLpNu4tTq4QVSalmU6yBoU27i1OrhBZUrmtTrIHGTbuMU6uEElTDZ1OsggEXTbuMU6uEHFO7a1OsggG97AEAAAAAAABZAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAVSalmoCrXsYMPQkBNgIRMYXZmV0GETGF2ZkSJiEBEAAAAAAAAFlSua8yuAQAAAAAAAEPXgQFzxYgAAAAAAAAAAZyBACK1nIN1bmSIgQCGhVZfVlA5g4EBI+ODhAJiWgDglLCBArqBApqBAlPAgQFVsIRVuYEBElTDZ9Vzc9JjwItjxYgAAAAAAAAAAWfInEWjh0VOQ09ERVJEh49MYXZjIGxpYnZweC12cDlnyKJFo4hEVVJBVElPTkSHlDAwOjAwOjAwLjA0MDAwMDAwMAAAH0O2dcfngQCgwqGggQAAAIJJg0IAABAAFgA4JBwYSgAAICAAEb///4r+AAB1oZ2mm+6BAaWWgkmDQgAAEAAWADgkHBhKAAAgIABIQBxTu2uRu4+zgQC3iveBAfGCAXHwgQM=",a.load()});if(!n)return"premultiply-alpha-on-upload";const r=e.createTexture();e.bindTexture(e.TEXTURE_2D,r);const i=e.createFramebuffer();e.bindFramebuffer(e.FRAMEBUFFER,i),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,r,0),e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!1),e.pixelStorei(e.UNPACK_COLORSPACE_CONVERSION_WEBGL,e.NONE),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,n);const s=new Uint8Array(4);return e.readPixels(0,0,1,1,e.RGBA,e.UNSIGNED_BYTE,s),e.deleteFramebuffer(i),e.deleteTexture(r),e.getExtension("WEBGL_lose_context")?.loseContext(),s[0]<=s[3]?"premultiplied-alpha":"premultiply-alpha-on-upload"})()),zR}const mM=class Efe extends Mf{constructor(e){super(e),this.isReady=!1,this.uploadMethodId="video",e={...Efe.defaultOptions,...e},this._autoUpdate=!0,this._isConnectedToTicker=!1,this._updateFPS=e.updateFPS||0,this._msToNextUpdate=0,this.autoPlay=e.autoPlay!==!1,this.alphaMode=e.alphaMode??"premultiply-alpha-on-upload",this._videoFrameRequestCallback=this._videoFrameRequestCallback.bind(this),this._videoFrameRequestCallbackHandle=null,this._load=null,this._resolve=null,this._reject=null,this._onCanPlay=this._onCanPlay.bind(this),this._onCanPlayThrough=this._onCanPlayThrough.bind(this),this._onError=this._onError.bind(this),this._onPlayStart=this._onPlayStart.bind(this),this._onPlayStop=this._onPlayStop.bind(this),this._onSeeked=this._onSeeked.bind(this),e.autoLoad!==!1&&this.load()}updateFrame(){if(!this.destroyed){if(this._updateFPS){const e=zy.shared.elapsedMS*this.resource.playbackRate;this._msToNextUpdate=Math.floor(this._msToNextUpdate-e)}(!this._updateFPS||this._msToNextUpdate<=0)&&(this._msToNextUpdate=this._updateFPS?Math.floor(1e3/this._updateFPS):0),this.isValid&&this.update()}}_videoFrameRequestCallback(){this.updateFrame(),this.destroyed?this._videoFrameRequestCallbackHandle=null:this._videoFrameRequestCallbackHandle=this.resource.requestVideoFrameCallback(this._videoFrameRequestCallback)}get isValid(){return!!this.resource.videoWidth&&!!this.resource.videoHeight}async load(){if(this._load)return this._load;const e=this.resource,n=this.options;return(e.readyState===e.HAVE_ENOUGH_DATA||e.readyState===e.HAVE_FUTURE_DATA)&&e.width&&e.height&&(e.complete=!0),e.addEventListener("play",this._onPlayStart),e.addEventListener("pause",this._onPlayStop),e.addEventListener("seeked",this._onSeeked),this._isSourceReady()?this._mediaReady():(n.preload||e.addEventListener("canplay",this._onCanPlay),e.addEventListener("canplaythrough",this._onCanPlayThrough),e.addEventListener("error",this._onError,!0)),this.alphaMode=await Cfe(),this._load=new Promise((r,i)=>{this.isValid?r(this):(this._resolve=r,this._reject=i,n.preloadTimeoutMs!==void 0&&(this._preloadTimeout=setTimeout(()=>{this._onError(new ErrorEvent(`Preload exceeded timeout of ${n.preloadTimeoutMs}ms`))})),e.load())}),this._load}_onError(e){this.resource.removeEventListener("error",this._onError,!0),this.emit("error",e),this._reject&&(this._reject(e),this._reject=null,this._resolve=null)}_isSourcePlaying(){const e=this.resource;return!e.paused&&!e.ended}_isSourceReady(){return this.resource.readyState>2}_onPlayStart(){this.isValid||this._mediaReady(),this._configureAutoUpdate()}_onPlayStop(){this._configureAutoUpdate()}_onSeeked(){this._autoUpdate&&!this._isSourcePlaying()&&(this._msToNextUpdate=0,this.updateFrame(),this._msToNextUpdate=0)}_onCanPlay(){this.resource.removeEventListener("canplay",this._onCanPlay),this._mediaReady()}_onCanPlayThrough(){this.resource.removeEventListener("canplaythrough",this._onCanPlay),this._preloadTimeout&&(clearTimeout(this._preloadTimeout),this._preloadTimeout=void 0),this._mediaReady()}_mediaReady(){const e=this.resource;this.isValid&&(this.isReady=!0,this.resize(e.videoWidth,e.videoHeight)),this._msToNextUpdate=0,this.updateFrame(),this._msToNextUpdate=0,this._resolve&&(this._resolve(this),this._resolve=null,this._reject=null),this._isSourcePlaying()?this._onPlayStart():this.autoPlay&&this.resource.play()}destroy(){this._configureAutoUpdate();const e=this.resource;e&&(e.removeEventListener("play",this._onPlayStart),e.removeEventListener("pause",this._onPlayStop),e.removeEventListener("seeked",this._onSeeked),e.removeEventListener("canplay",this._onCanPlay),e.removeEventListener("canplaythrough",this._onCanPlayThrough),e.removeEventListener("error",this._onError,!0),e.pause(),e.src="",e.load()),super.destroy()}get autoUpdate(){return this._autoUpdate}set autoUpdate(e){e!==this._autoUpdate&&(this._autoUpdate=e,this._configureAutoUpdate())}get updateFPS(){return this._updateFPS}set updateFPS(e){e!==this._updateFPS&&(this._updateFPS=e,this._configureAutoUpdate())}_configureAutoUpdate(){this._autoUpdate&&this._isSourcePlaying()?!this._updateFPS&&this.resource.requestVideoFrameCallback?(this._isConnectedToTicker&&(zy.shared.remove(this.updateFrame,this),this._isConnectedToTicker=!1,this._msToNextUpdate=0),this._videoFrameRequestCallbackHandle===null&&(this._videoFrameRequestCallbackHandle=this.resource.requestVideoFrameCallback(this._videoFrameRequestCallback))):(this._videoFrameRequestCallbackHandle!==null&&(this.resource.cancelVideoFrameCallback(this._videoFrameRequestCallbackHandle),this._videoFrameRequestCallbackHandle=null),this._isConnectedToTicker||(zy.shared.add(this.updateFrame,this),this._isConnectedToTicker=!0,this._msToNextUpdate=0)):(this._videoFrameRequestCallbackHandle!==null&&(this.resource.cancelVideoFrameCallback(this._videoFrameRequestCallbackHandle),this._videoFrameRequestCallbackHandle=null),this._isConnectedToTicker&&(zy.shared.remove(this.updateFrame,this),this._isConnectedToTicker=!1,this._msToNextUpdate=0))}static test(e){return globalThis.HTMLVideoElement&&e instanceof HTMLVideoElement}};mM.extension=Qn.TextureSource;mM.defaultOptions={...Mf.defaultOptions,autoLoad:!0,autoPlay:!0,updateFPS:0,crossorigin:!0,loop:!1,muted:!0,playsinline:!0,preload:!1};mM.MIME_TYPES={ogv:"video/ogg",mov:"video/quicktime",m4v:"video/mp4"};let N_=mM;const Dp=(t,e,n=!1)=>(Array.isArray(t)||(t=[t]),e?t.map(r=>typeof r=="string"||n?e(r):r):t);class Ait{constructor(){this._parsers=[],this._cache=new Map,this._cacheMap=new Map}reset(){this._cacheMap.clear(),this._cache.clear()}has(e){return this._cache.has(e)}get(e){const n=this._cache.get(e);return n||to(`[Assets] Asset id ${e} was not found in the Cache`),n}set(e,n){const r=Dp(e);let i;for(let l=0;l<this.parsers.length;l++){const u=this.parsers[l];if(u.test(n)){i=u.getCacheableAssets(r,n);break}}const s=new Map(Object.entries(i||{}));i||r.forEach(l=>{s.set(l,n)});const o=[...s.keys()],a={cacheKeys:o,keys:r};r.forEach(l=>{this._cacheMap.set(l,a)}),o.forEach(l=>{const u=i?i[l]:n;this._cache.has(l)&&this._cache.get(l)!==u&&to("[Cache] already has key:",l),this._cache.set(l,s.get(l))})}remove(e){if(!this._cacheMap.has(e)){to(`[Assets] Asset id ${e} was not found in the Cache`);return}const n=this._cacheMap.get(e);n.cacheKeys.forEach(i=>{this._cache.delete(i)}),n.keys.forEach(i=>{this._cacheMap.delete(i)})}get parsers(){return this._parsers}}const Os=new Ait,PL=[];mo.handleByList(Qn.TextureSource,PL);function Sfe(t={}){const e=t&&t.resource,n=e?t.resource:t,r=e?t:{resource:t};for(let i=0;i<PL.length;i++){const s=PL[i];if(s.test(n))return new s(r)}throw new Error(`Could not find a source type for resource: ${r.resource}`)}function yit(t={},e=!1){const n=t&&t.resource,r=n?t.resource:t,i=n?t:{resource:t};if(!e&&Os.has(r))return Os.get(r);const s=new er({source:Sfe(i)});return s.on("destroy",()=>{Os.has(r)&&Os.remove(r)}),e||Os.set(r,s),s}function vit(t,e=!1){return typeof t=="string"?Os.get(t):t instanceof Mf?new er({source:t}):yit(t,e)}er.from=vit;Mf.from=Sfe;mo.add(yfe,vfe,bfe,N_,Jx,Gz,Hz);var gv=(t=>(t[t.Low=0]="Low",t[t.Normal=1]="Normal",t[t.High=2]="High",t))(gv||{});function Ap(t){if(typeof t!="string")throw new TypeError(`Path must be a string. Received ${JSON.stringify(t)}`)}function xw(t){return t.split("?")[0].split("#")[0]}function bit(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function xit(t,e,n){return t.replace(new RegExp(bit(e),"g"),n)}function Cit(t,e){let n="",r=0,i=-1,s=0,o=-1;for(let a=0;a<=t.length;++a){if(a<t.length)o=t.charCodeAt(a);else{if(o===47)break;o=47}if(o===47){if(!(i===a-1||s===1))if(i!==a-1&&s===2){if(n.length<2||r!==2||n.charCodeAt(n.length-1)!==46||n.charCodeAt(n.length-2)!==46){if(n.length>2){const l=n.lastIndexOf("/");if(l!==n.length-1){l===-1?(n="",r=0):(n=n.slice(0,l),r=n.length-1-n.lastIndexOf("/")),i=a,s=0;continue}}else if(n.length===2||n.length===1){n="",r=0,i=a,s=0;continue}}}else n.length>0?n+=`/${t.slice(i+1,a)}`:n=t.slice(i+1,a),r=a-i-1;i=a,s=0}else o===46&&s!==-1?++s:s=-1}return n}const Ad={toPosix(t){return xit(t,"\\","/")},isUrl(t){return/^https?:/.test(this.toPosix(t))},isDataUrl(t){return/^data:([a-z]+\/[a-z0-9-+.]+(;[a-z0-9-.!#$%*+.{}|~`]+=[a-z0-9-.!#$%*+.{}()_|~`]+)*)?(;base64)?,([a-z0-9!$&',()*+;=\-._~:@\/?%\s<>]*?)$/i.test(t)},isBlobUrl(t){return t.startsWith("blob:")},hasProtocol(t){return/^[^/:]+:/.test(this.toPosix(t))},getProtocol(t){Ap(t),t=this.toPosix(t);const e=/^file:\/\/\//.exec(t);if(e)return e[0];const n=/^[^/:]+:\/{0,2}/.exec(t);return n?n[0]:""},toAbsolute(t,e,n){if(Ap(t),this.isDataUrl(t)||this.isBlobUrl(t))return t;const r=xw(this.toPosix(e??hs.get().getBaseUrl())),i=xw(this.toPosix(n??this.rootname(r)));return t=this.toPosix(t),t.startsWith("/")?Ad.join(i,t.slice(1)):this.isAbsolute(t)?t:this.join(r,t)},normalize(t){if(Ap(t),t.length===0)return".";if(this.isDataUrl(t)||this.isBlobUrl(t))return t;t=this.toPosix(t);let e="";const n=t.startsWith("/");this.hasProtocol(t)&&(e=this.rootname(t),t=t.slice(e.length));const r=t.endsWith("/");return t=Cit(t),t.length>0&&r&&(t+="/"),n?`/${t}`:e+t},isAbsolute(t){return Ap(t),t=this.toPosix(t),this.hasProtocol(t)?!0:t.startsWith("/")},join(...t){if(t.length===0)return".";let e;for(let n=0;n<t.length;++n){const r=t[n];if(Ap(r),r.length>0)if(e===void 0)e=r;else{const i=t[n-1]??"";this.joinExtensions.includes(this.extname(i).toLowerCase())?e+=`/../${r}`:e+=`/${r}`}}return e===void 0?".":this.normalize(e)},dirname(t){if(Ap(t),t.length===0)return".";t=this.toPosix(t);let e=t.charCodeAt(0);const n=e===47;let r=-1,i=!0;const s=this.getProtocol(t),o=t;t=t.slice(s.length);for(let a=t.length-1;a>=1;--a)if(e=t.charCodeAt(a),e===47){if(!i){r=a;break}}else i=!1;return r===-1?n?"/":this.isUrl(o)?s+t:s:n&&r===1?"//":s+t.slice(0,r)},rootname(t){Ap(t),t=this.toPosix(t);let e="";if(t.startsWith("/")?e="/":e=this.getProtocol(t),this.isUrl(t)){const n=t.indexOf("/",e.length);n!==-1?e=t.slice(0,n):e=t,e.endsWith("/")||(e+="/")}return e},basename(t,e){Ap(t),e&&Ap(e),t=xw(this.toPosix(t));let n=0,r=-1,i=!0,s;if(e!==void 0&&e.length>0&&e.length<=t.length){if(e.length===t.length&&e===t)return"";let o=e.length-1,a=-1;for(s=t.length-1;s>=0;--s){const l=t.charCodeAt(s);if(l===47){if(!i){n=s+1;break}}else a===-1&&(i=!1,a=s+1),o>=0&&(l===e.charCodeAt(o)?--o===-1&&(r=s):(o=-1,r=a))}return n===r?r=a:r===-1&&(r=t.length),t.slice(n,r)}for(s=t.length-1;s>=0;--s)if(t.charCodeAt(s)===47){if(!i){n=s+1;break}}else r===-1&&(i=!1,r=s+1);return r===-1?"":t.slice(n,r)},extname(t){Ap(t),t=xw(this.toPosix(t));let e=-1,n=0,r=-1,i=!0,s=0;for(let o=t.length-1;o>=0;--o){const a=t.charCodeAt(o);if(a===47){if(!i){n=o+1;break}continue}r===-1&&(i=!1,r=o+1),a===46?e===-1?e=o:s!==1&&(s=1):e!==-1&&(s=-1)}return e===-1||r===-1||s===0||s===1&&e===r-1&&e===n+1?"":t.slice(e,r)},parse(t){Ap(t);const e={root:"",dir:"",base:"",ext:"",name:""};if(t.length===0)return e;t=xw(this.toPosix(t));let n=t.charCodeAt(0);const r=this.isAbsolute(t);let i;e.root=this.rootname(t),r||this.hasProtocol(t)?i=1:i=0;let s=-1,o=0,a=-1,l=!0,u=t.length-1,c=0;for(;u>=i;--u){if(n=t.charCodeAt(u),n===47){if(!l){o=u+1;break}continue}a===-1&&(l=!1,a=u+1),n===46?s===-1?s=u:c!==1&&(c=1):s!==-1&&(c=-1)}return s===-1||a===-1||c===0||c===1&&s===a-1&&s===o+1?a!==-1&&(o===0&&r?e.base=e.name=t.slice(1,a):e.base=e.name=t.slice(o,a)):(o===0&&r?(e.name=t.slice(1,s),e.base=t.slice(1,a)):(e.name=t.slice(o,s),e.base=t.slice(o,a)),e.ext=t.slice(s,a)),e.dir=this.dirname(t),e},sep:"/",delimiter:":",joinExtensions:[".html"]};function wfe(t,e,n,r,i){const s=e[n];for(let o=0;o<s.length;o++){const a=s[o];n<e.length-1?wfe(t.replace(r[n],a),e,n+1,r,i):i.push(t.replace(r[n],a))}}function Eit(t){const e=/\{(.*?)\}/g,n=t.match(e),r=[];if(n){const i=[];n.forEach(s=>{const o=s.substring(1,s.length-1).split(",");i.push(o)}),wfe(t,i,0,n,r)}else r.push(t);return r}const qD=t=>!Array.isArray(t);class AS{constructor(){this._defaultBundleIdentifierOptions={connector:"-",createBundleAssetId:(e,n)=>`${e}${this._bundleIdConnector}${n}`,extractAssetIdFromBundle:(e,n)=>n.replace(`${e}${this._bundleIdConnector}`,"")},this._bundleIdConnector=this._defaultBundleIdentifierOptions.connector,this._createBundleAssetId=this._defaultBundleIdentifierOptions.createBundleAssetId,this._extractAssetIdFromBundle=this._defaultBundleIdentifierOptions.extractAssetIdFromBundle,this._assetMap={},this._preferredOrder=[],this._parsers=[],this._resolverHash={},this._bundles={}}setBundleIdentifier(e){if(this._bundleIdConnector=e.connector??this._bundleIdConnector,this._createBundleAssetId=e.createBundleAssetId??this._createBundleAssetId,this._extractAssetIdFromBundle=e.extractAssetIdFromBundle??this._extractAssetIdFromBundle,this._extractAssetIdFromBundle("foo",this._createBundleAssetId("foo","bar"))!=="bar")throw new Error("[Resolver] GenerateBundleAssetId are not working correctly")}prefer(...e){e.forEach(n=>{this._preferredOrder.push(n),n.priority||(n.priority=Object.keys(n.params))}),this._resolverHash={}}set basePath(e){this._basePath=e}get basePath(){return this._basePath}set rootPath(e){this._rootPath=e}get rootPath(){return this._rootPath}get parsers(){return this._parsers}reset(){this.setBundleIdentifier(this._defaultBundleIdentifierOptions),this._assetMap={},this._preferredOrder=[],this._resolverHash={},this._rootPath=null,this._basePath=null,this._manifest=null,this._bundles={},this._defaultSearchParams=null}setDefaultSearchParams(e){if(typeof e=="string")this._defaultSearchParams=e;else{const n=e;this._defaultSearchParams=Object.keys(n).map(r=>`${encodeURIComponent(r)}=${encodeURIComponent(n[r])}`).join("&")}}getAlias(e){const{alias:n,src:r}=e;return Dp(n||r,s=>typeof s=="string"?s:Array.isArray(s)?s.map(o=>o?.src??o):s?.src?s.src:s,!0)}addManifest(e){this._manifest&&to("[Resolver] Manifest already exists, this will be overwritten"),this._manifest=e,e.bundles.forEach(n=>{this.addBundle(n.name,n.assets)})}addBundle(e,n){const r=[];let i=n;Array.isArray(n)||(i=Object.entries(n).map(([s,o])=>typeof o=="string"||Array.isArray(o)?{alias:s,src:o}:{alias:s,...o})),i.forEach(s=>{const o=s.src,a=s.alias;let l;if(typeof a=="string"){const u=this._createBundleAssetId(e,a);r.push(u),l=[a,u]}else{const u=a.map(c=>this._createBundleAssetId(e,c));r.push(...u),l=[...a,...u]}this.add({...s,alias:l,src:o})}),this._bundles[e]=r}add(e){const n=[];Array.isArray(e)?n.push(...e):n.push(e);let r;r=s=>{this.hasKey(s)&&to(`[Resolver] already has key: ${s} overwriting`)},Dp(n).forEach(s=>{const{src:o}=s;let{data:a,format:l,loadParser:u,parser:c}=s;const d=Dp(o).map(v=>typeof v=="string"?Eit(v):Array.isArray(v)?v:[v]),f=this.getAlias(s);Array.isArray(f)?f.forEach(r):r(f);const p=[],m=v=>({...this._parsers.find(A=>A.test(v))?.parse(v),src:v});d.forEach(v=>{v.forEach(y=>{let A={};if(typeof y!="object"?A=m(y):(a=y.data??a,l=y.format??l,(y.loadParser||y.parser)&&(u=y.loadParser??u,c=y.parser??c),A={...m(y.src),...y}),!f)throw new Error(`[Resolver] alias is undefined for this asset: ${A.src}`);A=this._buildResolvedAsset(A,{aliases:f,data:a,format:l,loadParser:u,parser:c,progressSize:s.progressSize}),p.push(A)})}),f.forEach(v=>{this._assetMap[v]=p})})}resolveBundle(e){const n=qD(e);e=Dp(e);const r={};return e.forEach(i=>{const s=this._bundles[i];if(s){const o=this.resolve(s),a={};for(const l in o){const u=o[l];a[this._extractAssetIdFromBundle(i,l)]=u}r[i]=a}}),n?r[e[0]]:r}resolveUrl(e){const n=this.resolve(e);if(typeof e!="string"){const r={};for(const i in n)r[i]=n[i].src;return r}return n.src}resolve(e){const n=qD(e);e=Dp(e);const r={};return e.forEach(i=>{if(!this._resolverHash[i])if(this._assetMap[i]){let s=this._assetMap[i];const o=this._getPreferredOrder(s);o?.priority.forEach(a=>{o.params[a].forEach(l=>{const u=s.filter(c=>c[a]?c[a]===l:!1);u.length&&(s=u)})}),this._resolverHash[i]=s[0]}else this._resolverHash[i]=this._buildResolvedAsset({alias:[i],src:i},{});r[i]=this._resolverHash[i]}),n?r[e[0]]:r}hasKey(e){return!!this._assetMap[e]}hasBundle(e){return!!this._bundles[e]}_getPreferredOrder(e){for(let n=0;n<e.length;n++){const r=e[n],i=this._preferredOrder.find(s=>s.params.format.includes(r.format));if(i)return i}return this._preferredOrder[0]}_appendDefaultSearchParams(e){if(!this._defaultSearchParams)return e;const n=/\?/.test(e)?"&":"?";return`${e}${n}${this._defaultSearchParams}`}_buildResolvedAsset(e,n){const{aliases:r,data:i,loadParser:s,parser:o,format:a,progressSize:l}=n;return(this._basePath||this._rootPath)&&(e.src=Ad.toAbsolute(e.src,this._basePath,this._rootPath)),e.alias=r??e.alias??[e.src],e.src=this._appendDefaultSearchParams(e.src),e.data={...i||{},...e.data},e.loadParser=s??e.loadParser,e.parser=o??e.parser,e.format=a??e.format??Sit(e.src),l!==void 0&&(e.progressSize=l),e}}AS.RETINA_PREFIX=/@([0-9\.]+)x/;function Sit(t){return t.split(".").pop().split("?").shift().split("#").shift()}const RL=(t,e)=>{const n=e.split("?")[1];return n&&(t+=`?${n}`),t},_fe=class o_{constructor(e,n){this.linkedSheets=[];let r=e;e?.source instanceof Mf&&(r={texture:e,data:n});const{texture:i,data:s,cachePrefix:o=""}=r;this.cachePrefix=o,this._texture=i instanceof er?i:null,this.textureSource=i.source,this.textures={},this.animations={},this.data=s;const a=parseFloat(s.meta.scale);a?(this.resolution=a,i.source.resolution=this.resolution):this.resolution=i.source._resolution,this._frames=this.data.frames,this._frameKeys=Object.keys(this._frames),this._batchIndex=0,this._callback=null}parse(){return new Promise(e=>{this._callback=e,this._batchIndex=0,this._frameKeys.length<=o_.BATCH_SIZE?(this._processFrames(0),this._processAnimations(),this._parseComplete()):this._nextBatch()})}_processFrames(e){let n=e;const r=o_.BATCH_SIZE;for(;n-e<r&&n<this._frameKeys.length;){const i=this._frameKeys[n],s=this._frames[i],o=s.frame;if(o){let a=null,l=null;const u=s.trimmed!==!1&&s.sourceSize?s.sourceSize:s.frame,c=new rs(0,0,Math.floor(u.w)/this.resolution,Math.floor(u.h)/this.resolution);s.rotated?a=new rs(Math.floor(o.x)/this.resolution,Math.floor(o.y)/this.resolution,Math.floor(o.h)/this.resolution,Math.floor(o.w)/this.resolution):a=new rs(Math.floor(o.x)/this.resolution,Math.floor(o.y)/this.resolution,Math.floor(o.w)/this.resolution,Math.floor(o.h)/this.resolution),s.trimmed!==!1&&s.spriteSourceSize&&(l=new rs(Math.floor(s.spriteSourceSize.x)/this.resolution,Math.floor(s.spriteSourceSize.y)/this.resolution,Math.floor(o.w)/this.resolution,Math.floor(o.h)/this.resolution)),this.textures[i]=new er({source:this.textureSource,frame:a,orig:c,trim:l,rotate:s.rotated?2:0,defaultAnchor:s.anchor,defaultBorders:s.borders,label:i.toString()})}n++}}_processAnimations(){const e=this.data.animations||{};for(const n in e){this.animations[n]=[];for(let r=0;r<e[n].length;r++){const i=e[n][r];this.animations[n].push(this.textures[i])}}}_parseComplete(){const e=this._callback;this._callback=null,this._batchIndex=0,e.call(this,this.textures)}_nextBatch(){this._processFrames(this._batchIndex*o_.BATCH_SIZE),this._batchIndex++,setTimeout(()=>{this._batchIndex*o_.BATCH_SIZE<this._frameKeys.length?this._nextBatch():(this._processAnimations(),this._parseComplete())},0)}destroy(e=!1){for(const n in this.textures)this.textures[n].destroy();this._frames=null,this._frameKeys=null,this.data=null,this.textures=null,e&&(this._texture?.destroy(),this.textureSource.destroy()),this._texture=null,this.textureSource=null,this.linkedSheets=[]}};_fe.BATCH_SIZE=1e3;let xG=_fe;const wit=["jpg","png","jpeg","avif","webp","basis","etc2","bc7","bc6h","bc5","bc4","bc3","bc2","bc1","eac","astc"];function Ife(t,e,n){const r={};if(t.forEach(i=>{r[i]=e}),Object.keys(e.textures).forEach(i=>{r[`${e.cachePrefix}${i}`]=e.textures[i]}),!n){const i=Ad.dirname(t[0]);e.linkedSheets.forEach((s,o)=>{const a=Ife([`${i}/${e.data.meta.related_multi_packs[o]}`],s,!0);Object.assign(r,a)})}return r}const _it={extension:Qn.Asset,cache:{test:t=>t instanceof xG,getCacheableAssets:(t,e)=>Ife(t,e,!1)},resolver:{extension:{type:Qn.ResolveParser,name:"resolveSpritesheet"},test:t=>{const n=t.split("?")[0].split("."),r=n.pop(),i=n.pop();return r==="json"&&wit.includes(i)},parse:t=>{const e=t.split(".");return{resolution:parseFloat(AS.RETINA_PREFIX.exec(t)?.[1]??"1"),format:e[e.length-2],src:t}}},loader:{name:"spritesheetLoader",id:"spritesheet",extension:{type:Qn.LoadParser,priority:gv.Normal,name:"spritesheetLoader"},async testParse(t,e){return Ad.extname(e.src).toLowerCase()===".json"&&!!t.frames},async parse(t,e,n){const{texture:r,imageFilename:i,textureOptions:s,cachePrefix:o}=e?.data??{};let a=Ad.dirname(e.src);a&&a.lastIndexOf("/")!==a.length-1&&(a+="/");let l;if(r instanceof er)l=r;else{const d=RL(a+(i??t.meta.image),e.src);l=(await n.load([{src:d,data:s}]))[d]}const u=new xG({texture:l.source,data:t,cachePrefix:o});await u.parse();const c=t?.meta?.related_multi_packs;if(Array.isArray(c)){const d=[];for(const p of c){if(typeof p!="string")continue;let m=a+p;e.data?.ignoreMultiPack||(m=RL(m,e.src),d.push(n.load({src:m,data:{textureOptions:s,ignoreMultiPack:!0}})))}const f=await Promise.all(d);u.linkedSheets=f,f.forEach(p=>{p.linkedSheets=[u].concat(u.linkedSheets.filter(m=>m!==p))})}return u},async unload(t,e,n){await n.unload(t.textureSource._sourceOrigin),t.destroy(!1)}}};mo.add(_it);var OR=/iPhone/i,CG=/iPod/i,EG=/iPad/i,SG=/\biOS-universal(?:.+)Mac\b/i,jR=/\bAndroid(?:.+)Mobile\b/i,wG=/Android/i,T1=/(?:SD4930UR|\bSilk(?:.+)Mobile\b)/i,KI=/Silk/i,l0=/Windows Phone/i,_G=/\bWindows(?:.+)ARM\b/i,IG=/BlackBerry/i,BG=/BB10/i,DG=/Opera Mini/i,TG=/\b(CriOS|Chrome)(?:.+)Mobile/i,MG=/Mobile(?:.+)Firefox\b/i,kG=function(t){return typeof t<"u"&&t.platform==="MacIntel"&&typeof t.maxTouchPoints=="number"&&t.maxTouchPoints>1&&typeof MSStream>"u"};function Iit(t){return function(e){return e.test(t)}}function PG(t){var e={userAgent:"",platform:"",maxTouchPoints:0};!t&&typeof navigator<"u"?e={userAgent:navigator.userAgent,platform:navigator.platform,maxTouchPoints:navigator.maxTouchPoints||0}:typeof t=="string"?e.userAgent=t:t&&t.userAgent&&(e={userAgent:t.userAgent,platform:t.platform,maxTouchPoints:t.maxTouchPoints||0});var n=e.userAgent,r=n.split("[FBAN");typeof r[1]<"u"&&(n=r[0]),r=n.split("Twitter"),typeof r[1]<"u"&&(n=r[0]);var i=Iit(n),s={apple:{phone:i(OR)&&!i(l0),ipod:i(CG),tablet:!i(OR)&&(i(EG)||kG(e))&&!i(l0),universal:i(SG),device:(i(OR)||i(CG)||i(EG)||i(SG)||kG(e))&&!i(l0)},amazon:{phone:i(T1),tablet:!i(T1)&&i(KI),device:i(T1)||i(KI)},android:{phone:!i(l0)&&i(T1)||!i(l0)&&i(jR),tablet:!i(l0)&&!i(T1)&&!i(jR)&&(i(KI)||i(wG)),device:!i(l0)&&(i(T1)||i(KI)||i(jR)||i(wG))||i(/\bokhttp\b/i)},windows:{phone:i(l0),tablet:i(_G),device:i(l0)||i(_G)},other:{blackberry:i(IG),blackberry10:i(BG),opera:i(DG),firefox:i(MG),chrome:i(TG),device:i(IG)||i(BG)||i(DG)||i(MG)||i(TG)},any:!1,phone:!1,tablet:!1};return s.any=s.apple.device||s.android.device||s.windows.device||s.other.device,s.phone=s.apple.phone||s.android.phone||s.windows.phone,s.tablet=s.apple.tablet||s.android.tablet||s.windows.tablet,s}const Bit=PG.default??PG,Dx=Bit(globalThis.navigator),QR=Object.create(null),RG=Object.create(null);function Kz(t,e){let n=RG[t];return n===void 0&&(QR[e]===void 0&&(QR[e]=1),RG[t]=n=QR[e]++),n}let WI;function Bfe(){return(!WI||WI?.isContextLost())&&(WI=hs.get().createCanvas().getContext("webgl",{})),WI}let qI;function Dit(){if(!qI){qI="mediump";const t=Bfe();t&&t.getShaderPrecisionFormat&&(qI=t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.HIGH_FLOAT).precision?"highp":"mediump")}return qI}function Tit(t,e,n){return e?t:n?(t=t.replace("out vec4 finalColor;",""),`

        #ifdef GL_ES // This checks if it is WebGL1
        #define in varying
        #define finalColor gl_FragColor
        #define texture texture2D
        #endif
        ${t}
        `):`

        #ifdef GL_ES // This checks if it is WebGL1
        #define in attribute
        #define out varying
        #endif
        ${t}
        `}function Mit(t,e,n){const r=n?e.maxSupportedFragmentPrecision:e.maxSupportedVertexPrecision;if(t.substring(0,9)!=="precision"){let i=n?e.requestedFragmentPrecision:e.requestedVertexPrecision;return i==="highp"&&r!=="highp"&&(i="mediump"),`precision ${i} float;
${t}`}else if(r!=="highp"&&t.substring(0,15)==="precision highp")return t.replace("precision highp","precision mediump");return t}function kit(t,e){return e?`#version 300 es
${t}`:t}const Pit={},Rit={};function Nit(t,{name:e="pixi-program"},n=!0){e=e.replace(/\s+/g,"-"),e+=n?"-fragment":"-vertex";const r=n?Pit:Rit;return r[e]?(r[e]++,e+=`-${r[e]}`):r[e]=1,t.indexOf("#define SHADER_NAME")!==-1?t:`${`#define SHADER_NAME ${e}`}
${t}`}function Lit(t,e){return e?t.replace("#version 300 es",""):t}const UR={stripVersion:Lit,ensurePrecision:Mit,addProgramDefines:Tit,setProgramName:Nit,insertVersion:kit},Cw=Object.create(null),Dfe=class NL{constructor(e){e={...NL.defaultOptions,...e};const n=e.fragment.indexOf("#version 300 es")!==-1,r={stripVersion:n,ensurePrecision:{requestedFragmentPrecision:e.preferredFragmentPrecision,requestedVertexPrecision:e.preferredVertexPrecision,maxSupportedVertexPrecision:"highp",maxSupportedFragmentPrecision:Dit()},setProgramName:{name:e.name},addProgramDefines:n,insertVersion:n};let i=e.fragment,s=e.vertex;Object.keys(UR).forEach(o=>{const a=r[o];i=UR[o](i,a,!0),s=UR[o](s,a,!1)}),this.fragment=i,this.vertex=s,this.transformFeedbackVaryings=e.transformFeedbackVaryings,this._key=Kz(`${this.vertex}:${this.fragment}`,"gl-program")}destroy(){this.fragment=null,this.vertex=null,this._attributeData=null,this._uniformData=null,this._uniformBlockData=null,this.transformFeedbackVaryings=null,Cw[this._cacheKey]=null}static from(e){const n=`${e.vertex}:${e.fragment}`;return Cw[n]||(Cw[n]=new NL(e),Cw[n]._cacheKey=n),Cw[n]}};Dfe.defaultOptions={preferredVertexPrecision:"highp",preferredFragmentPrecision:"mediump"};let Wz=Dfe;const NG={uint8x2:{size:2,stride:2,normalised:!1},uint8x4:{size:4,stride:4,normalised:!1},sint8x2:{size:2,stride:2,normalised:!1},sint8x4:{size:4,stride:4,normalised:!1},unorm8x2:{size:2,stride:2,normalised:!0},unorm8x4:{size:4,stride:4,normalised:!0},snorm8x2:{size:2,stride:2,normalised:!0},snorm8x4:{size:4,stride:4,normalised:!0},uint16x2:{size:2,stride:4,normalised:!1},uint16x4:{size:4,stride:8,normalised:!1},sint16x2:{size:2,stride:4,normalised:!1},sint16x4:{size:4,stride:8,normalised:!1},unorm16x2:{size:2,stride:4,normalised:!0},unorm16x4:{size:4,stride:8,normalised:!0},snorm16x2:{size:2,stride:4,normalised:!0},snorm16x4:{size:4,stride:8,normalised:!0},float16x2:{size:2,stride:4,normalised:!1},float16x4:{size:4,stride:8,normalised:!1},float32:{size:1,stride:4,normalised:!1},float32x2:{size:2,stride:8,normalised:!1},float32x3:{size:3,stride:12,normalised:!1},float32x4:{size:4,stride:16,normalised:!1},uint32:{size:1,stride:4,normalised:!1},uint32x2:{size:2,stride:8,normalised:!1},uint32x3:{size:3,stride:12,normalised:!1},uint32x4:{size:4,stride:16,normalised:!1},sint32:{size:1,stride:4,normalised:!1},sint32x2:{size:2,stride:8,normalised:!1},sint32x3:{size:3,stride:12,normalised:!1},sint32x4:{size:4,stride:16,normalised:!1}};function Fit(t){return NG[t]??NG.float32}const $it={f32:"float32","vec2<f32>":"float32x2","vec3<f32>":"float32x3","vec4<f32>":"float32x4",vec2f:"float32x2",vec3f:"float32x3",vec4f:"float32x4",i32:"sint32","vec2<i32>":"sint32x2","vec3<i32>":"sint32x3","vec4<i32>":"sint32x4",u32:"uint32","vec2<u32>":"uint32x2","vec3<u32>":"uint32x3","vec4<u32>":"uint32x4",bool:"uint32","vec2<bool>":"uint32x2","vec3<bool>":"uint32x3","vec4<bool>":"uint32x4"};function zit({source:t,entryPoint:e}){const n={},r=t.indexOf(`fn ${e}`);if(r!==-1){const i=t.indexOf("->",r);if(i!==-1){const s=t.substring(r,i),o=/@location\((\d+)\)\s+([a-zA-Z0-9_]+)\s*:\s*([a-zA-Z0-9_<>]+)(?:,|\s|$)/g;let a;for(;(a=o.exec(s))!==null;){const l=$it[a[3]]??"float32";n[a[2]]={location:parseInt(a[1],10),format:l,stride:Fit(l).stride,offset:0,instance:!1,start:0}}}}return n}function HR(t){const e=/(^|[^/])@(group|binding)\(\d+\)[^;]+;/g,n=/@group\((\d+)\)/,r=/@binding\((\d+)\)/,i=/var(<[^>]+>)? (\w+)/,s=/:\s*(\w+)/,o=/struct\s+(\w+)\s*{([^}]+)}/g,a=/(\w+)\s*:\s*([\w\<\>]+)/g,l=/struct\s+(\w+)/,u=t.match(e)?.map(d=>({group:parseInt(d.match(n)[1],10),binding:parseInt(d.match(r)[1],10),name:d.match(i)[2],isUniform:d.match(i)[1]==="<uniform>",type:d.match(s)[1]}));if(!u)return{groups:[],structs:[]};const c=t.match(o)?.map(d=>{const f=d.match(l)[1],p=d.match(a).reduce((m,v)=>{const[y,A]=v.split(":");return m[y.trim()]=A.trim(),m},{});return p?{name:f,members:p}:null}).filter(({name:d})=>u.some(f=>f.type===d))??[];return{groups:u,structs:c}}var a_=(t=>(t[t.VERTEX=1]="VERTEX",t[t.FRAGMENT=2]="FRAGMENT",t[t.COMPUTE=4]="COMPUTE",t))(a_||{});function Oit({groups:t}){const e=[];for(let n=0;n<t.length;n++){const r=t[n];e[r.group]||(e[r.group]=[]),r.isUniform?e[r.group].push({binding:r.binding,visibility:a_.VERTEX|a_.FRAGMENT,buffer:{type:"uniform"}}):r.type==="sampler"?e[r.group].push({binding:r.binding,visibility:a_.FRAGMENT,sampler:{type:"filtering"}}):r.type==="texture_2d"&&e[r.group].push({binding:r.binding,visibility:a_.FRAGMENT,texture:{sampleType:"float",viewDimension:"2d",multisampled:!1}})}return e}function jit({groups:t}){const e=[];for(let n=0;n<t.length;n++){const r=t[n];e[r.group]||(e[r.group]={}),e[r.group][r.name]=r.binding}return e}function Qit(t,e){const n=new Set,r=new Set,i=[...t.structs,...e.structs].filter(o=>n.has(o.name)?!1:(n.add(o.name),!0)),s=[...t.groups,...e.groups].filter(o=>{const a=`${o.name}-${o.binding}`;return r.has(a)?!1:(r.add(a),!0)});return{structs:i,groups:s}}const Ew=Object.create(null);class _4{constructor(e){this._layoutKey=0,this._attributeLocationsKey=0;const{fragment:n,vertex:r,layout:i,gpuLayout:s,name:o}=e;if(this.name=o,this.fragment=n,this.vertex=r,n.source===r.source){const a=HR(n.source);this.structsAndGroups=a}else{const a=HR(r.source),l=HR(n.source);this.structsAndGroups=Qit(a,l)}this.layout=i??jit(this.structsAndGroups),this.gpuLayout=s??Oit(this.structsAndGroups),this.autoAssignGlobalUniforms=this.layout[0]?.globalUniforms!==void 0,this.autoAssignLocalUniforms=this.layout[1]?.localUniforms!==void 0,this._generateProgramKey()}_generateProgramKey(){const{vertex:e,fragment:n}=this,r=e.source+n.source+e.entryPoint+n.entryPoint;this._layoutKey=Kz(r,"program")}get attributeData(){return this._attributeData??(this._attributeData=zit(this.vertex)),this._attributeData}destroy(){this.gpuLayout=null,this.layout=null,this.structsAndGroups=null,this.fragment=null,this.vertex=null,Ew[this._cacheKey]=null}static from(e){const n=`${e.vertex.source}:${e.fragment.source}:${e.fragment.entryPoint}:${e.vertex.entryPoint}`;return Ew[n]||(Ew[n]=new _4(e),Ew[n]._cacheKey=n),Ew[n]}}const Tfe=["f32","i32","vec2<f32>","vec3<f32>","vec4<f32>","mat2x2<f32>","mat3x3<f32>","mat4x4<f32>","mat3x2<f32>","mat4x2<f32>","mat2x3<f32>","mat4x3<f32>","mat2x4<f32>","mat3x4<f32>","vec2<i32>","vec3<i32>","vec4<i32>"],Uit=Tfe.reduce((t,e)=>(t[e]=!0,t),{});function Hit(t,e){switch(t){case"f32":return 0;case"vec2<f32>":return new Float32Array(2*e);case"vec3<f32>":return new Float32Array(3*e);case"vec4<f32>":return new Float32Array(4*e);case"mat2x2<f32>":return new Float32Array([1,0,0,1]);case"mat3x3<f32>":return new Float32Array([1,0,0,0,1,0,0,0,1]);case"mat4x4<f32>":return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}return null}const Mfe=class kfe{constructor(e,n){this._touched=0,this.uid=qo("uniform"),this._resourceType="uniformGroup",this._resourceId=qo("resource"),this.isUniformGroup=!0,this._dirtyId=0,this.destroyed=!1,n={...kfe.defaultOptions,...n},this.uniformStructures=e;const r={};for(const i in e){const s=e[i];if(s.name=i,s.size=s.size??1,!Uit[s.type]){const o=s.type.match(/^array<(\w+(?:<\w+>)?),\s*(\d+)>$/);if(o){const[,a,l]=o;throw new Error(`Uniform type ${s.type} is not supported. Use type: '${a}', size: ${l} instead.`)}throw new Error(`Uniform type ${s.type} is not supported. Supported uniform types are: ${Tfe.join(", ")}`)}s.value??(s.value=Hit(s.type,s.size)),r[i]=s.value}this.uniforms=r,this._dirtyId=1,this.ubo=n.ubo,this.isStatic=n.isStatic,this._signature=Kz(Object.keys(r).map(i=>`${i}-${e[i].type}`).join("-"),"uniform-group")}update(){this._dirtyId++}};Mfe.defaultOptions={ubo:!1,isStatic:!1};let Pfe=Mfe;class jB{constructor(e){this.resources=Object.create(null),this._dirty=!0;let n=0;for(const r in e){const i=e[r];this.setResource(i,n++)}this._updateKey()}_updateKey(){if(!this._dirty)return;this._dirty=!1;const e=[];let n=0;for(const r in this.resources)e[n++]=this.resources[r]._resourceId;this._key=e.join("|")}setResource(e,n){const r=this.resources[n];e!==r&&(r&&e.off?.("change",this.onResourceChange,this),e.on?.("change",this.onResourceChange,this),this.resources[n]=e,this._dirty=!0)}getResource(e){return this.resources[e]}_touch(e){const n=this.resources;for(const r in n)n[r]._touched=e}destroy(){const e=this.resources;for(const n in e)e[n]?.off?.("change",this.onResourceChange,this);this.resources=null}onResourceChange(e){if(this._dirty=!0,e.destroyed){const n=this.resources;for(const r in n)n[r]===e&&(n[r]=null)}else this._updateKey()}}var LL=(t=>(t[t.WEBGL=1]="WEBGL",t[t.WEBGPU=2]="WEBGPU",t[t.BOTH=3]="BOTH",t))(LL||{});class AM extends Yp{constructor(e){super(),this.uid=qo("shader"),this._uniformBindMap=Object.create(null),this._ownedBindGroups=[],this._destroyed=!1;let{gpuProgram:n,glProgram:r,groups:i,resources:s,compatibleRenderers:o,groupMap:a}=e;this.gpuProgram=n,this.glProgram=r,o===void 0&&(o=0,n&&(o|=LL.WEBGPU),r&&(o|=LL.WEBGL)),this.compatibleRenderers=o;const l={};if(!s&&!i&&(s={}),s&&i)throw new Error("[Shader] Cannot have both resources and groups");if(!n&&i&&!a)throw new Error("[Shader] No group map or WebGPU shader provided - consider using resources instead.");if(!n&&i&&a)for(const u in a)for(const c in a[u]){const d=a[u][c];l[d]={group:u,binding:c,name:d}}else if(n&&i&&!a){const u=n.structsAndGroups.groups;a={},u.forEach(c=>{a[c.group]=a[c.group]||{},a[c.group][c.binding]=c.name,l[c.name]=c})}else if(s){i={},a={},n&&n.structsAndGroups.groups.forEach(d=>{a[d.group]=a[d.group]||{},a[d.group][d.binding]=d.name,l[d.name]=d});let u=0;for(const c in s)l[c]||(i[99]||(i[99]=new jB,this._ownedBindGroups.push(i[99])),l[c]={group:99,binding:u,name:c},a[99]=a[99]||{},a[99][u]=c,u++);for(const c in s){const d=c;let f=s[c];!f.source&&!f._resourceType&&(f=new Pfe(f));const p=l[d];p&&(i[p.group]||(i[p.group]=new jB,this._ownedBindGroups.push(i[p.group])),i[p.group].setResource(f,p.binding))}}this.groups=i,this._uniformBindMap=a,this.resources=this._buildResourceAccessor(i,l)}addResource(e,n,r){var i,s;(i=this._uniformBindMap)[n]||(i[n]={}),(s=this._uniformBindMap[n])[r]||(s[r]=e),this.groups[n]||(this.groups[n]=new jB,this._ownedBindGroups.push(this.groups[n]))}_buildResourceAccessor(e,n){const r={};for(const i in n){const s=n[i];Object.defineProperty(r,s.name,{get(){return e[s.group].getResource(s.binding)},set(o){e[s.group].setResource(o,s.binding)}})}return r}destroy(e=!1){this._destroyed||(this._destroyed=!0,this.emit("destroy",this),e&&(this.gpuProgram?.destroy(),this.glProgram?.destroy()),this.gpuProgram=null,this.glProgram=null,this.removeAllListeners(),this._uniformBindMap=null,this._ownedBindGroups.forEach(n=>{n.destroy()}),this._ownedBindGroups=null,this.resources=null,this.groups=null)}static from(e){const{gpu:n,gl:r,...i}=e;let s,o;return n&&(s=_4.from(n)),r&&(o=Wz.from(r)),new AM({gpuProgram:s,glProgram:o,...i})}}const Vit={normal:0,add:1,multiply:2,screen:3,overlay:4,erase:5,"normal-npm":6,"add-npm":7,"screen-npm":8,min:9,max:10},VR=0,GR=1,KR=2,WR=3,qR=4,YR=5,FL=class Rfe{constructor(){this.data=0,this.blendMode="normal",this.polygonOffset=0,this.blend=!0,this.depthMask=!0}get blend(){return!!(this.data&1<<VR)}set blend(e){!!(this.data&1<<VR)!==e&&(this.data^=1<<VR)}get offsets(){return!!(this.data&1<<GR)}set offsets(e){!!(this.data&1<<GR)!==e&&(this.data^=1<<GR)}set cullMode(e){if(e==="none"){this.culling=!1;return}this.culling=!0,this.clockwiseFrontFace=e==="front"}get cullMode(){return this.culling?this.clockwiseFrontFace?"front":"back":"none"}get culling(){return!!(this.data&1<<KR)}set culling(e){!!(this.data&1<<KR)!==e&&(this.data^=1<<KR)}get depthTest(){return!!(this.data&1<<WR)}set depthTest(e){!!(this.data&1<<WR)!==e&&(this.data^=1<<WR)}get depthMask(){return!!(this.data&1<<YR)}set depthMask(e){!!(this.data&1<<YR)!==e&&(this.data^=1<<YR)}get clockwiseFrontFace(){return!!(this.data&1<<qR)}set clockwiseFrontFace(e){!!(this.data&1<<qR)!==e&&(this.data^=1<<qR)}get blendMode(){return this._blendMode}set blendMode(e){this.blend=e!=="none",this._blendMode=e,this._blendModeId=Vit[e]||0}get polygonOffset(){return this._polygonOffset}set polygonOffset(e){this.offsets=!!e,this._polygonOffset=e}toString(){return`[pixi.js/core:State blendMode=${this.blendMode} clockwiseFrontFace=${this.clockwiseFrontFace} culling=${this.culling} depthMask=${this.depthMask} polygonOffset=${this.polygonOffset}]`}static for2d(){const e=new Rfe;return e.depthTest=!1,e.blend=!0,e}};FL.default2d=FL.for2d();let Git=FL;const Nfe=class $L extends AM{constructor(e){e={...$L.defaultOptions,...e},super(e),this.enabled=!0,this._state=Git.for2d(),this.blendMode=e.blendMode,this.padding=e.padding,typeof e.antialias=="boolean"?this.antialias=e.antialias?"on":"off":this.antialias=e.antialias,this.resolution=e.resolution,this.blendRequired=e.blendRequired,this.clipToViewport=e.clipToViewport,this.addResource("uTexture",0,1),e.blendRequired&&this.addResource("uBackTexture",0,3)}apply(e,n,r,i){e.applyFilter(this,n,r,i)}get blendMode(){return this._state.blendMode}set blendMode(e){this._state.blendMode=e}static from(e){const{gpu:n,gl:r,...i}=e;let s,o;return n&&(s=_4.from(n)),r&&(o=Wz.from(r)),new $L({gpuProgram:s,glProgram:o,...i})}};Nfe.defaultOptions={blendMode:"normal",resolution:1,padding:0,antialias:"off",blendRequired:!1,clipToViewport:!0};let pC=Nfe;const zL=[];mo.handleByNamedList(Qn.Environment,zL);async function Kit(t){if(!t)for(let e=0;e<zL.length;e++){const n=zL[e];if(n.value.test()){await n.value.load();return}}}let Sw;function Wit(){if(typeof Sw=="boolean")return Sw;try{Sw=new Function("param1","param2","param3","return param1[param2] === param3;")({a:"b"},"a","b")===!0}catch{Sw=!1}return Sw}function LG(t,e,n=2){const r=e&&e.length,i=r?e[0]*n:t.length;let s=Lfe(t,0,i,n,!0);const o=[];if(!s||s.next===s.prev)return o;let a,l,u;if(r&&(s=Zit(t,e,s,n)),t.length>80*n){a=t[0],l=t[1];let c=a,d=l;for(let f=n;f<i;f+=n){const p=t[f],m=t[f+1];p<a&&(a=p),m<l&&(l=m),p>c&&(c=p),m>d&&(d=m)}u=Math.max(c-a,d-l),u=u!==0?32767/u:0}return D3(s,o,n,a,l,u,0),o}function Lfe(t,e,n,r,i){let s;if(i===cst(t,e,n,r)>0)for(let o=e;o<n;o+=r)s=FG(o/r|0,t[o],t[o+1],s);else for(let o=n-r;o>=e;o-=r)s=FG(o/r|0,t[o],t[o+1],s);return s&&KE(s,s.next)&&(M3(s),s=s.next),s}function Zx(t,e){if(!t)return t;e||(e=t);let n=t,r;do if(r=!1,!n.steiner&&(KE(n,n.next)||Ro(n.prev,n,n.next)===0)){if(M3(n),n=e=n.prev,n===n.next)break;r=!0}else n=n.next;while(r||n!==e);return e}function D3(t,e,n,r,i,s,o){if(!t)return;!o&&s&&ist(t,r,i,s);let a=t;for(;t.prev!==t.next;){const l=t.prev,u=t.next;if(s?Yit(t,r,i,s):qit(t)){e.push(l.i,t.i,u.i),M3(t),t=u.next,a=u.next;continue}if(t=u,t===a){o?o===1?(t=Xit(Zx(t),e),D3(t,e,n,r,i,s,2)):o===2&&Jit(t,e,n,r,i,s):D3(Zx(t),e,n,r,i,s,1);break}}}function qit(t){const e=t.prev,n=t,r=t.next;if(Ro(e,n,r)>=0)return!1;const i=e.x,s=n.x,o=r.x,a=e.y,l=n.y,u=r.y,c=Math.min(i,s,o),d=Math.min(a,l,u),f=Math.max(i,s,o),p=Math.max(a,l,u);let m=r.next;for(;m!==e;){if(m.x>=c&&m.x<=f&&m.y>=d&&m.y<=p&&l_(i,a,s,l,o,u,m.x,m.y)&&Ro(m.prev,m,m.next)>=0)return!1;m=m.next}return!0}function Yit(t,e,n,r){const i=t.prev,s=t,o=t.next;if(Ro(i,s,o)>=0)return!1;const a=i.x,l=s.x,u=o.x,c=i.y,d=s.y,f=o.y,p=Math.min(a,l,u),m=Math.min(c,d,f),v=Math.max(a,l,u),y=Math.max(c,d,f),A=OL(p,m,e,n,r),C=OL(v,y,e,n,r);let E=t.prevZ,I=t.nextZ;for(;E&&E.z>=A&&I&&I.z<=C;){if(E.x>=p&&E.x<=v&&E.y>=m&&E.y<=y&&E!==i&&E!==o&&l_(a,c,l,d,u,f,E.x,E.y)&&Ro(E.prev,E,E.next)>=0||(E=E.prevZ,I.x>=p&&I.x<=v&&I.y>=m&&I.y<=y&&I!==i&&I!==o&&l_(a,c,l,d,u,f,I.x,I.y)&&Ro(I.prev,I,I.next)>=0))return!1;I=I.nextZ}for(;E&&E.z>=A;){if(E.x>=p&&E.x<=v&&E.y>=m&&E.y<=y&&E!==i&&E!==o&&l_(a,c,l,d,u,f,E.x,E.y)&&Ro(E.prev,E,E.next)>=0)return!1;E=E.prevZ}for(;I&&I.z<=C;){if(I.x>=p&&I.x<=v&&I.y>=m&&I.y<=y&&I!==i&&I!==o&&l_(a,c,l,d,u,f,I.x,I.y)&&Ro(I.prev,I,I.next)>=0)return!1;I=I.nextZ}return!0}function Xit(t,e){let n=t;do{const r=n.prev,i=n.next.next;!KE(r,i)&&$fe(r,n,n.next,i)&&T3(r,i)&&T3(i,r)&&(e.push(r.i,n.i,i.i),M3(n),M3(n.next),n=t=i),n=n.next}while(n!==t);return Zx(n)}function Jit(t,e,n,r,i,s){let o=t;do{let a=o.next.next;for(;a!==o.prev;){if(o.i!==a.i&&ast(o,a)){let l=zfe(o,a);o=Zx(o,o.next),l=Zx(l,l.next),D3(o,e,n,r,i,s,0),D3(l,e,n,r,i,s,0);return}a=a.next}o=o.next}while(o!==t)}function Zit(t,e,n,r){const i=[];for(let s=0,o=e.length;s<o;s++){const a=e[s]*r,l=s<o-1?e[s+1]*r:t.length,u=Lfe(t,a,l,r,!1);u===u.next&&(u.steiner=!0),i.push(ost(u))}i.sort(est);for(let s=0;s<i.length;s++)n=tst(i[s],n);return n}function est(t,e){let n=t.x-e.x;if(n===0&&(n=t.y-e.y,n===0)){const r=(t.next.y-t.y)/(t.next.x-t.x),i=(e.next.y-e.y)/(e.next.x-e.x);n=r-i}return n}function tst(t,e){const n=nst(t,e);if(!n)return e;const r=zfe(n,t);return Zx(r,r.next),Zx(n,n.next)}function nst(t,e){let n=e;const r=t.x,i=t.y;let s=-1/0,o;if(KE(t,n))return n;do{if(KE(t,n.next))return n.next;if(i<=n.y&&i>=n.next.y&&n.next.y!==n.y){const d=n.x+(i-n.y)*(n.next.x-n.x)/(n.next.y-n.y);if(d<=r&&d>s&&(s=d,o=n.x<n.next.x?n:n.next,d===r))return o}n=n.next}while(n!==e);if(!o)return null;const a=o,l=o.x,u=o.y;let c=1/0;n=o;do{if(r>=n.x&&n.x>=l&&r!==n.x&&Ffe(i<u?r:s,i,l,u,i<u?s:r,i,n.x,n.y)){const d=Math.abs(i-n.y)/(r-n.x);T3(n,t)&&(d<c||d===c&&(n.x>o.x||n.x===o.x&&rst(o,n)))&&(o=n,c=d)}n=n.next}while(n!==a);return o}function rst(t,e){return Ro(t.prev,t,e.prev)<0&&Ro(e.next,t,t.next)<0}function ist(t,e,n,r){let i=t;do i.z===0&&(i.z=OL(i.x,i.y,e,n,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next;while(i!==t);i.prevZ.nextZ=null,i.prevZ=null,sst(i)}function sst(t){let e,n=1;do{let r=t,i;t=null;let s=null;for(e=0;r;){e++;let o=r,a=0;for(let u=0;u<n&&(a++,o=o.nextZ,!!o);u++);let l=n;for(;a>0||l>0&&o;)a!==0&&(l===0||!o||r.z<=o.z)?(i=r,r=r.nextZ,a--):(i=o,o=o.nextZ,l--),s?s.nextZ=i:t=i,i.prevZ=s,s=i;r=o}s.nextZ=null,n*=2}while(e>1);return t}function OL(t,e,n,r,i){return t=(t-n)*i|0,e=(e-r)*i|0,t=(t|t<<8)&16711935,t=(t|t<<4)&252645135,t=(t|t<<2)&858993459,t=(t|t<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,t|e<<1}function ost(t){let e=t,n=t;do(e.x<n.x||e.x===n.x&&e.y<n.y)&&(n=e),e=e.next;while(e!==t);return n}function Ffe(t,e,n,r,i,s,o,a){return(i-o)*(e-a)>=(t-o)*(s-a)&&(t-o)*(r-a)>=(n-o)*(e-a)&&(n-o)*(s-a)>=(i-o)*(r-a)}function l_(t,e,n,r,i,s,o,a){return!(t===o&&e===a)&&Ffe(t,e,n,r,i,s,o,a)}function ast(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!lst(t,e)&&(T3(t,e)&&T3(e,t)&&ust(t,e)&&(Ro(t.prev,t,e.prev)||Ro(t,e.prev,e))||KE(t,e)&&Ro(t.prev,t,t.next)>0&&Ro(e.prev,e,e.next)>0)}function Ro(t,e,n){return(e.y-t.y)*(n.x-e.x)-(e.x-t.x)*(n.y-e.y)}function KE(t,e){return t.x===e.x&&t.y===e.y}function $fe(t,e,n,r){const i=XI(Ro(t,e,n)),s=XI(Ro(t,e,r)),o=XI(Ro(n,r,t)),a=XI(Ro(n,r,e));return!!(i!==s&&o!==a||i===0&&YI(t,n,e)||s===0&&YI(t,r,e)||o===0&&YI(n,t,r)||a===0&&YI(n,e,r))}function YI(t,e,n){return e.x<=Math.max(t.x,n.x)&&e.x>=Math.min(t.x,n.x)&&e.y<=Math.max(t.y,n.y)&&e.y>=Math.min(t.y,n.y)}function XI(t){return t>0?1:t<0?-1:0}function lst(t,e){let n=t;do{if(n.i!==t.i&&n.next.i!==t.i&&n.i!==e.i&&n.next.i!==e.i&&$fe(n,n.next,t,e))return!0;n=n.next}while(n!==t);return!1}function T3(t,e){return Ro(t.prev,t,t.next)<0?Ro(t,e,t.next)>=0&&Ro(t,t.prev,e)>=0:Ro(t,e,t.prev)<0||Ro(t,t.next,e)<0}function ust(t,e){let n=t,r=!1;const i=(t.x+e.x)/2,s=(t.y+e.y)/2;do n.y>s!=n.next.y>s&&n.next.y!==n.y&&i<(n.next.x-n.x)*(s-n.y)/(n.next.y-n.y)+n.x&&(r=!r),n=n.next;while(n!==t);return r}function zfe(t,e){const n=jL(t.i,t.x,t.y),r=jL(e.i,e.x,e.y),i=t.next,s=e.prev;return t.next=e,e.prev=t,n.next=i,i.prev=n,r.next=n,n.prev=r,s.next=r,r.prev=s,r}function FG(t,e,n,r){const i=jL(t,e,n);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function M3(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function jL(t,e,n){return{i:t,x:e,y:n,prev:null,next:null,z:0,prevZ:null,nextZ:null,steiner:!1}}function cst(t,e,n,r){let i=0;for(let s=e,o=n-r;s<n;s+=r)i+=(t[o]-t[s])*(t[s+1]+t[o+1]),o=s;return i}const dst=LG.default||LG;var Ofe=(t=>(t[t.NONE=0]="NONE",t[t.COLOR=16384]="COLOR",t[t.STENCIL=1024]="STENCIL",t[t.DEPTH=256]="DEPTH",t[t.COLOR_DEPTH=16640]="COLOR_DEPTH",t[t.COLOR_STENCIL=17408]="COLOR_STENCIL",t[t.DEPTH_STENCIL=1280]="DEPTH_STENCIL",t[t.ALL=17664]="ALL",t))(Ofe||{});class hst{constructor(e){this.items=[],this._name=e}emit(e,n,r,i,s,o,a,l){const{name:u,items:c}=this;for(let d=0,f=c.length;d<f;d++)c[d][u](e,n,r,i,s,o,a,l);return this}add(e){return e[this._name]&&(this.remove(e),this.items.push(e)),this}remove(e){const n=this.items.indexOf(e);return n!==-1&&this.items.splice(n,1),this}contains(e){return this.items.indexOf(e)!==-1}removeAll(){return this.items.length=0,this}destroy(){this.removeAll(),this.items=null,this._name=null}get empty(){return this.items.length===0}get name(){return this._name}}const fst=["init","destroy","contextChange","resolutionChange","resetState","renderEnd","renderStart","render","update","postrender","prerender"],jfe=class Qfe extends Yp{constructor(e){super(),this.uid=qo("renderer"),this.runners=Object.create(null),this.renderPipes=Object.create(null),this._initOptions={},this._systemsHash=Object.create(null),this.type=e.type,this.name=e.name,this.config=e;const n=[...fst,...this.config.runners??[]];this._addRunners(...n),this._unsafeEvalCheck()}async init(e={}){const n=e.skipExtensionImports===!0?!0:e.manageImports===!1;await Kit(n),this._addSystems(this.config.systems),this._addPipes(this.config.renderPipes,this.config.renderPipeAdaptors);for(const r in this._systemsHash)e={...this._systemsHash[r].constructor.defaultOptions,...e};e={...Qfe.defaultOptions,...e},this._roundPixels=e.roundPixels?1:0;for(let r=0;r<this.runners.init.items.length;r++)await this.runners.init.items[r].init(e);this._initOptions=e}render(e,n){let r=e;if(r instanceof xr&&(r={container:r},n&&(Pr(Ni,"passing a second argument is deprecated, please use render options instead"),r.target=n.renderTexture)),r.target||(r.target=this.view.renderTarget),r.target===this.view.renderTarget&&(this._lastObjectRendered=r.container,r.clearColor??(r.clearColor=this.background.colorRgba),r.clear??(r.clear=this.background.clearBeforeRender)),r.clearColor){const i=Array.isArray(r.clearColor)&&r.clearColor.length===4;r.clearColor=i?r.clearColor:Oa.shared.setValue(r.clearColor).toArray()}r.transform||(r.container.updateLocalTransform(),r.transform=r.container.localTransform),r.container.visible&&(r.container.enableRenderGroup(),this.runners.prerender.emit(r),this.runners.renderStart.emit(r),this.runners.render.emit(r),this.runners.renderEnd.emit(r),this.runners.postrender.emit(r))}resize(e,n,r){const i=this.view.resolution;this.view.resize(e,n,r),this.emit("resize",this.view.screen.width,this.view.screen.height,this.view.resolution),r!==void 0&&r!==i&&this.runners.resolutionChange.emit(r)}clear(e={}){const n=this;e.target||(e.target=n.renderTarget.renderTarget),e.clearColor||(e.clearColor=this.background.colorRgba),e.clear??(e.clear=Ofe.ALL);const{clear:r,clearColor:i,target:s}=e;Oa.shared.setValue(i??this.background.colorRgba),n.renderTarget.clear(s,r,Oa.shared.toArray())}get resolution(){return this.view.resolution}set resolution(e){this.view.resolution=e,this.runners.resolutionChange.emit(e)}get width(){return this.view.texture.frame.width}get height(){return this.view.texture.frame.height}get canvas(){return this.view.canvas}get lastObjectRendered(){return this._lastObjectRendered}get renderingToScreen(){return this.renderTarget.renderingToScreen}get screen(){return this.view.screen}_addRunners(...e){e.forEach(n=>{this.runners[n]=new hst(n)})}_addSystems(e){let n;for(n in e){const r=e[n];this._addSystem(r.value,r.name)}}_addSystem(e,n){const r=new e(this);if(this[n])throw new Error(`Whoops! The name "${n}" is already in use`);this[n]=r,this._systemsHash[n]=r;for(const i in this.runners)this.runners[i].add(r);return this}_addPipes(e,n){const r=n.reduce((i,s)=>(i[s.name]=s.value,i),{});e.forEach(i=>{const s=i.value,o=i.name,a=r[o];this.renderPipes[o]=new s(this,a?new a:null),this.runners.destroy.add(this.renderPipes[o])})}destroy(e=!1){this.runners.destroy.items.reverse(),this.runners.destroy.emit(e),(e===!0||typeof e=="object"&&e.releaseGlobalResources)&&w4.release(),Object.values(this.runners).forEach(n=>{n.destroy()}),this._systemsHash=null,this.renderPipes=null}generateTexture(e){return this.textureGenerator.generateTexture(e)}get roundPixels(){return!!this._roundPixels}_unsafeEvalCheck(){if(!Wit())throw new Error("Current environment does not allow unsafe-eval, please use pixi.js/unsafe-eval module to enable support.")}resetState(){this.runners.resetState.emit()}};jfe.defaultOptions={resolution:1,failIfMajorPerformanceCaveat:!1,roundPixels:!1};let qz=jfe,JI;function pst(t){return JI!==void 0||(JI=(()=>{const e={stencil:!0,failIfMajorPerformanceCaveat:t??qz.defaultOptions.failIfMajorPerformanceCaveat};try{if(!hs.get().getWebGLRenderingContext())return!1;let r=hs.get().createCanvas().getContext("webgl",e);const i=!!r?.getContextAttributes()?.stencil;if(r){const s=r.getExtension("WEBGL_lose_context");s&&s.loseContext()}return r=null,i}catch{return!1}})()),JI}let ZI;async function gst(t={}){return ZI!==void 0||(ZI=await(async()=>{const e=hs.get().getNavigator().gpu;if(!e)return!1;try{return await(await e.requestAdapter(t)).requestDevice(),!0}catch{return!1}})()),ZI}const $G=["webgl","webgpu","canvas"];async function mst(t){let e=[];t.preference?(e.push(t.preference),$G.forEach(s=>{s!==t.preference&&e.push(s)})):e=$G.slice();let n,r={};for(let s=0;s<e.length;s++){const o=e[s];if(o==="webgpu"&&await gst()){const{WebGPURenderer:a}=await en(async()=>{const{WebGPURenderer:l}=await import("./WebGPURenderer-B8zTwQBX.js");return{WebGPURenderer:l}},__vite__mapDeps([103,102,104]));n=a,r={...t,...t.webgpu};break}else if(o==="webgl"&&pst(t.failIfMajorPerformanceCaveat??qz.defaultOptions.failIfMajorPerformanceCaveat)){const{WebGLRenderer:a}=await en(async()=>{const{WebGLRenderer:l}=await import("./WebGLRenderer-C5e7b4cn.js");return{WebGLRenderer:l}},__vite__mapDeps([105,102,104]));n=a,r={...t,...t.webgl};break}else if(o==="canvas")throw r={...t},new Error("CanvasRenderer is not yet implemented")}if(delete r.webgpu,delete r.webgl,!n)throw new Error("No available renderer for the current environment");const i=new n;return await i.init(r),i}const Ufe="8.14.3";class Hfe{static init(){globalThis.__PIXI_APP_INIT__?.(this,Ufe)}static destroy(){}}Hfe.extension=Qn.Application;class Ast{constructor(e){this._renderer=e}init(){globalThis.__PIXI_RENDERER_INIT__?.(this._renderer,Ufe)}destroy(){this._renderer=null}}Ast.extension={type:[Qn.WebGLSystem,Qn.WebGPUSystem],name:"initHook",priority:-10};const Vfe=class QL{constructor(...e){this.stage=new xr,e[0]!==void 0&&Pr(Ni,"Application constructor options are deprecated, please use Application.init() instead.")}async init(e){e={...e},this.stage||(this.stage=new xr),this.renderer=await mst(e),QL._plugins.forEach(n=>{n.init.call(this,e)})}render(){this.renderer.render({container:this.stage})}get canvas(){return this.renderer.canvas}get view(){return Pr(Ni,"Application.view is deprecated, please use Application.canvas instead."),this.renderer.canvas}get screen(){return this.renderer.screen}destroy(e=!1,n=!1){const r=QL._plugins.slice(0);r.reverse(),r.forEach(i=>{i.destroy.call(this)}),this.stage.destroy(n),this.stage=null,this.renderer.destroy(e),this.renderer=null}};Vfe._plugins=[];let Yz=Vfe;mo.handleByList(Qn.Application,Yz._plugins);mo.add(Hfe);class Gfe extends Yp{constructor(){super(...arguments),this.chars=Object.create(null),this.lineHeight=0,this.fontFamily="",this.fontMetrics={fontSize:0,ascent:0,descent:0},this.baseLineOffset=0,this.distanceField={type:"none",range:0},this.pages=[],this.applyFillAsTint=!0,this.baseMeasurementFontSize=100,this.baseRenderedFontSize=100}get font(){return Pr(Ni,"BitmapFont.font is deprecated, please use BitmapFont.fontFamily instead."),this.fontFamily}get pageTextures(){return Pr(Ni,"BitmapFont.pageTextures is deprecated, please use BitmapFont.pages instead."),this.pages}get size(){return Pr(Ni,"BitmapFont.size is deprecated, please use BitmapFont.fontMetrics.fontSize instead."),this.fontMetrics.fontSize}get distanceFieldRange(){return Pr(Ni,"BitmapFont.distanceFieldRange is deprecated, please use BitmapFont.distanceField.range instead."),this.distanceField.range}get distanceFieldType(){return Pr(Ni,"BitmapFont.distanceFieldType is deprecated, please use BitmapFont.distanceField.type instead."),this.distanceField.type}destroy(e=!1){this.emit("destroy",this),this.removeAllListeners();for(const n in this.chars)this.chars[n].texture?.destroy();this.chars=null,e&&(this.pages.forEach(n=>n.texture.destroy(!0)),this.pages=null)}}class yst{constructor(e=0,n=0,r=!1){this.first=null,this.items=Object.create(null),this.last=null,this.max=e,this.resetTtl=r,this.size=0,this.ttl=n}clear(){return this.first=null,this.items=Object.create(null),this.last=null,this.size=0,this}delete(e){if(this.has(e)){const n=this.items[e];delete this.items[e],this.size--,n.prev!==null&&(n.prev.next=n.next),n.next!==null&&(n.next.prev=n.prev),this.first===n&&(this.first=n.next),this.last===n&&(this.last=n.prev)}return this}entries(e=this.keys()){return e.map(n=>[n,this.get(n)])}evict(e=!1){if(e||this.size>0){const n=this.first;delete this.items[n.key],--this.size===0?(this.first=null,this.last=null):(this.first=n.next,this.first.prev=null)}return this}expiresAt(e){let n;return this.has(e)&&(n=this.items[e].expiry),n}get(e){const n=this.items[e];if(n!==void 0){if(this.ttl>0&&n.expiry<=Date.now()){this.delete(e);return}return this.moveToEnd(n),n.value}}has(e){return e in this.items}moveToEnd(e){this.last!==e&&(e.prev!==null&&(e.prev.next=e.next),e.next!==null&&(e.next.prev=e.prev),this.first===e&&(this.first=e.next),e.prev=this.last,e.next=null,this.last!==null&&(this.last.next=e),this.last=e,this.first===null&&(this.first=e))}keys(){const e=[];let n=this.first;for(;n!==null;)e.push(n.key),n=n.next;return e}setWithEvicted(e,n,r=this.resetTtl){let i=null;if(this.has(e))this.set(e,n,!0,r);else{this.max>0&&this.size===this.max&&(i={...this.first},this.evict(!0));let s=this.items[e]={expiry:this.ttl>0?Date.now()+this.ttl:this.ttl,key:e,prev:this.last,next:null,value:n};++this.size===1?this.first=s:this.last.next=s,this.last=s}return i}set(e,n,r=!1,i=this.resetTtl){let s=this.items[e];return r||s!==void 0?(s.value=n,r===!1&&i&&(s.expiry=this.ttl>0?Date.now()+this.ttl:this.ttl),this.moveToEnd(s)):(this.max>0&&this.size===this.max&&this.evict(!0),s=this.items[e]={expiry:this.ttl>0?Date.now()+this.ttl:this.ttl,key:e,prev:this.last,next:null,value:n},++this.size===1?this.first=s:this.last.next=s,this.last=s),this}values(e=this.keys()){return e.map(n=>this.get(n))}}function Kfe(t=1e3,e=0,n=!1){if(isNaN(t)||t<0)throw new TypeError("Invalid max value");if(isNaN(e)||e<0)throw new TypeError("Invalid ttl value");if(typeof n!="boolean")throw new TypeError("Invalid resetTtl value");return new yst(t,e,n)}const vst=["serif","sans-serif","monospace","cursive","fantasy","system-ui"];function YD(t){const e=typeof t.fontSize=="number"?`${t.fontSize}px`:t.fontSize;let n=t.fontFamily;Array.isArray(t.fontFamily)||(n=t.fontFamily.split(","));for(let r=n.length-1;r>=0;r--){let i=n[r].trim();!/([\"\'])[^\'\"]+\1/.test(i)&&!vst.includes(i)&&(i=`"${i}"`),n[r]=i}return`${t.fontStyle} ${t.fontVariant} ${t.fontWeight} ${e} ${n.join(",")}`}const XR={willReadFrequently:!0},Xp=class $n{static get experimentalLetterSpacingSupported(){let e=$n._experimentalLetterSpacingSupported;if(e===void 0){const n=hs.get().getCanvasRenderingContext2D().prototype;e=$n._experimentalLetterSpacingSupported="letterSpacing"in n||"textLetterSpacing"in n}return e}constructor(e,n,r,i,s,o,a,l,u){this.text=e,this.style=n,this.width=r,this.height=i,this.lines=s,this.lineWidths=o,this.lineHeight=a,this.maxLineWidth=l,this.fontProperties=u}static measureText(e=" ",n,r=$n._canvas,i=n.wordWrap){const s=`${e}-${n.styleKey}-wordWrap-${i}`;if($n._measurementCache.has(s))return $n._measurementCache.get(s);const o=YD(n),a=$n.measureFont(o);a.fontSize===0&&(a.fontSize=n.fontSize,a.ascent=n.fontSize);const l=$n.__context;l.font=o;const c=(i?$n._wordWrap(e,n,r):e).split(/(?:\r\n|\r|\n)/),d=new Array(c.length);let f=0;for(let C=0;C<c.length;C++){const E=$n._measureText(c[C],n.letterSpacing,l);d[C]=E,f=Math.max(f,E)}const p=n._stroke?.width||0;let m=f+p;n.dropShadow&&(m+=n.dropShadow.distance);const v=n.lineHeight||a.fontSize;let y=Math.max(v,a.fontSize+p)+(c.length-1)*(v+n.leading);n.dropShadow&&(y+=n.dropShadow.distance);const A=new $n(e,n,m,y,c,d,v+n.leading,f,a);return $n._measurementCache.set(s,A),A}static _measureText(e,n,r){let i=!1;$n.experimentalLetterSpacingSupported&&($n.experimentalLetterSpacing?(r.letterSpacing=`${n}px`,r.textLetterSpacing=`${n}px`,i=!0):(r.letterSpacing="0px",r.textLetterSpacing="0px"));const s=r.measureText(e);let o=s.width;const a=-s.actualBoundingBoxLeft;let u=s.actualBoundingBoxRight-a;if(o>0)if(i)o-=n,u-=n;else{const c=($n.graphemeSegmenter(e).length-1)*n;o+=c,u+=c}return Math.max(o,u)}static _wordWrap(e,n,r=$n._canvas){const i=r.getContext("2d",XR);let s=0,o="",a="";const l=Object.create(null),{letterSpacing:u,whiteSpace:c}=n,d=$n._collapseSpaces(c),f=$n._collapseNewlines(c);let p=!d;const m=n.wordWrapWidth+u,v=$n._tokenize(e);for(let y=0;y<v.length;y++){let A=v[y];if($n._isNewline(A)){if(!f){a+=$n._addLine(o),p=!d,o="",s=0;continue}A=" "}if(d){const E=$n.isBreakingSpace(A),I=$n.isBreakingSpace(o[o.length-1]);if(E&&I)continue}const C=$n._getFromCache(A,u,l,i);if(C>m)if(o!==""&&(a+=$n._addLine(o),o="",s=0),$n.canBreakWords(A,n.breakWords)){const E=$n.wordWrapSplit(A);for(let I=0;I<E.length;I++){let D=E[I],T=D,M=1;for(;E[I+M];){const k=E[I+M];if(!$n.canBreakChars(T,k,A,I,n.breakWords))D+=k;else break;T=k,M++}I+=M-1;const P=$n._getFromCache(D,u,l,i);P+s>m&&(a+=$n._addLine(o),p=!1,o="",s=0),o+=D,s+=P}}else{o.length>0&&(a+=$n._addLine(o),o="",s=0);const E=y===v.length-1;a+=$n._addLine(A,!E),p=!1,o="",s=0}else C+s>m&&(p=!1,a+=$n._addLine(o),o="",s=0),(o.length>0||!$n.isBreakingSpace(A)||p)&&(o+=A,s+=C)}return a+=$n._addLine(o,!1),a}static _addLine(e,n=!0){return e=$n._trimRight(e),e=n?`${e}
`:e,e}static _getFromCache(e,n,r,i){let s=r[e];return typeof s!="number"&&(s=$n._measureText(e,n,i)+n,r[e]=s),s}static _collapseSpaces(e){return e==="normal"||e==="pre-line"}static _collapseNewlines(e){return e==="normal"}static _trimRight(e){if(typeof e!="string")return"";for(let n=e.length-1;n>=0;n--){const r=e[n];if(!$n.isBreakingSpace(r))break;e=e.slice(0,-1)}return e}static _isNewline(e){return typeof e!="string"?!1:$n._newlines.includes(e.charCodeAt(0))}static isBreakingSpace(e,n){return typeof e!="string"?!1:$n._breakingSpaces.includes(e.charCodeAt(0))}static _tokenize(e){const n=[];let r="";if(typeof e!="string")return n;for(let i=0;i<e.length;i++){const s=e[i],o=e[i+1];if($n.isBreakingSpace(s,o)||$n._isNewline(s)){r!==""&&(n.push(r),r=""),s==="\r"&&o===`
`?(n.push(`\r
`),i++):n.push(s);continue}r+=s}return r!==""&&n.push(r),n}static canBreakWords(e,n){return n}static canBreakChars(e,n,r,i,s){return!0}static wordWrapSplit(e){return $n.graphemeSegmenter(e)}static measureFont(e){if($n._fonts[e])return $n._fonts[e];const n=$n._context;n.font=e;const r=n.measureText($n.METRICS_STRING+$n.BASELINE_SYMBOL),i={ascent:r.actualBoundingBoxAscent,descent:r.actualBoundingBoxDescent,fontSize:r.actualBoundingBoxAscent+r.actualBoundingBoxDescent};return $n._fonts[e]=i,i}static clearMetrics(e=""){e?delete $n._fonts[e]:$n._fonts={}}static get _canvas(){if(!$n.__canvas){let e;try{const n=new OffscreenCanvas(0,0);if(n.getContext("2d",XR)?.measureText)return $n.__canvas=n,n;e=hs.get().createCanvas()}catch{e=hs.get().createCanvas()}e.width=e.height=10,$n.__canvas=e}return $n.__canvas}static get _context(){return $n.__context||($n.__context=$n._canvas.getContext("2d",XR)),$n.__context}};Xp.METRICS_STRING="|q";Xp.BASELINE_SYMBOL="M";Xp.BASELINE_MULTIPLIER=1.4;Xp.HEIGHT_MULTIPLIER=2;Xp.graphemeSegmenter=(()=>{if(typeof Intl?.Segmenter=="function"){const t=new Intl.Segmenter;return e=>{const n=t.segment(e),r=[];let i=0;for(const s of n)r[i++]=s.segment;return r}}return t=>[...t]})();Xp.experimentalLetterSpacing=!1;Xp._fonts={};Xp._newlines=[10,13];Xp._breakingSpaces=[9,32,8192,8193,8194,8195,8196,8197,8198,8200,8201,8202,8287,12288];Xp._measurementCache=Kfe(1e3);let ds=Xp;const zG=[{offset:0,color:"white"},{offset:1,color:"black"}],Xz=class UL{constructor(...e){this.uid=qo("fillGradient"),this._tick=0,this.type="linear",this.colorStops=[];let n=bst(e);n={...n.type==="radial"?UL.defaultRadialOptions:UL.defaultLinearOptions,...Zhe(n)},this._textureSize=n.textureSize,this._wrapMode=n.wrapMode,n.type==="radial"?(this.center=n.center,this.outerCenter=n.outerCenter??this.center,this.innerRadius=n.innerRadius,this.outerRadius=n.outerRadius,this.scale=n.scale,this.rotation=n.rotation):(this.start=n.start,this.end=n.end),this.textureSpace=n.textureSpace,this.type=n.type,n.colorStops.forEach(i=>{this.addColorStop(i.offset,i.color)})}addColorStop(e,n){return this.colorStops.push({offset:e,color:Oa.shared.setValue(n).toHexa()}),this}buildLinearGradient(){if(this.texture)return;let{x:e,y:n}=this.start,{x:r,y:i}=this.end,s=r-e,o=i-n;const a=s<0||o<0;if(this._wrapMode==="clamp-to-edge"){if(s<0){const y=e;e=r,r=y,s*=-1}if(o<0){const y=n;n=i,i=y,o*=-1}}const l=this.colorStops.length?this.colorStops:zG,u=this._textureSize,{canvas:c,context:d}=jG(u,1),f=a?d.createLinearGradient(this._textureSize,0,0,0):d.createLinearGradient(0,0,this._textureSize,0);OG(f,l),d.fillStyle=f,d.fillRect(0,0,u,1),this.texture=new er({source:new Jx({resource:c,addressMode:this._wrapMode})});const p=Math.sqrt(s*s+o*o),m=Math.atan2(o,s),v=new mi;v.scale(p/u,1),v.rotate(m),v.translate(e,n),this.textureSpace==="local"&&v.scale(u,u),this.transform=v}buildGradient(){this.texture||this._tick++,this.type==="linear"?this.buildLinearGradient():this.buildRadialGradient()}buildRadialGradient(){if(this.texture)return;const e=this.colorStops.length?this.colorStops:zG,n=this._textureSize,{canvas:r,context:i}=jG(n,n),{x:s,y:o}=this.center,{x:a,y:l}=this.outerCenter,u=this.innerRadius,c=this.outerRadius,d=a-c,f=l-c,p=n/(c*2),m=(s-d)*p,v=(o-f)*p,y=i.createRadialGradient(m,v,u*p,(a-d)*p,(l-f)*p,c*p);OG(y,e),i.fillStyle=e[e.length-1].color,i.fillRect(0,0,n,n),i.fillStyle=y,i.translate(m,v),i.rotate(this.rotation),i.scale(1,this.scale),i.translate(-m,-v),i.fillRect(0,0,n,n),this.texture=new er({source:new Jx({resource:r,addressMode:this._wrapMode})});const A=new mi;A.scale(1/p,1/p),A.translate(d,f),this.textureSpace==="local"&&A.scale(n,n),this.transform=A}destroy(){this.texture?.destroy(!0),this.texture=null,this.transform=null,this.colorStops=[],this.start=null,this.end=null,this.center=null,this.outerCenter=null}get styleKey(){return`fill-gradient-${this.uid}-${this._tick}`}};Xz.defaultLinearOptions={start:{x:0,y:0},end:{x:0,y:1},colorStops:[],textureSpace:"local",type:"linear",textureSize:256,wrapMode:"clamp-to-edge"};Xz.defaultRadialOptions={center:{x:.5,y:.5},innerRadius:0,outerRadius:.5,colorStops:[],scale:1,textureSpace:"local",type:"radial",textureSize:256,wrapMode:"clamp-to-edge"};let V0=Xz;function OG(t,e){for(let n=0;n<e.length;n++){const r=e[n];t.addColorStop(r.offset,r.color)}}function jG(t,e){const n=hs.get().createCanvas(t,e),r=n.getContext("2d");return{canvas:n,context:r}}function bst(t){let e=t[0]??{};return(typeof e=="number"||t[1])&&(Pr("8.5.2","use options object instead"),e={type:"linear",start:{x:t[0],y:t[1]},end:{x:t[2],y:t[3]},textureSpace:t[4],textureSize:t[5]??V0.defaultLinearOptions.textureSize}),e}const QG={repeat:{addressModeU:"repeat",addressModeV:"repeat"},"repeat-x":{addressModeU:"repeat",addressModeV:"clamp-to-edge"},"repeat-y":{addressModeU:"clamp-to-edge",addressModeV:"repeat"},"no-repeat":{addressModeU:"clamp-to-edge",addressModeV:"clamp-to-edge"}};class yM{constructor(e,n){this.uid=qo("fillPattern"),this._tick=0,this.transform=new mi,this.texture=e,this.transform.scale(1/e.frame.width,1/e.frame.height),n&&(e.source.style.addressModeU=QG[n].addressModeU,e.source.style.addressModeV=QG[n].addressModeV)}setTransform(e){const n=this.texture;this.transform.copyFrom(e),this.transform.invert(),this.transform.scale(1/n.frame.width,1/n.frame.height),this._tick++}get texture(){return this._texture}set texture(e){this._texture!==e&&(this._texture=e,this._tick++)}get styleKey(){return`fill-pattern-${this.uid}-${this._tick}`}destroy(){this.texture.destroy(!0),this.texture=null}}var JR,UG;function xst(){if(UG)return JR;UG=1,JR=n;var t={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},e=/([astvzqmhlc])([^astvzqmhlc]*)/ig;function n(s){var o=[];return s.replace(e,function(a,l,u){var c=l.toLowerCase();for(u=i(u),c=="m"&&u.length>2&&(o.push([l].concat(u.splice(0,2))),c="l",l=l=="m"?"l":"L");;){if(u.length==t[c])return u.unshift(l),o.push(u);if(u.length<t[c])throw new Error("malformed path data");o.push([l].concat(u.splice(0,t[c])))}}),o}var r=/-?[0-9]*\.?[0-9]+(?:e[-+]?\d+)?/ig;function i(s){var o=s.match(r);return o?o.map(Number):[]}return JR}var Cst=xst();const Est=G0(Cst);function Sst(t,e){const n=Est(t),r=[];let i=null,s=0,o=0;for(let a=0;a<n.length;a++){const l=n[a],u=l[0],c=l;switch(u){case"M":s=c[1],o=c[2],e.moveTo(s,o);break;case"m":s+=c[1],o+=c[2],e.moveTo(s,o);break;case"H":s=c[1],e.lineTo(s,o);break;case"h":s+=c[1],e.lineTo(s,o);break;case"V":o=c[1],e.lineTo(s,o);break;case"v":o+=c[1],e.lineTo(s,o);break;case"L":s=c[1],o=c[2],e.lineTo(s,o);break;case"l":s+=c[1],o+=c[2],e.lineTo(s,o);break;case"C":s=c[5],o=c[6],e.bezierCurveTo(c[1],c[2],c[3],c[4],s,o);break;case"c":e.bezierCurveTo(s+c[1],o+c[2],s+c[3],o+c[4],s+c[5],o+c[6]),s+=c[5],o+=c[6];break;case"S":s=c[3],o=c[4],e.bezierCurveToShort(c[1],c[2],s,o);break;case"s":e.bezierCurveToShort(s+c[1],o+c[2],s+c[3],o+c[4]),s+=c[3],o+=c[4];break;case"Q":s=c[3],o=c[4],e.quadraticCurveTo(c[1],c[2],s,o);break;case"q":e.quadraticCurveTo(s+c[1],o+c[2],s+c[3],o+c[4]),s+=c[3],o+=c[4];break;case"T":s=c[1],o=c[2],e.quadraticCurveToShort(s,o);break;case"t":s+=c[1],o+=c[2],e.quadraticCurveToShort(s,o);break;case"A":s=c[6],o=c[7],e.arcToSvg(c[1],c[2],c[3],c[4],c[5],s,o);break;case"a":s+=c[6],o+=c[7],e.arcToSvg(c[1],c[2],c[3],c[4],c[5],s,o);break;case"Z":case"z":e.closePath(),r.length>0&&(i=r.pop(),i?(s=i.startX,o=i.startY):(s=0,o=0)),i=null;break;default:to(`Unknown SVG path command: ${u}`)}u!=="Z"&&u!=="z"&&i===null&&(i={startX:s,startY:o},r.push(i))}return e}class Jz{constructor(e=0,n=0,r=0){this.type="circle",this.x=e,this.y=n,this.radius=r}clone(){return new Jz(this.x,this.y,this.radius)}contains(e,n){if(this.radius<=0)return!1;const r=this.radius*this.radius;let i=this.x-e,s=this.y-n;return i*=i,s*=s,i+s<=r}strokeContains(e,n,r,i=.5){if(this.radius===0)return!1;const s=this.x-e,o=this.y-n,a=this.radius,l=(1-i)*r,u=Math.sqrt(s*s+o*o);return u<=a+l&&u>a-(r-l)}getBounds(e){return e||(e=new rs),e.x=this.x-this.radius,e.y=this.y-this.radius,e.width=this.radius*2,e.height=this.radius*2,e}copyFrom(e){return this.x=e.x,this.y=e.y,this.radius=e.radius,this}copyTo(e){return e.copyFrom(this),e}toString(){return`[pixi.js/math:Circle x=${this.x} y=${this.y} radius=${this.radius}]`}}class Zz{constructor(e=0,n=0,r=0,i=0){this.type="ellipse",this.x=e,this.y=n,this.halfWidth=r,this.halfHeight=i}clone(){return new Zz(this.x,this.y,this.halfWidth,this.halfHeight)}contains(e,n){if(this.halfWidth<=0||this.halfHeight<=0)return!1;let r=(e-this.x)/this.halfWidth,i=(n-this.y)/this.halfHeight;return r*=r,i*=i,r+i<=1}strokeContains(e,n,r,i=.5){const{halfWidth:s,halfHeight:o}=this;if(s<=0||o<=0)return!1;const a=r*(1-i),l=r-a,u=s-l,c=o-l,d=s+a,f=o+a,p=e-this.x,m=n-this.y,v=p*p/(u*u)+m*m/(c*c),y=p*p/(d*d)+m*m/(f*f);return v>1&&y<=1}getBounds(e){return e||(e=new rs),e.x=this.x-this.halfWidth,e.y=this.y-this.halfHeight,e.width=this.halfWidth*2,e.height=this.halfHeight*2,e}copyFrom(e){return this.x=e.x,this.y=e.y,this.halfWidth=e.halfWidth,this.halfHeight=e.halfHeight,this}copyTo(e){return e.copyFrom(this),e}toString(){return`[pixi.js/math:Ellipse x=${this.x} y=${this.y} halfWidth=${this.halfWidth} halfHeight=${this.halfHeight}]`}}function wst(t,e,n,r,i,s){const o=t-n,a=e-r,l=i-n,u=s-r,c=o*l+a*u,d=l*l+u*u;let f=-1;d!==0&&(f=c/d);let p,m;f<0?(p=n,m=r):f>1?(p=i,m=s):(p=n+f*l,m=r+f*u);const v=t-p,y=e-m;return v*v+y*y}let _st,Ist;class L_{constructor(...e){this.type="polygon";let n=Array.isArray(e[0])?e[0]:e;if(typeof n[0]!="number"){const r=[];for(let i=0,s=n.length;i<s;i++)r.push(n[i].x,n[i].y);n=r}this.points=n,this.closePath=!0}isClockwise(){let e=0;const n=this.points,r=n.length;for(let i=0;i<r;i+=2){const s=n[i],o=n[i+1],a=n[(i+2)%r],l=n[(i+3)%r];e+=(a-s)*(l+o)}return e<0}containsPolygon(e){const n=this.getBounds(_st),r=e.getBounds(Ist);if(!n.containsRect(r))return!1;const i=e.points;for(let s=0;s<i.length;s+=2){const o=i[s],a=i[s+1];if(!this.contains(o,a))return!1}return!0}clone(){const e=this.points.slice(),n=new L_(e);return n.closePath=this.closePath,n}contains(e,n){let r=!1;const i=this.points.length/2;for(let s=0,o=i-1;s<i;o=s++){const a=this.points[s*2],l=this.points[s*2+1],u=this.points[o*2],c=this.points[o*2+1];l>n!=c>n&&e<(u-a)*((n-l)/(c-l))+a&&(r=!r)}return r}strokeContains(e,n,r,i=.5){const s=r*r,o=s*(1-i),a=s-o,{points:l}=this,u=l.length-(this.closePath?0:2);for(let c=0;c<u;c+=2){const d=l[c],f=l[c+1],p=l[(c+2)%l.length],m=l[(c+3)%l.length],v=wst(e,n,d,f,p,m),y=Math.sign((p-d)*(n-f)-(m-f)*(e-d));if(v<=(y<0?a:o))return!0}return!1}getBounds(e){e||(e=new rs);const n=this.points;let r=1/0,i=-1/0,s=1/0,o=-1/0;for(let a=0,l=n.length;a<l;a+=2){const u=n[a],c=n[a+1];r=u<r?u:r,i=u>i?u:i,s=c<s?c:s,o=c>o?c:o}return e.x=r,e.width=i-r,e.y=s,e.height=o-s,e}copyFrom(e){return this.points=e.points.slice(),this.closePath=e.closePath,this}copyTo(e){return e.copyFrom(this),e}toString(){return`[pixi.js/math:PolygoncloseStroke=${this.closePath}points=${this.points.reduce((e,n)=>`${e}, ${n}`,"")}]`}get lastX(){return this.points[this.points.length-2]}get lastY(){return this.points[this.points.length-1]}get x(){return Pr("8.11.0","Polygon.lastX is deprecated, please use Polygon.lastX instead."),this.points[this.points.length-2]}get y(){return Pr("8.11.0","Polygon.y is deprecated, please use Polygon.lastY instead."),this.points[this.points.length-1]}get startX(){return this.points[0]}get startY(){return this.points[1]}}const eB=(t,e,n,r,i,s,o)=>{const a=t-n,l=e-r,u=Math.sqrt(a*a+l*l);return u>=i-s&&u<=i+o};class e7{constructor(e=0,n=0,r=0,i=0,s=20){this.type="roundedRectangle",this.x=e,this.y=n,this.width=r,this.height=i,this.radius=s}getBounds(e){return e||(e=new rs),e.x=this.x,e.y=this.y,e.width=this.width,e.height=this.height,e}clone(){return new e7(this.x,this.y,this.width,this.height,this.radius)}copyFrom(e){return this.x=e.x,this.y=e.y,this.width=e.width,this.height=e.height,this}copyTo(e){return e.copyFrom(this),e}contains(e,n){if(this.width<=0||this.height<=0)return!1;if(e>=this.x&&e<=this.x+this.width&&n>=this.y&&n<=this.y+this.height){const r=Math.max(0,Math.min(this.radius,Math.min(this.width,this.height)/2));if(n>=this.y+r&&n<=this.y+this.height-r||e>=this.x+r&&e<=this.x+this.width-r)return!0;let i=e-(this.x+r),s=n-(this.y+r);const o=r*r;if(i*i+s*s<=o||(i=e-(this.x+this.width-r),i*i+s*s<=o)||(s=n-(this.y+this.height-r),i*i+s*s<=o)||(i=e-(this.x+r),i*i+s*s<=o))return!0}return!1}strokeContains(e,n,r,i=.5){const{x:s,y:o,width:a,height:l,radius:u}=this,c=r*(1-i),d=r-c,f=s+u,p=o+u,m=a-u*2,v=l-u*2,y=s+a,A=o+l;return(e>=s-c&&e<=s+d||e>=y-d&&e<=y+c)&&n>=p&&n<=p+v||(n>=o-c&&n<=o+d||n>=A-d&&n<=A+c)&&e>=f&&e<=f+m?!0:e<f&&n<p&&eB(e,n,f,p,u,d,c)||e>y-u&&n<p&&eB(e,n,y-u,p,u,d,c)||e>y-u&&n>A-u&&eB(e,n,y-u,A-u,u,d,c)||e<f&&n>A-u&&eB(e,n,f,A-u,u,d,c)}toString(){return`[pixi.js/math:RoundedRectangle x=${this.x} y=${this.y}width=${this.width} height=${this.height} radius=${this.radius}]`}}const Wfe={};function Bst(t,e,n){let r=2166136261;for(let i=0;i<e;i++)r^=t[i].uid,r=Math.imul(r,16777619),r>>>=0;return Wfe[r]||Dst(t,e,r,n)}function Dst(t,e,n,r){const i={};let s=0;for(let a=0;a<r;a++){const l=a<e?t[a]:er.EMPTY.source;i[s++]=l.source,i[s++]=l.style}const o=new jB(i);return Wfe[n]=o,o}class HG{constructor(e){typeof e=="number"?this.rawBinaryData=new ArrayBuffer(e):e instanceof Uint8Array?this.rawBinaryData=e.buffer:this.rawBinaryData=e,this.uint32View=new Uint32Array(this.rawBinaryData),this.float32View=new Float32Array(this.rawBinaryData),this.size=this.rawBinaryData.byteLength}get int8View(){return this._int8View||(this._int8View=new Int8Array(this.rawBinaryData)),this._int8View}get uint8View(){return this._uint8View||(this._uint8View=new Uint8Array(this.rawBinaryData)),this._uint8View}get int16View(){return this._int16View||(this._int16View=new Int16Array(this.rawBinaryData)),this._int16View}get int32View(){return this._int32View||(this._int32View=new Int32Array(this.rawBinaryData)),this._int32View}get float64View(){return this._float64Array||(this._float64Array=new Float64Array(this.rawBinaryData)),this._float64Array}get bigUint64View(){return this._bigUint64Array||(this._bigUint64Array=new BigUint64Array(this.rawBinaryData)),this._bigUint64Array}view(e){return this[`${e}View`]}destroy(){this.rawBinaryData=null,this.uint32View=null,this.float32View=null,this.uint16View=null,this._int8View=null,this._uint8View=null,this._int16View=null,this._int32View=null,this._float64Array=null,this._bigUint64Array=null}static sizeOf(e){switch(e){case"int8":case"uint8":return 1;case"int16":case"uint16":return 2;case"int32":case"uint32":case"float32":return 4;default:throw new Error(`${e} isn't a valid view type`)}}}function VG(t,e){const n=t.byteLength/8|0,r=new Float64Array(t,0,n);new Float64Array(e,0,n).set(r);const s=t.byteLength-n*8;if(s>0){const o=new Uint8Array(t,n*8,s);new Uint8Array(e,n*8,s).set(o)}}const Tst={normal:"normal-npm",add:"add-npm",screen:"screen-npm"};var Mst=(t=>(t[t.DISABLED=0]="DISABLED",t[t.RENDERING_MASK_ADD=1]="RENDERING_MASK_ADD",t[t.MASK_ACTIVE=2]="MASK_ACTIVE",t[t.INVERSE_MASK_ACTIVE=3]="INVERSE_MASK_ACTIVE",t[t.RENDERING_MASK_REMOVE=4]="RENDERING_MASK_REMOVE",t[t.NONE=5]="NONE",t))(Mst||{});function GG(t,e){return e.alphaMode==="no-premultiply-alpha"&&Tst[t]||t}const kst=["precision mediump float;","void main(void){","float test = 0.1;","%forloop%","gl_FragColor = vec4(0.0);","}"].join(`
`);function Pst(t){let e="";for(let n=0;n<t;++n)n>0&&(e+=`
else `),n<t-1&&(e+=`if(test == ${n}.0){}`);return e}function Rst(t,e){if(t===0)throw new Error("Invalid value of `0` passed to `checkMaxIfStatementsInShader`");const n=e.createShader(e.FRAGMENT_SHADER);try{for(;;){const r=kst.replace(/%forloop%/gi,Pst(t));if(e.shaderSource(n,r),e.compileShader(n),!e.getShaderParameter(n,e.COMPILE_STATUS))t=t/2|0;else break}}finally{e.deleteShader(n)}return t}let M1=null;function Nst(){if(M1)return M1;const t=Bfe();return M1=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS),M1=Rst(M1,t),t.getExtension("WEBGL_lose_context")?.loseContext(),M1}class Lst{constructor(){this.ids=Object.create(null),this.textures=[],this.count=0}clear(){for(let e=0;e<this.count;e++){const n=this.textures[e];this.textures[e]=null,this.ids[n.uid]=null}this.count=0}}class Fst{constructor(){this.renderPipeId="batch",this.action="startBatch",this.start=0,this.size=0,this.textures=new Lst,this.blendMode="normal",this.topology="triangle-strip",this.canBundle=!0}destroy(){this.textures=null,this.gpuBindGroup=null,this.bindGroup=null,this.batcher=null}}const F_=[];let XD=0;w4.register({clear:()=>{if(F_.length>0)for(const t of F_)t&&t.destroy();F_.length=0,XD=0}});function KG(){return XD>0?F_[--XD]:new Fst}function WG(t){F_[XD++]=t}let ww=0;const qfe=class Yfe{constructor(e){this.uid=qo("batcher"),this.dirty=!0,this.batchIndex=0,this.batches=[],this._elements=[],e={...Yfe.defaultOptions,...e},e.maxTextures||(Pr("v8.8.0","maxTextures is a required option for Batcher now, please pass it in the options"),e.maxTextures=Nst());const{maxTextures:n,attributesInitialSize:r,indicesInitialSize:i}=e;this.attributeBuffer=new HG(r*4),this.indexBuffer=new Uint16Array(i),this.maxTextures=n}begin(){this.elementSize=0,this.elementStart=0,this.indexSize=0,this.attributeSize=0;for(let e=0;e<this.batchIndex;e++)WG(this.batches[e]);this.batchIndex=0,this._batchIndexStart=0,this._batchIndexSize=0,this.dirty=!0}add(e){this._elements[this.elementSize++]=e,e._indexStart=this.indexSize,e._attributeStart=this.attributeSize,e._batcher=this,this.indexSize+=e.indexSize,this.attributeSize+=e.attributeSize*this.vertexSize}checkAndUpdateTexture(e,n){const r=e._batch.textures.ids[n._source.uid];return!r&&r!==0?!1:(e._textureId=r,e.texture=n,!0)}updateElement(e){this.dirty=!0;const n=this.attributeBuffer;e.packAsQuad?this.packQuadAttributes(e,n.float32View,n.uint32View,e._attributeStart,e._textureId):this.packAttributes(e,n.float32View,n.uint32View,e._attributeStart,e._textureId)}break(e){const n=this._elements;if(!n[this.elementStart])return;let r=KG(),i=r.textures;i.clear();const s=n[this.elementStart];let o=GG(s.blendMode,s.texture._source),a=s.topology;this.attributeSize*4>this.attributeBuffer.size&&this._resizeAttributeBuffer(this.attributeSize*4),this.indexSize>this.indexBuffer.length&&this._resizeIndexBuffer(this.indexSize);const l=this.attributeBuffer.float32View,u=this.attributeBuffer.uint32View,c=this.indexBuffer;let d=this._batchIndexSize,f=this._batchIndexStart,p="startBatch";const m=this.maxTextures;for(let v=this.elementStart;v<this.elementSize;++v){const y=n[v];n[v]=null;const C=y.texture._source,E=GG(y.blendMode,C),I=o!==E||a!==y.topology;if(C._batchTick===ww&&!I){y._textureId=C._textureBindLocation,d+=y.indexSize,y.packAsQuad?(this.packQuadAttributes(y,l,u,y._attributeStart,y._textureId),this.packQuadIndex(c,y._indexStart,y._attributeStart/this.vertexSize)):(this.packAttributes(y,l,u,y._attributeStart,y._textureId),this.packIndex(y,c,y._indexStart,y._attributeStart/this.vertexSize)),y._batch=r;continue}C._batchTick=ww,(i.count>=m||I)&&(this._finishBatch(r,f,d-f,i,o,a,e,p),p="renderBatch",f=d,o=E,a=y.topology,r=KG(),i=r.textures,i.clear(),++ww),y._textureId=C._textureBindLocation=i.count,i.ids[C.uid]=i.count,i.textures[i.count++]=C,y._batch=r,d+=y.indexSize,y.packAsQuad?(this.packQuadAttributes(y,l,u,y._attributeStart,y._textureId),this.packQuadIndex(c,y._indexStart,y._attributeStart/this.vertexSize)):(this.packAttributes(y,l,u,y._attributeStart,y._textureId),this.packIndex(y,c,y._indexStart,y._attributeStart/this.vertexSize))}i.count>0&&(this._finishBatch(r,f,d-f,i,o,a,e,p),f=d,++ww),this.elementStart=this.elementSize,this._batchIndexStart=f,this._batchIndexSize=d}_finishBatch(e,n,r,i,s,o,a,l){e.gpuBindGroup=null,e.bindGroup=null,e.action=l,e.batcher=this,e.textures=i,e.blendMode=s,e.topology=o,e.start=n,e.size=r,++ww,this.batches[this.batchIndex++]=e,a.add(e)}finish(e){this.break(e)}ensureAttributeBuffer(e){e*4<=this.attributeBuffer.size||this._resizeAttributeBuffer(e*4)}ensureIndexBuffer(e){e<=this.indexBuffer.length||this._resizeIndexBuffer(e)}_resizeAttributeBuffer(e){const n=Math.max(e,this.attributeBuffer.size*2),r=new HG(n);VG(this.attributeBuffer.rawBinaryData,r.rawBinaryData),this.attributeBuffer=r}_resizeIndexBuffer(e){const n=this.indexBuffer;let r=Math.max(e,n.length*1.5);r+=r%2;const i=r>65535?new Uint32Array(r):new Uint16Array(r);if(i.BYTES_PER_ELEMENT!==n.BYTES_PER_ELEMENT)for(let s=0;s<n.length;s++)i[s]=n[s];else VG(n.buffer,i.buffer);this.indexBuffer=i}packQuadIndex(e,n,r){e[n]=r+0,e[n+1]=r+1,e[n+2]=r+2,e[n+3]=r+0,e[n+4]=r+2,e[n+5]=r+3}packIndex(e,n,r,i){const s=e.indices,o=e.indexSize,a=e.indexOffset,l=e.attributeOffset;for(let u=0;u<o;u++)n[r++]=i+s[u+a]-l}destroy(e={}){if(this.batches!==null){for(let n=0;n<this.batches.length;n++)WG(this.batches[n]);this.batches=null,this.geometry.destroy(!0),this.geometry=null,e.shader&&(this.shader?.destroy(),this.shader=null);for(let n=0;n<this._elements.length;n++)this._elements[n]&&(this._elements[n]._batch=null);this._elements=null,this.indexBuffer=null,this.attributeBuffer.destroy(),this.attributeBuffer=null}}};qfe.defaultOptions={maxTextures:null,attributesInitialSize:4,indicesInitialSize:6};let $st=qfe;var $a=(t=>(t[t.MAP_READ=1]="MAP_READ",t[t.MAP_WRITE=2]="MAP_WRITE",t[t.COPY_SRC=4]="COPY_SRC",t[t.COPY_DST=8]="COPY_DST",t[t.INDEX=16]="INDEX",t[t.VERTEX=32]="VERTEX",t[t.UNIFORM=64]="UNIFORM",t[t.STORAGE=128]="STORAGE",t[t.INDIRECT=256]="INDIRECT",t[t.QUERY_RESOLVE=512]="QUERY_RESOLVE",t[t.STATIC=1024]="STATIC",t))($a||{});let qy=class extends Yp{constructor(e){let{data:n,size:r}=e;const{usage:i,label:s,shrinkToFit:o}=e;super(),this.uid=qo("buffer"),this._resourceType="buffer",this._resourceId=qo("resource"),this._touched=0,this._updateID=1,this._dataInt32=null,this.shrinkToFit=!0,this.destroyed=!1,n instanceof Array&&(n=new Float32Array(n)),this._data=n,r??(r=n?.byteLength);const a=!!n;this.descriptor={size:r,usage:i,mappedAtCreation:a,label:s},this.shrinkToFit=o??!0}get data(){return this._data}set data(e){this.setDataWithSize(e,e.length,!0)}get dataInt32(){return this._dataInt32||(this._dataInt32=new Int32Array(this.data.buffer)),this._dataInt32}get static(){return!!(this.descriptor.usage&$a.STATIC)}set static(e){e?this.descriptor.usage|=$a.STATIC:this.descriptor.usage&=~$a.STATIC}setDataWithSize(e,n,r){if(this._updateID++,this._updateSize=n*e.BYTES_PER_ELEMENT,this._data===e){r&&this.emit("update",this);return}const i=this._data;if(this._data=e,this._dataInt32=null,!i||i.length!==e.length){!this.shrinkToFit&&i&&e.byteLength<i.byteLength?r&&this.emit("update",this):(this.descriptor.size=e.byteLength,this._resourceId=qo("resource"),this.emit("change",this));return}r&&this.emit("update",this)}update(e){this._updateSize=e??this._updateSize,this._updateID++,this.emit("update",this)}destroy(){this.destroyed=!0,this.emit("destroy",this),this.emit("change",this),this._data=null,this.descriptor=null,this.removeAllListeners()}};function Xfe(t,e){if(!(t instanceof qy)){let n=e?$a.INDEX:$a.VERTEX;t instanceof Array&&(e?(t=new Uint32Array(t),n=$a.INDEX|$a.COPY_DST):(t=new Float32Array(t),n=$a.VERTEX|$a.COPY_DST)),t=new qy({data:t,label:e?"index-mesh-buffer":"vertex-mesh-buffer",usage:n})}return t}function zst(t,e,n){const r=t.getAttribute(e);if(!r)return n.minX=0,n.minY=0,n.maxX=0,n.maxY=0,n;const i=r.buffer.data;let s=1/0,o=1/0,a=-1/0,l=-1/0;const u=i.BYTES_PER_ELEMENT,c=(r.offset||0)/u,d=(r.stride||8)/u;for(let f=c;f<i.length;f+=d){const p=i[f],m=i[f+1];p>a&&(a=p),m>l&&(l=m),p<s&&(s=p),m<o&&(o=m)}return n.minX=s,n.minY=o,n.maxX=a,n.maxY=l,n}function Ost(t){return(t instanceof qy||Array.isArray(t)||t.BYTES_PER_ELEMENT)&&(t={buffer:t}),t.buffer=Xfe(t.buffer,!1),t}class Jfe extends Yp{constructor(e={}){super(),this.uid=qo("geometry"),this._layoutKey=0,this.instanceCount=1,this._bounds=new Vp,this._boundsDirty=!0;const{attributes:n,indexBuffer:r,topology:i}=e;if(this.buffers=[],this.attributes={},n)for(const s in n)this.addAttribute(s,n[s]);this.instanceCount=e.instanceCount??1,r&&this.addIndex(r),this.topology=i||"triangle-list"}onBufferUpdate(){this._boundsDirty=!0,this.emit("update",this)}getAttribute(e){return this.attributes[e]}getIndex(){return this.indexBuffer}getBuffer(e){return this.getAttribute(e).buffer}getSize(){for(const e in this.attributes){const n=this.attributes[e];return n.buffer.data.length/(n.stride/4||n.size)}return 0}addAttribute(e,n){const r=Ost(n);this.buffers.indexOf(r.buffer)===-1&&(this.buffers.push(r.buffer),r.buffer.on("update",this.onBufferUpdate,this),r.buffer.on("change",this.onBufferUpdate,this)),this.attributes[e]=r}addIndex(e){this.indexBuffer=Xfe(e,!0),this.buffers.push(this.indexBuffer)}get bounds(){return this._boundsDirty?(this._boundsDirty=!1,zst(this,"aPosition",this._bounds)):this._bounds}destroy(e=!1){this.emit("destroy",this),this.removeAllListeners(),e&&this.buffers.forEach(n=>n.destroy()),this.indexBuffer?.destroy(),this.attributes=null,this.buffers=null,this.indexBuffer=null,this._bounds=null}}const jst=new Float32Array(1),Qst=new Uint32Array(1);class Ust extends Jfe{constructor(){const n=new qy({data:jst,label:"attribute-batch-buffer",usage:$a.VERTEX|$a.COPY_DST,shrinkToFit:!1}),r=new qy({data:Qst,label:"index-batch-buffer",usage:$a.INDEX|$a.COPY_DST,shrinkToFit:!1}),i=24;super({attributes:{aPosition:{buffer:n,format:"float32x2",stride:i,offset:0},aUV:{buffer:n,format:"float32x2",stride:i,offset:8},aColor:{buffer:n,format:"unorm8x4",stride:i,offset:16},aTextureIdAndRound:{buffer:n,format:"uint16x2",stride:i,offset:20}},indexBuffer:r})}}function qG(t,e,n){if(t)for(const r in t){const i=r.toLocaleLowerCase(),s=e[i];if(s){let o=t[r];r==="header"&&(o=o.replace(/@in\s+[^;]+;\s*/g,"").replace(/@out\s+[^;]+;\s*/g,"")),n&&s.push(`//----${n}----//`),s.push(o)}else to(`${r} placement hook does not exist in shader`)}}const Hst=/\{\{(.*?)\}\}/g;function YG(t){const e={};return(t.match(Hst)?.map(r=>r.replace(/[{()}]/g,""))??[]).forEach(r=>{e[r]=[]}),e}function XG(t,e){let n;const r=/@in\s+([^;]+);/g;for(;(n=r.exec(t))!==null;)e.push(n[1])}function JG(t,e,n=!1){const r=[];XG(e,r),t.forEach(a=>{a.header&&XG(a.header,r)});const i=r;n&&i.sort();const s=i.map((a,l)=>`       @location(${l}) ${a},`).join(`
`);let o=e.replace(/@in\s+[^;]+;\s*/g,"");return o=o.replace("{{in}}",`
${s}
`),o}function ZG(t,e){let n;const r=/@out\s+([^;]+);/g;for(;(n=r.exec(t))!==null;)e.push(n[1])}function Vst(t){const n=/\b(\w+)\s*:/g.exec(t);return n?n[1]:""}function Gst(t){const e=/@.*?\s+/g;return t.replace(e,"")}function Kst(t,e){const n=[];ZG(e,n),t.forEach(l=>{l.header&&ZG(l.header,n)});let r=0;const i=n.sort().map(l=>l.indexOf("builtin")>-1?l:`@location(${r++}) ${l}`).join(`,
`),s=n.sort().map(l=>`       var ${Gst(l)};`).join(`
`),o=`return VSOutput(
            ${n.sort().map(l=>` ${Vst(l)}`).join(`,
`)});`;let a=e.replace(/@out\s+[^;]+;\s*/g,"");return a=a.replace("{{struct}}",`
${i}
`),a=a.replace("{{start}}",`
${s}
`),a=a.replace("{{return}}",`
${o}
`),a}function eK(t,e){let n=t;for(const r in e){const i=e[r];i.join(`
`).length?n=n.replace(`{{${r}}}`,`//-----${r} START-----//
${i.join(`
`)}
//----${r} FINISH----//`):n=n.replace(`{{${r}}}`,"")}return n}const Oy=Object.create(null),ZR=new Map;let Wst=0;function qst({template:t,bits:e}){const n=Zfe(t,e);if(Oy[n])return Oy[n];const{vertex:r,fragment:i}=Xst(t,e);return Oy[n]=epe(r,i,e),Oy[n]}function Yst({template:t,bits:e}){const n=Zfe(t,e);return Oy[n]||(Oy[n]=epe(t.vertex,t.fragment,e)),Oy[n]}function Xst(t,e){const n=e.map(o=>o.vertex).filter(o=>!!o),r=e.map(o=>o.fragment).filter(o=>!!o);let i=JG(n,t.vertex,!0);i=Kst(n,i);const s=JG(r,t.fragment,!0);return{vertex:i,fragment:s}}function Zfe(t,e){return e.map(n=>(ZR.has(n)||ZR.set(n,Wst++),ZR.get(n))).sort((n,r)=>n-r).join("-")+t.vertex+t.fragment}function epe(t,e,n){const r=YG(t),i=YG(e);return n.forEach(s=>{qG(s.vertex,r,s.name),qG(s.fragment,i,s.name)}),{vertex:eK(t,r),fragment:eK(e,i)}}const Jst=`
    @in aPosition: vec2<f32>;
    @in aUV: vec2<f32>;

    @out @builtin(position) vPosition: vec4<f32>;
    @out vUV : vec2<f32>;
    @out vColor : vec4<f32>;

    {{header}}

    struct VSOutput {
        {{struct}}
    };

    @vertex
    fn main( {{in}} ) -> VSOutput {

        var worldTransformMatrix = globalUniforms.uWorldTransformMatrix;
        var modelMatrix = mat3x3<f32>(
            1.0, 0.0, 0.0,
            0.0, 1.0, 0.0,
            0.0, 0.0, 1.0
          );
        var position = aPosition;
        var uv = aUV;

        {{start}}

        vColor = vec4<f32>(1., 1., 1., 1.);

        {{main}}

        vUV = uv;

        var modelViewProjectionMatrix = globalUniforms.uProjectionMatrix * worldTransformMatrix * modelMatrix;

        vPosition =  vec4<f32>((modelViewProjectionMatrix *  vec3<f32>(position, 1.0)).xy, 0.0, 1.0);

        vColor *= globalUniforms.uWorldColorAlpha;

        {{end}}

        {{return}}
    };
`,Zst=`
    @in vUV : vec2<f32>;
    @in vColor : vec4<f32>;

    {{header}}

    @fragment
    fn main(
        {{in}}
      ) -> @location(0) vec4<f32> {

        {{start}}

        var outColor:vec4<f32>;

        {{main}}

        var finalColor:vec4<f32> = outColor * vColor;

        {{end}}

        return finalColor;
      };
`,eot=`
    in vec2 aPosition;
    in vec2 aUV;

    out vec4 vColor;
    out vec2 vUV;

    {{header}}

    void main(void){

        mat3 worldTransformMatrix = uWorldTransformMatrix;
        mat3 modelMatrix = mat3(
            1.0, 0.0, 0.0,
            0.0, 1.0, 0.0,
            0.0, 0.0, 1.0
          );
        vec2 position = aPosition;
        vec2 uv = aUV;

        {{start}}

        vColor = vec4(1.);

        {{main}}

        vUV = uv;

        mat3 modelViewProjectionMatrix = uProjectionMatrix * worldTransformMatrix * modelMatrix;

        gl_Position = vec4((modelViewProjectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);

        vColor *= uWorldColorAlpha;

        {{end}}
    }
`,tot=`

    in vec4 vColor;
    in vec2 vUV;

    out vec4 finalColor;

    {{header}}

    void main(void) {

        {{start}}

        vec4 outColor;

        {{main}}

        finalColor = outColor * vColor;

        {{end}}
    }
`,not={name:"global-uniforms-bit",vertex:{header:`
        struct GlobalUniforms {
            uProjectionMatrix:mat3x3<f32>,
            uWorldTransformMatrix:mat3x3<f32>,
            uWorldColorAlpha: vec4<f32>,
            uResolution: vec2<f32>,
        }

        @group(0) @binding(0) var<uniform> globalUniforms : GlobalUniforms;
        `}},rot={name:"global-uniforms-bit",vertex:{header:`
          uniform mat3 uProjectionMatrix;
          uniform mat3 uWorldTransformMatrix;
          uniform vec4 uWorldColorAlpha;
          uniform vec2 uResolution;
        `}};function iot({bits:t,name:e}){const n=qst({template:{fragment:Zst,vertex:Jst},bits:[not,...t]});return _4.from({name:e,vertex:{source:n.vertex,entryPoint:"main"},fragment:{source:n.fragment,entryPoint:"main"}})}function sot({bits:t,name:e}){return new Wz({name:e,...Yst({template:{vertex:eot,fragment:tot},bits:[rot,...t]})})}const oot={name:"color-bit",vertex:{header:`
            @in aColor: vec4<f32>;
        `,main:`
            vColor *= vec4<f32>(aColor.rgb * aColor.a, aColor.a);
        `}},aot={name:"color-bit",vertex:{header:`
            in vec4 aColor;
        `,main:`
            vColor *= vec4(aColor.rgb * aColor.a, aColor.a);
        `}},eN={};function lot(t){const e=[];if(t===1)e.push("@group(1) @binding(0) var textureSource1: texture_2d<f32>;"),e.push("@group(1) @binding(1) var textureSampler1: sampler;");else{let n=0;for(let r=0;r<t;r++)e.push(`@group(1) @binding(${n++}) var textureSource${r+1}: texture_2d<f32>;`),e.push(`@group(1) @binding(${n++}) var textureSampler${r+1}: sampler;`)}return e.join(`
`)}function uot(t){const e=[];if(t===1)e.push("outColor = textureSampleGrad(textureSource1, textureSampler1, vUV, uvDx, uvDy);");else{e.push("switch vTextureId {");for(let n=0;n<t;n++)n===t-1?e.push("  default:{"):e.push(`  case ${n}:{`),e.push(`      outColor = textureSampleGrad(textureSource${n+1}, textureSampler${n+1}, vUV, uvDx, uvDy);`),e.push("      break;}");e.push("}")}return e.join(`
`)}function cot(t){return eN[t]||(eN[t]={name:"texture-batch-bit",vertex:{header:`
                @in aTextureIdAndRound: vec2<u32>;
                @out @interpolate(flat) vTextureId : u32;
            `,main:`
                vTextureId = aTextureIdAndRound.y;
            `,end:`
                if(aTextureIdAndRound.x == 1)
                {
                    vPosition = vec4<f32>(roundPixels(vPosition.xy, globalUniforms.uResolution), vPosition.zw);
                }
            `},fragment:{header:`
                @in @interpolate(flat) vTextureId: u32;

                ${lot(t)}
            `,main:`
                var uvDx = dpdx(vUV);
                var uvDy = dpdy(vUV);

                ${uot(t)}
            `}}),eN[t]}const tN={};function dot(t){const e=[];for(let n=0;n<t;n++)n>0&&e.push("else"),n<t-1&&e.push(`if(vTextureId < ${n}.5)`),e.push("{"),e.push(`	outColor = texture(uTextures[${n}], vUV);`),e.push("}");return e.join(`
`)}function hot(t){return tN[t]||(tN[t]={name:"texture-batch-bit",vertex:{header:`
                in vec2 aTextureIdAndRound;
                out float vTextureId;

            `,main:`
                vTextureId = aTextureIdAndRound.y;
            `,end:`
                if(aTextureIdAndRound.x == 1.)
                {
                    gl_Position.xy = roundPixels(gl_Position.xy, uResolution);
                }
            `},fragment:{header:`
                in float vTextureId;

                uniform sampler2D uTextures[${t}];

            `,main:`

                ${dot(t)}
            `}}),tN[t]}const fot={name:"round-pixels-bit",vertex:{header:`
            fn roundPixels(position: vec2<f32>, targetSize: vec2<f32>) -> vec2<f32>
            {
                return (floor(((position * 0.5 + 0.5) * targetSize) + 0.5) / targetSize) * 2.0 - 1.0;
            }
        `}},pot={name:"round-pixels-bit",vertex:{header:`
            vec2 roundPixels(vec2 position, vec2 targetSize)
            {
                return (floor(((position * 0.5 + 0.5) * targetSize) + 0.5) / targetSize) * 2.0 - 1.0;
            }
        `}},tK={};function got(t){let e=tK[t];if(e)return e;const n=new Int32Array(t);for(let r=0;r<t;r++)n[r]=r;return e=tK[t]=new Pfe({uTextures:{value:n,type:"i32",size:t}},{isStatic:!0}),e}class nK extends AM{constructor(e){const n=sot({name:"batch",bits:[aot,hot(e),pot]}),r=iot({name:"batch",bits:[oot,cot(e),fot]});super({glProgram:n,gpuProgram:r,resources:{batchSamplers:got(e)}}),this.maxTextures=e}}let _w=null;const tpe=class npe extends $st{constructor(e){super(e),this.geometry=new Ust,this.name=npe.extension.name,this.vertexSize=6,_w??(_w=new nK(e.maxTextures)),this.shader=_w}packAttributes(e,n,r,i,s){const o=s<<16|e.roundPixels&65535,a=e.transform,l=a.a,u=a.b,c=a.c,d=a.d,f=a.tx,p=a.ty,{positions:m,uvs:v}=e,y=e.color,A=e.attributeOffset,C=A+e.attributeSize;for(let E=A;E<C;E++){const I=E*2,D=m[I],T=m[I+1];n[i++]=l*D+c*T+f,n[i++]=d*T+u*D+p,n[i++]=v[I],n[i++]=v[I+1],r[i++]=y,r[i++]=o}}packQuadAttributes(e,n,r,i,s){const o=e.texture,a=e.transform,l=a.a,u=a.b,c=a.c,d=a.d,f=a.tx,p=a.ty,m=e.bounds,v=m.maxX,y=m.minX,A=m.maxY,C=m.minY,E=o.uvs,I=e.color,D=s<<16|e.roundPixels&65535;n[i+0]=l*y+c*C+f,n[i+1]=d*C+u*y+p,n[i+2]=E.x0,n[i+3]=E.y0,r[i+4]=I,r[i+5]=D,n[i+6]=l*v+c*C+f,n[i+7]=d*C+u*v+p,n[i+8]=E.x1,n[i+9]=E.y1,r[i+10]=I,r[i+11]=D,n[i+12]=l*v+c*A+f,n[i+13]=d*A+u*v+p,n[i+14]=E.x2,n[i+15]=E.y2,r[i+16]=I,r[i+17]=D,n[i+18]=l*y+c*A+f,n[i+19]=d*A+u*y+p,n[i+20]=E.x3,n[i+21]=E.y3,r[i+22]=I,r[i+23]=D}_updateMaxTextures(e){this.shader.maxTextures!==e&&(_w=new nK(e),this.shader=_w)}destroy(){this.shader=null,super.destroy()}};tpe.extension={type:[Qn.Batcher],name:"default"};let mot=tpe;function Aot(t,e,n,r,i,s,o,a=null){let l=0;n*=e,i*=s;const u=a.a,c=a.b,d=a.c,f=a.d,p=a.tx,m=a.ty;for(;l<o;){const v=t[n],y=t[n+1];r[i]=u*v+d*y+p,r[i+1]=c*v+f*y+m,i+=s,n+=e,l++}}function yot(t,e,n,r){let i=0;for(e*=n;i<r;)t[e]=0,t[e+1]=0,e+=n,i++}function rpe(t,e,n,r,i){const s=e.a,o=e.b,a=e.c,l=e.d,u=e.tx,c=e.ty;n||(n=0),r||(r=2),i||(i=t.length/r-n);let d=n*r;for(let f=0;f<i;f++){const p=t[d],m=t[d+1];t[d]=s*p+a*m+u,t[d+1]=o*p+l*m+c,d+=r}}const vot=new mi;class ipe{constructor(){this.packAsQuad=!1,this.batcherName="default",this.topology="triangle-list",this.applyTransform=!0,this.roundPixels=0,this._batcher=null,this._batch=null}get uvs(){return this.geometryData.uvs}get positions(){return this.geometryData.vertices}get indices(){return this.geometryData.indices}get blendMode(){return this.renderable&&this.applyTransform?this.renderable.groupBlendMode:"normal"}get color(){const e=this.baseColor,n=e>>16|e&65280|(e&255)<<16,r=this.renderable;return r?ufe(n,r.groupColor)+(this.alpha*r.groupAlpha*255<<24):n+(this.alpha*255<<24)}get transform(){return this.renderable?.groupTransform||vot}copyTo(e){e.indexOffset=this.indexOffset,e.indexSize=this.indexSize,e.attributeOffset=this.attributeOffset,e.attributeSize=this.attributeSize,e.baseColor=this.baseColor,e.alpha=this.alpha,e.texture=this.texture,e.geometryData=this.geometryData,e.topology=this.topology}reset(){this.applyTransform=!0,this.renderable=null,this.topology="triangle-list"}destroy(){this.renderable=null,this.texture=null,this.geometryData=null,this._batcher=null,this._batch=null}}const k3={extension:{type:Qn.ShapeBuilder,name:"circle"},build(t,e){let n,r,i,s,o,a;if(t.type==="circle"){const I=t;if(o=a=I.radius,o<=0)return!1;n=I.x,r=I.y,i=s=0}else if(t.type==="ellipse"){const I=t;if(o=I.halfWidth,a=I.halfHeight,o<=0||a<=0)return!1;n=I.x,r=I.y,i=s=0}else{const I=t,D=I.width/2,T=I.height/2;n=I.x+D,r=I.y+T,o=a=Math.max(0,Math.min(I.radius,Math.min(D,T))),i=D-o,s=T-a}if(i<0||s<0)return!1;const l=Math.ceil(2.3*Math.sqrt(o+a)),u=l*8+(i?4:0)+(s?4:0);if(u===0)return!1;if(l===0)return e[0]=e[6]=n+i,e[1]=e[3]=r+s,e[2]=e[4]=n-i,e[5]=e[7]=r-s,!0;let c=0,d=l*4+(i?2:0)+2,f=d,p=u,m=i+o,v=s,y=n+m,A=n-m,C=r+v;if(e[c++]=y,e[c++]=C,e[--d]=C,e[--d]=A,s){const I=r-v;e[f++]=A,e[f++]=I,e[--p]=I,e[--p]=y}for(let I=1;I<l;I++){const D=Math.PI/2*(I/l),T=i+Math.cos(D)*o,M=s+Math.sin(D)*a,P=n+T,k=n-T,L=r+M,$=r-M;e[c++]=P,e[c++]=L,e[--d]=L,e[--d]=k,e[f++]=k,e[f++]=$,e[--p]=$,e[--p]=P}m=i,v=s+a,y=n+m,A=n-m,C=r+v;const E=r-v;return e[c++]=y,e[c++]=C,e[--p]=E,e[--p]=y,i&&(e[c++]=A,e[c++]=C,e[--p]=E,e[--p]=A),!0},triangulate(t,e,n,r,i,s){if(t.length===0)return;let o=0,a=0;for(let c=0;c<t.length;c+=2)o+=t[c],a+=t[c+1];o/=t.length/2,a/=t.length/2;let l=r;e[l*n]=o,e[l*n+1]=a;const u=l++;for(let c=0;c<t.length;c+=2)e[l*n]=t[c],e[l*n+1]=t[c+1],c>0&&(i[s++]=l,i[s++]=u,i[s++]=l-1),l++;i[s++]=u+1,i[s++]=u,i[s++]=l-1}},bot={...k3,extension:{...k3.extension,name:"ellipse"}},xot={...k3,extension:{...k3.extension,name:"roundedRectangle"}},spe=1e-4,rK=1e-4;function Cot(t){const e=t.length;if(e<6)return 1;let n=0;for(let r=0,i=t[e-2],s=t[e-1];r<e;r+=2){const o=t[r],a=t[r+1];n+=(o-i)*(a+s),i=o,s=a}return n<0?-1:1}function iK(t,e,n,r,i,s,o,a){const l=t-n*i,u=e-r*i,c=t+n*s,d=e+r*s;let f,p;o?(f=r,p=-n):(f=-r,p=n);const m=l+f,v=u+p,y=c+f,A=d+p;return a.push(m,v),a.push(y,A),2}function $b(t,e,n,r,i,s,o,a){const l=n-t,u=r-e;let c=Math.atan2(l,u),d=Math.atan2(i-t,s-e);a&&c<d?c+=Math.PI*2:!a&&c>d&&(d+=Math.PI*2);let f=c;const p=d-c,m=Math.abs(p),v=Math.sqrt(l*l+u*u),y=(15*m*Math.sqrt(v)/Math.PI>>0)+1,A=p/y;if(f+=A,a){o.push(t,e),o.push(n,r);for(let C=1,E=f;C<y;C++,E+=A)o.push(t,e),o.push(t+Math.sin(E)*v,e+Math.cos(E)*v);o.push(t,e),o.push(i,s)}else{o.push(n,r),o.push(t,e);for(let C=1,E=f;C<y;C++,E+=A)o.push(t+Math.sin(E)*v,e+Math.cos(E)*v),o.push(t,e);o.push(i,s),o.push(t,e)}return y*2}function Eot(t,e,n,r,i,s){const o=spe;if(t.length===0)return;const a=e;let l=a.alignment;if(e.alignment!==.5){let J=Cot(t);l=(l-.5)*J+.5}const u=new oa(t[0],t[1]),c=new oa(t[t.length-2],t[t.length-1]),d=r,f=Math.abs(u.x-c.x)<o&&Math.abs(u.y-c.y)<o;if(d){t=t.slice(),f&&(t.pop(),t.pop(),c.set(t[t.length-2],t[t.length-1]));const J=(u.x+c.x)*.5,te=(c.y+u.y)*.5;t.unshift(J,te),t.push(J,te)}const p=i,m=t.length/2;let v=t.length;const y=p.length/2,A=a.width/2,C=A*A,E=a.miterLimit*a.miterLimit;let I=t[0],D=t[1],T=t[2],M=t[3],P=0,k=0,L=-(D-M),$=I-T,z=0,j=0,H=Math.sqrt(L*L+$*$);L/=H,$/=H,L*=A,$*=A;const W=l,O=(1-W)*2,G=W*2;d||(a.cap==="round"?v+=$b(I-L*(O-G)*.5,D-$*(O-G)*.5,I-L*O,D-$*O,I+L*G,D+$*G,p,!0)+2:a.cap==="square"&&(v+=iK(I,D,L,$,O,G,!0,p))),p.push(I-L*O,D-$*O),p.push(I+L*G,D+$*G);for(let J=1;J<m-1;++J){I=t[(J-1)*2],D=t[(J-1)*2+1],T=t[J*2],M=t[J*2+1],P=t[(J+1)*2],k=t[(J+1)*2+1],L=-(D-M),$=I-T,H=Math.sqrt(L*L+$*$),L/=H,$/=H,L*=A,$*=A,z=-(M-k),j=T-P,H=Math.sqrt(z*z+j*j),z/=H,j/=H,z*=A,j*=A;const te=T-I,Y=D-M,Z=T-P,ee=k-M,ie=te*Z+Y*ee,ue=Y*Z-ee*te,ae=ue<0;if(Math.abs(ue)<.001*Math.abs(ie)){p.push(T-L*O,M-$*O),p.push(T+L*G,M+$*G),ie>=0&&(a.join==="round"?v+=$b(T,M,T-L*O,M-$*O,T-z*O,M-j*O,p,!1)+4:v+=2,p.push(T-z*G,M-j*G),p.push(T+z*O,M+j*O));continue}const de=(-L+I)*(-$+M)-(-L+T)*(-$+D),ge=(-z+P)*(-j+M)-(-z+T)*(-j+k),_e=(te*ge-Z*de)/ue,we=(ee*de-Y*ge)/ue,ke=(_e-T)*(_e-T)+(we-M)*(we-M),Fe=T+(_e-T)*O,Ee=M+(we-M)*O,Me=T-(_e-T)*G,Ue=M-(we-M)*G,Ge=Math.min(te*te+Y*Y,Z*Z+ee*ee),ut=ae?O:G,ve=Ge+ut*ut*C;ke<=ve?a.join==="bevel"||ke/C>E?(ae?(p.push(Fe,Ee),p.push(T+L*G,M+$*G),p.push(Fe,Ee),p.push(T+z*G,M+j*G)):(p.push(T-L*O,M-$*O),p.push(Me,Ue),p.push(T-z*O,M-j*O),p.push(Me,Ue)),v+=2):a.join==="round"?ae?(p.push(Fe,Ee),p.push(T+L*G,M+$*G),v+=$b(T,M,T+L*G,M+$*G,T+z*G,M+j*G,p,!0)+4,p.push(Fe,Ee),p.push(T+z*G,M+j*G)):(p.push(T-L*O,M-$*O),p.push(Me,Ue),v+=$b(T,M,T-L*O,M-$*O,T-z*O,M-j*O,p,!1)+4,p.push(T-z*O,M-j*O),p.push(Me,Ue)):(p.push(Fe,Ee),p.push(Me,Ue)):(p.push(T-L*O,M-$*O),p.push(T+L*G,M+$*G),a.join==="round"?ae?v+=$b(T,M,T+L*G,M+$*G,T+z*G,M+j*G,p,!0)+2:v+=$b(T,M,T-L*O,M-$*O,T-z*O,M-j*O,p,!1)+2:a.join==="miter"&&ke/C<=E&&(ae?(p.push(Me,Ue),p.push(Me,Ue)):(p.push(Fe,Ee),p.push(Fe,Ee)),v+=2),p.push(T-z*O,M-j*O),p.push(T+z*G,M+j*G),v+=2)}I=t[(m-2)*2],D=t[(m-2)*2+1],T=t[(m-1)*2],M=t[(m-1)*2+1],L=-(D-M),$=I-T,H=Math.sqrt(L*L+$*$),L/=H,$/=H,L*=A,$*=A,p.push(T-L*O,M-$*O),p.push(T+L*G,M+$*G),d||(a.cap==="round"?v+=$b(T-L*(O-G)*.5,M-$*(O-G)*.5,T-L*O,M-$*O,T+L*G,M+$*G,p,!1)+2:a.cap==="square"&&(v+=iK(T,M,L,$,O,G,!1,p)));const q=rK*rK;for(let J=y;J<v+y-2;++J)I=p[J*2],D=p[J*2+1],T=p[(J+1)*2],M=p[(J+1)*2+1],P=p[(J+2)*2],k=p[(J+2)*2+1],!(Math.abs(I*(M-k)+T*(k-D)+P*(D-M))<q)&&s.push(J,J+1,J+2)}function Sot(t,e,n,r){const i=spe;if(t.length===0)return;const s=t[0],o=t[1],a=t[t.length-2],l=t[t.length-1],u=e||Math.abs(s-a)<i&&Math.abs(o-l)<i,c=n,d=t.length/2,f=c.length/2;for(let p=0;p<d;p++)c.push(t[p*2]),c.push(t[p*2+1]);for(let p=0;p<d-1;p++)r.push(f+p,f+p+1);u&&r.push(f+d-1,f)}function ope(t,e,n,r,i,s,o){const a=dst(t,e,2);if(!a)return;for(let u=0;u<a.length;u+=3)s[o++]=a[u]+i,s[o++]=a[u+1]+i,s[o++]=a[u+2]+i;let l=i*r;for(let u=0;u<t.length;u+=2)n[l]=t[u],n[l+1]=t[u+1],l+=r}const wot=[],_ot={extension:{type:Qn.ShapeBuilder,name:"polygon"},build(t,e){for(let n=0;n<t.points.length;n++)e[n]=t.points[n];return!0},triangulate(t,e,n,r,i,s){ope(t,wot,e,n,r,i,s)}},Iot={extension:{type:Qn.ShapeBuilder,name:"rectangle"},build(t,e){const n=t,r=n.x,i=n.y,s=n.width,o=n.height;return s>0&&o>0?(e[0]=r,e[1]=i,e[2]=r+s,e[3]=i,e[4]=r+s,e[5]=i+o,e[6]=r,e[7]=i+o,!0):!1},triangulate(t,e,n,r,i,s){let o=0;r*=n,e[r+o]=t[0],e[r+o+1]=t[1],o+=n,e[r+o]=t[2],e[r+o+1]=t[3],o+=n,e[r+o]=t[6],e[r+o+1]=t[7],o+=n,e[r+o]=t[4],e[r+o+1]=t[5],o+=n;const a=r/n;i[s++]=a,i[s++]=a+1,i[s++]=a+2,i[s++]=a+1,i[s++]=a+3,i[s++]=a+2}},Bot={extension:{type:Qn.ShapeBuilder,name:"triangle"},build(t,e){return e[0]=t.x,e[1]=t.y,e[2]=t.x2,e[3]=t.y2,e[4]=t.x3,e[5]=t.y3,!0},triangulate(t,e,n,r,i,s){let o=0;r*=n,e[r+o]=t[0],e[r+o+1]=t[1],o+=n,e[r+o]=t[2],e[r+o+1]=t[3],o+=n,e[r+o]=t[4],e[r+o+1]=t[5];const a=r/n;i[s++]=a,i[s++]=a+1,i[s++]=a+2}},Dot=new mi,Tot=new rs;function Mot(t,e,n,r){const i=e.matrix?t.copyFrom(e.matrix).invert():t.identity();if(e.textureSpace==="local"){const o=n.getBounds(Tot);e.width&&o.pad(e.width);const{x:a,y:l}=o,u=1/o.width,c=1/o.height,d=-a*u,f=-l*c,p=i.a,m=i.b,v=i.c,y=i.d;i.a*=u,i.b*=u,i.c*=c,i.d*=c,i.tx=d*p+f*v+i.tx,i.ty=d*m+f*y+i.ty}else i.translate(e.texture.frame.x,e.texture.frame.y),i.scale(1/e.texture.source.width,1/e.texture.source.height);const s=e.texture.source.style;return!(e.fill instanceof V0)&&s.addressMode==="clamp-to-edge"&&(s.addressMode="repeat",s.update()),r&&i.append(Dot.copyFrom(r).invert()),i}const vM={};mo.handleByMap(Qn.ShapeBuilder,vM);mo.add(Iot,_ot,Bot,k3,bot,xot);const kot=new rs,Pot=new mi;function Rot(t,e){const{geometryData:n,batches:r}=e;r.length=0,n.indices.length=0,n.vertices.length=0,n.uvs.length=0;for(let i=0;i<t.instructions.length;i++){const s=t.instructions[i];if(s.action==="texture")Not(s.data,r,n);else if(s.action==="fill"||s.action==="stroke"){const o=s.action==="stroke",a=s.data.path.shapePath,l=s.data.style,u=s.data.hole;o&&u&&sK(u.shapePath,l,!0,r,n),u&&(a.shapePrimitives[a.shapePrimitives.length-1].holes=u.shapePath.shapePrimitives),sK(a,l,o,r,n)}}}function Not(t,e,n){const r=[],i=vM.rectangle,s=kot;s.x=t.dx,s.y=t.dy,s.width=t.dw,s.height=t.dh;const o=t.transform;if(!i.build(s,r))return;const{vertices:a,uvs:l,indices:u}=n,c=u.length,d=a.length/2;o&&rpe(r,o),i.triangulate(r,a,2,d,u,c);const f=t.image,p=f.uvs;l.push(p.x0,p.y0,p.x1,p.y1,p.x3,p.y3,p.x2,p.y2);const m=Af.get(ipe);m.indexOffset=c,m.indexSize=u.length-c,m.attributeOffset=d,m.attributeSize=a.length/2-d,m.baseColor=t.style,m.alpha=t.alpha,m.texture=f,m.geometryData=n,e.push(m)}function sK(t,e,n,r,i){const{vertices:s,uvs:o,indices:a}=i;t.shapePrimitives.forEach(({shape:l,transform:u,holes:c})=>{const d=[],f=vM[l.type];if(!f.build(l,d))return;const p=a.length,m=s.length/2;let v="triangle-list";if(u&&rpe(d,u),n){const E=l.closePath??!0,I=e;I.pixelLine?(Sot(d,E,s,a),v="line-list"):Eot(d,I,!1,E,s,a)}else if(c){const E=[],I=d.slice();Lot(c).forEach(T=>{E.push(I.length/2),I.push(...T)}),ope(I,E,s,2,m,a,p)}else f.triangulate(d,s,2,m,a,p);const y=o.length/2,A=e.texture;if(A!==er.WHITE){const E=Mot(Pot,e,l,u);Aot(s,2,m,o,y,2,s.length/2-m,E)}else yot(o,y,2,s.length/2-m);const C=Af.get(ipe);C.indexOffset=p,C.indexSize=a.length-p,C.attributeOffset=m,C.attributeSize=s.length/2-m,C.baseColor=e.color,C.alpha=e.alpha,C.texture=A,C.geometryData=i,C.topology=v,r.push(C)})}function Lot(t){const e=[];for(let n=0;n<t.length;n++){const r=t[n].shape,i=[];vM[r.type].build(r,i)&&e.push(i)}return e}class Fot{constructor(){this.batches=[],this.geometryData={vertices:[],uvs:[],indices:[]}}}class $ot{constructor(){this.instructions=new ffe}init(e){const n=e.maxTextures;this.batcher?this.batcher._updateMaxTextures(n):this.batcher=new mot({maxTextures:n}),this.instructions.reset()}get geometry(){return Pr(krt,"GraphicsContextRenderData#geometry is deprecated, please use batcher.geometry instead."),this.batcher.geometry}destroy(){this.batcher.destroy(),this.instructions.destroy(),this.batcher=null,this.instructions=null}}const t7=class HL{constructor(e){this._gpuContextHash={},this._graphicsDataContextHash=Object.create(null),this._renderer=e,e.renderableGC.addManagedHash(this,"_gpuContextHash"),e.renderableGC.addManagedHash(this,"_graphicsDataContextHash")}init(e){HL.defaultOptions.bezierSmoothness=e?.bezierSmoothness??HL.defaultOptions.bezierSmoothness}getContextRenderData(e){return this._graphicsDataContextHash[e.uid]||this._initContextRenderData(e)}updateGpuContext(e){let n=this._gpuContextHash[e.uid]||this._initContext(e);if(e.dirty){n?this._cleanGraphicsContextData(e):n=this._initContext(e),Rot(e,n);const r=e.batchMode;e.customShader||r==="no-batch"?n.isBatchable=!1:r==="auto"?n.isBatchable=n.geometryData.vertices.length<400:n.isBatchable=!0,e.dirty=!1}return n}getGpuContext(e){return this._gpuContextHash[e.uid]||this._initContext(e)}_initContextRenderData(e){const n=Af.get($ot,{maxTextures:this._renderer.limits.maxBatchableTextures}),{batches:r,geometryData:i}=this._gpuContextHash[e.uid],s=i.vertices.length,o=i.indices.length;for(let c=0;c<r.length;c++)r[c].applyTransform=!1;const a=n.batcher;a.ensureAttributeBuffer(s),a.ensureIndexBuffer(o),a.begin();for(let c=0;c<r.length;c++){const d=r[c];a.add(d)}a.finish(n.instructions);const l=a.geometry;l.indexBuffer.setDataWithSize(a.indexBuffer,a.indexSize,!0),l.buffers[0].setDataWithSize(a.attributeBuffer.float32View,a.attributeSize,!0);const u=a.batches;for(let c=0;c<u.length;c++){const d=u[c];d.bindGroup=Bst(d.textures.textures,d.textures.count,this._renderer.limits.maxBatchableTextures)}return this._graphicsDataContextHash[e.uid]=n,n}_initContext(e){const n=new Fot;return n.context=e,this._gpuContextHash[e.uid]=n,e.on("destroy",this.onGraphicsContextDestroy,this),this._gpuContextHash[e.uid]}onGraphicsContextDestroy(e){this._cleanGraphicsContextData(e),e.off("destroy",this.onGraphicsContextDestroy,this),this._gpuContextHash[e.uid]=null}_cleanGraphicsContextData(e){const n=this._gpuContextHash[e.uid];n.isBatchable||this._graphicsDataContextHash[e.uid]&&(Af.return(this.getContextRenderData(e)),this._graphicsDataContextHash[e.uid]=null),n.batches&&n.batches.forEach(r=>{Af.return(r)})}destroy(){for(const e in this._gpuContextHash)this._gpuContextHash[e]&&this.onGraphicsContextDestroy(this._gpuContextHash[e].context);this._gpuContextHash={},this._graphicsDataContextHash={},this._renderer=null}};t7.extension={type:[Qn.WebGLSystem,Qn.WebGPUSystem,Qn.CanvasSystem],name:"graphicsContext"};t7.defaultOptions={bezierSmoothness:.5};let ape=t7;const zot=8,tB=11920929e-14,Oot=1;function lpe(t,e,n,r,i,s,o,a,l,u){const d=Math.min(.99,Math.max(0,u??ape.defaultOptions.bezierSmoothness));let f=(Oot-d)/1;return f*=f,jot(e,n,r,i,s,o,a,l,t,f),t}function jot(t,e,n,r,i,s,o,a,l,u){VL(t,e,n,r,i,s,o,a,l,u,0),l.push(o,a)}function VL(t,e,n,r,i,s,o,a,l,u,c){if(c>zot)return;const d=(t+n)/2,f=(e+r)/2,p=(n+i)/2,m=(r+s)/2,v=(i+o)/2,y=(s+a)/2,A=(d+p)/2,C=(f+m)/2,E=(p+v)/2,I=(m+y)/2,D=(A+E)/2,T=(C+I)/2;if(c>0){let M=o-t,P=a-e;const k=Math.abs((n-o)*P-(r-a)*M),L=Math.abs((i-o)*P-(s-a)*M);if(k>tB&&L>tB){if((k+L)*(k+L)<=u*(M*M+P*P)){l.push(D,T);return}}else if(k>tB){if(k*k<=u*(M*M+P*P)){l.push(D,T);return}}else if(L>tB){if(L*L<=u*(M*M+P*P)){l.push(D,T);return}}else if(M=D-(t+o)/2,P=T-(e+a)/2,M*M+P*P<=u){l.push(D,T);return}}VL(t,e,d,f,A,C,D,T,l,u,c+1),VL(D,T,E,I,v,y,o,a,l,u,c+1)}const Qot=8,Uot=11920929e-14,Hot=1;function Vot(t,e,n,r,i,s,o,a){const u=Math.min(.99,Math.max(0,a??ape.defaultOptions.bezierSmoothness));let c=(Hot-u)/1;return c*=c,Got(e,n,r,i,s,o,t,c),t}function Got(t,e,n,r,i,s,o,a){GL(o,t,e,n,r,i,s,a,0),o.push(i,s)}function GL(t,e,n,r,i,s,o,a,l){if(l>Qot)return;const u=(e+r)/2,c=(n+i)/2,d=(r+s)/2,f=(i+o)/2,p=(u+d)/2,m=(c+f)/2;let v=s-e,y=o-n;const A=Math.abs((r-s)*y-(i-o)*v);if(A>Uot){if(A*A<=a*(v*v+y*y)){t.push(p,m);return}}else if(v=p-(e+s)/2,y=m-(n+o)/2,v*v+y*y<=a){t.push(p,m);return}GL(t,e,n,u,c,p,m,a,l+1),GL(t,p,m,d,f,s,o,a,l+1)}function upe(t,e,n,r,i,s,o,a){let l=Math.abs(i-s);(!o&&i>s||o&&s>i)&&(l=2*Math.PI-l),a||(a=Math.max(6,Math.floor(6*Math.pow(r,1/3)*(l/Math.PI)))),a=Math.max(a,3);let u=l/a,c=i;u*=o?-1:1;for(let d=0;d<a+1;d++){const f=Math.cos(c),p=Math.sin(c),m=e+f*r,v=n+p*r;t.push(m,v),c+=u}}function Kot(t,e,n,r,i,s){const o=t[t.length-2],l=t[t.length-1]-n,u=o-e,c=i-n,d=r-e,f=Math.abs(l*d-u*c);if(f<1e-8||s===0){(t[t.length-2]!==e||t[t.length-1]!==n)&&t.push(e,n);return}const p=l*l+u*u,m=c*c+d*d,v=l*c+u*d,y=s*Math.sqrt(p)/f,A=s*Math.sqrt(m)/f,C=y*v/p,E=A*v/m,I=y*d+A*u,D=y*c+A*l,T=u*(A+C),M=l*(A+C),P=d*(y+E),k=c*(y+E),L=Math.atan2(M-D,T-I),$=Math.atan2(k-D,P-I);upe(t,I+e,D+n,s,L,$,u*c>d*l)}const $_=Math.PI*2,nN={centerX:0,centerY:0,ang1:0,ang2:0},rN=({x:t,y:e},n,r,i,s,o,a,l)=>{t*=n,e*=r;const u=i*t-s*e,c=s*t+i*e;return l.x=u+o,l.y=c+a,l};function Wot(t,e){const n=e===-1.5707963267948966?-.551915024494:1.3333333333333333*Math.tan(e/4),r=e===1.5707963267948966?.551915024494:n,i=Math.cos(t),s=Math.sin(t),o=Math.cos(t+e),a=Math.sin(t+e);return[{x:i-s*r,y:s+i*r},{x:o+a*r,y:a-o*r},{x:o,y:a}]}const oK=(t,e,n,r)=>{const i=t*r-e*n<0?-1:1;let s=t*n+e*r;return s>1&&(s=1),s<-1&&(s=-1),i*Math.acos(s)},qot=(t,e,n,r,i,s,o,a,l,u,c,d,f)=>{const p=Math.pow(i,2),m=Math.pow(s,2),v=Math.pow(c,2),y=Math.pow(d,2);let A=p*m-p*y-m*v;A<0&&(A=0),A/=p*y+m*v,A=Math.sqrt(A)*(o===a?-1:1);const C=A*i/s*d,E=A*-s/i*c,I=u*C-l*E+(t+n)/2,D=l*C+u*E+(e+r)/2,T=(c-C)/i,M=(d-E)/s,P=(-c-C)/i,k=(-d-E)/s,L=oK(1,0,T,M);let $=oK(T,M,P,k);a===0&&$>0&&($-=$_),a===1&&$<0&&($+=$_),f.centerX=I,f.centerY=D,f.ang1=L,f.ang2=$};function Yot(t,e,n,r,i,s,o,a=0,l=0,u=0){if(s===0||o===0)return;const c=Math.sin(a*$_/360),d=Math.cos(a*$_/360),f=d*(e-r)/2+c*(n-i)/2,p=-c*(e-r)/2+d*(n-i)/2;if(f===0&&p===0)return;s=Math.abs(s),o=Math.abs(o);const m=Math.pow(f,2)/Math.pow(s,2)+Math.pow(p,2)/Math.pow(o,2);m>1&&(s*=Math.sqrt(m),o*=Math.sqrt(m)),qot(e,n,r,i,s,o,l,u,c,d,f,p,nN);let{ang1:v,ang2:y}=nN;const{centerX:A,centerY:C}=nN;let E=Math.abs(y)/($_/4);Math.abs(1-E)<1e-7&&(E=1);const I=Math.max(Math.ceil(E),1);y/=I;let D=t[t.length-2],T=t[t.length-1];const M={x:0,y:0};for(let P=0;P<I;P++){const k=Wot(v,y),{x:L,y:$}=rN(k[0],s,o,d,c,A,C,M),{x:z,y:j}=rN(k[1],s,o,d,c,A,C,M),{x:H,y:W}=rN(k[2],s,o,d,c,A,C,M);lpe(t,D,T,L,$,z,j,H,W),D=H,T=W,v+=y}}function Xot(t,e,n){const r=(o,a)=>{const l=a.x-o.x,u=a.y-o.y,c=Math.sqrt(l*l+u*u),d=l/c,f=u/c;return{len:c,nx:d,ny:f}},i=(o,a)=>{o===0?t.moveTo(a.x,a.y):t.lineTo(a.x,a.y)};let s=e[e.length-1];for(let o=0;o<e.length;o++){const a=e[o%e.length],l=a.radius??n;if(l<=0){i(o,a),s=a;continue}const u=e[(o+1)%e.length],c=r(a,s),d=r(a,u);if(c.len<1e-4||d.len<1e-4){i(o,a),s=a;continue}let f=Math.asin(c.nx*d.ny-c.ny*d.nx),p=1,m=!1;c.nx*d.nx-c.ny*-d.ny<0?f<0?f=Math.PI+f:(f=Math.PI-f,p=-1,m=!0):f>0&&(p=-1,m=!0);const v=f/2;let y,A=Math.abs(Math.cos(v)*l/Math.sin(v));A>Math.min(c.len/2,d.len/2)?(A=Math.min(c.len/2,d.len/2),y=Math.abs(A*Math.sin(v)/Math.cos(v))):y=l;const C=a.x+d.nx*A+-d.ny*y*p,E=a.y+d.ny*A+d.nx*y*p,I=Math.atan2(c.ny,c.nx)+Math.PI/2*p,D=Math.atan2(d.ny,d.nx)-Math.PI/2*p;o===0&&t.moveTo(C+Math.cos(I)*y,E+Math.sin(I)*y),t.arc(C,E,y,I,D,m),s=a}}function Jot(t,e,n,r){const i=(a,l)=>Math.sqrt((a.x-l.x)**2+(a.y-l.y)**2),s=(a,l,u)=>({x:a.x+(l.x-a.x)*u,y:a.y+(l.y-a.y)*u}),o=e.length;for(let a=0;a<o;a++){const l=e[(a+1)%o],u=l.radius??n;if(u<=0){a===0?t.moveTo(l.x,l.y):t.lineTo(l.x,l.y);continue}const c=e[a],d=e[(a+2)%o],f=i(c,l);let p;if(f<1e-4)p=l;else{const y=Math.min(f/2,u);p=s(l,c,y/f)}const m=i(d,l);let v;if(m<1e-4)v=l;else{const y=Math.min(m/2,u);v=s(l,d,y/m)}a===0?t.moveTo(p.x,p.y):t.lineTo(p.x,p.y),t.quadraticCurveTo(l.x,l.y,v.x,v.y,r)}}const Zot=new rs;class eat{constructor(e){this.shapePrimitives=[],this._currentPoly=null,this._bounds=new Vp,this._graphicsPath2D=e,this.signed=e.checkForHoles}moveTo(e,n){return this.startPoly(e,n),this}lineTo(e,n){this._ensurePoly();const r=this._currentPoly.points,i=r[r.length-2],s=r[r.length-1];return(i!==e||s!==n)&&r.push(e,n),this}arc(e,n,r,i,s,o){this._ensurePoly(!1);const a=this._currentPoly.points;return upe(a,e,n,r,i,s,o),this}arcTo(e,n,r,i,s){this._ensurePoly();const o=this._currentPoly.points;return Kot(o,e,n,r,i,s),this}arcToSvg(e,n,r,i,s,o,a){const l=this._currentPoly.points;return Yot(l,this._currentPoly.lastX,this._currentPoly.lastY,o,a,e,n,r,i,s),this}bezierCurveTo(e,n,r,i,s,o,a){this._ensurePoly();const l=this._currentPoly;return lpe(this._currentPoly.points,l.lastX,l.lastY,e,n,r,i,s,o,a),this}quadraticCurveTo(e,n,r,i,s){this._ensurePoly();const o=this._currentPoly;return Vot(this._currentPoly.points,o.lastX,o.lastY,e,n,r,i,s),this}closePath(){return this.endPoly(!0),this}addPath(e,n){this.endPoly(),n&&!n.isIdentity()&&(e=e.clone(!0),e.transform(n));const r=this.shapePrimitives,i=r.length;for(let s=0;s<e.instructions.length;s++){const o=e.instructions[s];this[o.action](...o.data)}if(e.checkForHoles&&r.length-i>1){let s=null;for(let o=i;o<r.length;o++){const a=r[o];if(a.shape.type==="polygon"){const l=a.shape,u=s?.shape;u&&u.containsPolygon(l)?(s.holes||(s.holes=[]),s.holes.push(a),r.copyWithin(o,o+1),r.length--,o--):s=a}}}return this}finish(e=!1){this.endPoly(e)}rect(e,n,r,i,s){return this.drawShape(new rs(e,n,r,i),s),this}circle(e,n,r,i){return this.drawShape(new Jz(e,n,r),i),this}poly(e,n,r){const i=new L_(e);return i.closePath=n,this.drawShape(i,r),this}regularPoly(e,n,r,i,s=0,o){i=Math.max(i|0,3);const a=-1*Math.PI/2+s,l=Math.PI*2/i,u=[];for(let c=0;c<i;c++){const d=a-c*l;u.push(e+r*Math.cos(d),n+r*Math.sin(d))}return this.poly(u,!0,o),this}roundPoly(e,n,r,i,s,o=0,a){if(i=Math.max(i|0,3),s<=0)return this.regularPoly(e,n,r,i,o);const l=r*Math.sin(Math.PI/i)-.001;s=Math.min(s,l);const u=-1*Math.PI/2+o,c=Math.PI*2/i,d=(i-2)*Math.PI/i/2;for(let f=0;f<i;f++){const p=f*c+u,m=e+r*Math.cos(p),v=n+r*Math.sin(p),y=p+Math.PI+d,A=p-Math.PI-d,C=m+s*Math.cos(y),E=v+s*Math.sin(y),I=m+s*Math.cos(A),D=v+s*Math.sin(A);f===0?this.moveTo(C,E):this.lineTo(C,E),this.quadraticCurveTo(m,v,I,D,a)}return this.closePath()}roundShape(e,n,r=!1,i){return e.length<3?this:(r?Jot(this,e,n,i):Xot(this,e,n),this.closePath())}filletRect(e,n,r,i,s){if(s===0)return this.rect(e,n,r,i);const o=Math.min(r,i)/2,a=Math.min(o,Math.max(-o,s)),l=e+r,u=n+i,c=a<0?-a:0,d=Math.abs(a);return this.moveTo(e,n+d).arcTo(e+c,n+c,e+d,n,d).lineTo(l-d,n).arcTo(l-c,n+c,l,n+d,d).lineTo(l,u-d).arcTo(l-c,u-c,e+r-d,u,d).lineTo(e+d,u).arcTo(e+c,u-c,e,u-d,d).closePath()}chamferRect(e,n,r,i,s,o){if(s<=0)return this.rect(e,n,r,i);const a=Math.min(s,Math.min(r,i)/2),l=e+r,u=n+i,c=[e+a,n,l-a,n,l,n+a,l,u-a,l-a,u,e+a,u,e,u-a,e,n+a];for(let d=c.length-1;d>=2;d-=2)c[d]===c[d-2]&&c[d-1]===c[d-3]&&c.splice(d-1,2);return this.poly(c,!0,o)}ellipse(e,n,r,i,s){return this.drawShape(new Zz(e,n,r,i),s),this}roundRect(e,n,r,i,s,o){return this.drawShape(new e7(e,n,r,i,s),o),this}drawShape(e,n){return this.endPoly(),this.shapePrimitives.push({shape:e,transform:n}),this}startPoly(e,n){let r=this._currentPoly;return r&&this.endPoly(),r=new L_,r.points.push(e,n),this._currentPoly=r,this}endPoly(e=!1){const n=this._currentPoly;return n&&n.points.length>2&&(n.closePath=e,this.shapePrimitives.push({shape:n})),this._currentPoly=null,this}_ensurePoly(e=!0){if(!this._currentPoly&&(this._currentPoly=new L_,e)){const n=this.shapePrimitives[this.shapePrimitives.length-1];if(n){let r=n.shape.x,i=n.shape.y;if(n.transform&&!n.transform.isIdentity()){const s=n.transform,o=r;r=s.a*r+s.c*i+s.tx,i=s.b*o+s.d*i+s.ty}this._currentPoly.points.push(r,i)}else this._currentPoly.points.push(0,0)}}buildPath(){const e=this._graphicsPath2D;this.shapePrimitives.length=0,this._currentPoly=null;for(let n=0;n<e.instructions.length;n++){const r=e.instructions[n];this[r.action](...r.data)}this.finish()}get bounds(){const e=this._bounds;e.clear();const n=this.shapePrimitives;for(let r=0;r<n.length;r++){const i=n[r],s=i.shape.getBounds(Zot);i.transform?e.addRect(s,i.transform):e.addRect(s)}return e}}class k0{constructor(e,n=!1){this.instructions=[],this.uid=qo("graphicsPath"),this._dirty=!0,this.checkForHoles=n,typeof e=="string"?Sst(e,this):this.instructions=e?.slice()??[]}get shapePath(){return this._shapePath||(this._shapePath=new eat(this)),this._dirty&&(this._dirty=!1,this._shapePath.buildPath()),this._shapePath}addPath(e,n){return e=e.clone(),this.instructions.push({action:"addPath",data:[e,n]}),this._dirty=!0,this}arc(...e){return this.instructions.push({action:"arc",data:e}),this._dirty=!0,this}arcTo(...e){return this.instructions.push({action:"arcTo",data:e}),this._dirty=!0,this}arcToSvg(...e){return this.instructions.push({action:"arcToSvg",data:e}),this._dirty=!0,this}bezierCurveTo(...e){return this.instructions.push({action:"bezierCurveTo",data:e}),this._dirty=!0,this}bezierCurveToShort(e,n,r,i,s){const o=this.instructions[this.instructions.length-1],a=this.getLastPoint(oa.shared);let l=0,u=0;if(!o||o.action!=="bezierCurveTo")l=a.x,u=a.y;else{l=o.data[2],u=o.data[3];const c=a.x,d=a.y;l=c+(c-l),u=d+(d-u)}return this.instructions.push({action:"bezierCurveTo",data:[l,u,e,n,r,i,s]}),this._dirty=!0,this}closePath(){return this.instructions.push({action:"closePath",data:[]}),this._dirty=!0,this}ellipse(...e){return this.instructions.push({action:"ellipse",data:e}),this._dirty=!0,this}lineTo(...e){return this.instructions.push({action:"lineTo",data:e}),this._dirty=!0,this}moveTo(...e){return this.instructions.push({action:"moveTo",data:e}),this}quadraticCurveTo(...e){return this.instructions.push({action:"quadraticCurveTo",data:e}),this._dirty=!0,this}quadraticCurveToShort(e,n,r){const i=this.instructions[this.instructions.length-1],s=this.getLastPoint(oa.shared);let o=0,a=0;if(!i||i.action!=="quadraticCurveTo")o=s.x,a=s.y;else{o=i.data[0],a=i.data[1];const l=s.x,u=s.y;o=l+(l-o),a=u+(u-a)}return this.instructions.push({action:"quadraticCurveTo",data:[o,a,e,n,r]}),this._dirty=!0,this}rect(e,n,r,i,s){return this.instructions.push({action:"rect",data:[e,n,r,i,s]}),this._dirty=!0,this}circle(e,n,r,i){return this.instructions.push({action:"circle",data:[e,n,r,i]}),this._dirty=!0,this}roundRect(...e){return this.instructions.push({action:"roundRect",data:e}),this._dirty=!0,this}poly(...e){return this.instructions.push({action:"poly",data:e}),this._dirty=!0,this}regularPoly(...e){return this.instructions.push({action:"regularPoly",data:e}),this._dirty=!0,this}roundPoly(...e){return this.instructions.push({action:"roundPoly",data:e}),this._dirty=!0,this}roundShape(...e){return this.instructions.push({action:"roundShape",data:e}),this._dirty=!0,this}filletRect(...e){return this.instructions.push({action:"filletRect",data:e}),this._dirty=!0,this}chamferRect(...e){return this.instructions.push({action:"chamferRect",data:e}),this._dirty=!0,this}star(e,n,r,i,s,o,a){s||(s=i/2);const l=-1*Math.PI/2+o,u=r*2,c=Math.PI*2/u,d=[];for(let f=0;f<u;f++){const p=f%2?s:i,m=f*c+l;d.push(e+p*Math.cos(m),n+p*Math.sin(m))}return this.poly(d,!0,a),this}clone(e=!1){const n=new k0;if(n.checkForHoles=this.checkForHoles,!e)n.instructions=this.instructions.slice();else for(let r=0;r<this.instructions.length;r++){const i=this.instructions[r];n.instructions.push({action:i.action,data:i.data.slice()})}return n}clear(){return this.instructions.length=0,this._dirty=!0,this}transform(e){if(e.isIdentity())return this;const n=e.a,r=e.b,i=e.c,s=e.d,o=e.tx,a=e.ty;let l=0,u=0,c=0,d=0,f=0,p=0,m=0,v=0;for(let y=0;y<this.instructions.length;y++){const A=this.instructions[y],C=A.data;switch(A.action){case"moveTo":case"lineTo":l=C[0],u=C[1],C[0]=n*l+i*u+o,C[1]=r*l+s*u+a;break;case"bezierCurveTo":c=C[0],d=C[1],f=C[2],p=C[3],l=C[4],u=C[5],C[0]=n*c+i*d+o,C[1]=r*c+s*d+a,C[2]=n*f+i*p+o,C[3]=r*f+s*p+a,C[4]=n*l+i*u+o,C[5]=r*l+s*u+a;break;case"quadraticCurveTo":c=C[0],d=C[1],l=C[2],u=C[3],C[0]=n*c+i*d+o,C[1]=r*c+s*d+a,C[2]=n*l+i*u+o,C[3]=r*l+s*u+a;break;case"arcToSvg":l=C[5],u=C[6],m=C[0],v=C[1],C[0]=n*m+i*v,C[1]=r*m+s*v,C[5]=n*l+i*u+o,C[6]=r*l+s*u+a;break;case"circle":C[4]=Iw(C[3],e);break;case"rect":C[4]=Iw(C[4],e);break;case"ellipse":C[8]=Iw(C[8],e);break;case"roundRect":C[5]=Iw(C[5],e);break;case"addPath":C[0].transform(e);break;case"poly":C[2]=Iw(C[2],e);break;default:to("unknown transform action",A.action);break}}return this._dirty=!0,this}get bounds(){return this.shapePath.bounds}getLastPoint(e){let n=this.instructions.length-1,r=this.instructions[n];if(!r)return e.x=0,e.y=0,e;for(;r.action==="closePath";){if(n--,n<0)return e.x=0,e.y=0,e;r=this.instructions[n]}switch(r.action){case"moveTo":case"lineTo":e.x=r.data[0],e.y=r.data[1];break;case"quadraticCurveTo":e.x=r.data[2],e.y=r.data[3];break;case"bezierCurveTo":e.x=r.data[4],e.y=r.data[5];break;case"arc":case"arcToSvg":e.x=r.data[5],e.y=r.data[6];break;case"addPath":r.data[0].getLastPoint(e);break}return e}}function Iw(t,e){return t?t.prepend(e):e.clone()}function Go(t,e,n){const r=t.getAttribute(e);return r?Number(r):n}function tat(t,e){const n=t.querySelectorAll("defs");for(let r=0;r<n.length;r++){const i=n[r];for(let s=0;s<i.children.length;s++){const o=i.children[s];switch(o.nodeName.toLowerCase()){case"lineargradient":e.defs[o.id]=nat(o);break;case"radialgradient":e.defs[o.id]=rat();break}}}}function nat(t){const e=Go(t,"x1",0),n=Go(t,"y1",0),r=Go(t,"x2",1),i=Go(t,"y2",0),s=t.getAttribute("gradientUnits")||"objectBoundingBox",o=new V0(e,n,r,i,s==="objectBoundingBox"?"local":"global");for(let a=0;a<t.children.length;a++){const l=t.children[a],u=Go(l,"offset",0),c=Oa.shared.setValue(l.getAttribute("stop-color")).toNumber();o.addColorStop(u,c)}return o}function rat(t){return to("[SVG Parser] Radial gradients are not yet supported"),new V0(0,0,1,0)}function aK(t){const e=t.match(/url\s*\(\s*['"]?\s*#([^'"\s)]+)\s*['"]?\s*\)/i);return e?e[1]:""}const lK={fill:{type:"paint",default:0},"fill-opacity":{type:"number",default:1},stroke:{type:"paint",default:0},"stroke-width":{type:"number",default:1},"stroke-opacity":{type:"number",default:1},"stroke-linecap":{type:"string",default:"butt"},"stroke-linejoin":{type:"string",default:"miter"},"stroke-miterlimit":{type:"number",default:10},"stroke-dasharray":{type:"string",default:"none"},"stroke-dashoffset":{type:"number",default:0},opacity:{type:"number",default:1}};function cpe(t,e){const n=t.getAttribute("style"),r={},i={},s={strokeStyle:r,fillStyle:i,useFill:!1,useStroke:!1};for(const o in lK){const a=t.getAttribute(o);a&&uK(e,s,o,a.trim())}if(n){const o=n.split(";");for(let a=0;a<o.length;a++){const l=o[a].trim(),[u,c]=l.split(":");lK[u]&&uK(e,s,u,c.trim())}}return{strokeStyle:s.useStroke?r:null,fillStyle:s.useFill?i:null,useFill:s.useFill,useStroke:s.useStroke}}function uK(t,e,n,r){switch(n){case"stroke":if(r!=="none"){if(r.startsWith("url(")){const i=aK(r);e.strokeStyle.fill=t.defs[i]}else e.strokeStyle.color=Oa.shared.setValue(r).toNumber();e.useStroke=!0}break;case"stroke-width":e.strokeStyle.width=Number(r);break;case"fill":if(r!=="none"){if(r.startsWith("url(")){const i=aK(r);e.fillStyle.fill=t.defs[i]}else e.fillStyle.color=Oa.shared.setValue(r).toNumber();e.useFill=!0}break;case"fill-opacity":e.fillStyle.alpha=Number(r);break;case"stroke-opacity":e.strokeStyle.alpha=Number(r);break;case"opacity":e.fillStyle.alpha=Number(r),e.strokeStyle.alpha=Number(r);break}}function iat(t){if(t.length<=2)return!0;const e=t.map(a=>a.area).sort((a,l)=>l-a),[n,r]=e,i=e[e.length-1],s=n/r,o=r/i;return!(s>3&&o<2)}function sat(t){return t.split(/(?=[Mm])/).filter(r=>r.trim().length>0)}function oat(t){const e=t.match(/[-+]?[0-9]*\.?[0-9]+/g);if(!e||e.length<4)return 0;const n=e.map(Number),r=[],i=[];for(let c=0;c<n.length;c+=2)c+1<n.length&&(r.push(n[c]),i.push(n[c+1]));if(r.length===0||i.length===0)return 0;const s=Math.min(...r),o=Math.max(...r),a=Math.min(...i),l=Math.max(...i);return(o-s)*(l-a)}function cK(t,e){const n=new k0(t,!1);for(const r of n.instructions)e.instructions.push(r)}function aat(t,e){if(typeof t=="string"){const o=document.createElement("div");o.innerHTML=t.trim(),t=o.querySelector("svg")}const n={context:e,defs:{},path:new k0};tat(t,n);const r=t.children,{fillStyle:i,strokeStyle:s}=cpe(t,n);for(let o=0;o<r.length;o++){const a=r[o];a.nodeName.toLowerCase()!=="defs"&&dpe(a,n,i,s)}return e}function dpe(t,e,n,r){const i=t.children,{fillStyle:s,strokeStyle:o}=cpe(t,e);s&&n?n={...n,...s}:s&&(n=s),o&&r?r={...r,...o}:o&&(r=o);const a=!n&&!r;a&&(n={color:0});let l,u,c,d,f,p,m,v,y,A,C,E,I,D,T,M,P;switch(t.nodeName.toLowerCase()){case"path":{D=t.getAttribute("d");const k=t.getAttribute("fill-rule"),L=sat(D),$=k==="evenodd",z=L.length>1;if($&&z){const H=L.map(O=>({path:O,area:oat(O)}));if(H.sort((O,G)=>G.area-O.area),L.length>3||!iat(H))for(let O=0;O<H.length;O++){const G=H[O],q=O===0;e.context.beginPath();const J=new k0(void 0,!0);cK(G.path,J),e.context.path(J),q?(n&&e.context.fill(n),r&&e.context.stroke(r)):e.context.cut()}else for(let O=0;O<H.length;O++){const G=H[O],q=O%2===1;e.context.beginPath();const J=new k0(void 0,!0);cK(G.path,J),e.context.path(J),q?e.context.cut():(n&&e.context.fill(n),r&&e.context.stroke(r))}}else{const H=k?k==="evenodd":!0;T=new k0(D,H),e.context.path(T),n&&e.context.fill(n),r&&e.context.stroke(r)}break}case"circle":m=Go(t,"cx",0),v=Go(t,"cy",0),y=Go(t,"r",0),e.context.ellipse(m,v,y,y),n&&e.context.fill(n),r&&e.context.stroke(r);break;case"rect":l=Go(t,"x",0),u=Go(t,"y",0),M=Go(t,"width",0),P=Go(t,"height",0),A=Go(t,"rx",0),C=Go(t,"ry",0),A||C?e.context.roundRect(l,u,M,P,A||C):e.context.rect(l,u,M,P),n&&e.context.fill(n),r&&e.context.stroke(r);break;case"ellipse":m=Go(t,"cx",0),v=Go(t,"cy",0),A=Go(t,"rx",0),C=Go(t,"ry",0),e.context.beginPath(),e.context.ellipse(m,v,A,C),n&&e.context.fill(n),r&&e.context.stroke(r);break;case"line":c=Go(t,"x1",0),d=Go(t,"y1",0),f=Go(t,"x2",0),p=Go(t,"y2",0),e.context.beginPath(),e.context.moveTo(c,d),e.context.lineTo(f,p),r&&e.context.stroke(r);break;case"polygon":I=t.getAttribute("points"),E=I.match(/\d+/g).map(k=>parseInt(k,10)),e.context.poly(E,!0),n&&e.context.fill(n),r&&e.context.stroke(r);break;case"polyline":I=t.getAttribute("points"),E=I.match(/\d+/g).map(k=>parseInt(k,10)),e.context.poly(E,!1),r&&e.context.stroke(r);break;case"g":case"svg":break;default:{to(`[SVG parser] <${t.nodeName}> elements unsupported`);break}}a&&(n=null);for(let k=0;k<i.length;k++)dpe(i[k],e,n,r)}function lat(t){return Oa.isColorLike(t)}function dK(t){return t instanceof yM}function hK(t){return t instanceof V0}function uat(t){return t instanceof er}function cat(t,e,n){const r=Oa.shared.setValue(e??0);return t.color=r.toNumber(),t.alpha=r.alpha===1?n.alpha:r.alpha,t.texture=er.WHITE,{...n,...t}}function dat(t,e,n){return t.texture=e,{...n,...t}}function fK(t,e,n){return t.fill=e,t.color=16777215,t.texture=e.texture,t.matrix=e.transform,{...n,...t}}function pK(t,e,n){return e.buildGradient(),t.fill=e,t.color=16777215,t.texture=e.texture,t.matrix=e.transform,t.textureSpace=e.textureSpace,{...n,...t}}function hat(t,e){const n={...e,...t},r=Oa.shared.setValue(n.color);return n.alpha*=r.alpha,n.color=r.toNumber(),n}function yx(t,e){if(t==null)return null;const n={},r=t;return lat(t)?cat(n,t,e):uat(t)?dat(n,t,e):dK(t)?fK(n,t,e):hK(t)?pK(n,t,e):r.fill&&dK(r.fill)?fK(r,r.fill,e):r.fill&&hK(r.fill)?pK(r,r.fill,e):hat(r,e)}function JD(t,e){const{width:n,alignment:r,miterLimit:i,cap:s,join:o,pixelLine:a,...l}=e,u=yx(t,l);return u?{width:n,alignment:r,miterLimit:i,cap:s,join:o,pixelLine:a,...u}:null}const fat=new oa,gK=new mi,n7=class jg extends Yp{constructor(){super(...arguments),this.uid=qo("graphicsContext"),this.dirty=!0,this.batchMode="auto",this.instructions=[],this._activePath=new k0,this._transform=new mi,this._fillStyle={...jg.defaultFillStyle},this._strokeStyle={...jg.defaultStrokeStyle},this._stateStack=[],this._tick=0,this._bounds=new Vp,this._boundsDirty=!0}clone(){const e=new jg;return e.batchMode=this.batchMode,e.instructions=this.instructions.slice(),e._activePath=this._activePath.clone(),e._transform=this._transform.clone(),e._fillStyle={...this._fillStyle},e._strokeStyle={...this._strokeStyle},e._stateStack=this._stateStack.slice(),e._bounds=this._bounds.clone(),e._boundsDirty=!0,e}get fillStyle(){return this._fillStyle}set fillStyle(e){this._fillStyle=yx(e,jg.defaultFillStyle)}get strokeStyle(){return this._strokeStyle}set strokeStyle(e){this._strokeStyle=JD(e,jg.defaultStrokeStyle)}setFillStyle(e){return this._fillStyle=yx(e,jg.defaultFillStyle),this}setStrokeStyle(e){return this._strokeStyle=yx(e,jg.defaultStrokeStyle),this}texture(e,n,r,i,s,o){return this.instructions.push({action:"texture",data:{image:e,dx:r||0,dy:i||0,dw:s||e.frame.width,dh:o||e.frame.height,transform:this._transform.clone(),alpha:this._fillStyle.alpha,style:n?Oa.shared.setValue(n).toNumber():16777215}}),this.onUpdate(),this}beginPath(){return this._activePath=new k0,this}fill(e,n){let r;const i=this.instructions[this.instructions.length-1];return this._tick===0&&i?.action==="stroke"?r=i.data.path:r=this._activePath.clone(),r?(e!=null&&(n!==void 0&&typeof e=="number"&&(Pr(Ni,"GraphicsContext.fill(color, alpha) is deprecated, use GraphicsContext.fill({ color, alpha }) instead"),e={color:e,alpha:n}),this._fillStyle=yx(e,jg.defaultFillStyle)),this.instructions.push({action:"fill",data:{style:this.fillStyle,path:r}}),this.onUpdate(),this._initNextPathLocation(),this._tick=0,this):this}_initNextPathLocation(){const{x:e,y:n}=this._activePath.getLastPoint(oa.shared);this._activePath.clear(),this._activePath.moveTo(e,n)}stroke(e){let n;const r=this.instructions[this.instructions.length-1];return this._tick===0&&r?.action==="fill"?n=r.data.path:n=this._activePath.clone(),n?(e!=null&&(this._strokeStyle=JD(e,jg.defaultStrokeStyle)),this.instructions.push({action:"stroke",data:{style:this.strokeStyle,path:n}}),this.onUpdate(),this._initNextPathLocation(),this._tick=0,this):this}cut(){for(let e=0;e<2;e++){const n=this.instructions[this.instructions.length-1-e],r=this._activePath.clone();if(n&&(n.action==="stroke"||n.action==="fill"))if(n.data.hole)n.data.hole.addPath(r);else{n.data.hole=r;break}}return this._initNextPathLocation(),this}arc(e,n,r,i,s,o){this._tick++;const a=this._transform;return this._activePath.arc(a.a*e+a.c*n+a.tx,a.b*e+a.d*n+a.ty,r,i,s,o),this}arcTo(e,n,r,i,s){this._tick++;const o=this._transform;return this._activePath.arcTo(o.a*e+o.c*n+o.tx,o.b*e+o.d*n+o.ty,o.a*r+o.c*i+o.tx,o.b*r+o.d*i+o.ty,s),this}arcToSvg(e,n,r,i,s,o,a){this._tick++;const l=this._transform;return this._activePath.arcToSvg(e,n,r,i,s,l.a*o+l.c*a+l.tx,l.b*o+l.d*a+l.ty),this}bezierCurveTo(e,n,r,i,s,o,a){this._tick++;const l=this._transform;return this._activePath.bezierCurveTo(l.a*e+l.c*n+l.tx,l.b*e+l.d*n+l.ty,l.a*r+l.c*i+l.tx,l.b*r+l.d*i+l.ty,l.a*s+l.c*o+l.tx,l.b*s+l.d*o+l.ty,a),this}closePath(){return this._tick++,this._activePath?.closePath(),this}ellipse(e,n,r,i){return this._tick++,this._activePath.ellipse(e,n,r,i,this._transform.clone()),this}circle(e,n,r){return this._tick++,this._activePath.circle(e,n,r,this._transform.clone()),this}path(e){return this._tick++,this._activePath.addPath(e,this._transform.clone()),this}lineTo(e,n){this._tick++;const r=this._transform;return this._activePath.lineTo(r.a*e+r.c*n+r.tx,r.b*e+r.d*n+r.ty),this}moveTo(e,n){this._tick++;const r=this._transform,i=this._activePath.instructions,s=r.a*e+r.c*n+r.tx,o=r.b*e+r.d*n+r.ty;return i.length===1&&i[0].action==="moveTo"?(i[0].data[0]=s,i[0].data[1]=o,this):(this._activePath.moveTo(s,o),this)}quadraticCurveTo(e,n,r,i,s){this._tick++;const o=this._transform;return this._activePath.quadraticCurveTo(o.a*e+o.c*n+o.tx,o.b*e+o.d*n+o.ty,o.a*r+o.c*i+o.tx,o.b*r+o.d*i+o.ty,s),this}rect(e,n,r,i){return this._tick++,this._activePath.rect(e,n,r,i,this._transform.clone()),this}roundRect(e,n,r,i,s){return this._tick++,this._activePath.roundRect(e,n,r,i,s,this._transform.clone()),this}poly(e,n){return this._tick++,this._activePath.poly(e,n,this._transform.clone()),this}regularPoly(e,n,r,i,s=0,o){return this._tick++,this._activePath.regularPoly(e,n,r,i,s,o),this}roundPoly(e,n,r,i,s,o){return this._tick++,this._activePath.roundPoly(e,n,r,i,s,o),this}roundShape(e,n,r,i){return this._tick++,this._activePath.roundShape(e,n,r,i),this}filletRect(e,n,r,i,s){return this._tick++,this._activePath.filletRect(e,n,r,i,s),this}chamferRect(e,n,r,i,s,o){return this._tick++,this._activePath.chamferRect(e,n,r,i,s,o),this}star(e,n,r,i,s=0,o=0){return this._tick++,this._activePath.star(e,n,r,i,s,o,this._transform.clone()),this}svg(e){return this._tick++,aat(e,this),this}restore(){const e=this._stateStack.pop();return e&&(this._transform=e.transform,this._fillStyle=e.fillStyle,this._strokeStyle=e.strokeStyle),this}save(){return this._stateStack.push({transform:this._transform.clone(),fillStyle:{...this._fillStyle},strokeStyle:{...this._strokeStyle}}),this}getTransform(){return this._transform}resetTransform(){return this._transform.identity(),this}rotate(e){return this._transform.rotate(e),this}scale(e,n=e){return this._transform.scale(e,n),this}setTransform(e,n,r,i,s,o){return e instanceof mi?(this._transform.set(e.a,e.b,e.c,e.d,e.tx,e.ty),this):(this._transform.set(e,n,r,i,s,o),this)}transform(e,n,r,i,s,o){return e instanceof mi?(this._transform.append(e),this):(gK.set(e,n,r,i,s,o),this._transform.append(gK),this)}translate(e,n=e){return this._transform.translate(e,n),this}clear(){return this._activePath.clear(),this.instructions.length=0,this.resetTransform(),this.onUpdate(),this}onUpdate(){this._boundsDirty=!0,!this.dirty&&(this.emit("update",this,16),this.dirty=!0)}get bounds(){if(!this._boundsDirty)return this._bounds;this._boundsDirty=!1;const e=this._bounds;e.clear();for(let n=0;n<this.instructions.length;n++){const r=this.instructions[n],i=r.action;if(i==="fill"){const s=r.data;e.addBounds(s.path.bounds)}else if(i==="texture"){const s=r.data;e.addFrame(s.dx,s.dy,s.dx+s.dw,s.dy+s.dh,s.transform)}if(i==="stroke"){const s=r.data,o=s.style.alignment,a=s.style.width*(1-o),l=s.path.bounds;e.addFrame(l.minX-a,l.minY-a,l.maxX+a,l.maxY+a)}}return e}containsPoint(e){if(!this.bounds.containsPoint(e.x,e.y))return!1;const n=this.instructions;let r=!1;for(let i=0;i<n.length;i++){const s=n[i],o=s.data,a=o.path;if(!s.action||!a)continue;const l=o.style,u=a.shapePath.shapePrimitives;for(let c=0;c<u.length;c++){const d=u[c].shape;if(!l||!d)continue;const f=u[c].transform,p=f?f.applyInverse(e,fat):e;if(s.action==="fill")r=d.contains(p.x,p.y);else{const v=l;r=d.strokeContains(p.x,p.y,v.width,v.alignment)}const m=o.hole;if(m){const v=m.shapePath?.shapePrimitives;if(v)for(let y=0;y<v.length;y++)v[y].shape.contains(p.x,p.y)&&(r=!1)}if(r)return!0}}return r}destroy(e=!1){if(this._stateStack.length=0,this._transform=null,this.emit("destroy",this),this.removeAllListeners(),typeof e=="boolean"?e:e?.texture){const r=typeof e=="boolean"?e:e?.textureSource;this._fillStyle.texture&&(this._fillStyle.fill&&"uid"in this._fillStyle.fill?this._fillStyle.fill.destroy():this._fillStyle.texture.destroy(r)),this._strokeStyle.texture&&(this._strokeStyle.fill&&"uid"in this._strokeStyle.fill?this._strokeStyle.fill.destroy():this._strokeStyle.texture.destroy(r))}this._fillStyle=null,this._strokeStyle=null,this.instructions=null,this._activePath=null,this._bounds=null,this._stateStack=null,this.customShader=null,this._transform=null}};n7.defaultFillStyle={color:16777215,alpha:1,texture:er.WHITE,matrix:null,fill:null,textureSpace:"local"};n7.defaultStrokeStyle={width:1,color:16777215,alpha:1,alignment:.5,miterLimit:10,cap:"butt",join:"miter",texture:er.WHITE,matrix:null,fill:null,textureSpace:"local",pixelLine:!1};let af=n7;const r7=class G1 extends Yp{constructor(e={}){super(),this.uid=qo("textStyle"),this._tick=0,pat(e);const n={...G1.defaultTextStyle,...e};for(const r in n){const i=r;this[i]=n[r]}this.update(),this._tick=0}get align(){return this._align}set align(e){this._align!==e&&(this._align=e,this.update())}get breakWords(){return this._breakWords}set breakWords(e){this._breakWords!==e&&(this._breakWords=e,this.update())}get dropShadow(){return this._dropShadow}set dropShadow(e){this._dropShadow!==e&&(e!==null&&typeof e=="object"?this._dropShadow=this._createProxy({...G1.defaultDropShadow,...e}):this._dropShadow=e?this._createProxy({...G1.defaultDropShadow}):null,this.update())}get fontFamily(){return this._fontFamily}set fontFamily(e){this._fontFamily!==e&&(this._fontFamily=e,this.update())}get fontSize(){return this._fontSize}set fontSize(e){this._fontSize!==e&&(typeof e=="string"?this._fontSize=parseInt(e,10):this._fontSize=e,this.update())}get fontStyle(){return this._fontStyle}set fontStyle(e){this._fontStyle!==e&&(this._fontStyle=e.toLowerCase(),this.update())}get fontVariant(){return this._fontVariant}set fontVariant(e){this._fontVariant!==e&&(this._fontVariant=e,this.update())}get fontWeight(){return this._fontWeight}set fontWeight(e){this._fontWeight!==e&&(this._fontWeight=e,this.update())}get leading(){return this._leading}set leading(e){this._leading!==e&&(this._leading=e,this.update())}get letterSpacing(){return this._letterSpacing}set letterSpacing(e){this._letterSpacing!==e&&(this._letterSpacing=e,this.update())}get lineHeight(){return this._lineHeight}set lineHeight(e){this._lineHeight!==e&&(this._lineHeight=e,this.update())}get padding(){return this._padding}set padding(e){this._padding!==e&&(this._padding=e,this.update())}get filters(){return this._filters}set filters(e){this._filters!==e&&(this._filters=Object.freeze(e),this.update())}get trim(){return this._trim}set trim(e){this._trim!==e&&(this._trim=e,this.update())}get textBaseline(){return this._textBaseline}set textBaseline(e){this._textBaseline!==e&&(this._textBaseline=e,this.update())}get whiteSpace(){return this._whiteSpace}set whiteSpace(e){this._whiteSpace!==e&&(this._whiteSpace=e,this.update())}get wordWrap(){return this._wordWrap}set wordWrap(e){this._wordWrap!==e&&(this._wordWrap=e,this.update())}get wordWrapWidth(){return this._wordWrapWidth}set wordWrapWidth(e){this._wordWrapWidth!==e&&(this._wordWrapWidth=e,this.update())}get fill(){return this._originalFill}set fill(e){e!==this._originalFill&&(this._originalFill=e,this._isFillStyle(e)&&(this._originalFill=this._createProxy({...af.defaultFillStyle,...e},()=>{this._fill=yx({...this._originalFill},af.defaultFillStyle)})),this._fill=yx(e===0?"black":e,af.defaultFillStyle),this.update())}get stroke(){return this._originalStroke}set stroke(e){e!==this._originalStroke&&(this._originalStroke=e,this._isFillStyle(e)&&(this._originalStroke=this._createProxy({...af.defaultStrokeStyle,...e},()=>{this._stroke=JD({...this._originalStroke},af.defaultStrokeStyle)})),this._stroke=JD(e,af.defaultStrokeStyle),this.update())}update(){this._tick++,this.emit("update",this)}reset(){const e=G1.defaultTextStyle;for(const n in e)this[n]=e[n]}get styleKey(){return`${this.uid}-${this._tick}`}clone(){return new G1({align:this.align,breakWords:this.breakWords,dropShadow:this._dropShadow?{...this._dropShadow}:null,fill:this._fill,fontFamily:this.fontFamily,fontSize:this.fontSize,fontStyle:this.fontStyle,fontVariant:this.fontVariant,fontWeight:this.fontWeight,leading:this.leading,letterSpacing:this.letterSpacing,lineHeight:this.lineHeight,padding:this.padding,stroke:this._stroke,textBaseline:this.textBaseline,whiteSpace:this.whiteSpace,wordWrap:this.wordWrap,wordWrapWidth:this.wordWrapWidth,filters:this._filters?[...this._filters]:void 0})}_getFinalPadding(){let e=0;if(this._filters)for(let n=0;n<this._filters.length;n++)e+=this._filters[n].padding;return Math.max(this._padding,e)}destroy(e=!1){if(this.removeAllListeners(),typeof e=="boolean"?e:e?.texture){const r=typeof e=="boolean"?e:e?.textureSource;this._fill?.texture&&this._fill.texture.destroy(r),this._originalFill?.texture&&this._originalFill.texture.destroy(r),this._stroke?.texture&&this._stroke.texture.destroy(r),this._originalStroke?.texture&&this._originalStroke.texture.destroy(r)}this._fill=null,this._stroke=null,this.dropShadow=null,this._originalStroke=null,this._originalFill=null}_createProxy(e,n){return new Proxy(e,{set:(r,i,s)=>(r[i]===s||(r[i]=s,n?.(i,s),this.update()),!0)})}_isFillStyle(e){return(e??null)!==null&&!(Oa.isColorLike(e)||e instanceof V0||e instanceof yM)}};r7.defaultDropShadow={alpha:1,angle:Math.PI/6,blur:0,color:"black",distance:5};r7.defaultTextStyle={align:"left",breakWords:!1,dropShadow:null,fill:"black",fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",leading:0,letterSpacing:0,lineHeight:0,padding:0,stroke:null,textBaseline:"alphabetic",trim:!1,whiteSpace:"pre",wordWrap:!1,wordWrapWidth:100};let Sn=r7;function pat(t){const e=t;if(typeof e.dropShadow=="boolean"&&e.dropShadow){const n=Sn.defaultDropShadow;t.dropShadow={alpha:e.dropShadowAlpha??n.alpha,angle:e.dropShadowAngle??n.angle,blur:e.dropShadowBlur??n.blur,color:e.dropShadowColor??n.color,distance:e.dropShadowDistance??n.distance}}if(e.strokeThickness!==void 0){Pr(Ni,"strokeThickness is now a part of stroke");const n=e.stroke;let r={};if(Oa.isColorLike(n))r.color=n;else if(n instanceof V0||n instanceof yM)r.fill=n;else if(Object.hasOwnProperty.call(n,"color")||Object.hasOwnProperty.call(n,"fill"))r=n;else throw new Error("Invalid stroke value.");t.stroke={...r,width:e.strokeThickness}}if(Array.isArray(e.fillGradientStops)){if(Pr(Ni,"gradient fill is now a fill pattern: `new FillGradient(...)`"),!Array.isArray(e.fill)||e.fill.length===0)throw new Error("Invalid fill value. Expected an array of colors for gradient fill.");e.fill.length!==e.fillGradientStops.length&&to("The number of fill colors must match the number of fill gradient stops.");const n=new V0({start:{x:0,y:0},end:{x:0,y:1},textureSpace:"local"}),r=e.fillGradientStops.slice(),i=e.fill.map(s=>Oa.shared.setValue(s).toNumber());r.forEach((s,o)=>{n.addColorStop(s,i[o])}),t.fill={fill:n}}}class gat{constructor(e){this._canvasPool=Object.create(null),this.canvasOptions=e||{},this.enableFullScreen=!1}_createCanvasAndContext(e,n){const r=hs.get().createCanvas();r.width=e,r.height=n;const i=r.getContext("2d");return{canvas:r,context:i}}getOptimalCanvasAndContext(e,n,r=1){e=Math.ceil(e*r-1e-6),n=Math.ceil(n*r-1e-6),e=HE(e),n=HE(n);const i=(e<<17)+(n<<1);this._canvasPool[i]||(this._canvasPool[i]=[]);let s=this._canvasPool[i].pop();return s||(s=this._createCanvasAndContext(e,n)),s}returnCanvasAndContext(e){const n=e.canvas,{width:r,height:i}=n,s=(r<<17)+(i<<1);e.context.resetTransform(),e.context.clearRect(0,0,r,i),this._canvasPool[s].push(e)}clear(){this._canvasPool={}}}const P3=new gat;w4.register(P3);const mK=1e5;function ZD(t,e,n,r=0){if(t.texture===er.WHITE&&!t.fill)return Oa.shared.setValue(t.color).setAlpha(t.alpha??1).toHexa();if(t.fill){if(t.fill instanceof yM){const i=t.fill,s=e.createPattern(i.texture.source.resource,"repeat"),o=i.transform.copyTo(mi.shared);return o.scale(i.texture.frame.width,i.texture.frame.height),s.setTransform(o),s}else if(t.fill instanceof V0){const i=t.fill,s=i.type==="linear",o=i.textureSpace==="local";let a=1,l=1;o&&n&&(a=n.width+r,l=n.height+r);let u,c=!1;if(s){const{start:d,end:f}=i;u=e.createLinearGradient(d.x*a,d.y*l,f.x*a,f.y*l),c=Math.abs(f.x-d.x)<Math.abs((f.y-d.y)*.1)}else{const{center:d,innerRadius:f,outerCenter:p,outerRadius:m}=i;u=e.createRadialGradient(d.x*a,d.y*l,f*a,p.x*a,p.y*l,m*a)}if(c&&o&&n){const d=n.lineHeight/l;for(let f=0;f<n.lines.length;f++){const p=(f*n.lineHeight+r/2)/l;i.colorStops.forEach(m=>{const v=p+m.offset*d;u.addColorStop(Math.floor(v*mK)/mK,Oa.shared.setValue(m.color).toHex())})}}else i.colorStops.forEach(d=>{u.addColorStop(d.offset,Oa.shared.setValue(d.color).toHex())});return u}}else{const i=e.createPattern(t.texture.source.resource,"repeat"),s=t.matrix.copyTo(mi.shared);return s.scale(t.texture.frame.width,t.texture.frame.height),i.setTransform(s),i}return to("FillStyle not recognised",t),"red"}const hpe=class fpe extends Gfe{constructor(e){super(),this.resolution=1,this.pages=[],this._padding=0,this._measureCache=Object.create(null),this._currentChars=[],this._currentX=0,this._currentY=0,this._currentMaxCharHeight=0,this._currentPageIndex=-1,this._skipKerning=!1;const n={...fpe.defaultOptions,...e};this._textureSize=n.textureSize,this._mipmap=n.mipmap;const r=n.style.clone();n.overrideFill&&(r._fill.color=16777215,r._fill.alpha=1,r._fill.texture=er.WHITE,r._fill.fill=null),this.applyFillAsTint=n.overrideFill;const i=r.fontSize;r.fontSize=this.baseMeasurementFontSize;const s=YD(r);n.overrideSize?r._stroke&&(r._stroke.width*=this.baseRenderedFontSize/i):r.fontSize=this.baseRenderedFontSize=i,this._style=r,this._skipKerning=n.skipKerning??!1,this.resolution=n.resolution??1,this._padding=n.padding??4,n.textureStyle&&(this._textureStyle=n.textureStyle instanceof VE?n.textureStyle:new VE(n.textureStyle)),this.fontMetrics=ds.measureFont(s),this.lineHeight=r.lineHeight||this.fontMetrics.fontSize||r.fontSize}ensureCharacters(e){const n=ds.graphemeSegmenter(e).filter(y=>!this._currentChars.includes(y)).filter((y,A,C)=>C.indexOf(y)===A);if(!n.length)return;this._currentChars=[...this._currentChars,...n];let r;this._currentPageIndex===-1?r=this._nextPage():r=this.pages[this._currentPageIndex];let{canvas:i,context:s}=r.canvasAndContext,o=r.texture.source;const a=this._style;let l=this._currentX,u=this._currentY,c=this._currentMaxCharHeight;const d=this.baseRenderedFontSize/this.baseMeasurementFontSize,f=this._padding*d;let p=!1;const m=i.width/this.resolution,v=i.height/this.resolution;for(let y=0;y<n.length;y++){const A=n[y],C=ds.measureText(A,a,i,!1);C.lineHeight=C.height;const E=C.width*d,I=Math.ceil((a.fontStyle==="italic"?2:1)*E),D=C.height*d,T=I+f*2,M=D+f*2;if(p=!1,A!==`
`&&A!=="\r"&&A!=="	"&&A!==" "&&(p=!0,c=Math.ceil(Math.max(M,c))),l+T>m&&(u+=c,c=M,l=0,u+c>v)){o.update();const k=this._nextPage();i=k.canvasAndContext.canvas,s=k.canvasAndContext.context,o=k.texture.source,l=0,u=0,c=0}const P=E/d-(a.dropShadow?.distance??0)-(a._stroke?.width??0);if(this.chars[A]={id:A.codePointAt(0),xOffset:-this._padding,yOffset:-this._padding,xAdvance:P,kerning:{}},p){this._drawGlyph(s,C,l+f,u+f,d,a);const k=o.width*d,L=o.height*d,$=new rs(l/k*o.width,u/L*o.height,T/k*o.width,M/L*o.height);this.chars[A].texture=new er({source:o,frame:$}),l+=Math.ceil(T)}}o.update(),this._currentX=l,this._currentY=u,this._currentMaxCharHeight=c,this._skipKerning&&this._applyKerning(n,s)}get pageTextures(){return Pr(Ni,"BitmapFont.pageTextures is deprecated, please use BitmapFont.pages instead."),this.pages}_applyKerning(e,n){const r=this._measureCache;for(let i=0;i<e.length;i++){const s=e[i];for(let o=0;o<this._currentChars.length;o++){const a=this._currentChars[o];let l=r[s];l||(l=r[s]=n.measureText(s).width);let u=r[a];u||(u=r[a]=n.measureText(a).width);let c=n.measureText(s+a).width,d=c-(l+u);d&&(this.chars[s].kerning[a]=d),c=n.measureText(s+a).width,d=c-(l+u),d&&(this.chars[a].kerning[s]=d)}}}_nextPage(){this._currentPageIndex++;const e=this.resolution,n=P3.getOptimalCanvasAndContext(this._textureSize,this._textureSize,e);this._setupContext(n.context,this._style,e);const r=e*(this.baseRenderedFontSize/this.baseMeasurementFontSize),i=new er({source:new Jx({resource:n.canvas,resolution:r,alphaMode:"premultiply-alpha-on-upload",autoGenerateMipmaps:this._mipmap})});this._textureStyle&&(i.source.style=this._textureStyle);const s={canvasAndContext:n,texture:i};return this.pages[this._currentPageIndex]=s,s}_setupContext(e,n,r){n.fontSize=this.baseRenderedFontSize,e.scale(r,r),e.font=YD(n),n.fontSize=this.baseMeasurementFontSize,e.textBaseline=n.textBaseline;const i=n._stroke,s=i?.width??0;if(i&&(e.lineWidth=s,e.lineJoin=i.join,e.miterLimit=i.miterLimit,e.strokeStyle=ZD(i,e)),n._fill&&(e.fillStyle=ZD(n._fill,e)),n.dropShadow){const o=n.dropShadow,a=Oa.shared.setValue(o.color).toArray(),l=o.blur*r,u=o.distance*r;e.shadowColor=`rgba(${a[0]*255},${a[1]*255},${a[2]*255},${o.alpha})`,e.shadowBlur=l,e.shadowOffsetX=Math.cos(o.angle)*u,e.shadowOffsetY=Math.sin(o.angle)*u}else e.shadowColor="black",e.shadowBlur=0,e.shadowOffsetX=0,e.shadowOffsetY=0}_drawGlyph(e,n,r,i,s,o){const a=n.text,l=n.fontProperties,c=(o._stroke?.width??0)*s,d=r+c/2,f=i-c/2,p=l.descent*s,m=n.lineHeight*s;let v=!1;o.stroke&&c&&(v=!0,e.strokeText(a,d,f+m-p));const{shadowBlur:y,shadowOffsetX:A,shadowOffsetY:C}=e;o._fill&&(v&&(e.shadowBlur=0,e.shadowOffsetX=0,e.shadowOffsetY=0),e.fillText(a,d,f+m-p)),v&&(e.shadowBlur=y,e.shadowOffsetX=A,e.shadowOffsetY=C)}destroy(){super.destroy();for(let e=0;e<this.pages.length;e++){const{canvasAndContext:n,texture:r}=this.pages[e];P3.returnCanvasAndContext(n),r.destroy(!0)}this.pages=null}};hpe.defaultOptions={textureSize:512,style:new Sn,mipmap:!0};let AK=hpe;function mat(t,e,n,r){const i={width:0,height:0,offsetY:0,scale:e.fontSize/n.baseMeasurementFontSize,lines:[{width:0,charPositions:[],spaceWidth:0,spacesIndex:[],chars:[]}]};i.offsetY=n.baseLineOffset;let s=i.lines[0],o=null,a=!0;const l={width:0,start:0,index:0,positions:[],chars:[]},u=n.baseMeasurementFontSize/e.fontSize,c=e.letterSpacing*u,d=e.wordWrapWidth*u,f=e.lineHeight?e.lineHeight*u:n.lineHeight,p=e.wordWrap&&e.breakWords,m=A=>{const C=s.width;for(let E=0;E<l.index;E++){const I=A.positions[E];s.chars.push(A.chars[E]),s.charPositions.push(I+C)}s.width+=A.width,a=!1,l.width=0,l.index=0,l.chars.length=0},v=()=>{let A=s.chars.length-1;if(r){let C=s.chars[A];for(;C===" ";)s.width-=n.chars[C].xAdvance,C=s.chars[--A]}i.width=Math.max(i.width,s.width),s={width:0,charPositions:[],chars:[],spaceWidth:0,spacesIndex:[]},a=!0,i.lines.push(s),i.height+=f},y=A=>A-c>d;for(let A=0;A<t.length+1;A++){let C;const E=A===t.length;E||(C=t[A]);const I=n.chars[C]||n.chars[" "];if(/(?:\s)/.test(C)||C==="\r"||C===`
`||E){if(!a&&e.wordWrap&&y(s.width+l.width)?(v(),m(l),E||s.charPositions.push(0)):(l.start=s.width,m(l),E||s.charPositions.push(0)),C==="\r"||C===`
`)v();else if(!E){const P=I.xAdvance+(I.kerning[o]||0)+c;s.width+=P,s.spaceWidth=P,s.spacesIndex.push(s.charPositions.length),s.chars.push(C)}}else{const M=I.kerning[o]||0,P=I.xAdvance+M+c;p&&y(s.width+l.width+P)&&(m(l),v()),l.positions[l.index++]=l.width+M,l.chars.push(C),l.width+=P}o=C}return v(),e.align==="center"?Aat(i):e.align==="right"?yat(i):e.align==="justify"&&vat(i),i}function Aat(t){for(let e=0;e<t.lines.length;e++){const n=t.lines[e],r=t.width/2-n.width/2;for(let i=0;i<n.charPositions.length;i++)n.charPositions[i]+=r}}function yat(t){for(let e=0;e<t.lines.length;e++){const n=t.lines[e],r=t.width-n.width;for(let i=0;i<n.charPositions.length;i++)n.charPositions[i]+=r}}function vat(t){const e=t.width;for(let n=0;n<t.lines.length;n++){const r=t.lines[n];let i=0,s=r.spacesIndex[i++],o=0;const a=r.spacesIndex.length,u=(e-r.width)/a;for(let c=0;c<r.charPositions.length;c++)c===s&&(s=r.spacesIndex[i++],o+=u),r.charPositions[c]+=o}}function bat(t){if(t==="")return[];typeof t=="string"&&(t=[t]);const e=[];for(let n=0,r=t.length;n<r;n++){const i=t[n];if(Array.isArray(i)){if(i.length!==2)throw new Error(`[BitmapFont]: Invalid character range length, expecting 2 got ${i.length}.`);if(i[0].length===0||i[1].length===0)throw new Error("[BitmapFont]: Invalid character delimiter.");const s=i[0].charCodeAt(0),o=i[1].charCodeAt(0);if(o<s)throw new Error("[BitmapFont]: Invalid character range.");for(let a=s,l=o;a<=l;a++)e.push(String.fromCharCode(a))}else e.push(...Array.from(i))}if(e.length===0)throw new Error("[BitmapFont]: Empty set when resolving characters.");return e}let nB=0;class xat{constructor(){this.ALPHA=[["a","z"],["A","Z"]," "],this.NUMERIC=[["0","9"]],this.ALPHANUMERIC=[["a","z"],["A","Z"],["0","9"]," "],this.ASCII=[[" ","~"]],this.defaultOptions={chars:this.ALPHANUMERIC,resolution:1,padding:4,skipKerning:!1,textureStyle:null},this.measureCache=Kfe(1e3)}getFont(e,n){let r=`${n.fontFamily}-bitmap`,i=!0;if(n._fill.fill&&!n._stroke?(r+=n._fill.fill.styleKey,i=!1):(n._stroke||n.dropShadow)&&(r=`${n.styleKey}-bitmap`,i=!1),!Os.has(r)){const o=Object.create(n);o.lineHeight=0;const a=new AK({style:o,overrideFill:i,overrideSize:!0,...this.defaultOptions});nB++,nB>50&&to("BitmapText",`You have dynamically created ${nB} bitmap fonts, this can be inefficient. Try pre installing your font styles using \`BitmapFont.install({name:"style1", style})\``),a.once("destroy",()=>{nB--,Os.remove(r)}),Os.set(r,a)}const s=Os.get(r);return s.ensureCharacters?.(e),s}getLayout(e,n,r=!0){const i=this.getFont(e,n),s=`${e}-${n.styleKey}-${r}`;if(this.measureCache.has(s))return this.measureCache.get(s);const o=ds.graphemeSegmenter(e),a=mat(o,n,i,r);return this.measureCache.set(s,a),a}measureText(e,n,r=!0){return this.getLayout(e,n,r)}install(...e){let n=e[0];typeof n=="string"&&(n={name:n,style:e[1],chars:e[2]?.chars,resolution:e[2]?.resolution,padding:e[2]?.padding,skipKerning:e[2]?.skipKerning},Pr(Ni,"BitmapFontManager.install(name, style, options) is deprecated, use BitmapFontManager.install({name, style, ...options})"));const r=n?.name;if(!r)throw new Error("[BitmapFontManager] Property `name` is required.");n={...this.defaultOptions,...n};const i=n.style,s=i instanceof Sn?i:new Sn(i),o=n.dynamicFill??this._canUseTintForStyle(s),a=new AK({style:s,overrideFill:o,skipKerning:n.skipKerning,padding:n.padding,resolution:n.resolution,overrideSize:!1,textureStyle:n.textureStyle}),l=bat(n.chars);return a.ensureCharacters(l.join("")),Os.set(`${r}-bitmap`,a),a.once("destroy",()=>Os.remove(`${r}-bitmap`)),a}uninstall(e){const n=`${e}-bitmap`,r=Os.get(n);r&&r.destroy()}_canUseTintForStyle(e){return!e._stroke&&(!e.dropShadow||e.dropShadow.color===0)&&!e._fill.fill&&e._fill.color===16777215}}const yK=new xat;class ppe extends Gfe{constructor(e,n){super();const{textures:r,data:i}=e;Object.keys(i.pages).forEach(s=>{const o=i.pages[parseInt(s,10)],a=r[o.id];this.pages.push({texture:a})}),Object.keys(i.chars).forEach(s=>{const o=i.chars[s],{frame:a,source:l,rotate:u}=r[o.page],c=Cs.transformRectCoords(o,a,u,new rs),d=new er({frame:c,orig:new rs(0,0,o.width,o.height),source:l,rotate:u});this.chars[s]={id:s.codePointAt(0),xOffset:o.xOffset,yOffset:o.yOffset,xAdvance:o.xAdvance,kerning:o.kerning??{},texture:d}}),this.baseRenderedFontSize=i.fontSize,this.baseMeasurementFontSize=i.fontSize,this.fontMetrics={ascent:0,descent:0,fontSize:i.fontSize},this.baseLineOffset=i.baseLineOffset,this.lineHeight=i.lineHeight,this.fontFamily=i.fontFamily,this.distanceField=i.distanceField??{type:"none",range:0},this.url=n}destroy(){super.destroy();for(let e=0;e<this.pages.length;e++){const{texture:n}=this.pages[e];n.destroy(!0)}this.pages=null}static install(e){yK.install(e)}static uninstall(e){yK.uninstall(e)}}const iN={test(t){return typeof t=="string"&&t.startsWith("info face=")},parse(t){const e=t.match(/^[a-z]+\s+.+$/gm),n={info:[],common:[],page:[],char:[],chars:[],kerning:[],kernings:[],distanceField:[]};for(const d in e){const f=e[d].match(/^[a-z]+/gm)[0],p=e[d].match(/[a-zA-Z]+=([^\s"']+|"([^"]*)")/gm),m={};for(const v in p){const y=p[v].split("="),A=y[0],C=y[1].replace(/"/gm,""),E=parseFloat(C),I=isNaN(E)?C:E;m[A]=I}n[f].push(m)}const r={chars:{},pages:[],lineHeight:0,fontSize:0,fontFamily:"",distanceField:null,baseLineOffset:0},[i]=n.info,[s]=n.common,[o]=n.distanceField??[];o&&(r.distanceField={range:parseInt(o.distanceRange,10),type:o.fieldType}),r.fontSize=parseInt(i.size,10),r.fontFamily=i.face,r.lineHeight=parseInt(s.lineHeight,10);const a=n.page;for(let d=0;d<a.length;d++)r.pages.push({id:parseInt(a[d].id,10)||0,file:a[d].file});const l={};r.baseLineOffset=r.lineHeight-parseInt(s.base,10);const u=n.char;for(let d=0;d<u.length;d++){const f=u[d],p=parseInt(f.id,10);let m=f.letter??f.char??String.fromCharCode(p);m==="space"&&(m=" "),l[p]=m,r.chars[m]={id:p,page:parseInt(f.page,10)||0,x:parseInt(f.x,10),y:parseInt(f.y,10),width:parseInt(f.width,10),height:parseInt(f.height,10),xOffset:parseInt(f.xoffset,10),yOffset:parseInt(f.yoffset,10),xAdvance:parseInt(f.xadvance,10),kerning:{}}}const c=n.kerning||[];for(let d=0;d<c.length;d++){const f=parseInt(c[d].first,10),p=parseInt(c[d].second,10),m=parseInt(c[d].amount,10);r.chars[l[p]].kerning[l[f]]=m}return r}},vK={test(t){const e=t;return typeof e!="string"&&"getElementsByTagName"in e&&e.getElementsByTagName("page").length&&e.getElementsByTagName("info")[0].getAttribute("face")!==null},parse(t){const e={chars:{},pages:[],lineHeight:0,fontSize:0,fontFamily:"",distanceField:null,baseLineOffset:0},n=t.getElementsByTagName("info")[0],r=t.getElementsByTagName("common")[0],i=t.getElementsByTagName("distanceField")[0];i&&(e.distanceField={type:i.getAttribute("fieldType"),range:parseInt(i.getAttribute("distanceRange"),10)});const s=t.getElementsByTagName("page"),o=t.getElementsByTagName("char"),a=t.getElementsByTagName("kerning");e.fontSize=parseInt(n.getAttribute("size"),10),e.fontFamily=n.getAttribute("face"),e.lineHeight=parseInt(r.getAttribute("lineHeight"),10);for(let u=0;u<s.length;u++)e.pages.push({id:parseInt(s[u].getAttribute("id"),10)||0,file:s[u].getAttribute("file")});const l={};e.baseLineOffset=e.lineHeight-parseInt(r.getAttribute("base"),10);for(let u=0;u<o.length;u++){const c=o[u],d=parseInt(c.getAttribute("id"),10);let f=c.getAttribute("letter")??c.getAttribute("char")??String.fromCharCode(d);f==="space"&&(f=" "),l[d]=f,e.chars[f]={id:d,page:parseInt(c.getAttribute("page"),10)||0,x:parseInt(c.getAttribute("x"),10),y:parseInt(c.getAttribute("y"),10),width:parseInt(c.getAttribute("width"),10),height:parseInt(c.getAttribute("height"),10),xOffset:parseInt(c.getAttribute("xoffset"),10),yOffset:parseInt(c.getAttribute("yoffset"),10),xAdvance:parseInt(c.getAttribute("xadvance"),10),kerning:{}}}for(let u=0;u<a.length;u++){const c=parseInt(a[u].getAttribute("first"),10),d=parseInt(a[u].getAttribute("second"),10),f=parseInt(a[u].getAttribute("amount"),10);e.chars[l[d]].kerning[l[c]]=f}return e}},bK={test(t){return typeof t=="string"&&t.match(/<font(\s|>)/)?vK.test(hs.get().parseXML(t)):!1},parse(t){return vK.parse(hs.get().parseXML(t))}},Cat=[".xml",".fnt"],Eat={extension:{type:Qn.CacheParser,name:"cacheBitmapFont"},test:t=>t instanceof ppe,getCacheableAssets(t,e){const n={};return t.forEach(r=>{n[r]=e,n[`${r}-bitmap`]=e}),n[`${e.fontFamily}-bitmap`]=e,n}},Sat={extension:{type:Qn.LoadParser,priority:gv.Normal},name:"loadBitmapFont",id:"bitmap-font",test(t){return Cat.includes(Ad.extname(t).toLowerCase())},async testParse(t){return iN.test(t)||bK.test(t)},async parse(t,e,n){const r=iN.test(t)?iN.parse(t):bK.parse(t),{src:i}=e,{pages:s}=r,o=[],a=r.distanceField?{scaleMode:"linear",alphaMode:"premultiply-alpha-on-upload",autoGenerateMipmaps:!1,resolution:1}:{};for(let d=0;d<s.length;++d){const f=s[d].file;let p=Ad.join(Ad.dirname(i),f);p=RL(p,i),o.push({src:p,data:a})}const l=await n.load(o),u=o.map(d=>l[d.src]);return new ppe({data:r,textures:u},i)},async load(t,e){return await(await hs.get().fetch(t)).text()},async unload(t,e,n){await Promise.all(t.pages.map(r=>n.unload(r.texture.source._sourceOrigin))),t.destroy()}};class wat{constructor(e,n=!1){this._loader=e,this._assetList=[],this._isLoading=!1,this._maxConcurrent=1,this.verbose=n}add(e){e.forEach(n=>{this._assetList.push(n)}),this.verbose&&console.log("[BackgroundLoader] assets: ",this._assetList),this._isActive&&!this._isLoading&&this._next()}async _next(){if(this._assetList.length&&this._isActive){this._isLoading=!0;const e=[],n=Math.min(this._assetList.length,this._maxConcurrent);for(let r=0;r<n;r++)e.push(this._assetList.pop());await this._loader.load(e),this._isLoading=!1,this._next()}}get active(){return this._isActive}set active(e){this._isActive!==e&&(this._isActive=e,e&&!this._isLoading&&this._next())}}const _at={extension:{type:Qn.CacheParser,name:"cacheTextureArray"},test:t=>Array.isArray(t)&&t.every(e=>e instanceof er),getCacheableAssets:(t,e)=>{const n={};return t.forEach(r=>{e.forEach((i,s)=>{n[r+(s===0?"":s+1)]=i})}),n}};async function gpe(t){if("Image"in globalThis)return new Promise(e=>{const n=new Image;n.onload=()=>{e(!0)},n.onerror=()=>{e(!1)},n.src=t});if("createImageBitmap"in globalThis&&"fetch"in globalThis){try{const e=await(await fetch(t)).blob();await createImageBitmap(e)}catch{return!1}return!0}return!1}const Iat={extension:{type:Qn.DetectionParser,priority:1},test:async()=>gpe("data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAAB0AAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAIAAAACAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQ0MAAAAABNjb2xybmNseAACAAIAAYAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAACVtZGF0EgAKCBgANogQEAwgMg8f8D///8WfhwB8+ErK42A="),add:async t=>[...t,"avif"],remove:async t=>t.filter(e=>e!=="avif")},xK=["png","jpg","jpeg"],Bat={extension:{type:Qn.DetectionParser,priority:-1},test:()=>Promise.resolve(!0),add:async t=>[...t,...xK],remove:async t=>t.filter(e=>!xK.includes(e))},Dat="WorkerGlobalScope"in globalThis&&globalThis instanceof globalThis.WorkerGlobalScope;function bM(t){return Dat?!1:document.createElement("video").canPlayType(t)!==""}const Tat={extension:{type:Qn.DetectionParser,priority:0},test:async()=>bM("video/mp4"),add:async t=>[...t,"mp4","m4v"],remove:async t=>t.filter(e=>e!=="mp4"&&e!=="m4v")},Mat={extension:{type:Qn.DetectionParser,priority:0},test:async()=>bM("video/ogg"),add:async t=>[...t,"ogv"],remove:async t=>t.filter(e=>e!=="ogv")},kat={extension:{type:Qn.DetectionParser,priority:0},test:async()=>bM("video/webm"),add:async t=>[...t,"webm"],remove:async t=>t.filter(e=>e!=="webm")},Pat={extension:{type:Qn.DetectionParser,priority:0},test:async()=>gpe("data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAAAAAAfQ//73v/+BiOh/AAA="),add:async t=>[...t,"webp"],remove:async t=>t.filter(e=>e!=="webp")},mpe=class QB{constructor(){this.loadOptions={...QB.defaultOptions},this._parsers=[],this._parsersValidated=!1,this.parsers=new Proxy(this._parsers,{set:(e,n,r)=>(this._parsersValidated=!1,e[n]=r,!0)}),this.promiseCache={}}reset(){this._parsersValidated=!1,this.promiseCache={}}_getLoadPromiseAndParser(e,n){const r={promise:null,parser:null};return r.promise=(async()=>{let i=null,s=null;if((n.parser||n.loadParser)&&(s=this._parserHash[n.parser||n.loadParser],n.loadParser&&to(`[Assets] "loadParser" is deprecated, use "parser" instead for ${e}`),s||to(`[Assets] specified load parser "${n.parser||n.loadParser}" not found while loading ${e}`)),!s){for(let o=0;o<this.parsers.length;o++){const a=this.parsers[o];if(a.load&&a.test?.(e,n,this)){s=a;break}}if(!s)return to(`[Assets] ${e} could not be loaded as we don't know how to parse it, ensure the correct parser has been added`),null}i=await s.load(e,n,this),r.parser=s;for(let o=0;o<this.parsers.length;o++){const a=this.parsers[o];a.parse&&a.parse&&await a.testParse?.(i,n,this)&&(i=await a.parse(i,n,this)||i,r.parser=a)}return i})(),r}async load(e,n){this._parsersValidated||this._validateParsers();const r=typeof n=="function"?{...QB.defaultOptions,...this.loadOptions,onProgress:n}:{...QB.defaultOptions,...this.loadOptions,...n||{}},{onProgress:i,onError:s,strategy:o,retryCount:a,retryDelay:l}=r;let u=0;const c={},d=qD(e),f=Dp(e,v=>({alias:[v],src:v,data:{}})),p=f.reduce((v,y)=>v+(y.progressSize||1),0),m=f.map(async v=>{const y=Ad.toAbsolute(v.src);c[v.src]||(await this._loadAssetWithRetry(y,v,{onProgress:i,onError:s,strategy:o,retryCount:a,retryDelay:l},c),u+=v.progressSize||1,i&&i(u/p))});return await Promise.all(m),d?c[f[0].src]:c}async unload(e){const r=Dp(e,i=>({alias:[i],src:i})).map(async i=>{const s=Ad.toAbsolute(i.src),o=this.promiseCache[s];if(o){const a=await o.promise;delete this.promiseCache[s],await o.parser?.unload?.(a,i,this)}});await Promise.all(r)}_validateParsers(){this._parsersValidated=!0,this._parserHash=this._parsers.filter(e=>e.name||e.id).reduce((e,n)=>(!n.name&&!n.id?to("[Assets] parser should have an id"):(e[n.name]||e[n.id])&&to(`[Assets] parser id conflict "${n.id}"`),e[n.name]=n,n.id&&(e[n.id]=n),e),{})}async _loadAssetWithRetry(e,n,r,i){let s=0;const{onError:o,strategy:a,retryCount:l,retryDelay:u}=r,c=d=>new Promise(f=>setTimeout(f,d));for(;;)try{this.promiseCache[e]||(this.promiseCache[e]=this._getLoadPromiseAndParser(e,n)),i[n.src]=await this.promiseCache[e].promise;return}catch(d){delete this.promiseCache[e],delete i[n.src],s++;const f=a!=="retry"||s>l;if(a==="retry"&&!f){o&&o(d,n),await c(u);continue}if(a==="skip"){o&&o(d,n);return}throw o&&o(d,n),new Error(`[Loader.load] Failed to load ${e}.
${d}`)}}};mpe.defaultOptions={onProgress:void 0,onError:void 0,strategy:"throw",retryCount:3,retryDelay:250};let Rat=mpe;function yS(t,e){if(Array.isArray(e)){for(const n of e)if(t.startsWith(`data:${n}`))return!0;return!1}return t.startsWith(`data:${e}`)}function vS(t,e){const n=t.split("?")[0],r=Ad.extname(n).toLowerCase();return Array.isArray(e)?e.includes(r):r===e}const Nat=".json",Lat="application/json",Fat={extension:{type:Qn.LoadParser,priority:gv.Low},name:"loadJson",id:"json",test(t){return yS(t,Lat)||vS(t,Nat)},async load(t){return await(await hs.get().fetch(t)).json()}},$at=".txt",zat="text/plain",Oat={name:"loadTxt",id:"text",extension:{type:Qn.LoadParser,priority:gv.Low,name:"loadTxt"},test(t){return yS(t,zat)||vS(t,$at)},async load(t){return await(await hs.get().fetch(t)).text()}},jat=["normal","bold","100","200","300","400","500","600","700","800","900"],Qat=[".ttf",".otf",".woff",".woff2"],Uat=["font/ttf","font/otf","font/woff","font/woff2"],Hat=/^(--|-?[A-Z_])[0-9A-Z_-]*$/i;function Vat(t){const e=Ad.extname(t),i=Ad.basename(t,e).replace(/(-|_)/g," ").toLowerCase().split(" ").map(a=>a.charAt(0).toUpperCase()+a.slice(1));let s=i.length>0;for(const a of i)if(!a.match(Hat)){s=!1;break}let o=i.join(" ");return s||(o=`"${o.replace(/[\\"]/g,"\\$&")}"`),o}const Gat=/^[0-9A-Za-z%:/?#\[\]@!\$&'()\*\+,;=\-._~]*$/;function Kat(t){return Gat.test(t)?t:encodeURI(t)}const Wat={extension:{type:Qn.LoadParser,priority:gv.Low},name:"loadWebFont",id:"web-font",test(t){return yS(t,Uat)||vS(t,Qat)},async load(t,e){const n=hs.get().getFontFaceSet();if(n){const r=[],i=e.data?.family??Vat(t),s=e.data?.weights?.filter(a=>jat.includes(a))??["normal"],o=e.data??{};for(let a=0;a<s.length;a++){const l=s[a],u=new FontFace(i,`url(${Kat(t)})`,{...o,weight:l});await u.load(),n.add(u),r.push(u)}return Os.has(`${i}-and-url`)?Os.get(`${i}-and-url`).entries.push({url:t,faces:r}):Os.set(`${i}-and-url`,{entries:[{url:t,faces:r}]}),r.length===1?r[0]:r}return to("[loadWebFont] FontFace API is not supported. Skipping loading font"),null},unload(t){const e=Array.isArray(t)?t:[t],n=e[0].family,r=Os.get(`${n}-and-url`),i=r.entries.find(s=>s.faces.some(o=>e.indexOf(o)!==-1));i.faces=i.faces.filter(s=>e.indexOf(s)===-1),i.faces.length===0&&(r.entries=r.entries.filter(s=>s!==i)),e.forEach(s=>{hs.get().getFontFaceSet().delete(s)}),r.entries.length===0&&Os.remove(`${n}-and-url`)}};function i7(t,e=1){const n=AS.RETINA_PREFIX?.exec(t);return n?parseFloat(n[1]):e}function s7(t,e,n){t.label=n,t._sourceOrigin=n;const r=new er({source:t,label:n}),i=()=>{delete e.promiseCache[n],Os.has(n)&&Os.remove(n)};return r.source.once("destroy",()=>{e.promiseCache[n]&&(to("[Assets] A TextureSource managed by Assets was destroyed instead of unloaded! Use Assets.unload() instead of destroying the TextureSource."),i())}),r.once("destroy",()=>{t.destroyed||(to("[Assets] A Texture managed by Assets was destroyed instead of unloaded! Use Assets.unload() instead of destroying the Texture."),i())}),r}const qat=".svg",Yat="image/svg+xml",Xat={extension:{type:Qn.LoadParser,priority:gv.Low,name:"loadSVG"},name:"loadSVG",id:"svg",config:{crossOrigin:"anonymous",parseAsGraphicsContext:!1},test(t){return yS(t,Yat)||vS(t,qat)},async load(t,e,n){return e.data?.parseAsGraphicsContext??this.config.parseAsGraphicsContext?Zat(t):Jat(t,e,n,this.config.crossOrigin)},unload(t){t.destroy(!0)}};async function Jat(t,e,n,r){const i=await hs.get().fetch(t),s=hs.get().createImage();s.src=`data:image/svg+xml;charset=utf-8,${encodeURIComponent(await i.text())}`,s.crossOrigin=r,await s.decode();const o=e.data?.width??s.width,a=e.data?.height??s.height,l=e.data?.resolution||i7(t),u=Math.ceil(o*l),c=Math.ceil(a*l),d=hs.get().createCanvas(u,c),f=d.getContext("2d");f.imageSmoothingEnabled=!0,f.imageSmoothingQuality="high",f.drawImage(s,0,0,o*l,a*l);const{parseAsGraphicsContext:p,...m}=e.data??{},v=new Jx({resource:d,alphaMode:"premultiply-alpha-on-upload",resolution:l,...m});return s7(v,n,t)}async function Zat(t){const n=await(await hs.get().fetch(t)).text(),r=new af;return r.svg(n),r}const elt=`(function () {
    'use strict';

    const WHITE_PNG = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mP8/x8AAwMCAO+ip1sAAAAASUVORK5CYII=";
    async function checkImageBitmap() {
      try {
        if (typeof createImageBitmap !== "function")
          return false;
        const response = await fetch(WHITE_PNG);
        const imageBlob = await response.blob();
        const imageBitmap = await createImageBitmap(imageBlob);
        return imageBitmap.width === 1 && imageBitmap.height === 1;
      } catch (_e) {
        return false;
      }
    }
    void checkImageBitmap().then((result) => {
      self.postMessage(result);
    });

})();
`;let xE=null,KL=class{constructor(){xE||(xE=URL.createObjectURL(new Blob([elt],{type:"application/javascript"}))),this.worker=new Worker(xE)}};KL.revokeObjectURL=function(){xE&&(URL.revokeObjectURL(xE),xE=null)};const tlt=`(function () {
    'use strict';

    async function loadImageBitmap(url, alphaMode) {
      const response = await fetch(url);
      if (!response.ok) {
        throw new Error(\`[WorkerManager.loadImageBitmap] Failed to fetch \${url}: \${response.status} \${response.statusText}\`);
      }
      const imageBlob = await response.blob();
      return alphaMode === "premultiplied-alpha" ? createImageBitmap(imageBlob, { premultiplyAlpha: "none" }) : createImageBitmap(imageBlob);
    }
    self.onmessage = async (event) => {
      try {
        const imageBitmap = await loadImageBitmap(event.data.data[0], event.data.data[1]);
        self.postMessage({
          data: imageBitmap,
          uuid: event.data.uuid,
          id: event.data.id
        }, [imageBitmap]);
      } catch (e) {
        self.postMessage({
          error: e,
          uuid: event.data.uuid,
          id: event.data.id
        });
      }
    };

})();
`;let CE=null;class Ape{constructor(){CE||(CE=URL.createObjectURL(new Blob([tlt],{type:"application/javascript"}))),this.worker=new Worker(CE)}}Ape.revokeObjectURL=function(){CE&&(URL.revokeObjectURL(CE),CE=null)};let CK=0,sN;class nlt{constructor(){this._initialized=!1,this._createdWorkers=0,this._workerPool=[],this._queue=[],this._resolveHash={}}isImageBitmapSupported(){return this._isImageBitmapSupported!==void 0?this._isImageBitmapSupported:(this._isImageBitmapSupported=new Promise(e=>{const{worker:n}=new KL;n.addEventListener("message",r=>{n.terminate(),KL.revokeObjectURL(),e(r.data)})}),this._isImageBitmapSupported)}loadImageBitmap(e,n){return this._run("loadImageBitmap",[e,n?.data?.alphaMode])}async _initWorkers(){this._initialized||(this._initialized=!0)}_getWorker(){sN===void 0&&(sN=navigator.hardwareConcurrency||4);let e=this._workerPool.pop();return!e&&this._createdWorkers<sN&&(this._createdWorkers++,e=new Ape().worker,e.addEventListener("message",n=>{this._complete(n.data),this._returnWorker(n.target),this._next()})),e}_returnWorker(e){this._workerPool.push(e)}_complete(e){this._resolveHash[e.uuid]&&(e.error!==void 0?this._resolveHash[e.uuid].reject(e.error):this._resolveHash[e.uuid].resolve(e.data),delete this._resolveHash[e.uuid])}async _run(e,n){await this._initWorkers();const r=new Promise((i,s)=>{this._queue.push({id:e,arguments:n,resolve:i,reject:s})});return this._next(),r}_next(){if(!this._queue.length)return;const e=this._getWorker();if(!e)return;const n=this._queue.pop(),r=n.id;this._resolveHash[CK]={resolve:n.resolve,reject:n.reject},e.postMessage({data:n.arguments,uuid:CK++,id:r})}reset(){this._workerPool.forEach(e=>e.terminate()),this._workerPool.length=0,Object.values(this._resolveHash).forEach(({reject:e})=>{e?.(new Error("WorkerManager has been reset before completion"))}),this._resolveHash={},this._queue.length=0,this._initialized=!1,this._createdWorkers=0}}const EK=new nlt,rlt=[".jpeg",".jpg",".png",".webp",".avif"],ilt=["image/jpeg","image/png","image/webp","image/avif"];async function slt(t,e){const n=await hs.get().fetch(t);if(!n.ok)throw new Error(`[loadImageBitmap] Failed to fetch ${t}: ${n.status} ${n.statusText}`);const r=await n.blob();return e?.data?.alphaMode==="premultiplied-alpha"?createImageBitmap(r,{premultiplyAlpha:"none"}):createImageBitmap(r)}const ype={name:"loadTextures",id:"texture",extension:{type:Qn.LoadParser,priority:gv.High,name:"loadTextures"},config:{preferWorkers:!0,preferCreateImageBitmap:!0,crossOrigin:"anonymous"},test(t){return yS(t,ilt)||vS(t,rlt)},async load(t,e,n){let r=null;globalThis.createImageBitmap&&this.config.preferCreateImageBitmap?this.config.preferWorkers&&await EK.isImageBitmapSupported()?r=await EK.loadImageBitmap(t,e):r=await slt(t,e):r=await new Promise((s,o)=>{r=hs.get().createImage(),r.crossOrigin=this.config.crossOrigin,r.src=t,r.complete?s(r):(r.onload=()=>{s(r)},r.onerror=o)});const i=new Jx({resource:r,alphaMode:"premultiply-alpha-on-upload",resolution:e.data?.resolution||i7(t),...e.data});return s7(i,n,t)},unload(t){t.destroy(!0)}},olt=[".mp4",".m4v",".webm",".ogg",".ogv",".h264",".avi",".mov"];let oN,aN;function alt(t,e,n){n===void 0&&!e.startsWith("data:")?t.crossOrigin=ult(e):n!==!1&&(t.crossOrigin=typeof n=="string"?n:"anonymous")}function llt(t){return new Promise((e,n)=>{t.addEventListener("canplaythrough",r),t.addEventListener("error",i),t.load();function r(){s(),e()}function i(o){s(),n(o)}function s(){t.removeEventListener("canplaythrough",r),t.removeEventListener("error",i)}})}function ult(t,e=globalThis.location){if(t.startsWith("data:"))return"";e||(e=globalThis.location);const n=new URL(t,document.baseURI);return n.hostname!==e.hostname||n.port!==e.port||n.protocol!==e.protocol?"anonymous":""}function clt(){const t=[],e=[];for(const n of olt){const r=N_.MIME_TYPES[n.substring(1)]||`video/${n.substring(1)}`;bM(r)&&(t.push(n),e.includes(r)||e.push(r))}return{validVideoExtensions:t,validVideoMime:e}}const dlt={name:"loadVideo",id:"video",extension:{type:Qn.LoadParser,name:"loadVideo"},test(t){if(!oN||!aN){const{validVideoExtensions:r,validVideoMime:i}=clt();oN=r,aN=i}const e=yS(t,aN),n=vS(t,oN);return e||n},async load(t,e,n){const r={...N_.defaultOptions,resolution:e.data?.resolution||i7(t),alphaMode:e.data?.alphaMode||await Cfe(),...e.data},i=document.createElement("video"),s={preload:r.autoLoad!==!1?"auto":void 0,"webkit-playsinline":r.playsinline!==!1?"":void 0,playsinline:r.playsinline!==!1?"":void 0,muted:r.muted===!0?"":void 0,loop:r.loop===!0?"":void 0,autoplay:r.autoPlay!==!1?"":void 0};Object.keys(s).forEach(l=>{const u=s[l];u!==void 0&&i.setAttribute(l,u)}),r.muted===!0&&(i.muted=!0),alt(i,t,r.crossorigin);const o=document.createElement("source");let a;if(r.mime)a=r.mime;else if(t.startsWith("data:"))a=t.slice(5,t.indexOf(";"));else if(!t.startsWith("blob:")){const l=t.split("?")[0].slice(t.lastIndexOf(".")+1).toLowerCase();a=N_.MIME_TYPES[l]||`video/${l}`}return o.src=t,a&&(o.type=a),new Promise(l=>{const u=async()=>{const c=new N_({...r,resource:i});i.removeEventListener("canplay",u),e.data.preload&&await llt(i),l(s7(c,n,t))};r.preload&&!r.autoPlay&&i.load(),i.addEventListener("canplay",u),i.appendChild(o)})},unload(t){t.destroy(!0)}},vpe={extension:{type:Qn.ResolveParser,name:"resolveTexture"},test:ype.test,parse:t=>({resolution:parseFloat(AS.RETINA_PREFIX.exec(t)?.[1]??"1"),format:t.split(".").pop(),src:t})},hlt={extension:{type:Qn.ResolveParser,priority:-2,name:"resolveJson"},test:t=>AS.RETINA_PREFIX.test(t)&&t.endsWith(".json"),parse:vpe.parse};class flt{constructor(){this._detections=[],this._initialized=!1,this.resolver=new AS,this.loader=new Rat,this.cache=Os,this._backgroundLoader=new wat(this.loader),this._backgroundLoader.active=!0,this.reset()}async init(e={}){if(this._initialized){to("[Assets]AssetManager already initialized, did you load before calling this Assets.init()?");return}if(this._initialized=!0,e.defaultSearchParams&&this.resolver.setDefaultSearchParams(e.defaultSearchParams),e.basePath&&(this.resolver.basePath=e.basePath),e.bundleIdentifier&&this.resolver.setBundleIdentifier(e.bundleIdentifier),e.manifest){let s=e.manifest;typeof s=="string"&&(s=await this.load(s)),this.resolver.addManifest(s)}const n=e.texturePreference?.resolution??1,r=typeof n=="number"?[n]:n,i=await this._detectFormats({preferredFormats:e.texturePreference?.format,skipDetections:e.skipDetections,detections:this._detections});this.resolver.prefer({params:{format:i,resolution:r}}),e.preferences&&this.setPreferences(e.preferences),e.loadOptions&&(this.loader.loadOptions={...this.loader.loadOptions,...e.loadOptions})}add(e){this.resolver.add(e)}async load(e,n){this._initialized||await this.init();const r=qD(e),i=Dp(e).map(a=>{if(typeof a!="string"){const l=this.resolver.getAlias(a);return l.some(u=>!this.resolver.hasKey(u))&&this.add(a),Array.isArray(l)?l[0]:l}return this.resolver.hasKey(a)||this.add({alias:a,src:a}),a}),s=this.resolver.resolve(i),o=await this._mapLoadToResolve(s,n);return r?o[i[0]]:o}addBundle(e,n){this.resolver.addBundle(e,n)}async loadBundle(e,n){this._initialized||await this.init();let r=!1;typeof e=="string"&&(r=!0,e=[e]);const i=this.resolver.resolveBundle(e),s={},o=Object.keys(i);let a=0;const l=[],u=()=>{n?.(l.reduce((d,f)=>d+f,0)/a)},c=o.map((d,f)=>{const p=i[d],m=Object.values(p),y=[...new Set(m.flat())].reduce((A,C)=>A+(C.progressSize||1),0);return l.push(0),a+=y,this._mapLoadToResolve(p,A=>{l[f]=A*y,u()}).then(A=>{s[d]=A})});return await Promise.all(c),r?s[e[0]]:s}async backgroundLoad(e){this._initialized||await this.init(),typeof e=="string"&&(e=[e]);const n=this.resolver.resolve(e);this._backgroundLoader.add(Object.values(n))}async backgroundLoadBundle(e){this._initialized||await this.init(),typeof e=="string"&&(e=[e]);const n=this.resolver.resolveBundle(e);Object.values(n).forEach(r=>{this._backgroundLoader.add(Object.values(r))})}reset(){this.resolver.reset(),this.loader.reset(),this.cache.reset(),this._initialized=!1}get(e){if(typeof e=="string")return Os.get(e);const n={};for(let r=0;r<e.length;r++)n[r]=Os.get(e[r]);return n}async _mapLoadToResolve(e,n){const r=[...new Set(Object.values(e))];this._backgroundLoader.active=!1;const i=await this.loader.load(r,n);this._backgroundLoader.active=!0;const s={};return r.forEach(o=>{const a=i[o.src],l=[o.src];o.alias&&l.push(...o.alias),l.forEach(u=>{s[u]=a}),Os.set(l,a)}),s}async unload(e){this._initialized||await this.init();const n=Dp(e).map(i=>typeof i!="string"?i.src:i),r=this.resolver.resolve(n);await this._unloadFromResolved(r)}async unloadBundle(e){this._initialized||await this.init(),e=Dp(e);const n=this.resolver.resolveBundle(e),r=Object.keys(n).map(i=>this._unloadFromResolved(n[i]));await Promise.all(r)}async _unloadFromResolved(e){const n=Object.values(e);n.forEach(r=>{Os.remove(r.src)}),await this.loader.unload(n)}async _detectFormats(e){let n=[];e.preferredFormats&&(n=Array.isArray(e.preferredFormats)?e.preferredFormats:[e.preferredFormats]);for(const r of e.detections)e.skipDetections||await r.test()?n=await r.add(n):e.skipDetections||(n=await r.remove(n));return n=n.filter((r,i)=>n.indexOf(r)===i),n}get detections(){return this._detections}setPreferences(e){this.loader.parsers.forEach(n=>{n.config&&Object.keys(n.config).filter(r=>r in e).forEach(r=>{n.config[r]=e[r]})})}}const u_=new flt;mo.handleByList(Qn.LoadParser,u_.loader.parsers).handleByList(Qn.ResolveParser,u_.resolver.parsers).handleByList(Qn.CacheParser,u_.cache.parsers).handleByList(Qn.DetectionParser,u_.detections);mo.add(_at,Bat,Iat,Pat,Tat,Mat,kat,Fat,Oat,Wat,Xat,ype,dlt,Sat,Eat,vpe,hlt);const SK={loader:Qn.LoadParser,resolver:Qn.ResolveParser,cache:Qn.CacheParser,detection:Qn.DetectionParser};mo.handle(Qn.Asset,t=>{const e=t.ref;Object.entries(SK).filter(([n])=>!!e[n]).forEach(([n,r])=>mo.add(Object.assign(e[n],{extension:e[n].extension??r})))},t=>{const e=t.ref;Object.keys(SK).filter(n=>!!e[n]).forEach(n=>mo.remove(e[n]))});let Qi=class WL extends fC{constructor(e){e instanceof af&&(e={context:e});const{context:n,roundPixels:r,...i}=e||{};super({label:"Graphics",...i}),this.renderPipeId="graphics",n?this._context=n:this._context=this._ownedContext=new af,this._context.on("update",this.onViewUpdate,this),this.didViewUpdate=!0,this.allowChildren=!1,this.roundPixels=r??!1}set context(e){e!==this._context&&(this._context.off("update",this.onViewUpdate,this),this._context=e,this._context.on("update",this.onViewUpdate,this),this.onViewUpdate())}get context(){return this._context}get bounds(){return this._context.bounds}updateBounds(){}containsPoint(e){return this._context.containsPoint(e)}destroy(e){this._ownedContext&&!e?this._ownedContext.destroy(e):(e===!0||e?.context===!0)&&this._context.destroy(e),this._ownedContext=null,this._context=null,super.destroy(e)}_callContextMethod(e,n){return this.context[e](...n),this}setFillStyle(...e){return this._callContextMethod("setFillStyle",e)}setStrokeStyle(...e){return this._callContextMethod("setStrokeStyle",e)}fill(...e){return this._callContextMethod("fill",e)}stroke(...e){return this._callContextMethod("stroke",e)}texture(...e){return this._callContextMethod("texture",e)}beginPath(){return this._callContextMethod("beginPath",[])}cut(){return this._callContextMethod("cut",[])}arc(...e){return this._callContextMethod("arc",e)}arcTo(...e){return this._callContextMethod("arcTo",e)}arcToSvg(...e){return this._callContextMethod("arcToSvg",e)}bezierCurveTo(...e){return this._callContextMethod("bezierCurveTo",e)}closePath(){return this._callContextMethod("closePath",[])}ellipse(...e){return this._callContextMethod("ellipse",e)}circle(...e){return this._callContextMethod("circle",e)}path(...e){return this._callContextMethod("path",e)}lineTo(...e){return this._callContextMethod("lineTo",e)}moveTo(...e){return this._callContextMethod("moveTo",e)}quadraticCurveTo(...e){return this._callContextMethod("quadraticCurveTo",e)}rect(...e){return this._callContextMethod("rect",e)}roundRect(...e){return this._callContextMethod("roundRect",e)}poly(...e){return this._callContextMethod("poly",e)}regularPoly(...e){return this._callContextMethod("regularPoly",e)}roundPoly(...e){return this._callContextMethod("roundPoly",e)}roundShape(...e){return this._callContextMethod("roundShape",e)}filletRect(...e){return this._callContextMethod("filletRect",e)}chamferRect(...e){return this._callContextMethod("chamferRect",e)}star(...e){return this._callContextMethod("star",e)}svg(...e){return this._callContextMethod("svg",e)}restore(...e){return this._callContextMethod("restore",e)}save(){return this._callContextMethod("save",[])}getTransform(){return this.context.getTransform()}resetTransform(){return this._callContextMethod("resetTransform",[])}rotateTransform(...e){return this._callContextMethod("rotate",e)}scaleTransform(...e){return this._callContextMethod("scale",e)}setTransform(...e){return this._callContextMethod("setTransform",e)}transform(...e){return this._callContextMethod("transform",e)}translateTransform(...e){return this._callContextMethod("translate",e)}clear(){return this._callContextMethod("clear",[])}get fillStyle(){return this._context.fillStyle}set fillStyle(e){this._context.fillStyle=e}get strokeStyle(){return this._context.strokeStyle}set strokeStyle(e){this._context.strokeStyle=e}clone(e=!1){return e?new WL(this._context.clone()):(this._ownedContext=null,new WL(this._context))}lineStyle(e,n,r){Pr(Ni,"Graphics#lineStyle is no longer needed. Use Graphics#setStrokeStyle to set the stroke style.");const i={};return e&&(i.width=e),n&&(i.color=n),r&&(i.alpha=r),this.context.strokeStyle=i,this}beginFill(e,n){Pr(Ni,"Graphics#beginFill is no longer needed. Use Graphics#fill to fill the shape with the desired style.");const r={};return e!==void 0&&(r.color=e),n!==void 0&&(r.alpha=n),this.context.fillStyle=r,this}endFill(){Pr(Ni,"Graphics#endFill is no longer needed. Use Graphics#fill to fill the shape with the desired style."),this.context.fill();const e=this.context.strokeStyle;return(e.width!==af.defaultStrokeStyle.width||e.color!==af.defaultStrokeStyle.color||e.alpha!==af.defaultStrokeStyle.alpha)&&this.context.stroke(),this}drawCircle(...e){return Pr(Ni,"Graphics#drawCircle has been renamed to Graphics#circle"),this._callContextMethod("circle",e)}drawEllipse(...e){return Pr(Ni,"Graphics#drawEllipse has been renamed to Graphics#ellipse"),this._callContextMethod("ellipse",e)}drawPolygon(...e){return Pr(Ni,"Graphics#drawPolygon has been renamed to Graphics#poly"),this._callContextMethod("poly",e)}drawRect(...e){return Pr(Ni,"Graphics#drawRect has been renamed to Graphics#rect"),this._callContextMethod("rect",e)}drawRoundedRect(...e){return Pr(Ni,"Graphics#drawRoundedRect has been renamed to Graphics#roundRect"),this._callContextMethod("roundRect",e)}drawStar(...e){return Pr(Ni,"Graphics#drawStar has been renamed to Graphics#star"),this._callContextMethod("star",e)}};const bpe=class xpe extends Jfe{constructor(...e){let n=e[0]??{};n instanceof Float32Array&&(Pr(Ni,"use new MeshGeometry({ positions, uvs, indices }) instead"),n={positions:n,uvs:e[1],indices:e[2]}),n={...xpe.defaultOptions,...n};const r=n.positions||new Float32Array([0,0,1,0,1,1,0,1]);let i=n.uvs;i||(n.positions?i=new Float32Array(r.length):i=new Float32Array([0,0,1,0,1,1,0,1]));const s=n.indices||new Uint32Array([0,1,2,0,2,3]),o=n.shrinkBuffersToFit,a=new qy({data:r,label:"attribute-mesh-positions",shrinkToFit:o,usage:$a.VERTEX|$a.COPY_DST}),l=new qy({data:i,label:"attribute-mesh-uvs",shrinkToFit:o,usage:$a.VERTEX|$a.COPY_DST}),u=new qy({data:s,label:"index-mesh-buffer",shrinkToFit:o,usage:$a.INDEX|$a.COPY_DST});super({attributes:{aPosition:{buffer:a,format:"float32x2",stride:8,offset:0},aUV:{buffer:l,format:"float32x2",stride:8,offset:0}},indexBuffer:u,topology:n.topology}),this.batchMode="auto"}get positions(){return this.attributes.aPosition.buffer.data}set positions(e){this.attributes.aPosition.buffer.data=e}get uvs(){return this.attributes.aUV.buffer.data}set uvs(e){this.attributes.aUV.buffer.data=e}get indices(){return this.indexBuffer.data}set indices(e){this.indexBuffer.data=e}};bpe.defaultOptions={topology:"triangle-list",shrinkBuffersToFit:!1};let plt=bpe;class glt{constructor({matrix:e,observer:n}={}){this.dirty=!0,this._matrix=e??new mi,this.observer=n,this.position=new lo(this,0,0),this.scale=new lo(this,1,1),this.pivot=new lo(this,0,0),this.skew=new lo(this,0,0),this._rotation=0,this._cx=1,this._sx=0,this._cy=0,this._sy=1}get matrix(){const e=this._matrix;return this.dirty&&(e.a=this._cx*this.scale.x,e.b=this._sx*this.scale.x,e.c=this._cy*this.scale.y,e.d=this._sy*this.scale.y,e.tx=this.position.x-(this.pivot.x*e.a+this.pivot.y*e.c),e.ty=this.position.y-(this.pivot.x*e.b+this.pivot.y*e.d),this.dirty=!1),e}_onUpdate(e){this.dirty=!0,e===this.skew&&this.updateSkew(),this.observer?._onUpdate(this)}updateSkew(){this._cx=Math.cos(this._rotation+this.skew.y),this._sx=Math.sin(this._rotation+this.skew.y),this._cy=-Math.sin(this._rotation-this.skew.x),this._sy=Math.cos(this._rotation-this.skew.x),this.dirty=!0}toString(){return`[pixi.js/math:Transform position=(${this.position.x}, ${this.position.y}) rotation=${this.rotation} scale=(${this.scale.x}, ${this.scale.y}) skew=(${this.skew.x}, ${this.skew.y}) ]`}setFromMatrix(e){e.decompose(this),this.dirty=!0}get rotation(){return this._rotation}set rotation(e){this._rotation!==e&&(this._rotation=e,this._onUpdate(this.skew))}}const Cpe=class UB extends fC{constructor(...e){let n=e[0]||{};n instanceof er&&(n={texture:n}),e.length>1&&(Pr(Ni,"use new TilingSprite({ texture, width:100, height:100 }) instead"),n.width=e[1],n.height=e[2]),n={...UB.defaultOptions,...n};const{texture:r,anchor:i,tilePosition:s,tileScale:o,tileRotation:a,width:l,height:u,applyAnchorToTexture:c,roundPixels:d,...f}=n??{};super({label:"TilingSprite",...f}),this.renderPipeId="tilingSprite",this.batched=!0,this.allowChildren=!1,this._anchor=new lo({_onUpdate:()=>{this.onViewUpdate()}}),this.applyAnchorToTexture=c,this.texture=r,this._width=l??r.width,this._height=u??r.height,this._tileTransform=new glt({observer:{_onUpdate:()=>this.onViewUpdate()}}),i&&(this.anchor=i),this.tilePosition=s,this.tileScale=o,this.tileRotation=a,this.roundPixels=d??!1}static from(e,n={}){return typeof e=="string"?new UB({texture:Os.get(e),...n}):new UB({texture:e,...n})}get uvRespectAnchor(){return Pr(Ni,"uvRespectAnchor is deprecated, please use applyAnchorToTexture instead"),this.applyAnchorToTexture}set uvRespectAnchor(e){Pr(Ni,"uvRespectAnchor is deprecated, please use applyAnchorToTexture instead"),this.applyAnchorToTexture=e}get clampMargin(){return this._texture.textureMatrix.clampMargin}set clampMargin(e){this._texture.textureMatrix.clampMargin=e}get anchor(){return this._anchor}set anchor(e){typeof e=="number"?this._anchor.set(e):this._anchor.copyFrom(e)}get tilePosition(){return this._tileTransform.position}set tilePosition(e){this._tileTransform.position.copyFrom(e)}get tileScale(){return this._tileTransform.scale}set tileScale(e){typeof e=="number"?this._tileTransform.scale.set(e):this._tileTransform.scale.copyFrom(e)}set tileRotation(e){this._tileTransform.rotation=e}get tileRotation(){return this._tileTransform.rotation}get tileTransform(){return this._tileTransform}set texture(e){e||(e=er.EMPTY);const n=this._texture;n!==e&&(n&&n.dynamic&&n.off("update",this.onViewUpdate,this),e.dynamic&&e.on("update",this.onViewUpdate,this),this._texture=e,this.onViewUpdate())}get texture(){return this._texture}set width(e){this._width=e,this.onViewUpdate()}get width(){return this._width}set height(e){this._height=e,this.onViewUpdate()}get height(){return this._height}setSize(e,n){typeof e=="object"&&(n=e.height??e.width,e=e.width),this._width=e,this._height=n??e,this.onViewUpdate()}getSize(e){return e||(e={}),e.width=this._width,e.height=this._height,e}updateBounds(){const e=this._bounds,n=this._anchor,r=this._width,i=this._height;e.minX=-n._x*r,e.maxX=e.minX+r,e.minY=-n._y*i,e.maxY=e.minY+i}containsPoint(e){const n=this._width,r=this._height,i=-n*this._anchor._x;let s=0;return e.x>=i&&e.x<=i+n&&(s=-r*this._anchor._y,e.y>=s&&e.y<=s+r)}destroy(e=!1){if(super.destroy(e),this._anchor=null,this._tileTransform=null,this._bounds=null,typeof e=="boolean"?e:e?.texture){const r=typeof e=="boolean"?e:e?.textureSource;this._texture.destroy(r)}this._texture=null}};Cpe.defaultOptions={texture:er.EMPTY,anchor:{x:0,y:0},tilePosition:{x:0,y:0},tileScale:{x:1,y:1},tileRotation:0,applyAnchorToTexture:!1};let mlt=Cpe;class xM extends fC{constructor(e,n){const{text:r,resolution:i,style:s,anchor:o,width:a,height:l,roundPixels:u,...c}=e;super({...c}),this.batched=!0,this._resolution=null,this._autoResolution=!0,this._didTextUpdate=!0,this._styleClass=n,this.text=r??"",this.style=s,this.resolution=i??null,this.allowChildren=!1,this._anchor=new lo({_onUpdate:()=>{this.onViewUpdate()}}),o&&(this.anchor=o),this.roundPixels=u??!1,a!==void 0&&(this.width=a),l!==void 0&&(this.height=l)}get anchor(){return this._anchor}set anchor(e){typeof e=="number"?this._anchor.set(e):this._anchor.copyFrom(e)}set text(e){e=e.toString(),this._text!==e&&(this._text=e,this.onViewUpdate())}get text(){return this._text}set resolution(e){this._autoResolution=e===null,this._resolution=e,this.onViewUpdate()}get resolution(){return this._resolution}get style(){return this._style}set style(e){e||(e={}),this._style?.off("update",this.onViewUpdate,this),e instanceof this._styleClass?this._style=e:this._style=new this._styleClass(e),this._style.on("update",this.onViewUpdate,this),this.onViewUpdate()}get width(){return Math.abs(this.scale.x)*this.bounds.width}set width(e){this._setWidth(e,this.bounds.width)}get height(){return Math.abs(this.scale.y)*this.bounds.height}set height(e){this._setHeight(e,this.bounds.height)}getSize(e){return e||(e={}),e.width=Math.abs(this.scale.x)*this.bounds.width,e.height=Math.abs(this.scale.y)*this.bounds.height,e}setSize(e,n){typeof e=="object"?(n=e.height??e.width,e=e.width):n??(n=e),e!==void 0&&this._setWidth(e,this.bounds.width),n!==void 0&&this._setHeight(n,this.bounds.height)}containsPoint(e){const n=this.bounds.width,r=this.bounds.height,i=-n*this.anchor.x;let s=0;return e.x>=i&&e.x<=i+n&&(s=-r*this.anchor.y,e.y>=s&&e.y<=s+r)}onViewUpdate(){this.didViewUpdate||(this._didTextUpdate=!0),super.onViewUpdate()}destroy(e=!1){super.destroy(e),this.owner=null,this._bounds=null,this._anchor=null,(typeof e=="boolean"?e:e?.style)&&this._style.destroy(e),this._style=null,this._text=null}get styleKey(){return`${this._text}:${this._style.styleKey}:${this._resolution}`}}function Alt(t,e){let n=t[0]??{};return(typeof n=="string"||t[1])&&(Pr(Ni,`use new ${e}({ text: "hi!", style }) instead`),n={text:n,style:t[1]}),n}let zb=null,v0=null;function ylt(t,e){zb||(zb=hs.get().createCanvas(256,128),v0=zb.getContext("2d",{willReadFrequently:!0}),v0.globalCompositeOperation="copy",v0.globalAlpha=1),(zb.width<t||zb.height<e)&&(zb.width=HE(t),zb.height=HE(e))}function wK(t,e,n){for(let r=0,i=4*n*e;r<e;++r,i+=4)if(t[i+3]!==0)return!1;return!0}function _K(t,e,n,r,i){const s=4*e;for(let o=r,a=r*s+4*n;o<=i;++o,a+=s)if(t[a+3]!==0)return!1;return!0}function vlt(...t){let e=t[0];e.canvas||(e={canvas:t[0],resolution:t[1]});const{canvas:n}=e,r=Math.min(e.resolution??1,1),i=e.width??n.width,s=e.height??n.height;let o=e.output;if(ylt(i,s),!v0)throw new TypeError("Failed to get canvas 2D context");v0.drawImage(n,0,0,i,s,0,0,i*r,s*r);const l=v0.getImageData(0,0,i,s).data;let u=0,c=0,d=i-1,f=s-1;for(;c<s&&wK(l,i,c);)++c;if(c===s)return rs.EMPTY;for(;wK(l,i,f);)--f;for(;_K(l,i,u,c,f);)++u;for(;_K(l,i,d,c,f);)--d;return++d,++f,v0.globalCompositeOperation="source-over",v0.strokeRect(u,c,d-u,f-c),v0.globalCompositeOperation="copy",o??(o=new rs),o.set(u/r,c/r,(d-u)/r,(f-c)/r),o}const IK=new rs;class blt{getCanvasAndContext(e){const{text:n,style:r,resolution:i=1}=e,s=r._getFinalPadding(),o=ds.measureText(n||" ",r),a=Math.ceil(Math.ceil(Math.max(1,o.width)+s*2)*i),l=Math.ceil(Math.ceil(Math.max(1,o.height)+s*2)*i),u=P3.getOptimalCanvasAndContext(a,l);this._renderTextToCanvas(n,r,s,i,u);const c=r.trim?vlt({canvas:u.canvas,width:a,height:l,resolution:1,output:IK}):IK.set(0,0,a,l);return{canvasAndContext:u,frame:c}}returnCanvasAndContext(e){P3.returnCanvasAndContext(e)}_renderTextToCanvas(e,n,r,i,s){const{canvas:o,context:a}=s,l=YD(n),u=ds.measureText(e||" ",n),c=u.lines,d=u.lineHeight,f=u.lineWidths,p=u.maxLineWidth,m=u.fontProperties,v=o.height;if(a.resetTransform(),a.scale(i,i),a.textBaseline=n.textBaseline,n._stroke?.width){const E=n._stroke;a.lineWidth=E.width,a.miterLimit=E.miterLimit,a.lineJoin=E.join,a.lineCap=E.cap}a.font=l;let y,A;const C=n.dropShadow?2:1;for(let E=0;E<C;++E){const I=n.dropShadow&&E===0,D=I?Math.ceil(Math.max(1,v)+r*2):0,T=D*i;if(I){a.fillStyle="black",a.strokeStyle="black";const k=n.dropShadow,L=k.color,$=k.alpha;a.shadowColor=Oa.shared.setValue(L).setAlpha($).toRgbaString();const z=k.blur*i,j=k.distance*i;a.shadowBlur=z,a.shadowOffsetX=Math.cos(k.angle)*j,a.shadowOffsetY=Math.sin(k.angle)*j+T}else{if(a.fillStyle=n._fill?ZD(n._fill,a,u,r*2):null,n._stroke?.width){const k=n._stroke.width*.5+r*2;a.strokeStyle=ZD(n._stroke,a,u,k)}a.shadowColor="black"}let M=(d-m.fontSize)/2;d-m.fontSize<0&&(M=0);const P=n._stroke?.width??0;for(let k=0;k<c.length;k++)y=P/2,A=P/2+k*d+m.ascent+M,n.align==="right"?y+=p-f[k]:n.align==="center"&&(y+=(p-f[k])/2),n._stroke?.width&&this._drawLetterSpacing(c[k],n,s,y+r,A+r-D,!0),n._fill!==void 0&&this._drawLetterSpacing(c[k],n,s,y+r,A+r-D)}}_drawLetterSpacing(e,n,r,i,s,o=!1){const{context:a}=r,l=n.letterSpacing;let u=!1;if(ds.experimentalLetterSpacingSupported&&(ds.experimentalLetterSpacing?(a.letterSpacing=`${l}px`,a.textLetterSpacing=`${l}px`,u=!0):(a.letterSpacing="0px",a.textLetterSpacing="0px")),l===0||u){o?a.strokeText(e,i,s):a.fillText(e,i,s);return}let c=i;const d=ds.graphemeSegmenter(e);let f=a.measureText(e).width,p=0;for(let m=0;m<d.length;++m){const v=d[m];o?a.strokeText(v,c,s):a.fillText(v,c,s);let y="";for(let A=m+1;A<d.length;++A)y+=d[A];p=a.measureText(y).width,c+=f-p+l,f=p}}}const BK=new blt;let Cd=class extends xM{constructor(...e){const n=Alt(e,"Text");super(n,Sn),this.renderPipeId="text",n.textureStyle&&(this.textureStyle=n.textureStyle instanceof VE?n.textureStyle:new VE(n.textureStyle))}updateBounds(){const e=this._bounds,n=this._anchor;let r=0,i=0;if(this._style.trim){const{frame:s,canvasAndContext:o}=BK.getCanvasAndContext({text:this.text,style:this._style,resolution:1});BK.returnCanvasAndContext(o),r=s.width,i=s.height}else{const s=ds.measureText(this._text,this._style);r=s.width,i=s.height}e.minX=-n._x*r,e.maxX=e.minX+r,e.minY=-n._y*i,e.maxY=e.minY+i}};const Epe=class Spe extends plt{constructor(...e){super({});let n=e[0]??{};typeof n=="number"&&(Pr(Ni,"PlaneGeometry constructor changed please use { width, height, verticesX, verticesY } instead"),n={width:n,height:e[1],verticesX:e[2],verticesY:e[3]}),this.build(n)}build(e){e={...Spe.defaultOptions,...e},this.verticesX=this.verticesX??e.verticesX,this.verticesY=this.verticesY??e.verticesY,this.width=this.width??e.width,this.height=this.height??e.height;const n=this.verticesX*this.verticesY,r=[],i=[],s=[],o=this.verticesX-1,a=this.verticesY-1,l=this.width/o,u=this.height/a;for(let d=0;d<n;d++){const f=d%this.verticesX,p=d/this.verticesX|0;r.push(f*l,p*u),i.push(f/o,p/a)}const c=o*a;for(let d=0;d<c;d++){const f=d%o,p=d/o|0,m=p*this.verticesX+f,v=p*this.verticesX+f+1,y=(p+1)*this.verticesX+f,A=(p+1)*this.verticesX+f+1;s.push(m,v,y,v,A,y)}this.buffers[0].data=new Float32Array(r),this.buffers[1].data=new Float32Array(i),this.indexBuffer.data=new Uint32Array(s),this.buffers[0].update(),this.buffers[1].update(),this.indexBuffer.update()}};Epe.defaultOptions={width:100,height:100,verticesX:10,verticesY:10};let xlt=Epe;const wpe=class _pe extends xlt{constructor(e={}){e={..._pe.defaultOptions,...e},super({width:e.width,height:e.height,verticesX:4,verticesY:4}),this.update(e)}update(e){this.width=e.width??this.width,this.height=e.height??this.height,this._originalWidth=e.originalWidth??this._originalWidth,this._originalHeight=e.originalHeight??this._originalHeight,this._leftWidth=e.leftWidth??this._leftWidth,this._rightWidth=e.rightWidth??this._rightWidth,this._topHeight=e.topHeight??this._topHeight,this._bottomHeight=e.bottomHeight??this._bottomHeight,this._anchorX=e.anchor?.x,this._anchorY=e.anchor?.y,this.updateUvs(),this.updatePositions()}updatePositions(){const e=this.positions,{width:n,height:r,_leftWidth:i,_rightWidth:s,_topHeight:o,_bottomHeight:a,_anchorX:l,_anchorY:u}=this,c=i+s,d=n>c?1:n/c,f=o+a,p=r>f?1:r/f,m=Math.min(d,p),v=l*n,y=u*r;e[0]=e[8]=e[16]=e[24]=-v,e[2]=e[10]=e[18]=e[26]=i*m-v,e[4]=e[12]=e[20]=e[28]=n-s*m-v,e[6]=e[14]=e[22]=e[30]=n-v,e[1]=e[3]=e[5]=e[7]=-y,e[9]=e[11]=e[13]=e[15]=o*m-y,e[17]=e[19]=e[21]=e[23]=r-a*m-y,e[25]=e[27]=e[29]=e[31]=r-y,this.getBuffer("aPosition").update()}updateUvs(){const e=this.uvs;e[0]=e[8]=e[16]=e[24]=0,e[1]=e[3]=e[5]=e[7]=0,e[6]=e[14]=e[22]=e[30]=1,e[25]=e[27]=e[29]=e[31]=1;const n=1/this._originalWidth,r=1/this._originalHeight;e[2]=e[10]=e[18]=e[26]=n*this._leftWidth,e[9]=e[11]=e[13]=e[15]=r*this._topHeight,e[4]=e[12]=e[20]=e[28]=1-n*this._rightWidth,e[17]=e[19]=e[21]=e[23]=1-r*this._bottomHeight,this.getBuffer("aUV").update()}};wpe.defaultOptions={width:100,height:100,leftWidth:10,topHeight:10,rightWidth:10,bottomHeight:10,originalWidth:100,originalHeight:100};let k1=wpe;const Ipe=class Bpe extends fC{constructor(e){e instanceof er&&(e={texture:e});const{width:n,height:r,anchor:i,leftWidth:s,rightWidth:o,topHeight:a,bottomHeight:l,texture:u,roundPixels:c,...d}=e;super({label:"NineSliceSprite",...d}),this.renderPipeId="nineSliceSprite",this.batched=!0,this._leftWidth=s??u?.defaultBorders?.left??k1.defaultOptions.leftWidth,this._topHeight=a??u?.defaultBorders?.top??k1.defaultOptions.topHeight,this._rightWidth=o??u?.defaultBorders?.right??k1.defaultOptions.rightWidth,this._bottomHeight=l??u?.defaultBorders?.bottom??k1.defaultOptions.bottomHeight,this._width=n??u.width??k1.defaultOptions.width,this._height=r??u.height??k1.defaultOptions.height,this.allowChildren=!1,this.texture=u??Bpe.defaultOptions.texture,this.roundPixels=c??!1,this._anchor=new lo({_onUpdate:()=>{this.onViewUpdate()}}),i?this.anchor=i:this.texture.defaultAnchor&&(this.anchor=this.texture.defaultAnchor)}get anchor(){return this._anchor}set anchor(e){typeof e=="number"?this._anchor.set(e):this._anchor.copyFrom(e)}get width(){return this._width}set width(e){this._width=e,this.onViewUpdate()}get height(){return this._height}set height(e){this._height=e,this.onViewUpdate()}setSize(e,n){typeof e=="object"&&(n=e.height??e.width,e=e.width),this._width=e,this._height=n??e,this.onViewUpdate()}getSize(e){return e||(e={}),e.width=this._width,e.height=this._height,e}get leftWidth(){return this._leftWidth}set leftWidth(e){this._leftWidth=e,this.onViewUpdate()}get topHeight(){return this._topHeight}set topHeight(e){this._topHeight=e,this.onViewUpdate()}get rightWidth(){return this._rightWidth}set rightWidth(e){this._rightWidth=e,this.onViewUpdate()}get bottomHeight(){return this._bottomHeight}set bottomHeight(e){this._bottomHeight=e,this.onViewUpdate()}get texture(){return this._texture}set texture(e){e||(e=er.EMPTY);const n=this._texture;n!==e&&(n&&n.dynamic&&n.off("update",this.onViewUpdate,this),e.dynamic&&e.on("update",this.onViewUpdate,this),this._texture=e,this.onViewUpdate())}get originalWidth(){return this._texture.width}get originalHeight(){return this._texture.height}destroy(e){if(super.destroy(e),typeof e=="boolean"?e:e?.texture){const r=typeof e=="boolean"?e:e?.textureSource;this._texture.destroy(r)}this._texture=null}updateBounds(){const e=this._bounds,n=this._anchor,r=this._width,i=this._height;e.minX=-n._x*r,e.maxX=e.minX+r,e.minY=-n._y*i,e.maxY=e.minY+i}};Ipe.defaultOptions={texture:er.EMPTY};let vx=Ipe;mo.add(Crt,Ert);var lN={exports:{}},u0={};var DK;function Clt(){return DK||(DK=1,u0.ConcurrentRoot=1,u0.ContinuousEventPriority=8,u0.DefaultEventPriority=32,u0.DiscreteEventPriority=2,u0.IdleEventPriority=268435456,u0.LegacyRoot=0,u0.NoEventPriority=0),u0}var TK;function Elt(){return TK||(TK=1,lN.exports=Clt()),lN.exports}var iE=Elt();const o7=x.createContext({}),Slt=o7.Provider;o7.Consumer;function Dpe(t,e){const n=Object.getPrototypeOf(t),r=Object.getOwnPropertyDescriptor(n,e);return!(typeof r>"u"||r.writable||r.set)}const iv={currentUpdatePriority:iE.DefaultEventPriority,unmountQueue:new Set};function MK(t,...e){}function Tpe(t,e={}){const n=t;return n.__pixireact=Object.assign({filters:[],parent:null,root:null,type:""},e),n}var wlt="0.0.0-development",_lt={version:wlt};function Ilt(){}function Mpe(t,e,n){e instanceof pC&&(e.__pixireact.parent=t,typeof n=="number"?t.__pixireact.filters.splice(n,0,e):t.__pixireact.filters.push(e),t.filters=t.__pixireact.filters)}function uN(t,e){e&&(e instanceof xr?t.addChild(e):e instanceof pC&&Mpe(t,e))}function Blt(){}function Dlt(){return!1}const qL=Object.freeze({onclick:"onClick",onglobalmousemove:"onGlobalMouseMove",onglobalpointermove:"onGlobalPointerMove",onglobaltouchmove:"onGlobalTouchMove",onmousedown:"onMouseDown",onmouseenter:"onMouseEnter",onmouseleave:"onMouseLeave",onmousemove:"onMouseMove",onmouseout:"onMouseOut",onmouseover:"onMouseOver",onmouseup:"onMouseUp",onmouseupoutside:"onMouseUpOutside",onpointercancel:"onPointerCancel",onpointerdown:"onPointerDown",onpointerenter:"onPointerEnter",onpointerleave:"onPointerLeave",onpointermove:"onPointerMove",onpointerout:"onPointerOut",onpointerover:"onPointerOver",onpointertap:"onPointerTap",onpointerup:"onPointerUp",onpointerupoutside:"onPointerUpOutside",onrightclick:"onRightClick",onrightdown:"onRightDown",onrightup:"onRightUp",onrightupoutside:"onRightUpOutside",ontap:"onTap",ontouchcancel:"onTouchCancel",ontouchend:"onTouchEnd",ontouchendoutside:"onTouchEndOutside",ontouchmove:"onTouchMove",ontouchstart:"onTouchStart",onwheel:"onWheel"}),eT=Object.freeze({onClick:"onclick",onGlobalMouseMove:"onglobalmousemove",onGlobalPointerMove:"onglobalpointermove",onGlobalTouchMove:"onglobaltouchmove",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseUpOutside:"onmouseupoutside",onPointerCancel:"onpointercancel",onPointerDown:"onpointerdown",onPointerEnter:"onpointerenter",onPointerLeave:"onpointerleave",onPointerMove:"onpointermove",onPointerOut:"onpointerout",onPointerOver:"onpointerover",onPointerTap:"onpointertap",onPointerUp:"onpointerup",onPointerUpOutside:"onpointerupoutside",onRightClick:"onrightclick",onRightDown:"onrightdown",onRightUp:"onrightup",onRightUpOutside:"onrightupoutside",onTap:"ontap",onTouchCancel:"ontouchcancel",onTouchEnd:"ontouchend",onTouchEndOutside:"ontouchendoutside",onTouchMove:"ontouchmove",onTouchStart:"ontouchstart",onWheel:"onwheel"});function kpe(t){return Array.isArray(t)}function Ppe(t,e,n={arrays:"reference",objects:"reference",strict:!0}){const{arrays:r,objects:i,strict:s}=n;if(typeof t!=typeof e||!!t!=!!e)return!1;if(Plt(t)||Mlt(t))return t===e;const o=klt(t);if(o&&i==="reference")return t===e;const a=kpe(t);if(a&&r==="reference")return t===e;if((a||o)&&t===e)return!0;let l;for(l in t)if(!(l in e))return!1;let u=t;if(s&&(u=e),o&&r==="shallow"&&i==="shallow"){for(l in u)if(!Ppe(t[l],e[l],{strict:s,objects:"reference"}))return!1}else for(l in u)if(t[l]!==e[l])return!1;if(Rpe(l)){if(a&&t.length===0&&e.length===0||o&&Object.keys(t).length===0&&Object.keys(e).length===0)return!0;if(t!==e)return!1}return!0}function Tlt(t){return t===null}function Mlt(t){return typeof t=="number"}function klt(t){return!(t!==Object(t)||kpe(t)||typeof t=="function")}function Plt(t){return typeof t=="string"}function Rpe(t){return t===void 0}const Rlt=Object.freeze(["children","key","ref"]);function Nlt(t,e=[]){const n={};return Object.entries(t).reduce((r,[i,s])=>(e.includes(i)||(r[i]=s),r),n)}function YL(t,e=[]){return Nlt(t,Rlt.concat(e))}const Llt="__default";function Npe(t,e={},n=!1){const r=YL(t),i=YL(e),s=Object.entries(r),o=[];if(n){const a=Object.keys(i);let l=0;for(;l<a.length;){const u=a[l];!(u in r)&&s.unshift([u,`${Llt}remove`]),l+=1}}return s.forEach(([a,l])=>{if(Ppe(l,i[a]))return;if(a in eT){o.push([a,l,!0,[]]);return}let u=[];a.includes("-")&&(u=a.split("-")),o.push([a,l,!1,u]);for(const c in r){const d=r[c];c.startsWith(`${a}-`)&&o.push([c,d,!1,c.split("-")])}}),{changes:o}}function Flt(t){const e=t;return!(!e||!e.changes)}const $lt="__default",kK=new Map,PK={};function RK(t,e){if(t){const n=t[e];if(!Rpe(n)&&!Tlt(n))return n}return t}function Lpe(t,e){const{__pixireact:n={},...r}=t;let i;Flt(e)?i=e:i=Npe(e,r);const{changes:s}=i;let o=0;for(;o<s.length;){const a=s[o];let l=!1,u=a[0],c=a[1];const d=a[2],f=a[3];let p=t,m=p[u];if(u==="draw"&&typeof c=="function"&&(t instanceof Qi?c(t):(l=!0,MK("warn",`The \`draw\` prop was used on a \`${n.type}\` component, but it's only valid on \`graphics\` components.`))),u in qL){const v=u;l=!0,PK[u]||(PK[u]=!0,MK("warn",`Event names must be pascal case; instead of \`${u}\`, you probably want \`${qL[v]}\`.`))}if(!l){if(f.length&&(m=f.reduce(RK,p),!(m&&m.set))){const[v,...y]=f.reverse();p=y.reverse().reduce(RK,p),u=v}if(c===`${$lt}remove`)if(p instanceof xr){let v=kK.get(p.constructor);v||(v=p.constructor,v=new v,kK.set(p.constructor,v)),c=v[u]}else c=0;if(d&&n){const y=eT[u];c?p[y]=c:delete p[y]}else Dpe(p,u)||(p[u]=c)}o+=1}return t}function zlt(t,e,n,r){const{children:i,...s}=r,{children:o,...a}=n,l=Npe(s,a,!0);return l.changes.length?l:null}function Olt(t,e,n,r){const i=zlt(t,e,n,r);i&&Lpe(t,i)}const jlt=Object.freeze([...Object.keys(qL),"draw"]),XL={};function Qlt(t){const e=t.charAt(0),n=t.substring(1);return`${e.toUpperCase()}${n}`}function Ult(t,e){return e.toLowerCase()}function Hlt(t){let e=t;return t.startsWith("pixi")&&(e=t.replace(/^pixi([A-Z])/,Ult)),e}function Vlt(t,e,n){const r=Hlt(t),i=Qlt(r);if(!(i in XL))throw new Error(`${i} is not part of the PIXI namespace! Did you forget to extend?`);const s=XL[i],o=YL(e,jlt);Object.entries(e).forEach(([l,u])=>{if(l in eT){const c=eT[l];o[c]=u}});const a=Tpe(new s(o),{root:n,type:r});return Lpe(a,e),a}var cN={exports:{}},dN={exports:{}},hN={exports:{}},fN={};var NK;function Glt(){return NK||(NK=1,(function(t){function e(O,G){var q=O.length;O.push(G);e:for(;0<q;){var J=q-1>>>1,te=O[J];if(0<i(te,G))O[J]=G,O[q]=te,q=J;else break e}}function n(O){return O.length===0?null:O[0]}function r(O){if(O.length===0)return null;var G=O[0],q=O.pop();if(q!==G){O[0]=q;e:for(var J=0,te=O.length,Y=te>>>1;J<Y;){var Z=2*(J+1)-1,ee=O[Z],ie=Z+1,ue=O[ie];if(0>i(ee,q))ie<te&&0>i(ue,ee)?(O[J]=ue,O[ie]=q,J=ie):(O[J]=ee,O[Z]=q,J=Z);else if(ie<te&&0>i(ue,q))O[J]=ue,O[ie]=q,J=ie;else break e}}return G}function i(O,G){var q=O.sortIndex-G.sortIndex;return q!==0?q:O.id-G.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],c=1,d=null,f=3,p=!1,m=!1,v=!1,y=typeof setTimeout=="function"?setTimeout:null,A=typeof clearTimeout=="function"?clearTimeout:null,C=typeof setImmediate<"u"?setImmediate:null;function E(O){for(var G=n(u);G!==null;){if(G.callback===null)r(u);else if(G.startTime<=O)r(u),G.sortIndex=G.expirationTime,e(l,G);else break;G=n(u)}}function I(O){if(v=!1,E(O),!m)if(n(l)!==null)m=!0,H();else{var G=n(u);G!==null&&W(I,G.startTime-O)}}var D=!1,T=-1,M=5,P=-1;function k(){return!(t.unstable_now()-P<M)}function L(){if(D){var O=t.unstable_now();P=O;var G=!0;try{e:{m=!1,v&&(v=!1,A(T),T=-1),p=!0;var q=f;try{t:{for(E(O),d=n(l);d!==null&&!(d.expirationTime>O&&k());){var J=d.callback;if(typeof J=="function"){d.callback=null,f=d.priorityLevel;var te=J(d.expirationTime<=O);if(O=t.unstable_now(),typeof te=="function"){d.callback=te,E(O),G=!0;break t}d===n(l)&&r(l),E(O)}else r(l);d=n(l)}if(d!==null)G=!0;else{var Y=n(u);Y!==null&&W(I,Y.startTime-O),G=!1}}break e}finally{d=null,f=q,p=!1}G=void 0}}finally{G?$():D=!1}}}var $;if(typeof C=="function")$=function(){C(L)};else if(typeof MessageChannel<"u"){var z=new MessageChannel,j=z.port2;z.port1.onmessage=L,$=function(){j.postMessage(null)}}else $=function(){y(L,0)};function H(){D||(D=!0,$())}function W(O,G){T=y(function(){O(t.unstable_now())},G)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(O){O.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,H())},t.unstable_forceFrameRate=function(O){0>O||125<O?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<O?Math.floor(1e3/O):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(O){switch(f){case 1:case 2:case 3:var G=3;break;default:G=f}var q=f;f=G;try{return O()}finally{f=q}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(O,G){switch(O){case 1:case 2:case 3:case 4:case 5:break;default:O=3}var q=f;f=O;try{return G()}finally{f=q}},t.unstable_scheduleCallback=function(O,G,q){var J=t.unstable_now();switch(typeof q=="object"&&q!==null?(q=q.delay,q=typeof q=="number"&&0<q?J+q:J):q=J,O){case 1:var te=-1;break;case 2:te=250;break;case 5:te=1073741823;break;case 4:te=1e4;break;default:te=5e3}return te=q+te,O={id:c++,callback:G,priorityLevel:O,startTime:q,expirationTime:te,sortIndex:-1},q>J?(O.sortIndex=q,e(u,O),n(l)===null&&O===n(u)&&(v?(A(T),T=-1):v=!0,W(I,q-J))):(O.sortIndex=te,e(l,O),m||p||(m=!0,H())),O},t.unstable_shouldYield=k,t.unstable_wrapCallback=function(O){var G=f;return function(){var q=f;f=G;try{return O.apply(this,arguments)}finally{f=q}}}})(fN)),fN}var LK;function Klt(){return LK||(LK=1,hN.exports=Glt()),hN.exports}var FK;function Wlt(){return FK||(FK=1,(function(t){t.exports=function(e){function n(S,w,F,U){return new fl(S,w,F,U)}function r(){}function i(S){var w="https://react.dev/errors/"+S;if(1<arguments.length){w+="?args[]="+encodeURIComponent(arguments[1]);for(var F=2;F<arguments.length;F++)w+="&args[]="+encodeURIComponent(arguments[F])}return"Minified React error #"+S+"; visit "+w+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(S){return S===null||typeof S!="object"?null:(S=Im&&S[Im]||S["@@iterator"],typeof S=="function"?S:null)}function o(S){if(S==null)return null;if(typeof S=="function")return S.$$typeof===tc?null:S.displayName||S.name||null;if(typeof S=="string")return S;switch(S){case pu:return"Fragment";case ec:return"Portal";case zv:return"Profiler";case $v:return"StrictMode";case vA:return"Suspense";case Dh:return"SuspenseList"}if(typeof S=="object")switch(S.$$typeof){case jc:return(S.displayName||"Context")+".Provider";case Bh:return(S._context.displayName||"Context")+".Consumer";case dg:var w=S.render;return S=S.displayName,S||(S=w.displayName||w.name||"",S=S!==""?"ForwardRef("+S+")":"ForwardRef"),S;case hg:return w=S.displayName||null,w!==null?w:o(S.type)||"Memo";case mu:w=S._payload,S=S._init;try{return o(S(w))}catch{}}return null}function a(S){if(bA===void 0)try{throw Error()}catch(F){var w=F.stack.trim().match(/\n( *(at )?)/);bA=w&&w[1]||"",xA=-1<F.stack.indexOf(`
    at`)?" (<anonymous>)":-1<F.stack.indexOf("@")?"@unknown:0:0":""}return`
`+bA+S+xA}function l(S,w){if(!S||Th)return"";Th=!0;var F=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var U={DetermineComponentFrameRoot:function(){try{if(w){var dn=function(){throw Error()};if(Object.defineProperty(dn.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(dn,[])}catch(dr){var gn=dr}Reflect.construct(S,[],dn)}else{try{dn.call()}catch(dr){gn=dr}S.call(dn.prototype)}}else{try{throw Error()}catch(dr){gn=dr}(dn=S())&&typeof dn.catch=="function"&&dn.catch(function(){})}}catch(dr){if(dr&&gn&&typeof dr.stack=="string")return[dr.stack,gn.stack]}return[null,null]}};U.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var X=Object.getOwnPropertyDescriptor(U.DetermineComponentFrameRoot,"name");X&&X.configurable&&Object.defineProperty(U.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var re=U.DetermineComponentFrameRoot(),be=re[0],Re=re[1];if(be&&Re){var Je=be.split(`
`),Tt=Re.split(`
`);for(X=U=0;U<Je.length&&!Je[U].includes("DetermineComponentFrameRoot");)U++;for(;X<Tt.length&&!Tt[X].includes("DetermineComponentFrameRoot");)X++;if(U===Je.length||X===Tt.length)for(U=Je.length-1,X=Tt.length-1;1<=U&&0<=X&&Je[U]!==Tt[X];)X--;for(;1<=U&&0<=X;U--,X--)if(Je[U]!==Tt[X]){if(U!==1||X!==1)do if(U--,X--,0>X||Je[U]!==Tt[X]){var Zt=`
`+Je[U].replace(" at new "," at ");return S.displayName&&Zt.includes("<anonymous>")&&(Zt=Zt.replace("<anonymous>",S.displayName)),Zt}while(1<=U&&0<=X);break}}}finally{Th=!1,Error.prepareStackTrace=F}return(F=S?S.displayName||S.name:"")?a(F):""}function u(S){switch(S.tag){case 26:case 27:case 5:return a(S.type);case 16:return a("Lazy");case 13:return a("Suspense");case 19:return a("SuspenseList");case 0:case 15:return S=l(S.type,!1),S;case 11:return S=l(S.type.render,!1),S;case 1:return S=l(S.type,!0),S;default:return""}}function c(S){try{var w="";do w+=u(S),S=S.return;while(S);return w}catch(F){return`
Error generating stack: `+F.message+`
`+F.stack}}function d(S){var w=S,F=S;if(S.alternate)for(;w.return;)w=w.return;else{S=w;do w=S,(w.flags&4098)!==0&&(F=w.return),S=w.return;while(S)}return w.tag===3?F:null}function f(S){if(d(S)!==S)throw Error(i(188))}function p(S){var w=S.alternate;if(!w){if(w=d(S),w===null)throw Error(i(188));return w!==S?null:S}for(var F=S,U=w;;){var X=F.return;if(X===null)break;var re=X.alternate;if(re===null){if(U=X.return,U!==null){F=U;continue}break}if(X.child===re.child){for(re=X.child;re;){if(re===F)return f(X),S;if(re===U)return f(X),w;re=re.sibling}throw Error(i(188))}if(F.return!==U.return)F=X,U=re;else{for(var be=!1,Re=X.child;Re;){if(Re===F){be=!0,F=X,U=re;break}if(Re===U){be=!0,U=X,F=re;break}Re=Re.sibling}if(!be){for(Re=re.child;Re;){if(Re===F){be=!0,F=re,U=X;break}if(Re===U){be=!0,U=re,F=X;break}Re=Re.sibling}if(!be)throw Error(i(189))}}if(F.alternate!==U)throw Error(i(190))}if(F.tag!==3)throw Error(i(188));return F.stateNode.current===F?S:w}function m(S){var w=S.tag;if(w===5||w===26||w===27||w===6)return S;for(S=S.child;S!==null;){if(w=m(S),w!==null)return w;S=S.sibling}return null}function v(S){var w=S.tag;if(w===5||w===26||w===27||w===6)return S;for(S=S.child;S!==null;){if(S.tag!==4&&(w=v(S),w!==null))return w;S=S.sibling}return null}function y(S){return{current:S}}function A(S){0>Gc||(S.current=$h[Gc],$h[Gc]=null,Gc--)}function C(S,w){Gc++,$h[Gc]=S.current,S.current=w}function E(S){return S>>>=0,S===0?32:31-(zh(S)/BC|0)|0}function I(S){var w=S&42;if(w!==0)return w;switch(S&-S){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return S&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return S&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return S}}function D(S,w){var F=S.pendingLanes;if(F===0)return 0;var U=0,X=S.suspendedLanes,re=S.pingedLanes,be=S.warmLanes;S=S.finishedLanes!==0;var Re=F&134217727;return Re!==0?(F=Re&~X,F!==0?U=I(F):(re&=Re,re!==0?U=I(re):S||(be=Re&~be,be!==0&&(U=I(be))))):(Re=F&~X,Re!==0?U=I(Re):re!==0?U=I(re):S||(be=F&~be,be!==0&&(U=I(be)))),U===0?0:w!==0&&w!==U&&(w&X)===0&&(X=U&-U,be=w&-w,X>=be||X===32&&(be&4194176)!==0)?w:U}function T(S,w){return(S.pendingLanes&~(S.suspendedLanes&~S.pingedLanes)&w)===0}function M(S,w){switch(S){case 1:case 2:case 4:case 8:return w+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return w+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function P(){var S=Jf;return Jf<<=1,(Jf&4194176)===0&&(Jf=128),S}function k(){var S=Oh;return Oh<<=1,(Oh&62914560)===0&&(Oh=4194304),S}function L(S){for(var w=[],F=0;31>F;F++)w.push(S);return w}function $(S,w){S.pendingLanes|=w,w!==268435456&&(S.suspendedLanes=0,S.pingedLanes=0,S.warmLanes=0)}function z(S,w,F,U,X,re){var be=S.pendingLanes;S.pendingLanes=F,S.suspendedLanes=0,S.pingedLanes=0,S.warmLanes=0,S.expiredLanes&=F,S.entangledLanes&=F,S.errorRecoveryDisabledLanes&=F,S.shellSuspendCounter=0;var Re=S.entanglements,Je=S.expirationTimes,Tt=S.hiddenUpdates;for(F=be&~F;0<F;){var Zt=31-ba(F),dn=1<<Zt;Re[Zt]=0,Je[Zt]=-1;var gn=Tt[Zt];if(gn!==null)for(Tt[Zt]=null,Zt=0;Zt<gn.length;Zt++){var dr=gn[Zt];dr!==null&&(dr.lane&=-536870913)}F&=~dn}U!==0&&j(S,U,0),re!==0&&X===0&&S.tag!==0&&(S.suspendedLanes|=re&~(be&~w))}function j(S,w,F){S.pendingLanes|=w,S.suspendedLanes&=~w;var U=31-ba(w);S.entangledLanes|=w,S.entanglements[U]=S.entanglements[U]|1073741824|F&4194218}function H(S,w){var F=S.entangledLanes|=w;for(S=S.entanglements;F;){var U=31-ba(F),X=1<<U;X&w|S[U]&w&&(S[U]|=w),F&=~X}}function W(S){return S&=-S,2<S?8<S?(S&134217727)!==0?32:268435456:8:2}function O(S){if(xa&&typeof xa.onCommitFiberRoot=="function")try{xa.onCommitFiberRoot(yl,S,void 0,(S.current.flags&128)===128)}catch{}}function G(S){if(typeof TC=="function"&&ab(S),xa&&typeof xa.setStrictMode=="function")try{xa.setStrictMode(yl,S)}catch{}}function q(S,w){return S===w&&(S!==0||1/S===1/w)||S!==S&&w!==w}function J(S,w){if(typeof S=="object"&&S!==null){var F=vg.get(S);return F!==void 0?F:(w={value:S,source:w,stack:c(w)},vg.set(S,w),w)}return{value:S,source:w,stack:c(w)}}function te(S,w){Wi[Zi++]=jh,Wi[Zi++]=Fn,Fn=S,jh=w}function Y(S,w,F){Wa[Bo++]=Cu,Wa[Bo++]=Ul,Wa[Bo++]=sc,sc=S;var U=Cu;S=Ul;var X=32-ba(U)-1;U&=~(1<<X),F+=1;var re=32-ba(w)+X;if(30<re){var be=X-X%5;re=(U&(1<<be)-1).toString(32),U>>=be,X-=be,Cu=1<<32-ba(w)+X|F<<X|U,Ul=re+S}else Cu=1<<re|F<<X|U,Ul=S}function Z(S){S.return!==null&&(te(S,1),Y(S,1,0))}function ee(S){for(;S===Fn;)Fn=Wi[--Zi],Wi[Zi]=null,jh=Wi[--Zi],Wi[Zi]=null;for(;S===sc;)sc=Wa[--Bo],Wa[Bo]=null,Ul=Wa[--Bo],Wa[Bo]=null,Cu=Wa[--Bo],Wa[Bo]=null}function ie(S,w){C(oc,w),C($m,S),C(hi,null),S=Mh(w),A(hi),C(hi,S)}function ue(){A(hi),A($m),A(oc)}function ae(S){S.memoizedState!==null&&C(tp,S);var w=hi.current,F=Ov(w,S.type);w!==F&&(C($m,S),C(hi,F))}function de(S){$m.current===S&&(A(hi),A($m)),tp.current===S&&(A(tp),wo?Xn._currentValue=Uo:Xn._currentValue2=Uo)}function ge(S){var w=Error(i(418,""));throw Ee(J(w,S)),Vl}function _e(S,w){if(!Ks)throw Error(i(175));Jv(S.stateNode,S.type,S.memoizedProps,w,S)||ge(S)}function we(S){for(Ca=S.return;Ca;)switch(Ca.tag){case 3:case 27:Eu=!0;return;case 5:case 13:Eu=!1;return;default:Ca=Ca.return}}function ke(S){if(!Ks||S!==Ca)return!1;if(!fi)return we(S),fi=!0,!1;var w=!1;if(Ho?S.tag!==3&&S.tag!==27&&(S.tag!==5||wC(S.type)&&!kh(S.type,S.memoizedProps))&&(w=!0):S.tag!==3&&(S.tag!==5||wC(S.type)&&!kh(S.type,S.memoizedProps))&&(w=!0),w&&Vo&&ge(S),we(S),S.tag===13){if(!Ks)throw Error(i(316));if(S=S.memoizedState,S=S!==null?S.dehydrated:null,!S)throw Error(i(317));Vo=SC(S)}else Vo=Ca?Vc(S.stateNode):null;return!0}function Fe(){Ks&&(Vo=Ca=null,fi=!1)}function Ee(S){Hl===null?Hl=[S]:Hl.push(S)}function Me(){for(var S=Wc,w=bg=Wc=0;w<S;){var F=es[w];es[w++]=null;var U=es[w];es[w++]=null;var X=es[w];es[w++]=null;var re=es[w];if(es[w++]=null,U!==null&&X!==null){var be=U.pending;be===null?X.next=X:(X.next=be.next,be.next=X),U.pending=X}re!==0&&ve(F,X,re)}}function Ue(S,w,F,U){es[Wc++]=S,es[Wc++]=w,es[Wc++]=F,es[Wc++]=U,bg|=U,S.lanes|=U,S=S.alternate,S!==null&&(S.lanes|=U)}function Ge(S,w,F,U){return Ue(S,w,F,U),$e(S)}function ut(S,w){return Ue(S,null,null,w),$e(S)}function ve(S,w,F){S.lanes|=F;var U=S.alternate;U!==null&&(U.lanes|=F);for(var X=!1,re=S.return;re!==null;)re.childLanes|=F,U=re.alternate,U!==null&&(U.childLanes|=F),re.tag===22&&(S=re.stateNode,S===null||S._visibility&1||(X=!0)),S=re,re=re.return;X&&w!==null&&S.tag===3&&(re=S.stateNode,X=31-ba(F),re=re.hiddenUpdates,S=re[X],S===null?re[X]=[w]:S.push(w),w.lane=F|536870912)}function $e(S){if(50<up)throw up=0,Ya=null,Error(i(185));for(var w=S.return;w!==null;)S=w,w=S.return;return S.tag===3?S.stateNode:null}function gt(S){S!==np&&S.next===null&&(np===null?Qh=np=S:np=np.next=S),Ld=!0,zm||(zm=!0,De(ot))}function it(S,w){if(!Su&&Ld){Su=!0;do for(var F=!1,U=Qh;U!==null;){if(S!==0){var X=U.pendingLanes;if(X===0)var re=0;else{var be=U.suspendedLanes,Re=U.pingedLanes;re=(1<<31-ba(42|S)+1)-1,re&=X&~(be&~Re),re=re&201326677?re&201326677|1:re?re|2:0}re!==0&&(F=!0,Se(U,re))}else re=Mr,re=D(U,U===Fr?re:0),(re&3)===0||T(U,re)||(F=!0,Se(U,re));U=U.next}while(F);Su=!1}}function ot(){Ld=zm=!1;var S=0;Fd!==0&&(Rh()&&(S=Fd),Fd=0);for(var w=ms(),F=null,U=Qh;U!==null;){var X=U.next,re=le(U,w);re===0?(U.next=null,F===null?Qh=X:F.next=X,X===null&&(np=F)):(F=U,(S!==0||(re&3)!==0)&&(Ld=!0)),U=X}it(S)}function le(S,w){for(var F=S.suspendedLanes,U=S.pingedLanes,X=S.expirationTimes,re=S.pendingLanes&-62914561;0<re;){var be=31-ba(re),Re=1<<be,Je=X[be];Je===-1?((Re&F)===0||(Re&U)!==0)&&(X[be]=M(Re,w)):Je<=w&&(S.expiredLanes|=Re),re&=~Re}if(w=Fr,F=Mr,F=D(S,S===w?F:0),U=S.callbackNode,F===0||S===w&&qi===2||S.cancelPendingCommit!==null)return U!==null&&U!==null&&ep(U),S.callbackNode=null,S.callbackPriority=0;if((F&3)===0||T(S,F)){if(w=F&-F,w===S.callbackPriority)return w;switch(U!==null&&ep(U),W(F)){case 2:case 8:F=ob;break;case 32:F=jA;break;case 268435456:F=Fm;break;default:F=jA}return U=se.bind(null,S),F=Zf(F,U),S.callbackPriority=w,S.callbackNode=F,w}return U!==null&&U!==null&&ep(U),S.callbackPriority=2,S.callbackNode=null,2}function se(S,w){var F=S.callbackNode;if(Oo()&&S.callbackNode!==F)return null;var U=Mr;return U=D(S,S===Fr?U:0),U===0?null:(Em(S,U,w),le(S,ms()),S.callbackNode!=null&&S.callbackNode===F?se.bind(null,S):null)}function Se(S,w){if(Oo())return null;Em(S,w,!0)}function De(S){Ps?Tm(function(){(Nn&6)!==0?Zf(OA,S):S()}):Zf(OA,S)}function Be(){return Fd===0&&(Fd=P()),Fd}function ze(S,w){if(Om===null){var F=Om=[];QA=0,vl=Be(),Uh={status:"pending",value:void 0,then:function(U){F.push(U)}}}return QA++,w.then(kt,kt),w}function kt(){if(--QA===0&&Om!==null){Uh!==null&&(Uh.status="fulfilled");var S=Om;Om=null,vl=0,Uh=null;for(var w=0;w<S.length;w++)(0,S[w])()}}function Et(S,w){var F=[],U={status:"pending",value:null,reason:null,then:function(X){F.push(X)}};return S.then(function(){U.status="fulfilled",U.value=w;for(var X=0;X<F.length;X++)(0,F[X])(w)},function(X){for(U.status="rejected",U.reason=X,X=0;X<F.length;X++)(0,F[X])(void 0)}),U}function zt(S){S.updateQueue={baseState:S.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Mt(S,w){S=S.updateQueue,w.updateQueue===S&&(w.updateQueue={baseState:S.baseState,firstBaseUpdate:S.firstBaseUpdate,lastBaseUpdate:S.lastBaseUpdate,shared:S.shared,callbacks:null})}function at(S){return{lane:S,tag:0,payload:null,callback:null,next:null}}function At(S,w,F){var U=S.updateQueue;if(U===null)return null;if(U=U.shared,(Nn&2)!==0){var X=U.pending;return X===null?w.next=w:(w.next=X.next,X.next=w),U.pending=w,w=$e(S),ve(S,null,F),w}return Ue(S,U,w,F),$e(S)}function Pt(S,w,F){if(w=w.updateQueue,w!==null&&(w=w.shared,(F&4194176)!==0)){var U=w.lanes;U&=S.pendingLanes,F|=U,w.lanes=F,H(S,F)}}function wt(S,w){var F=S.updateQueue,U=S.alternate;if(U!==null&&(U=U.updateQueue,F===U)){var X=null,re=null;if(F=F.firstBaseUpdate,F!==null){do{var be={lane:F.lane,tag:F.tag,payload:F.payload,callback:null,next:null};re===null?X=re=be:re=re.next=be,F=F.next}while(F!==null);re===null?X=re=w:re=re.next=w}else X=re=w;F={baseState:U.baseState,firstBaseUpdate:X,lastBaseUpdate:re,shared:U.shared,callbacks:U.callbacks},S.updateQueue=F;return}S=F.lastBaseUpdate,S===null?F.firstBaseUpdate=w:S.next=w,F.lastBaseUpdate=w}function Lt(){if(rp){var S=Uh;if(S!==null)throw S}}function un(S,w,F,U){rp=!1;var X=S.updateQueue;qc=!1;var re=X.firstBaseUpdate,be=X.lastBaseUpdate,Re=X.shared.pending;if(Re!==null){X.shared.pending=null;var Je=Re,Tt=Je.next;Je.next=null,be===null?re=Tt:be.next=Tt,be=Je;var Zt=S.alternate;Zt!==null&&(Zt=Zt.updateQueue,Re=Zt.lastBaseUpdate,Re!==be&&(Re===null?Zt.firstBaseUpdate=Tt:Re.next=Tt,Zt.lastBaseUpdate=Je))}if(re!==null){var dn=X.baseState;be=0,Zt=Tt=Je=null,Re=re;do{var gn=Re.lane&-536870913,dr=gn!==Re.lane;if(dr?(Mr&gn)===gn:(U&gn)===gn){gn!==0&&gn===vl&&(rp=!0),Zt!==null&&(Zt=Zt.next={lane:0,tag:Re.tag,payload:Re.payload,callback:null,next:null});e:{var El=S,Gm=Re;gn=w;var cp=F;switch(Gm.tag){case 1:if(El=Gm.payload,typeof El=="function"){dn=El.call(cp,dn,gn);break e}dn=El;break e;case 3:El.flags=El.flags&-65537|128;case 0:if(El=Gm.payload,gn=typeof El=="function"?El.call(cp,dn,gn):El,gn==null)break e;dn=Gf({},dn,gn);break e;case 2:qc=!0}}gn=Re.callback,gn!==null&&(S.flags|=64,dr&&(S.flags|=8192),dr=X.callbacks,dr===null?X.callbacks=[gn]:dr.push(gn))}else dr={lane:gn,tag:Re.tag,payload:Re.payload,callback:Re.callback,next:null},Zt===null?(Tt=Zt=dr,Je=dn):Zt=Zt.next=dr,be|=gn;if(Re=Re.next,Re===null){if(Re=X.shared.pending,Re===null)break;dr=Re,Re=dr.next,dr.next=null,X.lastBaseUpdate=dr,X.shared.pending=null}}while(!0);Zt===null&&(Je=dn),X.baseState=Je,X.firstBaseUpdate=Tt,X.lastBaseUpdate=Zt,re===null&&(X.shared.lanes=0),Yl|=be,S.lanes=be,S.memoizedState=dn}}function Oe(S,w){if(typeof S!="function")throw Error(i(191,S));S.call(w)}function Wt(S,w){var F=S.callbacks;if(F!==null)for(S.callbacks=null,S=0;S<F.length;S++)Oe(F[S],w)}function Vt(S,w){if(Ka(S,w))return!0;if(typeof S!="object"||S===null||typeof w!="object"||w===null)return!1;var F=Object.keys(S),U=Object.keys(w);if(F.length!==U.length)return!1;for(U=0;U<F.length;U++){var X=F[U];if(!jm.call(w,X)||!Ka(S[X],w[X]))return!1}return!0}function Xt(S){return S=S.status,S==="fulfilled"||S==="rejected"}function It(){}function St(S,w,F){switch(F=S[F],F===void 0?S.push(w):F!==w&&(w.then(It,It),w=F),w.status){case"fulfilled":return w.value;case"rejected":throw S=w.reason,S===wi?Error(i(483)):S;default:if(typeof w.status=="string")w.then(It,It);else{if(S=Fr,S!==null&&100<S.shellSuspendCounter)throw Error(i(482));S=w,S.status="pending",S.then(function(U){if(w.status==="pending"){var X=w;X.status="fulfilled",X.value=U}},function(U){if(w.status==="pending"){var X=w;X.status="rejected",X.reason=U}})}switch(w.status){case"fulfilled":return w.value;case"rejected":throw S=w.reason,S===wi?Error(i(483)):S}throw $d=w,wi}}function qt(){if($d===null)throw Error(i(459));var S=$d;return $d=null,S}function ct(S){var w=Gl;return Gl+=1,ac===null&&(ac=[]),St(ac,S,w)}function Bt(S,w){w=w.props.ref,S.ref=w!==void 0?w:null}function Rt(S,w){throw w.$$typeof===Fv?Error(i(525)):(S=Object.prototype.toString.call(w),Error(i(31,S==="[object Object]"?"object with keys {"+Object.keys(w).join(", ")+"}":S)))}function Ht(S){var w=S._init;return w(S._payload)}function Vn(S){function w(ht,qe){if(S){var vt=ht.deletions;vt===null?(ht.deletions=[qe],ht.flags|=16):vt.push(qe)}}function F(ht,qe){if(!S)return null;for(;qe!==null;)w(ht,qe),qe=qe.sibling;return null}function U(ht){for(var qe=new Map;ht!==null;)ht.key!==null?qe.set(ht.key,ht):qe.set(ht.index,ht),ht=ht.sibling;return qe}function X(ht,qe){return ht=pa(ht,qe),ht.index=0,ht.sibling=null,ht}function re(ht,qe,vt){return ht.index=vt,S?(vt=ht.alternate,vt!==null?(vt=vt.index,vt<qe?(ht.flags|=33554434,qe):vt):(ht.flags|=33554434,qe)):(ht.flags|=1048576,qe)}function be(ht){return S&&ht.alternate===null&&(ht.flags|=33554434),ht}function Re(ht,qe,vt,Kt){return qe===null||qe.tag!==6?(qe=Ih(vt,ht.mode,Kt),qe.return=ht,qe):(qe=X(qe,vt),qe.return=ht,qe)}function Je(ht,qe,vt,Kt){var kn=vt.type;return kn===pu?Zt(ht,qe,vt.props.children,Kt,vt.key):qe!==null&&(qe.elementType===kn||typeof kn=="object"&&kn!==null&&kn.$$typeof===mu&&Ht(kn)===qe.type)?(qe=X(qe,vt.props),Bt(qe,vt),qe.return=ht,qe):(qe=fu(vt.type,vt.key,vt.props,null,ht.mode,Kt),Bt(qe,vt),qe.return=ht,qe)}function Tt(ht,qe,vt,Kt){return qe===null||qe.tag!==4||qe.stateNode.containerInfo!==vt.containerInfo||qe.stateNode.implementation!==vt.implementation?(qe=cg(vt,ht.mode,Kt),qe.return=ht,qe):(qe=X(qe,vt.children||[]),qe.return=ht,qe)}function Zt(ht,qe,vt,Kt,kn){return qe===null||qe.tag!==7?(qe=Ga(vt,ht.mode,Kt,kn),qe.return=ht,qe):(qe=X(qe,vt),qe.return=ht,qe)}function dn(ht,qe,vt){if(typeof qe=="string"&&qe!==""||typeof qe=="number"||typeof qe=="bigint")return qe=Ih(""+qe,ht.mode,vt),qe.return=ht,qe;if(typeof qe=="object"&&qe!==null){switch(qe.$$typeof){case Nd:return vt=fu(qe.type,qe.key,qe.props,null,ht.mode,vt),Bt(vt,qe),vt.return=ht,vt;case ec:return qe=cg(qe,ht.mode,vt),qe.return=ht,qe;case mu:var Kt=qe._init;return qe=Kt(qe._payload),dn(ht,qe,vt)}if(ga(qe)||s(qe))return qe=Ga(qe,ht.mode,vt,null),qe.return=ht,qe;if(typeof qe.then=="function")return dn(ht,ct(qe),vt);if(qe.$$typeof===jc)return dn(ht,ym(ht,qe),vt);Rt(ht,qe)}return null}function gn(ht,qe,vt,Kt){var kn=qe!==null?qe.key:null;if(typeof vt=="string"&&vt!==""||typeof vt=="number"||typeof vt=="bigint")return kn!==null?null:Re(ht,qe,""+vt,Kt);if(typeof vt=="object"&&vt!==null){switch(vt.$$typeof){case Nd:return vt.key===kn?Je(ht,qe,vt,Kt):null;case ec:return vt.key===kn?Tt(ht,qe,vt,Kt):null;case mu:return kn=vt._init,vt=kn(vt._payload),gn(ht,qe,vt,Kt)}if(ga(vt)||s(vt))return kn!==null?null:Zt(ht,qe,vt,Kt,null);if(typeof vt.then=="function")return gn(ht,qe,ct(vt),Kt);if(vt.$$typeof===jc)return gn(ht,qe,ym(ht,vt),Kt);Rt(ht,vt)}return null}function dr(ht,qe,vt,Kt,kn){if(typeof Kt=="string"&&Kt!==""||typeof Kt=="number"||typeof Kt=="bigint")return ht=ht.get(vt)||null,Re(qe,ht,""+Kt,kn);if(typeof Kt=="object"&&Kt!==null){switch(Kt.$$typeof){case Nd:return ht=ht.get(Kt.key===null?vt:Kt.key)||null,Je(qe,ht,Kt,kn);case ec:return ht=ht.get(Kt.key===null?vt:Kt.key)||null,Tt(qe,ht,Kt,kn);case mu:var zi=Kt._init;return Kt=zi(Kt._payload),dr(ht,qe,vt,Kt,kn)}if(ga(Kt)||s(Kt))return ht=ht.get(vt)||null,Zt(qe,ht,Kt,kn,null);if(typeof Kt.then=="function")return dr(ht,qe,vt,ct(Kt),kn);if(Kt.$$typeof===jc)return dr(ht,qe,vt,ym(qe,Kt),kn);Rt(qe,Kt)}return null}function El(ht,qe,vt,Kt){for(var kn=null,zi=null,Jn=qe,ui=qe=0,so=null;Jn!==null&&ui<vt.length;ui++){Jn.index>ui?(so=Jn,Jn=null):so=Jn.sibling;var ei=gn(ht,Jn,vt[ui],Kt);if(ei===null){Jn===null&&(Jn=so);break}S&&Jn&&ei.alternate===null&&w(ht,Jn),qe=re(ei,qe,ui),zi===null?kn=ei:zi.sibling=ei,zi=ei,Jn=so}if(ui===vt.length)return F(ht,Jn),fi&&te(ht,ui),kn;if(Jn===null){for(;ui<vt.length;ui++)Jn=dn(ht,vt[ui],Kt),Jn!==null&&(qe=re(Jn,qe,ui),zi===null?kn=Jn:zi.sibling=Jn,zi=Jn);return fi&&te(ht,ui),kn}for(Jn=U(Jn);ui<vt.length;ui++)so=dr(Jn,ht,ui,vt[ui],Kt),so!==null&&(S&&so.alternate!==null&&Jn.delete(so.key===null?ui:so.key),qe=re(so,qe,ui),zi===null?kn=so:zi.sibling=so,zi=so);return S&&Jn.forEach(function(ed){return w(ht,ed)}),fi&&te(ht,ui),kn}function Gm(ht,qe,vt,Kt){if(vt==null)throw Error(i(151));for(var kn=null,zi=null,Jn=qe,ui=qe=0,so=null,ei=vt.next();Jn!==null&&!ei.done;ui++,ei=vt.next()){Jn.index>ui?(so=Jn,Jn=null):so=Jn.sibling;var ed=gn(ht,Jn,ei.value,Kt);if(ed===null){Jn===null&&(Jn=so);break}S&&Jn&&ed.alternate===null&&w(ht,Jn),qe=re(ed,qe,ui),zi===null?kn=ed:zi.sibling=ed,zi=ed,Jn=so}if(ei.done)return F(ht,Jn),fi&&te(ht,ui),kn;if(Jn===null){for(;!ei.done;ui++,ei=vt.next())ei=dn(ht,ei.value,Kt),ei!==null&&(qe=re(ei,qe,ui),zi===null?kn=ei:zi.sibling=ei,zi=ei);return fi&&te(ht,ui),kn}for(Jn=U(Jn);!ei.done;ui++,ei=vt.next())ei=dr(Jn,ht,ui,ei.value,Kt),ei!==null&&(S&&ei.alternate!==null&&Jn.delete(ei.key===null?ui:ei.key),qe=re(ei,qe,ui),zi===null?kn=ei:zi.sibling=ei,zi=ei);return S&&Jn.forEach(function(Km){return w(ht,Km)}),fi&&te(ht,ui),kn}function cp(ht,qe,vt,Kt){if(typeof vt=="object"&&vt!==null&&vt.type===pu&&vt.key===null&&(vt=vt.props.children),typeof vt=="object"&&vt!==null){switch(vt.$$typeof){case Nd:e:{for(var kn=vt.key;qe!==null;){if(qe.key===kn){if(kn=vt.type,kn===pu){if(qe.tag===7){F(ht,qe.sibling),Kt=X(qe,vt.props.children),Kt.return=ht,ht=Kt;break e}}else if(qe.elementType===kn||typeof kn=="object"&&kn!==null&&kn.$$typeof===mu&&Ht(kn)===qe.type){F(ht,qe.sibling),Kt=X(qe,vt.props),Bt(Kt,vt),Kt.return=ht,ht=Kt;break e}F(ht,qe);break}else w(ht,qe);qe=qe.sibling}vt.type===pu?(Kt=Ga(vt.props.children,ht.mode,Kt,vt.key),Kt.return=ht,ht=Kt):(Kt=fu(vt.type,vt.key,vt.props,null,ht.mode,Kt),Bt(Kt,vt),Kt.return=ht,ht=Kt)}return be(ht);case ec:e:{for(kn=vt.key;qe!==null;){if(qe.key===kn)if(qe.tag===4&&qe.stateNode.containerInfo===vt.containerInfo&&qe.stateNode.implementation===vt.implementation){F(ht,qe.sibling),Kt=X(qe,vt.children||[]),Kt.return=ht,ht=Kt;break e}else{F(ht,qe);break}else w(ht,qe);qe=qe.sibling}Kt=cg(vt,ht.mode,Kt),Kt.return=ht,ht=Kt}return be(ht);case mu:return kn=vt._init,vt=kn(vt._payload),cp(ht,qe,vt,Kt)}if(ga(vt))return El(ht,qe,vt,Kt);if(s(vt)){if(kn=s(vt),typeof kn!="function")throw Error(i(150));return vt=kn.call(vt),Gm(ht,qe,vt,Kt)}if(typeof vt.then=="function")return cp(ht,qe,ct(vt),Kt);if(vt.$$typeof===jc)return cp(ht,qe,ym(ht,vt),Kt);Rt(ht,vt)}return typeof vt=="string"&&vt!==""||typeof vt=="number"||typeof vt=="bigint"?(vt=""+vt,qe!==null&&qe.tag===6?(F(ht,qe.sibling),Kt=X(qe,vt),Kt.return=ht,ht=Kt):(F(ht,qe),Kt=Ih(vt,ht.mode,Kt),Kt.return=ht,ht=Kt),be(ht)):F(ht,qe)}return function(ht,qe,vt,Kt){try{Gl=0;var kn=cp(ht,qe,vt,Kt);return ac=null,kn}catch(Jn){if(Jn===wi)throw Jn;var zi=n(29,Jn,null,ht.mode);return zi.lanes=Kt,zi.return=ht,zi}}}function In(S,w){S=uc,C(To,S),C(Do,w),uc=S|w.baseLanes}function rn(){C(To,uc),C(Do,Do.current)}function ln(){uc=To.current,A(Do),A(To)}function nr(S){var w=S.alternate;C(ro,ro.current&1),C(Kl,S),Wl===null&&(w===null||Do.current!==null||w.memoizedState!==null)&&(Wl=S)}function yr(S){if(S.tag===22){if(C(ro,ro.current),C(Kl,S),Wl===null){var w=S.alternate;w!==null&&w.memoizedState!==null&&(Wl=S)}}else zr()}function zr(){C(ro,ro.current),C(Kl,Kl.current)}function ii(S){A(Kl),Wl===S&&(Wl=null),A(ro)}function Or(S){for(var w=S;w!==null;){if(w.tag===13){var F=w.memoizedState;if(F!==null&&(F=F.dehydrated,F===null||MA(F)||Nh(F)))return w}else if(w.tag===19&&w.memoizedProps.revealOrder!==void 0){if((w.flags&128)!==0)return w}else if(w.child!==null){w.child.return=w,w=w.child;continue}if(w===S)break;for(;w.sibling===null;){if(w.return===null||w.return===S)return null;w=w.return}w.sibling.return=w.return,w=w.sibling}return null}function Wn(){throw Error(i(321))}function Hi(S,w){if(w===null)return!1;for(var F=0;F<w.length&&F<S.length;F++)if(!Ka(S[F],w[F]))return!1;return!0}function fs(S,w,F,U,X,re){return Yc=re,wr=w,w.memoizedState=null,w.updateQueue=null,w.lanes=0,On.H=S===null||S.memoizedState===null?io:Ea,zd=!1,re=F(U,X),zd=!1,As&&(re=ul(w,F,U,X)),ua(S),re}function ua(S){On.H=oi;var w=_i!==null&&_i.next!==null;if(Yc=0,qs=_i=wr=null,wu=!1,Rs=0,xg=null,w)throw Error(i(300));S===null||Ys||(S=S.dependencies,S!==null&&Lc(S)&&(Ys=!0))}function ul(S,w,F,U){wr=S;var X=0;do{if(As&&(xg=null),Rs=0,As=!1,25<=X)throw Error(i(301));if(X+=1,qs=_i=null,S.updateQueue!=null){var re=S.updateQueue;re.lastEffect=null,re.events=null,re.stores=null,re.memoCache!=null&&(re.memoCache.index=0)}On.H=Vh,re=w(F,U)}while(As);return re}function Tc(){var S=On.H,w=S.useState()[0];return w=typeof w.then=="function"?ca(w):w,S=S.useState()[0],(_i!==null?_i.memoizedState:null)!==S&&(wr.flags|=1024),w}function Vu(){var S=Qm!==0;return Qm=0,S}function Nl(S,w,F){w.updateQueue=S.updateQueue,w.flags&=-2053,S.lanes&=~F}function au(S){if(wu){for(S=S.memoizedState;S!==null;){var w=S.queue;w!==null&&(w.pending=null),S=S.next}wu=!1}Yc=0,qs=_i=wr=null,As=!1,Rs=Qm=0,xg=null}function Vi(){var S={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return qs===null?wr.memoizedState=qs=S:qs=qs.next=S,qs}function si(){if(_i===null){var S=wr.alternate;S=S!==null?S.memoizedState:null}else S=_i.next;var w=qs===null?wr.memoizedState:qs.next;if(w!==null)qs=w,_i=S;else{if(S===null)throw wr.alternate===null?Error(i(467)):Error(i(310));_i=S,S={memoizedState:_i.memoizedState,baseState:_i.baseState,baseQueue:_i.baseQueue,queue:_i.queue,next:null},qs===null?wr.memoizedState=qs=S:qs=qs.next=S}return qs}function ca(S){var w=Rs;return Rs+=1,xg===null&&(xg=[]),S=St(xg,S,w),w=wr,(qs===null?w.memoizedState:qs.next)===null&&(w=w.alternate,On.H=w===null||w.memoizedState===null?io:Ea),S}function xo(S){if(S!==null&&typeof S=="object"){if(typeof S.then=="function")return ca(S);if(S.$$typeof===jc)return $o(S)}throw Error(i(438,String(S)))}function me(S){var w=null,F=wr.updateQueue;if(F!==null&&(w=F.memoCache),w==null){var U=wr.alternate;U!==null&&(U=U.updateQueue,U!==null&&(U=U.memoCache,U!=null&&(w={data:U.data.map(function(X){return X.slice()}),index:0})))}if(w==null&&(w={data:[],index:0}),F===null&&(F=Um(),wr.updateQueue=F),F.memoCache=w,F=w.data[w.index],F===void 0)for(F=w.data[w.index]=Array(S),U=0;U<S;U++)F[U]=xC;return w.index++,F}function He(S,w){return typeof w=="function"?w(S):w}function dt(S){var w=si();return tt(w,_i,S)}function tt(S,w,F){var U=S.queue;if(U===null)throw Error(i(311));U.lastRenderedReducer=F;var X=S.baseQueue,re=U.pending;if(re!==null){if(X!==null){var be=X.next;X.next=re.next,re.next=be}w.baseQueue=X=re,U.pending=null}if(re=S.baseState,X===null)S.memoizedState=re;else{w=X.next;var Re=be=null,Je=null,Tt=w,Zt=!1;do{var dn=Tt.lane&-536870913;if(dn!==Tt.lane?(Mr&dn)===dn:(Yc&dn)===dn){var gn=Tt.revertLane;if(gn===0)Je!==null&&(Je=Je.next={lane:0,revertLane:0,action:Tt.action,hasEagerState:Tt.hasEagerState,eagerState:Tt.eagerState,next:null}),dn===vl&&(Zt=!0);else if((Yc&gn)===gn){Tt=Tt.next,gn===vl&&(Zt=!0);continue}else dn={lane:0,revertLane:Tt.revertLane,action:Tt.action,hasEagerState:Tt.hasEagerState,eagerState:Tt.eagerState,next:null},Je===null?(Re=Je=dn,be=re):Je=Je.next=dn,wr.lanes|=gn,Yl|=gn;dn=Tt.action,zd&&F(re,dn),re=Tt.hasEagerState?Tt.eagerState:F(re,dn)}else gn={lane:dn,revertLane:Tt.revertLane,action:Tt.action,hasEagerState:Tt.hasEagerState,eagerState:Tt.eagerState,next:null},Je===null?(Re=Je=gn,be=re):Je=Je.next=gn,wr.lanes|=dn,Yl|=dn;Tt=Tt.next}while(Tt!==null&&Tt!==w);if(Je===null?be=re:Je.next=Re,!Ka(re,S.memoizedState)&&(Ys=!0,Zt&&(F=Uh,F!==null)))throw F;S.memoizedState=re,S.baseState=be,S.baseQueue=Je,U.lastRenderedState=re}return X===null&&(U.lanes=0),[S.memoizedState,U.dispatch]}function Xe(S){var w=si(),F=w.queue;if(F===null)throw Error(i(311));F.lastRenderedReducer=S;var U=F.dispatch,X=F.pending,re=w.memoizedState;if(X!==null){F.pending=null;var be=X=X.next;do re=S(re,be.action),be=be.next;while(be!==X);Ka(re,w.memoizedState)||(Ys=!0),w.memoizedState=re,w.baseQueue===null&&(w.baseState=re),F.lastRenderedState=re}return[re,U]}function sn(S,w,F){var U=wr,X=si(),re=fi;if(re){if(F===void 0)throw Error(i(407));F=F()}else F=w();var be=!Ka((_i||X).memoizedState,F);if(be&&(X.memoizedState=F,Ys=!0),X=X.queue,Yo(hn.bind(null,U,X,S),[S]),X.getSnapshot!==w||be||qs!==null&&qs.memoizedState.tag&1){if(U.flags|=2048,Nr(9,tn.bind(null,U,X,F,w),{destroy:void 0},null),Fr===null)throw Error(i(349));re||(Yc&60)!==0||cn(U,w,F)}return F}function cn(S,w,F){S.flags|=16384,S={getSnapshot:w,value:F},w=wr.updateQueue,w===null?(w=Um(),wr.updateQueue=w,w.stores=[S]):(F=w.stores,F===null?w.stores=[S]:F.push(S))}function tn(S,w,F,U){w.value=F,w.getSnapshot=U,bn(w)&&he(S)}function hn(S,w,F){return F(function(){bn(w)&&he(S)})}function bn(S){var w=S.getSnapshot;S=S.value;try{var F=w();return!Ka(S,F)}catch{return!0}}function he(S){var w=ut(S,2);w!==null&&fa(w,S,2)}function pe(S){var w=Vi();if(typeof S=="function"){var F=S;if(S=F(),zd){G(!0);try{F()}finally{G(!1)}}}return w.memoizedState=w.baseState=S,w.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:He,lastRenderedState:S},w}function Ie(S,w,F,U){return S.baseState=F,tt(S,_i,typeof U=="function"?U:He)}function Le(S,w,F,U,X){if(kf(S))throw Error(i(485));if(S=w.action,S!==null){var re={payload:X,action:S,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(be){re.listeners.push(be)}};On.T!==null?F(!0):re.isTransition=!1,U(re),F=w.pending,F===null?(re.next=w.pending=re,Ke(w,re)):(re.next=F.next,w.pending=F.next=re)}}function Ke(S,w){var F=w.action,U=w.payload,X=S.state;if(w.isTransition){var re=On.T,be={};On.T=be;try{var Re=F(X,U),Je=On.S;Je!==null&&Je(be,Re),pt(S,w,Re)}catch(Tt){nt(S,w,Tt)}finally{On.T=re}}else try{re=F(X,U),pt(S,w,re)}catch(Tt){nt(S,w,Tt)}}function pt(S,w,F){F!==null&&typeof F=="object"&&typeof F.then=="function"?F.then(function(U){Ct(S,w,U)},function(U){return nt(S,w,U)}):Ct(S,w,F)}function Ct(S,w,F){w.status="fulfilled",w.value=F,Ft(w),S.state=F,w=S.pending,w!==null&&(F=w.next,F===w?S.pending=null:(F=F.next,w.next=F,Ke(S,F)))}function nt(S,w,F){var U=S.pending;if(S.pending=null,U!==null){U=U.next;do w.status="rejected",w.reason=F,Ft(w),w=w.next;while(w!==U)}S.action=null}function Ft(S){S=S.listeners;for(var w=0;w<S.length;w++)(0,S[w])()}function xt(S,w){return w}function Jt(S,w){if(fi){var F=Fr.formState;if(F!==null){e:{var U=wr;if(fi){if(Vo){var X=Wv(Vo,Eu);if(X){Vo=Vc(X),U=ml(X);break e}}ge(U)}U=!1}U&&(w=F[0])}}F=Vi(),F.memoizedState=F.baseState=w,U={pending:null,lanes:0,dispatch:null,lastRenderedReducer:xt,lastRenderedState:w},F.queue=U,F=iA.bind(null,wr,U),U.dispatch=F,U=pe(!1);var re=$i.bind(null,wr,!1,U.queue);return U=Vi(),X={state:w,dispatch:null,action:S,pending:null},U.queue=X,F=Le.bind(null,wr,X,re,F),X.dispatch=F,U.memoizedState=S,[w,F,!1]}function En(S){var w=si();return Un(w,_i,S)}function Un(S,w,F){w=tt(S,w,xt)[0],S=dt(He)[0],w=typeof w=="object"&&w!==null&&typeof w.then=="function"?ca(w):w;var U=si(),X=U.queue,re=X.dispatch;return F!==U.memoizedState&&(wr.flags|=2048,Nr(9,jr.bind(null,X,F),{destroy:void 0},null)),[w,re,S]}function jr(S,w){S.action=w}function _n(S){var w=si(),F=_i;if(F!==null)return Un(w,F,S);si(),w=w.memoizedState,F=si();var U=F.queue.dispatch;return F.memoizedState=S,[w,U,!1]}function Nr(S,w,F,U){return S={tag:S,create:w,inst:F,deps:U,next:null},w=wr.updateQueue,w===null&&(w=Um(),wr.updateQueue=w),F=w.lastEffect,F===null?w.lastEffect=S.next=S:(U=F.next,F.next=S,S.next=U,w.lastEffect=S),S}function Qr(){return si().memoizedState}function Ji(S,w,F,U){var X=Vi();wr.flags|=S,X.memoizedState=Nr(1|w,F,{destroy:void 0},U===void 0?null:U)}function Ci(S,w,F,U){var X=si();U=U===void 0?null:U;var re=X.memoizedState.inst;_i!==null&&U!==null&&Hi(U,_i.memoizedState.deps)?X.memoizedState=Nr(w,F,re,U):(wr.flags|=S,X.memoizedState=Nr(1|w,F,re,U))}function Mc(S,w){Ji(8390656,8,S,w)}function Yo(S,w){Ci(2048,8,S,w)}function mv(S,w){return Ci(4,2,S,w)}function Av(S,w){return Ci(4,4,S,w)}function Jp(S,w){if(typeof w=="function"){S=S();var F=w(S);return function(){typeof F=="function"?F():w(null)}}if(w!=null)return S=S(),w.current=S,function(){w.current=null}}function kc(S,w,F){F=F!=null?F.concat([S]):null,Ci(4,4,Jp.bind(null,w,S),F)}function hm(){}function tA(S,w){var F=si();w=w===void 0?null:w;var U=F.memoizedState;return w!==null&&Hi(w,U[1])?U[0]:(F.memoizedState=[S,w],S)}function ph(S,w){var F=si();w=w===void 0?null:w;var U=F.memoizedState;if(w!==null&&Hi(w,U[1]))return U[0];if(U=S(),zd){G(!0);try{S()}finally{G(!1)}}return F.memoizedState=[U,w],U}function gh(S,w,F){return F===void 0||(Yc&1073741824)!==0?S.memoizedState=w:(S.memoizedState=F,S=Ll(),wr.lanes|=S,Yl|=S,F)}function yv(S,w,F,U){return Ka(F,w)?F:Do.current!==null?(S=gh(S,F,U),Ka(S,w)||(Ys=!0),S):(Yc&42)===0?(Ys=!0,S.memoizedState=F):(S=Ll(),wr.lanes|=S,Yl|=S,w)}function nA(S,w,F,U,X){var re=Io();Qo(re!==0&&8>re?re:8);var be=On.T,Re={};On.T=Re,$i(S,!1,w,F);try{var Je=X(),Tt=On.S;if(Tt!==null&&Tt(Re,Je),Je!==null&&typeof Je=="object"&&typeof Je.then=="function"){var Zt=Et(Je,U);Ai(S,w,Zt,Hs(S))}else Ai(S,w,U,Hs(S))}catch(dn){Ai(S,w,{then:function(){},status:"rejected",reason:dn},Hs())}finally{Qo(re),On.T=be}}function vv(S){var w=S.memoizedState;if(w!==null)return w;w={memoizedState:Uo,baseState:Uo,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:He,lastRenderedState:Uo},next:null};var F={};return w.next={memoizedState:F,baseState:F,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:He,lastRenderedState:F},next:null},S.memoizedState=w,S=S.alternate,S!==null&&(S.memoizedState=w),w}function wd(){return $o(Xn)}function Pc(){return si().memoizedState}function rA(){return si().memoizedState}function fm(S){for(var w=S.return;w!==null;){switch(w.tag){case 24:case 3:var F=Hs();S=at(F);var U=At(w,S,F);U!==null&&(fa(U,w,F),Pt(U,w,F)),w={cache:tg()},S.payload=w;return}w=w.return}}function mh(S,w,F){var U=Hs();F={lane:U,revertLane:0,action:F,hasEagerState:!1,eagerState:null,next:null},kf(S)?pm(w,F):(F=Ge(S,w,F,U),F!==null&&(fa(F,S,U),bv(F,w,U)))}function iA(S,w,F){var U=Hs();Ai(S,w,F,U)}function Ai(S,w,F,U){var X={lane:U,revertLane:0,action:F,hasEagerState:!1,eagerState:null,next:null};if(kf(S))pm(w,X);else{var re=S.alternate;if(S.lanes===0&&(re===null||re.lanes===0)&&(re=w.lastRenderedReducer,re!==null))try{var be=w.lastRenderedState,Re=re(be,F);if(X.hasEagerState=!0,X.eagerState=Re,Ka(Re,be))return Ue(S,w,X,0),Fr===null&&Me(),!1}catch{}if(F=Ge(S,w,X,U),F!==null)return fa(F,S,U),bv(F,w,U),!0}return!1}function $i(S,w,F,U){if(U={lane:2,revertLane:Be(),action:U,hasEagerState:!1,eagerState:null,next:null},kf(S)){if(w)throw Error(i(479))}else w=Ge(S,F,U,2),w!==null&&fa(w,S,2)}function kf(S){var w=S.alternate;return S===wr||w!==null&&w===wr}function pm(S,w){As=wu=!0;var F=S.pending;F===null?w.next=w:(w.next=F.next,F.next=w),S.pending=w}function bv(S,w,F){if((F&4194176)!==0){var U=w.lanes;U&=S.pendingLanes,F|=U,w.lanes=F,H(S,F)}}function da(S,w,F,U){w=S.memoizedState,F=F(U,w),F=F==null?w:Gf({},w,F),S.memoizedState=F,S.lanes===0&&(S.updateQueue.baseState=F)}function Ah(S,w,F,U,X,re,be){return S=S.stateNode,typeof S.shouldComponentUpdate=="function"?S.shouldComponentUpdate(U,re,be):w.prototype&&w.prototype.isPureReactComponent?!Vt(F,U)||!Vt(X,re):!0}function gm(S,w,F,U){S=w.state,typeof w.componentWillReceiveProps=="function"&&w.componentWillReceiveProps(F,U),typeof w.UNSAFE_componentWillReceiveProps=="function"&&w.UNSAFE_componentWillReceiveProps(F,U),w.state!==S&&Hm.enqueueReplaceState(w,w.state,null)}function lu(S,w){var F=w;if("ref"in w){F={};for(var U in w)U!=="ref"&&(F[U]=w[U])}if(S=S.defaultProps){F===w&&(F=Gf({},F));for(var X in S)F[X]===void 0&&(F[X]=S[X])}return F}function sA(S,w){try{var F=S.onUncaughtError;F(w.value,{componentStack:w.stack})}catch(U){setTimeout(function(){throw U})}}function no(S,w,F){try{var U=S.onCaughtError;U(F.value,{componentStack:F.stack,errorBoundary:w.tag===1?w.stateNode:null})}catch(X){setTimeout(function(){throw X})}}function Pf(S,w,F){return F=at(F),F.tag=3,F.payload={element:null},F.callback=function(){sA(S,w)},F}function uu(S){return S=at(S),S.tag=3,S}function Zp(S,w,F,U){var X=F.type.getDerivedStateFromError;if(typeof X=="function"){var re=U.value;S.payload=function(){return X(re)},S.callback=function(){no(w,F,U)}}var be=F.stateNode;be!==null&&typeof be.componentDidCatch=="function"&&(S.callback=function(){no(w,F,U),typeof X!="function"&&(Xl===null?Xl=new Set([this]):Xl.add(this));var Re=U.stack;this.componentDidCatch(U.value,{componentStack:Re!==null?Re:""})})}function oA(S,w,F,U,X){if(F.flags|=32768,U!==null&&typeof U=="object"&&typeof U.then=="function"){if(w=F.alternate,w!==null&&yh(w,F,X,!0),F=Kl.current,F!==null){switch(F.tag){case 13:return Wl===null?hl():F.alternate===null&&li===0&&(li=3),F.flags&=-257,F.flags|=65536,F.lanes=X,U===Hh?F.flags|=16384:(w=F.updateQueue,w===null?F.updateQueue=new Set([U]):w.add(U),Hf(S,U,X)),!1;case 22:return F.flags|=65536,U===Hh?F.flags|=16384:(w=F.updateQueue,w===null?(w={transitions:null,markerInstances:null,retryQueue:new Set([U])},F.updateQueue=w):(F=w.retryQueue,F===null?w.retryQueue=new Set([U]):F.add(U)),Hf(S,U,X)),!1}throw Error(i(435,F.tag))}return Hf(S,U,X),hl(),!1}if(fi)return w=Kl.current,w!==null?((w.flags&65536)===0&&(w.flags|=256),w.flags|=65536,w.lanes=X,U!==Vl&&(S=Error(i(422),{cause:U}),Ee(J(S,F)))):(U!==Vl&&(w=Error(i(423),{cause:U}),Ee(J(w,F))),S=S.current.alternate,S.flags|=65536,X&=-X,S.lanes|=X,U=J(U,F),X=Pf(S.stateNode,U,X),wt(S,X),li!==4&&(li=2)),!1;var re=Error(i(520),{cause:U});if(re=J(re,F),Eg===null?Eg=[re]:Eg.push(re),li!==4&&(li=2),w===null)return!0;U=J(U,F),F=w;do{switch(F.tag){case 3:return F.flags|=65536,S=X&-X,F.lanes|=S,S=Pf(F.stateNode,U,S),wt(F,S),!1;case 1:if(w=F.type,re=F.stateNode,(F.flags&128)===0&&(typeof w.getDerivedStateFromError=="function"||re!==null&&typeof re.componentDidCatch=="function"&&(Xl===null||!Xl.has(re))))return F.flags|=65536,X&=-X,F.lanes|=X,X=uu(X),Zp(X,S,F,U),wt(F,X),!1}F=F.return}while(F!==null);return!1}function Gi(S,w,F,U){w.child=S===null?HA(w,null,F,U):lc(w,S.child,F,U)}function xv(S,w,F,U,X){F=F.render;var re=w.ref;if("ref"in U){var be={};for(var Re in U)Re!=="ref"&&(be[Re]=U[Re])}else be=U;return Id(w),U=fs(S,w,F,be,re,X),Re=Vu(),S!==null&&!Ys?(Nl(S,w,X),_d(S,w,X)):(fi&&Re&&Z(w),w.flags|=1,Gi(S,w,U,X),w.child)}function Cv(S,w,F,U,X){if(S===null){var re=F.type;return typeof re=="function"&&!hr(re)&&re.defaultProps===void 0&&F.compare===null?(w.tag=15,w.type=re,mm(S,w,re,U,X)):(S=fu(F.type,null,U,w,w.mode,X),S.ref=w.ref,S.return=w,w.child=S)}if(re=S.child,!wv(S,X)){var be=re.memoizedProps;if(F=F.compare,F=F!==null?F:Vt,F(be,U)&&S.ref===w.ref)return _d(S,w,X)}return w.flags|=1,S=pa(re,U),S.ref=w.ref,S.return=w,w.child=S}function mm(S,w,F,U,X){if(S!==null){var re=S.memoizedProps;if(Vt(re,U)&&S.ref===w.ref)if(Ys=!1,w.pendingProps=U=re,wv(S,X))(S.flags&131072)!==0&&(Ys=!0);else return w.lanes=S.lanes,_d(S,w,X)}return Ua(S,w,F,U,X)}function Ev(S,w,F){var U=w.pendingProps,X=U.children,re=(w.stateNode._pendingVisibility&2)!==0,be=S!==null?S.memoizedState:null;if(eg(S,w),U.mode==="hidden"||re){if((w.flags&128)!==0){if(U=be!==null?be.baseLanes|F:F,S!==null){for(X=w.child=S.child,re=0;X!==null;)re=re|X.lanes|X.childLanes,X=X.sibling;w.childLanes=re&~U}else w.childLanes=0,w.child=null;return Sv(S,w,U,F)}if((F&536870912)!==0)w.memoizedState={baseLanes:0,cachePool:null},S!==null&&ha(w,be!==null?be.cachePool:null),be!==null?In(w,be):rn(),yr(w);else return w.lanes=w.childLanes=536870912,Sv(S,w,be!==null?be.baseLanes|F:F,F)}else be!==null?(ha(w,be.cachePool),In(w,be),zr(),w.memoizedState=null):(S!==null&&ha(w,null),rn(),zr());return Gi(S,w,X,F),w.child}function Sv(S,w,F,U){var X=Bd();return X=X===null?null:{parent:wo?Ii._currentValue:Ii._currentValue2,pool:X},w.memoizedState={baseLanes:F,cachePool:X},S!==null&&ha(w,null),rn(),yr(w),S!==null&&yh(S,w,U,!0),null}function eg(S,w){var F=w.ref;if(F===null)S!==null&&S.ref!==null&&(w.flags|=2097664);else{if(typeof F!="function"&&typeof F!="object")throw Error(i(284));(S===null||S.ref!==F)&&(w.flags|=2097664)}}function Ua(S,w,F,U,X){return Id(w),F=fs(S,w,F,U,void 0,X),U=Vu(),S!==null&&!Ys?(Nl(S,w,X),_d(S,w,X)):(fi&&U&&Z(w),w.flags|=1,Gi(S,w,F,X),w.child)}function gC(S,w,F,U,X,re){return Id(w),w.updateQueue=null,F=ul(w,U,F,X),ua(S),U=Vu(),S!==null&&!Ys?(Nl(S,w,re),_d(S,w,re)):(fi&&U&&Z(w),w.flags|=1,Gi(S,w,F,re),w.child)}function cl(S,w,F,U,X){if(Id(w),w.stateNode===null){var re=Kc,be=F.contextType;typeof be=="object"&&be!==null&&(re=$o(be)),re=new F(U,re),w.memoizedState=re.state!==null&&re.state!==void 0?re.state:null,re.updater=Hm,w.stateNode=re,re._reactInternals=w,re=w.stateNode,re.props=U,re.state=w.memoizedState,re.refs={},zt(w),be=F.contextType,re.context=typeof be=="object"&&be!==null?$o(be):Kc,re.state=w.memoizedState,be=F.getDerivedStateFromProps,typeof be=="function"&&(da(w,F,be,U),re.state=w.memoizedState),typeof F.getDerivedStateFromProps=="function"||typeof re.getSnapshotBeforeUpdate=="function"||typeof re.UNSAFE_componentWillMount!="function"&&typeof re.componentWillMount!="function"||(be=re.state,typeof re.componentWillMount=="function"&&re.componentWillMount(),typeof re.UNSAFE_componentWillMount=="function"&&re.UNSAFE_componentWillMount(),be!==re.state&&Hm.enqueueReplaceState(re,re.state,null),un(w,U,re,X),Lt(),re.state=w.memoizedState),typeof re.componentDidMount=="function"&&(w.flags|=4194308),U=!0}else if(S===null){re=w.stateNode;var Re=w.memoizedProps,Je=lu(F,Re);re.props=Je;var Tt=re.context,Zt=F.contextType;be=Kc,typeof Zt=="object"&&Zt!==null&&(be=$o(Zt));var dn=F.getDerivedStateFromProps;Zt=typeof dn=="function"||typeof re.getSnapshotBeforeUpdate=="function",Re=w.pendingProps!==Re,Zt||typeof re.UNSAFE_componentWillReceiveProps!="function"&&typeof re.componentWillReceiveProps!="function"||(Re||Tt!==be)&&gm(w,re,U,be),qc=!1;var gn=w.memoizedState;re.state=gn,un(w,U,re,X),Lt(),Tt=w.memoizedState,Re||gn!==Tt||qc?(typeof dn=="function"&&(da(w,F,dn,U),Tt=w.memoizedState),(Je=qc||Ah(w,F,Je,U,gn,Tt,be))?(Zt||typeof re.UNSAFE_componentWillMount!="function"&&typeof re.componentWillMount!="function"||(typeof re.componentWillMount=="function"&&re.componentWillMount(),typeof re.UNSAFE_componentWillMount=="function"&&re.UNSAFE_componentWillMount()),typeof re.componentDidMount=="function"&&(w.flags|=4194308)):(typeof re.componentDidMount=="function"&&(w.flags|=4194308),w.memoizedProps=U,w.memoizedState=Tt),re.props=U,re.state=Tt,re.context=be,U=Je):(typeof re.componentDidMount=="function"&&(w.flags|=4194308),U=!1)}else{re=w.stateNode,Mt(S,w),be=w.memoizedProps,Zt=lu(F,be),re.props=Zt,dn=w.pendingProps,gn=re.context,Tt=F.contextType,Je=Kc,typeof Tt=="object"&&Tt!==null&&(Je=$o(Tt)),Re=F.getDerivedStateFromProps,(Tt=typeof Re=="function"||typeof re.getSnapshotBeforeUpdate=="function")||typeof re.UNSAFE_componentWillReceiveProps!="function"&&typeof re.componentWillReceiveProps!="function"||(be!==dn||gn!==Je)&&gm(w,re,U,Je),qc=!1,gn=w.memoizedState,re.state=gn,un(w,U,re,X),Lt();var dr=w.memoizedState;be!==dn||gn!==dr||qc||S!==null&&S.dependencies!==null&&Lc(S.dependencies)?(typeof Re=="function"&&(da(w,F,Re,U),dr=w.memoizedState),(Zt=qc||Ah(w,F,Zt,U,gn,dr,Je)||S!==null&&S.dependencies!==null&&Lc(S.dependencies))?(Tt||typeof re.UNSAFE_componentWillUpdate!="function"&&typeof re.componentWillUpdate!="function"||(typeof re.componentWillUpdate=="function"&&re.componentWillUpdate(U,dr,Je),typeof re.UNSAFE_componentWillUpdate=="function"&&re.UNSAFE_componentWillUpdate(U,dr,Je)),typeof re.componentDidUpdate=="function"&&(w.flags|=4),typeof re.getSnapshotBeforeUpdate=="function"&&(w.flags|=1024)):(typeof re.componentDidUpdate!="function"||be===S.memoizedProps&&gn===S.memoizedState||(w.flags|=4),typeof re.getSnapshotBeforeUpdate!="function"||be===S.memoizedProps&&gn===S.memoizedState||(w.flags|=1024),w.memoizedProps=U,w.memoizedState=dr),re.props=U,re.state=dr,re.context=Je,U=Zt):(typeof re.componentDidUpdate!="function"||be===S.memoizedProps&&gn===S.memoizedState||(w.flags|=4),typeof re.getSnapshotBeforeUpdate!="function"||be===S.memoizedProps&&gn===S.memoizedState||(w.flags|=1024),U=!1)}return re=U,eg(S,w),U=(w.flags&128)!==0,re||U?(re=w.stateNode,F=U&&typeof F.getDerivedStateFromError!="function"?null:re.render(),w.flags|=1,S!==null&&U?(w.child=lc(w,S.child,null,X),w.child=lc(w,null,F,X)):Gi(S,w,F,X),w.memoizedState=re.state,S=w.child):S=_d(S,w,X),S}function mC(S,w,F,U){return Fe(),w.flags|=256,Gi(S,w,F,U),w.child}function aA(S){return{baseLanes:S,cachePool:hA()}}function Rc(S,w,F){return S=S!==null?S.childLanes&~F:0,w&&(S|=Cl),S}function Am(S,w,F){var U=w.pendingProps,X=!1,re=(w.flags&128)!==0,be;if((be=re)||(be=S!==null&&S.memoizedState===null?!1:(ro.current&2)!==0),be&&(X=!0,w.flags&=-129),be=(w.flags&32)!==0,w.flags&=-33,S===null){if(fi){if(X?nr(w):zr(),fi){var Re=Vo,Je;(Je=Re)&&(Re=Xv(Re,Eu),Re!==null?(w.memoizedState={dehydrated:Re,treeContext:sc!==null?{id:Cu,overflow:Ul}:null,retryLane:536870912},Je=n(18,null,null,0),Je.stateNode=Re,Je.return=w,w.child=Je,Ca=w,Vo=null,Je=!0):Je=!1),Je||ge(w)}if(Re=w.memoizedState,Re!==null&&(Re=Re.dehydrated,Re!==null))return Nh(Re)?w.lanes=16:w.lanes=536870912,null;ii(w)}return Re=U.children,U=U.fallback,X?(zr(),X=w.mode,Re=is({mode:"hidden",children:Re},X),U=Ga(U,X,F,null),Re.return=w,U.return=w,Re.sibling=U,w.child=Re,X=w.child,X.memoizedState=aA(F),X.childLanes=Rc(S,be,F),w.memoizedState=Sa,U):(nr(w),Rf(w,Re))}if(Je=S.memoizedState,Je!==null&&(Re=Je.dehydrated,Re!==null)){if(re)w.flags&256?(nr(w),w.flags&=-257,w=Nc(S,w,F)):w.memoizedState!==null?(zr(),w.child=S.child,w.flags|=128,w=null):(zr(),X=U.fallback,Re=w.mode,U=is({mode:"visible",children:U.children},Re),X=Ga(X,Re,F,null),X.flags|=2,U.return=w,X.return=w,U.sibling=X,w.child=U,lc(w,S.child,null,F),U=w.child,U.memoizedState=aA(F),U.childLanes=Rc(S,be,F),w.memoizedState=Sa,w=X);else if(nr(w),Nh(Re))be=kA(Re).digest,U=Error(i(419)),U.stack="",U.digest=be,Ee({value:U,source:null,stack:null}),w=Nc(S,w,F);else if(Ys||yh(S,w,F,!1),be=(F&S.childLanes)!==0,Ys||be){if(be=Fr,be!==null){if(U=F&-F,(U&42)!==0)U=1;else switch(U){case 2:U=1;break;case 8:U=4;break;case 32:U=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:U=64;break;case 268435456:U=134217728;break;default:U=0}if(U=(U&(be.suspendedLanes|F))!==0?0:U,U!==0&&U!==Je.retryLane)throw Je.retryLane=U,ut(S,U),fa(be,S,U),MC}MA(Re)||hl(),w=Nc(S,w,F)}else MA(Re)?(w.flags|=128,w.child=S.child,w=Ae.bind(null,S),EC(Re,w),w=null):(S=Je.treeContext,Ks&&(Vo=km(Re),Ca=w,fi=!0,Hl=null,Eu=!1,S!==null&&(Wa[Bo++]=Cu,Wa[Bo++]=Ul,Wa[Bo++]=sc,Cu=S.id,Ul=S.overflow,sc=w)),w=Rf(w,U.children),w.flags|=4096);return w}return X?(zr(),X=U.fallback,Re=w.mode,Je=S.child,re=Je.sibling,U=pa(Je,{mode:"hidden",children:U.children}),U.subtreeFlags=Je.subtreeFlags&31457280,re!==null?X=pa(re,X):(X=Ga(X,Re,F,null),X.flags|=2),X.return=w,U.return=w,U.sibling=X,w.child=U,U=X,X=w.child,Re=S.child.memoizedState,Re===null?Re=aA(F):(Je=Re.cachePool,Je!==null?(re=wo?Ii._currentValue:Ii._currentValue2,Je=Je.parent!==re?{parent:re,pool:re}:Je):Je=hA(),Re={baseLanes:Re.baseLanes|F,cachePool:Je}),X.memoizedState=Re,X.childLanes=Rc(S,be,F),w.memoizedState=Sa,U):(nr(w),F=S.child,S=F.sibling,F=pa(F,{mode:"visible",children:U.children}),F.return=w,F.sibling=null,S!==null&&(be=w.deletions,be===null?(w.deletions=[S],w.flags|=16):be.push(S)),w.child=F,w.memoizedState=null,F)}function Rf(S,w){return w=is({mode:"visible",children:w},S.mode),w.return=S,S.child=w}function is(S,w){return yA(S,w,0,null)}function Nc(S,w,F){return lc(w,S.child,null,F),S=Rf(w,w.pendingProps.children),S.flags|=2,w.memoizedState=null,S}function lA(S,w,F){S.lanes|=w;var U=S.alternate;U!==null&&(U.lanes|=w),Iv(S.return,w,F)}function uA(S,w,F,U,X){var re=S.memoizedState;re===null?S.memoizedState={isBackwards:w,rendering:null,renderingStartTime:0,last:U,tail:F,tailMode:X}:(re.isBackwards=w,re.rendering=null,re.renderingStartTime=0,re.last=U,re.tail=F,re.tailMode=X)}function cA(S,w,F){var U=w.pendingProps,X=U.revealOrder,re=U.tail;if(Gi(S,w,U.children,F),U=ro.current,(U&2)!==0)U=U&1|2,w.flags|=128;else{if(S!==null&&(S.flags&128)!==0)e:for(S=w.child;S!==null;){if(S.tag===13)S.memoizedState!==null&&lA(S,F,w);else if(S.tag===19)lA(S,F,w);else if(S.child!==null){S.child.return=S,S=S.child;continue}if(S===w)break e;for(;S.sibling===null;){if(S.return===null||S.return===w)break e;S=S.return}S.sibling.return=S.return,S=S.sibling}U&=1}switch(C(ro,U),X){case"forwards":for(F=w.child,X=null;F!==null;)S=F.alternate,S!==null&&Or(S)===null&&(X=F),F=F.sibling;F=X,F===null?(X=w.child,w.child=null):(X=F.sibling,F.sibling=null),uA(w,!1,X,F,re);break;case"backwards":for(F=null,X=w.child,w.child=null;X!==null;){if(S=X.alternate,S!==null&&Or(S)===null){w.child=X;break}S=X.sibling,X.sibling=F,F=X,X=S}uA(w,!0,F,null,re);break;case"together":uA(w,!1,null,null,void 0);break;default:w.memoizedState=null}return w.child}function _d(S,w,F){if(S!==null&&(w.dependencies=S.dependencies),Yl|=w.lanes,(F&w.childLanes)===0)if(S!==null){if(yh(S,w,F,!1),(F&w.childLanes)===0)return null}else return null;if(S!==null&&w.child!==S.child)throw Error(i(153));if(w.child!==null){for(S=w.child,F=pa(S,S.pendingProps),w.child=F,F.return=w;S.sibling!==null;)S=S.sibling,F=F.sibling=pa(S,S.pendingProps),F.return=w;F.sibling=null}return w.child}function wv(S,w){return(S.lanes&w)!==0?!0:(S=S.dependencies,!!(S!==null&&Lc(S)))}function bS(S,w,F){switch(w.tag){case 3:ie(w,w.stateNode.containerInfo),Gu(w,Ii,S.memoizedState.cache),Fe();break;case 27:case 5:ae(w);break;case 4:ie(w,w.stateNode.containerInfo);break;case 10:Gu(w,w.type,w.memoizedProps.value);break;case 13:var U=w.memoizedState;if(U!==null)return U.dehydrated!==null?(nr(w),w.flags|=128,null):(F&w.child.childLanes)!==0?Am(S,w,F):(nr(w),S=_d(S,w,F),S!==null?S.sibling:null);nr(w);break;case 19:var X=(S.flags&128)!==0;if(U=(F&w.childLanes)!==0,U||(yh(S,w,F,!1),U=(F&w.childLanes)!==0),X){if(U)return cA(S,w,F);w.flags|=128}if(X=w.memoizedState,X!==null&&(X.rendering=null,X.tail=null,X.lastEffect=null),C(ro,ro.current),U)break;return null;case 22:case 23:return w.lanes=0,Ev(S,w,F);case 24:Gu(w,Ii,S.memoizedState.cache)}return _d(S,w,F)}function _v(S,w,F){if(S!==null)if(S.memoizedProps!==w.pendingProps)Ys=!0;else{if(!wv(S,F)&&(w.flags&128)===0)return Ys=!1,bS(S,w,F);Ys=(S.flags&131072)!==0}else Ys=!1,fi&&(w.flags&1048576)!==0&&Y(w,jh,w.index);switch(w.lanes=0,w.tag){case 16:e:{S=w.pendingProps;var U=w.elementType,X=U._init;if(U=X(U._payload),w.type=U,typeof U=="function")hr(U)?(S=lu(U,S),w.tag=1,w=cl(null,w,U,S,F)):(w.tag=0,w=Ua(null,w,U,S,F));else{if(U!=null){if(X=U.$$typeof,X===dg){w.tag=11,w=xv(null,w,U,S,F);break e}else if(X===hg){w.tag=14,w=Cv(null,w,U,S,F);break e}}throw w=o(U)||U,Error(i(306,w,""))}}return w;case 0:return Ua(S,w,w.type,w.pendingProps,F);case 1:return U=w.type,X=lu(U,w.pendingProps),cl(S,w,U,X,F);case 3:e:{if(ie(w,w.stateNode.containerInfo),S===null)throw Error(i(387));var re=w.pendingProps;X=w.memoizedState,U=X.element,Mt(S,w),un(w,re,null,F);var be=w.memoizedState;if(re=be.cache,Gu(w,Ii,re),re!==X.cache&&dA(w,[Ii],F,!0),Lt(),re=be.element,Ks&&X.isDehydrated)if(X={element:re,isDehydrated:!1,cache:be.cache},w.updateQueue.baseState=X,w.memoizedState=X,w.flags&256){w=mC(S,w,re,F);break e}else if(re!==U){U=J(Error(i(424)),w),Ee(U),w=mC(S,w,re,F);break e}else for(Ks&&(Vo=qv(w.stateNode.containerInfo),Ca=w,fi=!0,Hl=null,Eu=!0),F=HA(w,null,re,F),w.child=F;F;)F.flags=F.flags&-3|4096,F=F.sibling;else{if(Fe(),re===U){w=_d(S,w,F);break e}Gi(S,w,re,F)}w=w.child}return w;case 26:if(Al)return eg(S,w),S===null?(F=Nm(w.type,null,w.pendingProps,null))?w.memoizedState=F:fi||(w.stateNode=$A(w.type,w.pendingProps,oc.current,w)):w.memoizedState=Nm(w.type,S.memoizedProps,w.pendingProps,S.memoizedState),null;case 27:if(Ho)return ae(w),S===null&&Ho&&fi&&(U=w.stateNode=Fh(w.type,w.pendingProps,oc.current,hi.current,!1),Ca=w,Eu=!0,Vo=yg(U)),U=w.pendingProps.children,S!==null||fi?Gi(S,w,U,F):w.child=lc(w,null,U,F),eg(S,w),w.child;case 5:return S===null&&fi&&(_C(w.type,w.pendingProps,hi.current),(X=U=Vo)&&(U=Yv(U,w.type,w.pendingProps,Eu),U!==null?(w.stateNode=U,Ca=w,Vo=yg(U),Eu=!1,X=!0):X=!1),X||ge(w)),ae(w),X=w.type,re=w.pendingProps,be=S!==null?S.memoizedProps:null,U=re.children,kh(X,re)?U=null:be!==null&&kh(X,be)&&(w.flags|=32),w.memoizedState!==null&&(X=fs(S,w,Tc,null,null,F),wo?Xn._currentValue=X:Xn._currentValue2=X),eg(S,w),Gi(S,w,U,F),w.child;case 6:return S===null&&fi&&(IC(w.pendingProps,hi.current),(S=F=Vo)&&(F=PA(F,w.pendingProps,Eu),F!==null?(w.stateNode=F,Ca=w,Vo=null,S=!0):S=!1),S||ge(w)),null;case 13:return Am(S,w,F);case 4:return ie(w,w.stateNode.containerInfo),U=w.pendingProps,S===null?w.child=lc(w,null,U,F):Gi(S,w,U,F),w.child;case 11:return xv(S,w,w.type,w.pendingProps,F);case 7:return Gi(S,w,w.pendingProps,F),w.child;case 8:return Gi(S,w,w.pendingProps.children,F),w.child;case 12:return Gi(S,w,w.pendingProps.children,F),w.child;case 10:return U=w.pendingProps,Gu(w,w.type,U.value),Gi(S,w,U.children,F),w.child;case 9:return X=w.type._context,U=w.pendingProps.children,Id(w),X=$o(X),U=U(X),w.flags|=1,Gi(S,w,U,F),w.child;case 14:return Cv(S,w,w.type,w.pendingProps,F);case 15:return mm(S,w,w.type,w.pendingProps,F);case 19:return cA(S,w,F);case 22:return Ev(S,w,F);case 24:return Id(w),U=$o(Ii),S===null?(X=Bd(),X===null&&(X=Fr,re=tg(),X.pooledCache=re,re.refCount++,re!==null&&(X.pooledCacheLanes|=F),X=re),w.memoizedState={parent:U,cache:X},zt(w),Gu(w,Ii,X)):((S.lanes&F)!==0&&(Mt(S,w),un(w,null,null,F),Lt()),X=S.memoizedState,re=w.memoizedState,X.parent!==U?(X={parent:U,cache:U},w.memoizedState=X,w.lanes===0&&(w.memoizedState=w.updateQueue.baseState=X),Gu(w,Ii,U)):(U=re.cache,Gu(w,Ii,U),U!==X.cache&&dA(w,[Ii],F,!0))),Gi(S,w,w.pendingProps.children,F),w.child;case 29:throw w.pendingProps}throw Error(i(156,w.tag))}function Gu(S,w,F){wo?(C(bl,w._currentValue),w._currentValue=F):(C(bl,w._currentValue2),w._currentValue2=F)}function dl(S){var w=bl.current;wo?S._currentValue=w:S._currentValue2=w,A(bl)}function Iv(S,w,F){for(;S!==null;){var U=S.alternate;if((S.childLanes&w)!==w?(S.childLanes|=w,U!==null&&(U.childLanes|=w)):U!==null&&(U.childLanes&w)!==w&&(U.childLanes|=w),S===F)break;S=S.return}}function dA(S,w,F,U){var X=S.child;for(X!==null&&(X.return=S);X!==null;){var re=X.dependencies;if(re!==null){var be=X.child;re=re.firstContext;e:for(;re!==null;){var Re=re;re=X;for(var Je=0;Je<w.length;Je++)if(Re.context===w[Je]){re.lanes|=F,Re=re.alternate,Re!==null&&(Re.lanes|=F),Iv(re.return,F,S),U||(be=null);break e}re=Re.next}}else if(X.tag===18){if(be=X.return,be===null)throw Error(i(341));be.lanes|=F,re=be.alternate,re!==null&&(re.lanes|=F),Iv(be,F,S),be=null}else be=X.child;if(be!==null)be.return=X;else for(be=X;be!==null;){if(be===S){be=null;break}if(X=be.sibling,X!==null){X.return=be.return,be=X;break}be=be.return}X=be}}function yh(S,w,F,U){S=null;for(var X=w,re=!1;X!==null;){if(!re){if((X.flags&524288)!==0)re=!0;else if((X.flags&262144)!==0)break}if(X.tag===10){var be=X.alternate;if(be===null)throw Error(i(387));if(be=be.memoizedProps,be!==null){var Re=X.type;Ka(X.pendingProps.value,be.value)||(S!==null?S.push(Re):S=[Re])}}else if(X===tp.current){if(be=X.alternate,be===null)throw Error(i(387));be.memoizedState.memoizedState!==X.memoizedState.memoizedState&&(S!==null?S.push(Xn):S=[Xn])}X=X.return}S!==null&&dA(w,S,F,U),w.flags|=262144}function Lc(S){for(S=S.firstContext;S!==null;){var w=S.context;if(!Ka(wo?w._currentValue:w._currentValue2,S.memoizedValue))return!0;S=S.next}return!1}function Id(S){Gh=S,pi=null,S=S.dependencies,S!==null&&(S.firstContext=null)}function $o(S){return vm(Gh,S)}function ym(S,w){return Gh===null&&Id(S),vm(S,w)}function vm(S,w){var F=wo?w._currentValue:w._currentValue2;if(w={context:w,memoizedValue:F,next:null},pi===null){if(S===null)throw Error(i(308));pi=w,S.dependencies={lanes:0,firstContext:w},S.flags|=524288}else pi=pi.next=w;return F}function tg(){return{controller:new kC,data:new Map,refCount:0}}function ng(S){S.refCount--,S.refCount===0&&Od(ip,function(){S.controller.abort()})}function Bd(){var S=jd.current;return S!==null?S:Fr.pooledCache}function ha(S,w){w===null?C(jd,jd.current):C(jd,w.pool)}function hA(){var S=Bd();return S===null?null:{parent:wo?Ii._currentValue:Ii._currentValue2,pool:S}}function Xo(S){S.flags|=4}function fA(S,w){if(S!==null&&S.child===w.child)return!1;if((w.flags&16)!==0)return!0;for(S=w.child;S!==null;){if((S.flags&13878)!==0||(S.subtreeFlags&13878)!==0)return!0;S=S.sibling}return!1}function bm(S,w,F,U){if(_o)for(F=w.child;F!==null;){if(F.tag===5||F.tag===6)Uc(S,F.stateNode);else if(!(F.tag===4||Ho&&F.tag===27)&&F.child!==null){F.child.return=F,F=F.child;continue}if(F===w)break;for(;F.sibling===null;){if(F.return===null||F.return===w)return;F=F.return}F.sibling.return=F.return,F=F.sibling}else if(Aa)for(var X=w.child;X!==null;){if(X.tag===5){var re=X.stateNode;F&&U&&(re=Kv(re,X.type,X.memoizedProps)),Uc(S,re)}else if(X.tag===6)re=X.stateNode,F&&U&&(re=gl(re,X.memoizedProps)),Uc(S,re);else if(X.tag!==4){if(X.tag===22&&X.memoizedState!==null)re=X.child,re!==null&&(re.return=X),bm(S,X,!0,!0);else if(X.child!==null){X.child.return=X,X=X.child;continue}}if(X===w)break;for(;X.sibling===null;){if(X.return===null||X.return===w)return;X=X.return}X.sibling.return=X.return,X=X.sibling}}function rg(S,w,F,U){if(Aa)for(var X=w.child;X!==null;){if(X.tag===5){var re=X.stateNode;F&&U&&(re=Kv(re,X.type,X.memoizedProps)),Yf(S,re)}else if(X.tag===6)re=X.stateNode,F&&U&&(re=gl(re,X.memoizedProps)),Yf(S,re);else if(X.tag!==4){if(X.tag===22&&X.memoizedState!==null)re=X.child,re!==null&&(re.return=X),rg(S,X,!(X.memoizedProps!==null&&X.memoizedProps.mode==="manual"),!0);else if(X.child!==null){X.child.return=X,X=X.child;continue}}if(X===w)break;for(;X.sibling===null;){if(X.return===null||X.return===w)return;X=X.return}X.sibling.return=X.return,X=X.sibling}}function ig(S,w){if(Aa&&fA(S,w)){S=w.stateNode;var F=S.containerInfo,U=TA();rg(U,w,!1,!1),S.pendingChildren=U,Xo(w),Vv(F,U)}}function Bv(S,w,F,U){if(_o)S.memoizedProps!==U&&Xo(w);else if(Aa){var X=S.stateNode,re=S.memoizedProps;if((S=fA(S,w))||re!==U){var be=hi.current;re=Hv(X,F,re,U,!S,null),re===X?w.stateNode=X:(yu(re,F,U,be)&&Xo(w),w.stateNode=re,S?bm(re,w,!1,!1):Xo(w))}else w.stateNode=X}}function sg(S,w,F){if(CC(w,F)){if(S.flags|=16777216,!jl(w,F))if(ws())S.flags|=8192;else throw $d=Hh,UA}else S.flags&=-16777217}function Dv(S,w){if(nb(w)){if(S.flags|=16777216,!zA(w))if(ws())S.flags|=8192;else throw $d=Hh,UA}else S.flags&=-16777217}function Fc(S,w){w!==null&&(S.flags|=4),S.flags&16384&&(w=S.tag!==22?k():536870912,S.lanes|=w,Jc|=w)}function Nf(S,w){if(!fi)switch(S.tailMode){case"hidden":w=S.tail;for(var F=null;w!==null;)w.alternate!==null&&(F=w),w=w.sibling;F===null?S.tail=null:F.sibling=null;break;case"collapsed":F=S.tail;for(var U=null;F!==null;)F.alternate!==null&&(U=F),F=F.sibling;U===null?w||S.tail===null?S.tail=null:S.tail.sibling=null:U.sibling=null}}function ps(S){var w=S.alternate!==null&&S.alternate.child===S.child,F=0,U=0;if(w)for(var X=S.child;X!==null;)F|=X.lanes|X.childLanes,U|=X.subtreeFlags&31457280,U|=X.flags&31457280,X.return=S,X=X.sibling;else for(X=S.child;X!==null;)F|=X.lanes|X.childLanes,U|=X.subtreeFlags,U|=X.flags,X.return=S,X=X.sibling;return S.subtreeFlags|=U,S.childLanes=F,w}function pA(S,w,F){var U=w.pendingProps;switch(ee(w),w.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ps(w),null;case 1:return ps(w),null;case 3:return F=w.stateNode,U=null,S!==null&&(U=S.memoizedState.cache),w.memoizedState.cache!==U&&(w.flags|=2048),dl(Ii),ue(),F.pendingContext&&(F.context=F.pendingContext,F.pendingContext=null),(S===null||S.child===null)&&(ke(w)?Xo(w):S===null||S.memoizedState.isDehydrated&&(w.flags&256)===0||(w.flags|=1024,Hl!==null&&(Td(Hl),Hl=null))),ig(S,w),ps(w),null;case 26:if(Al){F=w.type;var X=w.memoizedState;return S===null?(Xo(w),X!==null?(ps(w),Dv(w,X)):(ps(w),sg(w,F,U))):X?X!==S.memoizedState?(Xo(w),ps(w),Dv(w,X)):(ps(w),w.flags&=-16777217):(_o?S.memoizedProps!==U&&Xo(w):Bv(S,w,F,U),ps(w),sg(w,F,U)),null}case 27:if(Ho){if(de(w),F=oc.current,X=w.type,S!==null&&w.stateNode!=null)_o?S.memoizedProps!==U&&Xo(w):Bv(S,w,X,U);else{if(!U){if(w.stateNode===null)throw Error(i(166));return ps(w),null}S=hi.current,ke(w)?_e(w,S):(S=Fh(X,U,F,S,!0),w.stateNode=S,Xo(w))}return ps(w),null}case 5:if(de(w),F=w.type,S!==null&&w.stateNode!=null)Bv(S,w,F,U);else{if(!U){if(w.stateNode===null)throw Error(i(166));return ps(w),null}S=hi.current,ke(w)?_e(w,S):(X=CA(F,U,oc.current,S,w),bm(X,w,!1,!1),w.stateNode=X,yu(X,F,U,S)&&Xo(w))}return ps(w),sg(w,w.type,w.pendingProps),null;case 6:if(S&&w.stateNode!=null)F=S.memoizedProps,_o?F!==U&&Xo(w):Aa&&(F!==U?(w.stateNode=Bm(U,oc.current,hi.current,w),Xo(w)):w.stateNode=S.stateNode);else{if(typeof U!="string"&&w.stateNode===null)throw Error(i(166));if(S=oc.current,F=hi.current,ke(w)){if(!Ks)throw Error(i(176));if(S=w.stateNode,F=w.memoizedProps,U=null,X=Ca,X!==null)switch(X.tag){case 27:case 5:U=X.memoizedProps}RA(S,F,w,U)||ge(w)}else w.stateNode=Bm(U,S,F,w)}return ps(w),null;case 13:if(U=w.memoizedState,S===null||S.memoizedState!==null&&S.memoizedState.dehydrated!==null){if(X=ke(w),U!==null&&U.dehydrated!==null){if(S===null){if(!X)throw Error(i(318));if(!Ks)throw Error(i(344));if(X=w.memoizedState,X=X!==null?X.dehydrated:null,!X)throw Error(i(317));Ql(X,w)}else Fe(),(w.flags&128)===0&&(w.memoizedState=null),w.flags|=4;ps(w),X=!1}else Hl!==null&&(Td(Hl),Hl=null),X=!0;if(!X)return w.flags&256?(ii(w),w):(ii(w),null)}if(ii(w),(w.flags&128)!==0)return w.lanes=F,w;if(F=U!==null,S=S!==null&&S.memoizedState!==null,F){U=w.child,X=null,U.alternate!==null&&U.alternate.memoizedState!==null&&U.alternate.memoizedState.cachePool!==null&&(X=U.alternate.memoizedState.cachePool.pool);var re=null;U.memoizedState!==null&&U.memoizedState.cachePool!==null&&(re=U.memoizedState.cachePool.pool),re!==X&&(U.flags|=2048)}return F!==S&&F&&(w.child.flags|=8192),Fc(w,w.updateQueue),ps(w),null;case 4:return ue(),ig(S,w),S===null&&ea(w.stateNode.containerInfo),ps(w),null;case 10:return dl(w.type),ps(w),null;case 19:if(A(ro),X=w.memoizedState,X===null)return ps(w),null;if(U=(w.flags&128)!==0,re=X.rendering,re===null)if(U)Nf(X,!1);else{if(li!==0||S!==null&&(S.flags&128)!==0)for(S=w.child;S!==null;){if(re=Or(S),re!==null){for(w.flags|=128,Nf(X,!1),S=re.updateQueue,w.updateQueue=S,Fc(w,S),w.subtreeFlags=0,S=F,F=w.child;F!==null;)Rd(F,S),F=F.sibling;return C(ro,ro.current&1|2),w.child}S=S.sibling}X.tail!==null&&ms()>Bs&&(w.flags|=128,U=!0,Nf(X,!1),w.lanes=4194304)}else{if(!U)if(S=Or(re),S!==null){if(w.flags|=128,U=!0,S=S.updateQueue,w.updateQueue=S,Fc(w,S),Nf(X,!0),X.tail===null&&X.tailMode==="hidden"&&!re.alternate&&!fi)return ps(w),null}else 2*ms()-X.renderingStartTime>Bs&&F!==536870912&&(w.flags|=128,U=!0,Nf(X,!1),w.lanes=4194304);X.isBackwards?(re.sibling=w.child,w.child=re):(S=X.last,S!==null?S.sibling=re:w.child=re,X.last=re)}return X.tail!==null?(w=X.tail,X.rendering=w,X.tail=w.sibling,X.renderingStartTime=ms(),w.sibling=null,S=ro.current,C(ro,U?S&1|2:S&1),w):(ps(w),null);case 22:case 23:return ii(w),ln(),U=w.memoizedState!==null,S!==null?S.memoizedState!==null!==U&&(w.flags|=8192):U&&(w.flags|=8192),U?(F&536870912)!==0&&(w.flags&128)===0&&(ps(w),w.subtreeFlags&6&&(w.flags|=8192)):ps(w),F=w.updateQueue,F!==null&&Fc(w,F.retryQueue),F=null,S!==null&&S.memoizedState!==null&&S.memoizedState.cachePool!==null&&(F=S.memoizedState.cachePool.pool),U=null,w.memoizedState!==null&&w.memoizedState.cachePool!==null&&(U=w.memoizedState.cachePool.pool),U!==F&&(w.flags|=2048),S!==null&&A(jd),null;case 24:return F=null,S!==null&&(F=S.memoizedState.cache),w.memoizedState.cache!==F&&(w.flags|=2048),dl(Ii),ps(w),null;case 25:return null}throw Error(i(156,w.tag))}function Tv(S,w){switch(ee(w),w.tag){case 1:return S=w.flags,S&65536?(w.flags=S&-65537|128,w):null;case 3:return dl(Ii),ue(),S=w.flags,(S&65536)!==0&&(S&128)===0?(w.flags=S&-65537|128,w):null;case 26:case 27:case 5:return de(w),null;case 13:if(ii(w),S=w.memoizedState,S!==null&&S.dehydrated!==null){if(w.alternate===null)throw Error(i(340));Fe()}return S=w.flags,S&65536?(w.flags=S&-65537|128,w):null;case 19:return A(ro),null;case 4:return ue(),null;case 10:return dl(w.type),null;case 22:case 23:return ii(w),ln(),S!==null&&A(jd),S=w.flags,S&65536?(w.flags=S&-65537|128,w):null;case 24:return dl(Ii),null;case 25:return null;default:return null}}function $c(S,w){switch(ee(w),w.tag){case 3:dl(Ii),ue();break;case 26:case 27:case 5:de(w);break;case 4:ue();break;case 13:ii(w);break;case 19:A(ro);break;case 10:dl(w.type);break;case 22:case 23:ii(w),ln(),S!==null&&A(jd);break;case 24:dl(Ii)}}function vh(S,w){try{var F=w.updateQueue,U=F!==null?F.lastEffect:null;if(U!==null){var X=U.next;F=X;do{if((F.tag&S)===S){U=void 0;var re=F.create,be=F.inst;U=re(),be.destroy=U}F=F.next}while(F!==X)}}catch(Re){Wr(w,w.return,Re)}}function bh(S,w,F){try{var U=w.updateQueue,X=U!==null?U.lastEffect:null;if(X!==null){var re=X.next;U=re;do{if((U.tag&S)===S){var be=U.inst,Re=be.destroy;if(Re!==void 0){be.destroy=void 0,X=w;var Je=F;try{Re()}catch(Tt){Wr(X,Je,Tt)}}}U=U.next}while(U!==re)}}catch(Tt){Wr(w,w.return,Tt)}}function AC(S){var w=S.updateQueue;if(w!==null){var F=S.stateNode;try{Wt(w,F)}catch(U){Wr(S,S.return,U)}}}function yC(S,w,F){F.props=lu(S.type,S.memoizedProps),F.state=S.memoizedState;try{F.componentWillUnmount()}catch(U){Wr(S,w,U)}}function cu(S,w){try{var F=S.ref;if(F!==null){var U=S.stateNode;switch(S.tag){case 26:case 27:case 5:var X=pg(U);break;default:X=U}typeof F=="function"?S.refCleanup=F(X):F.current=X}}catch(re){Wr(S,w,re)}}function Jr(S,w){var F=S.ref,U=S.refCleanup;if(F!==null)if(typeof U=="function")try{U()}catch(X){Wr(S,w,X)}finally{S.refCleanup=null,S=S.alternate,S!=null&&(S.refCleanup=null)}else if(typeof F=="function")try{F(null)}catch(X){Wr(S,w,X)}else F.current=null}function Lf(S){var w=S.type,F=S.memoizedProps,U=S.stateNode;try{CS(U,w,F,S)}catch(X){Wr(S,S.return,X)}}function Mv(S,w,F){try{BA(S.stateNode,S.type,F,w,S)}catch(U){Wr(S,S.return,U)}}function kv(S){return S.tag===5||S.tag===3||(Al?S.tag===26:!1)||(Ho?S.tag===27:!1)||S.tag===4}function gA(S){e:for(;;){for(;S.sibling===null;){if(S.return===null||kv(S.return))return null;S=S.return}for(S.sibling.return=S.return,S=S.sibling;S.tag!==5&&S.tag!==6&&(!Ho||S.tag!==27)&&S.tag!==18;){if(S.flags&2||S.child===null||S.tag===4)continue e;S.child.return=S,S=S.child}if(!(S.flags&2))return S.stateNode}}function mA(S,w,F){var U=S.tag;if(U===5||U===6)S=S.stateNode,w?Qv(F,S,w):jv(F,S);else if(!(U===4||Ho&&U===27)&&(S=S.child,S!==null))for(mA(S,w,F),S=S.sibling;S!==null;)mA(S,w,F),S=S.sibling}function og(S,w,F){var U=S.tag;if(U===5||U===6)S=S.stateNode,w?DA(F,S,w):IA(F,S);else if(!(U===4||Ho&&U===27)&&(S=S.child,S!==null))for(og(S,w,F),S=S.sibling;S!==null;)og(S,w,F),S=S.sibling}function Ff(S,w,F){S=S.containerInfo;try{Gv(S,F)}catch(U){Wr(w,w.return,U)}}function Ve(S,w){for(Au(S.containerInfo),Ns=w;Ns!==null;)if(S=Ns,w=S.child,(S.subtreeFlags&1028)!==0&&w!==null)w.return=S,Ns=w;else for(;Ns!==null;){S=Ns;var F=S.alternate;switch(w=S.flags,S.tag){case 0:break;case 11:case 15:break;case 1:if((w&1024)!==0&&F!==null){w=void 0;var U=S,X=F.memoizedProps;F=F.memoizedState;var re=U.stateNode;try{var be=lu(U.type,X,U.elementType===U.type);w=re.getSnapshotBeforeUpdate(be,F),re.__reactInternalSnapshotBeforeUpdate=w}catch(Re){Wr(U,U.return,Re)}}break;case 3:(w&1024)!==0&&_o&&Cr(S.stateNode.containerInfo);break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((w&1024)!==0)throw Error(i(163))}if(w=S.sibling,w!==null){w.return=S.return,Ns=w;break}Ns=S.return}return be=sp,sp=!1,be}function _t(S,w,F){var U=F.flags;switch(F.tag){case 0:case 11:case 15:zc(S,F),U&4&&vh(5,F);break;case 1:if(zc(S,F),U&4)if(S=F.stateNode,w===null)try{S.componentDidMount()}catch(Re){Wr(F,F.return,Re)}else{var X=lu(F.type,w.memoizedProps);w=w.memoizedState;try{S.componentDidUpdate(X,w,S.__reactInternalSnapshotBeforeUpdate)}catch(Re){Wr(F,F.return,Re)}}U&64&&AC(F),U&512&&cu(F,F.return);break;case 3:if(zc(S,F),U&64&&(U=F.updateQueue,U!==null)){if(S=null,F.child!==null)switch(F.child.tag){case 27:case 5:S=pg(F.child.stateNode);break;case 1:S=F.child.stateNode}try{Wt(U,S)}catch(Re){Wr(F,F.return,Re)}}break;case 26:if(Al){zc(S,F),U&512&&cu(F,F.return);break}case 27:case 5:zc(S,F),w===null&&U&4&&Lf(F),U&512&&cu(F,F.return);break;case 12:zc(S,F);break;case 13:zc(S,F),U&4&&Lr(S,F);break;case 22:if(X=F.memoizedState!==null||Mo,!X){w=w!==null&&w.memoizedState!==null||_s;var re=Mo,be=_s;Mo=X,(_s=w)&&!be?Wu(S,F,(F.subtreeFlags&8772)!==0):zc(S,F),Mo=re,_s=be}U&512&&(F.memoizedProps.mode==="manual"?cu(F,F.return):Jr(F,F.return));break;default:zc(S,F)}}function yt(S){var w=S.alternate;w!==null&&(S.alternate=null,yt(w)),S.child=null,S.deletions=null,S.sibling=null,S.tag===5&&(w=S.stateNode,w!==null&&Dm(w)),S.stateNode=null,S.return=null,S.dependencies=null,S.memoizedProps=null,S.memoizedState=null,S.pendingProps=null,S.stateNode=null,S.updateQueue=null}function an(S,w,F){for(F=F.child;F!==null;)rr(S,w,F),F=F.sibling}function rr(S,w,F){if(xa&&typeof xa.onCommitFiberUnmount=="function")try{xa.onCommitFiberUnmount(yl,F)}catch{}switch(F.tag){case 26:if(Al){_s||Jr(F,w),an(S,w,F),F.memoizedState?va(F.memoizedState):F.stateNode&&tb(F.stateNode);break}case 27:if(Ho){_s||Jr(F,w);var U=Xs,X=xl;Xs=F.stateNode,an(S,w,F),ib(F.stateNode),Xs=U,xl=X;break}case 5:_s||Jr(F,w);case 6:if(_o){if(U=Xs,X=xl,Xs=null,an(S,w,F),Xs=U,xl=X,Xs!==null)if(xl)try{Ws(Xs,F.stateNode)}catch(re){Wr(F,w,re)}else try{ya(Xs,F.stateNode)}catch(re){Wr(F,w,re)}}else an(S,w,F);break;case 18:_o&&Xs!==null&&(xl?Rm(Xs,F.stateNode):Zv(Xs,F.stateNode));break;case 4:_o?(U=Xs,X=xl,Xs=F.stateNode.containerInfo,xl=!0,an(S,w,F),Xs=U,xl=X):(Aa&&Ff(F.stateNode,F,TA()),an(S,w,F));break;case 0:case 11:case 14:case 15:_s||bh(2,F,w),_s||bh(4,F,w),an(S,w,F);break;case 1:_s||(Jr(F,w),U=F.stateNode,typeof U.componentWillUnmount=="function"&&yC(F,w,U)),an(S,w,F);break;case 21:an(S,w,F);break;case 22:_s||Jr(F,w),_s=(U=_s)||F.memoizedState!==null,an(S,w,F),_s=U;break;default:an(S,w,F)}}function Lr(S,w){if(Ks&&w.memoizedState===null&&(S=w.alternate,S!==null&&(S=S.memoizedState,S!==null&&(S=S.dehydrated,S!==null))))try{Pm(S)}catch(F){Wr(w,w.return,F)}}function bs(S){switch(S.tag){case 13:case 19:var w=S.stateNode;return w===null&&(w=S.stateNode=new Cg),w;case 22:return S=S.stateNode,w=S._retryCache,w===null&&(w=S._retryCache=new Cg),w;default:throw Error(i(435,S.tag))}}function Ei(S,w){var F=bs(S);w.forEach(function(U){var X=wh.bind(null,S,U);F.has(U)||(F.add(U),U.then(X,X))})}function Jo(S,w){var F=w.deletions;if(F!==null)for(var U=0;U<F.length;U++){var X=F[U],re=S,be=w;if(_o){var Re=be;e:for(;Re!==null;){switch(Re.tag){case 27:case 5:Xs=Re.stateNode,xl=!1;break e;case 3:Xs=Re.stateNode.containerInfo,xl=!0;break e;case 4:Xs=Re.stateNode.containerInfo,xl=!0;break e}Re=Re.return}if(Xs===null)throw Error(i(160));rr(re,be,X),Xs=null,xl=!1}else rr(re,be,X);re=X.alternate,re!==null&&(re.return=null),X.return=null}if(w.subtreeFlags&13878)for(w=w.child;w!==null;)xh(w,S),w=w.sibling}function xh(S,w){var F=S.alternate,U=S.flags;switch(S.tag){case 0:case 11:case 14:case 15:Jo(w,S),gs(S),U&4&&(bh(3,S,S.return),vh(3,S),bh(5,S,S.return));break;case 1:Jo(w,S),gs(S),U&512&&(_s||F===null||Jr(F,F.return)),U&64&&Mo&&(S=S.updateQueue,S!==null&&(U=S.callbacks,U!==null&&(F=S.shared.hiddenCallbacks,S.shared.hiddenCallbacks=F===null?U:F.concat(U))));break;case 26:if(Al){var X=qa;Jo(w,S),gs(S),U&512&&(_s||F===null||Jr(F,F.return)),U&4&&(U=F!==null?F.memoizedState:null,w=S.memoizedState,F===null?w===null?S.stateNode===null?S.stateNode=xu(X,S.type,S.memoizedProps,S):eb(X,S.type,S.stateNode):S.stateNode=FA(X,w,S.memoizedProps):U!==w?(U===null?F.stateNode!==null&&tb(F.stateNode):va(U),w===null?eb(X,S.type,S.stateNode):FA(X,w,S.memoizedProps)):w===null&&S.stateNode!==null&&Mv(S,S.memoizedProps,F.memoizedProps));break}case 27:if(Ho&&U&4&&S.alternate===null){X=S.stateNode;var re=S.memoizedProps;try{Lm(X),ES(S.type,re,X,S)}catch(Zt){Wr(S,S.return,Zt)}}case 5:if(Jo(w,S),gs(S),U&512&&(_s||F===null||Jr(F,F.return)),_o){if(S.flags&32){w=S.stateNode;try{qf(w)}catch(Zt){Wr(S,S.return,Zt)}}U&4&&S.stateNode!=null&&(w=S.memoizedProps,Mv(S,w,F!==null?F.memoizedProps:w)),U&1024&&(Xc=!0)}break;case 6:if(Jo(w,S),gs(S),U&4&&_o){if(S.stateNode===null)throw Error(i(162));U=S.memoizedProps,F=F!==null?F.memoizedProps:U,w=S.stateNode;try{Mm(w,F,U)}catch(Zt){Wr(S,S.return,Zt)}}break;case 3:if(Al?(Lh(),X=qa,qa=LA(w.containerInfo),Jo(w,S),qa=X):Jo(w,S),gs(S),U&4){if(_o&&Ks&&F!==null&&F.memoizedState.isDehydrated)try{ic(w.containerInfo)}catch(Zt){Wr(S,S.return,Zt)}if(Aa){U=w.containerInfo,F=w.pendingChildren;try{Gv(U,F)}catch(Zt){Wr(S,S.return,Zt)}}}Xc&&(Xc=!1,ag(S));break;case 4:Al?(F=qa,qa=LA(S.stateNode.containerInfo),Jo(w,S),gs(S),qa=F):(Jo(w,S),gs(S)),U&4&&Aa&&Ff(S.stateNode,S,S.stateNode.pendingChildren);break;case 12:Jo(w,S),gs(S);break;case 13:Jo(w,S),gs(S),S.child.flags&8192&&S.memoizedState!==null!=(F!==null&&F.memoizedState!==null)&&(Zc=ms()),U&4&&(U=S.updateQueue,U!==null&&(S.updateQueue=null,Ei(S,U)));break;case 22:U&512&&(_s||F===null||Jr(F,F.return)),X=S.memoizedState!==null;var be=F!==null&&F.memoizedState!==null,Re=Mo,Je=_s;if(Mo=Re||X,_s=Je||be,Jo(w,S),_s=Je,Mo=Re,gs(S),w=S.stateNode,w._current=S,w._visibility&=-3,w._visibility|=w._pendingVisibility&2,U&8192&&(w._visibility=X?w._visibility&-2:w._visibility|1,X&&(w=Mo||_s,F===null||be||w||Ku(S)),_o&&(S.memoizedProps===null||S.memoizedProps.mode!=="manual"))){e:if(F=null,_o)for(w=S;;){if(w.tag===5||Al&&w.tag===26||Ho&&w.tag===27){if(F===null){be=F=w;try{re=be.stateNode,X?mg(re):Uv(be.stateNode,be.memoizedProps)}catch(Zt){Wr(be,be.return,Zt)}}}else if(w.tag===6){if(F===null){be=w;try{var Tt=be.stateNode;X?Ag(Tt):rc(Tt,be.memoizedProps)}catch(Zt){Wr(be,be.return,Zt)}}}else if((w.tag!==22&&w.tag!==23||w.memoizedState===null||w===S)&&w.child!==null){w.child.return=w,w=w.child;continue}if(w===S)break e;for(;w.sibling===null;){if(w.return===null||w.return===S)break e;F===w&&(F=null),w=w.return}F===w&&(F=null),w.sibling.return=w.return,w=w.sibling}}U&4&&(U=S.updateQueue,U!==null&&(F=U.retryQueue,F!==null&&(U.retryQueue=null,Ei(S,F))));break;case 19:Jo(w,S),gs(S),U&4&&(U=S.updateQueue,U!==null&&(S.updateQueue=null,Ei(S,U)));break;case 21:break;default:Jo(w,S),gs(S)}}function gs(S){var w=S.flags;if(w&2){try{if(_o&&(!Ho||S.tag!==27)){e:{for(var F=S.return;F!==null;){if(kv(F)){var U=F;break e}F=F.return}throw Error(i(160))}switch(U.tag){case 27:if(Ho){var X=U.stateNode,re=gA(S);og(S,re,X);break}case 5:var be=U.stateNode;U.flags&32&&(qf(be),U.flags&=-33);var Re=gA(S);og(S,Re,be);break;case 3:case 4:var Je=U.stateNode.containerInfo,Tt=gA(S);mA(S,Tt,Je);break;default:throw Error(i(161))}}}catch(Zt){Wr(S,S.return,Zt)}S.flags&=-3}w&4096&&(S.flags&=-4097)}function ag(S){if(S.subtreeFlags&1024)for(S=S.child;S!==null;){var w=S;ag(w),w.tag===5&&w.flags&1024&&Ki(w.stateNode),S=S.sibling}}function zc(S,w){if(w.subtreeFlags&8772)for(w=w.child;w!==null;)_t(S,w.alternate,w),w=w.sibling}function Ku(S){for(S=S.child;S!==null;){var w=S;switch(w.tag){case 0:case 11:case 14:case 15:bh(4,w,w.return),Ku(w);break;case 1:Jr(w,w.return);var F=w.stateNode;typeof F.componentWillUnmount=="function"&&yC(w,w.return,F),Ku(w);break;case 26:case 27:case 5:Jr(w,w.return),Ku(w);break;case 22:Jr(w,w.return),w.memoizedState===null&&Ku(w);break;default:Ku(w)}S=S.sibling}}function Wu(S,w,F){for(F=F&&(w.subtreeFlags&8772)!==0,w=w.child;w!==null;){var U=w.alternate,X=S,re=w,be=re.flags;switch(re.tag){case 0:case 11:case 15:Wu(X,re,F),vh(4,re);break;case 1:if(Wu(X,re,F),U=re,X=U.stateNode,typeof X.componentDidMount=="function")try{X.componentDidMount()}catch(Tt){Wr(U,U.return,Tt)}if(U=re,X=U.updateQueue,X!==null){var Re=U.stateNode;try{var Je=X.shared.hiddenCallbacks;if(Je!==null)for(X.shared.hiddenCallbacks=null,X=0;X<Je.length;X++)Oe(Je[X],Re)}catch(Tt){Wr(U,U.return,Tt)}}F&&be&64&&AC(re),cu(re,re.return);break;case 26:case 27:case 5:Wu(X,re,F),F&&U===null&&be&4&&Lf(re),cu(re,re.return);break;case 12:Wu(X,re,F);break;case 13:Wu(X,re,F),F&&be&4&&Lr(X,re);break;case 22:re.memoizedState===null&&Wu(X,re,F),cu(re,re.return);break;default:Wu(X,re,F)}w=w.sibling}}function lg(S,w){var F=null;S!==null&&S.memoizedState!==null&&S.memoizedState.cachePool!==null&&(F=S.memoizedState.cachePool.pool),S=null,w.memoizedState!==null&&w.memoizedState.cachePool!==null&&(S=w.memoizedState.cachePool.pool),S!==F&&(S!=null&&S.refCount++,F!=null&&ng(F))}function yi(S,w){S=null,w.alternate!==null&&(S=w.alternate.memoizedState.cache),w=w.memoizedState.cache,w!==S&&(w.refCount++,S!=null&&ng(S))}function Dd(S,w,F,U){if(w.subtreeFlags&10256)for(w=w.child;w!==null;)xm(S,w,F,U),w=w.sibling}function xm(S,w,F,U){var X=w.flags;switch(w.tag){case 0:case 11:case 15:Dd(S,w,F,U),X&2048&&vh(9,w);break;case 3:Dd(S,w,F,U),X&2048&&(S=null,w.alternate!==null&&(S=w.alternate.memoizedState.cache),w=w.memoizedState.cache,w!==S&&(w.refCount++,S!=null&&ng(S)));break;case 12:if(X&2048){Dd(S,w,F,U),S=w.stateNode;try{var re=w.memoizedProps,be=re.id,Re=re.onPostCommit;typeof Re=="function"&&Re(be,w.alternate===null?"mount":"update",S.passiveEffectDuration,-0)}catch(Je){Wr(w,w.return,Je)}}else Dd(S,w,F,U);break;case 23:break;case 22:re=w.stateNode,w.memoizedState!==null?re._visibility&4?Dd(S,w,F,U):Ch(S,w):re._visibility&4?Dd(S,w,F,U):(re._visibility|=4,Co(S,w,F,U,(w.subtreeFlags&10256)!==0)),X&2048&&lg(w.alternate,w);break;case 24:Dd(S,w,F,U),X&2048&&yi(w.alternate,w);break;default:Dd(S,w,F,U)}}function Co(S,w,F,U,X){for(X=X&&(w.subtreeFlags&10256)!==0,w=w.child;w!==null;){var re=S,be=w,Re=F,Je=U,Tt=be.flags;switch(be.tag){case 0:case 11:case 15:Co(re,be,Re,Je,X),vh(8,be);break;case 23:break;case 22:var Zt=be.stateNode;be.memoizedState!==null?Zt._visibility&4?Co(re,be,Re,Je,X):Ch(re,be):(Zt._visibility|=4,Co(re,be,Re,Je,X)),X&&Tt&2048&&lg(be.alternate,be);break;case 24:Co(re,be,Re,Je,X),X&&Tt&2048&&yi(be.alternate,be);break;default:Co(re,be,Re,Je,X)}w=w.sibling}}function Ch(S,w){if(w.subtreeFlags&10256)for(w=w.child;w!==null;){var F=S,U=w,X=U.flags;switch(U.tag){case 22:Ch(F,U),X&2048&&lg(U.alternate,U);break;case 24:Ch(F,U),X&2048&&yi(U.alternate,U);break;default:Ch(F,U)}w=w.sibling}}function zo(S){if(S.subtreeFlags&op)for(S=S.child;S!==null;)$f(S),S=S.sibling}function $f(S){switch(S.tag){case 26:zo(S),S.flags&op&&(S.memoizedState!==null?rb(qa,S.memoizedState,S.memoizedProps):ks(S.type,S.memoizedProps));break;case 5:zo(S),S.flags&op&&ks(S.type,S.memoizedProps);break;case 3:case 4:if(Al){var w=qa;qa=LA(S.stateNode.containerInfo),zo(S),qa=w}else zo(S);break;case 22:S.memoizedState===null&&(w=S.alternate,w!==null&&w.memoizedState!==null?(w=op,op=16777216,zo(S),op=w):zo(S));break;default:zo(S)}}function zf(S){var w=S.alternate;if(w!==null&&(S=w.child,S!==null)){w.child=null;do w=S.sibling,S.sibling=null,S=w;while(S!==null)}}function Ha(S){var w=S.deletions;if((S.flags&16)!==0){if(w!==null)for(var F=0;F<w.length;F++){var U=w[F];Ns=U,qu(U,S)}zf(S)}if(S.subtreeFlags&10256)for(S=S.child;S!==null;)Eh(S),S=S.sibling}function Eh(S){switch(S.tag){case 0:case 11:case 15:Ha(S),S.flags&2048&&bh(9,S,S.return);break;case 3:Ha(S);break;case 12:Ha(S);break;case 22:var w=S.stateNode;S.memoizedState!==null&&w._visibility&4&&(S.return===null||S.return.tag!==13)?(w._visibility&=-5,Of(S)):Ha(S);break;default:Ha(S)}}function Of(S){var w=S.deletions;if((S.flags&16)!==0){if(w!==null)for(var F=0;F<w.length;F++){var U=w[F];Ns=U,qu(U,S)}zf(S)}for(S=S.child;S!==null;){switch(w=S,w.tag){case 0:case 11:case 15:bh(8,w,w.return),Of(w);break;case 22:F=w.stateNode,F._visibility&4&&(F._visibility&=-5,Of(w));break;default:Of(w)}S=S.sibling}}function qu(S,w){for(;Ns!==null;){var F=Ns;switch(F.tag){case 0:case 11:case 15:bh(8,F,w);break;case 23:case 22:if(F.memoizedState!==null&&F.memoizedState.cachePool!==null){var U=F.memoizedState.cachePool.pool;U!=null&&U.refCount++}break;case 24:ng(F.memoizedState.cache)}if(U=F.child,U!==null)U.return=F,Ns=U;else e:for(F=S;Ns!==null;){U=Ns;var X=U.sibling,re=U.return;if(yt(U),U===F){Ns=null;break e}if(X!==null){X.return=re,Ns=X;break e}Ns=re}}}function Cm(S){var w=EA(S);if(w!=null){if(typeof w.memoizedProps["data-testname"]!="string")throw Error(i(364));return w}if(S=Wf(S),S===null)throw Error(i(362));return S.stateNode.current}function jf(S,w){var F=S.tag;switch(w.$$typeof){case Vm:if(S.type===w.value)return!0;break;case KA:e:{for(w=w.value,S=[S,0],F=0;F<S.length;){var U=S[F++],X=U.tag,re=S[F++],be=w[re];if(X!==5&&X!==26&&X!==27||!bu(U)){for(;be!=null&&jf(U,be);)re++,be=w[re];if(re===w.length){w=!0;break e}else for(U=U.child;U!==null;)S.push(U,re),U=U.sibling}}w=!1}return w;case WA:if((F===5||F===26||F===27)&&xS(S.stateNode,w.value))return!0;break;case Mi:if((F===5||F===6||F===26||F===27)&&(S=gg(S),S!==null&&0<=S.indexOf(w.value)))return!0;break;case ai:if((F===5||F===26||F===27)&&(S=S.memoizedProps["data-testname"],typeof S=="string"&&S.toLowerCase()===w.value.toLowerCase()))return!0;break;default:throw Error(i(365))}return!1}function Yu(S){switch(S.$$typeof){case Vm:return"<"+(o(S.value)||"Unknown")+">";case KA:return":has("+(Yu(S)||"")+")";case WA:return'[role="'+S.value+'"]';case Mi:return'"'+S.value+'"';case ai:return'[data-testname="'+S.value+'"]';default:throw Error(i(365))}}function Pv(S,w){var F=[];S=[S,0];for(var U=0;U<S.length;){var X=S[U++],re=X.tag,be=S[U++],Re=w[be];if(re!==5&&re!==26&&re!==27||!bu(X)){for(;Re!=null&&jf(X,Re);)be++,Re=w[be];if(be===w.length)F.push(X);else for(X=X.child;X!==null;)S.push(X,be),X=X.sibling}}return F}function Eo(S,w){if(!Hc)throw Error(i(363));S=Cm(S),S=Pv(S,w),w=[],S=Array.from(S);for(var F=0;F<S.length;){var U=S[F++],X=U.tag;if(X===5||X===26||X===27)bu(U)||w.push(U.stateNode);else for(U=U.child;U!==null;)S.push(U),U=U.sibling}return w}function Hs(){if((Nn&2)!==0&&Mr!==0)return Mr&-Mr;if(On.T!==null){var S=vl;return S!==0?S:Be()}return vu()}function Ll(){Cl===0&&(Cl=(Mr&536870912)===0||fi?P():536870912);var S=Kl.current;return S!==null&&(S.flags|=32),Cl}function fa(S,w,F){(S===Fr&&qi===2||S.cancelPendingCommit!==null)&&(Xu(S,0),Fl(S,Mr,Cl,!1)),$(S,F),((Nn&2)===0||S!==Fr)&&(S===Fr&&((Nn&2)===0&&(cc|=F),li===4&&Fl(S,Mr,Cl,!1)),gt(S))}function Em(S,w,F){if((Nn&6)!==0)throw Error(i(327));var U=!F&&(w&60)===0&&(w&S.expiredLanes)===0||T(S,w),X=U?du(S,w):Ju(S,w,!0),re=U;do{if(X===0){ql&&!U&&Fl(S,w,0,!1);break}else if(X===6)Fl(S,w,0,!Bi);else{if(F=S.current.alternate,re&&!Sm(F)){X=Ju(S,w,!1),re=!1;continue}if(X===2){if(re=w,S.errorRecoveryDisabledLanes&re)var be=0;else be=S.pendingLanes&-536870913,be=be!==0?be:be&536870912?536870912:0;if(be!==0){w=be;e:{var Re=S;X=Eg;var Je=Ks&&Re.current.memoizedState.isDehydrated;if(Je&&(Xu(Re,be).flags|=256),be=Ju(Re,be,!1),be!==2){if(Qd&&!Je){Re.errorRecoveryDisabledLanes|=re,cc|=re,X=4;break e}re=_a,_a=X,re!==null&&Td(re)}X=be}if(re=!1,X!==2)continue}}if(X===1){Xu(S,0),Fl(S,w,0,!0);break}e:{switch(U=S,X){case 0:case 1:throw Error(i(345));case 4:if((w&4194176)===w){Fl(U,w,Cl,!Bi);break e}break;case 2:_a=null;break;case 3:case 5:break;default:throw Error(i(329))}if(U.finishedWork=F,U.finishedLanes=w,(w&62914560)===w&&(re=Zc+300-ms(),10<re)){if(Fl(U,w,Cl,!Bi),D(U,0)!==0)break e;U.timeoutHandle=So(Qf.bind(null,U,F,_a,dc,Sg,w,Cl,cc,Jc,Bi,2,-0,0),re);break e}Qf(U,F,_a,dc,Sg,w,Cl,cc,Jc,Bi,0,-0,0)}}break}while(!0);gt(S)}function Td(S){_a===null?_a=S:_a.push.apply(_a,S)}function Qf(S,w,F,U,X,re,be,Re,Je,Tt,Zt,dn,gn){var dr=w.subtreeFlags;if((dr&8192||(dr&16785408)===16785408)&&(pl(),$f(w),w=SA(),w!==null)){S.cancelPendingCommit=w(Si.bind(null,S,F,U,X,be,Re,Je,1,dn,gn)),Fl(S,re,be,!Tt);return}Si(S,F,U,X,be,Re,Je,Zt,dn,gn)}function Sm(S){for(var w=S;;){var F=w.tag;if((F===0||F===11||F===15)&&w.flags&16384&&(F=w.updateQueue,F!==null&&(F=F.stores,F!==null)))for(var U=0;U<F.length;U++){var X=F[U],re=X.getSnapshot;X=X.value;try{if(!Ka(re(),X))return!1}catch{return!1}}if(F=w.child,w.subtreeFlags&16384&&F!==null)F.return=w,w=F;else{if(w===S)break;for(;w.sibling===null;){if(w.return===null||w.return===S)return!0;w=w.return}w.sibling.return=w.return,w=w.sibling}}return!0}function Fl(S,w,F,U){w&=~wa,w&=~cc,S.suspendedLanes|=w,S.pingedLanes&=~w,U&&(S.warmLanes|=w),U=S.expirationTimes;for(var X=w;0<X;){var re=31-ba(X),be=1<<re;U[re]=-1,X&=~be}F!==0&&j(S,F,w)}function Rv(){return(Nn&6)===0?(it(0),!1):!0}function Va(){if(fr!==null){if(qi===0)var S=fr.return;else S=fr,pi=Gh=null,au(S),ac=null,Gl=0,S=fr;for(;S!==null;)$c(S.alternate,S),S=S.return;fr=null}}function Xu(S,w){S.finishedWork=null,S.finishedLanes=0;var F=S.timeoutHandle;F!==Ph&&(S.timeoutHandle=Ph,Kf(F)),F=S.cancelPendingCommit,F!==null&&(S.cancelPendingCommit=null,F()),Va(),Fr=S,fr=F=pa(S.current,null),Mr=w,qi=0,Is=null,Bi=!1,ql=T(S,w),Qd=!1,Jc=Cl=wa=cc=Yl=li=0,_a=Eg=null,Sg=!1,(w&8)!==0&&(w|=w&32);var U=S.entangledLanes;if(U!==0)for(S=S.entanglements,U&=w;0<U;){var X=31-ba(U),re=1<<X;w|=S[X],U&=~re}return uc=w,Me(),F}function Uf(S,w){wr=null,On.H=oi,w===wi?(w=qt(),qi=3):w===UA?(w=qt(),qi=4):qi=w===MC?8:w!==null&&typeof w=="object"&&typeof w.then=="function"?6:1,Is=w,fr===null&&(li=1,sA(S,J(w,S.current)))}function ws(){var S=Kl.current;return S===null?!0:(Mr&4194176)===Mr?Wl===null:(Mr&62914560)===Mr||(Mr&536870912)!==0?S===Wl:!1}function Vs(){var S=On.H;return On.H=oi,S===null?oi:S}function $l(){var S=On.A;return On.A=GA,S}function hl(){li=4,Bi||(Mr&4194176)!==Mr&&Kl.current!==null||(ql=!0),(Yl&134217727)===0&&(cc&134217727)===0||Fr===null||Fl(Fr,Mr,Cl,!1)}function Ju(S,w,F){var U=Nn;Nn|=2;var X=Vs(),re=$l();(Fr!==S||Mr!==w)&&(dc=null,Xu(S,w)),w=!1;var be=li;e:do try{if(qi!==0&&fr!==null){var Re=fr,Je=Is;switch(qi){case 8:Va(),be=6;break e;case 3:case 2:case 6:Kl.current===null&&(w=!0);var Tt=qi;if(qi=0,Is=null,hu(S,Re,Je,Tt),F&&ql){be=0;break e}break;default:Tt=qi,qi=0,Is=null,hu(S,Re,Je,Tt)}}Oc(),be=li;break}catch(Zt){Uf(S,Zt)}while(!0);return w&&S.shellSuspendCounter++,pi=Gh=null,Nn=U,On.H=X,On.A=re,fr===null&&(Fr=null,Mr=0,Me()),be}function Oc(){for(;fr!==null;)wm(fr)}function du(S,w){var F=Nn;Nn|=2;var U=Vs(),X=$l();Fr!==S||Mr!==w?(dc=null,Bs=ms()+500,Xu(S,w)):ql=T(S,w);e:do try{if(qi!==0&&fr!==null){w=fr;var re=Is;t:switch(qi){case 1:qi=0,Is=null,hu(S,w,re,1);break;case 2:if(Xt(re)){qi=0,Is=null,Md(w);break}w=function(){qi===2&&Fr===S&&(qi=7),gt(S)},re.then(w,w);break e;case 3:qi=7;break e;case 4:qi=5;break e;case 7:Xt(re)?(qi=0,Is=null,Md(w)):(qi=0,Is=null,hu(S,w,re,7));break;case 5:var be=null;switch(fr.tag){case 26:be=fr.memoizedState;case 5:case 27:var Re=fr,Je=Re.type,Tt=Re.pendingProps;if(be?zA(be):jl(Je,Tt)){qi=0,Is=null;var Zt=Re.sibling;if(Zt!==null)fr=Zt;else{var dn=Re.return;dn!==null?(fr=dn,kd(dn)):fr=null}break t}}qi=0,Is=null,hu(S,w,re,5);break;case 6:qi=0,Is=null,hu(S,w,re,6);break;case 8:Va(),li=6;break e;default:throw Error(i(462))}}zl();break}catch(gn){Uf(S,gn)}while(!0);return pi=Gh=null,On.H=U,On.A=X,Nn=F,fr!==null?0:(Fr=null,Mr=0,Me(),li)}function zl(){for(;fr!==null&&!DC();)wm(fr)}function wm(S){var w=_v(S.alternate,S,uc);S.memoizedProps=S.pendingProps,w===null?kd(S):fr=w}function Md(S){var w=S,F=w.alternate;switch(w.tag){case 15:case 0:w=gC(F,w,w.pendingProps,w.type,void 0,Mr);break;case 11:w=gC(F,w,w.pendingProps,w.type.render,w.ref,Mr);break;case 5:au(w);default:$c(F,w),w=fr=Rd(w,uc),w=_v(F,w,uc)}S.memoizedProps=S.pendingProps,w===null?kd(S):fr=w}function hu(S,w,F,U){pi=Gh=null,au(w),ac=null,Gl=0;var X=w.return;try{if(oA(S,X,w,F,Mr)){li=1,sA(S,J(F,S.current)),fr=null;return}}catch(re){if(X!==null)throw fr=X,re;li=1,sA(S,J(F,S.current)),fr=null;return}w.flags&32768?(fi||U===1?S=!0:ql||(Mr&536870912)!==0?S=!1:(Bi=S=!0,(U===2||U===3||U===6)&&(U=Kl.current,U!==null&&U.tag===13&&(U.flags|=16384))),Gs(w,S)):kd(w)}function kd(S){var w=S;do{if((w.flags&32768)!==0){Gs(w,Bi);return}S=w.return;var F=pA(w.alternate,w,uc);if(F!==null){fr=F;return}if(w=w.sibling,w!==null){fr=w;return}fr=w=S}while(w!==null);li===0&&(li=5)}function Gs(S,w){do{var F=Tv(S.alternate,S);if(F!==null){F.flags&=32767,fr=F;return}if(F=S.return,F!==null&&(F.flags|=32768,F.subtreeFlags=0,F.deletions=null),!w&&(S=S.sibling,S!==null)){fr=S;return}fr=S=F}while(S!==null);li=6,fr=null}function Si(S,w,F,U,X,re,be,Re,Je,Tt){var Zt=On.T,dn=Io();try{Qo(2),On.T=null,Zr(S,w,F,U,dn,X,re,be,Re,Je,Tt)}finally{On.T=Zt,Qo(dn)}}function Zr(S,w,F,U,X,re,be,Re){do Oo();while(Ud!==null);if((Nn&6)!==0)throw Error(i(327));var Je=S.finishedWork;if(U=S.finishedLanes,Je===null)return null;if(S.finishedWork=null,S.finishedLanes=0,Je===S.current)throw Error(i(177));S.callbackNode=null,S.callbackPriority=0,S.cancelPendingCommit=null;var Tt=Je.lanes|Je.childLanes;if(Tt|=bg,z(S,U,Tt,re,be,Re),S===Fr&&(fr=Fr=null,Mr=0),(Je.subtreeFlags&10256)===0&&(Je.flags&10256)===0||_u||(_u=!0,qA=Tt,lp=F,_h(jA,function(){return Oo(),null})),F=(Je.flags&15990)!==0,(Je.subtreeFlags&15990)!==0||F?(F=On.T,On.T=null,re=Io(),Qo(2),be=Nn,Nn|=4,Ve(S,Je),xh(Je,S),Qc(S.containerInfo),S.current=Je,_t(S,Je.alternate,Je),sb(),Nn=be,Qo(re),On.T=F):S.current=Je,_u?(_u=!1,Ud=S,ap=U):Pd(S,Tt),Tt=S.pendingLanes,Tt===0&&(Xl=null),O(Je.stateNode),gt(S),w!==null)for(X=S.onRecoverableError,Je=0;Je<w.length;Je++)Tt=w[Je],X(Tt.value,{componentStack:Tt.stack});return(ap&3)!==0&&Oo(),Tt=S.pendingLanes,(U&4194218)!==0&&(Tt&42)!==0?S===Ya?up++:(up=0,Ya=S):up=0,it(0),null}function Pd(S,w){(S.pooledCacheLanes&=w)===0&&(w=S.pooledCache,w!=null&&(S.pooledCache=null,ng(w)))}function Oo(){if(Ud!==null){var S=Ud,w=qA;qA=0;var F=W(ap),U=32>F?32:F;F=On.T;var X=Io();try{if(Qo(U),On.T=null,Ud===null)var re=!1;else{U=lp,lp=null;var be=Ud,Re=ap;if(Ud=null,ap=0,(Nn&6)!==0)throw Error(i(331));var Je=Nn;if(Nn|=4,Eh(be.current),xm(be,be.current,Re,U),Nn=Je,it(0,!1),xa&&typeof xa.onPostCommitFiberRoot=="function")try{xa.onPostCommitFiberRoot(yl,be)}catch{}re=!0}return re}finally{Qo(X),On.T=F,Pd(S,w)}}return!1}function AA(S,w,F){w=J(F,w),w=Pf(S.stateNode,w,2),S=At(S,w,2),S!==null&&($(S,2),gt(S))}function Wr(S,w,F){if(S.tag===3)AA(S,S,F);else for(;w!==null;){if(w.tag===3){AA(w,S,F);break}else if(w.tag===1){var U=w.stateNode;if(typeof w.type.getDerivedStateFromError=="function"||typeof U.componentDidCatch=="function"&&(Xl===null||!Xl.has(U))){S=J(F,S),F=uu(2),U=At(w,F,2),U!==null&&(Zp(F,U,w,S),$(U,2),gt(U));break}}w=w.return}}function Hf(S,w,F){var U=S.pingCache;if(U===null){U=S.pingCache=new qr;var X=new Set;U.set(w,X)}else X=U.get(w),X===void 0&&(X=new Set,U.set(w,X));X.has(F)||(Qd=!0,X.add(F),S=ug.bind(null,S,w,F),w.then(S,S))}function ug(S,w,F){var U=S.pingCache;U!==null&&U.delete(w),S.pingedLanes|=S.suspendedLanes&F,S.warmLanes&=~F,Fr===S&&(Mr&F)===F&&(li===4||li===3&&(Mr&62914560)===Mr&&300>ms()-Zc?(Nn&2)===0&&Xu(S,0):wa|=F,Jc===Mr&&(Jc=0)),gt(S)}function Sh(S,w){w===0&&(w=k()),S=ut(S,w),S!==null&&($(S,w),gt(S))}function Ae(S){var w=S.memoizedState,F=0;w!==null&&(F=w.retryLane),Sh(S,F)}function wh(S,w){var F=0;switch(S.tag){case 13:var U=S.stateNode,X=S.memoizedState;X!==null&&(F=X.retryLane);break;case 19:U=S.stateNode;break;case 22:U=S.stateNode._retryCache;break;default:throw Error(i(314))}U!==null&&U.delete(w),Sh(S,F)}function _h(S,w){return Zf(S,w)}function fl(S,w,F,U){this.tag=S,this.key=F,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=w,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=U,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function hr(S){return S=S.prototype,!(!S||!S.isReactComponent)}function pa(S,w){var F=S.alternate;return F===null?(F=n(S.tag,w,S.key,S.mode),F.elementType=S.elementType,F.type=S.type,F.stateNode=S.stateNode,F.alternate=S,S.alternate=F):(F.pendingProps=w,F.type=S.type,F.flags=0,F.subtreeFlags=0,F.deletions=null),F.flags=S.flags&31457280,F.childLanes=S.childLanes,F.lanes=S.lanes,F.child=S.child,F.memoizedProps=S.memoizedProps,F.memoizedState=S.memoizedState,F.updateQueue=S.updateQueue,w=S.dependencies,F.dependencies=w===null?null:{lanes:w.lanes,firstContext:w.firstContext},F.sibling=S.sibling,F.index=S.index,F.ref=S.ref,F.refCleanup=S.refCleanup,F}function Rd(S,w){S.flags&=31457282;var F=S.alternate;return F===null?(S.childLanes=0,S.lanes=w,S.child=null,S.subtreeFlags=0,S.memoizedProps=null,S.memoizedState=null,S.updateQueue=null,S.dependencies=null,S.stateNode=null):(S.childLanes=F.childLanes,S.lanes=F.lanes,S.child=F.child,S.subtreeFlags=0,S.deletions=null,S.memoizedProps=F.memoizedProps,S.memoizedState=F.memoizedState,S.updateQueue=F.updateQueue,S.type=F.type,w=F.dependencies,S.dependencies=w===null?null:{lanes:w.lanes,firstContext:w.firstContext}),S}function fu(S,w,F,U,X,re){var be=0;if(U=S,typeof S=="function")hr(S)&&(be=1);else if(typeof S=="string")be=Al&&Ho?NA(S,F,hi.current)?26:Xf(S)?27:5:Al?NA(S,F,hi.current)?26:5:Ho&&Xf(S)?27:5;else e:switch(S){case pu:return Ga(F.children,X,re,w);case $v:be=8,X|=24;break;case zv:return S=n(12,F,w,X|2),S.elementType=zv,S.lanes=re,S;case vA:return S=n(13,F,w,X),S.elementType=vA,S.lanes=re,S;case Dh:return S=n(19,F,w,X),S.elementType=Dh,S.lanes=re,S;case _m:return yA(F,X,re,w);default:if(typeof S=="object"&&S!==null)switch(S.$$typeof){case gu:case jc:be=10;break e;case Bh:be=9;break e;case dg:be=11;break e;case hg:be=14;break e;case mu:be=16,U=null;break e}be=29,F=Error(i(130,S===null?"null":typeof S,"")),U=null}return w=n(be,F,w,X),w.elementType=S,w.type=U,w.lanes=re,w}function Ga(S,w,F,U){return S=n(7,S,U,w),S.lanes=F,S}function yA(S,w,F,U){S=n(22,S,U,w),S.elementType=_m,S.lanes=F;var X={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var re=X._current;if(re===null)throw Error(i(456));if((X._pendingVisibility&2)===0){var be=ut(re,2);be!==null&&(X._pendingVisibility|=2,fa(be,re,2))}},attach:function(){var re=X._current;if(re===null)throw Error(i(456));if((X._pendingVisibility&2)!==0){var be=ut(re,2);be!==null&&(X._pendingVisibility&=-3,fa(be,re,2))}}};return S.stateNode=X,S}function Ih(S,w,F){return S=n(6,S,null,w),S.lanes=F,S}function cg(S,w,F){return w=n(4,S.children!==null?S.children:[],S.key,w),w.lanes=F,w.stateNode={containerInfo:S.containerInfo,pendingChildren:null,implementation:S.implementation},w}function Vf(S,w,F,U,X,re,be,Re){this.tag=1,this.containerInfo=S,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=Ph,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=L(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=L(0),this.hiddenUpdates=L(null),this.identifierPrefix=U,this.onUncaughtError=X,this.onCaughtError=re,this.onRecoverableError=be,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=Re,this.incompleteTransitions=new Map}function jo(S,w,F,U,X,re,be,Re,Je,Tt,Zt,dn){return S=new Vf(S,w,F,be,Re,Je,Tt,dn),w=1,re===!0&&(w|=24),re=n(3,null,null,w),S.current=re,re.stateNode=S,w=tg(),w.refCount++,S.pooledCache=w,w.refCount++,re.memoizedState={element:U,isDehydrated:F,cache:w},zt(re),S}function Ol(S){return S?(S=Kc,S):Kc}function Nv(S){var w=S._reactInternals;if(w===void 0)throw typeof S.render=="function"?Error(i(188)):(S=Object.keys(S).join(","),Error(i(268,S)));return S=p(w),S=S!==null?m(S):null,S===null?null:pg(S.stateNode)}function vC(S,w,F,U,X,re){X=Ol(X),U.context===null?U.context=X:U.pendingContext=X,U=at(w),U.payload={element:F},re=re===void 0?null:re,re!==null&&(U.callback=re),F=At(S,U,w),F!==null&&(fa(F,S,w),Pt(F,S,w))}function bC(S,w){if(S=S.memoizedState,S!==null&&S.dehydrated!==null){var F=S.retryLane;S.retryLane=F!==0&&F<w?F:w}}function Lv(S,w){bC(S,w),(S=S.alternate)&&bC(S,w)}var Rn={},Zu=qE(),Zo=Klt(),Gf=Object.assign,Fv=Symbol.for("react.element"),Nd=Symbol.for("react.transitional.element"),ec=Symbol.for("react.portal"),pu=Symbol.for("react.fragment"),$v=Symbol.for("react.strict_mode"),zv=Symbol.for("react.profiler"),gu=Symbol.for("react.provider"),Bh=Symbol.for("react.consumer"),jc=Symbol.for("react.context"),dg=Symbol.for("react.forward_ref"),vA=Symbol.for("react.suspense"),Dh=Symbol.for("react.suspense_list"),hg=Symbol.for("react.memo"),mu=Symbol.for("react.lazy"),_m=Symbol.for("react.offscreen"),xC=Symbol.for("react.memo_cache_sentinel"),Im=Symbol.iterator,tc=Symbol.for("react.client.reference"),On=Zu.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,bA,xA,Th=!1,ga=Array.isArray,fg=e.rendererVersion,nc=e.rendererPackageName,ma=e.extraDevToolsConfig,pg=e.getPublicInstance,Mh=e.getRootHostContext,Ov=e.getChildHostContext,Au=e.prepareForCommit,Qc=e.resetAfterCommit,CA=e.createInstance,Uc=e.appendInitialChild,yu=e.finalizeInitialChildren,kh=e.shouldSetTextContent,Bm=e.createTextInstance,So=e.scheduleTimeout,Kf=e.cancelTimeout,Ph=e.noTimeout,wo=e.isPrimaryRenderer;e.warnsIfNotActing;var _o=e.supportsMutation,Aa=e.supportsPersistence,Ks=e.supportsHydration,EA=e.getInstanceFromNode;e.beforeActiveInstanceBlur,e.afterActiveInstanceBlur;var ea=e.preparePortalMount;e.prepareScopeUpdate,e.getInstanceFromScope;var Qo=e.setCurrentUpdatePriority,Io=e.getCurrentUpdatePriority,vu=e.resolveUpdatePriority;e.resolveEventType,e.resolveEventTimeStamp;var Rh=e.shouldAttemptEagerTransition,Dm=e.detachDeletedInstance;e.requestPostPaintCallback;var CC=e.maySuspendCommit,jl=e.preloadInstance,pl=e.startSuspendingCommit,ks=e.suspendInstance,SA=e.waitForCommitToBeReady,Uo=e.NotPendingTransition,Xn=e.HostTransitionContext,Ki=e.resetFormInstance;e.bindToConsole;var Ps=e.supportsMicrotasks,Tm=e.scheduleMicrotask,Hc=e.supportsTestSelectors,Wf=e.findFiberRoot,wA=e.getBoundingRect,gg=e.getTextContent,bu=e.isHiddenSubtree,xS=e.matchAccessibilityRole,xs=e.setFocusIfFocusable,_A=e.setupIntersectionObserver,IA=e.appendChild,jv=e.appendChildToContainer,Mm=e.commitTextUpdate,CS=e.commitMount,BA=e.commitUpdate,DA=e.insertBefore,Qv=e.insertInContainerBefore,ya=e.removeChild,Ws=e.removeChildFromContainer,qf=e.resetTextContent,mg=e.hideInstance,Ag=e.hideTextInstance,Uv=e.unhideInstance,rc=e.unhideTextInstance,Cr=e.clearContainer,Hv=e.cloneInstance,TA=e.createContainerChildSet,Yf=e.appendChildToContainerChildSet,Vv=e.finalizeContainerChildren,Gv=e.replaceContainerChildren,Kv=e.cloneHiddenInstance,gl=e.cloneHiddenTextInstance,MA=e.isSuspenseInstancePending,Nh=e.isSuspenseInstanceFallback,kA=e.getSuspenseInstanceFallbackErrorDetails,EC=e.registerSuspenseInstanceRetry,Wv=e.canHydrateFormStateMarker,ml=e.isFormStateMarkerMatching,Vc=e.getNextHydratableSibling,yg=e.getFirstHydratableChild,qv=e.getFirstHydratableChildWithinContainer,km=e.getFirstHydratableChildWithinSuspenseInstance,Yv=e.canHydrateInstance,PA=e.canHydrateTextInstance,Xv=e.canHydrateSuspenseInstance,Jv=e.hydrateInstance,RA=e.hydrateTextInstance,Ql=e.hydrateSuspenseInstance,SC=e.getNextHydratableInstanceAfterSuspenseInstance,ic=e.commitHydratedContainer,Pm=e.commitHydratedSuspenseInstance,Zv=e.clearSuspenseBoundary,Rm=e.clearSuspenseBoundaryFromContainer,wC=e.shouldDeleteUnhydratedTailInstances;e.diffHydratedPropsForDevWarnings,e.diffHydratedTextForDevWarnings,e.describeHydratableInstanceForDevWarnings;var _C=e.validateHydratableInstance,IC=e.validateHydratableTextInstance,Al=e.supportsResources,NA=e.isHostHoistableType,LA=e.getHoistableRoot,Nm=e.getResource,FA=e.acquireResource,va=e.releaseResource,xu=e.hydrateHoistable,eb=e.mountHoistable,tb=e.unmountHoistable,$A=e.createHoistableInstance,Lh=e.prepareToCommitHoistables,nb=e.mayResourceSuspendCommit,zA=e.preloadResource,rb=e.suspendResource,Ho=e.supportsSingletons,Fh=e.resolveSingletonInstance,Lm=e.clearSingleton,ES=e.acquireSingletonInstance,ib=e.releaseSingletonInstance,Xf=e.isHostSingletonType,$h=[],Gc=-1,Kc={},ba=Math.clz32?Math.clz32:E,zh=Math.log,BC=Math.LN2,Jf=128,Oh=4194304,Zf=Zo.unstable_scheduleCallback,ep=Zo.unstable_cancelCallback,DC=Zo.unstable_shouldYield,sb=Zo.unstable_requestPaint,ms=Zo.unstable_now,OA=Zo.unstable_ImmediatePriority,ob=Zo.unstable_UserBlockingPriority,jA=Zo.unstable_NormalPriority,Fm=Zo.unstable_IdlePriority,TC=Zo.log,ab=Zo.unstable_setDisableYieldValue,yl=null,xa=null,Ka=typeof Object.is=="function"?Object.is:q,vg=new WeakMap,Wi=[],Zi=0,Fn=null,jh=0,Wa=[],Bo=0,sc=null,Cu=1,Ul="",hi=y(null),$m=y(null),oc=y(null),tp=y(null),Ca=null,Vo=null,fi=!1,Hl=null,Eu=!1,Vl=Error(i(519)),es=[],Wc=0,bg=0,Qh=null,np=null,zm=!1,Ld=!1,Su=!1,Fd=0,Om=null,QA=0,vl=0,Uh=null,qc=!1,rp=!1,jm=Object.prototype.hasOwnProperty,wi=Error(i(460)),UA=Error(i(474)),Hh={then:function(){}},$d=null,ac=null,Gl=0,lc=Vn(!0),HA=Vn(!1),Do=y(null),To=y(0),Kl=y(null),Wl=null,ro=y(0),Yc=0,wr=null,_i=null,qs=null,wu=!1,As=!1,zd=!1,Qm=0,Rs=0,xg=null,lb=0,Um=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}},oi={readContext:$o,use:xo,useCallback:Wn,useContext:Wn,useEffect:Wn,useImperativeHandle:Wn,useLayoutEffect:Wn,useInsertionEffect:Wn,useMemo:Wn,useReducer:Wn,useRef:Wn,useState:Wn,useDebugValue:Wn,useDeferredValue:Wn,useTransition:Wn,useSyncExternalStore:Wn,useId:Wn};oi.useCacheRefresh=Wn,oi.useMemoCache=Wn,oi.useHostTransitionStatus=Wn,oi.useFormState=Wn,oi.useActionState=Wn,oi.useOptimistic=Wn;var io={readContext:$o,use:xo,useCallback:function(S,w){return Vi().memoizedState=[S,w===void 0?null:w],S},useContext:$o,useEffect:Mc,useImperativeHandle:function(S,w,F){F=F!=null?F.concat([S]):null,Ji(4194308,4,Jp.bind(null,w,S),F)},useLayoutEffect:function(S,w){return Ji(4194308,4,S,w)},useInsertionEffect:function(S,w){Ji(4,2,S,w)},useMemo:function(S,w){var F=Vi();w=w===void 0?null:w;var U=S();if(zd){G(!0);try{S()}finally{G(!1)}}return F.memoizedState=[U,w],U},useReducer:function(S,w,F){var U=Vi();if(F!==void 0){var X=F(w);if(zd){G(!0);try{F(w)}finally{G(!1)}}}else X=w;return U.memoizedState=U.baseState=X,S={pending:null,lanes:0,dispatch:null,lastRenderedReducer:S,lastRenderedState:X},U.queue=S,S=S.dispatch=mh.bind(null,wr,S),[U.memoizedState,S]},useRef:function(S){var w=Vi();return S={current:S},w.memoizedState=S},useState:function(S){S=pe(S);var w=S.queue,F=iA.bind(null,wr,w);return w.dispatch=F,[S.memoizedState,F]},useDebugValue:hm,useDeferredValue:function(S,w){var F=Vi();return gh(F,S,w)},useTransition:function(){var S=pe(!1);return S=nA.bind(null,wr,S.queue,!0,!1),Vi().memoizedState=S,[!1,S]},useSyncExternalStore:function(S,w,F){var U=wr,X=Vi();if(fi){if(F===void 0)throw Error(i(407));F=F()}else{if(F=w(),Fr===null)throw Error(i(349));(Mr&60)!==0||cn(U,w,F)}X.memoizedState=F;var re={value:F,getSnapshot:w};return X.queue=re,Mc(hn.bind(null,U,re,S),[S]),U.flags|=2048,Nr(9,tn.bind(null,U,re,F,w),{destroy:void 0},null),F},useId:function(){var S=Vi(),w=Fr.identifierPrefix;if(fi){var F=Ul,U=Cu;F=(U&~(1<<32-ba(U)-1)).toString(32)+F,w=":"+w+"R"+F,F=Qm++,0<F&&(w+="H"+F.toString(32)),w+=":"}else F=lb++,w=":"+w+"r"+F.toString(32)+":";return S.memoizedState=w},useCacheRefresh:function(){return Vi().memoizedState=fm.bind(null,wr)}};io.useMemoCache=me,io.useHostTransitionStatus=wd,io.useFormState=Jt,io.useActionState=Jt,io.useOptimistic=function(S){var w=Vi();w.memoizedState=w.baseState=S;var F={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return w.queue=F,w=$i.bind(null,wr,!0,F),F.dispatch=w,[S,w]};var Ea={readContext:$o,use:xo,useCallback:tA,useContext:$o,useEffect:Yo,useImperativeHandle:kc,useInsertionEffect:mv,useLayoutEffect:Av,useMemo:ph,useReducer:dt,useRef:Qr,useState:function(){return dt(He)},useDebugValue:hm,useDeferredValue:function(S,w){var F=si();return yv(F,_i.memoizedState,S,w)},useTransition:function(){var S=dt(He)[0],w=si().memoizedState;return[typeof S=="boolean"?S:ca(S),w]},useSyncExternalStore:sn,useId:Pc};Ea.useCacheRefresh=rA,Ea.useMemoCache=me,Ea.useHostTransitionStatus=wd,Ea.useFormState=En,Ea.useActionState=En,Ea.useOptimistic=function(S,w){var F=si();return Ie(F,_i,S,w)};var Vh={readContext:$o,use:xo,useCallback:tA,useContext:$o,useEffect:Yo,useImperativeHandle:kc,useInsertionEffect:mv,useLayoutEffect:Av,useMemo:ph,useReducer:Xe,useRef:Qr,useState:function(){return Xe(He)},useDebugValue:hm,useDeferredValue:function(S,w){var F=si();return _i===null?gh(F,S,w):yv(F,_i.memoizedState,S,w)},useTransition:function(){var S=Xe(He)[0],w=si().memoizedState;return[typeof S=="boolean"?S:ca(S),w]},useSyncExternalStore:sn,useId:Pc};Vh.useCacheRefresh=rA,Vh.useMemoCache=me,Vh.useHostTransitionStatus=wd,Vh.useFormState=_n,Vh.useActionState=_n,Vh.useOptimistic=function(S,w){var F=si();return _i!==null?Ie(F,_i,S,w):(F.baseState=S,[S,F.queue.dispatch])};var Hm={isMounted:function(S){return(S=S._reactInternals)?d(S)===S:!1},enqueueSetState:function(S,w,F){S=S._reactInternals;var U=Hs(),X=at(U);X.payload=w,F!=null&&(X.callback=F),w=At(S,X,U),w!==null&&(fa(w,S,U),Pt(w,S,U))},enqueueReplaceState:function(S,w,F){S=S._reactInternals;var U=Hs(),X=at(U);X.tag=1,X.payload=w,F!=null&&(X.callback=F),w=At(S,X,U),w!==null&&(fa(w,S,U),Pt(w,S,U))},enqueueForceUpdate:function(S,w){S=S._reactInternals;var F=Hs(),U=at(F);U.tag=2,w!=null&&(U.callback=w),w=At(S,U,F),w!==null&&(fa(w,S,F),Pt(w,S,F))}},ub=typeof reportError=="function"?reportError:function(S){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var w=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof S=="object"&&S!==null&&typeof S.message=="string"?String(S.message):String(S),error:S});if(!window.dispatchEvent(w))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",S);return}console.error(S)},MC=Error(i(461)),Ys=!1,Sa={dehydrated:null,treeContext:null,retryLane:0},bl=y(null),Gh=null,pi=null,kC=typeof AbortController<"u"?AbortController:function(){var S=[],w=this.signal={aborted:!1,addEventListener:function(F,U){S.push(U)}};this.abort=function(){w.aborted=!0,S.forEach(function(F){return F()})}},Od=Zo.unstable_scheduleCallback,ip=Zo.unstable_NormalPriority,Ii={$$typeof:jc,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0},VA=On.S;On.S=function(S,w){typeof w=="object"&&w!==null&&typeof w.then=="function"&&ze(S,w),VA!==null&&VA(S,w)};var jd=y(null),Mo=!1,_s=!1,Xc=!1,Cg=typeof WeakSet=="function"?WeakSet:Set,Ns=null,sp=!1,Xs=null,xl=!1,qa=null,op=8192,GA={getCacheForType:function(S){var w=$o(Ii),F=w.data.get(S);return F===void 0&&(F=S(),w.data.set(S,F)),F}},Vm=0,KA=1,WA=2,ai=3,Mi=4;if(typeof Symbol=="function"&&Symbol.for){var _r=Symbol.for;Vm=_r("selector.component"),KA=_r("selector.has_pseudo_class"),WA=_r("selector.role"),ai=_r("selector.test_id"),Mi=_r("selector.text")}var qr=typeof WeakMap=="function"?WeakMap:Map,Nn=0,Fr=null,fr=null,Mr=0,qi=0,Is=null,Bi=!1,ql=!1,Qd=!1,uc=0,li=0,Yl=0,cc=0,wa=0,Cl=0,Jc=0,Eg=null,_a=null,Sg=!1,Zc=0,Bs=1/0,dc=null,Xl=null,_u=!1,Ud=null,ap=0,qA=0,lp=null,up=0,Ya=null;return Rn.attemptContinuousHydration=function(S){if(S.tag===13){var w=ut(S,67108864);w!==null&&fa(w,S,67108864),Lv(S,67108864)}},Rn.attemptHydrationAtCurrentPriority=function(S){if(S.tag===13){var w=Hs(),F=ut(S,w);F!==null&&fa(F,S,w),Lv(S,w)}},Rn.attemptSynchronousHydration=function(S){switch(S.tag){case 3:if(S=S.stateNode,S.current.memoizedState.isDehydrated){var w=I(S.pendingLanes);if(w!==0){for(S.pendingLanes|=2,S.entangledLanes|=2;w;){var F=1<<31-ba(w);S.entanglements[1]|=F,w&=~F}gt(S),(Nn&6)===0&&(Bs=ms()+500,it(0))}}break;case 13:w=ut(S,2),w!==null&&fa(w,S,2),Rv(),Lv(S,2)}},Rn.batchedUpdates=function(S,w){return S(w)},Rn.createComponentSelector=function(S){return{$$typeof:Vm,value:S}},Rn.createContainer=function(S,w,F,U,X,re,be,Re,Je,Tt){return jo(S,w,!1,null,F,U,re,be,Re,Je,Tt,null)},Rn.createHasPseudoClassSelector=function(S){return{$$typeof:KA,value:S}},Rn.createHydrationContainer=function(S,w,F,U,X,re,be,Re,Je,Tt,Zt,dn,gn){return S=jo(F,U,!0,S,X,re,Re,Je,Tt,Zt,dn,gn),S.context=Ol(null),F=S.current,U=Hs(),X=at(U),X.callback=w??null,At(F,X,U),S.current.lanes=U,$(S,U),gt(S),S},Rn.createPortal=function(S,w,F){var U=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ec,key:U==null?null:""+U,children:S,containerInfo:w,implementation:F}},Rn.createRoleSelector=function(S){return{$$typeof:WA,value:S}},Rn.createTestNameSelector=function(S){return{$$typeof:ai,value:S}},Rn.createTextSelector=function(S){return{$$typeof:Mi,value:S}},Rn.defaultOnCaughtError=function(S){console.error(S)},Rn.defaultOnRecoverableError=function(S){ub(S)},Rn.defaultOnUncaughtError=function(S){ub(S)},Rn.deferredUpdates=function(S){var w=On.T,F=Io();try{return Qo(32),On.T=null,S()}finally{Qo(F),On.T=w}},Rn.discreteUpdates=function(S,w,F,U,X){var re=On.T,be=Io();try{return Qo(2),On.T=null,S(w,F,U,X)}finally{Qo(be),On.T=re,Nn===0&&(Bs=ms()+500)}},Rn.findAllNodes=Eo,Rn.findBoundingRects=function(S,w){if(!Hc)throw Error(i(363));w=Eo(S,w),S=[];for(var F=0;F<w.length;F++)S.push(wA(w[F]));for(w=S.length-1;0<w;w--){F=S[w];for(var U=F.x,X=U+F.width,re=F.y,be=re+F.height,Re=w-1;0<=Re;Re--)if(w!==Re){var Je=S[Re],Tt=Je.x,Zt=Tt+Je.width,dn=Je.y,gn=dn+Je.height;if(U>=Tt&&re>=dn&&X<=Zt&&be<=gn){S.splice(w,1);break}else if(U!==Tt||F.width!==Je.width||gn<re||dn>be){if(!(re!==dn||F.height!==Je.height||Zt<U||Tt>X)){Tt>U&&(Je.width+=Tt-U,Je.x=U),Zt<X&&(Je.width=X-Tt),S.splice(w,1);break}}else{dn>re&&(Je.height+=dn-re,Je.y=re),gn<be&&(Je.height=be-dn),S.splice(w,1);break}}}return S},Rn.findHostInstance=Nv,Rn.findHostInstanceWithNoPortals=function(S){return S=p(S),S=S!==null?v(S):null,S===null?null:pg(S.stateNode)},Rn.findHostInstanceWithWarning=function(S){return Nv(S)},Rn.flushPassiveEffects=Oo,Rn.flushSyncFromReconciler=function(S){var w=Nn;Nn|=1;var F=On.T,U=Io();try{if(Qo(2),On.T=null,S)return S()}finally{Qo(U),On.T=F,Nn=w,(Nn&6)===0&&it(0)}},Rn.flushSyncWork=Rv,Rn.focusWithin=function(S,w){if(!Hc)throw Error(i(363));for(S=Cm(S),w=Pv(S,w),w=Array.from(w),S=0;S<w.length;){var F=w[S++],U=F.tag;if(!bu(F)){if((U===5||U===26||U===27)&&xs(F.stateNode))return!0;for(F=F.child;F!==null;)w.push(F),F=F.sibling}}return!1},Rn.getFindAllNodesFailureDescription=function(S,w){if(!Hc)throw Error(i(363));var F=0,U=[];S=[Cm(S),0];for(var X=0;X<S.length;){var re=S[X++],be=re.tag,Re=S[X++],Je=w[Re];if((be!==5&&be!==26&&be!==27||!bu(re))&&(jf(re,Je)&&(U.push(Yu(Je)),Re++,Re>F&&(F=Re)),Re<w.length))for(re=re.child;re!==null;)S.push(re,Re),re=re.sibling}if(F<w.length){for(S=[];F<w.length;F++)S.push(Yu(w[F]));return`findAllNodes was able to match part of the selector:
  `+(U.join(" > ")+`

No matching component was found for:
  `)+S.join(" > ")}return null},Rn.getPublicRootInstance=function(S){if(S=S.current,!S.child)return null;switch(S.child.tag){case 27:case 5:return pg(S.child.stateNode);default:return S.child.stateNode}},Rn.injectIntoDevTools=function(){var S={bundleType:0,version:fg,rendererPackageName:nc,currentDispatcherRef:On,findFiberByHostInstance:EA,reconcilerVersion:"19.0.0"};if(ma!==null&&(S.rendererConfig=ma),typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")S=!1;else{var w=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(w.isDisabled||!w.supportsFiber)S=!0;else{try{yl=w.inject(S),xa=w}catch{}S=!!w.checkDCE}}return S},Rn.isAlreadyRendering=function(){return!1},Rn.observeVisibleRects=function(S,w,F,U){if(!Hc)throw Error(i(363));S=Eo(S,w);var X=_A(S,F,U).disconnect;return{disconnect:function(){X()}}},Rn.shouldError=function(){return null},Rn.shouldSuspend=function(){return!1},Rn.startHostTransition=function(S,w,F,U){if(S.tag!==5)throw Error(i(476));var X=vv(S).queue;nA(S,X,w,Uo,F===null?r:function(){var re=vv(S).next.queue;return Ai(S,re,{},Hs()),F(U)})},Rn.updateContainer=function(S,w,F,U){var X=w.current,re=Hs();return vC(X,re,S,w,F,U),re},Rn.updateContainerSync=function(S,w,F,U){return w.tag===0&&Oo(),vC(w.current,2,S,w,F,U),2},Rn},t.exports.default=t.exports,Object.defineProperty(t.exports,"__esModule",{value:!0})})(dN)),dN.exports}var $K;function qlt(){return $K||($K=1,cN.exports=Wlt()),cN.exports}var Ylt=qlt();const Xlt=G0(Ylt),Jlt=Xlt;function Zlt(t,e,n,r){throw new Error("Text instances are not yet supported. Please use a `<text>` component.")}function eut(){}function tut(){return!1}const Fpe={};function nut(t){return t??Fpe}function rut(){return iv.currentUpdatePriority}function iut(){return null}function sut(t){throw new Error("Not yet implemented.")}function out(t){return t}function aut(){return Fpe}function lut(t){t instanceof xr?t.visible=!1:t instanceof pC&&(t.enabled=!1)}function uut(t){throw new Error("Text instances are not yet supported. Please use a `<text>` component.")}function $pe(t){if(t instanceof pC){const e=t.__pixireact.parent;if(e){const n=e.__pixireact.filters.indexOf(t);e.__pixireact.filters.splice(n,1),e.filters=e.__pixireact.filters}t.__pixireact.parent=null}}function zpe(t,e,...n){}function zK(t,e,n){if(zpe(),e instanceof xr){const r=e,i=e,s=n;r.parent===t&&t.removeChild(i);const o=t.getChildIndex(s);t.addChildAt(i,o)}else if(e instanceof pC){const s=e.__pixireact.filters.indexOf(n);$pe(e),Mpe(t,e,s)}}function cut(){return!1}function dut(){return!0}function hut(){return null}function fut(){}function put(){}function OK(t,e){e instanceof pC&&$pe(e),e.destroy()}function gut(t){}function mut(){}function Aut(){}function yut(){return-1.1}function vut(){return null}function but(){if(iv.currentUpdatePriority)return iv.currentUpdatePriority;const t=typeof self<"u"&&self||typeof window<"u"&&window;if(!t)return iE.DefaultEventPriority;switch(t.event?.type){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return iE.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return iE.ContinuousEventPriority;default:return iE.DefaultEventPriority}}function xut(t){iv.currentUpdatePriority=t}function Cut(){return!1}function Eut(){return!1}function Sut(){}function wut(){}function _ut(){}function Iut(t){t instanceof xr?t.visible=!0:t instanceof pC&&(t.enabled=!0)}function But(t){throw new Error("Text instances are not yet supported. Please use a `<text>` component.")}function Dut(){return null}const Tut={isPrimaryRenderer:!1,noTimeout:-1,NotPendingTransition:null,supportsHydration:!1,supportsMutation:!0,supportsPersistence:!1,warnsIfNotActing:!1,afterActiveInstanceBlur:Ilt,appendChild:uN,appendChildToContainer:uN,appendInitialChild:uN,beforeActiveInstanceBlur:Blt,cancelTimeout:clearTimeout,clearContainer:Dlt,commitUpdate:Olt,createInstance:Vlt,createTextInstance:Zlt,hideTextInstance:uut,unhideTextInstance:But,detachDeletedInstance:eut,finalizeInitialChildren:tut,getChildHostContext:nut,getCurrentUpdatePriority:rut,getInstanceFromNode:iut,getInstanceFromScope:sut,getPublicInstance:out,getRootHostContext:aut,hideInstance:lut,insertBefore:zK,insertInContainerBefore:zK,maySuspendCommit:cut,preloadInstance:dut,prepareForCommit:hut,preparePortalMount:fut,prepareScopeUpdate:put,removeChild:OK,removeChildFromContainer:OK,requestPostPaintCallback:gut,resetAfterCommit:mut,resetFormInstance:Aut,resolveEventTimeStamp:yut,resolveEventType:vut,resolveUpdatePriority:but,scheduleTimeout:setTimeout,shouldAttemptEagerTransition:Cut,setCurrentUpdatePriority:xut,shouldSetTextContent:Eut,startSuspendingCommit:Sut,suspendInstance:wut,trackSchedulerEvent:_ut,unhideInstance:Iut,waitForCommitToBeReady:Dut,rendererPackageName:"@pixi/react",rendererVersion:_lt.version},tT=Jlt(Tut);tT.injectIntoDevTools();const WE=new Map;function Mut(t,e={}){let n=WE.get(t),r=n?.applicationState??{isInitialised:!1,isInitialising:!1};const i=n?.internalState??{};n||(r.app=new Yz,i.rootContainer=Tpe(r.app.stage));const s=n?.fiber??tT.createContainer(i.rootContainer,iE.ConcurrentRoot,null,!1,null,"",console.error,console.error,console.error,null);if(!n){let o;t instanceof HTMLCanvasElement&&(o=t),o||(o=document.createElement("canvas"),t.innerHTML="",t.appendChild(o)),i.canvas=o,n={applicationState:r,fiber:s,internalState:i,render:async(l,u)=>(!r.app.renderer&&!r.isInitialised&&!r.isInitialising&&(r.isInitialising=!0,await r.app.init({...u,canvas:o}),r.isInitialising=!1,r.isInitialised=!0,r={...r},e.onInit?.(r.app)),Object.entries(u).forEach(([c,d])=>{const f=c;Dpe(u,f)||(r.app[f]=d)}),tT.updateContainer(h.jsx(Slt,{value:r,children:l}),s,null,()=>{}),r.app)},WE.set(o,n)}return n}function Ope(t){iv.unmountQueue.delete(t);const e=t.fiber;e&&tT.updateContainer(null,e,null,()=>{t.applicationState.app&&t.applicationState.app.destroy(),WE.delete(t.internalState.canvas)})}function kut(){for(const t of iv.unmountQueue)Ope(t)}function Put(t){const e=WE.get(t);e&&(e.applicationState.isInitialised?Ope(e):iv.unmountQueue.add(e))}function Rut(t){const e=WE.get(t);e&&iv.unmountQueue.delete(e)}const rB=typeof window<"u"&&(window.document?.createElement||window.navigator?.product==="ReactNative")?x.useLayoutEffect:x.useEffect,Nut={...Sn.defaultTextStyle},Lut=x.forwardRef(function(e,n){const{children:r,className:i,defaultTextStyle:s,extensions:o,onInit:a,resizeTo:l,...u}=e,c=xrt(),d=x.useRef(null),f=x.useRef(null),p=x.useRef(new Set);x.useImperativeHandle(n,()=>({getApplication(){return d.current},getCanvas(){return f.current}}));const m=x.useCallback(()=>{const y=d.current;y&&(l?"current"in l?l.current instanceof HTMLElement&&(y.resizeTo=l.current):y.resizeTo=l:y.resizeTo=void 0)},[l]),v=x.useCallback(y=>{kut(),d.current=y,m(),a?.(y)},[a]);return rB(()=>{if(o){const y=[...o],A=p.current;for(const C of A.values()){const E=y.indexOf(C);E===-1&&(mo.remove(C),A.delete(C)),y.splice(E,1)}for(const C of y)mo.add(C),A.add(C)}},[o]),rB(()=>{const y=f.current;if(y){let A=WE.get(y);A||(A=Mut(y,{onInit:v})),A.render(h.jsx(c,{children:r}),u)}},[u,r,v,l]),rB(()=>{m()},[l]),rB(()=>{s?Object.assign(Sn.defaultTextStyle,s):Object.assign(Sn.defaultTextStyle,Nut)},[s]),x.useEffect(()=>{const y=f.current;if(y)return Rut(y),()=>{Put(y)}},[]),h.jsx("canvas",{ref:f,className:i})}),Fut=x.forwardRef(function(e,n){return h.jsx(Yhe,{children:h.jsx(Lut,{ref:n,...e})})});function jpe(t){Object.assign(XL,t)}function dm(){const t=x.useContext(o7);return zpe(t.app instanceof Yz,"No Context found with `%s`. Make sure to wrap component with `%s`","Application","AppProvider"),t}function pn(t){x.useMemo(()=>{jpe(t)},[t])}var $ut=(()=>{var t=import.meta.url;return(function(e){e=e||{};var n;n||(n=typeof e<"u"?e:{});var r,i;n.ready=new Promise(function(he,pe){r=he,i=pe});var s=Object.assign({},n),o="";typeof document<"u"&&document.currentScript&&(o=document.currentScript.src),t&&(o=t),o.indexOf("blob:")!==0?o=o.substr(0,o.replace(/[?#].*/,"").lastIndexOf("/")+1):o="";var a=n.print||console.log.bind(console),l=n.printErr||console.warn.bind(console);Object.assign(n,s),s=null;var u;n.wasmBinary&&(u=n.wasmBinary),n.noExitRuntime,typeof WebAssembly!="object"&&H("no native wasm support detected");var c,d=!1;function f(he,pe,Ie){Ie=pe+Ie;for(var Le="";!(pe>=Ie);){var Ke=he[pe++];if(!Ke)break;if(Ke&128){var pt=he[pe++]&63;if((Ke&224)==192)Le+=String.fromCharCode((Ke&31)<<6|pt);else{var Ct=he[pe++]&63;Ke=(Ke&240)==224?(Ke&15)<<12|pt<<6|Ct:(Ke&7)<<18|pt<<12|Ct<<6|he[pe++]&63,65536>Ke?Le+=String.fromCharCode(Ke):(Ke-=65536,Le+=String.fromCharCode(55296|Ke>>10,56320|Ke&1023))}}else Le+=String.fromCharCode(Ke)}return Le}var p,m,v,y,A,C,E,I,D;function T(){var he=c.buffer;p=he,n.HEAP8=m=new Int8Array(he),n.HEAP16=y=new Int16Array(he),n.HEAP32=C=new Int32Array(he),n.HEAPU8=v=new Uint8Array(he),n.HEAPU16=A=new Uint16Array(he),n.HEAPU32=E=new Uint32Array(he),n.HEAPF32=I=new Float32Array(he),n.HEAPF64=D=new Float64Array(he)}var M,P=[],k=[],L=[];function $(){var he=n.preRun.shift();P.unshift(he)}var z=0,j=null;function H(he){throw n.onAbort&&n.onAbort(he),he="Aborted("+he+")",l(he),d=!0,he=new WebAssembly.RuntimeError(he+". Build with -sASSERTIONS for more info."),i(he),he}function W(he){return he.startsWith("data:application/octet-stream;base64,")}var O;if(O="data:application/octet-stream;base64,AGFzbQEAAAABugM3YAF/AGACf38AYAF/AX9gA39/fwBgAn98AGACf38Bf2ADf39/AX9gBH9/f30BfWADf398AGAAAGAEf39/fwBgAX8BfGACf38BfGAFf39/f38Bf2AAAX9gA39/fwF9YAZ/f31/fX8AYAV/f39/fwBgAn9/AX1gBX9/f319AX1gAX8BfWADf35/AX5gB39/f39/f38AYAZ/f39/f38AYAR/f39/AX9gBn9/f319fQF9YAR/f31/AGADf399AX1gBn98f39/fwF/YAR/fHx/AGACf30AYAh/f39/f39/fwBgDX9/f39/f39/f39/f38AYAp/f39/f39/f39/AGAFf39/f38BfGAEfHx/fwF9YA1/fX1/f399fX9/f39/AX9gB39/f319f38AYAJ+fwF/YAN/fX0BfWABfAF8YAN/fHwAYAR/f319AGAHf39/fX19fQF9YA1/fX99f31/fX19fX1/AX9gC39/f39/f399fX19AX9gCH9/f39/f319AGAEf39+fgBgB39/f39/f38Bf2ACfH8BfGAFf398fH8AYAN/f38BfGAEf39/fABgA39/fQBgBn9/fX99fwF/ArUBHgFhAWEAHwFhAWIAAwFhAWMACQFhAWQAFgFhAWUAEQFhAWYAIAFhAWcAAAFhAWgAIQFhAWkAAwFhAWoAAAFhAWsAFwFhAWwACgFhAW0ABQFhAW4AAwFhAW8AAQFhAXAAFwFhAXEABgFhAXIAAAFhAXMAIgFhAXQACgFhAXUADQFhAXYAFgFhAXcAAgFhAXgAAwFhAXkAGAFhAXoAAgFhAUEAAQFhAUIAEQFhAUMAAQFhAUQAAAOiAqACAgMSBwcACRkDAAoRBgYKEwAPDxMBBiMTCgcHGgMUASQFJRQHAwMKCgMmAQYYDxobFAAKBw8KBwMDAgkCAAAFGwACBwIHBgIDAQMIDAABKAkHBQURACkZASoAAAIrLAIALQcHBy4HLwkFCgMCMA0xAgMJAgACAQYKAQIBBQEACQIFAQEABQAODQ0GFQIBHBUGAgkCEAAAAAUyDzMMBQYINAUCAwUODg41AgMCAgIDBgICNgIBDAwMAQsLCwsLCx0CAAIAAAABABABBQICAQMCEgMMCwEBAQEBAQsLAQICAwICAgICAgIDAgIICAEICAgEBAQEBAQEBAQABAQABAQEBAAEBAQBAQEICAEBAQEBAQEBCAgBAQEAAg4CAgUBAR4DBAcBcAHUAdQBBQcBAYACgIACBg0CfwFBkMQEC38BQQALByQIAUUCAAFGAG0BRwCwAQFIAK8BAUkAYQFKAQABSwAjAUwApgEJjQMBAEEBC9MBqwGqAaUB5QHiAZwB0AFazwHOAVlZWpsBmgGZAc0BzAHLAcoBWpgByQFZWVqbAZoBmQHIAccBxgGjAZcBpAGWAaMBvQKVAbwCxQG7Ajq6Ajq5ApQBuAI+twI+xAFqwwFqwgFqaWjBAcABvwGhAZcBtgK+AbUClgGhAbQCmAGzAjqxAjqwAr0BrwKuAq0CrAKrAqoCqAKnAqYCpQKkAqMCogKhArwBoAKfAp4CnQKcApsCmgKZApgClwKWApUClAKTApICkQKQAo8CjgKyAo0CjAKLAooCiAKHAqkChQI+hAK7AYMCggKBAoAC/gH9AfwB+QG6AfgBuQH3AfYB9QH0AfMB8gHxAYYC8AHvAbgB+wH6Ae4B7QG3AesBlQHqATrpAT7oAT7nAZQB0QE67AE+iQLmATrkAeMBOuEB4AHfAT7eAd0B3AG2AdsB2gHZAdgB1wHWAdUBtQHUAdMB0gH/AWloaWiPAZABsgGxAZEBhQGSAbQBswGRAa4BrQGsAakBqAGnAYUBCtj+A6ACMwEBfyAAQQEgABshAAJAA0AgABBhIgENAUGIxAAoAgAiAQRAIAERCQAMAQsLEAIACyABC+0BAgJ9A39DAADAfyEEAkACQAJAAkAgAkEHcSIGDgUCAQEBAAELQQMhBQwBCyAGQQFrQQJPDQEgAkHw/wNxQQR2IQcCfSACQQhxBEAgASAHEJ4BvgwBC0EAIAdB/w9xIgFrIAEgAsFBAEgbsgshAyAGQQFGBEAgAyADXA0BQwAAwH8gAyADQwAAgH9bIANDAACA/1tyIgEbIQQgAUUhBQwBCyADIANcDQBBAEECIANDAACAf1sgA0MAAID/W3IiARshBUMAAMB/IAMgARshBAsgACAFOgAEIAAgBDgCAA8LQfQNQakYQTpB+RYQCwALZwIBfQF/QwAAwH8hAgJAAkACQCABQQdxDgQCAAABAAtBxBJBqRhByQBBuhIQCwALIAFB8P8DcUEEdiEDIAFBCHEEQCAAIAMQngG+DwtBACADQf8PcSIAayAAIAHBQQBIG7IhAgsgAgt4AgF/AX0jAEEQayIEJAAgBEEIaiAAQQMgAkECR0EBdCABQf4BcUECRxsgAhAoQwAAwH8hBQJAAkACQCAELQAMQQFrDgIAAQILIAQqAgghBQwBCyAEKgIIIAOUQwrXIzyUIQULIARBEGokACAFQwAAAAAgBSAFWxsLeAIBfwF9IwBBEGsiBCQAIARBCGogAEEBIAJBAkZBAXQgAUH+AXFBAkcbIAIQKEMAAMB/IQUCQAJAAkAgBC0ADEEBaw4CAAECCyAEKgIIIQUMAQsgBCoCCCADlEMK1yM8lCEFCyAEQRBqJAAgBUMAAAAAIAUgBVsbC8wCAQV/IAAEQCAAQQRrIgEoAgAiBSEDIAEhAiAAQQhrKAIAIgAgAEF+cSIERwRAIAEgBGsiAigCBCIAIAIoAgg2AgggAigCCCAANgIEIAQgBWohAwsgASAFaiIEKAIAIgEgASAEakEEaygCAEcEQCAEKAIEIgAgBCgCCDYCCCAEKAIIIAA2AgQgASADaiEDCyACIAM2AgAgA0F8cSACakEEayADQQFyNgIAIAICfyACKAIAQQhrIgFB/wBNBEAgAUEDdkEBawwBCyABQR0gAWciAGt2QQRzIABBAnRrQe4AaiABQf8fTQ0AGkE/IAFBHiAAa3ZBAnMgAEEBdGtBxwBqIgAgAEE/TxsLIgFBBHQiAEHgMmo2AgQgAiAAQegyaiIAKAIANgIIIAAgAjYCACACKAIIIAI2AgRB6DpB6DopAwBCASABrYaENwMACwsOAEHYMigCABEJABBYAAunAQIBfQJ/IABBFGoiByACIAFBAkkiCCAEIAUQNSEGAkAgByACIAggBCAFEC0iBEMAAAAAYCADIARecQ0AIAZDAAAAAGBFBEAgAyEEDAELIAYgAyADIAZdGyEECyAAQRRqIgAgASACIAUQOCAAIAEgAhAwkiAAIAEgAiAFEDcgACABIAIQL5KSIgMgBCADIAReGyADIAQgBCAEXBsgBCAEWyADIANbcRsLvwEBA38gAC0AAEEgcUUEQAJAIAEhAwJAIAIgACIBKAIQIgAEfyAABSABEJ0BDQEgASgCEAsgASgCFCIFa0sEQCABIAMgAiABKAIkEQYAGgwCCwJAIAEoAlBBAEgNACACIQADQCAAIgRFDQEgAyAEQQFrIgBqLQAAQQpHDQALIAEgAyAEIAEoAiQRBgAgBEkNASADIARqIQMgAiAEayECIAEoAhQhBQsgBSADIAIQKxogASABKAIUIAJqNgIUCwsLCwYAIAAQIwtQAAJAAkACQAJAAkAgAg4EBAABAgMLIAAgASABQQxqEEMPCyAAIAEgAUEMaiADEEQPCyAAIAEgAUEMahBCDwsQJAALIAAgASABQQxqIAMQRQttAQF/IwBBgAJrIgUkACAEQYDABHEgAiADTHJFBEAgBSABQf8BcSACIANrIgNBgAIgA0GAAkkiARsQKhogAUUEQANAIAAgBUGAAhAmIANBgAJrIgNB/wFLDQALCyAAIAUgAxAmCyAFQYACaiQAC/ICAgJ/AX4CQCACRQ0AIAAgAToAACAAIAJqIgNBAWsgAToAACACQQNJDQAgACABOgACIAAgAToAASADQQNrIAE6AAAgA0ECayABOgAAIAJBB0kNACAAIAE6AAMgA0EEayABOgAAIAJBCUkNACAAQQAgAGtBA3EiBGoiAyABQf8BcUGBgoQIbCIBNgIAIAMgAiAEa0F8cSIEaiICQQRrIAE2AgAgBEEJSQ0AIAMgATYCCCADIAE2AgQgAkEIayABNgIAIAJBDGsgATYCACAEQRlJDQAgAyABNgIYIAMgATYCFCADIAE2AhAgAyABNgIMIAJBEGsgATYCACACQRRrIAE2AgAgAkEYayABNgIAIAJBHGsgATYCACAEIANBBHFBGHIiBGsiAkEgSQ0AIAGtQoGAgIAQfiEFIAMgBGohAQNAIAEgBTcDGCABIAU3AxAgASAFNwMIIAEgBTcDACABQSBqIQEgAkEgayICQR9LDQALCyAAC4AEAQN/IAJBgARPBEAgACABIAIQFyAADwsgACACaiEDAkAgACABc0EDcUUEQAJAIABBA3FFBEAgACECDAELIAJFBEAgACECDAELIAAhAgNAIAIgAS0AADoAACABQQFqIQEgAkEBaiICQQNxRQ0BIAIgA0kNAAsLAkAgA0F8cSIEQcAASQ0AIAIgBEFAaiIFSw0AA0AgAiABKAIANgIAIAIgASgCBDYCBCACIAEoAgg2AgggAiABKAIMNgIMIAIgASgCEDYCECACIAEoAhQ2AhQgAiABKAIYNgIYIAIgASgCHDYCHCACIAEoAiA2AiAgAiABKAIkNgIkIAIgASgCKDYCKCACIAEoAiw2AiwgAiABKAIwNgIwIAIgASgCNDYCNCACIAEoAjg2AjggAiABKAI8NgI8IAFBQGshASACQUBrIgIgBU0NAAsLIAIgBE8NAQNAIAIgASgCADYCACABQQRqIQEgAkEEaiICIARJDQALDAELIANBBEkEQCAAIQIMAQsgACADQQRrIgRLBEAgACECDAELIAAhAgNAIAIgAS0AADoAACACIAEtAAE6AAEgAiABLQACOgACIAIgAS0AAzoAAyABQQRqIQEgAkEEaiICIARNDQALCyACIANJBEADQCACIAEtAAA6AAAgAUEBaiEBIAJBAWoiAiADRw0ACwsgAAtIAQF/IwBBEGsiBCQAIAQgAzYCDAJAIABFBEBBAEEAIAEgAiAEKAIMEHEMAQsgACgC9AMgACABIAIgBCgCDBBxCyAEQRBqJAALkwECAX0BfyMAQRBrIgYkACAGQQhqIABB6ABqIAAgAkEBdGovAWIQH0MAAMB/IQUCQAJAAkAgBi0ADEEBaw4CAAECCyAGKgIIIQUMAQsgBioCCCADlEMK1yM8lCEFCyAALQADQRB0QYCAwABxBEAgBSAAIAEgAiAEEFQiA0MAAAAAIAMgA1sbkiEFCyAGQRBqJAAgBQu1AQECfyAAKAIEQQFqIgEgACgCACICKALsAyACKALoAyICa0ECdU8EQANAIAAoAggiAUUEQCAAQQA2AgggAEIANwIADwsgACABKAIENgIAIAAgASgCCDYCBCAAIAEoAgA2AgggARAjIAAoAgRBAWoiASAAKAIAIgIoAuwDIAIoAugDIgJrQQJ1Tw0ACwsgACABNgIEIAIgAUECdGooAgAtABdBEHRBgIAwcUGAgCBGBEAgABB9CwuBAQIBfwF9IwBBEGsiAyQAIANBCGogAEEDIAJBAkdBAXQgAUH+AXFBAkcbIAIQU0MAAMB/IQQCQAJAAkAgAy0ADEEBaw4CAAECCyADKgIIIQQMAQsgAyoCCEMAAAAAlEMK1yM8lCEECyADQRBqJAAgBEMAAAAAl0MAAAAAIAQgBFsbC4EBAgF/AX0jAEEQayIDJAAgA0EIaiAAQQEgAkECRkEBdCABQf4BcUECRxsgAhBTQwAAwH8hBAJAAkACQCADLQAMQQFrDgIAAQILIAMqAgghBAwBCyADKgIIQwAAAACUQwrXIzyUIQQLIANBEGokACAEQwAAAACXQwAAAAAgBCAEWxsLeAICfQF/IAAgAkEDdGoiByoC+AMhBkMAAMB/IQUCQAJAAkAgBy0A/ANBAWsOAgABAgsgBiEFDAELIAYgA5RDCtcjPJQhBQsgAC0AF0EQdEGAgMAAcQR9IAUgAEEUaiABIAIgBBBUIgNDAAAAACADIANbG5IFIAULC1EBAX8CQCABKALoAyICIAEoAuwDRwRAIABCADcCBCAAIAE2AgAgAigCAC0AF0EQdEGAgDBxQYCAIEcNASAAEH0PCyAAQgA3AgAgAEEANgIICwvoAgECfwJAIAAgAUYNACABIAAgAmoiBGtBACACQQF0a00EQCAAIAEgAhArDwsgACABc0EDcSEDAkACQCAAIAFJBEAgAwRAIAAhAwwDCyAAQQNxRQRAIAAhAwwCCyAAIQMDQCACRQ0EIAMgAS0AADoAACABQQFqIQEgAkEBayECIANBAWoiA0EDcQ0ACwwBCwJAIAMNACAEQQNxBEADQCACRQ0FIAAgAkEBayICaiIDIAEgAmotAAA6AAAgA0EDcQ0ACwsgAkEDTQ0AA0AgACACQQRrIgJqIAEgAmooAgA2AgAgAkEDSw0ACwsgAkUNAgNAIAAgAkEBayICaiABIAJqLQAAOgAAIAINAAsMAgsgAkEDTQ0AA0AgAyABKAIANgIAIAFBBGohASADQQRqIQMgAkEEayICQQNLDQALCyACRQ0AA0AgAyABLQAAOgAAIANBAWohAyABQQFqIQEgAkEBayICDQALCyAAC5QCAgF8AX8CQCAAIAGiIgAQbCIERAAAAAAAAPA/oCAEIAREAAAAAAAAAABjGyIEIARiIgUgBJlELUMc6+I2Gj9jRXJFBEAgACAEoSEADAELIAUgBEQAAAAAAADwv6CZRC1DHOviNho/Y0VyRQRAIAAgBKFEAAAAAAAA8D+gIQAMAQsgACAEoSEAIAIEQCAARAAAAAAAAPA/oCEADAELIAMNACAAAnxEAAAAAAAAAAAgBQ0AGkQAAAAAAADwPyAERAAAAAAAAOA/ZA0AGkQAAAAAAADwP0QAAAAAAAAAACAERAAAAAAAAOC/oJlELUMc6+I2Gj9jGwugIQALIAAgAGIgASABYnIEQEMAAMB/DwsgACABo7YLkwECAX0BfyMAQRBrIgYkACAGQQhqIABB6ABqIAAgAkEBdGovAV4QH0MAAMB/IQUCQAJAAkAgBi0ADEEBaw4CAAECCyAGKgIIIQUMAQsgBioCCCADlEMK1yM8lCEFCyAALQADQRB0QYCAwABxBEAgBSAAIAEgAiAEEFQiA0MAAAAAIAMgA1sbkiEFCyAGQRBqJAAgBQtQAAJAAkACQAJAAkAgAg4EBAABAgMLIAAgASABQR5qEEMPCyAAIAEgAUEeaiADEEQPCyAAIAEgAUEeahBCDwsQJAALIAAgASABQR5qIAMQRQt+AgF/AX0jAEEQayIEJAAgBEEIaiAAQQMgAkECR0EBdCABQf4BcUECRxsgAhBQQwAAwH8hBQJAAkACQCAELQAMQQFrDgIAAQILIAQqAgghBQwBCyAEKgIIIAOUQwrXIzyUIQULIARBEGokACAFQwAAAACXQwAAAAAgBSAFWxsLfgIBfwF9IwBBEGsiBCQAIARBCGogAEEBIAJBAkZBAXQgAUH+AXFBAkcbIAIQUEMAAMB/IQUCQAJAAkAgBC0ADEEBaw4CAAECCyAEKgIIIQUMAQsgBCoCCCADlEMK1yM8lCEFCyAEQRBqJAAgBUMAAAAAl0MAAAAAIAUgBVsbC08AAkACQAJAIANB/wFxIgMOBAACAgECCyABIAEvAABB+P8DcTsAAA8LIAEgAS8AAEH4/wNxQQRyOwAADwsgACABIAJBAUECIANBAUYbEEwLNwEBfyABIAAoAgQiA0EBdWohASAAKAIAIQAgASACIANBAXEEfyABKAIAIABqKAIABSAACxEBAAtiAgJ9An8CQCAAKALkA0UNACAAQfwAaiIDIABBGmoiBC8BABAgIgIgAlwEQCADIABBGGoiBC8BABAgIgIgAlwNASADIAAvARgQIEMAAAAAXkUNAQsgAyAELwEAECAhAQsgAQtfAQN/IAEEQEEMEB4iAyABKQIENwIEIAMhAiABKAIAIgEEQCADIQQDQEEMEB4iAiABKQIENwIEIAQgAjYCACACIQQgASgCACIBDQALCyACIAAoAgA2AgAgACADNgIACwvXawMtfxx9AX4CfwJAIAAtAABBBHEEQCAAKAKgASAMRw0BCyAAKAKkASAAKAL0AygCDEcNAEEAIAAtAKgBIANGDQEaCyAAQoCAgPyLgIDAv383AoADIABCgYCAgBA3AvgCIABCgICA/IuAgMC/fzcC8AIgAEEANgKsAUEBCyErAkACQAJAAkAgACgCCARAIABBFGoiDkECQQEgBhAiIT4gDkECQQEgBhAhITwgDkEAQQEgBhAiITsgDkEAQQEgBhAhIUAgBCABIAUgAiAAKAL4AiAAQfACaiIOKgIAIAAoAvwCIAAqAvQCIAAqAoADIAAqAoQDID4gPJIiPiA7IECSIjwgACgC9AMiEBB7DQEgACgCrAEiEUUNAyAAQbABaiETA0AgBCABIAUgAiATIB1BGGxqIg4oAgggDioCACAOKAIMIA4qAgQgDioCECAOKgIUID4gPCAQEHsNAiAdQQFqIh0gEUcNAAsMAgsgCEUEQCAAKAKsASITRQ0CIABBsAFqIRADQAJAAkAgECAdQRhsIhFqIg4qAgAiPiA+XCABIAFcckUEQCA+IAGTi0MXt9E4XQ0BDAILIAEgAVsgPiA+W3INAQsCQCAQIBFqIhEqAgQiPiA+XCACIAJcckUEQCA+IAKTi0MXt9E4XQ0BDAILIAIgAlsgPiA+W3INAQsgESgCCCAERw0AIBEoAgwgBUYNAwsgEyAdQQFqIh1HDQALDAILAkAgAEHwAmoiDioCACI+ID5cIAEgAVxyRQRAID4gAZOLQxe30ThdDQEMBAsgASABWyA+ID5bcg0DCyAOQQAgACgC/AIgBUYbQQAgACgC+AIgBEYbQQACfyACIAJcIg4gACoC9AIiPiA+XHJFBEAgPiACk4tDF7fROF0MAQtBACA+ID5bDQAaIA4LGyEOCyAORSArcgRAIA4hHQwCCyAAIA4qAhA4ApQDIAAgDioCFDgCmAMgCkEMQRAgCBtqIgMgAygCAEEBajYCACAOIR0MAgtBACEdCyAGIUAgByFHIAtBAWohIiMAQaABayINJAACQAJAIARBAUYgASABW3JFBEAgDUGqCzYCICAAQQVB2CUgDUEgahAsDAELIAVBAUYgAiACW3JFBEAgDUHZCjYCECAAQQVB2CUgDUEQahAsDAELIApBAEEEIAgbaiILIAsoAgBBAWo2AgAgACAALQCIA0H8AXEgAC0AFEEDcSILIANBASADGyIsIAsbIg9BA3FyOgCIAyAAQawDaiIQIA9BAUdBA3QiC2ogAEEUaiIUQQNBAiAPQQJGGyIRIA8gQBAiIgY4AgAgECAPQQFGQQN0Ig5qIBQgESAPIEAQISIHOAIAIAAgFEEAIA8gQBAiIjw4ArADIAAgFEEAIA8gQBAhIjs4ArgDIABBvANqIhAgC2ogFCARIA8QMDgCACAOIBBqIBQgESAPEC84AgAgACAUQQAgDxAwOALAAyAAIBRBACAPEC84AsgDIAsgAEHMA2oiC2ogFCARIA8gQBA4OAIAIAsgDmogFCARIA8gQBA3OAIAIAAgFEEAIA8gQBA4OALQAyAAIBRBACAPIEAQNyI6OALYAyAGIAeSIT4gPCA7kiE8AkACQCAAKAIIIgsEQEMAAMB/IAEgPpMgBEEBRhshBkMAAMB/IAIgPJMgBUEBRhshPiAAAn0gBCAFckUEQCAAIABBAiAPIAYgQCBAECU4ApQDIABBACAPID4gRyBAECUMAQsgBEEDTyAFQQNPcg0EIA1BiAFqIAAgBiAGIAAqAswDIAAqAtQDkiAAKgK8A5IgACoCxAOSIjyTIgdDAAAAACAHQwAAAABeGyAGIAZcG0GBgAggBEEDdEH4//8HcXZB/wFxID4gPiAAKgLQAyA6kiAAKgLAA5IgACoCyAOSIjuTIgdDAAAAACAHQwAAAABeGyA+ID5cG0GBgAggBUEDdEH4//8HcXZB/wFxIAsREAAgDSoCjAEiPUMAAAAAYCANKgKIASIHQwAAAABgcUUEQCANID27OQMIIA0gB7s5AwAgAEEBQdwdIA0QLCANKgKMASIHQwAAAAAgB0MAAAAAXhshPSANKgKIASIHQwAAAAAgB0MAAAAAXhshBwsgCiAKKAIUQQFqNgIUIAogCUECdGoiCSAJKAIYQQFqNgIYIAAgAEECIA8gPCAHkiAGIARBAWtBAkkbIEAgQBAlOAKUAyAAQQAgDyA7ID2SID4gBUEBa0ECSRsgRyBAECULOAKYAwwBCwJAIAAoAuADRQRAIAAoAuwDIAAoAugDa0ECdSELDAELIA1BiAFqIAAQMgJAIA0oAogBRQRAQQAhCyANKAKMAUUNAQsgDUGAAWohEEEAIQsDQCANQQA2AoABIA0gDSkDiAE3A3ggECANKAKQARA8IA1BiAFqEC4gDSgCgAEiCQRAA0AgCSgCACEOIAkQJyAOIgkNAAsLIAtBAWohCyANQQA2AoABIA0oAowBIA0oAogBcg0ACwsgDSgCkAEiCUUNAANAIAkoAgAhDiAJECcgDiIJDQALCyALRQRAIAAgAEECIA8gBEEBa0EBSwR9IAEgPpMFIAAqAswDIAAqAtQDkiAAKgK8A5IgACoCxAOSCyBAIEAQJTgClAMgACAAQQAgDyAFQQFrQQFLBH0gAiA8kwUgACoC0AMgACoC2AOSIAAqAsADkiAAKgLIA5ILIEcgQBAlOAKYAwwBCwJAIAgNACAFQQJGIAIgPJMiBiAGW3EgBkMAAAAAX3EgBCAFckUgBEECRiABID6TIgdDAAAAAF9xcnJFDQAgACAAQQIgD0MAAAAAQwAAAAAgByAHQwAAAABdGyAHIARBAkYbIAcgB1wbIEAgQBAlOAKUAyAAIABBACAPQwAAAABDAAAAACAGIAZDAAAAAF0bIAYgBUECRhsgBiAGXBsgRyBAECU4ApgDDAELIAAQTyAAIAAtAIgDQfsBcToAiAMgABBeQQMhEyAALQAUQQJ2QQNxIQkCQAJAIA9BAkcNAAJAIAlBAmsOAgIAAQtBAiETDAELIAkhEwsgAC8AFSEnIBQgEyAPIEAQOCEGIBQgEyAPEDAhByAUIBMgDyBAEDchOyAUIBMgDxAvITpBACEQIBQgEUEAIBNBAkkbIhYgDyBAEDghPyAUIBYgDxAwIT0gFCAWIA8gQBA3IUEgFCAWIA8QLyFEIBQgFiAPIEAQYCFCIBQgFiAPEEshQyAAIA9BACABID6TIlAgBiAHkiA7IDqSkiJKID8gPZIgQSBEkpIiRiATQQFLIhkbIEAgQBB6ITsgACAPQQEgAiA8kyJRIEYgSiAZGyBHIEAQeiFFAkACQCAEIAUgGRsiHA0AIA1BiAFqIAAQMgJAAkAgDSgCiAEiDiANKAKMASIJckUNAANAIA4oAuwDIA4oAugDIg5rQQJ1IAlNDQQCQCAOIAlBAnRqKAIAIgkQeUUNACAQDQIgCRA7IgYgBlsgBotDF7fROF1xDQIgCRBAIgYgBlwEQCAJIRAMAQsgCSEQIAaLQxe30ThdDQILIA1BiAFqEC4gDSgCjAEiCSANKAKIASIOcg0ACwwBC0EAIRALIA0oApABIglFDQADQCAJKAIAIQ4gCRAnIA4iCQ0ACwsgDUGIAWogABAyIA0oAowBIQkCQCANKAKIASIORQRAQwAAAAAhPSAJRQ0BCyBFIEVcIiMgBUEAR3IhKCA7IDtcIiQgBEEAR3IhKUMAAAAAIT0DQCAOKALsAyAOKALoAyIOa0ECdSAJTQ0CIA4gCUECdGooAgAiDhB4AkAgDi8AFSAOLQAXQRB0ciIJQYCAMHFBgIAQRgRAIA4QdyAOIA4tAAAiCUEBciIOQfsBcSAOIAlBBHEbOgAADAELIAgEfyAOIA4tABRBA3EiCSAPIAkbIDsgRRB2IA4vABUgDi0AF0EQdHIFIAkLQYDgAHFBgMAARg0AIA5BFGohEQJAIA4gEEYEQCAQQQA2ApwBIBAgDDYCmAFDAAAAACEHDAELIBQtAABBAnZBA3EhCQJAAkAgD0ECRw0AQQMhEgJAIAlBAmsOAgIAAQtBAiESDAELIAkhEgsgDUGAgID+BzYCaCANQYCAgP4HNgJQIA1B+ABqIA5B/ABqIhcgDi8BHhAfIDsgRSASQQFLIh4bIT4CQAJAAkACQCANLQB8IgkOBAABAQABCwJAIBcgDi8BGBAgIgYgBlwNACAXIA4vARgQIEMAAAAAXkUNACAOKAL0Ay0ACEEBcSIJDQBDAADAf0MAAAAAIAkbIQcMAgtDAADAfyEGDAILIA0qAnghB0MAAMB/IQYCQCAJQQFrDgIBAAILIAcgPpRDCtcjPJQhBgwBCyAHIQYLIA4tABdBEHRBgIDAAHEEQCAGIBEgD0GBAiASQQN0dkEBcSA7EFQiBkMAAAAAIAYgBlsbkiEGCyAOKgL4AyEHQQAhH0EAIRgCQAJAAkAgDi0A/ANBAWsOAgEAAgsgOyAHlEMK1yM8lCEHCyAHIAdcDQAgB0MAAAAAYCEYCyAOKgKABCEHAkACQAJAIA4tAIQEQQFrDgIBAAILIEUgB5RDCtcjPJQhBwsgByAHXA0AIAdDAAAAAGAhHwsCQCAOAn0gBiAGXCIJID4gPlxyRQRAIA4qApwBIgcgB1sEQCAOKAL0Ay0AEEEBcUUNAyAOKAKYASAMRg0DCyARIBIgDyA7EDggESASIA8QMJIgESASIA8gOxA3IBEgEiAPEC+SkiIHIAYgBiAHXRsgByAGIAkbIAYgBlsgByAHW3EbDAELIBggHnEEQCARQQIgDyA7EDggEUECIA8QMJIgEUECIA8gOxA3IBFBAiAPEC+SkiIHIA4gD0EAIDsgOxAxIgYgBiAHXRsgByAGIAYgBlwbIAYgBlsgByAHW3EbDAELIB4gH0VyRQRAIBFBACAPIDsQOCARQQAgDxAwkiARQQAgDyA7EDcgEUEAIA8QL5KSIgcgDiAPQQEgRSA7EDEiBiAGIAddGyAHIAYgBiAGXBsgBiAGWyAHIAdbcRsMAQtBASEaIA1BATYCZCANQQE2AnggEUECQQEgOxAiIBFBAkEBIDsQIZIhPiARQQBBASA7ECIhPCARQQBBASA7ECEhOkMAAMB/IQdBASEVQwAAwH8hBiAYBEAgDiAPQQAgOyA7EDEhBiANQQA2AnggDSA+IAaSIgY4AmhBACEVCyA8IDqSITwgHwRAIA4gD0EBIEUgOxAxIQcgDUEANgJkIA0gPCAHkiIHOAJQQQAhGgsCQAJAAkAgAC0AF0EQdEGAgAxxQYCACEYiCSASQQJJIiBxRQRAIAkgJHINAiAGIAZcDQEMAgsgJCAGIAZbcg0CC0ECIRUgDUECNgJ4IA0gOzgCaCA7IQYLAkAgIEEBIAkbBEAgCSAjcg0CIAcgB1wNAQwCCyAjIAcgB1tyDQELQQIhGiANQQI2AmQgDSBFOAJQIEUhBwsCQCAXIA4vAXoQICI6IDpcDQACfyAVIB5yRQRAIBcgDi8BehAgIQcgDUEANgJkIA0gPCAGID6TIAeVkjgCUEEADAELIBogIHINASAXIA4vAXoQICEGIA1BADYCeCANIAYgByA8k5QgPpI4AmhBAAshGkEAIRULIA4vABZBD3EiCUUEQCAALQAVQQR2IQkLAkAgFUUgCUEFRiAeciAYIClyIAlBBEdycnINACANQQA2AnggDSA7OAJoIBcgDi8BehAgIgYgBlwNAEEAIRogFyAOLwF6ECAhBiANQQA2AmQgDSA7ID6TIAaVOAJQCyAOLwAWQQ9xIhhFBEAgAC0AFUEEdiEYCwJAICAgKHIgH3IgGEEFRnIgGkUgGEEER3JyDQAgDUEANgJkIA0gRTgCUCAXIA4vAXoQICIGIAZcDQAgFyAOLwF6ECAhBiANQQA2AnggDSAGIEUgPJOUOAJoCyAOIA9BAiA7IDsgDUH4AGogDUHoAGoQPyAOIA9BACBFIDsgDUHkAGogDUHQAGoQPyAOIA0qAmggDSoCUCAPIA0oAnggDSgCZCA7IEVBAEEFIAogIiAMED0aIA4gEkECdEH8JWooAgBBAnRqKgKUAyEGIBEgEiAPIDsQOCARIBIgDxAwkiARIBIgDyA7EDcgESASIA8QL5KSIgcgBiAGIAddGyAHIAYgBiAGXBsgBiAGWyAHIAdbcRsLIgc4ApwBCyAOIAw2ApgBCyA9IAcgESATQQEgOxAiIBEgE0EBIDsQIZKSkiE9CyANQYgBahAuIA0oAowBIgkgDSgCiAEiDnINAAsLIA0oApABIgkEQANAIAkoAgAhDiAJECcgDiIJDQALCyA7IEUgGRshByA9QwAAAACSIQYgC0ECTwRAIBQgEyAHEE0gC0EBa7OUIAaSIQYLIEIgQ5IhPiAFIAQgGRshGiBHIEAgGRshTSBAIEcgGRshSSANQdAAaiAAEDJBACAcIAYgB14iCxsgHCAcQQJGGyAcICdBgIADcSIfGyEeIBQgFiBFIDsgGRsiRBBNIU8gDSgCVCIRIA0oAlAiCXIEQEEBQQIgRCBEXCIpGyEtIAtFIBxBAUZyIS4gE0ECSSEZIABB8gBqIS8gAEH8AGohMCATQQJ0IgtB7CVqITEgC0HcJWohMiAWQQJ0Ig5B7CVqIRwgDkHcJWohICALQfwlaiEkIA5B/CVqISMgGkEARyIzIAhyITQgGkUiNSAIQQFzcSE2IBogH3JFITcgDUHwAGohOCANQYABaiEnQYECIBNBA3R2Qf8BcSEoIBpBAWtBAkkhOQNAIA1BADYCgAEgDUIANwN4AkAgACgC7AMiCyAAKALoAyIORg0AIAsgDmsiC0EASA0DIA1BiAFqIAtBAnVBACAnEEohECANKAKMASANKAJ8IA0oAngiC2siDmsgCyAOEDMhDiANIA0oAngiCzYCjAEgDSAONgJ4IA0pA5ABIVYgDSANKAJ8Ig42ApABIA0oAoABIRIgDSBWNwJ8IA0gEjYClAEgECALNgIAIAsgDkcEQCANIA4gCyAOa0EDakF8cWo2ApABCyALRQ0AIAsQJwsgFC0AACIOQQJ2QQNxIQsCQAJAIA5BA3EiDiAsIA4bIhJBAkcNAEEDIRACQCALQQJrDgICAAELQQIhEAwBCyALIRALIAAvABUhCyAUIBAgBxBNIT8CQCAJIBFyRQRAQwAAAAAhQ0EAIRFDAAAAACFCQwAAAAAhQUEAIRUMAQsgC0GAgANxISUgEEECSSEYIBBBAnQiC0HsJWohISALQdwlaiEqQQAhFUMAAAAAIUEgESEOQwAAAAAhQkMAAAAAIUNBACEXQwAAAAAhPQNAIAkoAuwDIAkoAugDIglrQQJ1IA5NDQQCQCAJIA5BAnRqKAIAIgkvABUgCS0AF0EQdHIiC0GAgDBxQYCAEEYgC0GA4ABxQYDAAEZyDQAgDUGIAWoiESAJQRRqIgsgKigCACADECggDS0AjAEhJiARIAsgISgCACADECggDS0AjAEhESAJIBs2AtwDIBUgJkEDRmohFSARQQNGIREgCyAQQQEgOxAiIUsgCyAQQQEgOxAhIU4gCSAXIAkgFxsiF0YhJiAJKgKcASE8IAsgEiAYIEkgQBA1IToCQCALIBIgGCBJIEAQLSIGQwAAAABgIAYgPF1xDQAgOkMAAAAAYEUEQCA8IQYMAQsgOiA8IDogPF4bIQYLIBEgFWohFQJAICVFQwAAAAAgPyAmGyI8IEsgTpIiOiA9IAaSkpIgB15Fcg0AIA0oAnggDSgCfEYNACAOIREMAwsgCRB5BEAgQiAJEDuSIUIgQyAJEEAgCSoCnAGUkyFDCyBBIDwgOiAGkpIiBpIhQSA9IAaSIT0gDSgCfCILIA0oAoABRwRAIAsgCTYCACANIAtBBGo2AnwMAQsgCyANKAJ4ayILQQJ1IhFBAWoiDkGAgICABE8NBSANQYgBakH/////AyALQQF1IiYgDiAOICZJGyALQfz///8HTxsgESAnEEohDiANKAKQASAJNgIAIA0gDSgCkAFBBGo2ApABIA0oAowBIA0oAnwgDSgCeCIJayILayAJIAsQMyELIA0gDSgCeCIJNgKMASANIAs2AnggDSkDkAEhViANIA0oAnwiCzYCkAEgDSgCgAEhESANIFY3AnwgDSARNgKUASAOIAk2AgAgCSALRwRAIA0gCyAJIAtrQQNqQXxxajYCkAELIAlFDQAgCRAnCyANQQA2AnAgDSANKQNQNwNoIDggDSgCWBA8IA1B0ABqEC4gDSgCcCIJBEADQCAJKAIAIQsgCRAnIAsiCQ0ACwtBACERIA1BADYCcCANKAJUIg4gDSgCUCIJcg0ACwtDAACAPyBCIEJDAACAP10bIEIgQkMAAAAAXhshPCANKAJ8IRcgDSgCeCEJAn0CQAJ9AkACQAJAIB5FDQAgFCAPQQAgQCBAEDUhBiAUIA9BACBAIEAQLSE6IBQgD0EBIEcgQBA1IT8gFCAPQQEgRyBAEC0hPSAGID8gE0EBSyILGyBKkyIGIAZbIAYgQV5xDQEgOiA9IAsbIEqTIgYgBlsgBiBBXXENASAAKAL0Ay0AFEEBcQ0AIEEgPEMAAAAAWw0DGiAAEDsiBiAGXA0CIEEgABA7QwAAAABbDQMaDAILIAchBgsgBiAGWw0CIAYhBwsgBwshBiBBjEMAAAAAIEFDAAAAAF0bIT8gBgwBCyAGIEGTIT8gBgshByA2RQRAAkAgCSAXRgRAQwAAAAAhQQwBC0MAAIA/IEMgQ0MAAIA/XRsgQyBDQwAAAABeGyE9QwAAAAAhQSAJIQ4DQCAOKAIAIgsqApwBITogC0EUaiIQIA8gGSBJIEAQNSFCAkAgECAPIBkgSSBAEC0iBkMAAAAAYCAGIDpdcQ0AIEJDAAAAAGBFBEAgOiEGDAELIEIgOiA6IEJdGyEGCwJAID9DAAAAAF0EQCAGIAsQQIyUIjpDAAAAAF4gOkMAAAAAXXJFDQEgCyATIA8gPyA9lSA6lCAGkiJCIAcgOxAlITogQiBCXCA6IDpcciA6IEJbcg0BIEEgOiAGk5IhQSALEEAgCyoCnAGUID2SIT0MAQsgP0MAAAAAXkUNACALEDsiQkMAAAAAXiBCQwAAAABdckUNACALIBMgDyA/IDyVIEKUIAaSIkMgByA7ECUhOiBDIENcIDogOlxyIDogQ1tyDQAgPCBCkyE8IEEgOiAGk5IhQQsgDkEEaiIOIBdHDQALID8gQZMiQiA9lSFLIEIgPJUhTiAALwAVQYCAA3FFIC5yISVDAAAAACFBIAkhCwNAIAsoAgAiDioCnAEhPCAOQRRqIhggDyAZIEkgQBA1IToCQCAYIA8gGSBJIEAQLSIGQwAAAABgIAYgPF1xDQAgOkMAAAAAYEUEQCA8IQYMAQsgOiA8IDogPF4bIQYLAn0gDiATIA8CfSBCQwAAAABdBEAgBiAGIA4QQIyUIjxDAAAAAFsNAhogBiA8kiA9QwAAAABbDQEaIEsgPJQgBpIMAQsgBiBCQwAAAABeRQ0BGiAGIA4QOyI8QwAAAABeIDxDAAAAAF1yRQ0BGiBOIDyUIAaSCyAHIDsQJQshQyAYIBNBASA7ECIhPCAYIBNBASA7ECEhOiAYIBZBASA7ECIhUiAYIBZBASA7ECEhUyANIEMgPCA6kiJUkiJVOAJoIA1BADYCYCBSIFOSITwCQCAOQfwAaiIQIA4vAXoQICI6IDpbBEAgECAOLwF6ECAhOiANQQA2AmQgDSA8IFUgVJMiPCA6lCA8IDqVIBkbkjgCeAwBCyAjKAIAIRACQCApDQAgDiAQQQN0aiIhKgL4AyE6QQAhEgJAAkACQCAhLQD8A0EBaw4CAQACCyBEIDqUQwrXIzyUIToLIDogOlwNACA6QwAAAABgIRILICUgNSASQQFzcXFFDQAgDi8AFkEPcSISBH8gEgUgAC0AFUEEdgtBBEcNACANQYgBaiAYICAoAgAgDxAoIA0tAIwBQQNGDQAgDUGIAWogGCAcKAIAIA8QKCANLQCMAUEDRg0AIA1BADYCZCANIEQ4AngMAQsgDkH4A2oiEiAQQQN0aiIQKgIAIToCQAJAAkACQCAQLQAEQQFrDgIBAAILIEQgOpRDCtcjPJQhOgsgOkMAAAAAYA0BCyANIC02AmQgDSBEOAJ4DAELAkACfwJAAkACQCAWQQJrDgICAAELIDwgDiAPQQAgRCA7EDGSITpBAAwCC0EBIRAgDSA8IA4gD0EBIEQgOxAxkiI6OAJ4IBNBAU0NDAwCCyA8IA4gD0EAIEQgOxAxkiE6QQALIRAgDSA6OAJ4CyANIDMgEiAQQQN0ajEABEIghkKAgICAIFFxIDogOlxyNgJkCyAOIA8gEyAHIDsgDUHgAGogDUHoAGoQPyAOIA8gFiBEIDsgDUHkAGogDUH4AGoQPyAOICMoAgBBA3RqIhAqAvgDIToCQAJAAkACQCAQLQD8A0EBaw4CAQACCyBEIDqUQwrXIzyUIToLQQEhECA6QwAAAABgDQELQQEhECAOLwAWQQ9xIhIEfyASBSAALQAVQQR2C0EERw0AIA1BiAFqIBggICgCACAPECggDS0AjAFBA0YNACANQYgBaiAYIBwoAgAgDxAoIA0tAIwBQQNGIRALIA4gDSoCaCI8IA0qAngiOiATQQFLIhIbIDogPCASGyAALQCIA0EDcSANKAJgIhggDSgCZCIhIBIbICEgGCASGyA7IEUgCCAQcSIQQQRBByAQGyAKICIgDBA9GiBBIEMgBpOSIUEgAAJ/IAAtAIgDIhBBBHFFBEBBACAOLQCIA0EEcUUNARoLQQQLIBBB+wFxcjoAiAMgC0EEaiILIBdHDQALCyA/IEGTIT8LIAAgAC0AiAMiC0H7AXFBBCA/QwAAAABdQQJ0IAtBBHFBAnYbcjoAiAMgFCATIA8gQBBgIBQgEyAPEEuSITogFCATIA8gQBB/IBQgEyAPEFKSIUsgFCATIAcQTSFCAn8CQAJ9ID9DAAAAAF5FIB5BAkdyRQRAIA1BiAFqIDAgLyAkKAIAQQF0ai8BABAfAkAgDS0AjAEEQCAUIA8gKCBJIEAQNSIGIAZbDQELQwAAAAAMAgtDAAAAACAUIA8gKCBJIEAQNSA6kyBLkyAHID+TkyI/QwAAAABeRQ0BGgsgP0MAAAAAYEUNASA/CyE8IBQtAABBBHZBB3EMAQsgPyE8IBQtAABBBHZBB3EiC0EAIAtBA2tBA08bCyELQwAAAAAhBgJAAkAgFQ0AQwAAAAAhPQJAAkACQAJAAkAgC0EBaw4FAAECBAMGCyA8QwAAAD+UIT0MBQsgPCE9DAQLIBcgCWsiC0EFSQ0CIEIgPCALQQJ1QQFrs5WSIUIMAgsgQiA8IBcgCWtBAnVBAWqzlSI9kiFCDAILIDxDAAAAP5QgFyAJa0ECdbOVIj0gPZIgQpIhQgwBC0MAAAAAIT0LIDogPZIhPSAAEHwhEgJAIAkgF0YiGARAQwAAAAAhP0MAAAAAIToMAQsgF0EEayElIDwgFbOVIU4gMigCACEhQwAAAAAhOkMAAAAAIT8gCSELA0AgDUGIAWogCygCACIOQRRqIhAgISAPECggPUMAAACAIE5DAAAAgCA8QwAAAABeGyJBIA0tAIwBQQNHG5IhPSAIBEACfwJAAkACQAJAIBNBAWsOAwECAwALQQEhFSAOQaADagwDC0EDIRUgDkGoA2oMAgtBACEVIA5BnANqDAELQQIhFSAOQaQDagshKiAOIBVBAnRqICoqAgAgPZI4ApwDCyAlKAIAIRUgDUGIAWogECAxKAIAIA8QKCA9QwAAAIAgQiAOIBVGG5JDAAAAgCBBIA0tAIwBQQNHG5IhPQJAIDRFBEAgPSAQIBNBASA7ECIgECATQQEgOxAhkiAOKgKcAZKSIT0gRCEGDAELIA4gEyA7EF0gPZIhPSASBEAgDhBOIUEgEEEAIA8gOxBBIUMgDioCmAMgEEEAQQEgOxAiIBBBAEEBIDsQIZKSIEEgQ5IiQZMiQyA/ID8gQ10bIEMgPyA/ID9cGyA/ID9bIEMgQ1txGyE/IEEgOiA6IEFdGyBBIDogOiA6XBsgOiA6WyBBIEFbcRshOgwBCyAOIBYgOxBdIkEgBiAGIEFdGyBBIAYgBiAGXBsgBiAGWyBBIEFbcRshBgsgC0EEaiILIBdHDQALCyA/IDqSIAYgEhshQQJ9IDkEQCAAIBYgDyBGIEGSIE0gQBAlIEaTDAELIEQgQSA3GyFBIEQLIT8gH0UEQCAAIBYgDyBGIEGSIE0gQBAlIEaTIUELIEsgPZIhPAJAIAhFDQAgCSELIBgNAANAIAsoAgAiFS8AFkEPcSIORQRAIAAtABVBBHYhDgsCQAJAAkACQCAOQQRrDgIAAQILIA1BiAFqIBVBFGoiECAgKAIAIA8QKEEEIQ4gDS0AjAFBA0YNASANQYgBaiAQIBwoAgAgDxAoIA0tAIwBQQNGDQEgFSAjKAIAQQN0aiIOKgL4AyE9AkACQAJAIA4tAPwDQQFrDgIBAAILIEQgPZRDCtcjPJQhPQsgPiEGID1DAAAAAGANAwsgFSAkKAIAQQJ0aioClAMhBiANIBVB/ABqIg4gFS8BehAgIjogOlsEfSAQIBZBASA7ECIgECAWQQEgOxAhkiAGIA4gFS8BehAgIjqUIAYgOpUgGRuSBSBBCzgCeCANIAYgECATQQEgOxAiIBAgE0EBIDsQIZKSOAKIASANQQA2AmggDUEANgJkIBUgDyATIAcgOyANQegAaiANQYgBahA/IBUgDyAWIEQgOyANQeQAaiANQfgAahA/IA0qAngiOiANKgKIASI9IBNBAUsiGCIOGyEGIB9BAEcgAC8AFUEPcUEER3EiECAZcSA9IDogDhsiOiA6XHIhDiAVIDogBiAPIA4gECAYcSAGIAZcciA7IEVBAUECIAogIiAMED0aID4hBgwCC0EFQQEgFC0AAEEIcRshDgsgFSAWIDsQXSEGIA1BiAFqIBVBFGoiECAgKAIAIhggDxAoID8gBpMhOgJAIA0tAIwBQQNHBEAgHCgCACESDAELIA1BiAFqIBAgHCgCACISIA8QKCANLQCMAUEDRw0AID4gOkMAAAA/lCIGQwAAAAAgBkMAAAAAXhuSIQYMAQsgDUGIAWogECASIA8QKCA+IQYgDS0AjAFBA0YNACANQYgBaiAQIBggDxAoIA0tAIwBQQNGBEAgPiA6QwAAAAAgOkMAAAAAXhuSIQYMAQsCQAJAIA5BAWsOAgIAAQsgPiA6QwAAAD+UkiEGDAELID4gOpIhBgsCfwJAAkACQAJAIBZBAWsOAwECAwALQQEhECAVQaADagwDC0EDIRAgFUGoA2oMAgtBACEQIBVBnANqDAELQQIhECAVQaQDagshDiAVIBBBAnRqIAYgTCAOKgIAkpI4ApwDIAtBBGoiCyAXRw0ACwsgCQRAIAkQJwsgPCBIIDwgSF4bIDwgSCBIIEhcGyBIIEhbIDwgPFtxGyFIIEwgT0MAAAAAIBsbIEGSkiFMIBtBAWohGyANKAJQIgkgEXINAAsLAkAgCEUNACAfRQRAIAAQfEUNAQsgACAWIA8CfSBGIESSIBpFDQAaIAAgFkECdEH8JWooAgBBA3RqIgkqAvgDIQYCQAJAAkAgCS0A/ANBAWsOAgEAAgsgTSAGlEMK1yM8lCEGCyAGQwAAAABgRQ0AIAAgD0GBAiAWQQN0dkEBcSBNIEAQMQwBCyBGIEySCyBHIEAQJSEGQwAAAAAhPCAALwAVQQ9xIQkCQAJAAkACQAJAAkACQAJAAkAgBiBGkyBMkyIGQwAAAABgRQRAQwAAAAAhQyAJQQJrDgICAQcLQwAAAAAhQyAJQQJrDgcBAAUGBAIDBgsgPiAGkiE+DAULID4gBkMAAAA/lJIhPgwECyAGIBuzIjqVITwgPiAGIDogOpKVkiE+DAMLID4gBiAbQQFqs5UiPJIhPgwCCyAbQQJJBEAMAgsgDUGIAWogABAyIAYgG0EBa7OVITwMAgsgBiAbs5UhQwsgDUGIAWogABAyIBtFDQELIBZBAnQiCUHcJWohECAJQfwlaiERIA1BOGohGCANQcgAaiEZIA1B8ABqIRUgDUGQAWohHCANQYABaiEfQQAhEgNAIA1BADYCgAEgDSANKQOIATcDeCAfIA0oApABEDwgDUEANgJwIA0gDSkDeCJWNwNoIBUgDSgCgAEiCxA8IA0oAmwhCQJAAkAgDSgCaCIOBEBDAAAAACE6QwAAAAAhP0MAAAAAIQYMAQtDAAAAACE6QwAAAAAhP0MAAAAAIQYgCUUNAQsDQCAOKALsAyAOKALoAyIOa0ECdSAJTQ0FAkAgDiAJQQJ0aigCACIJLwAVIAktABdBEHRyIhdBgIAwcUGAgBBGIBdBgOAAcUGAwABGcg0AIAkoAtwDIBJHDQIgCUEUaiEOIAkgESgCAEECdGoqApQDIj1DAAAAAGAEfyA9IA4gFkEBIDsQIiAOIBZBASA7ECGSkiI9IAYgBiA9XRsgPSAGIAYgBlwbIAYgBlsgPSA9W3EbIQYgCS0AFgUgF0EIdgtBD3EiFwR/IBcFIAAtABVBBHYLQQVHDQAgFC0AAEEIcUUNACAJEE4gDkEAIA8gOxBBkiI9ID8gPSA/XhsgPSA/ID8gP1wbID8gP1sgPSA9W3EbIj8gCSoCmAMgDkEAQQEgOxAiIA5BAEEBIDsQIZKSID2TIj0gOiA6ID1dGyA9IDogOiA6XBsgOiA6WyA9ID1bcRsiOpIiPSAGIAYgPV0bID0gBiAGIAZcGyAGIAZbID0gPVtxGyEGCyANQQA2AkggDSANKQNoNwNAIBkgDSgCcBA8IA1B6ABqEC4gDSgCSCIJBEADQCAJKAIAIQ4gCRAnIA4iCQ0ACwsgDUEANgJIIA0oAmwiCSANKAJoIg5yDQALCyANIA0pA2g3A4gBIBwgDSgCcBB1IA0gVjcDaCAVIAsQdSA+IE9DAAAAACASG5IhPiBDIAaSIT0gDSgCbCEJAkAgDSgCaCIOIA0oAogBRgRAIAkgDSgCjAFGDQELID4gP5IhQiA+ID2SIUsgPCA9kiEGA0AgDigC7AMgDigC6AMiDmtBAnUgCU0NBQJAIA4gCUECdGooAgAiCS8AFSAJLQAXQRB0ciIXQYCAMHFBgIAQRiAXQYDgAHFBgMAARnINACAJQRRqIQ4CQAJAAkACQAJAAkAgF0EIdkEPcSIXBH8gFwUgAC0AFUEEdgtBAWsOBQEDAgQABgsgFC0AAEEIcQ0ECyAOIBYgDyA7EFEhOiAJIBAoAgBBAnRqID4gOpI4ApwDDAQLIA4gFiAPIDsQYiE/AkACQAJAAkAgFkECaw4CAgABCyAJKgKUAyE6QQIhDgwCC0EBIQ4gCSoCmAMhOgJAIBYOAgIADwtBAyEODAELIAkqApQDITpBACEOCyAJIA5BAnRqIEsgP5MgOpM4ApwDDAMLAkACQAJAAkAgFkECaw4CAgABCyAJKgKUAyE/QQIhDgwCC0EBIQ4gCSoCmAMhPwJAIBYOAgIADgtBAyEODAELIAkqApQDIT9BACEOCyAJIA5BAnRqID4gPSA/k0MAAAA/lJI4ApwDDAILIA4gFiAPIDsQQSE6IAkgECgCAEECdGogPiA6kjgCnAMgCSARKAIAQQN0aiIXKgL4AyE/AkACQAJAIBctAPwDQQFrDgIBAAILIEQgP5RDCtcjPJQhPwsgP0MAAAAAYA0CCwJAAkACfSATQQFNBEAgCSoCmAMgDiAWQQEgOxAiIA4gFkEBIDsQIZKSITogBgwBCyAGITogCSoClAMgDiATQQEgOxAiIA4gE0EBIDsQIZKSCyI/ID9cIAkqApQDIkEgQVxyRQRAID8gQZOLQxe30ThdDQEMAgsgPyA/WyBBIEFbcg0BCyAJKgKYAyJBIEFcIg4gOiA6XHJFBEAgOiBBk4tDF7fROF1FDQEMAwsgOiA6Ww0AIA4NAgsgCSA/IDogD0EAQQAgOyBFQQFBAyAKICIgDBA9GgwBCyAJIEIgCRBOkyAOQQAgDyBEEFGSOAKgAwsgDUEANgI4IA0gDSkDaDcDMCAYIA0oAnAQPCANQegAahAuIA0oAjgiCQRAA0AgCSgCACEOIAkQJyAOIgkNAAsLIA1BADYCOCANKAJsIQkgDSgCaCIOIA0oAogBRw0AIAkgDSgCjAFHDQALCyANKAJwIgkEQANAIAkoAgAhDiAJECcgDiIJDQALCyALBEADQCALKAIAIQkgCxAnIAkiCw0ACwsgPCA+kiA9kiE+IBJBAWoiEiAbRw0ACwsgDSgCkAEiCUUNAANAIAkoAgAhCyAJECcgCyIJDQALCyAAQZQDaiIQIABBAiAPIFAgQCBAECU4AgAgAEGYA2oiESAAQQAgDyBRIEcgQBAlOAIAAkAgEEGBAiATQQN0dkEBcUECdGoCfQJAIB5BAUcEQCAALQAXQQNxIglBAkYgHkECR3INAQsgACATIA8gSCBJIEAQJQwBCyAeQQJHIAlBAkdyDQEgSiAAIA8gEyBIIEkgQBB0Ij4gSiAHkiIGIAYgPl4bID4gBiAGIAZcGyAGIAZbID4gPltxGyIGIAYgSl0bIEogBiAGIAZcGyAGIAZbIEogSltxGws4AgALAkAgEEGBAiAWQQN0dkEBcUECdGoCfQJAIBpBAUcEQCAaQQJHIgkgAC0AF0EDcSILQQJGcg0BCyAAIBYgDyBGIEySIE0gQBAlDAELIAkgC0ECR3INASBGIAAgDyAWIEYgTJIgTSBAEHQiByBGIESSIgYgBiAHXhsgByAGIAYgBlwbIAYgBlsgByAHW3EbIgYgBiBGXRsgRiAGIAYgBlwbIAYgBlsgRiBGW3EbCzgCAAsCQCAIRQ0AAkAgAC8AFUGAgANxQYCAAkcNACANQYgBaiAAEDIDQCANKAKMASIJIA0oAogBIgtyRQRAIA0oApABIglFDQIDQCAJKAIAIQsgCRAnIAsiCQ0ACwwCCyALKALsAyALKALoAyILa0ECdSAJTQ0DIAsgCUECdGooAgAiCS8AFUGA4ABxQYDAAEcEQCAJAn8CQAJAAkAgFkECaw4CAAECCyAJQZQDaiEOIBAqAgAgCSoCnAOTIQZBAAwCCyAJQZQDaiEOIBAqAgAgCSoCpAOTIQZBAgwBCyARKgIAIQYCQAJAIBYOAgABCgsgCUGYA2ohDiAGIAkqAqADkyEGQQEMAQsgCUGYA2ohDiAGIAkqAqgDkyEGQQMLQQJ0aiAGIA4qAgCTOAKcAwsgDUGIAWoQLgwACwALAkAgEyAWckEBcUUNACAWQQFxIRQgE0EBcSEVIA1BiAFqIAAQMgNAIA0oAowBIgkgDSgCiAEiC3JFBEAgDSgCkAEiCUUNAgNAIAkoAgAhCyAJECcgCyIJDQALDAILIAsoAuwDIAsoAugDIgtrQQJ1IAlNDQMCQCALIAlBAnRqKAIAIgkvABUgCS0AF0EQdHIiC0GAgDBxQYCAEEYgC0GA4ABxQYDAAEZyDQAgFQRAAn8CfwJAAkACQCATQQFrDgMAAQINCyAJQZgDaiEOIAlBqANqIQtBASESIBEMAwsgCUGUA2ohDkECIRIgCUGcA2oMAQsgCUGUA2ohDkEAIRIgCUGkA2oLIQsgEAshGyAJIBJBAnRqIBsqAgAgDioCAJMgCyoCAJM4ApwDCyAURQ0AAn8CfwJAAkACQCAWQQFrDgMAAQIMCyAJQZgDaiELIAlBqANqIRJBASEXIBEMAwsgCUGUA2ohCyAJQZwDaiESQQIMAQsgCUGUA2ohCyAJQaQDaiESQQALIRcgEAshDiAJIBdBAnRqIA4qAgAgCyoCAJMgEioCAJM4ApwDCyANQYgBahAuDAALAAsgAC8AFUGA4ABxICJBAUZyRQRAIAAtAABBCHFFDQELIAAgACAeIAQgE0EBSxsgDyAKICIgDEMAAAAAQwAAAAAgOyBFEH4aCyANKAJYIglFDQIDQCAJKAIAIQsgCRAnIAsiCQ0ACwwCCxACAAsgABBeCyANQaABaiQADAELECQACyAAIAM6AKgBIAAgACgC9AMoAgw2AqQBIB0NACAKIAooAggiAyAAKAKsASIOQQFqIgkgAyAJSxs2AgggDkEIRgRAIABBADYCrAFBACEOCyAIBH8gAEHwAmoFIAAgDkEBajYCrAEgACAOQRhsakGwAWoLIgMgBTYCDCADIAQ2AgggAyACOAIEIAMgATgCACADIAAqApQDOAIQIAMgACoCmAM4AhRBACEdCyAIBEAgACAAKQKUAzcCjAMgACAALQAAIgNBAXIiBEH7AXEgBCADQQRxGzoAAAsgACAMNgKgASArIB1Fcgs1AQF/IAEgACgCBCICQQF1aiEBIAAoAgAhACABIAJBAXEEfyABKAIAIABqKAIABSAACxECAAt9ACAAQRRqIgAgAUGBAiACQQN0dkH/AXEgAyAEEC0gACACQQEgBBAiIAAgAkEBIAQQIZKSIQQCQAJAAkACQCAFKAIADgMAAQADCyAGKgIAIgMgAyAEIAMgBF0bIAQgBFwbIQQMAQsgBCAEXA0BIAVBAjYCAAsgBiAEOAIACwuMAQIBfwF9IAAoAuQDRQRAQwAAAAAPCyAAQfwAaiIBIAAvARwQICICIAJbBEAgASAALwEcECAPCwJAIAAoAvQDLQAIQQFxDQAgASAALwEYECAiAiACXA0AIAEgAC8BGBAgQwAAAABdRQ0AIAEgAC8BGBAgjA8LQwAAgD9DAAAAACAAKAL0Ay0ACEEBcRsLcAIBfwF9IwBBEGsiBCQAIARBCGogACABQQJ0QdwlaigCACACEChDAADAfyEFAkACQAJAIAQtAAxBAWsOAgABAgsgBCoCCCEFDAELIAQqAgggA5RDCtcjPJQhBQsgBEEQaiQAIAVDAAAAACAFIAVbGwtHAQF/IAIvAAYiA0EHcQRAIAAgAUHoAGogAxAfDwsgAUHoAGohASACLwAOIgNBB3EEQCAAIAEgAxAfDwsgACABIAIvABAQHwtHAQF/IAIvAAIiA0EHcQRAIAAgAUHoAGogAxAfDwsgAUHoAGohASACLwAOIgNBB3EEQCAAIAEgAxAfDwsgACABIAIvABAQHwt7AAJAAkACQAJAIANBAWsOAgABAgsgAi8ACiIDQQdxRQ0BDAILIAIvAAgiA0EHcUUNAAwBCyACLwAEIgNBB3EEQAwBCyABQegAaiEBIAIvAAwiA0EHcQRAIAAgASADEB8PCyAAIAEgAi8AEBAfDwsgACABQegAaiADEB8LewACQAJAAkACQCADQQFrDgIAAQILIAIvAAgiA0EHcUUNAQwCCyACLwAKIgNBB3FFDQAMAQsgAi8AACIDQQdxBEAMAQsgAUHoAGohASACLwAMIgNBB3EEQCAAIAEgAxAfDwsgACABIAIvABAQHw8LIAAgAUHoAGogAxAfC84BAgN/An0jAEEQayIDJABBASEEIANBCGogAEH8AGoiBSAAIAFBAXRqQe4AaiIBLwEAEB8CQAJAIAMqAggiByACKgIAIgZcBEAgByAHWwRAIAItAAQhAgwCCyAGIAZcIQQLIAItAAQhAiAERQ0AIAMtAAwgAkH/AXFGDQELIAUgASAGIAIQOQNAIAAtAAAiAUEEcQ0BIAAgAUEEcjoAACAAKAIQIgEEQCAAIAERAAALIABBgICA/gc2ApwBIAAoAuQDIgANAAsLIANBEGokAAuFAQIDfwF+AkAgAEKAgICAEFQEQCAAIQUMAQsDQCABQQFrIgEgAEIKgCIFQvYBfiAAfKdBMHI6AAAgAEL/////nwFWIQIgBSEAIAINAAsLIAWnIgIEQANAIAFBAWsiASACQQpuIgNB9gFsIAJqQTByOgAAIAJBCUshBCADIQIgBA0ACwsgAQs3AQJ/QQQQHiICIAE2AgBBBBAeIgMgATYCAEHBOyAAQeI7QfooQb8BIAJB4jtB/ihBwAEgAxAHCw8AIAAgASACQQFBAhCLAQteAQF/IABBADYCDCAAIAM2AhACQCABBEAgAUGAgICABE8NASABQQJ0EB4hBAsgACAENgIAIAAgBCACQQJ0aiICNgIIIAAgBCABQQJ0ajYCDCAAIAI2AgQgAA8LEFgAC3kCAX8BfSMAQRBrIgMkACADQQhqIAAgAUECdEHcJWooAgAgAhBTQwAAwH8hBAJAAkACQCADLQAMQQFrDgIAAQILIAMqAgghBAwBCyADKgIIQwAAAACUQwrXIzyUIQQLIANBEGokACAEQwAAAACXQwAAAAAgBCAEWxsLnAoBC38jAEEQayIIJAAgASABLwAAQXhxIANyIgM7AAACQAJAAkACQAJAAkACQAJAAkACQCADQQhxBEAgA0H//wNxIgZBBHYhBCAGQT9NBH8gACAEQQJ0akEEagUgBEEEayIEIAAoAhgiACgCBCAAKAIAIgBrQQJ1Tw0CIAAgBEECdGoLIAI4AgAMCgsCfyACi0MAAABPXQRAIAKoDAELQYCAgIB4CyIEQf8PakH+H0sgBLIgAlxyRQRAIANBD3FBACAEa0GAEHIgBCACQwAAAABdG0EEdHIhAwwKCyAAIAAvAQAiC0EBajsBACALQYAgTw0DIAtBA00EQCAAIAtBAnRqIAI4AgQMCQsgACgCGCIDRQRAQRgQHiIDQgA3AgAgA0IANwIQIANCADcCCCAAIAM2AhgLAkAgAygCBCIEIAMoAghHBEAgBCACOAIAIAMgBEEEajYCBAwBCyAEIAMoAgAiB2siBEECdSIJQQFqIgZBgICAgARPDQECf0H/////AyAEQQF1IgUgBiAFIAZLGyAEQfz///8HTxsiBkUEQEEAIQUgCQwBCyAGQYCAgIAETw0GIAZBAnQQHiEFIAMoAgQgAygCACIHayIEQQJ1CyEKIAUgCUECdGoiCSACOAIAIAkgCkECdGsgByAEEDMhByADIAUgBkECdGo2AgggAyAJQQRqNgIEIAMoAgAhBCADIAc2AgAgBEUNACAEECMLIAAoAhgiBigCECIDIAYoAhQiAEEFdEcNByADQQFqQQBIDQAgA0H+////A0sNASADIABBBnQiACADQWBxQSBqIgQgACAESxsiAE8NByAAQQBODQILEAIAC0H/////ByEAIANB/////wdPDQULIAhBADYCCCAIQgA3AwAgCCAAEJ8BIAYoAgwhBCAIIAgoAgQiByAGKAIQIgBBH3FqIABBYHFqIgM2AgQgB0UEQCADQQFrIQUMAwsgA0EBayIFIAdBAWtzQR9LDQIgCCgCACEKDAMLQZUlQeEXQSJB3BcQCwALEFgACyAIKAIAIgogBUEFdkEAIANBIU8bQQJ0akEANgIACyAKIAdBA3ZB/P///wFxaiEDAkAgB0EfcSIHRQRAIABBAEwNASAAQSBtIQUgAEEfakE/TwRAIAMgBCAFQQJ0EDMaCyAAIAVBBXRrIgBBAEwNASADIAVBAnQiBWoiAyADKAIAQX9BICAAa3YiAEF/c3EgBCAFaigCACAAcXI2AgAMAQsgAEEATA0AQX8gB3QhDEEgIAdrIQkgAEEgTgRAIAxBf3MhDSADKAIAIQUDQCADIAUgDXEgBCgCACIFIAd0cjYCACADIAMoAgQgDHEgBSAJdnIiBTYCBCAEQQRqIQQgA0EEaiEDIABBP0shDiAAQSBrIQAgDg0ACyAAQQBMDQELIAMgAygCAEF/IAkgCSAAIAAgCUobIgVrdiAMcUF/c3EgBCgCAEF/QSAgAGt2cSIEIAd0cjYCACAAIAVrIgBBAEwNACADIAUgB2pBA3ZB/P///wFxaiIDIAMoAgBBf0EgIABrdkF/c3EgBCAFdnI2AgALIAYoAgwhACAGIAo2AgwgBiAIKAIEIgM2AhAgBiAIKAIINgIUIABFDQAgABAjIAYoAhAhAwsgBiADQQFqNgIQIAYoAgwgA0EDdkH8////AXFqIgAgACgCAEF+IAN3cTYCACABLwAAIQMLIANBB3EgC0EEdHJBCHIhAwsgASADOwAAIAhBEGokAAuPAQIBfwF9IwBBEGsiAyQAIANBCGogAEHoAGogAEHUAEHWACABQf4BcUECRhtqLwEAIgEgAC8BWCABQQdxGxAfQwAAwH8hBAJAAkACQCADLQAMQQFrDgIAAQILIAMqAgghBAwBCyADKgIIIAKUQwrXIzyUIQQLIANBEGokACAEQwAAAACXQwAAAAAgBCAEWxsL2AICBH8BfSMAQSBrIgMkAAJAIAAoAgwiAQRAIAAgACoClAMgACoCmAMgAREnACIFIAVbDQEgA0GqHjYCACAAQQVB2CUgAxAsECQACyADQRBqIAAQMgJAIAMoAhAiAiADKAIUIgFyRQ0AAkADQCABIAIoAuwDIAIoAugDIgJrQQJ1SQRAIAIgAUECdGooAgAiASgC3AMNAyABLwAVIAEtABdBEHRyIgJBgOAAcUGAwABHBEAgAkEIdkEPcSICBH8gAgUgAC0AFUEEdgtBBUYEQCAALQAUQQhxDQQLIAEtAABBAnENAyAEIAEgBBshBAsgA0EQahAuIAMoAhQiASADKAIQIgJyDQEMAwsLEAIACyABIQQLIAMoAhgiAQRAA0AgASgCACECIAEQIyACIgENAAsLIARFBEAgACoCmAMhBQwBCyAEEE4gBCoCoAOSIQULIANBIGokACAFC6EDAQh/AkAgACgC6AMiBSAAKALsAyIHRwRAA0AgACAFKAIAIgIoAuQDRwRAAkAgACgC9AMoAgAiAQRAIAIgACAGIAERBgAiAQ0BC0GIBBAeIgEgAigCEDYCECABIAIpAgg3AgggASACKQIANwIAIAFBFGogAkEUakHoABArGiABQgA3AoABIAFB/ABqIgNBADsBACABQgA3AogBIAFCADcCkAEgAyACQfwAahCgASABQZgBaiACQZgBakHQAhArGiABQQA2AvADIAFCADcC6AMgAigC7AMiAyACKALoAyIERwRAIAMgBGsiBEEASA0FIAEgBBAeIgM2AuwDIAEgAzYC6AMgASADIARqNgLwAyACKALoAyIEIAIoAuwDIghHBEADQCADIAQoAgA2AgAgA0EEaiEDIARBBGoiBCAIRw0ACwsgASADNgLsAwsgASACKQL0AzcC9AMgASACKAKEBDYChAQgASACKQL8AzcC/AMgAUEANgLkAwsgBSABNgIAIAEgADYC5AMLIAZBAWohBiAFQQRqIgUgB0cNAAsLDwsQAgALUAACQAJAAkACQAJAIAIOBAQAAQIDCyAAIAEgAUEwahBDDwsgACABIAFBMGogAxBEDwsgACABIAFBMGoQQg8LECQACyAAIAEgAUEwaiADEEULcAIBfwF9IwBBEGsiBCQAIARBCGogACABQQJ0QdwlaigCACACEDZDAADAfyEFAkACQAJAIAQtAAxBAWsOAgABAgsgBCoCCCEFDAELIAQqAgggA5RDCtcjPJQhBQsgBEEQaiQAIAVDAAAAACAFIAVbGwt5AgF/AX0jAEEQayIDJAAgA0EIaiAAIAFBAnRB7CVqKAIAIAIQU0MAAMB/IQQCQAJAAkAgAy0ADEEBaw4CAAECCyADKgIIIQQMAQsgAyoCCEMAAAAAlEMK1yM8lCEECyADQRBqJAAgBEMAAAAAl0MAAAAAIAQgBFsbC1QAAkACQAJAAkACQCACDgQEAAECAwsgACABIAFBwgBqEEMPCyAAIAEgAUHCAGogAxBEDwsgACABIAFBwgBqEEIPCxAkAAsgACABIAFBwgBqIAMQRQsvACAAIAJFQQF0IgIgASADEGAgACACIAEQS5IgACACIAEgAxB/IAAgAiABEFKSkgvOAQIDfwJ9IwBBEGsiAyQAQQEhBCADQQhqIABB/ABqIgUgACABQQF0akH2AGoiAS8BABAfAkACQCADKgIIIgcgAioCACIGXARAIAcgB1sEQCACLQAEIQIMAgsgBiAGXCEECyACLQAEIQIgBEUNACADLQAMIAJB/wFxRg0BCyAFIAEgBiACEDkDQCAALQAAIgFBBHENASAAIAFBBHI6AAAgACgCECIBBEAgACABEQAACyAAQYCAgP4HNgKcASAAKALkAyIADQALCyADQRBqJAALzgECA38CfSMAQRBrIgMkAEEBIQQgA0EIaiAAQfwAaiIFIAAgAUEBdGpB8gBqIgEvAQAQHwJAAkAgAyoCCCIHIAIqAgAiBlwEQCAHIAdbBEAgAi0ABCECDAILIAYgBlwhBAsgAi0ABCECIARFDQAgAy0ADCACQf8BcUYNAQsgBSABIAYgAhA5A0AgAC0AACIBQQRxDQEgACABQQRyOgAAIAAoAhAiAQRAIAAgAREAAAsgAEGAgID+BzYCnAEgACgC5AMiAA0ACwsgA0EQaiQACwoAIABBMGtBCkkLBQAQAgALBAAgAAsUACAABEAgACAAKAIAKAIEEQAACwsrAQF/IAAoAgwiAQRAIAEQIwsgACgCACIBBEAgACABNgIEIAEQIwsgABAjC4EEAQN/IwBBEGsiAyQAIABCADcCBCAAQcEgOwAVIABCADcCDCAAQoCAgICAgIACNwIYIAAgAC0AF0HgAXE6ABcgACAALQAAQeABcUEFcjoAACAAIAAtABRBgAFxOgAUIABBIGpBAEHOABAqGiAAQgA3AXIgAEGEgBA2AW4gAEEANgF6IABCADcCgAEgAEIANwKIASAAQgA3ApABIABCADcCoAEgAEKAgICAgICA4P8ANwKYASAAQQA6AKgBIABBrAFqQQBBxAEQKhogAEHwAmohBCAAQbABaiECA0AgAkKAgID8i4CAwL9/NwIQIAJCgYCAgBA3AgggAkKAgID8i4CAwL9/NwIAIAJBGGoiAiAERw0ACyAAQoCAgPyLgIDAv383AvACIABCgICA/IuAgMC/fzcCgAMgAEKBgICAEDcC+AIgAEKAgID+h4CA4P8ANwKUAyAAQoCAgP6HgIDg/wA3AowDIABBiANqIgIgAi0AAEH4AXE6AAAgAEGcA2pBAEHYABAqGiAAQQA6AIQEIABBgICA/gc2AoAEIABBADoA/AMgAEGAgID+BzYC+AMgACABNgL0AyABBEAgAS0ACEEBcQRAIAAgAC0AFEHzAXFBCHI6ABQgACAALwAVQfD/A3FBBHI7ABULIANBEGokACAADwsgA0GiGjYCACADEHIQJAALMwAgACABQQJ0QfwlaigCAEECdGoqApQDIABBFGoiACABQQEgAhAiIAAgAUEBIAIQIZKSC44DAQp/IwBB0AJrIgEkACAAKALoAyIDIAAoAuwDIgVHBEAgAUGMAmohBiABQeABaiEHIAFBIGohCCABQRxqIQkgAUEQaiEEA0AgAygCACICLQAXQRB0QYCAMHFBgIAgRgRAIAFBCGpBAEHEAhAqGiABQYCAgP4HNgIMIARBADoACCAEQgA3AgAgCUEAQcQBECoaIAghAANAIABCgICA/IuAgMC/fzcCECAAQoGAgIAQNwIIIABCgICA/IuAgMC/fzcCACAAQRhqIgAgB0cNAAsgAUKAgID8i4CAwL9/NwPwASABQoGAgIAQNwPoASABQoCAgPyLgIDAv383A+ABIAFCgICA/oeAgOD/ADcChAIgAUKAgID+h4CA4P8ANwL8ASABIAEtAPgBQfgBcToA+AEgBkEAQcAAECoaIAJBmAFqIAFBCGpBxAIQKxogAkIANwKMAyACIAItAAAiAEEBciIKQfsBcSAKIABBBHEbOgAAIAIQTyACEF4LIANBBGoiAyAFRw0ACwsgAUHQAmokAAtMAQF/QQEhAQJAIAAtAB5BB3ENACAALQAiQQdxDQAgAC0ALkEHcQ0AIAAtACpBB3ENACAALQAmQQdxDQAgAC0AKEEHcUEARyEBCyABC3YCAX8BfSMAQRBrIgQkACAEQQhqIAAgAUECdEHcJWooAgAgAhBQQwAAwH8hBQJAAkACQCAELQAMQQFrDgIAAQILIAQqAgghBQwBCyAEKgIIIAOUQwrXIzyUIQULIARBEGokACAFQwAAAACXQwAAAAAgBSAFWxsLogQCBn8CfgJ/QQghBAJAAkAgAEFHSw0AA0BBCCAEIARBCE0bIQRB6DopAwAiBwJ/QQggAEEDakF8cSAAQQhNGyIAQf8ATQRAIABBA3ZBAWsMAQsgAEEdIABnIgFrdkEEcyABQQJ0a0HuAGogAEH/H00NABpBPyAAQR4gAWt2QQJzIAFBAXRrQccAaiIBIAFBP08bCyIDrYgiCFBFBEADQCAIIAh6IgiIIQcCfiADIAinaiIDQQR0IgJB6DJqKAIAIgEgAkHgMmoiBkcEQCABIAQgABBjIgUNBSABKAIEIgUgASgCCDYCCCABKAIIIAU2AgQgASAGNgIIIAEgAkHkMmoiAigCADYCBCACIAE2AgAgASgCBCABNgIIIANBAWohAyAHQgGIDAELQeg6Qeg6KQMAQn4gA62JgzcDACAHQgGFCyIIQgBSDQALQeg6KQMAIQcLAkAgB1BFBEBBPyAHeadrIgZBBHQiAkHoMmooAgAhAQJAIAdCgICAgARUDQBB4wAhAyABIAJB4DJqIgJGDQADQCADRQ0BIAEgBCAAEGMiBQ0FIANBAWshAyABKAIIIgEgAkcNAAsgAiEBCyAAQTBqEGQNASABRQ0EIAEgBkEEdEHgMmoiAkYNBANAIAEgBCAAEGMiBQ0EIAEoAggiASACRw0ACwwECyAAQTBqEGRFDQMLQQAhBSAEIARBAWtxDQEgAEFHTQ0ACwsgBQwBC0EACwtwAgF/AX0jAEEQayIEJAAgBEEIaiAAIAFBAnRB7CVqKAIAIAIQKEMAAMB/IQUCQAJAAkAgBC0ADEEBaw4CAAECCyAEKgIIIQUMAQsgBCoCCCADlEMK1yM8lCEFCyAEQRBqJAAgBUMAAAAAIAUgBVsbC6ADAQN/IAEgAEEEaiIEakEBa0EAIAFrcSIFIAJqIAAgACgCACIBakEEa00EfyAAKAIEIgMgACgCCDYCCCAAKAIIIAM2AgQgBCAFRwRAIAAgAEEEaygCAEF+cWsiAyAFIARrIgQgAygCAGoiBTYCACAFQXxxIANqQQRrIAU2AgAgACAEaiIAIAEgBGsiATYCAAsCQCABIAJBGGpPBEAgACACakEIaiIDIAEgAmtBCGsiATYCACABQXxxIANqQQRrIAFBAXI2AgAgAwJ/IAMoAgBBCGsiAUH/AE0EQCABQQN2QQFrDAELIAFnIQQgAUEdIARrdkEEcyAEQQJ0a0HuAGogAUH/H00NABpBPyABQR4gBGt2QQJzIARBAXRrQccAaiIBIAFBP08bCyIBQQR0IgRB4DJqNgIEIAMgBEHoMmoiBCgCADYCCCAEIAM2AgAgAygCCCADNgIEQeg6Qeg6KQMAQgEgAa2GhDcDACAAIAJBCGoiATYCACABQXxxIABqQQRrIAE2AgAMAQsgACABakEEayABNgIACyAAQQRqBSADCwvmAwEFfwJ/QbAwKAIAIgEgAEEHakF4cSIDaiECAkAgA0EAIAEgAk8bDQAgAj8AQRB0SwRAIAIQFkUNAQtBsDAgAjYCACABDAELQfw7QTA2AgBBfwsiAkF/RwRAIAAgAmoiA0EQayIBQRA2AgwgAUEQNgIAAkACf0HgOigCACIABH8gACgCCAVBAAsgAkYEQCACIAJBBGsoAgBBfnFrIgRBBGsoAgAhBSAAIAM2AghBcCAEIAVBfnFrIgAgACgCAGpBBGstAABBAXFFDQEaIAAoAgQiAyAAKAIINgIIIAAoAgggAzYCBCAAIAEgAGsiATYCAAwCCyACQRA2AgwgAkEQNgIAIAIgAzYCCCACIAA2AgRB4DogAjYCAEEQCyACaiIAIAEgAGsiATYCAAsgAUF8cSAAakEEayABQQFyNgIAIAACfyAAKAIAQQhrIgFB/wBNBEAgAUEDdkEBawwBCyABQR0gAWciA2t2QQRzIANBAnRrQe4AaiABQf8fTQ0AGkE/IAFBHiADa3ZBAnMgA0EBdGtBxwBqIgEgAUE/TxsLIgFBBHQiA0HgMmo2AgQgACADQegyaiIDKAIANgIIIAMgADYCACAAKAIIIAA2AgRB6DpB6DopAwBCASABrYaENwMACyACQX9HC80BAgN/An0jAEEQayIDJABBASEEIANBCGogAEH8AGoiBSAAIAFBAXRqQSBqIgEvAQAQHwJAAkAgAyoCCCIHIAIqAgAiBlwEQCAHIAdbBEAgAi0ABCECDAILIAYgBlwhBAsgAi0ABCECIARFDQAgAy0ADCACQf8BcUYNAQsgBSABIAYgAhA5A0AgAC0AACIBQQRxDQEgACABQQRyOgAAIAAoAhAiAQRAIAAgAREAAAsgAEGAgID+BzYCnAEgACgC5AMiAA0ACwsgA0EQaiQAC0ABAX8CQEGsOy0AAEEBcQRAQag7KAIAIQIMAQtBAUGAJxAMIQJBrDtBAToAAEGoOyACNgIACyACIAAgAUEAEBMLzQECA38CfSMAQRBrIgMkAEEBIQQgA0EIaiAAQfwAaiIFIAAgAUEBdGpBMmoiAS8BABAfAkACQCADKgIIIgcgAioCACIGXARAIAcgB1sEQCACLQAEIQIMAgsgBiAGXCEECyACLQAEIQIgBEUNACADLQAMIAJB/wFxRg0BCyAFIAEgBiACEDkDQCAALQAAIgFBBHENASAAIAFBBHI6AAAgACgCECIBBEAgACABEQAACyAAQYCAgP4HNgKcASAAKALkAyIADQALCyADQRBqJAALDwAgASAAKAIAaiACOQMACw0AIAEgACgCAGorAwALCwAgAARAIAAQIwsLxwECBH8CfSMAQRBrIgIkACACQQhqIABB/ABqIgQgAEEeaiIFLwEAEB9BASEDAkACQCACKgIIIgcgASoCACIGXARAIAcgB1sEQCABLQAEIQEMAgsgBiAGXCEDCyABLQAEIQEgA0UNACACLQAMIAFB/wFxRg0BCyAEIAUgBiABEDkDQCAALQAAIgFBBHENASAAIAFBBHI6AAAgACgCECIBBEAgACABEQAACyAAQYCAgP4HNgKcASAAKALkAyIADQALCyACQRBqJAALlgMCA34CfyAAvSICQjSIp0H/D3EiBEH/D0YEQCAARAAAAAAAAPA/oiIAIACjDwsgAkIBhiIBQoCAgICAgIDw/wBYBEAgAEQAAAAAAAAAAKIgACABQoCAgICAgIDw/wBRGw8LAn4gBEUEQEEAIQQgAkIMhiIBQgBZBEADQCAEQQFrIQQgAUIBhiIBQgBZDQALCyACQQEgBGuthgwBCyACQv////////8Hg0KAgICAgICACIQLIQEgBEH/B0oEQANAAkAgAUKAgICAgICACH0iA0IAUw0AIAMiAUIAUg0AIABEAAAAAAAAAACiDwsgAUIBhiEBIARBAWsiBEH/B0oNAAtB/wchBAsCQCABQoCAgICAgIAIfSIDQgBTDQAgAyIBQgBSDQAgAEQAAAAAAAAAAKIPCyABQv////////8HWARAA0AgBEEBayEEIAFCgICAgICAgARUIQUgAUIBhiEBIAUNAAsLIAJCgICAgICAgICAf4MgAUKAgICAgICACH0gBK1CNIaEIAFBASAEa62IIARBAEobhL8LiwEBA38DQCAAQQR0IgFB5DJqIAFB4DJqIgI2AgAgAUHoMmogAjYCACAAQQFqIgBBwABHDQALQTAQZBpBmDtBBjYCAEGcO0EANgIAEJwBQZw7Qcg7KAIANgIAQcg7QZg7NgIAQcw7QcMBNgIAQdA7QQA2AgAQjwFB0DtByDsoAgA2AgBByDtBzDs2AgALjwEBAn8jAEEQayIEJAACfUMAAAAAIAAvABVBgOAAcUUNABogBEEIaiAAQRRqIgBBASACQQJGQQF0IAFB/gFxQQJHGyIFIAIQNgJAIAQtAAxFDQAgBEEIaiAAIAUgAhA2IAQtAAxBA0YNACAAIAEgAiADEIEBDAELIAAgASACIAMQgAGMCyEDIARBEGokACADC4QBAQJ/AkACQCAAKALoAyICIAAoAuwDIgNGDQADQCACKAIAIAFGDQEgAkEEaiICIANHDQALDAELIAIgA0YNACABLQAXQRB0QYCAMHFBgIAgRgRAIAAgACgC4ANBAWs2AuADCyACIAJBBGoiASADIAFrEDMaIAAgA0EEazYC7ANBAQ8LQQALCwBByDEgACABEEkLPAAgAEUEQCACQQVHQQAgAhtFBEBBuDAgAyAEEEkaDwsgAyAEEHAaDwsgACABIAIgAyAEIAAoAgQRDQAaCyYBAX8jAEEQayIBJAAgASAANgIMQbgwQdglIAAQSRogAUEQaiQAC4cDAwN/BXwCfSAAKgKgA7siBiACoCECIAAqApwDuyIHIAGgIQggACgC9AMqAhgiC0MAAAAAXARAIAAqApADuyEJIAAqAowDIQwgACAHIAu7IgFBACAALQAAQRBxIgNBBHYiBBA0OAKcAyAAIAYgAUEAIAQQNDgCoAMgASAMuyIHohBsIgYgBmIiBEUgBplELUMc6+I2Gj9jcUUEQCAEIAZEAAAAAAAA8L+gmUQtQxzr4jYaP2NFciEFCyACIAmgIQogCCAHoCEHAn8gASAJohBsIgYgBmIiBEUEQEEAIAaZRC1DHOviNho/Yw0BGgsgBCAGRAAAAAAAAPC/oJlELUMc6+I2Gj9jRXILIQQgACAHIAEgA0EARyIDIAVxIAMgBUEBc3EQNCAIIAFBACADEDSTOAKMAyAAIAogASADIARxIAMgBEEBc3EQNCACIAFBACADEDSTOAKQAwsgACgC6AMiAyAAKALsAyIARwRAA0AgAygCACAIIAIQcyADQQRqIgMgAEcNAAsLC1UBAX0gAEEUaiIAIAEgAkECSSICIAQgBRA1IQYgACABIAIgBCAFEC0iBUMAAAAAYCADIAVecQR9IAUFIAZDAAAAAGBFBEAgAw8LIAYgAyADIAZdGwsLeAEBfwJAIAAoAgAiAgRAA0AgAUUNAiACIAEoAgQ2AgQgAiABKAIINgIIIAEoAgAhASAAKAIAIQAgAigCACICDQALCyAAIAEQPA8LAkAgAEUNACAAKAIAIgFFDQAgAEEANgIAA0AgASgCACEAIAEQIyAAIgENAAsLC5kCAgZ/AX0gAEEUaiEHQQMhBCAALQAUQQJ2QQNxIQUCQAJ/AkAgAUEBIAAoAuQDGyIIQQJGBEACQCAFQQJrDgIEAAILQQIhBAwDC0ECIQRBACAFQQFLDQEaCyAECyEGIAUhBAsgACAEIAggAyACIARBAkkiBRsQbiEKIAAgBiAIIAIgAyAFGxBuIQMgAEGcA2oiAEEBIAFBAkZBAXQiCCAFG0ECdGogCiAHIAQgASACECKSOAIAIABBAyABQQJHQQF0IgkgBRtBAnRqIAogByAEIAEgAhAhkjgCACAAIAhBASAGQQF2IgQbQQJ0aiADIAcgBiABIAIQIpI4AgAgACAJQQMgBBtBAnRqIAMgByAGIAEgAhAhkjgCAAvUAgEDfyMAQdACayIBJAAgAUEIakEAQcQCECoaIAFBADoAGCABQgA3AxAgAUGAgID+BzYCDCABQRxqQQBBxAEQKhogAUHgAWohAyABQSBqIQIDQCACQoCAgPyLgIDAv383AhAgAkKBgICAEDcCCCACQoCAgPyLgIDAv383AgAgAkEYaiICIANHDQALIAFCgICA/IuAgMC/fzcD8AEgAUKBgICAEDcD6AEgAUKAgID8i4CAwL9/NwPgASABQoCAgP6HgIDg/wA3AoQCIAFCgICA/oeAgOD/ADcC/AEgASABLQD4AUH4AXE6APgBIAFBjAJqQQBBwAAQKhogAEGYAWogAUEIakHEAhArGiAAQgA3AowDIAAgAC0AAEEBcjoAACAAEE8gACgC6AMiAiAAKALsAyIARwRAA0AgAigCABB3IAJBBGoiAiAARw0ACwsgAUHQAmokAAuuAgIKfwJ9IwBBIGsiASQAIAFBgAI7AB4gAEHuAGohByAAQfgDaiEFIABB8gBqIQggAEH2AGohCSAAQfwAaiEDQQAhAANAIAFBEGogAyAJIAFBHmogBGotAAAiAkEBdCIEaiIGLwEAEB8CQAJAIAEtABRFDQAgAUEIaiADIAYvAQAQHyABIAMgBCAIai8BABAfIAEtAAwgAS0ABEcNAAJAIAEqAggiDCAMXCIKIAEqAgAiCyALXHJFBEAgDCALk4tDF7fROF0NAQwCCyAKRSALIAtbcg0BCyABQRBqIAMgBi8BABAfDAELIAFBEGogAyAEIAdqLwEAEB8LIAUgAkEDdGoiAiABLQAUOgAEIAIgASgCEDYCAEEBIQQgACECQQEhACACRQ0ACyABQSBqJAALMgACf0EAIAAvABVBgOAAcUGAwABGDQAaQQEgABA7QwAAAABcDQAaIAAQQEMAAAAAXAsLewEBfSADIASTIgMgA1sEfUMAAAAAIABBFGoiACABIAIgBSAGEDUiByAEkyAHIAdcGyIHQ///f38gACABIAIgBSAGEC0iBSAEkyAFIAVcGyIEIAMgAyAEXhsiAyADIAddGyAHIAMgAyADXBsgAyADWyAHIAdbcRsFIAMLC98FAwR/BX0BfCAJQwAAAABdIAhDAAAAAF1yBH8gDQUgBSESIAEhEyADIRQgByERIAwqAhgiFUMAAAAAXARAIAG7IBW7IhZBAEEAEDQhEyADuyAWQQBBABA0IRQgBbsgFkEAQQAQNCESIAe7IBZBAEEAEDQhEQsCf0EAIAAgBEcNABogEiATk4tDF7fROF0gEyATXCINIBIgElxyRQ0AGkEAIBIgElsNABogDQshDAJAIAIgBkcNACAUIBRcIg0gESARXHJFBEAgESAUk4tDF7fROF0hDwwBCyARIBFbDQAgDSEPC0EBIQ5BASENAkAgDA0AIAEgCpMhAQJAIABFBEAgASABXCIAIAggCFxyRQRAQQAhDCABIAiTi0MXt9E4XUUNAgwDC0EAIQwgCCAIWw0BIAANAgwBCyAAQQJGIQwgAEECRw0AIARBAUcNACABIAhgDQECQCAIIAhcIgAgASABXHJFBEAgASAIk4tDF7fROF1FDQEMAwtBACENIAEgAVsNAkEBIQ0gAA0CC0EAIQ0MAQtBACENIAggCFwiACABIAVdRXINACAMRSABIAFcIhAgBSAFXHIgBEECR3JyDQBBASENIAEgCGANAEEAIQ0gACAQcg0AIAEgCJOLQxe30ThdIQ0LAkAgDw0AIAMgC5MhAQJAAkAgAkUEQCABIAFcIgIgCSAJXHJFBEBBACEAIAEgCZOLQxe30ThdRQ0CDAQLQQAhACAJIAlbDQEgAg0DDAELIAJBAkYhACACQQJHIAZBAUdyDQAgASAJYARADAMLIAkgCVwiACABIAFcckUEQCABIAmTi0MXt9E4XUUNAgwDC0EAIQ4gASABWw0CQQEhDiAADQIMAQsgCSAJXCICIAEgB11Fcg0AIABFIAEgAVwiBCAHIAdcciAGQQJHcnINACABIAlgDQFBACEOIAIgBHINASABIAmTi0MXt9E4XSEODAELQQAhDgsgDSAOcQsL4wEBA38jAEEQayIBJAACQAJAIAAtABRBCHFFDQBBASEDIAAvABVB8AFxQdAARg0AIAEgABAyIAEoAgQhAAJAIAEoAgAiAkUEQEEAIQMgAEUNAQsDQCACKALsAyACKALoAyICa0ECdSAATQ0DIAIgAEECdGooAgAiAC8AFSAALQAXQRB0ciIAQYDgAHFBgMAARyAAQYAecUGACkZxIgMNASABEC4gASgCBCIAIAEoAgAiAnINAAsLIAEoAggiAEUNAANAIAAoAgAhAiAAECMgAiIADQALCyABQRBqJAAgAw8LEAIAC7IBAQR/AkACQCAAKAIEIgMgACgCACIEKALsAyAEKALoAyIBa0ECdUkEQCABIANBAnRqIQIDQCACKAIAIgEtABdBEHRBgIAwcUGAgCBHDQMgASgC7AMgASgC6ANGDQJBDBAeIgIgBDYCBCACIAM2AgggAiAAKAIINgIAQQAhAyAAQQA2AgQgACABNgIAIAAgAjYCCCABIQQgASgC6AMiAiABKALsA0cNAAsLEAIACyAAEC4LC4wQAgx/B30jAEEgayINJAAgDUEIaiABEDIgDSgCCCIOIA0oAgwiDHIEQCADQQEgAxshFSAAQRRqIRQgBUEBaiEWA0ACQAJAAn8CQAJAAkACQAJAIAwgDigC7AMgDigC6AMiDmtBAnVJBEAgDiAMQQJ0aigCACILLwAVIAstABdBEHRyIgxBgIAwcUGAgBBGDQgCQAJAIAxBDHZBA3EOAwEKAAoLIAkhFyAKIRogASgC9AMtABRBBHFFBEAgACoClAMgFEECQQEQMCAUQQJBARAvkpMhFyAAKgKYAyAUQQBBARAwIBRBAEEBEC+SkyEaCyALQRRqIQ8gAS0AFEECdkEDcSEQAkACfwJAIANBAkciE0UEQEEAIQ5BAyEMAkAgEEECaw4CBAACC0ECIQwMAwtBAiEMQQAgEEEBSw0BGgsgDAshDiAQIQwLIA9BAkEBIBcQIiAPQQJBASAXECGSIR0gD0EAQQEgFxAiIRwgD0EAQQEgFxAhIRsgCyoC+AMhGAJAAkACQAJAIAstAPwDQQFrDgIBAAILIBggF5RDCtcjPJQhGAsgGEMAAAAAYEUNACAdIAsgA0EAIBcgFxAxkiEYDAELIA1BGGogDyALQTJqIhAgAxBFQwAAwH8hGCANLQAcRQ0AIA1BGGogDyAQIAMQRCANLQAcRQ0AIA1BGGogDyAQIAMQRSANLQAcQQNGDQAgDUEYaiAPIBAgAxBEIA0tABxBA0YNACALQQIgAyAAKgKUAyAUQQIgAxBLIBRBAiADEFKSkyAPQQIgAyAXEFEgD0ECIAMgFxCDAZKTIBcgFxAlIRgLIBwgG5IhHCALKgKABCEZAkACQAJAIAstAIQEQQFrDgIBAAILIBkgGpRDCtcjPJQhGQsgGUMAAAAAYEUNACAcIAsgA0EBIBogFxAxkiEZDAMLIA1BGGogDyALQTJqIhAQQwJAIA0tABxFDQAgDUEYaiAPIBAQQiANLQAcRQ0AIA1BGGogDyAQEEMgDS0AHEEDRg0AIA1BGGogDyAQEEIgDS0AHEEDRg0AIAtBACADIAAqApgDIBRBACADEEsgFEEAIAMQUpKTIA9BACADIBoQUSAPQQAgAyAaEIMBkpMgGiAXECUhGQwDC0MAAMB/IRkgGCAYXA0GIAtB/ABqIhAgC0H6AGoiEi8BABAgIhsgG1sNAwwFCyALLQAAQQhxDQggCxBPIAAgCyACIAstABRBA3EiDCAVIAwbIAQgFiAGIAsqApwDIAeSIAsqAqADIAiSIAkgChB+IBFyIQxBACERIAxBAXFFDQhBASERIAsgCy0AAEEBcjoAAAwICxACAAsgGCAYXCAZIBlcRg0BIAtB/ABqIhAgC0H6AGoiEi8BABAgIhsgG1wNASAYIBhcBEAgGSAckyAQIAsvAXoQIJQgHZIhGAwCCyAZIBlbDQELIBwgGCAdkyAQIBIvAQAQIJWSIRkLIBggGFwNASAZIBlbDQMLQQAMAQtBAQshEiALIBcgGCACQQFHIAxBAklxIBdDAAAAAF5xIBJxIhAbIBkgA0ECIBIgEBsgGSAZXCAXIBpBAEEGIAQgBSAGED0aIAsqApQDIA9BAkEBIBcQIiAPQQJBASAXECGSkiEYIAsqApgDIA9BAEEBIBcQIiAPQQBBASAXECGSkiEZC0EBIRAgCyAYIBkgA0EAQQAgFyAaQQFBASAEIAUgBhA9GiAAIAEgCyADIAxBASAXIBoQggEgACABIAsgAyAOQQAgFyAaEIIBIBFBAXFFBEAgCy0AAEEBcSEQCyABLQAUIhJBAnZBA3EhDAJAAn8CQAJAAkACQAJAAkACQAJAAkACfwJAIBNFBEBBACERQQMhDiAMQQJrDgIDDQELQQIhDkEAIAxBAUsNARoLIA4LIREgEkEEcUUNBCASQQhxRQ0BIAwhDgsgASEMIA8QXw0BDAILAkAgCy0ANEEHcQ0AIAstADhBB3ENACALLQBCQQdxDQAgDCEOIAEhDCALQUBrLwEAQQdxRQ0CDAELIAwhDgsgACEMCwJ/AkACQAJAIA5BAWsOAwABAgULIAtBmANqIQ4gC0GoA2ohE0EBIRIgDEGYA2oMAgsgC0GUA2ohDiALQZwDaiETQQIhEiAMQZQDagwBCyALQZQDaiEOIAtBpANqIRNBACESIAxBlANqCyEMIAsgEkECdGogDCoCACAOKgIAkyATKgIAkzgCnAMLIBFBAXFFDQUCQAJAIBFBAnEEQCABIQwgDxBfDQEMAgsgCy0ANEEHcQ0AIAstADhBB3ENACALLQBCQQdxDQAgASEMIAtBQGsvAQBBB3FFDQELIAAhDAsgEUEBaw4DAQIDAAsQJAALIAtBmANqIREgC0GoA2ohDkEBIRMgDEGYA2oMAgsgC0GUA2ohESALQZwDaiEOQQIhEyAMQZQDagwBCyALQZQDaiERIAtBpANqIQ5BACETIAxBlANqCyEMIAsgE0ECdGogDCoCACARKgIAkyAOKgIAkzgCnAMLIAsqAqADIRsgCyoCnAMgB0MAAAAAIA8QXxuTIRcCfQJAIAstADRBB3ENACALLQA4QQdxDQAgCy0AQkEHcQ0AIAtBQGsvAQBBB3ENAEMAAAAADAELIAgLIRogCyAXOAKcAyALIBsgGpM4AqADIBAhEQsgDUEIahAuIA0oAgwiDCANKAIIIg5yDQALCyANKAIQIgwEQANAIAwoAgAhACAMECMgACIMDQALCyANQSBqJAAgEUEBcQt2AgF/AX0jAEEQayIEJAAgBEEIaiAAIAFBAnRB7CVqKAIAIAIQUEMAAMB/IQUCQAJAAkAgBC0ADEEBaw4CAAECCyAEKgIIIQUMAQsgBCoCCCADlEMK1yM8lCEFCyAEQRBqJAAgBUMAAAAAl0MAAAAAIAUgBVsbC3gCAX8BfSMAQRBrIgQkACAEQQhqIABBAyACQQJHQQF0IAFB/gFxQQJHGyACEDZDAADAfyEFAkACQAJAIAQtAAxBAWsOAgABAgsgBCoCCCEFDAELIAQqAgggA5RDCtcjPJQhBQsgBEEQaiQAIAVDAAAAACAFIAVbGwt4AgF/AX0jAEEQayIEJAAgBEEIaiAAQQEgAkECRkEBdCABQf4BcUECRxsgAhA2QwAAwH8hBQJAAkACQCAELQAMQQFrDgIAAQILIAQqAgghBQwBCyAEKgIIIAOUQwrXIzyUIQULIARBEGokACAFQwAAAAAgBSAFWxsLoA0BBH8jAEEQayIJJAAgCUEIaiACQRRqIgggA0ECRkEBdEEBIARB/gFxQQJGIgobIgsgAxA2IAYgByAKGyEHAkACQAJAAkACQAJAIAktAAxFDQAgCUEIaiAIIAsgAxA2IAktAAxBA0YNACAIIAQgAyAHEIEBIABBFGogBCADEDCSIAggBCADIAcQIpIhBkEBIQMCQAJ/AkACQAJAAkAgBA4EAgMBAAcLQQIhAwwBC0EAIQMLIAMgC0YNAgJAAkAgBA4EAgIAAQYLIABBlANqIQNBAAwCCyAAQZQDaiEDQQAMAQsgAEGYA2ohA0EBCyEAIAMqAgAgAiAAQQJ0aioClAOTIAaTIQYLIAIgBEECdEHcJWooAgBBAnRqIAY4ApwDDAULIAlBCGogCCADQQJHQQF0QQMgChsiCiADEDYCQCAJLQAMRQ0AIAlBCGogCCAKIAMQNiAJLQAMQQNGDQACfwJAAkACQCAEDgQCAgABBQsgAEGUA2ohBUEADAILIABBlANqIQVBAAwBCyAAQZgDaiEFQQELIQEgBSoCACACQZQDaiIFIAFBAnRqKgIAkyAAQRRqIAQgAxAvkyAIIAQgAyAHECGTIAggBCADIAcQgAGTIQZBASEDAkACfwJAAkACQAJAIAQOBAIDAQAHC0ECIQMMAQtBACEDCyADIAtGDQICQAJAIAQOBAICAAEGCyAAQZQDaiEDQQAMAgsgAEGUA2ohA0EADAELIABBmANqIQNBAQshACADKgIAIAUgAEECdGoqAgCTIAaTIQYLIAIgBEECdEHcJWooAgBBAnRqIAY4ApwDDAULAkACQAJAIAUEQCABLQAUQQR2QQdxIgBBBUsNCEEBIAB0IgBBMnENASAAQQlxBEAgBEECdEHcJWooAgAhACAIIAQgAyAGEEEgASAAQQJ0IgBqIgEqArwDkiEGIAAgAmogAigC9AMtABRBAnEEfSAGBSAGIAEqAswDkgs4ApwDDAkLIAEgBEECdEHsJWooAgBBAnRqIgAqArwDIAggBCADIAYQYpIhBiACKAL0Ay0AFEECcUUEQCAGIAAqAswDkiEGCwJAAkACQAJAIAQOBAEBAgAICyABKgKUAyACKgKUA5MhB0ECIQMMAgsgASoCmAMgAioCmAOTIQdBASEDAkAgBA4CAgAHC0EDIQMMAQsgASoClAMgAioClAOTIQdBACEDCyACIANBAnRqIAcgBpM4ApwDDAgLIAIvABZBD3EiBUUEQCABLQAVQQR2IQULIAVBBUYEQCABLQAUQQhxRQ0CCyABLwAVQYCAA3FBgIACRgRAIAVBAmsOAgEHAwsgBUEISw0HQQEgBXRB8wNxDQYgBUECRw0CC0EAIQACfQJ/AkACQAJAAkACfwJAAkACQCAEDgQCAgABBAsgASoClAMhB0ECIQAgAUG8A2oMAgsgASoClAMhByABQcQDagwBCyABKgKYAyEHAkACQCAEDgIAAQMLQQMhACABQcADagwBC0EBIQAgAUHIA2oLIQUgByAFKgIAkyABQbwDaiIIIABBAnRqKgIAkyIHIAIoAvQDLQAUQQJxDQUaAkAgBA4EAAIDBAELQQMhACABQdADagwECxAkAAtBASEAIAFB2ANqDAILQQIhACABQcwDagwBC0EAIQAgAUHUA2oLIQUgByAFKgIAkyABIABBAnRqKgLMA5MLIAIgBEECdCIFQfwlaigCAEECdGoqApQDIAJBFGoiACAEQQEgBhAiIAAgBEEBIAYQIZKSk0MAAAA/lCAIIAVB3CVqKAIAIgVBAnRqKgIAkiAAIAQgAyAGEEGSIQYgAiAFQQJ0aiACKAL0Ay0AFEECcQR9IAYFIAYgASAFQQJ0aioCzAOSCzgCnAMMBgsgAS8AFUGAgANxQYCAAkcNBAsgASAEQQJ0QewlaigCAEECdGoiACoCvAMgCCAEIAMgBhBikiEGIAIoAvQDLQAUQQJxRQRAIAYgACoCzAOSIQYLAkACQCAEDgQBAQMAAgsgASoClAMgAioClAOTIQdBAiEDDAMLIAEqApgDIAIqApgDkyEHQQEhAwJAIAQOAgMAAQtBAyEDDAILECQACyABKgKUAyACKgKUA5MhB0EAIQMLIAIgA0ECdGogByAGkzgCnAMMAQsgBEECdEHcJWooAgAhACAIIAQgAyAGEEEgASAAQQJ0IgBqIgEqArwDkiEGIAAgAmogAigC9AMtABRBAnEEfSAGBSAGIAEqAswDkgs4ApwDCyAJQRBqJAALcAIBfwF9IwBBEGsiBCQAIARBCGogACABQQJ0QewlaigCACACEDZDAADAfyEFAkACQAJAIAQtAAxBAWsOAgABAgsgBCoCCCEFDAELIAQqAgggA5RDCtcjPJQhBQsgBEEQaiQAIAVDAAAAACAFIAVbGwscACAAIAFBCCACpyACQiCIpyADpyADQiCIpxAVCwUAEFgACzkAIABFBEBBAA8LAn8gAUGAf3FBgL8DRiABQf8ATXJFBEBB/DtBGTYCAEF/DAELIAAgAToAAEEBCwvEAgACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQCABQQlrDhIACgsMCgsCAwQFDAsMDAoLBwgJCyACIAIoAgAiAUEEajYCACAAIAEoAgA2AgAPCwALIAIgAigCACIBQQRqNgIAIAAgATIBADcDAA8LIAIgAigCACIBQQRqNgIAIAAgATMBADcDAA8LIAIgAigCACIBQQRqNgIAIAAgATAAADcDAA8LIAIgAigCACIBQQRqNgIAIAAgATEAADcDAA8LAAsgAiACKAIAQQdqQXhxIgFBCGo2AgAgACABKwMAOQMADwsgACACIAMRAQALDwsgAiACKAIAIgFBBGo2AgAgACABNAIANwMADwsgAiACKAIAIgFBBGo2AgAgACABNQIANwMADwsgAiACKAIAQQdqQXhxIgFBCGo2AgAgACABKQMANwMAC84BAgN/An0jAEEQayIDJABBASEEIANBCGogAEH8AGoiBSAAIAFBAXRqQegAaiIBLwEAEB8CQAJAIAMqAggiByACKgIAIgZcBEAgByAHWwRAIAItAAQhAgwCCyAGIAZcIQQLIAItAAQhAiAERQ0AIAMtAAwgAkH/AXFGDQELIAUgASAGIAIQOQNAIAAtAAAiAUEEcQ0BIAAgAUEEcjoAACAAKAIQIgEEQCAAIAERAAALIABBgICA/gc2ApwBIAAoAuQDIgANAAsLIANBEGokAAtdAQR/IAAoAgAhAgNAIAIsAAAiAxBXBEBBfyEEIAAgAkEBaiICNgIAIAFBzJmz5gBNBH9BfyADQTBrIgMgAUEKbCIEaiADIARB/////wdzShsFIAQLIQEMAQsLIAELrhQCEn8BfiMAQdAAayIIJAAgCCABNgJMIAhBN2ohFyAIQThqIRQCQAJAAkACQANAIAEhDSAHIA5B/////wdzSg0BIAcgDmohDgJAAkACQCANIgctAAAiCQRAA0ACQAJAIAlB/wFxIgFFBEAgByEBDAELIAFBJUcNASAHIQkDQCAJLQABQSVHBEAgCSEBDAILIAdBAWohByAJLQACIQogCUECaiIBIQkgCkElRg0ACwsgByANayIHIA5B/////wdzIhhKDQcgAARAIAAgDSAHECYLIAcNBiAIIAE2AkwgAUEBaiEHQX8hEgJAIAEsAAEiChBXRQ0AIAEtAAJBJEcNACABQQNqIQcgCkEwayESQQEhFQsgCCAHNgJMQQAhDAJAIAcsAAAiCUEgayIBQR9LBEAgByEKDAELIAchCkEBIAF0IgFBidEEcUUNAANAIAggB0EBaiIKNgJMIAEgDHIhDCAHLAABIglBIGsiAUEgTw0BIAohB0EBIAF0IgFBidEEcQ0ACwsCQCAJQSpGBEACfwJAIAosAAEiARBXRQ0AIAotAAJBJEcNACABQQJ0IARqQcABa0EKNgIAIApBA2ohCUEBIRUgCiwAAUEDdCADakGAA2soAgAMAQsgFQ0GIApBAWohCSAARQRAIAggCTYCTEEAIRVBACETDAMLIAIgAigCACIBQQRqNgIAQQAhFSABKAIACyETIAggCTYCTCATQQBODQFBACATayETIAxBgMAAciEMDAELIAhBzABqEIkBIhNBAEgNCCAIKAJMIQkLQQAhB0F/IQsCfyAJLQAAQS5HBEAgCSEBQQAMAQsgCS0AAUEqRgRAAn8CQCAJLAACIgEQV0UNACAJLQADQSRHDQAgAUECdCAEakHAAWtBCjYCACAJQQRqIQEgCSwAAkEDdCADakGAA2soAgAMAQsgFQ0GIAlBAmohAUEAIABFDQAaIAIgAigCACIKQQRqNgIAIAooAgALIQsgCCABNgJMIAtBf3NBH3YMAQsgCCAJQQFqNgJMIAhBzABqEIkBIQsgCCgCTCEBQQELIQ8DQCAHIRFBHCEKIAEiECwAACIHQfsAa0FGSQ0JIBBBAWohASAHIBFBOmxqQf8qai0AACIHQQFrQQhJDQALIAggATYCTAJAAkAgB0EbRwRAIAdFDQsgEkEATgRAIAQgEkECdGogBzYCACAIIAMgEkEDdGopAwA3A0AMAgsgAEUNCCAIQUBrIAcgAiAGEIcBDAILIBJBAE4NCgtBACEHIABFDQcLIAxB//97cSIJIAwgDEGAwABxGyEMQQAhEkGPCSEWIBQhCgJAAkACQAJ/AkACQAJAAkACfwJAAkACQAJAAkACQAJAIBAsAAAiB0FfcSAHIAdBD3FBA0YbIAcgERsiB0HYAGsOIQQUFBQUFBQUFA4UDwYODg4UBhQUFBQCBQMUFAkUARQUBAALAkAgB0HBAGsOBw4UCxQODg4ACyAHQdMARg0JDBMLIAgpA0AhGUGPCQwFC0EAIQcCQAJAAkACQAJAAkACQCARQf8BcQ4IAAECAwQaBQYaCyAIKAJAIA42AgAMGQsgCCgCQCAONgIADBgLIAgoAkAgDqw3AwAMFwsgCCgCQCAOOwEADBYLIAgoAkAgDjoAAAwVCyAIKAJAIA42AgAMFAsgCCgCQCAOrDcDAAwTC0EIIAsgC0EITRshCyAMQQhyIQxB+AAhBwsgFCENIAgpA0AiGVBFBEAgB0EgcSEQA0AgDUEBayINIBmnQQ9xQZAvai0AACAQcjoAACAZQg9WIQkgGUIEiCEZIAkNAAsLIAxBCHFFIAgpA0BQcg0DIAdBBHZBjwlqIRZBAiESDAMLIBQhByAIKQNAIhlQRQRAA0AgB0EBayIHIBmnQQdxQTByOgAAIBlCB1YhDSAZQgOIIRkgDQ0ACwsgByENIAxBCHFFDQIgCyAUIA1rIgdBAWogByALSBshCwwCCyAIKQNAIhlCAFMEQCAIQgAgGX0iGTcDQEEBIRJBjwkMAQsgDEGAEHEEQEEBIRJBkAkMAQtBkQlBjwkgDEEBcSISGwshFiAZIBQQRyENCyAPQQAgC0EASBsNDiAMQf//e3EgDCAPGyEMIAgpA0AiGUIAUiALckUEQCAUIQ1BACELDAwLIAsgGVAgFCANa2oiByAHIAtIGyELDAsLQQAhDAJ/Qf////8HIAsgC0H/////B08bIgoiEUEARyEQAkACfwJAAkAgCCgCQCIHQY4lIAcbIg0iD0EDcUUgEUVyDQADQCAPLQAAIgxFDQIgEUEBayIRQQBHIRAgD0EBaiIPQQNxRQ0BIBENAAsLIBBFDQICQCAPLQAARSARQQRJckUEQANAIA8oAgAiB0F/cyAHQYGChAhrcUGAgYKEeHENAiAPQQRqIQ8gEUEEayIRQQNLDQALCyARRQ0DC0EADAELQQELIRADQCAQRQRAIA8tAAAhDEEBIRAMAQsgDyAMRQ0CGiAPQQFqIQ8gEUEBayIRRQ0BQQAhEAwACwALQQALIgcgDWsgCiAHGyIHIA1qIQogC0EATgRAIAkhDCAHIQsMCwsgCSEMIAchCyAKLQAADQ0MCgsgCwRAIAgoAkAMAgtBACEHIABBICATQQAgDBApDAILIAhBADYCDCAIIAgpA0A+AgggCCAIQQhqIgc2AkBBfyELIAcLIQlBACEHAkADQCAJKAIAIg1FDQEgCEEEaiANEIYBIgpBAEgiDSAKIAsgB2tLckUEQCAJQQRqIQkgCyAHIApqIgdLDQEMAgsLIA0NDQtBPSEKIAdBAEgNCyAAQSAgEyAHIAwQKSAHRQRAQQAhBwwBC0EAIQogCCgCQCEJA0AgCSgCACINRQ0BIAhBBGogDRCGASINIApqIgogB0sNASAAIAhBBGogDRAmIAlBBGohCSAHIApLDQALCyAAQSAgEyAHIAxBgMAAcxApIBMgByAHIBNIGyEHDAgLIA9BACALQQBIGw0IQT0hCiAAIAgrA0AgEyALIAwgByAFERwAIgdBAE4NBwwJCyAIIAgpA0A8ADdBASELIBchDSAJIQwMBAsgBy0AASEJIAdBAWohBwwACwALIAANByAVRQ0CQQEhBwNAIAQgB0ECdGooAgAiAARAIAMgB0EDdGogACACIAYQhwFBASEOIAdBAWoiB0EKRw0BDAkLC0EBIQ4gB0EKTw0HA0AgBCAHQQJ0aigCAA0BIAdBAWoiB0EKRw0ACwwHC0EcIQoMBAsgCyAKIA1rIhAgCyAQShsiCSASQf////8Hc0oNAkE9IQogEyAJIBJqIgsgCyATSBsiByAYSg0DIABBICAHIAsgDBApIAAgFiASECYgAEEwIAcgCyAMQYCABHMQKSAAQTAgCSAQQQAQKSAAIA0gEBAmIABBICAHIAsgDEGAwABzECkMAQsLQQAhDgwDC0E9IQoLQfw7IAo2AgALQX8hDgsgCEHQAGokACAOC9kCAQR/IwBB0AFrIgUkACAFIAI2AswBIAVBoAFqIgJBAEEoECoaIAUgBSgCzAE2AsgBAkBBACABIAVByAFqIAVB0ABqIAIgAyAEEIoBQQBIBEBBfyEEDAELQQEgBiAAKAJMQQBOGyEGIAAoAgAhByAAKAJIQQBMBEAgACAHQV9xNgIACwJ/AkACQCAAKAIwRQRAIABB0AA2AjAgAEEANgIcIABCADcDECAAKAIsIQggACAFNgIsDAELIAAoAhANAQtBfyAAEJ0BDQEaCyAAIAEgBUHIAWogBUHQAGogBUGgAWogAyAEEIoBCyECIAgEQCAAQQBBACAAKAIkEQYAGiAAQQA2AjAgACAINgIsIABBADYCHCAAKAIUIQEgAEIANwMQIAJBfyABGyECCyAAIAAoAgAiACAHQSBxcjYCAEF/IAIgAEEgcRshBCAGRQ0ACyAFQdABaiQAIAQLfwIBfwF+IAC9IgNCNIinQf8PcSICQf8PRwR8IAJFBEAgASAARAAAAAAAAAAAYQR/QQAFIABEAAAAAAAA8EOiIAEQjAEhACABKAIAQUBqCzYCACAADwsgASACQf4HazYCACADQv////////+HgH+DQoCAgICAgIDwP4S/BSAACwsVACAARQRAQQAPC0H8OyAANgIAQX8LzgECA38CfSMAQRBrIgMkAEEBIQQgA0EIaiAAQfwAaiIFIAAgAUEBdGpBxABqIgEvAQAQHwJAAkAgAyoCCCIHIAIqAgAiBlwEQCAHIAdbBEAgAi0ABCECDAILIAYgBlwhBAsgAi0ABCECIARFDQAgAy0ADCACQf8BcUYNAQsgBSABIAYgAhA5A0AgAC0AACIBQQRxDQEgACABQQRyOgAAIAAoAhAiAQRAIAAgAREAAAsgAEGAgID+BzYCnAEgACgC5AMiAA0ACwsgA0EQaiQAC9EDAEHUO0GoHBAcQdU7QYoWQQFBAUEAEBtB1jtB/RJBAUGAf0H/ABAEQdc7QfYSQQFBgH9B/wAQBEHYO0H0EkEBQQBB/wEQBEHZO0GUCkECQYCAfkH//wEQBEHaO0GLCkECQQBB//8DEARB2ztBsQpBBEGAgICAeEH/////BxAEQdw7QagKQQRBAEF/EARB3TtB+BhBBEGAgICAeEH/////BxAEQd47Qe8YQQRBAEF/EARB3ztBjxBCgICAgICAgICAf0L///////////8AEIQBQeA7QY4QQgBCfxCEAUHhO0GIEEEEEA1B4jtB9BtBCBANQeM7QaQZEA5B5DtBmSIQDkHlO0EEQZcZEAhB5jtBAkGwGRAIQec7QQRBvxkQCEHoO0GPFhAaQek7QQBB1CEQAUHqO0EAQboiEAFB6ztBAUHyIRABQew7QQJB5B4QAUHtO0EDQYMfEAFB7jtBBEGrHxABQe87QQVByB8QAUHwO0EEQd8iEAFB8TtBBUH9IhABQeo7QQBBriAQAUHrO0EBQY0gEAFB7DtBAkHwIBABQe07QQNBziAQAUHuO0EEQbMhEAFB7ztBBUGRIRABQfI7QQZB7h8QAUHzO0EHQaQjEAELJQAgAEH0JjYCACAALQAEBEAgACgCCEH9DxBmCyAAKAIIEAYgAAsDAAALJQAgAEHsJzYCACAALQAEBEAgACgCCEH9DxBmCyAAKAIIEAYgAAs3AQJ/QQQQHiICIAE2AgBBBBAeIgMgATYCAEGjOyAAQeI7QfooQcEBIAJB4jtB/ihBwgEgAxAHCzcBAX8gASAAKAIEIgNBAXVqIQEgACgCACEAIAEgAiADQQFxBH8gASgCACAAaigCAAUgAAsRBQALOQEBfyABIAAoAgQiBEEBdWohASAAKAIAIQAgASACIAMgBEEBcQR/IAEoAgAgAGooAgAFIAALEQMACwkAIAEgABEAAAsHACAAEQ4ACzUBAX8gASAAKAIEIgJBAXVqIQEgACgCACEAIAEgAkEBcQR/IAEoAgAgAGooAgAFIAALEQAACzABAX8jAEEQayICJAAgAiABNgIIIAJBCGogABECACEAIAIoAggQBiACQRBqJAAgAAsMACABIAAoAgARAAALCQAgAEEBOgAEC9coAQJ/QaA7QaE7QaI7QQBBjCZBB0GPJkEAQY8mQQBB2RZBkSZBCBAFQQgQHiIAQoiAgIAQNwMAQaA7QZcbQQZBoCZBuCZBCSAAQQEQAEGkO0GlO0GmO0GgO0GMJkEKQYwmQQtBjCZBDEG4EUGRJkENEAVBBBAeIgBBDjYCAEGkO0HoFEECQcAmQcgmQQ8gAEEAEABBoDtBowxBAkHMJkHUJkEQQREQA0GgO0GAHEEDQaQnQbAnQRJBExADQbg7Qbk7Qbo7QQBBjCZBFEGPJkEAQY8mQQBB6RZBkSZBFRAFQQgQHiIAQoiAgIAQNwMAQbg7QegcQQJBuCdByCZBFiAAQQEQAEG7O0G8O0G9O0G4O0GMJkEXQYwmQRhBjCZBGUHPEUGRJkEaEAVBBBAeIgBBGzYCAEG7O0HoFEECQcAnQcgmQRwgAEEAEABBuDtBowxBAkHIJ0HUJkEdQR4QA0G4O0GAHEEDQaQnQbAnQRJBHxADQb47Qb87QcA7QQBBjCZBIEGPJkEAQY8mQQBB2hpBkSZBIRAFQb47QQFB+CdBjCZBIkEjEA9BvjtBkBtBAUH4J0GMJkEiQSMQA0G+O0HpCEECQfwnQcgmQSRBJRADQQgQHiIAQQA2AgQgAEEmNgIAQb47Qa0cQQRBkChBoChBJyAAQQAQAEEIEB4iAEEANgIEIABBKDYCAEG+O0GkEUEDQagoQbQoQSkgAEEAEABBCBAeIgBBADYCBCAAQSo2AgBBvjtByB1BA0G8KEHIKEErIABBABAAQQgQHiIAQQA2AgQgAEEsNgIAQb47QaYQQQNB0ChByChBLSAAQQAQAEEIEB4iAEEANgIEIABBLjYCAEG+O0HLHEEDQdwoQbAnQS8gAEEAEABBCBAeIgBBADYCBCAAQTA2AgBBvjtB0h1BAkHoKEHUJkExIABBABAAQQgQHiIAQQA2AgQgAEEyNgIAQb47QZcQQQJB8ChB1CZBMyAAQQAQAEHBO0GECkH4KEE0QZEmQTUQCkHiD0EAEEhB6g5BCBBIQYITQRAQSEHxFUEYEEhBgxdBIBBIQfAOQSgQSEHBOxAJQaM7Qf8aQfgoQTZBkSZBNxAKQYMXQQAQkwFB8A5BCBCTAUGjOxAJQcI7QYobQfgoQThBkSZBORAKQQQQHiIAQQg2AgBBBBAeIgFBCDYCAEHCO0GEG0HiO0H6KEE6IABB4jtB/ihBOyABEAdBBBAeIgBBADYCAEEEEB4iAUEANgIAQcI7QeUOQds7QdQmQTwgAEHbO0HIKEE9IAEQB0HCOxAJQcM7QcQ7QcU7QQBBjCZBPkGPJkEAQY8mQQBB+xtBkSZBPxAFQcM7QQFBhClBjCZBwABBwQAQD0HDO0HXDkEBQYQpQYwmQcAAQcEAEANBwztB0BpBAkGIKUHUJkHCAEHDABADQcM7QekIQQJBkClByCZBxABBxQAQA0EIEB4iAEEANgIEIABBxgA2AgBBwztB9w9BAkGQKUHIJkHHACAAQQAQAEEIEB4iAEEANgIEIABByAA2AgBBwztB6htBA0GYKUHIKEHJACAAQQAQAEEIEB4iAEEANgIEIABBygA2AgBBwztBnxtBA0GkKUHIKEHLACAAQQAQAEEIEB4iAEEANgIEIABBzAA2AgBBwztB0BRBBEGwKUHAKUHNACAAQQAQAEEIEB4iAEEANgIEIABBzgA2AgBBwztBiA1BBEGwKUHAKUHNACAAQQAQAEEIEB4iAEEANgIEIABBzwA2AgBBwztB3RNBA0GkKUHIKEHLACAAQQAQAEEIEB4iAEEANgIEIABB0AA2AgBBwztB+QtBA0GkKUHIKEHLACAAQQAQAEEIEB4iAEEANgIEIABB0QA2AgBBwztBuBBBA0GkKUHIKEHLACAAQQAQAEEIEB4iAEEANgIEIABB0gA2AgBBwztB5RpBA0GkKUHIKEHLACAAQQAQAEEIEB4iAEEANgIEIABB0wA2AgBBwztB/BRBA0GkKUHIKEHLACAAQQAQAEEIEB4iAEEANgIEIABB1AA2AgBBwztBlRNBA0GkKUHIKEHLACAAQQAQAEEIEB4iAEEANgIEIABB1QA2AgBBwztBtQpBA0GkKUHIKEHLACAAQQAQAEEIEB4iAEEANgIEIABB1gA2AgBBwztBuBVBBEGwKUHAKUHNACAAQQAQAEEIEB4iAEEANgIEIABB1wA2AgBBwztBmw1BBEGwKUHAKUHNACAAQQAQAEEIEB4iAEEANgIEIABB2AA2AgBBwztB7RNBA0GkKUHIKEHLACAAQQAQAEEIEB4iAEEANgIEIABB2QA2AgBBwztBxAlBA0GkKUHIKEHLACAAQQAQAEEIEB4iAEEANgIEIABB2gA2AgBBwztB8QhBA0GkKUHIKEHLACAAQQAQAEEIEB4iAEEANgIEIABB2wA2AgBBwztBhwlBA0HIKUH+KEHcACAAQQAQAEEIEB4iAEEANgIEIABB3QA2AgBBwztB1BBBA0HIKUH+KEHcACAAQQAQAEEIEB4iAEEANgIEIABB3gA2AgBBwztB5gxBA0HIKUH+KEHcACAAQQAQAEEIEB4iAEEANgIEIABB3wA2AgBBwztBzBNBAkGQKUHIJkHHACAAQQAQAEEIEB4iAEEANgIEIABB4AA2AgBBwztBrAlBA0HIKUH+KEHcACAAQQAQAEEIEB4iAEEANgIEIABB4QA2AgBBwztBnxZBA0HIKUH+KEHcACAAQQAQAEEIEB4iAEEANgIEIABB4gA2AgBBwztBoRdBA0HIKUH+KEHcACAAQQAQAEEIEB4iAEEANgIEIABB4wA2AgBBwztBvw1BA0HIKUH+KEHcACAAQQAQAEEIEB4iAEEANgIEIABB5AA2AgBBwztB+xNBAkGQKUHIJkHHACAAQQAQAEEIEB4iAEEANgIEIABB5QA2AgBBwztBkQ9BA0HIKUH+KEHcACAAQQAQAEEIEB4iAEEANgIEIABB5gA2AgBBwztBwQxBA0HIKUH+KEHcACAAQQAQAEEIEB4iAEEANgIEIABB5wA2AgBBwztBvhNBAkGQKUHIJkHHACAAQQAQAEEIEB4iAEEANgIEIABB6AA2AgBBwztBsxdBA0HIKUH+KEHcACAAQQAQAEEIEB4iAEEANgIEIABB6QA2AgBBwztBzw1BA0HIKUH+KEHcACAAQQAQAEEIEB4iAEEANgIEIABB6gA2AgBBwztBpQ9BA0HIKUH+KEHcACAAQQAQAEEIEB4iAEEANgIEIABB6wA2AgBBwztB0gxBA0HIKUH+KEHcACAAQQAQAEEIEB4iAEEANgIEIABB7AA2AgBBwztBiRdBA0HIKUH+KEHcACAAQQAQAEEIEB4iAEEANgIEIABB7QA2AgBBwztBrA1BA0HIKUH+KEHcACAAQQAQAEEIEB4iAEEANgIEIABB7gA2AgBBwztB9w5BA0HIKUH+KEHcACAAQQAQAEEIEB4iAEEANgIEIABB7wA2AgBBwztBrQxBA0HIKUH+KEHcACAAQQAQAEEIEB4iAEEANgIEIABB8AA2AgBBwztB/RhBA0GkKUHIKEHLACAAQQAQAEEIEB4iAEEANgIEIABB8QA2AgBBwztBshRBA0HIKUH+KEHcACAAQQAQAEEIEB4iAEEANgIEIABB8gA2AgBBwztBlBJBBEGwKUHAKUHNACAAQQAQAEEIEB4iAEEANgIEIABB8wA2AgBBwztBzhlBBEGwKUHAKUHNACAAQQAQAEEIEB4iAEEANgIEIABB9AA2AgBBwztB4g1BBEGwKUHAKUHNACAAQQAQAEEIEB4iAEEANgIEIABB9QA2AgBBwztBrRNBBEGwKUHAKUHNACAAQQAQAEEIEB4iAEEANgIEIABB9gA2AgBBwztB+gxBBEGwKUHAKUHNACAAQQAQAEEIEB4iAEEANgIEIABB9wA2AgBBwztBnhVBA0GkKUHIKEHLACAAQQAQAEEIEB4iAEEANgIEIABB+AA2AgBBwztBrxtBAkHUKUHUJkH5ACAAQQAQAEEIEB4iAEEANgIEIABB+gA2AgBBwztB3BRBA0HcKUGwJ0H7ACAAQQAQAEEIEB4iAEEANgIEIABB/AA2AgBBwztBiQxBAkHUKUHUJkH5ACAAQQAQAEEIEB4iAEEANgIEIABB/QA2AgBBwztBxhBBAkHUKUHUJkH5ACAAQQAQAEEIEB4iAEEANgIEIABB/gA2AgBBwztB8hpBAkHUKUHUJkH5ACAAQQAQAEEIEB4iAEEANgIEIABB/wA2AgBBwztBjRVBAkHUKUHUJkH5ACAAQQAQAEEIEB4iAEEANgIEIABBgAE2AgBBwztBoRNBAkHUKUHUJkH5ACAAQQAQAEEIEB4iAEEANgIEIABBgQE2AgBBwztBxwpBAkHUKUHUJkH5ACAAQQAQAEEIEB4iAEEANgIEIABBggE2AgBBwztBwhVBA0HcKUGwJ0H7ACAAQQAQAEEIEB4iAEEANgIEIABBgwE2AgBBwztB4RBBAkHoKUHUJkGEASAAQQAQAEEIEB4iAEEANgIEIABBhQE2AgBBwztBuAlBAkHwKUH6KEGGASAAQQAQAEEIEB4iAEEANgIEIABBhwE2AgBBwztBrRZBAkHwKUH6KEGGASAAQQAQAEEIEB4iAEEANgIEIABBiAE2AgBBwztBqhdBAkHoKUHUJkGEASAAQQAQAEEIEB4iAEEANgIEIABBiQE2AgBBwztBmw9BAkHoKUHUJkGEASAAQQAQAEEIEB4iAEEANgIEIABBigE2AgBBwztBvxdBAkHoKUHUJkGEASAAQQAQAEEIEB4iAEEANgIEIABBiwE2AgBBwztBsg9BAkHoKUHUJkGEASAAQQAQAEEIEB4iAEEANgIEIABBjAE2AgBBwztBlRdBAkHoKUHUJkGEASAAQQAQAEEIEB4iAEEANgIEIABBjQE2AgBBwztBhA9BAkHoKUHUJkGEASAAQQAQAEEIEB4iAEEANgIEIABBjgE2AgBBwztBihlBAkHUKUHUJkH5ACAAQQAQAEEIEB4iAEEANgIEIABBjwE2AgBBwztBwRRBAkHwKUH6KEGGASAAQQAQAEEIEB4iAEEANgIEIABBkAE2AgBBwztBnhJBA0H4KUGEKkGRASAAQQAQAEEIEB4iAEEANgIEIABBkgE2AgBBwztB0AlBAkHUKUHUJkH5ACAAQQAQAEEIEB4iAEEANgIEIABBkwE2AgBBwztB/AhBAkHUKUHUJkH5ACAAQQAQAEEIEB4iAEEANgIEIABBlAE2AgBBwztB2RlBA0HcKUGwJ0H7ACAAQQAQAEEIEB4iAEEANgIEIABBlQE2AgBBwztBtBNBA0GMKkGYKkGWASAAQQAQAEEIEB4iAEEANgIEIABBlwE2AgBBwztBhxxBBEGgKkGgKEGYASAAQQAQAEEIEB4iAEEANgIEIABBmQE2AgBBwztBnBxBA0GwKkHIKEGaASAAQQAQAEEIEB4iAEEANgIEIABBmwE2AgBBwztBmgpBAkG8KkHUJkGcASAAQQAQAEEIEB4iAEEANgIEIABBnQE2AgBBwztBmQxBAkHEKkHUJkGeASAAQQAQAEEIEB4iAEEANgIEIABBnwE2AgBBwztBkxxBA0HMKkGwJ0GgASAAQQAQAEEIEB4iAEEANgIEIABBoQE2AgBBwztBuxZBA0HYKkHIKEGiASAAQQAQAEEIEB4iAEEANgIEIABBowE2AgBBwztBvxtBAkHkKkHUJkGkASAAQQAQAEEIEB4iAEEANgIEIABBpQE2AgBBwztB0xtBA0HYKkHIKEGiASAAQQAQAEEIEB4iAEEANgIEIABBpgE2AgBBwztBqB1BA0HsKkHIKEGnASAAQQAQAEEIEB4iAEEANgIEIABBqAE2AgBBwztBph1BAkGQKUHIJkHHACAAQQAQAEEIEB4iAEEANgIEIABBqQE2AgBBwztBuR1BA0H4KkHIKEGqASAAQQAQAEEIEB4iAEEANgIEIABBqwE2AgBBwztBtx1BAkGQKUHIJkHHACAAQQAQAEEIEB4iAEEANgIEIABBrAE2AgBBwztB3whBAkGQKUHIJkHHACAAQQAQAEEIEB4iAEEANgIEIABBrQE2AgBBwztB1whBAkGEK0HUJkGuASAAQQAQAEEIEB4iAEEANgIEIABBrwE2AgBBwztB3hVBAkGQKUHIJkHHACAAQQAQAEEIEB4iAEEANgIEIABBsAE2AgBBwztB3AlBAkGEK0HUJkGuASAAQQAQAEEIEB4iAEEANgIEIABBsQE2AgBBwztB6QlBBUGQK0GkK0GyASAAQQAQAEEIEB4iAEEANgIEIABBswE2AgBBwztB5w9BAkHwKUH6KEGGASAAQQAQAEEIEB4iAEEANgIEIABBtAE2AgBBwztB0Q9BAkHwKUH6KEGGASAAQQAQAEEIEB4iAEEANgIEIABBtQE2AgBBwztBhhNBAkHwKUH6KEGGASAAQQAQAEEIEB4iAEEANgIEIABBtgE2AgBBwztB+BVBAkHwKUH6KEGGASAAQQAQAEEIEB4iAEEANgIEIABBtwE2AgBBwztByxdBAkHwKUH6KEGGASAAQQAQAEEIEB4iAEEANgIEIABBuAE2AgBBwztBvw9BAkHwKUH6KEGGASAAQQAQAEEIEB4iAEEANgIEIABBuQE2AgBBwztB+QlBAkGsK0HUJkG6ASAAQQAQAEEIEB4iAEEANgIEIABBuwE2AgBBwztBzBVBA0H4KUGEKkGRASAAQQAQAEEIEB4iAEEANgIEIABBvAE2AgBBwztBqBJBA0H4KUGEKkGRASAAQQAQAEEIEB4iAEEANgIEIABBvQE2AgBBwztB5BlBA0H4KUGEKkGRASAAQQAQAEEIEB4iAEEANgIEIABBvgE2AgBBwztBqxVBAkHUKUHUJkH5ACAAQQAQAAtZAQF/IAAgACgCSCIBQQFrIAFyNgJIIAAoAgAiAUEIcQRAIAAgAUEgcjYCAEF/DwsgAEIANwIEIAAgACgCLCIBNgIcIAAgATYCFCAAIAEgACgCMGo2AhBBAAtHAAJAIAFBA00EfyAAIAFBAnRqQQRqBSABQQRrIgEgACgCGCIAKAIEIAAoAgAiAGtBAnVPDQEgACABQQJ0agsoAgAPCxACAAs4AQF/IAFBAEgEQBACAAsgAUEBa0EFdkEBaiIBQQJ0EB4hAiAAIAE2AgggAEEANgIEIAAgAjYCAAvSBQEJfyAAIAEvAQA7AQAgACABKQIENwIEIAAgASkCDDcCDCAAIAEoAhQ2AhQCQAJAIAEoAhgiA0UNAEEYEB4iBUEANgIIIAVCADcCACADKAIEIgEgAygCACICRwRAIAEgAmsiAkEASA0CIAUgAhAeIgE2AgAgBSABIAJqNgIIIAMoAgAiAiADKAIEIgZHBEADQCABIAIoAgA2AgAgAUEEaiEBIAJBBGoiAiAGRw0ACwsgBSABNgIECyAFQgA3AgwgBUEANgIUIAMoAhAiAUUNACAFQQxqIAEQnwEgAygCDCEGIAUgBSgCECIEIAMoAhAiAkEfcWogAkFgcWoiATYCEAJAAkAgBEUEQCABQQFrIQMMAQsgAUEBayIDIARBAWtzQSBJDQELIAUoAgwgA0EFdkEAIAFBIU8bQQJ0akEANgIACyAFKAIMIARBA3ZB/P///wFxaiEBIARBH3EiA0UEQCACQQBMDQEgAkEgbSEDIAJBH2pBP08EQCABIAYgA0ECdBAzGgsgAiADQQV0ayICQQBMDQEgASADQQJ0IgNqIgEgASgCAEF/QSAgAmt2IgFBf3NxIAMgBmooAgAgAXFyNgIADAELIAJBAEwNAEF/IAN0IQhBICADayEEIAJBIE4EQCAIQX9zIQkgASgCACEHA0AgASAHIAlxIAYoAgAiByADdHI2AgAgASABKAIEIAhxIAcgBHZyIgc2AgQgBkEEaiEGIAFBBGohASACQT9LIQogAkEgayECIAoNAAsgAkEATA0BCyABIAEoAgBBfyAEIAQgAiACIARKGyIEa3YgCHFBf3NxIAYoAgBBf0EgIAJrdnEiBiADdHI2AgAgAiAEayICQQBMDQAgASADIARqQQN2Qfz///8BcWoiASABKAIAQX9BICACa3ZBf3NxIAYgBHZyNgIACyAAKAIYIQEgACAFNgIYIAEEQCABEFsLDwsQAgALvQMBB38gAARAIwBBIGsiBiQAIAAoAgAiASgC5AMiAwRAIAMgARBvGiABQQA2AuQDCyABKALsAyICIAEoAugDIgNHBEBBASACIANrQQJ1IgIgAkEBTRshBEEAIQIDQCADIAJBAnRqKAIAQQA2AuQDIAJBAWoiAiAERw0ACwsgASADNgLsAwJAIAMgAUHwA2oiAigCAEYNACAGQQhqQQBBACACEEoiAigCBCABKALsAyABKALoAyIEayIFayIDIAQgBRAzIQUgASgC6AMhBCABIAU2AugDIAIgBDYCBCABKALsAyEFIAEgAigCCDYC7AMgAiAFNgIIIAEoAvADIQcgASACKAIMNgLwAyACIAQ2AgAgAiAHNgIMIAQgBUcEQCACIAUgBCAFa0EDakF8cWo2AggLIARFDQAgBBAnIAEoAugDIQMLIAMEQCABIAM2AuwDIAMQJwsgASgClAEhAyABQQA2ApQBIAMEQCADEFsLIAEQJyAAKAIIIQEgAEEANgIIIAEEQCABIAEoAgAoAgQRAAALIAAoAgQhASAAQQA2AgQgAQRAIAEgASgCACgCBBEAAAsgBkEgaiQAIAAQIwsLtQEBAX8jAEEQayICJAACfyABBEAgASgCACEBQYgEEB4gARBcIAENARogAkH3GTYCACACEHIQJAALQZQ7LQAARQRAQfg6QQM2AgBBiDtCgICAgICAgMA/NwIAQYA7QgA3AgBBlDtBAToAAEH8OkH8Oi0AAEH+AXE6AABB9DpBADYCAEGQO0EANgIAC0GIBBAeQfQ6EFwLIQEgAEIANwIEIAAgATYCACABIAA2AgQgAkEQaiQAIAALGwEBfyAABEAgACgCACIBBEAgARAjCyAAECMLC0kBAn9BBBAeIQFBIBAeIgBBADYCHCAAQoCAgICAgIDAPzcCFCAAQgA3AgwgAEEAOgAIIABBAzYCBCAAQQA2AgAgASAANgIAIAELIAAgAkEFR0EAIAIbRQRAQbgwIAMgBBBJDwsgAyAEEHALIgEBfiABIAKtIAOtQiCGhCAEIAARFQAiBUIgiKckASAFpwuoAQEFfyAAKAJUIgMoAgAhBSADKAIEIgQgACgCFCAAKAIcIgdrIgYgBCAGSRsiBgRAIAUgByAGECsaIAMgAygCACAGaiIFNgIAIAMgAygCBCAGayIENgIECyAEIAIgAiAESxsiBARAIAUgASAEECsaIAMgAygCACAEaiIFNgIAIAMgAygCBCAEazYCBAsgBUEAOgAAIAAgACgCLCIBNgIcIAAgATYCFCACCwQAQgALBABBAAuKBQIGfgJ/IAEgASgCAEEHakF4cSIBQRBqNgIAIAAhCSABKQMAIQMgASkDCCEGIwBBIGsiCCQAAkAgBkL///////////8AgyIEQoCAgICAgMCAPH0gBEKAgICAgIDA/8MAfVQEQCAGQgSGIANCPIiEIQQgA0L//////////w+DIgNCgYCAgICAgIAIWgRAIARCgYCAgICAgIDAAHwhAgwCCyAEQoCAgICAgICAQH0hAiADQoCAgICAgICACFINASACIARCAYN8IQIMAQsgA1AgBEKAgICAgIDA//8AVCAEQoCAgICAgMD//wBRG0UEQCAGQgSGIANCPIiEQv////////8Dg0KAgICAgICA/P8AhCECDAELQoCAgICAgID4/wAhAiAEQv///////7//wwBWDQBCACECIARCMIinIgBBkfcASQ0AIAMhAiAGQv///////z+DQoCAgICAgMAAhCIFIQcCQCAAQYH3AGsiAUHAAHEEQCACIAFBQGqthiEHQgAhAgwBCyABRQ0AIAcgAa0iBIYgAkHAACABa62IhCEHIAIgBIYhAgsgCCACNwMQIAggBzcDGAJAQYH4ACAAayIAQcAAcQRAIAUgAEFAaq2IIQNCACEFDAELIABFDQAgBUHAACAAa62GIAMgAK0iAoiEIQMgBSACiCEFCyAIIAM3AwAgCCAFNwMIIAgpAwhCBIYgCCkDACIDQjyIhCECIAgpAxAgCCkDGIRCAFKtIANC//////////8Pg4QiA0KBgICAgICAgAhaBEAgAkIBfCECDAELIANCgICAgICAgIAIUg0AIAJCAYMgAnwhAgsgCEEgaiQAIAkgAiAGQoCAgICAgICAgH+DhL85AwALmRgDEn8BfAN+IwBBsARrIgwkACAMQQA2AiwCQCABvSIZQgBTBEBBASERQZkJIRMgAZoiAb0hGQwBCyAEQYAQcQRAQQEhEUGcCSETDAELQZ8JQZoJIARBAXEiERshEyARRSEVCwJAIBlCgICAgICAgPj/AINCgICAgICAgPj/AFEEQCAAQSAgAiARQQNqIgMgBEH//3txECkgACATIBEQJiAAQe0VQdweIAVBIHEiBRtB4RpB4B4gBRsgASABYhtBAxAmIABBICACIAMgBEGAwABzECkgAyACIAIgA0gbIQoMAQsgDEEQaiESAkACfwJAIAEgDEEsahCMASIBIAGgIgFEAAAAAAAAAABiBEAgDCAMKAIsIgZBAWs2AiwgBUEgciIOQeEARw0BDAMLIAVBIHIiDkHhAEYNAiAMKAIsIQlBBiADIANBAEgbDAELIAwgBkEdayIJNgIsIAFEAAAAAAAAsEGiIQFBBiADIANBAEgbCyELIAxBMGpBoAJBACAJQQBOG2oiDSEHA0AgBwJ/IAFEAAAAAAAA8EFjIAFEAAAAAAAAAABmcQRAIAGrDAELQQALIgM2AgAgB0EEaiEHIAEgA7ihRAAAAABlzc1BoiIBRAAAAAAAAAAAYg0ACwJAIAlBAEwEQCAJIQMgByEGIA0hCAwBCyANIQggCSEDA0BBHSADIANBHU4bIQMCQCAHQQRrIgYgCEkNACADrSEaQgAhGQNAIAYgGUL/////D4MgBjUCACAahnwiG0KAlOvcA4AiGUKA7JSjDH4gG3w+AgAgBkEEayIGIAhPDQALIBmnIgZFDQAgCEEEayIIIAY2AgALA0AgCCAHIgZJBEAgBkEEayIHKAIARQ0BCwsgDCAMKAIsIANrIgM2AiwgBiEHIANBAEoNAAsLIANBAEgEQCALQRlqQQluQQFqIQ8gDkHmAEYhEANAQQlBACADayIDIANBCU4bIQoCQCAGIAhNBEAgCCgCACEHDAELQYCU69wDIAp2IRRBfyAKdEF/cyEWQQAhAyAIIQcDQCAHIAMgBygCACIXIAp2ajYCACAWIBdxIBRsIQMgB0EEaiIHIAZJDQALIAgoAgAhByADRQ0AIAYgAzYCACAGQQRqIQYLIAwgDCgCLCAKaiIDNgIsIA0gCCAHRUECdGoiCCAQGyIHIA9BAnRqIAYgBiAHa0ECdSAPShshBiADQQBIDQALC0EAIQMCQCAGIAhNDQAgDSAIa0ECdUEJbCEDQQohByAIKAIAIgpBCkkNAANAIANBAWohAyAKIAdBCmwiB08NAAsLIAsgA0EAIA5B5gBHG2sgDkHnAEYgC0EAR3FrIgcgBiANa0ECdUEJbEEJa0gEQEEEQaQCIAlBAEgbIAxqIAdBgMgAaiIKQQltIg9BAnRqQdAfayEJQQohByAPQXdsIApqIgpBB0wEQANAIAdBCmwhByAKQQFqIgpBCEcNAAsLAkAgCSgCACIQIBAgB24iDyAHbCIKRiAJQQRqIhQgBkZxDQAgECAKayEQAkAgD0EBcUUEQEQAAAAAAABAQyEBIAdBgJTr3ANHIAggCU9yDQEgCUEEay0AAEEBcUUNAQtEAQAAAAAAQEMhAQtEAAAAAAAA4D9EAAAAAAAA8D9EAAAAAAAA+D8gBiAURhtEAAAAAAAA+D8gECAHQQF2IhRGGyAQIBRJGyEYAkAgFQ0AIBMtAABBLUcNACAYmiEYIAGaIQELIAkgCjYCACABIBigIAFhDQAgCSAHIApqIgM2AgAgA0GAlOvcA08EQANAIAlBADYCACAIIAlBBGsiCUsEQCAIQQRrIghBADYCAAsgCSAJKAIAQQFqIgM2AgAgA0H/k+vcA0sNAAsLIA0gCGtBAnVBCWwhA0EKIQcgCCgCACIKQQpJDQADQCADQQFqIQMgCiAHQQpsIgdPDQALCyAJQQRqIgcgBiAGIAdLGyEGCwNAIAYiByAITSIKRQRAIAdBBGsiBigCAEUNAQsLAkAgDkHnAEcEQCAEQQhxIQkMAQsgA0F/c0F/IAtBASALGyIGIANKIANBe0pxIgkbIAZqIQtBf0F+IAkbIAVqIQUgBEEIcSIJDQBBdyEGAkAgCg0AIAdBBGsoAgAiDkUNAEEKIQpBACEGIA5BCnANAANAIAYiCUEBaiEGIA4gCkEKbCIKcEUNAAsgCUF/cyEGCyAHIA1rQQJ1QQlsIQogBUFfcUHGAEYEQEEAIQkgCyAGIApqQQlrIgZBACAGQQBKGyIGIAYgC0obIQsMAQtBACEJIAsgAyAKaiAGakEJayIGQQAgBkEAShsiBiAGIAtKGyELC0F/IQogC0H9////B0H+////ByAJIAtyIhAbSg0BIAsgEEEAR2pBAWohDgJAIAVBX3EiFUHGAEYEQCADIA5B/////wdzSg0DIANBACADQQBKGyEGDAELIBIgAyADQR91IgZzIAZrrSASEEciBmtBAUwEQANAIAZBAWsiBkEwOgAAIBIgBmtBAkgNAAsLIAZBAmsiDyAFOgAAIAZBAWtBLUErIANBAEgbOgAAIBIgD2siBiAOQf////8Hc0oNAgsgBiAOaiIDIBFB/////wdzSg0BIABBICACIAMgEWoiBSAEECkgACATIBEQJiAAQTAgAiAFIARBgIAEcxApAkACQAJAIBVBxgBGBEAgDEEQaiIGQQhyIQMgBkEJciEJIA0gCCAIIA1LGyIKIQgDQCAINQIAIAkQRyEGAkAgCCAKRwRAIAYgDEEQak0NAQNAIAZBAWsiBkEwOgAAIAYgDEEQaksNAAsMAQsgBiAJRw0AIAxBMDoAGCADIQYLIAAgBiAJIAZrECYgCEEEaiIIIA1NDQALIBAEQCAAQYwlQQEQJgsgC0EATCAHIAhNcg0BA0AgCDUCACAJEEciBiAMQRBqSwRAA0AgBkEBayIGQTA6AAAgBiAMQRBqSw0ACwsgACAGQQkgCyALQQlOGxAmIAtBCWshBiAIQQRqIgggB08NAyALQQlKIQMgBiELIAMNAAsMAgsCQCALQQBIDQAgByAIQQRqIAcgCEsbIQogDEEQaiIGQQhyIQMgBkEJciENIAghBwNAIA0gBzUCACANEEciBkYEQCAMQTA6ABggAyEGCwJAIAcgCEcEQCAGIAxBEGpNDQEDQCAGQQFrIgZBMDoAACAGIAxBEGpLDQALDAELIAAgBkEBECYgBkEBaiEGIAkgC3JFDQAgAEGMJUEBECYLIAAgBiALIA0gBmsiBiAGIAtKGxAmIAsgBmshCyAHQQRqIgcgCk8NASALQQBODQALCyAAQTAgC0ESakESQQAQKSAAIA8gEiAPaxAmDAILIAshBgsgAEEwIAZBCWpBCUEAECkLIABBICACIAUgBEGAwABzECkgBSACIAIgBUgbIQoMAQsgEyAFQRp0QR91QQlxaiELAkAgA0ELSw0AQQwgA2shBkQAAAAAAAAwQCEYA0AgGEQAAAAAAAAwQKIhGCAGQQFrIgYNAAsgCy0AAEEtRgRAIBggAZogGKGgmiEBDAELIAEgGKAgGKEhAQsgEUECciEJIAVBIHEhCCASIAwoAiwiByAHQR91IgZzIAZrrSASEEciBkYEQCAMQTA6AA8gDEEPaiEGCyAGQQJrIg0gBUEPajoAACAGQQFrQS1BKyAHQQBIGzoAACAEQQhxIQYgDEEQaiEHA0AgByIFAn8gAZlEAAAAAAAA4EFjBEAgAaoMAQtBgICAgHgLIgdBkC9qLQAAIAhyOgAAIAYgA0EASnJFIAEgB7ehRAAAAAAAADBAoiIBRAAAAAAAAAAAYXEgBUEBaiIHIAxBEGprQQFHckUEQCAFQS46AAEgBUECaiEHCyABRAAAAAAAAAAAYg0AC0F/IQpB/f///wcgCSASIA1rIgVqIgZrIANIDQAgAEEgIAIgBgJ/AkAgA0UNACAHIAxBEGprIghBAmsgA04NACADQQJqDAELIAcgDEEQamsiCAsiB2oiAyAEECkgACALIAkQJiAAQTAgAiADIARBgIAEcxApIAAgDEEQaiAIECYgAEEwIAcgCGtBAEEAECkgACANIAUQJiAAQSAgAiADIARBgMAAcxApIAMgAiACIANIGyEKCyAMQbAEaiQAIAoLRgEBfyAAKAI8IQMjAEEQayIAJAAgAyABpyABQiCIpyACQf8BcSAAQQhqEBQQjQEhAiAAKQMIIQEgAEEQaiQAQn8gASACGwu+AgEHfyMAQSBrIgMkACADIAAoAhwiBDYCECAAKAIUIQUgAyACNgIcIAMgATYCGCADIAUgBGsiATYCFCABIAJqIQVBAiEGIANBEGohAQJ/A0ACQAJAAkAgACgCPCABIAYgA0EMahAYEI0BRQRAIAUgAygCDCIHRg0BIAdBAE4NAgwDCyAFQX9HDQILIAAgACgCLCIBNgIcIAAgATYCFCAAIAEgACgCMGo2AhAgAgwDCyABIAcgASgCBCIISyIJQQN0aiIEIAcgCEEAIAkbayIIIAQoAgBqNgIAIAFBDEEEIAkbaiIBIAEoAgAgCGs2AgAgBSAHayEFIAYgCWshBiAEIQEMAQsLIABBADYCHCAAQgA3AxAgACAAKAIAQSByNgIAQQAgBkECRg0AGiACIAEoAgRrCyEEIANBIGokACAECwkAIAAoAjwQGQsjAQF/Qcg7KAIAIgAEQANAIAAoAgARCQAgACgCBCIADQALCwu/AgEFfyMAQeAAayICJAAgAiAANgIAIwBBEGsiAyQAIAMgAjYCDCMAQZABayIAJAAgAEGgL0GQARArIgAgAkEQaiIFIgE2AiwgACABNgIUIABB/////wdBfiABayIEIARB/////wdPGyIENgIwIAAgASAEaiIBNgIcIAAgATYCECAAQbsTIAJBAEEAEIsBGiAEBEAgACgCFCIBIAEgACgCEEZrQQA6AAALIABBkAFqJAAgA0EQaiQAAkAgBSIAQQNxBEADQCAALQAARQ0CIABBAWoiAEEDcQ0ACwsDQCAAIgFBBGohACABKAIAIgNBf3MgA0GBgoQIa3FBgIGChHhxRQ0ACwNAIAEiAEEBaiEBIAAtAAANAAsLIAAgBWtBAWoiABBhIgEEfyABIAUgABArBUEACyEAIAJB4ABqJAAgAAvFAQICfwF8IwBBMGsiBiQAIAEoAgghBwJAQbQ7LQAAQQFxBEBBsDsoAgAhAQwBC0EFQZAnEAwhAUG0O0EBOgAAQbA7IAE2AgALIAYgBTYCKCAGIAQ4AiAgBiADNgIYIAYgAjgCEAJ/IAEgB0GXGyAGQQxqIAZBEGoQEiIIRAAAAAAAAPBBYyAIRAAAAAAAAAAAZnEEQCAIqwwBC0EACyEBIAYoAgwhAyAAIAEpAwA3AwAgACABKQMINwMIIAMQESAGQTBqJAALCQAgABCQARAjCwwAIAAoAghB6BwQZgsJACAAEJIBECMLVQECfyMAQTBrIgIkACABIAAoAgQiA0EBdWohASAAKAIAIQAgAiABIANBAXEEfyABKAIAIABqKAIABSAACxEBAEEwEB4gAkEwECshACACQTBqJAAgAAs7AQF/IAEgACgCBCIFQQF1aiEBIAAoAgAhACABIAIgAyAEIAVBAXEEfyABKAIAIABqKAIABSAACxEdAAs3AQF/IAEgACgCBCIDQQF1aiEBIAAoAgAhACABIAIgA0EBcQR/IAEoAgAgAGooAgAFIAALERIACzcBAX8gASAAKAIEIgNBAXVqIQEgACgCACEAIAEgAiADQQFxBH8gASgCACAAaigCAAUgAAsRDAALNQEBfyABIAAoAgQiAkEBdWohASAAKAIAIQAgASACQQFxBH8gASgCACAAaigCAAUgAAsRCwALYQECfyMAQRBrIgIkACABIAAoAgQiA0EBdWohASAAKAIAIQAgAiABIANBAXEEfyABKAIAIABqKAIABSAACxEBAEEQEB4iACACKQMINwMIIAAgAikDADcDACACQRBqJAAgAAtjAQJ/IwBBEGsiAyQAIAEgACgCBCIEQQF1aiEBIAAoAgAhACADIAEgAiAEQQFxBH8gASgCACAAaigCAAUgAAsRAwBBEBAeIgAgAykDCDcDCCAAIAMpAwA3AwAgA0EQaiQAIAALNwEBfyABIAAoAgQiA0EBdWohASAAKAIAIQAgASACIANBAXEEfyABKAIAIABqKAIABSAACxEEAAs5AQF/IAEgACgCBCIEQQF1aiEBIAAoAgAhACABIAIgAyAEQQFxBH8gASgCACAAaigCAAUgAAsRCAALCQAgASAAEQIACwUAQcM7Cw8AIAEgACgCAGogAjYCAAsNACABIAAoAgBqKAIACxgBAX9BEBAeIgBCADcDCCAAQQA2AgAgAAsYAQF/QRAQHiIAQgA3AwAgAEIANwMIIAALDABBMBAeQQBBMBAqCzcBAX8gASAAKAIEIgNBAXVqIQEgACgCACEAIAEgAiADQQFxBH8gASgCACAAaigCAAUgAAsRHgALBQBBvjsLIQAgACABKAIAIAEgASwAC0EASBtBuzsgAigCABAQNgIACyoBAX9BDBAeIgFBADoABCABIAAoAgA2AgggAEEANgIAIAFB2Cc2AgAgAQsFAEG7OwsFAEG4OwshACAAIAEoAgAgASABLAALQQBIG0GkOyACKAIAEBA2AgAL2AEBBH8jAEEgayIDJAAgASgCACIEQfD///8HSQRAAkACQCAEQQtPBEAgBEEPckEBaiIFEB4hBiADIAVBgICAgHhyNgIQIAMgBjYCCCADIAQ2AgwgBCAGaiEFDAELIAMgBDoAEyADQQhqIgYgBGohBSAERQ0BCyAGIAFBBGogBBArGgsgBUEAOgAAIAMgAjYCACADQRhqIANBCGogAyAAEQMAIAMoAhgQHSADKAIYIgAQBiADKAIAEAYgAywAE0EASARAIAMoAggQIwsgA0EgaiQAIAAPCxACAAsqAQF/QQwQHiIBQQA6AAQgASAAKAIANgIIIABBADYCACABQeAmNgIAIAELBQBBpDsLaQECfyMAQRBrIgYkACABIAAoAgQiB0EBdWohASAAKAIAIQAgBiABIAIgAyAEIAUgB0EBcQR/IAEoAgAgAGooAgAFIAALERAAQRAQHiIAIAYpAwg3AwggACAGKQMANwMAIAZBEGokACAACwUAQaA7Cx0AIAAoAgAiACAALQAAQfcBcUEIQQAgARtyOgAAC6oBAgJ/AX0jAEEQayICJAAgACgCACEAIAFB/wFxIgNBBkkEQAJ/AkACQAJAIANBBGsOAgABAgsgAEHUA2ogAC0AiANBA3FBAkYNAhogAEHMA2oMAgsgAEHMA2ogAC0AiANBA3FBAkYNARogAEHUA2oMAQsgACABQf8BcUECdGpBzANqCyoCACEEIAJBEGokACAEuw8LIAJB7hA2AgAgAEEFQdglIAIQLBAkAAuqAQICfwF9IwBBEGsiAiQAIAAoAgAhACABQf8BcSIDQQZJBEACfwJAAkACQCADQQRrDgIAAQILIABBxANqIAAtAIgDQQNxQQJGDQIaIABBvANqDAILIABBvANqIAAtAIgDQQNxQQJGDQEaIABBxANqDAELIAAgAUH/AXFBAnRqQbwDagsqAgAhBCACQRBqJAAgBLsPCyACQe4QNgIAIABBBUHYJSACECwQJAALqgECAn8BfSMAQRBrIgIkACAAKAIAIQAgAUH/AXEiA0EGSQRAAn8CQAJAAkAgA0EEaw4CAAECCyAAQbQDaiAALQCIA0EDcUECRg0CGiAAQawDagwCCyAAQawDaiAALQCIA0EDcUECRg0BGiAAQbQDagwBCyAAIAFB/wFxQQJ0akGsA2oLKgIAIQQgAkEQaiQAIAS7DwsgAkHuEDYCACAAQQVB2CUgAhAsECQAC08AIAAgASgCACIBKgKcA7s5AwAgACABKgKkA7s5AwggACABKgKgA7s5AxAgACABKgKoA7s5AxggACABKgKMA7s5AyAgACABKgKQA7s5AygLDAAgACgCACoCkAO7CwwAIAAoAgAqAowDuwsMACAAKAIAKgKoA7sLDAAgACgCACoCoAO7CwwAIAAoAgAqAqQDuwsMACAAKAIAKgKcA7sL6AMCBH0FfyMAQUBqIgokACAAKAIAIQAgCkEIakEAQTgQKhpB8DpB8DooAgBBAWo2AgAgABB4IAAtABRBA3EiCCADQQEgA0H/AXEbIAgbIQkgAEEUaiEIIAG2IQQgACoC+AMhBQJ9AkACQAJAIAAtAPwDQQFrDgIBAAILIAUgBJRDCtcjPJQhBQsgBUMAAAAAYEUNACAAIAlB/wFxQQAgBCAEEDEgCEECQQEgBBAiIAhBAkEBIAQQIZKSDAELIAggCUH/AXFBACAEIAQQLSIFIAVbBEBBAiELIAggCUH/AXFBACAEIAQQLQwBCyAEIARcIQsgBAshByACtiEFIAAqAoAEIQYgACAHAn0CQAJAAkAgAC0AhARBAWsOAgEAAgsgBiAFlEMK1yM8lCEGCyAGQwAAAABgRQ0AIAAgCUH/AXFBASAFIAQQMSAIQQBBASAEECIgCEEAQQEgBBAhkpIMAQsgCCAJQf8BcSIJQQEgBSAEEC0iBiAGWwRAQQIhDCAIIAlBASAFIAQQLQwBCyAFIAVcIQwgBQsgA0H/AXEgCyAMIAQgBUEBQQAgCkEIakEAQfA6KAIAED0EQCAAIAAtAIgDQQNxIAQgBRB2IABEAAAAAAAAAABEAAAAAAAAAAAQcwsgCkFAayQACw0AIAAoAgAtAABBAXELFQAgACgCACIAIAAtAABB/gFxOgAACxAAIAAoAgAtAABBBHFBAnYLegECfyMAQRBrIgEkACAAKAIAIgAoAggEQANAIAAtAAAiAkEEcUUEQCAAIAJBBHI6AAAgACgCECICBEAgACACEQAACyAAQYCAgP4HNgKcASAAKALkAyIADQELCyABQRBqJAAPCyABQYAINgIAIABBBUHYJSABECwQJAALLgEBfyAAKAIIIQEgAEEANgIIIAEEQCABIAEoAgAoAgQRAAALIAAoAgBBADYCEAsXACAAKAIEKAIIIgAgACgCACgCCBEAAAsuAQF/IAAoAgghAiAAIAE2AgggAgRAIAIgAigCACgCBBEAAAsgACgCAEEFNgIQCz4BAX8gACgCBCEBIABBADYCBCABBEAgASABKAIAKAIEEQAACyAAKAIAIgBBADYCCCAAIAAtAABB7wFxOgAAC0kBAX8jAEEQayIGJAAgBiABKAIEKAIEIgEgAiADIAQgBSABKAIAKAIIERAAIAAgBisDALY4AgAgACAGKwMItjgCBCAGQRBqJAALcwECfyMAQRBrIgIkACAAKAIEIQMgACABNgIEIAMEQCADIAMoAgAoAgQRAAALIAAoAgAiACgC6AMgACgC7ANHBEAgAkH5IzYCACAAQQVB2CUgAhAsECQACyAAQQQ2AgggACAALQAAQRByOgAAIAJBEGokAAs8AQF/AkAgACgCACIAKALsAyAAKALoAyIAa0ECdSABTQ0AIAAgAUECdGooAgAiAEUNACAAKAIEIQILIAILGQAgACgCACgC5AMiAEUEQEEADwsgACgCBAsXACAAKAIAIgAoAuwDIAAoAugDa0ECdQuOAwEDfyMAQdACayICJAACQCAAKAIAIgAoAuwDIAAoAugDRg0AIAEoAgAiAygC5AMhASAAIAMQb0UNACAAIAFGBEAgAkEIakEAQcQCECoaIAJBADoAGCACQgA3AxAgAkGAgID+BzYCDCACQRxqQQBBxAEQKhogAkHgAWohBCACQSBqIQEDQCABQoCAgPyLgIDAv383AhAgAUKBgICAEDcCCCABQoCAgPyLgIDAv383AgAgAUEYaiIBIARHDQALIAJCgICA/IuAgMC/fzcD8AEgAkKBgICAEDcD6AEgAkKAgID8i4CAwL9/NwPgASACQoCAgP6HgIDg/wA3AoQCIAJCgICA/oeAgOD/ADcC/AEgAiACLQD4AUH4AXE6APgBIAJBjAJqQQBBwAAQKhogA0GYAWogAkEIakHEAhArGiADQQA2AuQDCwNAIAAtAAAiAUEEcQ0BIAAgAUEEcjoAACAAKAIQIgEEQCAAIAERAAALIABBgICA/gc2ApwBIAAoAuQDIgANAAsLIAJB0AJqJAAL4AcBCH8jAEHQAGsiByQAIAAoAgAhAAJAAkAgASgCACIIKALkA0UEQCAAKAIIDQEgCC0AF0EQdEGAgDBxQYCAIEYEQCAAIAAoAuADQQFqNgLgAwsgACgC6AMiASACQQJ0aiEGAkAgACgC7AMiBCAAQfADaiIDKAIAIgVJBEAgBCAGRgRAIAYgCDYCACAAIAZBBGo2AuwDDAILIAQgBCICQQRrIgFLBEADQCACIAEoAgA2AgAgAkEEaiECIAFBBGoiASAESQ0ACwsgACACNgLsAyAGQQRqIgEgBEcEQCAEIAQgAWsiAUF8cWsgBiABEDMaCyAGIAg2AgAMAQsgBCABa0ECdUEBaiIEQYCAgIAETw0DAkAgB0EgakH/////AyAFIAFrIgFBAXUiBSAEIAQgBUkbIAFB/P///wdPGyACIAMQSiIDKAIIIgIgAygCDEcNACADKAIEIgEgAygCACIESwRAIAMgASABIARrQQJ1QQFqQX5tQQJ0IgRqIAEgAiABayIBEDMgAWoiAjYCCCADIAMoAgQgBGo2AgQMAQsgB0E4akEBIAIgBGtBAXUgAiAERhsiASABQQJ2IAMoAhAQSiIFKAIIIQQCfyADKAIIIgIgAygCBCIBRgRAIAQhAiABDAELIAQgAiABa2ohAgNAIAQgASgCADYCACABQQRqIQEgBEEEaiIEIAJHDQALIAMoAgghASADKAIECyEEIAMoAgAhCSADIAUoAgA2AgAgBSAJNgIAIAMgBSgCBDYCBCAFIAQ2AgQgAyACNgIIIAUgATYCCCADKAIMIQogAyAFKAIMNgIMIAUgCjYCDCABIARHBEAgBSABIAQgAWtBA2pBfHFqNgIICyAJRQ0AIAkQIyADKAIIIQILIAIgCDYCACADIAMoAghBBGo2AgggAyADKAIEIAYgACgC6AMiAWsiAmsgASACEDM2AgQgAygCCCAGIAAoAuwDIAZrIgQQMyEGIAAoAugDIQEgACADKAIENgLoAyADIAE2AgQgACgC7AMhAiAAIAQgBmo2AuwDIAMgAjYCCCAAKALwAyEEIAAgAygCDDYC8AMgAyABNgIAIAMgBDYCDCABIAJHBEAgAyACIAEgAmtBA2pBfHFqNgIICyABRQ0AIAEQIwsgCCAANgLkAwNAIAAtAAAiAUEEcUUEQCAAIAFBBHI6AAAgACgCECIBBEAgACABEQAACyAAQYCAgP4HNgKcASAAKALkAyIADQELCyAHQdAAaiQADwsgB0HEIzYCECAAQQVB2CUgB0EQahAsECQACyAHQckkNgIAIABBBUHYJSAHECwQJAALEAIACxAAIAAoAgAtAABBAnFBAXYLWQIBfwF9IwBBEGsiAiQAIAJBCGogACgCACIAQfwAaiAAIAFB/wFxQQF0ai8BaBAfQwAAwH8hAwJAAkAgAi0ADA4EAQAAAQALIAIqAgghAwsgAkEQaiQAIAMLTgEBfyMAQRBrIgMkACADQQhqIAEoAgAiAUH8AGogASACQf8BcUEBdGovAUQQHyADLQAMIQEgACADKgIIuzkDCCAAIAE2AgAgA0EQaiQAC14CAX8BfCMAQRBrIgIkACACQQhqIAAoAgAiAEH8AGogACABQf8BcUEBdGovAVYQH0QAAAAAAAD4fyEDAkACQCACLQAMDgQBAAABAAsgAioCCLshAwsgAkEQaiQAIAMLJAEBfUMAAMB/IAAoAgAiAEH8AGogAC8BehAgIgEgASABXBu7C0QBAX8jAEEQayICJAAgAkEIaiABKAIAIgFB/ABqIAEvAXgQHyACLQAMIQEgACACKgIIuzkDCCAAIAE2AgAgAkEQaiQAC0QBAX8jAEEQayICJAAgAkEIaiABKAIAIgFB/ABqIAEvAXYQHyACLQAMIQEgACACKgIIuzkDCCAAIAE2AgAgAkEQaiQAC0QBAX8jAEEQayICJAAgAkEIaiABKAIAIgFB/ABqIAEvAXQQHyACLQAMIQEgACACKgIIuzkDCCAAIAE2AgAgAkEQaiQAC0QBAX8jAEEQayICJAAgAkEIaiABKAIAIgFB/ABqIAEvAXIQHyACLQAMIQEgACACKgIIuzkDCCAAIAE2AgAgAkEQaiQAC0QBAX8jAEEQayICJAAgAkEIaiABKAIAIgFB/ABqIAEvAXAQHyACLQAMIQEgACACKgIIuzkDCCAAIAE2AgAgAkEQaiQAC0QBAX8jAEEQayICJAAgAkEIaiABKAIAIgFB/ABqIAEvAW4QHyACLQAMIQEgACACKgIIuzkDCCAAIAE2AgAgAkEQaiQAC0gCAX8BfQJ9IAAoAgAiAEH8AGoiASAALwEcECAiAiACXARAQwAAgD9DAAAAACAAKAL0Ay0ACEEBcRsMAQsgASAALwEcECALuws2AgF/AX0gACgCACIAQfwAaiIBIAAvARoQICICIAJcBEBEAAAAAAAAAAAPCyABIAAvARoQILsLRAEBfyMAQRBrIgIkACACQQhqIAEoAgAiAUH8AGogAS8BHhAfIAItAAwhASAAIAIqAgi7OQMIIAAgATYCACACQRBqJAALEAAgACgCAC0AF0ECdkEDcQsNACAAKAIALQAXQQNxC04BAX8jAEEQayIDJAAgA0EIaiABKAIAIgFB/ABqIAEgAkH/AXFBAXRqLwEgEB8gAy0ADCEBIAAgAyoCCLs5AwggACABNgIAIANBEGokAAsQACAAKAIALQAUQQR2QQdxCw0AIAAoAgAvABVBDnYLDQAgACgCAC0AFEEDcQsQACAAKAIALQAUQQJ2QQNxCw0AIAAoAgAvABZBD3ELEAAgACgCAC8AFUEEdkEPcQsNACAAKAIALwAVQQ9xC04BAX8jAEEQayIDJAAgA0EIaiABKAIAIgFB/ABqIAEgAkH/AXFBAXRqLwEyEB8gAy0ADCEBIAAgAyoCCLs5AwggACABNgIAIANBEGokAAsQACAAKAIALwAVQQx2QQNxCxAAIAAoAgAtABdBBHZBAXELgQECA38BfSMAQRBrIgMkACAAKAIAIQQCfSACtiIGIAZcBEBBACEAQwAAwH8MAQtBAEECIAZDAACAf1sgBkMAAID/W3IiBRshAEMAAMB/IAYgBRsLIQYgAyAAOgAMIAMgBjgCCCADIAMpAwg3AwAgBCABQf8BcSADEIgBIANBEGokAAt5AgF9An8jAEEQayIEJAAgACgCACEFIAQCfyACtiIDIANcBEBDAADAfyEDQQAMAQtDAADAfyADIANDAACAf1sgA0MAAID/W3IiABshAyAARQs6AAwgBCADOAIIIAQgBCkDCDcDACAFIAFB/wFxIAQQiAEgBEEQaiQAC3EBAX8CQCAAKAIAIgAtAAAiAkECcUEBdiABRg0AIAAgAkH9AXFBAkEAIAEbcjoAAANAIAAtAAAiAUEEcQ0BIAAgAUEEcjoAACAAKAIQIgEEQCAAIAERAAALIABBgICA/gc2ApwBIAAoAuQDIgANAAsLC4EBAgN/AX0jAEEQayIDJAAgACgCACEEAn0gArYiBiAGXARAQQAhAEMAAMB/DAELQQBBAiAGQwAAgH9bIAZDAACA/1tyIgUbIQBDAADAfyAGIAUbCyEGIAMgADoADCADIAY4AgggAyADKQMINwMAIAQgAUH/AXEgAxCOASADQRBqJAALeQIBfQJ/IwBBEGsiBCQAIAAoAgAhBSAEAn8gArYiAyADXARAQwAAwH8hA0EADAELQwAAwH8gAyADQwAAgH9bIANDAACA/1tyIgAbIQMgAEULOgAMIAQgAzgCCCAEIAQpAwg3AwAgBSABQf8BcSAEEI4BIARBEGokAAv5AQICfQR/IwBBEGsiBSQAIAAoAgAhAAJ/IAK2IgMgA1wEQEMAAMB/IQNBAAwBC0MAAMB/IAMgA0MAAIB/WyADQwAAgP9bciIGGyEDIAZFCyEGQQEhByAFQQhqIABB/ABqIgggACABQf8BcUEBdGpB1gBqIgEvAQAQHwJAAkAgAyAFKgIIIgRcBH8gBCAEWw0BIAMgA1wFIAcLRQ0AIAUtAAwgBkYNAQsgCCABIAMgBhA5A0AgAC0AACIBQQRxDQEgACABQQRyOgAAIAAoAhAiAQRAIAAgAREAAAsgAEGAgID+BzYCnAEgACgC5AMiAA0ACwsgBUEQaiQAC7UBAgN/An0CQCAAKAIAIgBB/ABqIgMgAEH6AGoiAi8BABAgIgYgAbYiBVsNACAFIAVbIgRFIAYgBlxxDQACQCAEIAVDAAAAAFsgBYtDAACAf1tyRXFFBEAgAiACLwEAQfj/A3E7AQAMAQsgAyACIAVBAxBMCwNAIAAtAAAiAkEEcQ0BIAAgAkEEcjoAACAAKAIQIgIEQCAAIAIRAAALIABBgICA/gc2ApwBIAAoAuQDIgANAAsLC3wCA38BfSMAQRBrIgIkACAAKAIAIQMCfSABtiIFIAVcBEBBACEAQwAAwH8MAQtBAEECIAVDAACAf1sgBUMAAID/W3IiBBshAEMAAMB/IAUgBBsLIQUgAiAAOgAMIAIgBTgCCCACIAIpAwg3AwAgA0EBIAIQVSACQRBqJAALdAIBfQJ/IwBBEGsiAyQAIAAoAgAhBCADAn8gAbYiAiACXARAQwAAwH8hAkEADAELQwAAwH8gAiACQwAAgH9bIAJDAACA/1tyIgAbIQIgAEULOgAMIAMgAjgCCCADIAMpAwg3AwAgBEEBIAMQVSADQRBqJAALfAIDfwF9IwBBEGsiAiQAIAAoAgAhAwJ9IAG2IgUgBVwEQEEAIQBDAADAfwwBC0EAQQIgBUMAAIB/WyAFQwAAgP9bciIEGyEAQwAAwH8gBSAEGwshBSACIAA6AAwgAiAFOAIIIAIgAikDCDcDACADQQAgAhBVIAJBEGokAAt0AgF9An8jAEEQayIDJAAgACgCACEEIAMCfyABtiICIAJcBEBDAADAfyECQQAMAQtDAADAfyACIAJDAACAf1sgAkMAAID/W3IiABshAiAARQs6AAwgAyACOAIIIAMgAykDCDcDACAEQQAgAxBVIANBEGokAAt8AgN/AX0jAEEQayICJAAgACgCACEDAn0gAbYiBSAFXARAQQAhAEMAAMB/DAELQQBBAiAFQwAAgH9bIAVDAACA/1tyIgQbIQBDAADAfyAFIAQbCyEFIAIgADoADCACIAU4AgggAiACKQMINwMAIANBASACEFYgAkEQaiQAC3QCAX0CfyMAQRBrIgMkACAAKAIAIQQgAwJ/IAG2IgIgAlwEQEMAAMB/IQJBAAwBC0MAAMB/IAIgAkMAAIB/WyACQwAAgP9bciIAGyECIABFCzoADCADIAI4AgggAyADKQMINwMAIARBASADEFYgA0EQaiQAC3wCA38BfSMAQRBrIgIkACAAKAIAIQMCfSABtiIFIAVcBEBBACEAQwAAwH8MAQtBAEECIAVDAACAf1sgBUMAAID/W3IiBBshAEMAAMB/IAUgBBsLIQUgAiAAOgAMIAIgBTgCCCACIAIpAwg3AwAgA0EAIAIQViACQRBqJAALdAIBfQJ/IwBBEGsiAyQAIAAoAgAhBCADAn8gAbYiAiACXARAQwAAwH8hAkEADAELQwAAwH8gAiACQwAAgH9bIAJDAACA/1tyIgAbIQIgAEULOgAMIAMgAjgCCCADIAMpAwg3AwAgBEEAIAMQViADQRBqJAALPwEBfyMAQRBrIgEkACAAKAIAIQAgAUEDOgAMIAFBgICA/gc2AgggASABKQMINwMAIABBASABEEYgAUEQaiQAC3wCA38BfSMAQRBrIgIkACAAKAIAIQMCfSABtiIFIAVcBEBBACEAQwAAwH8MAQtBAEECIAVDAACAf1sgBUMAAID/W3IiBBshAEMAAMB/IAUgBBsLIQUgAiAAOgAMIAIgBTgCCCACIAIpAwg3AwAgA0EBIAIQRiACQRBqJAALdAIBfQJ/IwBBEGsiAyQAIAAoAgAhBCADAn8gAbYiAiACXARAQwAAwH8hAkEADAELQwAAwH8gAiACQwAAgH9bIAJDAACA/1tyIgAbIQIgAEULOgAMIAMgAjgCCCADIAMpAwg3AwAgBEEBIAMQRiADQRBqJAALPwEBfyMAQRBrIgEkACAAKAIAIQAgAUEDOgAMIAFBgICA/gc2AgggASABKQMINwMAIABBACABEEYgAUEQaiQAC3wCA38BfSMAQRBrIgIkACAAKAIAIQMCfSABtiIFIAVcBEBBACEAQwAAwH8MAQtBAEECIAVDAACAf1sgBUMAAID/W3IiBBshAEMAAMB/IAUgBBsLIQUgAiAAOgAMIAIgBTgCCCACIAIpAwg3AwAgA0EAIAIQRiACQRBqJAALdAIBfQJ/IwBBEGsiAyQAIAAoAgAhBCADAn8gAbYiAiACXARAQwAAwH8hAkEADAELQwAAwH8gAiACQwAAgH9bIAJDAACA/1tyIgAbIQIgAEULOgAMIAMgAjgCCCADIAMpAwg3AwAgBEEAIAMQRiADQRBqJAALoAECA38CfQJAIAAoAgAiAEH8AGoiAyAAQRxqIgIvAQAQICIGIAG2IgVbDQAgBSAFWyIERSAGIAZccQ0AAkAgBEUEQCACIAIvAQBB+P8DcTsBAAwBCyADIAIgBUEDEEwLA0AgAC0AACICQQRxDQEgACACQQRyOgAAIAAoAhAiAgRAIAAgAhEAAAsgAEGAgID+BzYCnAEgACgC5AMiAA0ACwsLoAECA38CfQJAIAAoAgAiAEH8AGoiAyAAQRpqIgIvAQAQICIGIAG2IgVbDQAgBSAFWyIERSAGIAZccQ0AAkAgBEUEQCACIAIvAQBB+P8DcTsBAAwBCyADIAIgBUEDEEwLA0AgAC0AACICQQRxDQEgACACQQRyOgAAIAAoAhAiAgRAIAAgAhEAAAsgAEGAgID+BzYCnAEgACgC5AMiAA0ACwsLPQEBfyMAQRBrIgEkACAAKAIAIQAgAUEDOgAMIAFBgICA/gc2AgggASABKQMINwMAIAAgARBrIAFBEGokAAt6AgN/AX0jAEEQayICJAAgACgCACEDAn0gAbYiBSAFXARAQQAhAEMAAMB/DAELQQBBAiAFQwAAgH9bIAVDAACA/1tyIgQbIQBDAADAfyAFIAQbCyEFIAIgADoADCACIAU4AgggAiACKQMINwMAIAMgAhBrIAJBEGokAAtyAgF9An8jAEEQayIDJAAgACgCACEEIAMCfyABtiICIAJcBEBDAADAfyECQQAMAQtDAADAfyACIAJDAACAf1sgAkMAAID/W3IiABshAiAARQs6AAwgAyACOAIIIAMgAykDCDcDACAEIAMQayADQRBqJAALoAECA38CfQJAIAAoAgAiAEH8AGoiAyAAQRhqIgIvAQAQICIGIAG2IgVbDQAgBSAFWyIERSAGIAZccQ0AAkAgBEUEQCACIAIvAQBB+P8DcTsBAAwBCyADIAIgBUEDEEwLA0AgAC0AACICQQRxDQEgACACQQRyOgAAIAAoAhAiAgRAIAAgAhEAAAsgAEGAgID+BzYCnAEgACgC5AMiAA0ACwsLkAEBAX8CQCAAKAIAIgBBF2otAAAiAkECdkEDcSABQf8BcUYNACAAIAAvABUgAkEQdHIiAjsAFSAAIAJB///PB3EgAUEDcUESdHJBEHY6ABcDQCAALQAAIgFBBHENASAAIAFBBHI6AAAgACgCECIBBEAgACABEQAACyAAQYCAgP4HNgKcASAAKALkAyIADQALCwuNAQEBfwJAIAAoAgAiAEEXai0AACICQQNxIAFB/wFxRg0AIAAgAC8AFSACQRB0ciICOwAVIAAgAkH///MHcSABQQNxQRB0ckEQdjoAFwNAIAAtAAAiAUEEcQ0BIAAgAUEEcjoAACAAKAIQIgEEQCAAIAERAAALIABBgICA/gc2ApwBIAAoAuQDIgANAAsLC0MBAX8jAEEQayICJAAgACgCACEAIAJBAzoADCACQYCAgP4HNgIIIAIgAikDCDcDACAAIAFB/wFxIAIQZSACQRBqJAALgAECA38BfSMAQRBrIgMkACAAKAIAIQQCfSACtiIGIAZcBEBBACEAQwAAwH8MAQtBAEECIAZDAACAf1sgBkMAAID/W3IiBRshAEMAAMB/IAYgBRsLIQYgAyAAOgAMIAMgBjgCCCADIAMpAwg3AwAgBCABQf8BcSADEGUgA0EQaiQAC3gCAX0CfyMAQRBrIgQkACAAKAIAIQUgBAJ/IAK2IgMgA1wEQEMAAMB/IQNBAAwBC0MAAMB/IAMgA0MAAIB/WyADQwAAgP9bciIAGyEDIABFCzoADCAEIAM4AgggBCAEKQMINwMAIAUgAUH/AXEgBBBlIARBEGokAAt3AQF/AkAgACgCACIALQAUIgJBBHZBB3EgAUH/AXFGDQAgACACQY8BcSABQQR0QfAAcXI6ABQDQCAALQAAIgFBBHENASAAIAFBBHI6AAAgACgCECIBBEAgACABEQAACyAAQYCAgP4HNgKcASAAKALkAyIADQALCwuJAQEBfwJAIAFB/wFxIAAoAgAiAC8AFSICQQ52Rg0AIABBF2ogAiAALQAXQRB0ciICQRB2OgAAIAAgAkH//wBxIAFBDnRyOwAVA0AgAC0AACIBQQRxDQEgACABQQRyOgAAIAAoAhAiAQRAIAAgAREAAAsgAEGAgID+BzYCnAEgACgC5AMiAA0ACwsLcAEBfwJAIAAoAgAiAC0AFCICQQNxIAFB/wFxRg0AIAAgAkH8AXEgAUEDcXI6ABQDQCAALQAAIgFBBHENASAAIAFBBHI6AAAgACgCECIBBEAgACABEQAACyAAQYCAgP4HNgKcASAAKALkAyIADQALCwt2AQF/AkAgACgCACIALQAUIgJBAnZBA3EgAUH/AXFGDQAgACACQfMBcSABQQJ0QQxxcjoAFANAIAAtAAAiAUEEcQ0BIAAgAUEEcjoAACAAKAIQIgEEQCAAIAERAAALIABBgICA/gc2ApwBIAAoAuQDIgANAAsLC48BAQF/AkAgACgCACIALwAVIgJBCHZBD3EgAUH/AXFGDQAgAEEXaiACIAAtABdBEHRyIgJBEHY6AAAgACACQf/hA3EgAUEPcUEIdHI7ABUDQCAALQAAIgFBBHENASAAIAFBBHI6AAAgACgCECIBBEAgACABEQAACyAAQYCAgP4HNgKcASAAKALkAyIADQALCwuPAQEBfwJAIAFB/wFxIAAoAgAiAC8AFSAAQRdqLQAAQRB0ciICQfABcUEEdkYNACAAIAJBEHY6ABcgACACQY/+A3EgAUEEdEHwAXFyOwAVA0AgAC0AACIBQQRxDQEgACABQQRyOgAAIAAoAhAiAQRAIAAgAREAAAsgAEGAgID+BzYCnAEgACgC5AMiAA0ACwsLhwEBAX8CQCAAKAIAIgAvABUgAEEXai0AAEEQdHIiAkEPcSABQf8BcUYNACAAIAJBEHY6ABcgACACQfD/A3EgAUEPcXI7ABUDQCAALQAAIgFBBHENASAAIAFBBHI6AAAgACgCECIBBEAgACABEQAACyAAQYCAgP4HNgKcASAAKALkAyIADQALCwtDAQF/IwBBEGsiAiQAIAAoAgAhACACQQM6AAwgAkGAgID+BzYCCCACIAIpAwg3AwAgACABQf8BcSACEGcgAkEQaiQAC4ABAgN/AX0jAEEQayIDJAAgACgCACEEAn0gArYiBiAGXARAQQAhAEMAAMB/DAELQQBBAiAGQwAAgH9bIAZDAACA/1tyIgUbIQBDAADAfyAGIAUbCyEGIAMgADoADCADIAY4AgggAyADKQMINwMAIAQgAUH/AXEgAxBnIANBEGokAAt4AgF9An8jAEEQayIEJAAgACgCACEFIAQCfyACtiIDIANcBEBDAADAfyEDQQAMAQtDAADAfyADIANDAACAf1sgA0MAAID/W3IiABshAyAARQs6AAwgBCADOAIIIAQgBCkDCDcDACAFIAFB/wFxIAQQZyAEQRBqJAALjwEBAX8CQCAAKAIAIgAvABUiAkEMdkEDcSABQf8BcUYNACAAQRdqIAIgAC0AF0EQdHIiAkEQdjoAACAAIAJB/58DcSABQQNxQQx0cjsAFQNAIAAtAAAiAUEEcQ0BIAAgAUEEcjoAACAAKAIQIgEEQCAAIAERAAALIABBgICA/gc2ApwBIAAoAuQDIgANAAsLC5ABAQF/AkAgACgCACIAQRdqLQAAIgJBBHZBAXEgAUH/AXFGDQAgACAALwAVIAJBEHRyIgI7ABUgACACQf//vwdxIAFBAXFBFHRyQRB2OgAXA0AgAC0AACIBQQRxDQEgACABQQRyOgAAIAAoAhAiAQRAIAAgAREAAAsgAEGAgID+BzYCnAEgACgC5AMiAA0ACwsL9g0CCH8CfSMAQRBrIgIkAAJAAkAgASgCACIFLQAUIAAoAgAiAS0AFHNB/wBxDQAgBS8AFSAFLQAXQRB0ciABLwAVIAEtABdBEHRyc0H//z9xDQAgBUH8AGohByABQfwAaiEIAkAgAS8AGCIAQQdxRQRAIAUtABhBB3FFDQELIAggABAgIgogByAFLwAYECAiC1sNACAKIApbIAsgC1tyDQELAkAgAS8AGiIAQQdxRQRAIAUtABpBB3FFDQELIAggABAgIgogByAFLwAaECAiC1sNACAKIApbIAsgC1tyDQELAkAgAS8AHCIAQQdxRQRAIAUtABxBB3FFDQELIAggABAgIgogByAFLwAcECAiC1sNACAKIApbIAsgC1tyDQELAkAgAS8AHiIAQQdxRQRAIAUtAB5BB3FFDQELIAJBCGogCCAAEB8gAiAHIAUvAB4QH0EBIQAgAioCCCIKIAIqAgAiC1wEfyAKIApbDQIgCyALXAUgAAtFDQEgAi0ADCACLQAERw0BCyAFQSBqIQAgAUEgaiEGA0ACQCAGIANBAXRqLwAAIgRBB3FFBEAgAC0AAEEHcUUNAQsgAkEIaiAIIAQQHyACIAcgAC8AABAfQQEhBCACKgIIIgogAioCACILXAR/IAogClsNAyALIAtcBSAEC0UNAiACLQAMIAItAARHDQILIABBAmohACADQQFqIgNBCUcNAAsgBUEyaiEAIAFBMmohBkEAIQMDQAJAIAYgA0EBdGovAAAiBEEHcUUEQCAALQAAQQdxRQ0BCyACQQhqIAggBBAfIAIgByAALwAAEB9BASEEIAIqAggiCiACKgIAIgtcBH8gCiAKWw0DIAsgC1wFIAQLRQ0CIAItAAwgAi0ABEcNAgsgAEECaiEAIANBAWoiA0EJRw0ACyAFQcQAaiEAIAFBxABqIQZBACEDA0ACQCAGIANBAXRqLwAAIgRBB3FFBEAgAC0AAEEHcUUNAQsgAkEIaiAIIAQQHyACIAcgAC8AABAfQQEhBCACKgIIIgogAioCACILXAR/IAogClsNAyALIAtcBSAEC0UNAiACLQAMIAItAARHDQILIABBAmohACADQQFqIgNBCUcNAAsgBUHWAGohACABQdYAaiEGQQAhAwNAAkAgBiADQQF0ai8AACIEQQdxRQRAIAAtAABBB3FFDQELIAJBCGogCCAEEB8gAiAHIAAvAAAQH0EBIQQgAioCCCIKIAIqAgAiC1wEfyAKIApbDQMgCyALXAUgBAtFDQIgAi0ADCACLQAERw0CCyAAQQJqIQAgA0EBaiIDQQlHDQALIAVB6ABqIQAgAUHoAGohBkEAIQMDQAJAIAYgA0EBdGovAAAiBEEHcUUEQCAALQAAQQdxRQ0BCyACQQhqIAggBBAfIAIgByAALwAAEB9BASEEIAIqAggiCiACKgIAIgtcBH8gCiAKWw0DIAsgC1wFIAQLRQ0CIAItAAwgAi0ABEcNAgsgAEECaiEAIANBAWoiA0EDRw0ACyAFQe4AaiEAIAFB7gBqIQlBACEEQQAhAwNAAkAgCSADQQF0ai8AACIGQQdxRQRAIAAtAABBB3FFDQELIAJBCGogCCAGEB8gAiAHIAAvAAAQH0EBIQMgAioCCCIKIAIqAgAiC1wEfyAKIApbDQMgCyALXAUgAwtFDQIgAi0ADCACLQAERw0CCyAAQQJqIQBBASEDIAQhBkEBIQQgBkUNAAsgBUHyAGohACABQfIAaiEJQQAhBEEAIQMDQAJAIAkgA0EBdGovAAAiBkEHcUUEQCAALQAAQQdxRQ0BCyACQQhqIAggBhAfIAIgByAALwAAEB9BASEDIAIqAggiCiACKgIAIgtcBH8gCiAKWw0DIAsgC1wFIAMLRQ0CIAItAAwgAi0ABEcNAgsgAEECaiEAQQEhAyAEIQZBASEEIAZFDQALIAVB9gBqIQAgAUH2AGohCUEAIQRBACEDA0ACQCAJIANBAXRqLwAAIgZBB3FFBEAgAC0AAEEHcUUNAQsgAkEIaiAIIAYQHyACIAcgAC8AABAfQQEhAyACKgIIIgogAioCACILXAR/IAogClsNAyALIAtcBSADC0UNAiACLQAMIAItAARHDQILIABBAmohAEEBIQMgBCEGQQEhBCAGRQ0ACyABLwB6IgBBB3FFBEAgBS0AekEHcUUNAgsgCCAAECAiCiAHIAUvAHoQICILWw0BIAogClsNACALIAtcDQELIAFBFGogBUEUakHoABArGiABQfwAaiAFQfwAahCgAQNAIAEtAAAiAEEEcQ0BIAEgAEEEcjoAACABKAIQIgAEQCABIAARAAALIAFBgICA/gc2ApwBIAEoAuQDIgENAAsLIAJBEGokAAvGAwEEfyMAQaAEayICJAAgACgCBCEBIABBADYCBCABBEAgASABKAIAKAIEEQAACyAAKAIIIQEgAEEANgIIIAEEQCABIAEoAgAoAgQRAAALAkAgACgCACIAKALoAyAAKALsA0YEQCAAKALkAw0BIAAgAkEYaiAAKAL0AxBcIgEpAgA3AgAgACABKAIQNgIQIAAgASkCCDcCCCAAQRRqIAFBFGpB6AAQKxogACABKQKMATcCjAEgACABKQKEATcChAEgACABKQJ8NwJ8IAEoApQBIQQgAUEANgKUASAAKAKUASEDIAAgBDYClAEgAwRAIAMQWwsgAEGYAWogAUGYAWpB0AIQKxogACgC6AMiAwRAIAAgAzYC7AMgAxAjCyAAIAEoAugDNgLoAyAAIAEoAuwDNgLsAyAAIAEoAvADNgLwAyABQQA2AvADIAFCADcC6AMgACABKQL8AzcC/AMgACABKQL0AzcC9AMgACABKAKEBDYChAQgASgClAEhACABQQA2ApQBIAAEQCAAEFsLIAJBoARqJAAPCyACQfAcNgIQIABBBUHYJSACQRBqECwQJAALIAJB5hE2AgAgAEEFQdglIAIQLBAkAAsLAEEMEB4gABCiAQsLAEEMEB5BABCiAQsNACAAKAIALQAIQQFxCwoAIAAoAgAoAhQLGQAgAUH/AXEEQBACAAsgACgCACgCEEEBcQsYACAAKAIAIgAgAC0ACEH+AXEgAXI6AAgLJgAgASAAKAIAIgAoAhRHBEAgACABNgIUIAAgACgCDEEBajYCDAsLkgEBAn8jAEEQayICJAAgACgCACEAIAFDAAAAAGAEQCABIAAqAhhcBEAgACABOAIYIAAgACgCDEEBajYCDAsgAkEQaiQADwsgAkGIFDYCACMAQRBrIgMkACADIAI2AgwCQCAARQRAQbgwQdglIAIQSRoMAQsgAEEAQQVB2CUgAiAAKAIEEQ0AGgsgA0EQaiQAECQACz8AIAFB/wFxRQRAIAIgACgCACIAKAIQIgFBAXFHBEAgACABQX5xIAJyNgIQIAAgACgCDEEBajYCDAsPCxACAAsL4CYjAEGACAuBHk9ubHkgbGVhZiBub2RlcyB3aXRoIGN1c3RvbSBtZWFzdXJlIGZ1bmN0aW9ucyBzaG91bGQgbWFudWFsbHkgbWFyayB0aGVtc2VsdmVzIGFzIGRpcnR5AGlzRGlydHkAbWFya0RpcnR5AGRlc3Ryb3kAc2V0RGlzcGxheQBnZXREaXNwbGF5AHNldEZsZXgALSsgICAwWDB4AC0wWCswWCAwWC0weCsweCAweABzZXRGbGV4R3JvdwBnZXRGbGV4R3JvdwBzZXRPdmVyZmxvdwBnZXRPdmVyZmxvdwBoYXNOZXdMYXlvdXQAY2FsY3VsYXRlTGF5b3V0AGdldENvbXB1dGVkTGF5b3V0AHVuc2lnbmVkIHNob3J0AGdldENoaWxkQ291bnQAdW5zaWduZWQgaW50AHNldEp1c3RpZnlDb250ZW50AGdldEp1c3RpZnlDb250ZW50AGF2YWlsYWJsZUhlaWdodCBpcyBpbmRlZmluaXRlIHNvIGhlaWdodFNpemluZ01vZGUgbXVzdCBiZSBTaXppbmdNb2RlOjpNYXhDb250ZW50AGF2YWlsYWJsZVdpZHRoIGlzIGluZGVmaW5pdGUgc28gd2lkdGhTaXppbmdNb2RlIG11c3QgYmUgU2l6aW5nTW9kZTo6TWF4Q29udGVudABzZXRBbGlnbkNvbnRlbnQAZ2V0QWxpZ25Db250ZW50AGdldFBhcmVudABpbXBsZW1lbnQAc2V0TWF4SGVpZ2h0UGVyY2VudABzZXRIZWlnaHRQZXJjZW50AHNldE1pbkhlaWdodFBlcmNlbnQAc2V0RmxleEJhc2lzUGVyY2VudABzZXRHYXBQZXJjZW50AHNldFBvc2l0aW9uUGVyY2VudABzZXRNYXJnaW5QZXJjZW50AHNldE1heFdpZHRoUGVyY2VudABzZXRXaWR0aFBlcmNlbnQAc2V0TWluV2lkdGhQZXJjZW50AHNldFBhZGRpbmdQZXJjZW50AGhhbmRsZS50eXBlKCkgPT0gU3R5bGVWYWx1ZUhhbmRsZTo6VHlwZTo6UG9pbnQgfHwgaGFuZGxlLnR5cGUoKSA9PSBTdHlsZVZhbHVlSGFuZGxlOjpUeXBlOjpQZXJjZW50AGNyZWF0ZURlZmF1bHQAdW5pdAByaWdodABoZWlnaHQAc2V0TWF4SGVpZ2h0AGdldE1heEhlaWdodABzZXRIZWlnaHQAZ2V0SGVpZ2h0AHNldE1pbkhlaWdodABnZXRNaW5IZWlnaHQAZ2V0Q29tcHV0ZWRIZWlnaHQAZ2V0Q29tcHV0ZWRSaWdodABsZWZ0AGdldENvbXB1dGVkTGVmdAByZXNldABfX2Rlc3RydWN0AGZsb2F0AHVpbnQ2NF90AHVzZVdlYkRlZmF1bHRzAHNldFVzZVdlYkRlZmF1bHRzAHNldEFsaWduSXRlbXMAZ2V0QWxpZ25JdGVtcwBzZXRGbGV4QmFzaXMAZ2V0RmxleEJhc2lzAENhbm5vdCBnZXQgbGF5b3V0IHByb3BlcnRpZXMgb2YgbXVsdGktZWRnZSBzaG9ydGhhbmRzAHNldFBvaW50U2NhbGVGYWN0b3IATWVhc3VyZUNhbGxiYWNrV3JhcHBlcgBEaXJ0aWVkQ2FsbGJhY2tXcmFwcGVyAENhbm5vdCByZXNldCBhIG5vZGUgc3RpbGwgYXR0YWNoZWQgdG8gYSBvd25lcgBzZXRCb3JkZXIAZ2V0Qm9yZGVyAGdldENvbXB1dGVkQm9yZGVyAGdldE51bWJlcgBoYW5kbGUudHlwZSgpID09IFN0eWxlVmFsdWVIYW5kbGU6OlR5cGU6Ok51bWJlcgB1bnNpZ25lZCBjaGFyAHRvcABnZXRDb21wdXRlZFRvcABzZXRGbGV4V3JhcABnZXRGbGV4V3JhcABzZXRHYXAAZ2V0R2FwACVwAHNldEhlaWdodEF1dG8Ac2V0RmxleEJhc2lzQXV0bwBzZXRQb3NpdGlvbkF1dG8Ac2V0TWFyZ2luQXV0bwBzZXRXaWR0aEF1dG8AU2NhbGUgZmFjdG9yIHNob3VsZCBub3QgYmUgbGVzcyB0aGFuIHplcm8Ac2V0QXNwZWN0UmF0aW8AZ2V0QXNwZWN0UmF0aW8Ac2V0UG9zaXRpb24AZ2V0UG9zaXRpb24Abm90aWZ5T25EZXN0cnVjdGlvbgBzZXRGbGV4RGlyZWN0aW9uAGdldEZsZXhEaXJlY3Rpb24Ac2V0RGlyZWN0aW9uAGdldERpcmVjdGlvbgBzZXRNYXJnaW4AZ2V0TWFyZ2luAGdldENvbXB1dGVkTWFyZ2luAG1hcmtMYXlvdXRTZWVuAG5hbgBib3R0b20AZ2V0Q29tcHV0ZWRCb3R0b20AYm9vbABlbXNjcmlwdGVuOjp2YWwAc2V0RmxleFNocmluawBnZXRGbGV4U2hyaW5rAHNldEFsd2F5c0Zvcm1zQ29udGFpbmluZ0Jsb2NrAE1lYXN1cmVDYWxsYmFjawBEaXJ0aWVkQ2FsbGJhY2sAZ2V0TGVuZ3RoAHdpZHRoAHNldE1heFdpZHRoAGdldE1heFdpZHRoAHNldFdpZHRoAGdldFdpZHRoAHNldE1pbldpZHRoAGdldE1pbldpZHRoAGdldENvbXB1dGVkV2lkdGgAcHVzaAAvaG9tZS9ydW5uZXIvd29yay95b2dhL3lvZ2EvamF2YXNjcmlwdC8uLi95b2dhL3N0eWxlL1NtYWxsVmFsdWVCdWZmZXIuaAAvaG9tZS9ydW5uZXIvd29yay95b2dhL3lvZ2EvamF2YXNjcmlwdC8uLi95b2dhL3N0eWxlL1N0eWxlVmFsdWVQb29sLmgAdW5zaWduZWQgbG9uZwBzZXRCb3hTaXppbmcAZ2V0Qm94U2l6aW5nAHN0ZDo6d3N0cmluZwBzdGQ6OnN0cmluZwBzdGQ6OnUxNnN0cmluZwBzdGQ6OnUzMnN0cmluZwBzZXRQYWRkaW5nAGdldFBhZGRpbmcAZ2V0Q29tcHV0ZWRQYWRkaW5nAFRyaWVkIHRvIGNvbnN0cnVjdCBZR05vZGUgd2l0aCBudWxsIGNvbmZpZwBBdHRlbXB0aW5nIHRvIGNvbnN0cnVjdCBOb2RlIHdpdGggbnVsbCBjb25maWcAY3JlYXRlV2l0aENvbmZpZwBpbmYAc2V0QWxpZ25TZWxmAGdldEFsaWduU2VsZgBTaXplAHZhbHVlAFZhbHVlAGNyZWF0ZQBtZWFzdXJlAHNldFBvc2l0aW9uVHlwZQBnZXRQb3NpdGlvblR5cGUAaXNSZWZlcmVuY2VCYXNlbGluZQBzZXRJc1JlZmVyZW5jZUJhc2VsaW5lAGNvcHlTdHlsZQBkb3VibGUATm9kZQBleHRlbmQAaW5zZXJ0Q2hpbGQAZ2V0Q2hpbGQAcmVtb3ZlQ2hpbGQAdm9pZABzZXRFeHBlcmltZW50YWxGZWF0dXJlRW5hYmxlZABpc0V4cGVyaW1lbnRhbEZlYXR1cmVFbmFibGVkAGRpcnRpZWQAQ2Fubm90IHJlc2V0IGEgbm9kZSB3aGljaCBzdGlsbCBoYXMgY2hpbGRyZW4gYXR0YWNoZWQAdW5zZXRNZWFzdXJlRnVuYwB1bnNldERpcnRpZWRGdW5jAHNldEVycmF0YQBnZXRFcnJhdGEATWVhc3VyZSBmdW5jdGlvbiByZXR1cm5lZCBhbiBpbnZhbGlkIGRpbWVuc2lvbiB0byBZb2dhOiBbd2lkdGg9JWYsIGhlaWdodD0lZl0ARXhwZWN0IGN1c3RvbSBiYXNlbGluZSBmdW5jdGlvbiB0byBub3QgcmV0dXJuIE5hTgBOQU4ASU5GAGVtc2NyaXB0ZW46Om1lbW9yeV92aWV3PHNob3J0PgBlbXNjcmlwdGVuOjptZW1vcnlfdmlldzx1bnNpZ25lZCBzaG9ydD4AZW1zY3JpcHRlbjo6bWVtb3J5X3ZpZXc8aW50PgBlbXNjcmlwdGVuOjptZW1vcnlfdmlldzx1bnNpZ25lZCBpbnQ+AGVtc2NyaXB0ZW46Om1lbW9yeV92aWV3PGZsb2F0PgBlbXNjcmlwdGVuOjptZW1vcnlfdmlldzx1aW50OF90PgBlbXNjcmlwdGVuOjptZW1vcnlfdmlldzxpbnQ4X3Q+AGVtc2NyaXB0ZW46Om1lbW9yeV92aWV3PHVpbnQxNl90PgBlbXNjcmlwdGVuOjptZW1vcnlfdmlldzxpbnQxNl90PgBlbXNjcmlwdGVuOjptZW1vcnlfdmlldzx1aW50MzJfdD4AZW1zY3JpcHRlbjo6bWVtb3J5X3ZpZXc8aW50MzJfdD4AZW1zY3JpcHRlbjo6bWVtb3J5X3ZpZXc8Y2hhcj4AZW1zY3JpcHRlbjo6bWVtb3J5X3ZpZXc8dW5zaWduZWQgY2hhcj4Ac3RkOjpiYXNpY19zdHJpbmc8dW5zaWduZWQgY2hhcj4AZW1zY3JpcHRlbjo6bWVtb3J5X3ZpZXc8c2lnbmVkIGNoYXI+AGVtc2NyaXB0ZW46Om1lbW9yeV92aWV3PGxvbmc+AGVtc2NyaXB0ZW46Om1lbW9yeV92aWV3PHVuc2lnbmVkIGxvbmc+AGVtc2NyaXB0ZW46Om1lbW9yeV92aWV3PGRvdWJsZT4AQ2hpbGQgYWxyZWFkeSBoYXMgYSBvd25lciwgaXQgbXVzdCBiZSByZW1vdmVkIGZpcnN0LgBDYW5ub3Qgc2V0IG1lYXN1cmUgZnVuY3Rpb246IE5vZGVzIHdpdGggbWVhc3VyZSBmdW5jdGlvbnMgY2Fubm90IGhhdmUgY2hpbGRyZW4uAENhbm5vdCBhZGQgY2hpbGQ6IE5vZGVzIHdpdGggbWVhc3VyZSBmdW5jdGlvbnMgY2Fubm90IGhhdmUgY2hpbGRyZW4uAChudWxsKQBpbmRleCA8IDQwOTYgJiYgIlNtYWxsVmFsdWVCdWZmZXIgY2FuIG9ubHkgaG9sZCB1cCB0byA0MDk2IGNodW5rcyIAJXMKAAEAAAADAAAAAAAAAAIAAAADAAAAAQAAAAIAAAAAAAAAAQAAAAEAQYwmCwdpaQB2AHZpAEGgJgs3ox0AAKEdAADhHQAA2x0AAOEdAADbHQAAaWlpZmlmaQDUHQAApB0AAHZpaQClHQAA6B0AAGlpaQBB4CYLCcQAAADFAAAAxgBB9CYLDsQAAADHAAAAyAAAANQdAEGQJws+ox0AAOEdAADbHQAA4R0AANsdAADoHQAA4x0AAOgdAABpaWlpAAAAANQdAAC5HQAA1B0AALsdAAC8HQAA6B0AQdgnCwnJAAAAygAAAMsAQewnCxbJAAAAzAAAAMgAAAC/HQAA1B0AAL8dAEGQKAuiA9QdAAC/HQAA2x0AANUdAAB2aWlpaQAAANQdAAC/HQAA4R0AAHZpaWYAAAAA1B0AAL8dAADbHQAAdmlpaQAAAADUHQAAvx0AANUdAADVHQAAwB0AANsdAADbHQAAwB0AANUdAADAHQAAaQBkaWkAdmlpZAAAxB0AAMQdAAC/HQAA1B0AAMQdAADUHQAAxB0AAMMdAADUHQAAxB0AANsdAADUHQAAxB0AANsdAADiHQAAdmlpaWQAAADUHQAAxB0AAOIdAADbHQAAxR0AAMIdAADFHQAA2x0AAMIdAADFHQAA4h0AAMUdAADiHQAAxR0AANsdAABkaWlpAAAAAOEdAADEHQAA2x0AAGZpaWkAAAAA1B0AAMQdAADEHQAA3B0AANQdAADEHQAAxB0AANwdAADFHQAAxB0AAMQdAADEHQAAxB0AANwdAADUHQAAxB0AANUdAADVHQAAxB0AANQdAADEHQAAoR0AANQdAADEHQAAuR0AANUdAADFHQAAAAAAANQdAADEHQAA4h0AAOIdAADbHQAAdmlpZGRpAADBHQAAxR0AQcArC0EZAAoAGRkZAAAAAAUAAAAAAAAJAAAAAAsAAAAAAAAAABkAEQoZGRkDCgcAAQAJCxgAAAkGCwAACwAGGQAAABkZGQBBkSwLIQ4AAAAAAAAAABkACg0ZGRkADQAAAgAJDgAAAAkADgAADgBByywLAQwAQdcsCxUTAAAAABMAAAAACQwAAAAAAAwAAAwAQYUtCwEQAEGRLQsVDwAAAAQPAAAAAAkQAAAAAAAQAAAQAEG/LQsBEgBByy0LHhEAAAAAEQAAAAAJEgAAAAAAEgAAEgAAGgAAABoaGgBBgi4LDhoAAAAaGhoAAAAAAAAJAEGzLgsBFABBvy4LFRcAAAAAFwAAAAAJFAAAAAAAFAAAFABB7S4LARYAQfkuCycVAAAAABUAAAAACRYAAAAAABYAABYAADAxMjM0NTY3ODlBQkNERUYAQcQvCwHSAEHsLwsI//////////8AQbAwCwkQIgEAAAAAAAUAQcQwCwHNAEHcMAsKzgAAAM8AAAD8HQBB9DALAQIAQYQxCwj//////////wBByDELAQUAQdQxCwHQAEHsMQsOzgAAANEAAAAIHgAAAAQAQYQyCwEBAEGUMgsF/////woAQdgyCwHT",!W(O)){var G=O;O=n.locateFile?n.locateFile(G,o):o+G}function q(){var he=O;try{if(he==O&&u)return new Uint8Array(u);if(W(he))try{var pe=tt(he.slice(37)),Ie=new Uint8Array(pe.length);for(he=0;he<pe.length;++he)Ie[he]=pe.charCodeAt(he);var Le=Ie}catch{throw Error("Converting base64 string to bytes failed.")}else Le=void 0;var Ke=Le;if(Ke)return Ke;throw"both async and sync fetching of the wasm failed"}catch(pt){H(pt)}}function J(){return u||typeof fetch!="function"?Promise.resolve().then(function(){return q()}):fetch(O,{credentials:"same-origin"}).then(function(he){if(!he.ok)throw"failed to load wasm binary file at '"+O+"'";return he.arrayBuffer()}).catch(function(){return q()})}function te(he){for(;0<he.length;)he.shift()(n)}function Y(he){if(he===void 0)return"_unknown";he=he.replace(/[^a-zA-Z0-9_]/g,"$");var pe=he.charCodeAt(0);return 48<=pe&&57>=pe?"_"+he:he}function Z(he,pe){return he=Y(he),function(){return pe.apply(this,arguments)}}var ee=[{},{value:void 0},{value:null},{value:!0},{value:!1}],ie=[];function ue(he){var pe=Error,Ie=Z(he,function(Le){this.name=he,this.message=Le,Le=Error(Le).stack,Le!==void 0&&(this.stack=this.toString()+`
`+Le.replace(/^Error(:[^\n]*)?\n/,""))});return Ie.prototype=Object.create(pe.prototype),Ie.prototype.constructor=Ie,Ie.prototype.toString=function(){return this.message===void 0?this.name:this.name+": "+this.message},Ie}var ae=void 0;function de(he){throw new ae(he)}var ge=he=>(he||de("Cannot use deleted val. handle = "+he),ee[he].value),_e=he=>{switch(he){case void 0:return 1;case null:return 2;case!0:return 3;case!1:return 4;default:var pe=ie.length?ie.pop():ee.length;return ee[pe]={ga:1,value:he},pe}},we=void 0,ke=void 0;function Fe(he){for(var pe="";v[he];)pe+=ke[v[he++]];return pe}var Ee=[];function Me(){for(;Ee.length;){var he=Ee.pop();he.M.$=!1,he.delete()}}var Ue=void 0,Ge={};function ut(he,pe){for(pe===void 0&&de("ptr should not be undefined");he.R;)pe=he.ba(pe),he=he.R;return pe}var ve={};function $e(he){he=sn(he);var pe=Fe(he);return tn(he),pe}function gt(he,pe){var Ie=ve[he];return Ie===void 0&&de(pe+" has unknown type "+$e(he)),Ie}function it(){}var ot=!1;function le(he){--he.count.value,he.count.value===0&&(he.T?he.U.W(he.T):he.P.N.W(he.O))}function se(he,pe,Ie){return pe===Ie?he:Ie.R===void 0?null:(he=se(he,pe,Ie.R),he===null?null:Ie.na(he))}var Se={};function De(he,pe){return pe=ut(he,pe),Ge[pe]}var Be=void 0;function ze(he){throw new Be(he)}function kt(he,pe){return pe.P&&pe.O||ze("makeClassHandle requires ptr and ptrType"),!!pe.U!=!!pe.T&&ze("Both smartPtrType and smartPtr must be specified"),pe.count={value:1},Et(Object.create(he,{M:{value:pe}}))}function Et(he){return typeof FinalizationRegistry>"u"?(Et=pe=>pe,he):(ot=new FinalizationRegistry(pe=>{le(pe.M)}),Et=pe=>{var Ie=pe.M;return Ie.T&&ot.register(pe,{M:Ie},pe),pe},it=pe=>{ot.unregister(pe)},Et(he))}var zt={};function Mt(he){for(;he.length;){var pe=he.pop();he.pop()(pe)}}function at(he){return this.fromWireType(C[he>>2])}var At={},Pt={};function wt(he,pe,Ie){function Le(nt){nt=Ie(nt),nt.length!==he.length&&ze("Mismatched type converter count");for(var Ft=0;Ft<he.length;++Ft)un(he[Ft],nt[Ft])}he.forEach(function(nt){Pt[nt]=pe});var Ke=Array(pe.length),pt=[],Ct=0;pe.forEach((nt,Ft)=>{ve.hasOwnProperty(nt)?Ke[Ft]=ve[nt]:(pt.push(nt),At.hasOwnProperty(nt)||(At[nt]=[]),At[nt].push(()=>{Ke[Ft]=ve[nt],++Ct,Ct===pt.length&&Le(Ke)}))}),pt.length===0&&Le(Ke)}function Lt(he){switch(he){case 1:return 0;case 2:return 1;case 4:return 2;case 8:return 3;default:throw new TypeError("Unknown type size: "+he)}}function un(he,pe,Ie={}){if(!("argPackAdvance"in pe))throw new TypeError("registerType registeredInstance requires argPackAdvance");var Le=pe.name;if(he||de('type "'+Le+'" must have a positive integer typeid pointer'),ve.hasOwnProperty(he)){if(Ie.ua)return;de("Cannot register type '"+Le+"' twice")}ve[he]=pe,delete Pt[he],At.hasOwnProperty(he)&&(pe=At[he],delete At[he],pe.forEach(Ke=>Ke()))}function Oe(he){de(he.M.P.N.name+" instance already deleted")}function Wt(){}function Vt(he,pe,Ie){if(he[pe].S===void 0){var Le=he[pe];he[pe]=function(){return he[pe].S.hasOwnProperty(arguments.length)||de("Function '"+Ie+"' called with an invalid number of arguments ("+arguments.length+") - expects one of ("+he[pe].S+")!"),he[pe].S[arguments.length].apply(this,arguments)},he[pe].S=[],he[pe].S[Le.Z]=Le}}function Xt(he,pe){n.hasOwnProperty(he)?(de("Cannot register public name '"+he+"' twice"),Vt(n,he,he),n.hasOwnProperty(void 0)&&de("Cannot register multiple overloads of a function with the same number of arguments (undefined)!"),n[he].S[void 0]=pe):n[he]=pe}function It(he,pe,Ie,Le,Ke,pt,Ct,nt){this.name=he,this.constructor=pe,this.X=Ie,this.W=Le,this.R=Ke,this.pa=pt,this.ba=Ct,this.na=nt,this.ja=[]}function St(he,pe,Ie){for(;pe!==Ie;)pe.ba||de("Expected null or instance of "+Ie.name+", got an instance of "+pe.name),he=pe.ba(he),pe=pe.R;return he}function qt(he,pe){return pe===null?(this.ea&&de("null is not a valid "+this.name),0):(pe.M||de('Cannot pass "'+ii(pe)+'" as a '+this.name),pe.M.O||de("Cannot pass deleted object as a pointer of type "+this.name),St(pe.M.O,pe.M.P.N,this.N))}function ct(he,pe){if(pe===null){if(this.ea&&de("null is not a valid "+this.name),this.da){var Ie=this.fa();return he!==null&&he.push(this.W,Ie),Ie}return 0}if(pe.M||de('Cannot pass "'+ii(pe)+'" as a '+this.name),pe.M.O||de("Cannot pass deleted object as a pointer of type "+this.name),!this.ca&&pe.M.P.ca&&de("Cannot convert argument of type "+(pe.M.U?pe.M.U.name:pe.M.P.name)+" to parameter type "+this.name),Ie=St(pe.M.O,pe.M.P.N,this.N),this.da)switch(pe.M.T===void 0&&de("Passing raw pointer to smart pointer is illegal"),this.Ba){case 0:pe.M.U===this?Ie=pe.M.T:de("Cannot convert argument of type "+(pe.M.U?pe.M.U.name:pe.M.P.name)+" to parameter type "+this.name);break;case 1:Ie=pe.M.T;break;case 2:if(pe.M.U===this)Ie=pe.M.T;else{var Le=pe.clone();Ie=this.xa(Ie,_e(function(){Le.delete()})),he!==null&&he.push(this.W,Ie)}break;default:de("Unsupporting sharing policy")}return Ie}function Bt(he,pe){return pe===null?(this.ea&&de("null is not a valid "+this.name),0):(pe.M||de('Cannot pass "'+ii(pe)+'" as a '+this.name),pe.M.O||de("Cannot pass deleted object as a pointer of type "+this.name),pe.M.P.ca&&de("Cannot convert argument of type "+pe.M.P.name+" to parameter type "+this.name),St(pe.M.O,pe.M.P.N,this.N))}function Rt(he,pe,Ie,Le){this.name=he,this.N=pe,this.ea=Ie,this.ca=Le,this.da=!1,this.W=this.xa=this.fa=this.ka=this.Ba=this.wa=void 0,pe.R!==void 0?this.toWireType=ct:(this.toWireType=Le?qt:Bt,this.V=null)}function Ht(he,pe){n.hasOwnProperty(he)||ze("Replacing nonexistant public symbol"),n[he]=pe,n[he].Z=void 0}function Vn(he,pe){var Ie=[];return function(){if(Ie.length=0,Object.assign(Ie,arguments),he.includes("j")){var Le=n["dynCall_"+he];Le=Ie&&Ie.length?Le.apply(null,[pe].concat(Ie)):Le.call(null,pe)}else Le=M.get(pe).apply(null,Ie);return Le}}function In(he,pe){he=Fe(he);var Ie=he.includes("j")?Vn(he,pe):M.get(pe);return typeof Ie!="function"&&de("unknown function pointer with signature "+he+": "+pe),Ie}var rn=void 0;function ln(he,pe){function Ie(pt){Ke[pt]||ve[pt]||(Pt[pt]?Pt[pt].forEach(Ie):(Le.push(pt),Ke[pt]=!0))}var Le=[],Ke={};throw pe.forEach(Ie),new rn(he+": "+Le.map($e).join([", "]))}function nr(he,pe,Ie,Le,Ke){var pt=pe.length;2>pt&&de("argTypes array size mismatch! Must at least get return value and 'this' types!");var Ct=pe[1]!==null&&Ie!==null,nt=!1;for(Ie=1;Ie<pe.length;++Ie)if(pe[Ie]!==null&&pe[Ie].V===void 0){nt=!0;break}var Ft=pe[0].name!=="void",xt=pt-2,Jt=Array(xt),En=[],Un=[];return function(){if(arguments.length!==xt&&de("function "+he+" called with "+arguments.length+" arguments, expected "+xt+" args!"),Un.length=0,En.length=Ct?2:1,En[0]=Ke,Ct){var jr=pe[1].toWireType(Un,this);En[1]=jr}for(var _n=0;_n<xt;++_n)Jt[_n]=pe[_n+2].toWireType(Un,arguments[_n]),En.push(Jt[_n]);if(_n=Le.apply(null,En),nt)Mt(Un);else for(var Nr=Ct?1:2;Nr<pe.length;Nr++){var Qr=Nr===1?jr:Jt[Nr-2];pe[Nr].V!==null&&pe[Nr].V(Qr)}return jr=Ft?pe[0].fromWireType(_n):void 0,jr}}function yr(he,pe){for(var Ie=[],Le=0;Le<he;Le++)Ie.push(E[pe+4*Le>>2]);return Ie}function zr(he){4<he&&--ee[he].ga===0&&(ee[he]=void 0,ie.push(he))}function ii(he){if(he===null)return"null";var pe=typeof he;return pe==="object"||pe==="array"||pe==="function"?he.toString():""+he}function Or(he,pe){switch(pe){case 2:return function(Ie){return this.fromWireType(I[Ie>>2])};case 3:return function(Ie){return this.fromWireType(D[Ie>>3])};default:throw new TypeError("Unknown float type: "+he)}}function Wn(he,pe,Ie){switch(pe){case 0:return Ie?function(Le){return m[Le]}:function(Le){return v[Le]};case 1:return Ie?function(Le){return y[Le>>1]}:function(Le){return A[Le>>1]};case 2:return Ie?function(Le){return C[Le>>2]}:function(Le){return E[Le>>2]};default:throw new TypeError("Unknown integer type: "+he)}}function Hi(he,pe){for(var Ie="",Le=0;!(Le>=pe/2);++Le){var Ke=y[he+2*Le>>1];if(Ke==0)break;Ie+=String.fromCharCode(Ke)}return Ie}function fs(he,pe,Ie){if(Ie===void 0&&(Ie=2147483647),2>Ie)return 0;Ie-=2;var Le=pe;Ie=Ie<2*he.length?Ie/2:he.length;for(var Ke=0;Ke<Ie;++Ke)y[pe>>1]=he.charCodeAt(Ke),pe+=2;return y[pe>>1]=0,pe-Le}function ua(he){return 2*he.length}function ul(he,pe){for(var Ie=0,Le="";!(Ie>=pe/4);){var Ke=C[he+4*Ie>>2];if(Ke==0)break;++Ie,65536<=Ke?(Ke-=65536,Le+=String.fromCharCode(55296|Ke>>10,56320|Ke&1023)):Le+=String.fromCharCode(Ke)}return Le}function Tc(he,pe,Ie){if(Ie===void 0&&(Ie=2147483647),4>Ie)return 0;var Le=pe;Ie=Le+Ie-4;for(var Ke=0;Ke<he.length;++Ke){var pt=he.charCodeAt(Ke);if(55296<=pt&&57343>=pt){var Ct=he.charCodeAt(++Ke);pt=65536+((pt&1023)<<10)|Ct&1023}if(C[pe>>2]=pt,pe+=4,pe+4>Ie)break}return C[pe>>2]=0,pe-Le}function Vu(he){for(var pe=0,Ie=0;Ie<he.length;++Ie){var Le=he.charCodeAt(Ie);55296<=Le&&57343>=Le&&++Ie,pe+=4}return pe}var Nl={};function au(he){var pe=Nl[he];return pe===void 0?Fe(he):pe}var Vi=[];function si(he){var pe=Vi.length;return Vi.push(he),pe}function ca(he,pe){for(var Ie=Array(he),Le=0;Le<he;++Le)Ie[Le]=gt(E[pe+4*Le>>2],"parameter "+Le);return Ie}var xo=[],me=[null,[],[]];ae=n.BindingError=ue("BindingError"),n.count_emval_handles=function(){for(var he=0,pe=5;pe<ee.length;++pe)ee[pe]!==void 0&&++he;return he},n.get_first_emval=function(){for(var he=5;he<ee.length;++he)if(ee[he]!==void 0)return ee[he];return null},we=n.PureVirtualError=ue("PureVirtualError");for(var He=Array(256),dt=0;256>dt;++dt)He[dt]=String.fromCharCode(dt);ke=He,n.getInheritedInstanceCount=function(){return Object.keys(Ge).length},n.getLiveInheritedInstances=function(){var he=[],pe;for(pe in Ge)Ge.hasOwnProperty(pe)&&he.push(Ge[pe]);return he},n.flushPendingDeletes=Me,n.setDelayFunction=function(he){Ue=he,Ee.length&&Ue&&Ue(Me)},Be=n.InternalError=ue("InternalError"),Wt.prototype.isAliasOf=function(he){if(!(this instanceof Wt&&he instanceof Wt))return!1;var pe=this.M.P.N,Ie=this.M.O,Le=he.M.P.N;for(he=he.M.O;pe.R;)Ie=pe.ba(Ie),pe=pe.R;for(;Le.R;)he=Le.ba(he),Le=Le.R;return pe===Le&&Ie===he},Wt.prototype.clone=function(){if(this.M.O||Oe(this),this.M.aa)return this.M.count.value+=1,this;var he=Et,pe=Object,Ie=pe.create,Le=Object.getPrototypeOf(this),Ke=this.M;return he=he(Ie.call(pe,Le,{M:{value:{count:Ke.count,$:Ke.$,aa:Ke.aa,O:Ke.O,P:Ke.P,T:Ke.T,U:Ke.U}}})),he.M.count.value+=1,he.M.$=!1,he},Wt.prototype.delete=function(){this.M.O||Oe(this),this.M.$&&!this.M.aa&&de("Object already scheduled for deletion"),it(this),le(this.M),this.M.aa||(this.M.T=void 0,this.M.O=void 0)},Wt.prototype.isDeleted=function(){return!this.M.O},Wt.prototype.deleteLater=function(){return this.M.O||Oe(this),this.M.$&&!this.M.aa&&de("Object already scheduled for deletion"),Ee.push(this),Ee.length===1&&Ue&&Ue(Me),this.M.$=!0,this},Rt.prototype.qa=function(he){return this.ka&&(he=this.ka(he)),he},Rt.prototype.ha=function(he){this.W&&this.W(he)},Rt.prototype.argPackAdvance=8,Rt.prototype.readValueFromPointer=at,Rt.prototype.deleteObject=function(he){he!==null&&he.delete()},Rt.prototype.fromWireType=function(he){function pe(){return this.da?kt(this.N.X,{P:this.wa,O:Ie,U:this,T:he}):kt(this.N.X,{P:this,O:he})}var Ie=this.qa(he);if(!Ie)return this.ha(he),null;var Le=De(this.N,Ie);if(Le!==void 0)return Le.M.count.value===0?(Le.M.O=Ie,Le.M.T=he,Le.clone()):(Le=Le.clone(),this.ha(he),Le);if(Le=this.N.pa(Ie),Le=Se[Le],!Le)return pe.call(this);Le=this.ca?Le.la:Le.pointerType;var Ke=se(Ie,this.N,Le.N);return Ke===null?pe.call(this):this.da?kt(Le.N.X,{P:Le,O:Ke,U:this,T:he}):kt(Le.N.X,{P:Le,O:Ke})},rn=n.UnboundTypeError=ue("UnboundTypeError");var tt=typeof atob=="function"?atob:function(he){var pe="",Ie=0;he=he.replace(/[^A-Za-z0-9\+\/=]/g,"");do{var Le="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(he.charAt(Ie++)),Ke="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(he.charAt(Ie++)),pt="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(he.charAt(Ie++)),Ct="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(he.charAt(Ie++));Le=Le<<2|Ke>>4,Ke=(Ke&15)<<4|pt>>2;var nt=(pt&3)<<6|Ct;pe+=String.fromCharCode(Le),pt!==64&&(pe+=String.fromCharCode(Ke)),Ct!==64&&(pe+=String.fromCharCode(nt))}while(Ie<he.length);return pe},Xe={l:function(he,pe,Ie,Le){H("Assertion failed: "+(he?f(v,he):"")+", at: "+[pe?pe?f(v,pe):"":"unknown filename",Ie,Le?Le?f(v,Le):"":"unknown function"])},q:function(he,pe,Ie){he=Fe(he),pe=gt(pe,"wrapper"),Ie=ge(Ie);var Le=[].slice,Ke=pe.N,pt=Ke.X,Ct=Ke.R.X,nt=Ke.R.constructor;he=Z(he,function(){Ke.R.ja.forEach((function(xt){if(this[xt]===Ct[xt])throw new we("Pure virtual function "+xt+" must be implemented in JavaScript")}).bind(this)),Object.defineProperty(this,"__parent",{value:pt}),this.__construct.apply(this,Le.call(arguments))}),pt.__construct=function(){this===pt&&de("Pass correct 'this' to __construct");var xt=nt.implement.apply(void 0,[this].concat(Le.call(arguments)));it(xt);var Jt=xt.M;xt.notifyOnDestruction(),Jt.aa=!0,Object.defineProperties(this,{M:{value:Jt}}),Et(this),xt=Jt.O,xt=ut(Ke,xt),Ge.hasOwnProperty(xt)?de("Tried to register registered instance: "+xt):Ge[xt]=this},pt.__destruct=function(){this===pt&&de("Pass correct 'this' to __destruct"),it(this);var xt=this.M.O;xt=ut(Ke,xt),Ge.hasOwnProperty(xt)?delete Ge[xt]:de("Tried to unregister unregistered instance: "+xt)},he.prototype=Object.create(pt);for(var Ft in Ie)he.prototype[Ft]=Ie[Ft];return _e(he)},j:function(he){var pe=zt[he];delete zt[he];var Ie=pe.fa,Le=pe.W,Ke=pe.ia,pt=Ke.map(Ct=>Ct.ta).concat(Ke.map(Ct=>Ct.za));wt([he],pt,Ct=>{var nt={};return Ke.forEach((Ft,xt)=>{var Jt=Ct[xt],En=Ft.ra,Un=Ft.sa,jr=Ct[xt+Ke.length],_n=Ft.ya,Nr=Ft.Aa;nt[Ft.oa]={read:Qr=>Jt.fromWireType(En(Un,Qr)),write:(Qr,Ji)=>{var Ci=[];_n(Nr,Qr,jr.toWireType(Ci,Ji)),Mt(Ci)}}}),[{name:pe.name,fromWireType:function(Ft){var xt={},Jt;for(Jt in nt)xt[Jt]=nt[Jt].read(Ft);return Le(Ft),xt},toWireType:function(Ft,xt){for(var Jt in nt)if(!(Jt in xt))throw new TypeError('Missing field:  "'+Jt+'"');var En=Ie();for(Jt in nt)nt[Jt].write(En,xt[Jt]);return Ft!==null&&Ft.push(Le,En),En},argPackAdvance:8,readValueFromPointer:at,V:Le}]})},v:function(){},B:function(he,pe,Ie,Le,Ke){var pt=Lt(Ie);pe=Fe(pe),un(he,{name:pe,fromWireType:function(Ct){return!!Ct},toWireType:function(Ct,nt){return nt?Le:Ke},argPackAdvance:8,readValueFromPointer:function(Ct){if(Ie===1)var nt=m;else if(Ie===2)nt=y;else if(Ie===4)nt=C;else throw new TypeError("Unknown boolean type size: "+pe);return this.fromWireType(nt[Ct>>pt])},V:null})},f:function(he,pe,Ie,Le,Ke,pt,Ct,nt,Ft,xt,Jt,En,Un){Jt=Fe(Jt),pt=In(Ke,pt),nt&&(nt=In(Ct,nt)),xt&&(xt=In(Ft,xt)),Un=In(En,Un);var jr=Y(Jt);Xt(jr,function(){ln("Cannot construct "+Jt+" due to unbound types",[Le])}),wt([he,pe,Ie],Le?[Le]:[],function(_n){if(_n=_n[0],Le)var Nr=_n.N,Qr=Nr.X;else Qr=Wt.prototype;_n=Z(jr,function(){if(Object.getPrototypeOf(this)!==Ji)throw new ae("Use 'new' to construct "+Jt);if(Ci.Y===void 0)throw new ae(Jt+" has no accessible constructor");var Yo=Ci.Y[arguments.length];if(Yo===void 0)throw new ae("Tried to invoke ctor of "+Jt+" with invalid number of parameters ("+arguments.length+") - expected ("+Object.keys(Ci.Y).toString()+") parameters instead!");return Yo.apply(this,arguments)});var Ji=Object.create(Qr,{constructor:{value:_n}});_n.prototype=Ji;var Ci=new It(Jt,_n,Ji,Un,Nr,pt,nt,xt);Nr=new Rt(Jt,Ci,!0,!1),Qr=new Rt(Jt+"*",Ci,!1,!1);var Mc=new Rt(Jt+" const*",Ci,!1,!0);return Se[he]={pointerType:Qr,la:Mc},Ht(jr,_n),[Nr,Qr,Mc]})},d:function(he,pe,Ie,Le,Ke,pt,Ct){var nt=yr(Ie,Le);pe=Fe(pe),pt=In(Ke,pt),wt([],[he],function(Ft){function xt(){ln("Cannot call "+Jt+" due to unbound types",nt)}Ft=Ft[0];var Jt=Ft.name+"."+pe;pe.startsWith("@@")&&(pe=Symbol[pe.substring(2)]);var En=Ft.N.constructor;return En[pe]===void 0?(xt.Z=Ie-1,En[pe]=xt):(Vt(En,pe,Jt),En[pe].S[Ie-1]=xt),wt([],nt,function(Un){return Un=nr(Jt,[Un[0],null].concat(Un.slice(1)),null,pt,Ct),En[pe].S===void 0?(Un.Z=Ie-1,En[pe]=Un):En[pe].S[Ie-1]=Un,[]}),[]})},p:function(he,pe,Ie,Le,Ke,pt){0<pe||H();var Ct=yr(pe,Ie);Ke=In(Le,Ke),wt([],[he],function(nt){nt=nt[0];var Ft="constructor "+nt.name;if(nt.N.Y===void 0&&(nt.N.Y=[]),nt.N.Y[pe-1]!==void 0)throw new ae("Cannot register multiple constructors with identical number of parameters ("+(pe-1)+") for class '"+nt.name+"'! Overload resolution is currently only performed using the parameter count, not actual type info!");return nt.N.Y[pe-1]=()=>{ln("Cannot construct "+nt.name+" due to unbound types",Ct)},wt([],Ct,function(xt){return xt.splice(1,0,null),nt.N.Y[pe-1]=nr(Ft,xt,null,Ke,pt),[]}),[]})},a:function(he,pe,Ie,Le,Ke,pt,Ct,nt){var Ft=yr(Ie,Le);pe=Fe(pe),pt=In(Ke,pt),wt([],[he],function(xt){function Jt(){ln("Cannot call "+En+" due to unbound types",Ft)}xt=xt[0];var En=xt.name+"."+pe;pe.startsWith("@@")&&(pe=Symbol[pe.substring(2)]),nt&&xt.N.ja.push(pe);var Un=xt.N.X,jr=Un[pe];return jr===void 0||jr.S===void 0&&jr.className!==xt.name&&jr.Z===Ie-2?(Jt.Z=Ie-2,Jt.className=xt.name,Un[pe]=Jt):(Vt(Un,pe,En),Un[pe].S[Ie-2]=Jt),wt([],Ft,function(_n){return _n=nr(En,_n,xt,pt,Ct),Un[pe].S===void 0?(_n.Z=Ie-2,Un[pe]=_n):Un[pe].S[Ie-2]=_n,[]}),[]})},A:function(he,pe){pe=Fe(pe),un(he,{name:pe,fromWireType:function(Ie){var Le=ge(Ie);return zr(Ie),Le},toWireType:function(Ie,Le){return _e(Le)},argPackAdvance:8,readValueFromPointer:at,V:null})},n:function(he,pe,Ie){Ie=Lt(Ie),pe=Fe(pe),un(he,{name:pe,fromWireType:function(Le){return Le},toWireType:function(Le,Ke){return Ke},argPackAdvance:8,readValueFromPointer:Or(pe,Ie),V:null})},e:function(he,pe,Ie,Le,Ke){pe=Fe(pe),Ke===-1&&(Ke=4294967295),Ke=Lt(Ie);var pt=nt=>nt;if(Le===0){var Ct=32-8*Ie;pt=nt=>nt<<Ct>>>Ct}Ie=pe.includes("unsigned")?function(nt,Ft){return Ft>>>0}:function(nt,Ft){return Ft},un(he,{name:pe,fromWireType:pt,toWireType:Ie,argPackAdvance:8,readValueFromPointer:Wn(pe,Ke,Le!==0),V:null})},b:function(he,pe,Ie){function Le(pt){pt>>=2;var Ct=E;return new Ke(p,Ct[pt+1],Ct[pt])}var Ke=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array][pe];Ie=Fe(Ie),un(he,{name:Ie,fromWireType:Le,argPackAdvance:8,readValueFromPointer:Le},{ua:!0})},o:function(he,pe){pe=Fe(pe);var Ie=pe==="std::string";un(he,{name:pe,fromWireType:function(Le){var Ke=E[Le>>2],pt=Le+4;if(Ie)for(var Ct=pt,nt=0;nt<=Ke;++nt){var Ft=pt+nt;if(nt==Ke||v[Ft]==0){if(Ct=Ct?f(v,Ct,Ft-Ct):"",xt===void 0)var xt=Ct;else xt+="\0",xt+=Ct;Ct=Ft+1}}else{for(xt=Array(Ke),nt=0;nt<Ke;++nt)xt[nt]=String.fromCharCode(v[pt+nt]);xt=xt.join("")}return tn(Le),xt},toWireType:function(Le,Ke){Ke instanceof ArrayBuffer&&(Ke=new Uint8Array(Ke));var pt,Ct=typeof Ke=="string";if(Ct||Ke instanceof Uint8Array||Ke instanceof Uint8ClampedArray||Ke instanceof Int8Array||de("Cannot pass non-string to std::string"),Ie&&Ct){var nt=0;for(pt=0;pt<Ke.length;++pt){var Ft=Ke.charCodeAt(pt);127>=Ft?nt++:2047>=Ft?nt+=2:55296<=Ft&&57343>=Ft?(nt+=4,++pt):nt+=3}pt=nt}else pt=Ke.length;if(nt=cn(4+pt+1),Ft=nt+4,E[nt>>2]=pt,Ie&&Ct){if(Ct=Ft,Ft=pt+1,pt=v,0<Ft){Ft=Ct+Ft-1;for(var xt=0;xt<Ke.length;++xt){var Jt=Ke.charCodeAt(xt);if(55296<=Jt&&57343>=Jt){var En=Ke.charCodeAt(++xt);Jt=65536+((Jt&1023)<<10)|En&1023}if(127>=Jt){if(Ct>=Ft)break;pt[Ct++]=Jt}else{if(2047>=Jt){if(Ct+1>=Ft)break;pt[Ct++]=192|Jt>>6}else{if(65535>=Jt){if(Ct+2>=Ft)break;pt[Ct++]=224|Jt>>12}else{if(Ct+3>=Ft)break;pt[Ct++]=240|Jt>>18,pt[Ct++]=128|Jt>>12&63}pt[Ct++]=128|Jt>>6&63}pt[Ct++]=128|Jt&63}}pt[Ct]=0}}else if(Ct)for(Ct=0;Ct<pt;++Ct)xt=Ke.charCodeAt(Ct),255<xt&&(tn(Ft),de("String has UTF-16 code units that do not fit in 8 bits")),v[Ft+Ct]=xt;else for(Ct=0;Ct<pt;++Ct)v[Ft+Ct]=Ke[Ct];return Le!==null&&Le.push(tn,nt),nt},argPackAdvance:8,readValueFromPointer:at,V:function(Le){tn(Le)}})},i:function(he,pe,Ie){if(Ie=Fe(Ie),pe===2)var Le=Hi,Ke=fs,pt=ua,Ct=()=>A,nt=1;else pe===4&&(Le=ul,Ke=Tc,pt=Vu,Ct=()=>E,nt=2);un(he,{name:Ie,fromWireType:function(Ft){for(var xt=E[Ft>>2],Jt=Ct(),En,Un=Ft+4,jr=0;jr<=xt;++jr){var _n=Ft+4+jr*pe;(jr==xt||Jt[_n>>nt]==0)&&(Un=Le(Un,_n-Un),En===void 0?En=Un:(En+="\0",En+=Un),Un=_n+pe)}return tn(Ft),En},toWireType:function(Ft,xt){typeof xt!="string"&&de("Cannot pass non-string to C++ string type "+Ie);var Jt=pt(xt),En=cn(4+Jt+pe);return E[En>>2]=Jt>>nt,Ke(xt,En+4,Jt+pe),Ft!==null&&Ft.push(tn,En),En},argPackAdvance:8,readValueFromPointer:at,V:function(Ft){tn(Ft)}})},k:function(he,pe,Ie,Le,Ke,pt){zt[he]={name:Fe(pe),fa:In(Ie,Le),W:In(Ke,pt),ia:[]}},h:function(he,pe,Ie,Le,Ke,pt,Ct,nt,Ft,xt){zt[he].ia.push({oa:Fe(pe),ta:Ie,ra:In(Le,Ke),sa:pt,za:Ct,ya:In(nt,Ft),Aa:xt})},C:function(he,pe){pe=Fe(pe),un(he,{va:!0,name:pe,argPackAdvance:0,fromWireType:function(){},toWireType:function(){}})},s:function(he,pe,Ie,Le,Ke){he=Vi[he],pe=ge(pe),Ie=au(Ie);var pt=[];return E[Le>>2]=_e(pt),he(pe,Ie,pt,Ke)},t:function(he,pe,Ie,Le){he=Vi[he],pe=ge(pe),Ie=au(Ie),he(pe,Ie,null,Le)},g:zr,m:function(he,pe){var Ie=ca(he,pe),Le=Ie[0];pe=Le.name+"_$"+Ie.slice(1).map(function(Ct){return Ct.name}).join("_")+"$";var Ke=xo[pe];if(Ke!==void 0)return Ke;var pt=Array(he-1);return Ke=si((Ct,nt,Ft,xt)=>{for(var Jt=0,En=0;En<he-1;++En)pt[En]=Ie[En+1].readValueFromPointer(xt+Jt),Jt+=Ie[En+1].argPackAdvance;for(Ct=Ct[nt].apply(Ct,pt),En=0;En<he-1;++En)Ie[En+1].ma&&Ie[En+1].ma(pt[En]);if(!Le.va)return Le.toWireType(Ft,Ct)}),xo[pe]=Ke},D:function(he){4<he&&(ee[he].ga+=1)},r:function(he){var pe=ge(he);Mt(pe),zr(he)},c:function(){H("")},x:function(he,pe,Ie){v.copyWithin(he,pe,pe+Ie)},w:function(he){var pe=v.length;if(he>>>=0,2147483648<he)return!1;for(var Ie=1;4>=Ie;Ie*=2){var Le=pe*(1+.2/Ie);Le=Math.min(Le,he+100663296);var Ke=Math;Le=Math.max(he,Le),Ke=Ke.min.call(Ke,2147483648,Le+(65536-Le%65536)%65536);e:{try{c.grow(Ke-p.byteLength+65535>>>16),T();var pt=1;break e}catch{}pt=void 0}if(pt)return!0}return!1},z:function(){return 52},u:function(){return 70},y:function(he,pe,Ie,Le){for(var Ke=0,pt=0;pt<Ie;pt++){var Ct=E[pe>>2],nt=E[pe+4>>2];pe+=8;for(var Ft=0;Ft<nt;Ft++){var xt=v[Ct+Ft],Jt=me[he];xt===0||xt===10?((he===1?a:l)(f(Jt,0)),Jt.length=0):Jt.push(xt)}Ke+=nt}return E[Le>>2]=Ke,0}};(function(){function he(Ke){n.asm=Ke.exports,c=n.asm.E,T(),M=n.asm.J,k.unshift(n.asm.F),z--,n.monitorRunDependencies&&n.monitorRunDependencies(z),z==0&&j&&(Ke=j,j=null,Ke())}function pe(Ke){he(Ke.instance)}function Ie(Ke){return J().then(function(pt){return WebAssembly.instantiate(pt,Le)}).then(function(pt){return pt}).then(Ke,function(pt){l("failed to asynchronously prepare wasm: "+pt),H(pt)})}var Le={a:Xe};if(z++,n.monitorRunDependencies&&n.monitorRunDependencies(z),n.instantiateWasm)try{return n.instantiateWasm(Le,he)}catch(Ke){l("Module.instantiateWasm callback failed with error: "+Ke),i(Ke)}return(function(){return u||typeof WebAssembly.instantiateStreaming!="function"||W(O)||typeof fetch!="function"?Ie(pe):fetch(O,{credentials:"same-origin"}).then(function(Ke){return WebAssembly.instantiateStreaming(Ke,Le).then(pe,function(pt){return l("wasm streaming compile failed: "+pt),l("falling back to ArrayBuffer instantiation"),Ie(pe)})})})().catch(i),{}})(),n.___wasm_call_ctors=function(){return(n.___wasm_call_ctors=n.asm.F).apply(null,arguments)};var sn=n.___getTypeName=function(){return(sn=n.___getTypeName=n.asm.G).apply(null,arguments)};n.__embind_initialize_bindings=function(){return(n.__embind_initialize_bindings=n.asm.H).apply(null,arguments)};var cn=n._malloc=function(){return(cn=n._malloc=n.asm.I).apply(null,arguments)},tn=n._free=function(){return(tn=n._free=n.asm.K).apply(null,arguments)};n.dynCall_jiji=function(){return(n.dynCall_jiji=n.asm.L).apply(null,arguments)};var hn;j=function he(){hn||bn(),hn||(j=he)};function bn(){function he(){if(!hn&&(hn=!0,n.calledRun=!0,!d)){if(te(k),r(n),n.onRuntimeInitialized&&n.onRuntimeInitialized(),n.postRun)for(typeof n.postRun=="function"&&(n.postRun=[n.postRun]);n.postRun.length;){var pe=n.postRun.shift();L.unshift(pe)}te(L)}}if(!(0<z)){if(n.preRun)for(typeof n.preRun=="function"&&(n.preRun=[n.preRun]);n.preRun.length;)$();te(P),0<z||(n.setStatus?(n.setStatus("Running..."),setTimeout(function(){setTimeout(function(){n.setStatus("")},1),he()},1)):he())}}if(n.preInit)for(typeof n.preInit=="function"&&(n.preInit=[n.preInit]);0<n.preInit.length;)n.preInit.pop()();return bn(),e.ready})})();let Vr=(function(t){return t[t.Auto=0]="Auto",t[t.FlexStart=1]="FlexStart",t[t.Center=2]="Center",t[t.FlexEnd=3]="FlexEnd",t[t.Stretch=4]="Stretch",t[t.Baseline=5]="Baseline",t[t.SpaceBetween=6]="SpaceBetween",t[t.SpaceAround=7]="SpaceAround",t[t.SpaceEvenly=8]="SpaceEvenly",t})({}),eC=(function(t){return t[t.BorderBox=0]="BorderBox",t[t.ContentBox=1]="ContentBox",t})({}),JL=(function(t){return t[t.Width=0]="Width",t[t.Height=1]="Height",t})({}),P0=(function(t){return t[t.Inherit=0]="Inherit",t[t.LTR=1]="LTR",t[t.RTL=2]="RTL",t})({}),Tx=(function(t){return t[t.Flex=0]="Flex",t[t.None=1]="None",t[t.Contents=2]="Contents",t})({}),Tn=(function(t){return t[t.Left=0]="Left",t[t.Top=1]="Top",t[t.Right=2]="Right",t[t.Bottom=3]="Bottom",t[t.Start=4]="Start",t[t.End=5]="End",t[t.Horizontal=6]="Horizontal",t[t.Vertical=7]="Vertical",t[t.All=8]="All",t})({}),Xb=(function(t){return t[t.None=0]="None",t[t.StretchFlexBasis=1]="StretchFlexBasis",t[t.AbsolutePositionWithoutInsetsExcludesPadding=2]="AbsolutePositionWithoutInsetsExcludesPadding",t[t.AbsolutePercentAgainstInnerSize=4]="AbsolutePercentAgainstInnerSize",t[t.All=2147483647]="All",t[t.Classic=2147483646]="Classic",t})({}),Qpe=(function(t){return t[t.WebFlexBasis=0]="WebFlexBasis",t})({}),Ec=(function(t){return t[t.Column=0]="Column",t[t.ColumnReverse=1]="ColumnReverse",t[t.Row=2]="Row",t[t.RowReverse=3]="RowReverse",t})({}),Op=(function(t){return t[t.Column=0]="Column",t[t.Row=1]="Row",t[t.All=2]="All",t})({}),La=(function(t){return t[t.FlexStart=0]="FlexStart",t[t.Center=1]="Center",t[t.FlexEnd=2]="FlexEnd",t[t.SpaceBetween=3]="SpaceBetween",t[t.SpaceAround=4]="SpaceAround",t[t.SpaceEvenly=5]="SpaceEvenly",t})({}),Jb=(function(t){return t[t.Error=0]="Error",t[t.Warn=1]="Warn",t[t.Info=2]="Info",t[t.Debug=3]="Debug",t[t.Verbose=4]="Verbose",t[t.Fatal=5]="Fatal",t})({}),HB=(function(t){return t[t.Undefined=0]="Undefined",t[t.Exactly=1]="Exactly",t[t.AtMost=2]="AtMost",t})({}),ZL=(function(t){return t[t.Default=0]="Default",t[t.Text=1]="Text",t})({}),Mx=(function(t){return t[t.Visible=0]="Visible",t[t.Hidden=1]="Hidden",t[t.Scroll=2]="Scroll",t})({}),Yy=(function(t){return t[t.Static=0]="Static",t[t.Relative=1]="Relative",t[t.Absolute=2]="Absolute",t})({}),Sp=(function(t){return t[t.Undefined=0]="Undefined",t[t.Point=1]="Point",t[t.Percent=2]="Percent",t[t.Auto=3]="Auto",t})({}),rm=(function(t){return t[t.NoWrap=0]="NoWrap",t[t.Wrap=1]="Wrap",t[t.WrapReverse=2]="WrapReverse",t})({});const zut={ALIGN_AUTO:Vr.Auto,ALIGN_FLEX_START:Vr.FlexStart,ALIGN_CENTER:Vr.Center,ALIGN_FLEX_END:Vr.FlexEnd,ALIGN_STRETCH:Vr.Stretch,ALIGN_BASELINE:Vr.Baseline,ALIGN_SPACE_BETWEEN:Vr.SpaceBetween,ALIGN_SPACE_AROUND:Vr.SpaceAround,ALIGN_SPACE_EVENLY:Vr.SpaceEvenly,BOX_SIZING_BORDER_BOX:eC.BorderBox,BOX_SIZING_CONTENT_BOX:eC.ContentBox,DIMENSION_WIDTH:JL.Width,DIMENSION_HEIGHT:JL.Height,DIRECTION_INHERIT:P0.Inherit,DIRECTION_LTR:P0.LTR,DIRECTION_RTL:P0.RTL,DISPLAY_FLEX:Tx.Flex,DISPLAY_NONE:Tx.None,DISPLAY_CONTENTS:Tx.Contents,EDGE_LEFT:Tn.Left,EDGE_TOP:Tn.Top,EDGE_RIGHT:Tn.Right,EDGE_BOTTOM:Tn.Bottom,EDGE_START:Tn.Start,EDGE_END:Tn.End,EDGE_HORIZONTAL:Tn.Horizontal,EDGE_VERTICAL:Tn.Vertical,EDGE_ALL:Tn.All,ERRATA_NONE:Xb.None,ERRATA_STRETCH_FLEX_BASIS:Xb.StretchFlexBasis,ERRATA_ABSOLUTE_POSITION_WITHOUT_INSETS_EXCLUDES_PADDING:Xb.AbsolutePositionWithoutInsetsExcludesPadding,ERRATA_ABSOLUTE_PERCENT_AGAINST_INNER_SIZE:Xb.AbsolutePercentAgainstInnerSize,ERRATA_ALL:Xb.All,ERRATA_CLASSIC:Xb.Classic,EXPERIMENTAL_FEATURE_WEB_FLEX_BASIS:Qpe.WebFlexBasis,FLEX_DIRECTION_COLUMN:Ec.Column,FLEX_DIRECTION_COLUMN_REVERSE:Ec.ColumnReverse,FLEX_DIRECTION_ROW:Ec.Row,FLEX_DIRECTION_ROW_REVERSE:Ec.RowReverse,GUTTER_COLUMN:Op.Column,GUTTER_ROW:Op.Row,GUTTER_ALL:Op.All,JUSTIFY_FLEX_START:La.FlexStart,JUSTIFY_CENTER:La.Center,JUSTIFY_FLEX_END:La.FlexEnd,JUSTIFY_SPACE_BETWEEN:La.SpaceBetween,JUSTIFY_SPACE_AROUND:La.SpaceAround,JUSTIFY_SPACE_EVENLY:La.SpaceEvenly,LOG_LEVEL_ERROR:Jb.Error,LOG_LEVEL_WARN:Jb.Warn,LOG_LEVEL_INFO:Jb.Info,LOG_LEVEL_DEBUG:Jb.Debug,LOG_LEVEL_VERBOSE:Jb.Verbose,LOG_LEVEL_FATAL:Jb.Fatal,MEASURE_MODE_UNDEFINED:HB.Undefined,MEASURE_MODE_EXACTLY:HB.Exactly,MEASURE_MODE_AT_MOST:HB.AtMost,NODE_TYPE_DEFAULT:ZL.Default,NODE_TYPE_TEXT:ZL.Text,OVERFLOW_VISIBLE:Mx.Visible,OVERFLOW_HIDDEN:Mx.Hidden,OVERFLOW_SCROLL:Mx.Scroll,POSITION_TYPE_STATIC:Yy.Static,POSITION_TYPE_RELATIVE:Yy.Relative,POSITION_TYPE_ABSOLUTE:Yy.Absolute,UNIT_UNDEFINED:Sp.Undefined,UNIT_POINT:Sp.Point,UNIT_PERCENT:Sp.Percent,UNIT_AUTO:Sp.Auto,WRAP_NO_WRAP:rm.NoWrap,WRAP_WRAP:rm.Wrap,WRAP_WRAP_REVERSE:rm.WrapReverse};function Out(t){function e(i,s,o){const a=i[s];i[s]=function(){for(var l=arguments.length,u=new Array(l),c=0;c<l;c++)u[c]=arguments[c];return o.call(this,a,...u)}}for(const i of["setPosition","setMargin","setFlexBasis","setWidth","setHeight","setMinWidth","setMinHeight","setMaxWidth","setMaxHeight","setPadding","setGap"]){const s={[Sp.Point]:t.Node.prototype[i],[Sp.Percent]:t.Node.prototype[`${i}Percent`],[Sp.Auto]:t.Node.prototype[`${i}Auto`]};e(t.Node.prototype,i,function(o){for(var a=arguments.length,l=new Array(a>1?a-1:0),u=1;u<a;u++)l[u-1]=arguments[u];const c=l.pop();let d,f;if(c==="auto")d=Sp.Auto,f=void 0;else if(typeof c=="object")d=c.unit,f=c.valueOf();else if(d=typeof c=="string"&&c.endsWith("%")?Sp.Percent:Sp.Point,f=parseFloat(c),c!==void 0&&!Number.isNaN(c)&&Number.isNaN(f))throw new Error(`Invalid value ${c} for ${i}`);if(!s[d])throw new Error(`Failed to execute "${i}": Unsupported unit '${c}'`);return f!==void 0?s[d].call(this,...l,f):s[d].call(this,...l)})}function n(i){return t.MeasureCallback.implement({measure:function(){const{width:s,height:o}=i(...arguments);return{width:s??NaN,height:o??NaN}}})}e(t.Node.prototype,"setMeasureFunc",function(i,s){return s?i.call(this,n(s)):this.unsetMeasureFunc()});function r(i){return t.DirtiedCallback.implement({dirtied:i})}return e(t.Node.prototype,"setDirtiedFunc",function(i,s){i.call(this,r(s))}),e(t.Config.prototype,"free",function(){t.Config.destroy(this)}),e(t.Node,"create",(i,s)=>s?t.Node.createWithConfig(s):t.Node.createDefault()),e(t.Node.prototype,"free",function(){t.Node.destroy(this)}),e(t.Node.prototype,"freeRecursive",function(){for(let i=0,s=this.getChildCount();i<s;++i)this.getChild(0).freeRecursive();this.free()}),e(t.Node.prototype,"calculateLayout",function(i){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:NaN,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:NaN,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:P0.LTR;return i.call(this,s,o,a)}),{Config:t.Config,Node:t.Node,...zut}}async function Upe(){return Out(await $ut())}const jut=Object.freeze(Object.defineProperty({__proto__:null,Align:Vr,BoxSizing:eC,Dimension:JL,Direction:P0,Display:Tx,Edge:Tn,Errata:Xb,ExperimentalFeature:Qpe,FlexDirection:Ec,Gutter:Op,Justify:La,LogLevel:Jb,MeasureMode:HB,NodeType:ZL,Overflow:Mx,PositionType:Yy,Unit:Sp,Wrap:rm,loadYoga:Upe},Symbol.toStringTag,{value:"Module"}));var Qut=Object.defineProperty,Uut=(t,e,n)=>e in t?Qut(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Bw=(t,e,n)=>Uut(t,typeof e!="symbol"?e+"":e,n);let Hut=class{constructor(e={}){Bw(this,"x"),Bw(this,"ax"),Bw(this,"dx"),Bw(this,"tx"),Bw(this,"_options"),this.x=0,this.ax=0,this.dx=0,this.tx=0,this._options=e,this._options.max=e.max??160,this._options.damp=e.damp??.8,this._options.springiness=e.springiness??.1}update(){this.ax=(this.tx-this.x)*this._options.springiness,this.dx+=this.ax,this.dx*=this._options.damp,this.dx<-this._options.max?this.dx=-this._options.max:this.dx>this._options.max&&(this.dx=this._options.max),this.x+=this.dx}};var Vut=Object.defineProperty,Gut=(t,e,n)=>e in t?Vut(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,P1=(t,e,n)=>Gut(t,typeof e!="symbol"?e+"":e,n);let Kut=class{constructor(e={}){P1(this,"done"),P1(this,"to"),P1(this,"_spring"),P1(this,"_pos"),P1(this,"_speed"),P1(this,"_correctSpeed"),this._spring=new Hut(e),this._pos=0,this.to=0}start(e,n,r){this._speed=e,this._pos=n,this.to=r,this.done=!1,this._spring.x=this._pos,this._spring.tx=this.to;const i=this.to-this._pos,s=Math.abs(i)/i,o=Math.abs(this._speed)/this._speed;s!==o?this._correctSpeed=!0:this._correctSpeed=!1}update(){if(this._correctSpeed)this._speed*=.6,Math.abs(this._speed)<2&&(this._correctSpeed=!1),this._pos+=this._speed,this._spring.x=this._pos;else{const e=this.to-this._pos;Math.abs(e)<.05?(this._pos=this.to,this.done=!0):(this._spring.tx=this.to,this._spring.update(),this._pos=this._spring.x)}return this._pos}};var Wut=Object.defineProperty,qut=(t,e,n)=>e in t?Wut(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,mc=(t,e,n)=>qut(t,typeof e!="symbol"?e+"":e,n);let jK=class{constructor(e={}){mc(this,"position",0),mc(this,"maxSpeed"),mc(this,"constrainPercent"),mc(this,"constrain"),mc(this,"min",0),mc(this,"max",0),mc(this,"_ease"),mc(this,"_offset",0),mc(this,"_prev",0),mc(this,"_speed",0),mc(this,"_hasStopped",!0),mc(this,"_targetSpeed",0),mc(this,"_speedChecker",0),mc(this,"_grab",0),mc(this,"_activeEase",null),this.constrain=e.constrain??!0,this.maxSpeed=e.maxSpeed??400,this._ease=e.ease??new Kut,this.constrainPercent=e.constrainPercent??0}set value(e){this._speed=0,this.position=e}get value(){return this.position}grab(e){this._grab=e,this._offset=this.position-e,this._speedChecker=0,this._targetSpeed=this._speed=0,this._hasStopped=!1}hold(e){this._speedChecker++,this.position=e+this._offset,this._speedChecker>1&&(this._targetSpeed=this.position-this._prev),this._speed+=(this._targetSpeed-this._speed)/2,this._speed>this.maxSpeed?this._speed=this.maxSpeed:this._speed<-this.maxSpeed&&(this._speed=-this.maxSpeed),this._prev=this.position,this.constrain&&(this.constrainPercent<0?(this.position=0,this._speed=0,this._hasStopped=!0):this.constrainPercent===0?this.position>this.min?this.position=this.min:this.position<this.max&&(this.position=this.max):this.position>this.min?this.position-=(this.position-this.min)/(1+this.constrainPercent):this.position<this.max&&(this.position+=(this.max-this.position)/(1+this.constrainPercent)))}slide(e=!1){this._hasStopped||(this.constrain?this._updateConstrain(e):this._updateDefault())}_updateDefault(){this._speed*=.9,this.position+=this._speed,(this._speed<0?this._speed*-1:this._speed)<.01&&(this._hasStopped=!0),this.position>this.min?(this.position=this.min,this._hasStopped=!0):this.position<this.max&&(this.position=this.max,this._hasStopped=!0)}_updateConstrain(e=!1){const n=this.max;e?this.position>this.min?this.position=this.min:this.position<this.max&&(this.position=this.max):this.position>this.min||this.position<n||this._activeEase?(this._activeEase||(this._activeEase=this._ease,this.position>this.min?this._activeEase.start(this._speed,this.position,this.min):this._activeEase.start(this._speed,this.position,n)),this.position=this._activeEase.update(),this._activeEase.done&&(this.position=this._activeEase.to,this._speed=0,this._activeEase=null)):this._updateDefault()}};var Yut=Object.defineProperty,Xut=(t,e,n)=>e in t?Yut(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,vy=(t,e,n)=>Xut(t,typeof e!="symbol"?e+"":e,n);let Jut=class{constructor(e){vy(this,"xAxis"),vy(this,"yAxis"),vy(this,"_isDown"),vy(this,"_globalPosition"),vy(this,"_frame"),vy(this,"_bounds"),vy(this,"_dirty"),vy(this,"disableEasing",!1),this.xAxis=new jK({ease:e.xEase,maxSpeed:e.maxSpeed,constrain:e.constrain,constrainPercent:e.xConstrainPercent}),this.yAxis=new jK({ease:e.yEase,maxSpeed:e.maxSpeed,constrain:e.constrain,constrainPercent:e.yConstrainPercent}),this.disableEasing=e.disableEasing??!1,this._frame=new rs,this._bounds=new rs,this._globalPosition=new oa}pointerDown(e){this._globalPosition=e,this.xAxis.grab(e.x),this.yAxis.grab(e.y),this._isDown=!0}pointerUp(){this._isDown=!1}pointerMove(e){this._globalPosition=e}update(){this._dirty&&(this._dirty=!1,this.xAxis.min=this._bounds.left,this.xAxis.min=this._bounds.right-this._frame.width,this.xAxis.min=this._bounds.top,this.xAxis.min=this._bounds.bottom-this._frame.height),this._isDown?(this.xAxis.hold(this._globalPosition.x),this.yAxis.hold(this._globalPosition.y)):(this.xAxis.slide(this.disableEasing),this.yAxis.slide(this.disableEasing))}resize(e,n){this._frame.x=0,this._frame.width=e,this._frame.y=0,this._frame.height=n,this._dirty=!0}setBounds(e,n,r,i){this._bounds.x=e,this._bounds.width=n-e,this._bounds.y=r,this._bounds.height=i-r,this._dirty=!0}get x(){return this.xAxis.value}set x(e){this.xAxis.value=e}get y(){return this.yAxis.value}set y(e){this.yAxis.value=e}};var Zut=Object.defineProperty,ect=(t,e,n)=>e in t?Zut(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,c0=(t,e,n)=>ect(t,typeof e!="symbol"?e+"":e,n);function tct(t,e,n){const r={},i=Object.getPrototypeOf(t);for(const s of n){const o=i[s];r[s]=o.bind(t),t[s]=(...a)=>e[s](...a)}return r}class Hpe extends xr{constructor(e={}){const{layout:n,trackpad:r,background:i,children:s,...o}=e;super(o),c0(this,"background"),c0(this,"stroke",new Qi({label:"stroke"})),c0(this,"overflowContainer",new xr({label:"overflowContainer"})),c0(this,"containerMethods"),c0(this,"_trackpad"),c0(this,"_mask",new Qi),c0(this,"_isUserBackground",!1),c0(this,"_visualBounds",new rs),c0(this,"_scrollBounds",new rs),this.layout=n??{},s?.forEach(a=>this.addChild(a)),this.overflowContainer.isOverflowContainer=!0,this.background=i??new Qi({label:"background"}),this._isUserBackground=!!i,this.addChild(this.background,this.overflowContainer,this._mask,this.stroke),this.containerMethods=tct(this,this.overflowContainer,["addChild","addChildAt","removeChild","removeChildAt","getChildAt","getChildIndex","setChildIndex","getChildByName","removeChildren","sortChildren","swapChildren","reparentChild","reparentChildAt","getChildByLabel","getChildrenByLabel"]),this._trackpad=new Jut({constrain:!0,...r}),this.eventMode="static",this.on("pointerdown",a=>this.isPointWithinBounds(a.global.x,a.global.y)&&this._trackpad.pointerDown(a.global)),this.on("pointerup",()=>this._trackpad.pointerUp()),this.on("pointerupoutside",()=>this._trackpad.pointerUp()),this.on("pointermove",a=>this.isPointWithinBounds(a.global.x,a.global.y)&&this._trackpad.pointerMove(a.global)),this.on("pointercancel",()=>this._trackpad.pointerUp()),this.on("wheel",a=>{var l;if(((l=this.layout)==null?void 0:l.style.overflow)!=="scroll"||!this.isPointWithinBounds(a.global.x,a.global.y))return;const c=a.shiftKey?1:0,d=a.deltaX*(c?1:-1),f=a.deltaY*(c?-1:1),p=this._trackpad.xAxis.value-d,m=this._trackpad.yAxis.value-f;this._trackpad.xAxis.constrainPercent>=0&&(this._trackpad.xAxis.value=Math.max(this._trackpad.xAxis.max,Math.min(this._trackpad.xAxis.min,p))),this._trackpad.yAxis.constrainPercent>=0&&(this._trackpad.yAxis.value=Math.max(this._trackpad.yAxis.max,Math.min(this._trackpad.yAxis.min,m)))}),zy.shared.add(this.update,this)}computeLayoutData(e){return this._drawBackground(e),{x:e.left,y:e.top,offsetX:0,offsetY:0,scaleX:1,scaleY:1}}_updateMask(e,n,r=0,i=0,s=!1){const o=s?-i:0,a=s?-i:0,l=s?e+i*2:e,u=s?n+i*2:n;this._mask.clear(),this._mask.roundRect(0,0,l,u,r),this._mask.position.set(o,a),this._mask.fill(16777215),this._scrollBounds.set(o+i,a+i,l-i*2,u-i*2)}_updateBackground(e){const n=this.layout.style,{backgroundColor:r,borderRadius:i}=n;if(this._isUserBackground)this.background.position.set(0,0),this.background.setSize(e.width,e.height);else{const s=this.background;s.clear(),s.roundRect(0,0,e.width,e.height,i??0),r!=null?s.fill({color:r}):s.fill({color:16777215,alpha:0})}}_drawBackground(e){var n;let r=this.layout.yoga.getBorder(Tn.All);(isNaN(r)||r<0)&&(r=0);const i=this.layout.yoga.getBoxSizing(),s=i===eC.BorderBox?1:0,o=this.layout.style,{borderColor:a,borderRadius:l}=o;if(this._updateBackground(e),this.stroke.clear(),r>0&&a!=null&&(this.stroke.roundRect(0,0,e.width,e.height,l??0),this.stroke.stroke({color:a,width:r,alignment:s})),((n=this.layout)==null?void 0:n.style.overflow)!=="visible"){this._updateMask(e.width,e.height,o.borderRadius??0,r,i===eC.ContentBox),this._updateScrollArea(),this.setMask({mask:this._mask});const c=e.width-this._visualBounds.width,d=e.height-this._visualBounds.height;this._trackpad.xAxis.max=Math.min(0,c),this._trackpad.yAxis.max=Math.min(0,d)}else this.mask=null,this._trackpad.xAxis.value=0,this._trackpad.yAxis.value=0,this.overflowContainer.position.set(0,0)}_updateScrollArea(){let e=0,n=0;for(let i=0;i<this.layout.yoga.getChildCount();i++){const s=this.layout.yoga.getChild(i),o=s.getComputedTop()+s.getComputedHeight(),a=s.getComputedLeft()+s.getComputedWidth();a>n&&(n=a),o>e&&(e=o)}n+=this.layout.yoga.getComputedPadding(Tn.Right),e+=this.layout.yoga.getComputedPadding(Tn.Bottom);const r=this.layout.yoga.getBorder(Tn.All)||0;n+=r,e+=r,this._visualBounds.width=Math.max(0,n),this._visualBounds.height=Math.max(0,e)}isPointWithinBounds(e,n){return this._scrollBounds.contains(e-this.worldTransform.tx,n-this.worldTransform.ty)}update(){var e;((e=this.layout)==null?void 0:e.style.overflow)==="scroll"&&(this._trackpad.update(),this.overflowContainer.x=this._trackpad.x,this.overflowContainer.y=this._trackpad.y)}destroy(e){super.destroy(e),zy.shared.remove(this.update,this)}}var nct=Object.defineProperty,rct=(t,e,n)=>e in t?nct(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,ict=(t,e,n)=>rct(t,e+"",n);class sct extends Hpe{constructor(e){const{slot:n,layout:r,...i}=e;super(i),ict(this,"slot"),this.slot=e.slot??new xr({label:"slot"}),this.layout=r??{},this.addChild(this.slot),this.addChild=this._addChild.bind(this)}get layout(){return super.layout}set layout(e){if(e=e===!0?{}:e,!e){this.slot.layout=null,super.layout=null;return}const{applySizeDirectly:n,objectFit:r,objectPosition:i,isLeaf:s,...o}=e??{};super.layout=o,this.layout&&this.slot&&(this.slot.layout={width:"100%",height:"100%",...r&&{objectFit:r},...i&&{objectPosition:i},...n&&{applySizeDirectly:n},...s&&{isLeaf:s}})}_addChild(...e){if(this.overflowContainer.children.length>=1)throw new Error("Leaf nodes should not have multiple children");return this.overflowContainer.addChild(...e)}}var d0={},pN={},h0={},QK;function Vpe(){if(QK)return h0;QK=1,Object.defineProperty(h0,"__esModule",{value:!0}),h0.loop=h0.conditional=h0.parse=void 0;var t=function r(i,s){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:o;if(Array.isArray(s))s.forEach(function(u){return r(i,u,o,a)});else if(typeof s=="function")s(i,o,a,r);else{var l=Object.keys(s)[0];Array.isArray(s[l])?(a[l]={},r(i,s[l],o,a[l])):a[l]=s[l](i,o,a,r)}return o};h0.parse=t;var e=function(i,s){return function(o,a,l,u){s(o,a,l)&&u(o,i,a,l)}};h0.conditional=e;var n=function(i,s){return function(o,a,l,u){for(var c=[],d=o.pos;s(o,a,l);){var f={};if(u(o,i,a,f),o.pos===d)break;d=o.pos,c.push(f)}return c}};return h0.loop=n,h0}var ra={},UK;function Gpe(){if(UK)return ra;UK=1,Object.defineProperty(ra,"__esModule",{value:!0}),ra.readBits=ra.readArray=ra.readUnsigned=ra.readString=ra.peekBytes=ra.readBytes=ra.peekByte=ra.readByte=ra.buildStream=void 0;var t=function(d){return{data:d,pos:0}};ra.buildStream=t;var e=function(){return function(d){return d.data[d.pos++]}};ra.readByte=e;var n=function(){var d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return function(f){return f.data[f.pos+d]}};ra.peekByte=n;var r=function(d){return function(f){return f.data.subarray(f.pos,f.pos+=d)}};ra.readBytes=r;var i=function(d){return function(f){return f.data.subarray(f.pos,f.pos+d)}};ra.peekBytes=i;var s=function(d){return function(f){return Array.from(r(d)(f)).map(function(p){return String.fromCharCode(p)}).join("")}};ra.readString=s;var o=function(d){return function(f){var p=r(2)(f);return d?(p[1]<<8)+p[0]:(p[0]<<8)+p[1]}};ra.readUnsigned=o;var a=function(d,f){return function(p,m,v){for(var y=typeof f=="function"?f(p,m,v):f,A=r(d),C=new Array(y),E=0;E<y;E++)C[E]=A(p);return C}};ra.readArray=a;var l=function(d,f,p){for(var m=0,v=0;v<p;v++)m+=d[f+v]&&Math.pow(2,p-v-1);return m},u=function(d){return function(f){for(var p=e()(f),m=new Array(8),v=0;v<8;v++)m[7-v]=!!(p&1<<v);return Object.keys(d).reduce(function(y,A){var C=d[A];return C.length?y[A]=l(m,C.index,C.length):y[A]=m[C.index],y},{})}};return ra.readBits=u,ra}var HK;function oct(){return HK||(HK=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var e=Vpe(),n=Gpe(),r={blocks:function(f){for(var p=0,m=[],v=f.data.length,y=0,A=(0,n.readByte)()(f);A!==p&&A;A=(0,n.readByte)()(f)){if(f.pos+A>=v){var C=v-f.pos;m.push((0,n.readBytes)(C)(f)),y+=C;break}m.push((0,n.readBytes)(A)(f)),y+=A}for(var E=new Uint8Array(y),I=0,D=0;D<m.length;D++)E.set(m[D],I),I+=m[D].length;return E}},i=(0,e.conditional)({gce:[{codes:(0,n.readBytes)(2)},{byteSize:(0,n.readByte)()},{extras:(0,n.readBits)({future:{index:0,length:3},disposal:{index:3,length:3},userInput:{index:6},transparentColorGiven:{index:7}})},{delay:(0,n.readUnsigned)(!0)},{transparentColorIndex:(0,n.readByte)()},{terminator:(0,n.readByte)()}]},function(d){var f=(0,n.peekBytes)(2)(d);return f[0]===33&&f[1]===249}),s=(0,e.conditional)({image:[{code:(0,n.readByte)()},{descriptor:[{left:(0,n.readUnsigned)(!0)},{top:(0,n.readUnsigned)(!0)},{width:(0,n.readUnsigned)(!0)},{height:(0,n.readUnsigned)(!0)},{lct:(0,n.readBits)({exists:{index:0},interlaced:{index:1},sort:{index:2},future:{index:3,length:2},size:{index:5,length:3}})}]},(0,e.conditional)({lct:(0,n.readArray)(3,function(d,f,p){return Math.pow(2,p.descriptor.lct.size+1)})},function(d,f,p){return p.descriptor.lct.exists}),{data:[{minCodeSize:(0,n.readByte)()},r]}]},function(d){return(0,n.peekByte)()(d)===44}),o=(0,e.conditional)({text:[{codes:(0,n.readBytes)(2)},{blockSize:(0,n.readByte)()},{preData:function(f,p,m){return(0,n.readBytes)(m.text.blockSize)(f)}},r]},function(d){var f=(0,n.peekBytes)(2)(d);return f[0]===33&&f[1]===1}),a=(0,e.conditional)({application:[{codes:(0,n.readBytes)(2)},{blockSize:(0,n.readByte)()},{id:function(f,p,m){return(0,n.readString)(m.blockSize)(f)}},r]},function(d){var f=(0,n.peekBytes)(2)(d);return f[0]===33&&f[1]===255}),l=(0,e.conditional)({comment:[{codes:(0,n.readBytes)(2)},r]},function(d){var f=(0,n.peekBytes)(2)(d);return f[0]===33&&f[1]===254}),u=[{header:[{signature:(0,n.readString)(3)},{version:(0,n.readString)(3)}]},{lsd:[{width:(0,n.readUnsigned)(!0)},{height:(0,n.readUnsigned)(!0)},{gct:(0,n.readBits)({exists:{index:0},resolution:{index:1,length:3},sort:{index:4},size:{index:5,length:3}})},{backgroundColorIndex:(0,n.readByte)()},{pixelAspectRatio:(0,n.readByte)()}]},(0,e.conditional)({gct:(0,n.readArray)(3,function(d,f){return Math.pow(2,f.lsd.gct.size+1)})},function(d,f){return f.lsd.gct.exists}),{frames:(0,e.loop)([i,a,l,s,o],function(d){var f=(0,n.peekByte)()(d);return f===33||f===44})}],c=u;t.default=c})(pN)),pN}var Dw={},VK;function act(){if(VK)return Dw;VK=1,Object.defineProperty(Dw,"__esModule",{value:!0}),Dw.deinterlace=void 0;var t=function(n,r){for(var i=new Array(n.length),s=n.length/r,o=function(p,m){var v=n.slice(m*r,(m+1)*r);i.splice.apply(i,[p*r,r].concat(v))},a=[0,4,2,1],l=[8,8,4,2],u=0,c=0;c<4;c++)for(var d=a[c];d<s;d+=l[c])o(d,u),u++;return i};return Dw.deinterlace=t,Dw}var Tw={},GK;function lct(){if(GK)return Tw;GK=1,Object.defineProperty(Tw,"__esModule",{value:!0}),Tw.lzw=void 0;var t=function(n,r,i){var s=4096,o=-1,a=i,l,u,c,d,f,p,m,M,v,y,T,A,P,k,$,L,C=new Array(i),E=new Array(s),I=new Array(s),D=new Array(s+1);for(A=n,u=1<<A,f=u+1,l=u+2,m=o,d=A+1,c=(1<<d)-1,v=0;v<u;v++)E[v]=0,I[v]=v;var T,M,P,k,L,$;for(T=M=P=k=L=$=0,y=0;y<a;){if(k===0){if(M<d){T+=r[$]<<M,M+=8,$++;continue}if(v=T&c,T>>=d,M-=d,v>l||v==f)break;if(v==u){d=A+1,c=(1<<d)-1,l=u+2,m=o;continue}if(m==o){D[k++]=I[v],m=v,P=v;continue}for(p=v,v==l&&(D[k++]=P,v=m);v>u;)D[k++]=I[v],v=E[v];P=I[v]&255,D[k++]=P,l<s&&(E[l]=m,I[l]=P,l++,(l&c)===0&&l<s&&(d++,c+=l)),m=p}k--,C[L++]=D[k],y++}for(y=L;y<a;y++)C[y]=0;return C};return Tw.lzw=t,Tw}var KK;function uct(){if(KK)return d0;KK=1,Object.defineProperty(d0,"__esModule",{value:!0}),d0.decompressFrames=d0.decompressFrame=d0.parseGIF=void 0;var t=s(oct()),e=Vpe(),n=Gpe(),r=act(),i=lct();function s(c){return c&&c.__esModule?c:{default:c}}var o=function(d){var f=new Uint8Array(d);return(0,e.parse)((0,n.buildStream)(f),t.default)};d0.parseGIF=o;var a=function(d){for(var f=d.pixels.length,p=new Uint8ClampedArray(f*4),m=0;m<f;m++){var v=m*4,y=d.pixels[m],A=d.colorTable[y]||[0,0,0];p[v]=A[0],p[v+1]=A[1],p[v+2]=A[2],p[v+3]=y!==d.transparentIndex?255:0}return p},l=function(d,f,p){if(!d.image){console.warn("gif frame does not have associated image.");return}var m=d.image,v=m.descriptor.width*m.descriptor.height,y=(0,i.lzw)(m.data.minCodeSize,m.data.blocks,v);m.descriptor.lct.interlaced&&(y=(0,r.deinterlace)(y,m.descriptor.width));var A={pixels:y,dims:{top:d.image.descriptor.top,left:d.image.descriptor.left,width:d.image.descriptor.width,height:d.image.descriptor.height}};return m.descriptor.lct&&m.descriptor.lct.exists?A.colorTable=m.lct:A.colorTable=f,d.gce&&(A.delay=(d.gce.delay||10)*10,A.disposalType=d.gce.extras.disposal,d.gce.extras.transparentColorGiven&&(A.transparentIndex=d.gce.transparentColorIndex)),p&&(A.patch=a(A)),A};d0.decompressFrame=l;var u=function(d,f){return d.frames.filter(function(p){return p.image}).map(function(p){return l(p,d.gct,f)})};return d0.decompressFrames=u,d0}var WK=uct();class a7{constructor(e){if(!e||!e.length)throw new Error("Invalid frames");const[{texture:{width:n,height:r}}]=e;this.width=n,this.height=r,this.frames=e,this.textures=this.frames.map(i=>i.texture),this.totalFrames=this.frames.length,this.duration=this.frames[this.totalFrames-1].end}destroy(){for(const e of this.textures)e.destroy(!0);for(const e of this.frames)e.texture=null;this.frames.length=0,this.textures.length=0,Object.assign(this,{frames:null,textures:null,width:0,height:0,duration:0,totalFrames:0})}static from(e,n){if(!e||e.byteLength===0)throw new Error("Invalid buffer");const r=C=>{let E=null;for(const I of C.frames)E=I.gce??E,"image"in I&&!("gce"in I)&&(I.gce=E)},i=WK.parseGIF(e);r(i);const s=WK.decompressFrames(i,!0),o=[],a=i.lsd.width,l=i.lsd.height,u=hs.get().createCanvas(a,l),c=u.getContext("2d",{willReadFrequently:!0}),d=hs.get().createCanvas(),f=d.getContext("2d");let p=0,m=null;const{fps:v=30,...y}=n??{},A=1e3/v;for(let C=0;C<s.length;C++){const{disposalType:E=2,delay:I=A,patch:D,dims:{width:T,height:M,left:P,top:k}}=s[C];d.width=T,d.height=M,f.clearRect(0,0,T,M);const L=f.createImageData(T,M);L.data.set(D),f.putImageData(L,0,0),E===3&&(m=c.getImageData(0,0,a,l)),c.drawImage(d,P,k);const $=c.getImageData(0,0,a,l);E===2?c.clearRect(0,0,a,l):E===3&&c.putImageData(m,0,0);const z=hs.get().createCanvas($.width,$.height);z.getContext("2d").putImageData($,0,0),o.push({start:p,end:p+I,texture:new er({source:new Gz({resource:z,...y})})}),p+=I}return u.width=u.height=0,d.width=d.height=0,new a7(o)}}const cct={extension:Qn.Asset,detection:{test:async()=>!0,add:async t=>[...t,"gif"],remove:async t=>t.filter(e=>e!=="gif")},loader:{name:"gifLoader",id:"gif",test:t=>Ad.extname(t)===".gif"||t.startsWith("data:image/gif"),load:async(t,e)=>{const r=await(await hs.get().fetch(t)).arrayBuffer();return a7.from(r,e?.data)},unload:async t=>{t.destroy()}}};mo.add(cct);class dct extends sct{constructor(e){const{layout:n,background:r,trackpad:i,ClassType:s,...o}=e,a=new s(o);super({slot:a,layout:n,background:r,trackpad:i})}}class hct extends dct{constructor(e){super({...e,ClassType:Cd})}}var gN={},Mw={},qK;function I4(){if(qK)return Mw;qK=1,Object.defineProperty(Mw,"__esModule",{value:!0}),Mw.Collector=void 0;let t=class{constructor(n){this.emit=(...r)=>{n.emitCollecting(this,r)}}};return Mw.Collector=t,Mw}var kw={},YK;function fct(){if(YK)return kw;YK=1,Object.defineProperty(kw,"__esModule",{value:!0}),kw.CollectorArray=void 0;const t=I4();let e=class extends t.Collector{constructor(){super(...arguments),this.result=[]}handleResult(r){return this.result.push(r),!0}getResult(){return this.result}reset(){this.result.length=0}};return kw.CollectorArray=e,kw}var Pw={},XK;function pct(){if(XK)return Pw;XK=1,Object.defineProperty(Pw,"__esModule",{value:!0}),Pw.CollectorLast=void 0;const t=I4();let e=class extends t.Collector{handleResult(r){return this.result=r,!0}getResult(){return this.result}reset(){delete this.result}};return Pw.CollectorLast=e,Pw}var Rw={},JK;function gct(){if(JK)return Rw;JK=1,Object.defineProperty(Rw,"__esModule",{value:!0}),Rw.CollectorUntil0=void 0;const t=I4();let e=class extends t.Collector{constructor(){super(...arguments),this.result=!1}handleResult(r){return this.result=r,this.result}getResult(){return this.result}reset(){this.result=!1}};return Rw.CollectorUntil0=e,Rw}var Nw={},ZK;function mct(){if(ZK)return Nw;ZK=1,Object.defineProperty(Nw,"__esModule",{value:!0}),Nw.CollectorWhile0=void 0;const t=I4();let e=class extends t.Collector{constructor(){super(...arguments),this.result=!1}handleResult(r){return this.result=r,!this.result}getResult(){return this.result}reset(){this.result=!1}};return Nw.CollectorWhile0=e,Nw}var Lw={},Fw={},eW;function Act(){if(eW)return Fw;eW=1,Object.defineProperty(Fw,"__esModule",{value:!0}),Fw.SignalConnectionImpl=void 0;class t{constructor(n,r){this.link=n,this.parentCleanup=r}disconnect(){return this.link!==null?(this.link.unlink(),this.link=null,this.parentCleanup(),this.parentCleanup=null,!0):!1}set enabled(n){this.link&&this.link.setEnabled(n)}get enabled(){return this.link!==null&&this.link.isEnabled()}}return Fw.SignalConnectionImpl=t,Fw}var $w={},tW;function yct(){if(tW)return $w;tW=1,Object.defineProperty($w,"__esModule",{value:!0}),$w.SignalLink=void 0;let t=class Kpe{constructor(n=null,r=null,i=0){this.enabled=!0,this.newLink=!1,this.callback=null,this.prev=n??this,this.next=r??this,this.order=i}isEnabled(){return this.enabled&&!this.newLink}setEnabled(n){this.enabled=n}unlink(){this.callback=null,this.next.prev=this.prev,this.prev.next=this.next}insert(n,r){let i=this.prev;for(;i!==this&&!(i.order<=r);)i=i.prev;const s=new Kpe(i,i.next,r);return s.callback=n,i.next=s,s.next.prev=s,s}};return $w.SignalLink=t,$w}var nW;function vct(){if(nW)return Lw;nW=1,Object.defineProperty(Lw,"__esModule",{value:!0}),Lw.Signal=void 0;const t=Act(),e=yct();let n=class{constructor(){this.head=new e.SignalLink,this.hasNewLinks=!1,this.emitDepth=0,this.connectionsCount=0}getConnectionsCount(){return this.connectionsCount}hasConnections(){return this.connectionsCount>0}connect(i,s=0){this.connectionsCount++;const o=this.head.insert(i,s);return this.emitDepth>0&&(this.hasNewLinks=!0,o.newLink=!0),new t.SignalConnectionImpl(o,()=>this.decrementConnectionCount())}decrementConnectionCount(){this.connectionsCount--}disconnect(i){for(let s=this.head.next;s!==this.head;s=s.next)if(s.callback===i)return this.decrementConnectionCount(),s.unlink(),!0;return!1}disconnectAll(){for(;this.head.next!==this.head;)this.head.next.unlink();this.connectionsCount=0}emit(...i){this.emitDepth++;for(let s=this.head.next;s!==this.head;s=s.next)s.isEnabled()&&s.callback&&s.callback.apply(null,i);this.emitDepth--,this.unsetNewLink()}emitCollecting(i,s){this.emitDepth++;for(let o=this.head.next;o!==this.head;o=o.next)if(o.isEnabled()&&o.callback){const a=o.callback.apply(null,s);if(!i.handleResult(a))break}this.emitDepth--,this.unsetNewLink()}unsetNewLink(){if(this.hasNewLinks&&this.emitDepth===0){for(let i=this.head.next;i!==this.head;i=i.next)i.newLink=!1;this.hasNewLinks=!1}}};return Lw.Signal=n,Lw}var zw={},rW;function bct(){if(rW)return zw;rW=1,Object.defineProperty(zw,"__esModule",{value:!0}),zw.SignalConnections=void 0;let t=class{constructor(){this.list=[]}add(n){this.list.push(n)}disconnectAll(){for(const n of this.list)n.disconnect();this.list=[]}getCount(){return this.list.length}isEmpty(){return this.list.length===0}};return zw.SignalConnections=t,zw}var iW;function xct(){return iW||(iW=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.SignalConnections=t.Signal=t.CollectorWhile0=t.CollectorUntil0=t.CollectorLast=t.CollectorArray=t.Collector=void 0;var e=I4();Object.defineProperty(t,"Collector",{enumerable:!0,get:function(){return e.Collector}});var n=fct();Object.defineProperty(t,"CollectorArray",{enumerable:!0,get:function(){return n.CollectorArray}});var r=pct();Object.defineProperty(t,"CollectorLast",{enumerable:!0,get:function(){return r.CollectorLast}});var i=gct();Object.defineProperty(t,"CollectorUntil0",{enumerable:!0,get:function(){return i.CollectorUntil0}});var s=mct();Object.defineProperty(t,"CollectorWhile0",{enumerable:!0,get:function(){return s.CollectorWhile0}});var o=vct();Object.defineProperty(t,"Signal",{enumerable:!0,get:function(){return o.Signal}});var a=bct();Object.defineProperty(t,"SignalConnections",{enumerable:!0,get:function(){return a.SignalConnections}})})(gN)),gN}var lf=xct(),Cct=Object.defineProperty,Ect=(t,e,n)=>e in t?Cct(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,by=(t,e,n)=>Ect(t,typeof e!="symbol"?e+"":e,n);class Sct{constructor(){by(this,"_isMouseIn",!1),by(this,"_isDown",!1),by(this,"onDown"),by(this,"onUp"),by(this,"onUpOut"),by(this,"onOut"),by(this,"onPress"),by(this,"onHover"),this.onPress=new lf.Signal,this.onDown=new lf.Signal,this.onUp=new lf.Signal,this.onHover=new lf.Signal,this.onOut=new lf.Signal,this.onUpOut=new lf.Signal}connectEvents(e){Dx.any?(e.on("pointerdown",this.processDown,this),e.on("pointerup",this.processUp,this),e.on("pointerupoutside",this.processUpOut,this),e.on("pointerout",this.processOut,this),e.on("pointertap",this.processPress,this),e.on("pointerover",this.processOver,this)):(e.on("mousedown",this.processDown,this),e.on("mouseup",this.processUp,this),e.on("mouseupoutside",this.processUpOut,this),e.on("mouseout",this.processOut,this),e.on("click",this.processPress,this),e.on("mouseover",this.processOver,this))}disconnectEvents(e){Dx.any?(e.off("pointerdown",this.processDown,this),e.off("pointerup",this.processUp,this),e.off("pointerupoutside",this.processUpOut,this),e.off("pointerout",this.processOut,this),e.off("pointertap",this.processPress,this),e.off("pointerover",this.processOver,this)):(e.off("mousedown",this.processDown,this),e.off("mouseup",this.processUp,this),e.off("mouseupoutside",this.processUpOut,this),e.off("mouseout",this.processOut,this),e.off("click",this.processPress,this),e.off("mouseover",this.processOver,this))}processDown(e){this._isDown=!0,this.onDown.emit(this,e),this.down(e)}processUp(e){this._isDown&&(this.onUp.emit(this,e),this.up(e)),this._isDown=!1}processUpOut(e){this._isDown&&(this.onUp.emit(this,e),this.onUpOut.emit(this,e),this.up(e),this.upOut(e)),this._isDown=!1}processOut(e){this._isMouseIn&&(this._isMouseIn=!1,this.onOut.emit(this,e),this.out(e))}processPress(e){this._isDown=!1,this.onPress.emit(this,e),this.press(e)}processOver(e){Dx.any||(this._isMouseIn=!0,this.onHover.emit(this,e),this.hover(e))}down(e){}up(e){}upOut(e){}out(e){}press(e){}hover(e){}get isDown(){return this._isDown}}var wct=Object.defineProperty,_ct=(t,e,n)=>e in t?wct(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Ey=(t,e,n)=>_ct(t,typeof e!="symbol"?e+"":e,n);class Ict extends Sct{constructor(e){super(),Ey(this,"_view"),e&&(this.view=e,this.enabled=!0)}set view(e){this._view&&this._view&&this.disconnectEvents(this._view),this._view=e,this.connectEvents(this._view)}get view(){return this._view}set enabled(e){if(!this.view){console.error("Button view is not set. Please set it before enabling the button.");return}this.view.eventMode=e?"static":"auto",this.view.cursor=e?"pointer":"default",!e&&this.isDown&&this.processUp()}get enabled(){return this.view?.eventMode==="static"}}class Bct extends xr{constructor(e){super(),Ey(this,"button"),Ey(this,"onDown"),Ey(this,"onUp"),Ey(this,"onUpOut"),Ey(this,"onOut"),Ey(this,"onPress"),Ey(this,"onHover"),this.button=new Ict(this),this.button.enabled=!0,e&&this.addChild(e),this.onPress=this.button.onPress,this.onDown=this.button.onDown,this.onUp=this.button.onUp,this.onHover=this.button.onHover,this.onOut=this.button.onOut,this.onUpOut=this.button.onUpOut}set enabled(e){this.button.enabled=e}get enabled(){return this.button.enabled}}function jp(t){return typeof t=="string"?Sf.from(t):t instanceof er?new Sf(t):t}var Dct=Object.defineProperty,Tct=(t,e,n)=>e in t?Dct(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,iB=(t,e,n)=>Tct(t,typeof e!="symbol"?e+"":e,n);class Mct extends xr{constructor(e,n,r){super(),iB(this,"_triggerEvents",new Set(["onPress"])),iB(this,"innerView"),iB(this,"_active"),iB(this,"onChange"),this.innerView=new xr,this.addChild(this.innerView),this.onChange=new lf.Signal,e&&(this.views=e),n&&(this.triggerEvents=n),r!==void 0&&this.views.length>0&&(this.active=r),this.setInteractionEvents()}setInteractionEvents(){this.innerView.eventMode="static",this.innerView.on("pointerdown",()=>this.handleEvents("onDown")),this.innerView.on("pointerup",()=>this.handleEvents("onUp")),this.innerView.on("pointerupoutside",()=>this.handleEvents("onUpOut")),this.innerView.on("pointerout",()=>this.handleEvents("onOut")),this.innerView.on("pointertap",()=>this.handleEvents("onPress")),this.innerView.on("pointerover",()=>this.handleEvents("onHover"))}handleEvents(e){this._triggerEvents.has(e)&&this.switch()}get activeView(){if(this.views&&this.active!==void 0&&this.views[this.active])return this.views[this.active]}set views(e){this.innerView.removeChildren(),e.forEach(n=>this.add(n))}get views(){return this.innerView.children}add(e){const n=jp(e);this.innerView.addChild(n),n.visible=!1,this.views.length===1&&(this.active=0)}remove(e){this.views[e]&&this.innerView.removeChild(this.views[e])}set triggerEvents(e){this._triggerEvents=new Set(Array.isArray(e)?e:[e])}get triggerEvents(){return Array.from(this._triggerEvents)}switch(e){if(e!==void 0&&e===this.active)return;const n=this.active;if(this.forceSwitch(e),n!==this.active){const r=this.views.length>2?this.active??0:this.active===1;this.onChange.emit(r)}}forceSwitch(e){if(!(e!==void 0&&e===this.active)){if(this.activeView&&(this.activeView.visible=!1),e!==void 0&&!this.views[e])throw new Error(`View with id ${e} does not exist.`);this._active=e===void 0?this.nextActive:e,this._active!==void 0&&(this.views[this._active].visible=!0)}}get nextActive(){if(this.views.length!==0)return this.active===void 0?0:this.active<this.views.length-1?this.active+1:0}set active(e){this.switch(e)}get active(){return this._active}}let c_;typeof self>"u"&&typeof process<"u"&&process.hrtime?c_=function(){const t=process.hrtime();return t[0]*1e3+t[1]/1e6}:typeof self<"u"&&self.performance!==void 0&&self.performance.now!==void 0?c_=self.performance.now.bind(self.performance):Date.now!==void 0?c_=Date.now:c_=function(){return new Date().getTime()};class bp{constructor(){bp.prototype.__init.call(this),bp.prototype.__init2.call(this),bp.prototype.__init3.call(this),bp.prototype.__init4.call(this)}__init(){this._tweens={}}static get shared(){return bp._shared||(bp._shared=new bp),bp._shared}__init2(){this._paused=!1}isPaused(){return this._paused}pause(){this._paused=!0}resume(){this._paused=!1}__init3(){this._lastUpdateTime=void 0}__init4(){this.now=c_}getAll(){return Object.keys(this._tweens).map(e=>this._tweens[e])}removeAll(){this._tweens={}}add(e){this._tweens[e.getId()]=e}remove(e){delete this._tweens[e.getId()]}update(e,n=!1){if(e==null&&(this._lastUpdateTime==null?(this._lastUpdateTime=this.now(),e=0):e=this.now()-this._lastUpdateTime),this._lastUpdateTime=this.now(),this._paused)return!1;const r=Object.keys(this._tweens);if(r.length==0)return!1;for(let i=0;i<r.length;i++){const s=this._tweens[r[i]];s&&s.update(e,!0)==!1&&!n&&delete this._tweens[r[i]]}return!0}}const kct={Linear:{None(t){return t}}},Wpe={Geom:{Linear(t,e){const n=t.length-1,r=n*e,i=Math.floor(r),s=Wpe.Utils.Linear;return e<0?s(t[0],t[1],r):e>1?s(t[n],t[n-1],n-r):s(t[i],t[i+1>n?n:i+1],r-i)}},Utils:{Linear(t,e,n){return(e-t)*n+t}}};class CM{static __initStatic(){this._nextId=0}static nextId(){return CM._nextId++}}CM.__initStatic();const sB={safetyCheckFunction:t=>!0,easingFunction:kct.Linear.None,yoyoEasingFunction:void 0,interpolationFunction:Wpe.Geom.Linear};class Js{__init(){this._isPaused=!1}__init2(){this._valuesStart={}}__init3(){this._valuesEnd={}}__init4(){this._valuesStartRepeat={}}__init5(){this._duration=0}__init6(){this._repeatCount=0}__init7(){this._repeat=0}__init8(){this._yoyo=!1}__init9(){this._isPlaying=!1}get _reversed(){return this.yoyo&&this._repeatCount%2!==0}__init10(){this._delayTime=0}__init11(){this._startTime=0}__init12(){this._elapsedTime=0}__init13(){this._timescale=1}__init14(){this._safetyCheckFunction=sB.safetyCheckFunction}__init15(){this._easingFunction=sB.easingFunction}__init16(){this._yoyoEasingFunction=sB.yoyoEasingFunction}__init17(){this._interpolationFunction=sB.interpolationFunction}__init18(){this._chainedTweens=[]}__init19(){this._onStartCallbackFired=!1}__init20(){this._onAfterDelayCallbackFired=!1}__init21(){this._id=CM.nextId()}__init22(){this._isChainStopped=!1}get _group(){return this._groupRef?this._groupRef:bp.shared}set _group(e){this._groupRef=e}constructor(e,n){Js.prototype.__init.call(this),Js.prototype.__init2.call(this),Js.prototype.__init3.call(this),Js.prototype.__init4.call(this),Js.prototype.__init5.call(this),Js.prototype.__init6.call(this),Js.prototype.__init7.call(this),Js.prototype.__init8.call(this),Js.prototype.__init9.call(this),Js.prototype.__init10.call(this),Js.prototype.__init11.call(this),Js.prototype.__init12.call(this),Js.prototype.__init13.call(this),Js.prototype.__init14.call(this),Js.prototype.__init15.call(this),Js.prototype.__init16.call(this),Js.prototype.__init17.call(this),Js.prototype.__init18.call(this),Js.prototype.__init19.call(this),Js.prototype.__init20.call(this),Js.prototype.__init21.call(this),Js.prototype.__init22.call(this),this._object=e,this._group=n}getId(){return this._id}getGroup(){return this._group}getTimescale(){return this._timescale}isPlaying(){return this._isPlaying}isPaused(){return this._isPaused}from(e){try{JSON.stringify(e)}catch{throw new Error("The object you provided to the from() method has a circular reference!")}return this._setupProperties(e,this._valuesStart,e,this._valuesStartRepeat,!0),this}to(e,n){try{this._valuesEnd=JSON.parse(JSON.stringify(e))}catch{return console.warn("The object you provided to the to() method has a circular reference!. It can't be cloned. Falling back to dynamic targeting"),this.dynamicTo(e,n)}return n!==void 0&&(this._duration=n),this}dynamicTo(e,n){return this._valuesEnd=e,n!==void 0&&(this._duration=n),this}duration(e){return this._duration=e,this}start(e){return this._isPlaying?this:(e!=null&&(this._delayTime=e),this._group.add(this),this._reversed&&(this._swapEndStartRepeatValues(this._valuesStartRepeat,this._valuesEnd),this._valuesStart=JSON.parse(JSON.stringify(this._valuesStartRepeat))),this._repeatCount=0,this._isPlaying=!0,this._isPaused=!1,this._onStartCallbackFired=!1,this._onAfterDelayCallbackFired=!1,this._isChainStopped=!1,this._startTime=-this._delayTime,this._elapsedTime=0,this._setupProperties(this._object,this._valuesStart,this._valuesEnd,this._valuesStartRepeat,!1),this)}restart(e){return this.reset(),this.start(e)}reset(){return this._isPlaying&&this.stop(),this._valuesStart={},this._valuesStartRepeat={},this}rewind(){this._isPlaying&&this.stop(),this._reversed&&this._swapEndStartRepeatValues(this._valuesStartRepeat,this._valuesEnd);const e=this._easingFunction(0);return this._updateProperties(this._object,this._valuesStart,this._valuesEnd,e),this}_setupProperties(e,n,r,i,s){for(const o in r){const a=e[o],l=Array.isArray(a),u=!Number.isNaN(Number(a)),c=l?"array":typeof a,d=c=="object",f=typeof r[o]=="object",p=!l&&Array.isArray(r[o]);c=="undefined"||c=="function"||r[o]==null||!l&&!u&&!d||((d||l||f)&&a&&!p?(typeof n[o]>"u"&&(n[o]=l?[]:{}),typeof i[o]>"u"&&(i[o]=l?[]:{}),this._setupProperties(a,n[o],r[o],i[o],s)):((typeof n[o]>"u"||s)&&(n[o]=a),(typeof i[o]>"u"||s)&&(p?i[o]=r[o].slice().reverse()[0]:i[o]=n[o]||0)))}}stop(){return this._isChainStopped||(this._isChainStopped=!0,this.stopChainedTweens()),this._isPlaying?(this._group.remove(this),this._isPlaying=!1,this._isPaused=!1,this._onStopCallback&&this._onStopCallback(this._object,this),this):this}end(e=!1){let n=[];if(e||(n=this._chainedTweens,this._chainedTweens=[]),this.resume(),this.update(1/0),!e){this._chainedTweens=n;for(let r=0,i=this._chainedTweens.length;r<i;r++)this._chainedTweens[r].start()}return this}skip(e,n=!1){return this.resume(),this.update(e*this._duration-(n?this._elapsedTime:0)),this}pause(){return this._isPaused||!this._isPlaying?this:(this._isPaused=!0,this._group.remove(this),this)}resume(){return!this._isPaused||!this._isPlaying?this:(this._isPaused=!1,this._group.add(this),this)}stopChainedTweens(){for(let e=0,n=this._chainedTweens.length;e<n;e++)this._chainedTweens[e].stop();return this}startChainedTweens(e=!1){e&&this.stop();for(let n=0,r=this._chainedTweens.length;n<r;n++)this._chainedTweens[n].start();return this}group(e){return this._group=e,this}delay(e){return this._delayTime=e,this}timescale(e){return this._timescale=e,this}repeat(e=1/0){return this._repeat=e,this}repeatDelay(e){return this._repeatDelayTime=e,this}yoyo(e=!0){return this._yoyo=e,this}easing(e){return this._easingFunction=e,this}safetyCheck(e){return this._safetyCheckFunction=e,this}yoyoEasing(e){return this._yoyoEasingFunction=e,this}interpolation(e){return this._interpolationFunction=e,this}chain(...e){return this._chainedTweens=e,this}onStart(e){return this._onStartCallback=e,this}onAfterDelay(e){return this._onAfterDelayCallback=e,this}onUpdate(e){return this._onUpdateCallback=e,this}onRepeat(e){return this._onRepeatCallback=e,this}onComplete(e){return this._onCompleteCallback=e,this}onStop(e){return this._onStopCallback=e,this}update(e,n=!1){const r=this._internalUpdate(e);return!r&&!n&&this._group.remove(this),r}_internalUpdate(e){if(!this._safetyCheckFunction(this._object)||this._isPaused)return!1;e*=this._timescale;let n;this._elapsedTime+=e;const r=this._duration,i=this._startTime+this._elapsedTime;if(i>r&&!this._isPlaying)return!1;this.isPlaying||this.start(),this._onStartCallbackFired==!1&&(this._onStartCallback&&this._onStartCallback(this._object,this),this._onStartCallbackFired=!0),this._onAfterDelayCallbackFired==!1&&i>=0&&(this._onAfterDelayCallback&&this._onAfterDelayCallback(this._object,this),this._onAfterDelayCallbackFired=!0),n=i/this._duration,this._duration==0&&(i>=0?n=1:n=0),n=Math.min(1,n),n=Math.max(0,n);let s=Number.isFinite(i)?i%this._duration:i;Number.isNaN(s)&&(s=0);const o=Math.floor(i/this._duration);let a;if(this._reversed&&this._yoyoEasingFunction?a=this._yoyoEasingFunction(n):a=this._easingFunction(n),this._updateProperties(this._object,this._valuesStart,this._valuesEnd,a),this._onUpdateCallback&&(n!=1||this._repeat-this._repeatCount<=0)&&this._onUpdateCallback(this._object,n,this),n==1){if(this._repeat-this._repeatCount>0){const l=this._repeatCount;if(this._repeatCount=Math.min(this._repeat+1,this._repeatCount+o),this._onUpdateCallback&&(this._repeat-this._repeatCount<0||s<=0)&&this._onUpdateCallback(this._object,n,this),this._yoyo?this._swapEndStartRepeatValues(this._valuesStartRepeat,this._valuesEnd):this._moveForwardStartRepeatValues(this._valuesStartRepeat,this._valuesEnd),this._valuesStart=JSON.parse(JSON.stringify(this._valuesStartRepeat)),this._repeatDelayTime!==void 0?this._startTime=-this._repeatDelayTime:this._startTime=0,this._onRepeatCallback){let u=1;Number.isFinite(o)?u=this._repeatCount-l:Number.isFinite(this._repeat)&&(u=this._repeat-l);for(let c=0;c<u;c++)this._onRepeatCallback(this._object,l+1+c,this)}if(this._elapsedTime=0,this._repeat-this._repeatCount>=0)return s>0&&Number.isFinite(this._repeat)&&this._internalUpdate(s),!0}this._onCompleteCallback&&this._onCompleteCallback(this._object,this);for(let l=0,u=this._chainedTweens.length;l<u;l++)this._chainedTweens[l].start(),s>0&&this._chainedTweens[l].update(s);return this._isPlaying=!1,!1}return!0}_updateProperties(e,n,r,i){for(const s in r){if(n[s]==null)continue;const o=n[s];let a=r[s];const l=Array.isArray(e[s]),u=Array.isArray(a);!l&&u?this._reversed?e[s]=this._interpolationFunction(a.concat([o]),i):e[s]=this._interpolationFunction([o].concat(a),i):typeof a=="object"&&a?this._updateProperties(e[s],o,a,i):(a=this._handleRelativeValue(o,a),typeof a=="number"&&(typeof o=="number"||typeof o=="string")&&(e[s]=Number(o)+(a-Number(o))*i,typeof o=="string"&&(e[s]=String(e[s]))))}}_handleRelativeValue(e,n){return typeof n!="string"?n:n.charAt(0)=="+"||n.charAt(0)=="-"?e+Number(n):Number(n)}_swapEndStartRepeatValues(e,n){for(const r in e){const i=!Array.isArray(e[r])&&Array.isArray(n[r]);if(typeof e[r]=="object")this._swapEndStartRepeatValues(e[r],n[r]);else{const s=e[r];if(typeof n[r]=="string")e[r]=Number(e[r])+Number(n[r]),n[r]=s;else if(i){const o=n[r].slice().reverse();e[r]=o[0],n[r]=o}else e[r]=n[r],n[r]=s}}}_moveForwardStartRepeatValues(e,n){for(const r in e)typeof n[r]=="object"?this._moveForwardStartRepeatValues(e[r],n[r]):typeof n[r]=="string"&&(e[r]=Number(e[r])+Number(n[r]))}}function sW(t,e,n=0,r=!0){let i=e.scale.x,s=e.scale.y;if(!t)throw new Error("Parent is not defined");const o=t.width-n*2,a=t.height-n*2,l=o-Math.round(e.width),u=a-Math.round(e.height);if(l<0&&(i=o/(e.width/i)),u<0&&(s=a/(e.height/s)),i<=0||s<=0){e.scale.set(0);return}if(r||e.scale.x===e.scale.y){const c=Math.min(i,s);e.scale.set(c,c)}else{const c=e.scale.x/e.scale.y;l<u?e.scale.set(i,i/c):e.scale.set(s*c,s)}}function Pct(t){return typeof t=="string"||typeof t=="number"?new Cd({text:String(t)}):t}var Rct=Object.defineProperty,Nct=(t,e,n)=>e in t?Rct(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Nu=(t,e,n)=>Nct(t,typeof e!="symbol"?e+"":e,n);class kx extends Bct{constructor(e){super(),Nu(this,"animations"),Nu(this,"originalInnerViewState"),Nu(this,"defaultDuration",100),Nu(this,"options"),Nu(this,"_padding",0),Nu(this,"_offset",{}),Nu(this,"_textOffset",{}),Nu(this,"iconOffset",{}),Nu(this,"innerView",new xr),Nu(this,"_views",{}),Nu(this,"state","default"),Nu(this,"anchor"),Nu(this,"_defaultTextScale",{x:1,y:1}),Nu(this,"_defaultIconScale",{x:1,y:1}),Nu(this,"_defaultTextAnchor",{x:.5,y:.5}),Nu(this,"_defaultIconAnchor",{x:.5,y:.5}),this.options=e??{};const{defaultView:n,hoverView:r,pressedView:i,disabledView:s,text:o,padding:a,offset:l,textOffset:u,iconOffset:c,defaultTextScale:d,defaultIconScale:f,defaultTextAnchor:p,defaultIconAnchor:m,scale:v,anchor:y,anchorX:A,anchorY:C,icon:E,animations:I}=e??{};this.addChild(this.innerView),this.anchor=new lo({_onUpdate:()=>this.updateAnchor()}),this.anchor.set(A??y??0,C??y??0),this.padding=a??0,this.offset=l??{},this.textOffset=u??{},this.iconOffset=c??{},this.defaultTextScale=d??{x:1,y:1},this.defaultIconScale=f??{x:1,y:1},this.defaultTextAnchor=p??{x:.5,y:.5},this.defaultIconAnchor=m??{x:.5,y:.5},this.scale.set(v??1),I&&(this.animations=I,this.setOriginalInnerViewState(),zy.shared.add(()=>bp.shared.update())),this.setState("default"),this.defaultView=n,this.hoverView=r,this.pressedView=i,this.disabledView=s,this.text=o??"",E!==void 0&&(this.iconView=E),this.initStateControl()}set text(e){if(!e||e===0){this.removeView("textView");return}if(!this._views.textView){this.createTextView(e);return}this._views.textView.text=e.toString()}get text(){return this._views.textView?.text}set enabled(e){this.button.enabled=e,this.setState(e?"default":"disabled")}get enabled(){return this.button.enabled}setState(e,n=!1){if(!n&&this.state===e)return;const r=this.getStateView(this.state);r&&(r.visible=!1),this.state=e;const i=this.getStateView(e);i&&(this.setOffset(i,e,this.offset),i.visible=!0),this.updateAnchor(),this.playAnimations(e)}createTextView(e){if(this._views.textView=Pct(e),this.options?.defaultTextScale===void 0){const{x:n,y:r}=this._views.textView.scale;this._defaultTextScale={x:n,y:r}}this.innerView.addChild(this._views.textView),this.adjustTextView(this.state)}setOffset(e,n,r){const i=r?r[n]:{x:0,y:0},s=r?.default;i?(e.x+=i.x??0,e.y+=i.y??0):s?(e.x+=s.x??0,e.y+=s.y??0):(r.x||r.y)&&(e.x+=r.x??0,e.y+=r.y??0)}getStateView(e){if(this._views)switch(e){case"hover":return this._views.hoverView??this._views.defaultView??void 0;case"pressed":return this._views.pressedView??this._views.hoverView??this._views.defaultView??void 0;case"disabled":return this._views.disabledView??this._views.defaultView??void 0;case"default":return this._views.defaultView??void 0;default:return}}adjustTextView(e){if(!this.text||!this._views.textView)return;const n=this.getStateView(this.state),r=this._defaultTextAnchor.x??.5,i=this._defaultTextAnchor.y??.5;if(n){if(this.options?.ignoreRefitting||this._views.textView.scale.set(this._defaultTextScale.x,this._defaultTextScale.y),this.contentFittingMode==="default"&&sW(n,this._views.textView,this.padding,!1),this.contentFittingMode==="fill"){this._views.textView.scale.set(1);const s=n.width-this.padding*2,o=n.height-this.padding*2,a=s/this._views.textView.width,l=o/this._views.textView.height,u=Math.min(a,l);this._views.textView.scale.set(u*(this._defaultTextScale.x??1),u*(this._defaultTextScale.y??1))}this._views.textView.x=n.x+n.width/2,this._views.textView.y=n.y+n.height/2}this._views.textView.anchor.set(r,i),this.setOffset(this._views.textView,e,this.textOffset)}adjustIconView(e){if(!this._views.iconView)return;const n=this.getStateView(e);if(!n)return;if(this.options?.ignoreRefitting||this._views.iconView.scale.set(this._defaultIconScale.x,this._defaultIconScale.y),this.contentFittingMode==="default"&&sW(n,this._views.iconView,this.padding,!1),this.contentFittingMode==="fill"){this._views.iconView.scale.set(1);const s=n.width-this.padding*2,o=n.height-this.padding*2,a=s/this._views.iconView.width,l=o/this._views.iconView.height,u=Math.min(a,l);this._views.iconView.scale.set(u*(this._defaultIconScale.x??1),u*(this._defaultIconScale.y??1))}const r=this._defaultIconAnchor.x??.5,i=this._defaultIconAnchor.y??.5;"anchor"in this._views.iconView?this._views.iconView.anchor.set(r,i):this._views.iconView.pivot.set(r*(this._views.iconView.width/this._views.iconView.scale.x),i*(this._views.iconView.height/this._views.iconView.scale.y)),this._views.iconView.x=n.x+n.width/2,this._views.iconView.y=n.y+n.height/2,this.setOffset(this._views.iconView,e,this.iconOffset)}updateAnchor(){if(!this._views)return;const e=this.anchor.x??0,n=this.anchor.y??0;if([this._views.defaultView,this._views.hoverView,this._views.pressedView,this._views.disabledView].forEach(i=>{i&&(i.anchor?.set(0),i.x=-i.width*e,i.y=-i.height*n)}),this._views.defaultView){const{x:i,y:s,width:o,height:a}=this._views.defaultView;this.hitArea=new rs(i,s,o,a)}this.adjustIconView(this.state),this.adjustTextView(this.state)}set contentFittingMode(e){this.options.contentFittingMode=e}get contentFittingMode(){return this.options.contentFittingMode??"default"}set defaultView(e){this.updateView("defaultView",e),this._views.disabledView&&this.state!=="default"&&(this._views.disabledView.visible=!1)}get defaultView(){return this._views.defaultView}set hoverView(e){this.updateView("hoverView",e),this._views.hoverView&&this.state!=="hover"&&(this._views.hoverView.visible=!1)}get hoverView(){return this._views.hoverView}set pressedView(e){this.updateView("pressedView",e),this._views.pressedView&&this.state!=="pressed"&&(this._views.pressedView.visible=!1)}get pressedView(){return this._views.pressedView}set disabledView(e){this.updateView("disabledView",e),this._views.disabledView&&this.state!=="disabled"&&(this._views.disabledView.visible=!1)}get disabledView(){return this._views.disabledView}updateView(e,n){n!==void 0&&(this.removeView(e),this.options?.nineSliceSprite&&(typeof n=="string"?this._views[e]=new vx({texture:er.from(n),leftWidth:this.options.nineSliceSprite[0],topHeight:this.options.nineSliceSprite[1],rightWidth:this.options.nineSliceSprite[2],bottomHeight:this.options.nineSliceSprite[3]}):n instanceof er?this._views[e]=new vx({texture:n,leftWidth:this.options.nineSliceSprite[0],topHeight:this.options.nineSliceSprite[1],rightWidth:this.options.nineSliceSprite[2],bottomHeight:this.options.nineSliceSprite[3]}):console.warn("NineSliceSprite can not be used with views set as Container. Pass the texture or texture name as instead of the Container extended instance.")),this._views[e]||(this._views[e]=jp(n)),this.setOffset(this._views[e],this.state,this.offset),this._views[e].parent||this.innerView.addChild(this._views[e]),this.updateAnchor(),this._views.iconView&&this.innerView.addChild(this._views.iconView),this._views.textView&&this.innerView.addChild(this._views.textView),this.setState(this.state,!0))}removeView(e){this._views[e]&&(this.innerView.removeChild(this._views[e]),this._views[e]=void 0)}set textView(e){e!==void 0&&(this.removeView("textView"),e!==null&&this.createTextView(e))}get textView(){return this._views.textView}set iconView(e){if(e!==void 0&&(this.removeView("iconView"),e!==null)){if(this._views.iconView=jp(e),this.options?.defaultIconScale===void 0){const{x:n,y:r}=this._views.iconView.scale;this._defaultIconScale={x:n,y:r}}this._views.iconView.parent||this.innerView.addChild(this._views.iconView),this.setState(this.state,!0)}}get iconView(){return this._views.iconView}playAnimations(e){if(!this.animations)return;const n=this.animations[e]??this.animations.default;if(n){const r=n;this.defaultDuration=r.duration??this.defaultDuration,new Js(this.innerView).to(r.props,r.duration).start();return}new Js(this.innerView).to(this.originalInnerViewState,this.defaultDuration).start()}setOriginalInnerViewState(){this.originalInnerViewState={x:this.innerView.x,y:this.innerView.y,width:this.innerView.width,height:this.innerView.height,scale:{x:this.innerView.scale.x,y:this.innerView.scale.y}};const e=this.animations?.default;e&&(this.innerView.x=e.props.x??this.originalInnerViewState.x??0,this.innerView.y=e.props.y??this.originalInnerViewState.y??0,this.innerView.width=e.props.width??this.originalInnerViewState.width??0,this.innerView.height=e.props.height??this.originalInnerViewState.height??0,this.innerView.scale.x=e.props.scale?.x??this.originalInnerViewState.scale?.x??1,this.innerView.scale.y=e.props.scale?.y??this.originalInnerViewState.scale?.y??1)}initStateControl(){this.onDown.connect(()=>{this.setState("pressed")}),this.onUp.connect(()=>{this.setState(Dx.any?"default":"hover")}),this.onUpOut.connect(()=>{this.setState("default")}),this.onOut.connect(()=>{this.button.isDown||this.setState("default")}),this.onPress.connect(()=>{this.setState(Dx.any?"default":"hover")}),this.onHover.connect(()=>{this.button.isDown||this.setState(Dx.any?"default":"hover")})}set padding(e){this._padding=e,this.adjustTextView(this.state),this.adjustIconView(this.state)}get padding(){return this._padding}set offset(e){this._offset=e,this.updateAnchor()}get offset(){return this._offset}set textOffset(e){this._textOffset=e,this.adjustTextView(this.state)}get textOffset(){return this._textOffset}set defaultTextScale(e){if(e===void 0)return;this.options.defaultTextScale=e;const n=typeof e=="number";this._defaultTextScale.x=n?e:e.x??1,this._defaultTextScale.y=n?e:e.y??1,this.adjustTextView(this.state)}get defaultTextScale(){return this.defaultTextScale}set defaultIconScale(e){if(e===void 0)return;this.options.defaultIconScale=e;const n=typeof e=="number";this._defaultIconScale.x=n?e:e.x??1,this._defaultIconScale.y=n?e:e.y??1,this.adjustIconView(this.state)}get defaultIconScale(){return this.defaultIconScale}set defaultTextAnchor(e){if(e===void 0)return;this.options.defaultTextAnchor=e;const n=typeof e=="number";this._defaultTextAnchor.x=n?e:e.x??1,this._defaultTextAnchor.y=n?e:e.y??1,this.adjustTextView(this.state)}get defaultTextAnchor(){return this.defaultTextAnchor}set defaultIconAnchor(e){if(e===void 0)return;this.options.defaultIconAnchor=e;const n=typeof e=="number";this._defaultIconAnchor.x=n?e:e.x??1,this._defaultIconAnchor.y=n?e:e.y??1,this.adjustIconView(this.state)}get defaultIconAnchor(){return this.defaultIconAnchor}set width(e){this.options?.nineSliceSprite?(this._views.defaultView&&(this._views.defaultView.width=e),this._views.hoverView&&(this._views.hoverView.width=e),this._views.pressedView&&(this._views.pressedView.width=e),this._views.disabledView&&(this._views.disabledView.width=e),this.adjustTextView(this.state),this.adjustIconView(this.state),this.updateAnchor()):super.width=e}get width(){return super.width}set height(e){this.options?.nineSliceSprite?(this._views.defaultView&&(this._views.defaultView.height=e),this._views.hoverView&&(this._views.hoverView.height=e),this._views.pressedView&&(this._views.pressedView.height=e),this._views.disabledView&&(this._views.disabledView.height=e),this.adjustTextView(this.state),this.adjustIconView(this.state),this.updateAnchor()):super.height=e}get height(){return super.height}setSize(e,n){this.options?.nineSliceSprite?(this._views.defaultView&&this._views.defaultView.setSize(e,n),this._views.hoverView&&this._views.hoverView.setSize(e,n),this._views.pressedView&&this._views.pressedView.setSize(e,n),this._views.disabledView&&this._views.disabledView.setSize(e,n),this.adjustTextView(this.state),this.adjustIconView(this.state),this.updateAnchor()):super.setSize(e,n)}}var Lct=Object.defineProperty,Fct=(t,e,n)=>e in t?Lct(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,oB=(t,e,n)=>Fct(t,typeof e!="symbol"?e+"":e,n);class qpe extends xr{constructor(e){super(),oB(this,"options"),oB(this,"_type","bidirectional"),oB(this,"_maxWidth",0),oB(this,"children",[]),e&&(e.maxWidth&&(this._maxWidth=e.maxWidth),this.init(e)),e?.items?.forEach(n=>this.addChild(n)),this.on("added",()=>this.arrangeChildren()),this.on("childAdded",()=>this.arrangeChildren())}init(e){this.options=e,e?.type&&(this.type=e.type),e?.children&&e.children.forEach(n=>this.addChild(n))}set type(e){this._type=e,this.arrangeChildren()}get type(){return this._type}set elementsMargin(e){if(!this.options)throw new Error("List has not been initiated!");this.options.elementsMargin=e,this.arrangeChildren()}get elementsMargin(){return this.options?.elementsMargin??0}set padding(e){if(!this.options)throw new Error("List has not been initiated!");this.options.padding=e,this.options.vertPadding=e,this.options.horPadding=e,this.options.leftPadding=e,this.options.rightPadding=e,this.options.topPadding=e,this.options.bottomPadding=e,this.arrangeChildren()}get padding(){return this.options?.padding??0}set vertPadding(e){if(!this.options)throw new Error("List has not been initiated!");this.options.vertPadding=e,this.options.topPadding=e,this.options.bottomPadding=e,this.arrangeChildren()}get vertPadding(){return this.options?.vertPadding??this.padding??0}set horPadding(e){if(!this.options)throw new Error("List has not been initiated!");this.options.horPadding=e,this.options.leftPadding=e,this.options.rightPadding=e,this.arrangeChildren()}get horPadding(){return this.options?.horPadding??this.padding??0}set leftPadding(e){if(!this.options)throw new Error("List has not been initiated!");this.options.leftPadding=e,this.arrangeChildren()}get leftPadding(){return this.options?.leftPadding??this.horPadding}set rightPadding(e){if(!this.options)throw new Error("List has not been initiated!");this.options.rightPadding=e,this.arrangeChildren()}get rightPadding(){return this.options?.rightPadding??this.horPadding}set topPadding(e){if(!this.options)throw new Error("List has not been initiated!");this.options.topPadding=e,this.arrangeChildren()}get topPadding(){return this.options?.topPadding??this.vertPadding}set bottomPadding(e){if(!this.options)throw new Error("List has not been initiated!");this.options.bottomPadding=e,this.arrangeChildren()}get bottomPadding(){return this.options?.bottomPadding??this.vertPadding}arrangeChildren(){let e=0,n=this.leftPadding,r=this.topPadding;const i=this.options?.elementsMargin??0;let s=this.maxWidth||this.parent?.width;this.rightPadding&&(s-=this.rightPadding),this.children.forEach((o,a)=>{switch(this.type){case"vertical":o.y=r,o.x=n,r+=i+o.height;break;case"horizontal":o.x=n,o.y=r,n+=i+o.width;break;default:o.x=n,o.y=r,o.x+o.width>s&&a>0&&(r+=i+e,n=this.leftPadding,o.x=n,o.y=r,e=0),e=Math.max(e,o.height),n+=i+o.width;break}})}removeItem(e){const n=this.children[e];n&&(this.removeChild(n),this.arrangeChildren())}set maxWidth(e){this._maxWidth=e,this.arrangeChildren()}get maxWidth(){return this._maxWidth}}var $ct=Object.defineProperty,zct=(t,e,n)=>e in t?$ct(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Ow=(t,e,n)=>zct(t,typeof e!="symbol"?e+"":e,n);class Oct{constructor(e={}){Ow(this,"x"),Ow(this,"ax"),Ow(this,"dx"),Ow(this,"tx"),Ow(this,"_options"),this.x=0,this.ax=0,this.dx=0,this.tx=0,this._options={max:e.max??160,damp:e.damp??.8,springiness:e.springiness??.1}}update(){this.ax=(this.tx-this.x)*this._options.springiness,this.dx+=this.ax,this.dx*=this._options.damp,this.dx<-this._options.max?this.dx=-this._options.max:this.dx>this._options.max&&(this.dx=this._options.max),this.x+=this.dx}reset(){this.x=0,this.ax=0,this.dx=0,this.tx=0}get max(){return this._options.max}set max(e){this._options.max=e}get damp(){return this._options.damp}set damp(e){this._options.damp=e}get springiness(){return this._options.springiness}set springiness(e){this._options.springiness=e}}var jct=Object.defineProperty,Qct=(t,e,n)=>e in t?jct(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,R1=(t,e,n)=>Qct(t,typeof e!="symbol"?e+"":e,n);class Uct{constructor(){R1(this,"done",!1),R1(this,"to",0),R1(this,"_spring"),R1(this,"_pos",0),R1(this,"_speed",0),R1(this,"_correctSpeed",!1),this._spring=new Oct,this._pos=0,this.to=0}start(e,n,r){this._speed=e,this._pos=n,this.to=r,this.done=!1,this._spring.x=this._pos,this._spring.tx=this.to;const i=this.to-this._pos,s=Math.abs(i)/i,o=Math.abs(this._speed)/this._speed;s!==o?this._correctSpeed=!0:this._correctSpeed=!1}update(){if(this._correctSpeed)this._speed*=.6,Math.abs(this._speed)<2&&(this._correctSpeed=!1),this._pos+=this._speed,this._spring.x=this._pos;else{const e=this.to-this._pos;Math.abs(e)<.05?(this._pos=this.to,this.done=!0):(this._spring.tx=this.to,this._spring.update(),this._pos=this._spring.x)}return this._pos}cancel(){}}var Hct=Object.defineProperty,Vct=(t,e,n)=>e in t?Hct(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,sd=(t,e,n)=>Vct(t,typeof e!="symbol"?e+"":e,n);class oW{constructor(e={}){sd(this,"position",0),sd(this,"constrain",!0),sd(this,"min",0),sd(this,"max",0),sd(this,"maxSpeed",400),sd(this,"_ease"),sd(this,"_offset",0),sd(this,"_prev",0),sd(this,"_speed",0),sd(this,"_hasStopped",!1),sd(this,"_targetSpeed",0),sd(this,"_speedChecker",0),sd(this,"_grab",0),sd(this,"_activeEase"),this.constrain=e.constrain??!0,this.maxSpeed=e.maxSpeed??400,this._ease=e.ease??new Uct}set value(e){this._speed=0,this.position=e}get value(){return this.position}grab(e){this._grab=e,this._offset=this.position-e,this._speedChecker=0,this._targetSpeed=this._speed=0,this._hasStopped=!1}hold(e){this._speedChecker++,this.position=e+this._offset,this._speedChecker>1&&(this._targetSpeed=this.position-this._prev),this._speed+=(this._targetSpeed-this._speed)/2,this._speed>this.maxSpeed?this._speed=this.maxSpeed:this._speed<-this.maxSpeed&&(this._speed=-this.maxSpeed),this._prev=this.position,this.constrain&&(this._activeEase=void 0,this.position>this.min?this.position-=(this.position-this.min)/1.5:this.position<this.max&&(this.position+=(this.max-this.position)/1.5))}slide(e=!1){this._hasStopped||(this.constrain?this._updateConstrain(e):this._updateDefault())}get moveAmount(){return-(this.position-this._offset-this._grab)}_updateDefault(){this._speed*=.9,this.position+=this._speed,(this._speed<0?this._speed*-1:this._speed)<.01&&(this._hasStopped=!0)}_updateConstrain(e=!1){const n=this.max;e?(this.value>0&&(this.value=0),this.value>0&&(this.value=0),this.value<this.max&&(this.value=this.max),this.value<this.max&&(this.value=this.max)):this.position>this.min||this.position<n||this._activeEase?(this._activeEase||(this._activeEase=this._ease,this.position>this.min?this._activeEase.start(this._speed,this.position,this.min):this._activeEase.start(this._speed,this.position,n)),this.position=this._activeEase.update(),this._activeEase.done&&(this.position=this._activeEase.to,this._speed=0,this._activeEase=void 0)):this._updateDefault()}}var Gct=Object.defineProperty,Kct=(t,e,n)=>e in t?Gct(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,xy=(t,e,n)=>Kct(t,typeof e!="symbol"?e+"":e,n);class Wct{constructor(e){xy(this,"xAxis"),xy(this,"yAxis"),xy(this,"_isDown",!1),xy(this,"_globalPosition"),xy(this,"_frame"),xy(this,"_bounds"),xy(this,"_dirty",!1),xy(this,"disableEasing",!1),this.xAxis=new oW({ease:e.xEase,maxSpeed:e.maxSpeed,constrain:e.constrain}),this.yAxis=new oW({ease:e.yEase,maxSpeed:e.maxSpeed,constrain:e.constrain}),this.disableEasing=e.disableEasing??!1,this._frame=new rs,this._bounds=new rs,this._globalPosition=new oa}pointerDown(e){this._globalPosition=e,this.xAxis.grab(e.x),this.yAxis.grab(e.y),this._isDown=!0}pointerUp(){this._isDown=!1}pointerMove(e){this._globalPosition=e}update(){this._dirty&&this._bounds&&this._frame&&(this._dirty=!1,this.xAxis.min=this._bounds.left,this.xAxis.min=this._bounds.right-this._frame.width,this.xAxis.min=this._bounds.top,this.xAxis.min=this._bounds.bottom-this._frame.height),this._isDown&&this._globalPosition?(this.xAxis.hold(this._globalPosition.x),this.yAxis.hold(this._globalPosition.y)):(this.xAxis.slide(this.disableEasing),this.yAxis.slide(this.disableEasing))}resize(e,n){this._frame&&(this._frame.x=0,this._frame.width=e,this._frame.y=0,this._frame.height=n,this._dirty=!0)}setBounds(e,n,r,i){this._bounds&&(this._bounds.x=e,this._bounds.width=n-e,this._bounds.y=r,this._bounds.height=i-r,this._dirty=!0)}get x(){return this.xAxis.value}get y(){return this.yAxis.value}}var qct=Object.defineProperty,Yct=(t,e,n)=>e in t?qct(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Fs=(t,e,n)=>Yct(t,typeof e!="symbol"?e+"":e,n);class Ype extends xr{constructor(e){super(),Fs(this,"background"),Fs(this,"borderMask"),Fs(this,"lastWidth",0),Fs(this,"lastHeight",0),Fs(this,"_width",0),Fs(this,"_height",0),Fs(this,"_dimensionChanged",!1),Fs(this,"list"),Fs(this,"_trackpad"),Fs(this,"isDragging",0),Fs(this,"interactiveStorage",[]),Fs(this,"visibleItems",[]),Fs(this,"pressedChild"),Fs(this,"ticker",zy.shared),Fs(this,"options",{}),Fs(this,"stopRenderHiddenItemsTimeout"),Fs(this,"onMouseScrollBinding",this.onMouseScroll.bind(this)),Fs(this,"dragStarTouchPoint"),Fs(this,"isOver",!1),Fs(this,"proximityRange",0),Fs(this,"proximityStatusCache",[]),Fs(this,"lastScrollX"),Fs(this,"lastScrollY"),Fs(this,"proximityCheckFrameCounter",0),Fs(this,"onProximityChange",new lf.Signal),Fs(this,"onScroll",new lf.Signal),e&&this.init(e),this.ticker.add(this.update,this)}init(e){this.options=e,this.setBackground(e.background),this._width=e.width??this.background?.width??100,this._height=e.height??this.background?.height??100,this.proximityRange=e.proximityRange??0,this.list||(this.list=new qpe,super.addChild(this.list)),this.list?.init({type:e.type,elementsMargin:e.elementsMargin,padding:e.padding,vertPadding:e.vertPadding,horPadding:e.horPadding,topPadding:e.topPadding,bottomPadding:e.bottomPadding,leftPadding:e.leftPadding,rightPadding:e.rightPadding,maxWidth:e.maxWidth||(e.type!=="horizontal"&&e.type!=="vertical"?this._width:0)}),e.items&&this.addItems(e.items),this.hasBounds&&(this.addMask(),this.makeScrollable()),this._trackpad&&(this._trackpad.xAxis.value=0,this._trackpad.yAxis.value=0),this.options.globalScroll=e.globalScroll??!0,this.options.shiftScroll=e.shiftScroll??!1,this.resize()}get hasBounds(){return!!this._width||!!this._height}addItems(e){e?.length&&e.forEach(n=>this.addItem(n))}removeItems(){this.proximityStatusCache.length=0,this.list?.removeChildren()}addItem(...e){if(e.length>1)e.forEach(n=>this.addItem(n));else{const n=e[0];(!n.width||!n.height)&&console.error("ScrollBox item should have size"),n.eventMode="static",this.list?.addChild(n),this.proximityStatusCache.push(!1),this.options.disableDynamicRendering||(n.renderable=this.isItemVisible(n))}return this.resize(),e[0]}removeItem(e){this.list?.removeItem(e),this.proximityStatusCache.splice(e,1),this.resize()}isItemVisible(e,n=0){let r=!1;const i=this.list;if(!i)return!1;if(this.isVertical||this.isBidirectional){const s=e.y+i.y;s+e.height>=-n&&s<=(this.options.height??this._height)+n&&(r=!0)}if(this.isHorizontal||this.isBidirectional){const s=e.x+i.x;s+e.width>=-n&&s<=(this.options.width??this._width)+n&&(r=!0)}return r}get items(){return this.list?.children??[]}setBackground(e){this.background&&this.removeChild(this.background),this.options.background=e,this.background=new Qi,this.addChildAt(this.background,0),this.resize()}addMask(){this.borderMask||(this.borderMask=new Qi,super.addChild(this.borderMask),this.mask=this.borderMask),this.resize()}makeScrollable(){this._trackpad||(this._trackpad=new Wct({disableEasing:this.options.disableEasing})),this.on("pointerdown",e=>{this.renderAllItems(),this.isDragging=1,this.dragStarTouchPoint=this.worldTransform.applyInverse(e.global),this._trackpad&&this.dragStarTouchPoint&&this._trackpad.pointerDown(new oa(this.dragStarTouchPoint.x,this.dragStarTouchPoint.y));const n=this.list?.worldTransform.applyInverse(e.global);n&&this.visibleItems.forEach(r=>{r.x<n.x&&r.x+r.width>n.x&&r.y<n.y&&r.y+r.height>n.y&&(this.pressedChild=r)})}),this.on("pointerup",()=>{this.isDragging=0,this._trackpad?.pointerUp(),this.restoreItemsInteractivity(),this.pressedChild=void 0,this.stopRenderHiddenItems()}),this.on("pointerover",()=>{this.isOver=!0}),this.on("pointerout",()=>{this.isOver=!1}),this.on("pointerupoutside",()=>{this.isDragging=0,this._trackpad?.pointerUp(),this.restoreItemsInteractivity(),this.pressedChild=void 0,this.stopRenderHiddenItems()}),this.on("globalpointermove",e=>{if(!this.isDragging)return;const n=this.worldTransform.applyInverse(e.global);if(this.dragStarTouchPoint){const r=this.options.dragTrashHold??10;if(this.isHorizontal||this.isBidirectional){const i=n.x-this.dragStarTouchPoint.x;Math.abs(i)>r&&(this.isDragging=2)}if(this.isVertical||this.isBidirectional){const i=n.y-this.dragStarTouchPoint.y;Math.abs(i)>r&&(this.isDragging=2)}}this.dragStarTouchPoint&&this.isDragging!==2||(this._trackpad?.pointerMove(new oa(n.x,n.y)),this.pressedChild&&(this.revertClick(this.pressedChild),this.pressedChild=void 0),this.isBidirectional?this.onScroll?.emit({x:this.scrollX,y:this.scrollY}):this.onScroll?.emit(this.isVertical?this.scrollY:this.scrollX))}),document.addEventListener("wheel",this.onMouseScrollBinding,!0)}setInteractive(e){this.eventMode=e?"static":"auto"}get listHeight(){return(this.list?.height??0)+(this.list?.topPadding??0)+(this.list?.bottomPadding??0)}get listWidth(){return(this.list?.width??0)+(this.list?.leftPadding??0)+(this.list?.rightPadding??0)}resize(e=!1){if(this.hasBounds){if(this.renderAllItems(),this.borderMask&&(e||this._dimensionChanged||this.lastWidth!==this.listWidth||this.lastHeight!==this.listHeight)){this.options.width||(this._width+=this.listWidth),this.options.height||(this._height+=this.listHeight),this.borderMask?.clear().roundRect(0,0,this._width,this._height,(this.options.radius??0)|0).fill(16711935).stroke(0),this.borderMask&&(this.borderMask.eventMode="none");const n=this.options.background;this.background?.clear().roundRect(0,0,this._width,this._height,(this.options.radius??0)|0).fill({color:n??0,alpha:n?1:1e-7}),this.isBidirectional?this.setInteractive(this.listWidth>this._width||this.listHeight>this._height):this.isHorizontal?this.setInteractive(this.listWidth>this._width):this.setInteractive(this.listHeight>this._height),this.lastWidth=this.listWidth,this.lastHeight=this.listHeight}if(this._trackpad&&this.borderMask){const n=this.borderMask.width-(this.list?.width??0)-(this.list?.leftPadding??0)-(this.list?.rightPadding??0),r=this.borderMask.height-(this.list?.height??0)-(this.list?.topPadding??0)-(this.list?.bottomPadding??0);this.isBidirectional?(this._trackpad.yAxis.max=-Math.abs(r),this._trackpad.xAxis.max=-Math.abs(n)):this.isVertical?this._trackpad.yAxis.max=-Math.abs(r):this.isHorizontal&&(this._trackpad.xAxis.max=-Math.abs(n))}this._dimensionChanged?(this.list?.arrangeChildren(),this.stopRenderHiddenItems(),this._dimensionChanged=!1):(e&&this.list?.arrangeChildren(),this.updateVisibleItems()),this.lastScrollX=void 0,this.lastScrollY=void 0}}onMouseScroll(e){if(!this.isOver&&!this.options.globalScroll)return;this.renderAllItems();const n=!!this.options.shiftScroll,r=n?typeof e.deltaX<"u"||typeof e.deltaY<"u":typeof e.deltaX<"u",i=typeof e.deltaY<"u";if((this.isHorizontal||this.isBidirectional)&&r){const s=n||this.isBidirectional?e.deltaX:e.deltaY,o=(this.list?.x??0)-s;if(this.listWidth<this._width)this._trackpad&&(this._trackpad.xAxis.value=0);else{const a=this._width-this.listWidth,l=0;this._trackpad&&(this._trackpad.xAxis.value=Math.min(l,Math.max(a,o)))}}if((this.isVertical||this.isBidirectional)&&i){const s=(this.list?.y??0)-e.deltaY;if(this.listHeight<this._height)this._trackpad&&(this._trackpad.yAxis.value=0);else{const o=this._height-this.listHeight,a=0;this._trackpad&&(this._trackpad.yAxis.value=Math.min(a,Math.max(o,s)))}}this.isBidirectional&&(r||i)?this.onScroll?.emit({x:this._trackpad?.xAxis.value??0,y:this._trackpad?.yAxis.value??0}):this.isHorizontal&&r?this.onScroll?.emit(this._trackpad?.xAxis.value??0):this.isVertical&&i&&this.onScroll?.emit(this._trackpad?.yAxis.value??0),this.stopRenderHiddenItems()}scrollBottom(){this.interactive?this.scrollTo((this.list?.children.length??1)-1):this.scrollTop()}scrollTop(){this.renderAllItems(),this._trackpad&&(this._trackpad.xAxis.value=0,this._trackpad.yAxis.value=0),this.stopRenderHiddenItems()}renderAllItems(){clearTimeout(this.stopRenderHiddenItemsTimeout),this.stopRenderHiddenItemsTimeout=void 0,!this.options.disableDynamicRendering&&this.items.forEach(e=>{e.renderable=!0})}stopRenderHiddenItems(){this.options.disableDynamicRendering||(this.stopRenderHiddenItemsTimeout&&(clearTimeout(this.stopRenderHiddenItemsTimeout),this.stopRenderHiddenItemsTimeout=void 0),this.stopRenderHiddenItemsTimeout=setTimeout(()=>this.updateVisibleItems(),2e3))}updateVisibleItems(){this.visibleItems.length=0,this.items.forEach(e=>{e.renderable=this.isItemVisible(e),this.visibleItems.push(e)})}scrollTo(e){if(!this.interactive||!this._trackpad||!this.list)return;const n=this.list.children[e];n&&(this.renderAllItems(),this._trackpad.xAxis.value=this.isHorizontal||this.isBidirectional?this._width-n.x-n.width-this.list.rightPadding:0,this._trackpad.yAxis.value=this.isVertical||this.isBidirectional?this._height-n.y-n.height-this.list.bottomPadding:0,this.stopRenderHiddenItems())}scrollToPosition({x:e,y:n}){e===void 0&&n===void 0||(this.renderAllItems(),e!==void 0&&(this.scrollX=-e),n!==void 0&&(this.scrollY=-n),this.stopRenderHiddenItems())}get height(){return this._height}set height(e){this._height=e,this._dimensionChanged=!0,this.resize(),this.scrollTop()}get width(){return this._width}set width(e){this._width=e,this._dimensionChanged=!0,this.resize(),this.scrollTop()}setSize(e,n){typeof e=="object"?(n=e.height??e.width,e=e.width):n=n??e,this._width=e,this._height=n,this._dimensionChanged=!0,this.resize(),this.scrollTop()}getSize(e){return e=e||{width:0,height:0},e.width=this._width,e.height=this._height,e}get scrollX(){return this._trackpad?.xAxis.value??0}set scrollX(e){this._trackpad&&(this._trackpad.xAxis.value=e)}get scrollY(){return this._trackpad?.yAxis.value??0}set scrollY(e){this._trackpad&&(this._trackpad.yAxis.value=e)}update(){!this.list||!this._trackpad||(this._trackpad.update(),(this.isHorizontal||this.isBidirectional)&&this.list.x!==this._trackpad.x&&(this.list.x=this._trackpad.x),(this.isVertical||this.isBidirectional)&&this.list.y!==this._trackpad.y&&(this.list.y=this._trackpad.y),!this.options.disableProximityCheck&&(this._trackpad.x!==this.lastScrollX||this._trackpad.y!==this.lastScrollY)&&(this.proximityCheckFrameCounter++,this.proximityCheckFrameCounter>=(this.options.proximityDebounce??10)&&(this.items.forEach((e,n)=>{const r=this.isItemVisible(e,this.proximityRange),i=this.proximityStatusCache[n];r!==i&&(this.proximityStatusCache[n]=r,this.onProximityChange.emit({item:e,index:n,inRange:r}))}),this.lastScrollX=this._trackpad.x,this.lastScrollY=this._trackpad.y,this.proximityCheckFrameCounter=0)))}destroy(e){this.ticker.remove(this.update,this),document.removeEventListener("wheel",this.onMouseScrollBinding,!0),this.background?.destroy(),this.list?.destroy(),super.destroy(e)}restoreItemsInteractivity(){this.interactiveStorage.forEach(e=>{e.item.eventMode=e.eventMode}),this.interactiveStorage.length=0}revertClick(e){e.eventMode!=="auto"&&(Dx.any?e.emit("pointerupoutside",{target:e}):e.emit("mouseupoutside",{target:e}),this.interactiveStorage.push({item:e,eventMode:e.eventMode??"auto"}),e.eventMode="auto"),e instanceof xr&&e.children&&e.children.forEach(n=>this.revertClick(n))}get scrollHeight(){return this.list?.height??0}get scrollWidth(){return this.list?.width??0}get isVertical(){return(this.options.type??"vertical")==="vertical"}get isHorizontal(){return this.options.type==="horizontal"}get isBidirectional(){return this.options.type==="bidirectional"}}var Xct=Object.defineProperty,Jct=(t,e,n)=>e in t?Xct(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Ob=(t,e,n)=>Jct(t,typeof e!="symbol"?e+"":e,n);class Xpe extends xr{constructor(e){super(),Ob(this,"bg"),Ob(this,"fill"),Ob(this,"fillMask"),Ob(this,"progressStart",0),Ob(this,"_progress",0),Ob(this,"options"),Ob(this,"innerView");const n={bg:er.WHITE,fill:er.WHITE,fillPaddings:{top:0,right:0,bottom:0,left:0},progress:0};this.options={...n,...e},this.innerView=new xr,this.addChild(this.innerView),this.init(this.options)}init({bg:e,fill:n,fillPaddings:r,progress:i}){this.setBackground(e),this.setFill(n,r),this.progress=i??0}setBackground(e){this.bg&&this.bg.destroy(),this.options?.nineSliceSprite&&(typeof e=="string"?this.bg=new vx({texture:er.from(e),leftWidth:this.options.nineSliceSprite.bg[0],topHeight:this.options.nineSliceSprite.bg[1],rightWidth:this.options.nineSliceSprite.bg[2],bottomHeight:this.options.nineSliceSprite.bg[3]}):e instanceof er?this.bg=new vx({texture:e,leftWidth:this.options.nineSliceSprite.bg[0],topHeight:this.options.nineSliceSprite.bg[1],rightWidth:this.options.nineSliceSprite.bg[2],bottomHeight:this.options.nineSliceSprite.bg[3]}):console.warn(`NineSliceSprite can not be used with views set as Container.
                    Pass the texture or texture name as instead of the Container extended instance.`)),this.bg||(this.bg=jp(e)),this.innerView.addChildAt(this.bg,0)}setFill(e,n){if(this.fill&&this.fill.destroy(),this.bg instanceof Sf&&e===this.bg){console.warn("Can not use same Sprite instance for bg and fill.");return}this.options?.nineSliceSprite?typeof e=="string"||e instanceof er?this.fill=new vx({texture:typeof e=="string"?er.from(e):e,leftWidth:this.options.nineSliceSprite.fill[0],topHeight:this.options.nineSliceSprite.fill[1],rightWidth:this.options.nineSliceSprite.fill[2],bottomHeight:this.options.nineSliceSprite.fill[3]}):(console.warn(`NineSliceSprite can not be used with views set as Container.
                    Pass the texture or texture name as instead of the Container extended instance.`),this.fill=jp(e)):this.fill=jp(e),this.innerView.addChildAt(this.fill,1);const r=n?.left??0,i=n?.top??0;this.fill.x=r,this.fill.y=i,this.fillMask&&(this.fill.mask=null,this.fillMask.destroy());const s=this.fill.width/2,o=this.fill.width/2,a=this.fill.height/2,l=this.fill.height/2;let u=er.WHITE;this.fill instanceof Sf&&this.fill.texture&&(u=this.fill.texture),this.fillMask=new vx({texture:u,leftWidth:s,topHeight:a,rightWidth:o,bottomHeight:l}),this.fillMask.position.copyFrom(this.fill),this.addChild(this.fillMask),this.fill.mask=this.fillMask}validate(e){return e=Math.round(e),e<0?0:e>100?100:e}set progress(e){this._progress=this.validate(e),this.fill&&this.fillMask&&(this.fill.mask=null,this.fillMask.width=this.fill.width/100*(this._progress-this.progressStart),this.fillMask.x=this.progressStart/100*this.fill.width+this.fill.x,this.fillMask.height=this.fill.height,this.fill.mask=this.fillMask)}get progress(){return this._progress}set width(e){if(this.options?.nineSliceSprite){if(this.bg&&(this.bg.width=e),this.fill){const n=this.options.fillPaddings?.left??0,r=this.options.fillPaddings?.right??0;this.fill.width=e-n-r,this.fillMask.width=e-n-r}this.progress=this._progress}else super.width=e}get width(){return super.width}set height(e){if(this.options?.nineSliceSprite){if(this.bg&&(this.bg.height=e),this.fill){const n=this.options.fillPaddings?.top??0,r=this.options.fillPaddings?.bottom??0;this.fill.height=e-n-r,this.fillMask.height=e-n-r}this.progress=this._progress}else super.height=e}get height(){return super.height}setSize(e,n){if(this.options?.nineSliceSprite){if(this.bg&&this.bg.setSize(e,n),this.fill){typeof e=="object"?(n=e.height??e.width,e=e.width):n=n??e;const r=this.options.fillPaddings?.top??0,i=this.options.fillPaddings?.bottom??0,s=this.options.fillPaddings?.left??0,o=this.options.fillPaddings?.right??0;this.fill.setSize(e-s-o,n-r-i),this.fillMask.setSize(e-s-o,n-r-i)}this.progress=this._progress}else super.setSize(e,n)}}var Zct=Object.defineProperty,edt=(t,e,n)=>e in t?Zct(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,od=(t,e,n)=>edt(t,typeof e!="symbol"?e+"":e,n);class tdt extends Xpe{constructor(e){super(e),od(this,"_slider1"),od(this,"_slider2"),od(this,"value1Text"),od(this,"value2Text"),od(this,"_value1",0),od(this,"_value2",0),od(this,"dragging",0),od(this,"_min",0),od(this,"_max",100),od(this,"_step",1),od(this,"startX"),od(this,"startUpdateValue1"),od(this,"startUpdateValue2"),od(this,"settings"),this.settings=e,e.slider1&&(this.slider1=e.slider1),e.slider2&&(this.slider2=e.slider2),this.min=e.min??0,this.max=e.max??100}init(e){super.init(e),this.fill&&(this.fill.eventMode="none")}set slider1(e){if(e&&(this._slider1&&(this._slider1.removeAllListeners(),this._slider1.destroy()),this._slider1=this.createSlider(e),this.settings.showValue&&!this.value1Text)){const n=this.settings.valueTextClass??Cd;this.value1Text=new n({text:"",style:this.settings.valueTextStyle||{fill:16777215}}),this.value1Text.anchor.set(.5),this.addChild(this.value1Text)}}get slider1(){return this._slider1}set slider2(e){if(e&&(this._slider2&&(this._slider2.removeAllListeners(),this._slider2.destroy()),this._slider2=this.createSlider(e),this.settings.showValue&&!this.value2Text)){const n=this.settings.valueTextClass??Cd;this.value2Text=new n({text:"",style:this.settings.valueTextStyle||{fill:16777215}}),this.value2Text.anchor.set(.5),this.addChild(this.value2Text)}}get slider2(){return this._slider2}setBackground(e){this.bg&&this.bg.removeAllListeners(),super.setBackground(e),this.activateBG()}activateBG(){this.bg.eventMode="static",this.bg.on("pointerdown",this.startUpdate,this).on("globalpointermove",this.update,this).on("pointerup",this.endUpdate,this).on("pointerupoutside",this.endUpdate,this)}createSlider(e){const n=jp(e),r=s=>{this.bg&&(s.currentTarget=this.bg),this.startUpdate(s)};n.eventMode="static",n.on("pointerdown",r).on("pointerup",this.endUpdate,this).on("pointerupoutside",this.endUpdate,this),n.x=n.width/2;const i=new xr;return i.addChild(n),n instanceof Sf&&n.anchor.set(.5),i.y=this.bg?.height?this.bg?.height/2:0,this.addChild(i),i}startUpdate(e){this.dragging=1;const n=e.currentTarget;this.startX=n.parent.worldTransform.applyInverse(e.global).x,this.startUpdateValue1=this._value1,this.startUpdateValue2=this._value2,this.update(e)}endUpdate(){this.dragging&&(this.dragging=0,(this.startX||this.startUpdateValue1!==this._value1||this.startUpdateValue2!==this._value2)&&this.change(),this.startUpdateValue1=0,this.startUpdateValue2=0)}onClick(){this.change()}update(e){const n=e.currentTarget,{x:r}=n.parent.worldTransform.applyInverse(e.global);r!==this.startX&&(this.startX=0)}change(){}set max(e){this._max=e}get max(){return this._max}set min(e){this._min=e}get min(){return this._min}set step(e){this._step=e}get step(){return this._step}}var ndt=Object.defineProperty,rdt=(t,e,n)=>e in t?ndt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,N1=(t,e,n)=>rdt(t,typeof e!="symbol"?e+"":e,n);class idt extends xr{constructor(e){super(),N1(this,"target"),N1(this,"border",new Qi),N1(this,"_targetMask"),N1(this,"maskData"),N1(this,"borderWidth",0),N1(this,"borderColor",0),e?.target&&this.init(e)}init({target:e,mask:n,borderWidth:r,borderColor:i}){this.target&&this.removeChild(this.target),e&&(this.target=jp(e)),this.addChild(this.border),this.target&&this.addChild(this.target),n&&this.applyMask(n),r&&this.setBorder(r,i??0)}applyMask(e){this.maskData=e,this._targetMask=jp(e),this.addChild(this._targetMask),this.target&&(this.target.mask=this._targetMask)}setBorder(e,n){if(this.borderWidth=e,this.borderColor=n,this.showBorder(),this.maskData&&this._targetMask){const r=typeof this.maskData=="string"?Sf.from(this.maskData):this.maskData.clone(!0);r.width+=e*2,r.height+=e*2,this.mask=r,this.addChild(r),this._targetMask.position.set(e)}}showBorder(){if(!this.target)return;const e=this.borderWidth*2;this.border.clear().rect(0,0,this.target.width+e,this.target.height+e).fill(this.borderColor),this.target.x=this.borderWidth,this.target.y=this.borderWidth}hideBorder(){this.border.clear()}}var sdt=Object.defineProperty,odt=(t,e,n)=>e in t?sdt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,jb=(t,e,n)=>odt(t,typeof e!="symbol"?e+"":e,n);const adt=5;class ldt extends xr{constructor(e){super(),jb(this,"view",new xr),jb(this,"openButton"),jb(this,"closeButton"),jb(this,"openView"),jb(this,"scrollBox"),jb(this,"value",-1),jb(this,"onSelect"),this.addChild(this.view),this.onSelect=new lf.Signal,e&&this.init(e)}init({closedBG:e,textStyle:n,TextClass:r,items:i,openBG:s,selected:o,selectedTextOffset:a,scrollBox:l,visibleItems:u}){r=r??Cd,this.openView&&this.openView!==s&&this.view.removeChild(this.openView),this.openButton?(this.openButton.defaultView=jp(e),this.openButton.textView=new r({text:i?.items?i.items[0]:"",style:n}),this.openButton.textOffset=a??{}):(this.openButton=new kx({defaultView:e,text:new r({text:i?.items?i.items[0]:"",style:n}),textOffset:a}),this.openButton.onPress.connect(()=>this.toggle()),this.addChild(this.openButton)),this.openView!==s&&(this.openView=jp(s),this.view.visible=!1,this.view.addChild(this.openView)),this.closeButton?(this.closeButton.defaultView=new Qi().rect(0,0,this.openButton.width,this.openButton.height).fill({color:0,alpha:1e-5}),this.closeButton.textView=new r({text:i?.items?i.items[0]:"",style:n}),this.openButton.textOffset=a??{}):(this.closeButton=new kx({defaultView:new Qi().rect(0,0,this.openButton.width,this.openButton.height).fill({color:0,alpha:1e-5}),text:new r({text:i?.items?i.items[0]:"",style:n}),textOffset:a}),this.closeButton.onPress.connect(()=>this.toggle()),this.view.addChild(this.closeButton)),this.scrollBox?this.scrollBox.removeItems():(this.scrollBox=new Ype,this.view.addChild(this.scrollBox)),this.scrollBox.init({type:"vertical",elementsMargin:0,width:this.openButton.width,height:this.openButton.height*(u??adt),radius:0,padding:0,...l}),this.scrollBox.y=this.openButton.height,l?.offset&&(this.scrollBox.x=l.offset.x??0,this.scrollBox.y+=l.offset.y??0),this.addItems(i,o)}addItems(e,n=0){this.convertItemsToButtons(e).forEach((r,i)=>{const s=r.text;i===n&&(this.openButton.text=s??"",this.closeButton.text=s??""),r.onPress.connect(()=>{this.value=i,this.onSelect.emit(i,s??""),this.openButton.text=s??"",this.closeButton.text=s??"",this.close()}),this.scrollBox?.addItem(r)})}removeItem(e){this.scrollBox&&this.scrollBox.removeItem(e)}toggle(){this.view.visible=!this.view.visible,this.openButton.visible=!this.openButton.visible}open(){this.view.visible=!0,this.openButton.visible=!1}close(){this.view.visible=!1,this.openButton.visible=!0}convertItemsToButtons({items:e,backgroundColor:n,hoverColor:r,width:i,height:s,textStyle:o,TextClass:a,radius:l}){a=a??Cd;const u=[];return e.forEach(c=>{const d=new Qi().roundRect(0,0,i,s,l).fill(n),f=r??n,p=new Qi().roundRect(0,0,i,s,l).fill(f),m=new a({text:c,style:o}),v=new kx({defaultView:d,hoverView:p,text:m});u.push(v)}),u}}var udt=Object.defineProperty,cdt=(t,e,n)=>e in t?udt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,mN=(t,e,n)=>cdt(t,typeof e!="symbol"?e+"":e,n);class ddt extends tdt{constructor(e){super({slider1:e.slider,value1:e.value,...e}),mN(this,"sliderOptions"),mN(this,"onUpdate",new lf.Signal),mN(this,"onChange",new lf.Signal),this.sliderOptions=e,this.step=e.step||1,this.value=e.value??this.min,this.updateSlider()}get value(){return this._value1}set value(e){e!==this._value1&&(e<this.min&&(e=this.min),e>this.max&&(e=this.max),this._value1=e,this.updateSlider(),this.onUpdate?.emit(this.value))}set max(e){super.max=e,this.updateSlider()}get max(){return super.max}set min(e){super.min=e,this.updateSlider()}get min(){return super.min}set step(e){super.step=e,this.updateSlider()}get step(){return super.step}set slider(e){this.slider1=e,this.updateSlider()}update(e){if(super.update(e),!this.dragging)return;const n=e.currentTarget,{x:r}=n.parent.worldTransform.applyInverse(e.global),i=r/(this.bg?.width||1),s=this.min+i*(this.max-this.min);this.value=Math.round(s/this.step)*this.step}change(){this.onChange?.emit(this.value)}updateSlider(){if(this._slider1&&(this.progress=((this.value??this.min)-this.min)/(this.max-this.min)*100,this._slider1.x=(this.bg?.width??0)/100*this.progress-this._slider1.width/2,this._slider1.y=(this.bg?.height??0)/2,this.sliderOptions?.showValue&&this.value1Text)){this.value1Text.text=`${Math.round(this.value)}`;const e=this._slider1.x+this._slider1.width/2,n=this._slider1.y;this.value1Text.x=e+(this.sliderOptions.valueTextOffset?.x??0),this.value1Text.y=n+(this.sliderOptions.valueTextOffset?.y??0)}}set width(e){super.width=e,this.updateSlider()}get width(){return super.width}set height(e){super.height=e,this.updateSlider()}get height(){return super.height}setSize(e,n){super.setSize(e,n),this.updateSlider()}}function hdt(){Mf.defaultOptions.autoGarbageCollect=!0,qz.defaultOptions.resolution=Math.min(window.devicePixelRatio||1,2)}let L1=null;function Jpe(){return L1!==null?L1:navigator.hardwareConcurrency&&navigator.hardwareConcurrency<4||"deviceMemory"in navigator&&navigator.deviceMemory<4||/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)?(L1=!0,!0):(L1=!1,!1)}function fdt(t){const e=window.devicePixelRatio||1,n=Jpe();return t?n?1:Math.min(e,1.5):n?Math.min(e,1.5):Math.min(e,2)}hdt();const fn={pixiContainer:xr,pixiGraphics:Qi,pixiSprite:Sf,pixiText:Cd,Container:xr,Graphics:Qi,Sprite:Sf,Text:Cd,LayoutContainer:Hpe,LayoutText:hct,FancyButton:kx};jpe(fn);function $r(t,e=0){return jue(t,e)}function EM(t){if(!t)return 1;const e=t.match(/rgba\([\d\s,]+,\s*([\d.]+)\)/);return e?parseFloat(e[1]):t.toLowerCase()==="transparent"?0:1}function mt(t,e,n=0){if(t==null)return n;if(typeof t=="number")return t;if(t.endsWith("px"))return parseFloat(t);if(t.endsWith("rem")||t.endsWith("em"))return parseFloat(t)*16;if(t.endsWith("%"),t==="auto")return n;const r=parseFloat(t);return isNaN(r)?n:r}function pdt(t){return t?{x:mt(t.left,void 0,0),y:mt(t.top,void 0,0),width:mt(t.width,void 0,100),height:mt(t.height,void 0,100)}:{x:0,y:0,width:100,height:100}}function gdt(t){const e=$r(t?.backgroundColor,16777215),n=t?.opacity!==void 0?mt(t.opacity,void 0,1):EM(t?.backgroundColor);return{color:e,alpha:n}}function mdt(t){return!t?.borderWidth&&!t?.borderColor?null:{width:mt(t.borderWidth,void 0,1),color:$r(t.borderColor,0),alpha:EM(t.borderColor)}}function Adt(t,e=100){const n=mt(t?.fontSize,void 0,16);let r=0;if(t?.lineHeight){const i=mt(t.lineHeight,void 0,0);typeof t.lineHeight=="number"&&i<10?r=(i-1)*n:r=Math.max(0,i-n)}return{fontFamily:t?.fontFamily||"Pretendard, sans-serif",fontSize:n,fontWeight:String(t?.fontWeight||"normal"),fontStyle:t?.fontStyle||"normal",fill:$r(t?.color,0),align:t?.textAlign||"left",letterSpacing:mt(t?.letterSpacing,void 0,0),leading:r,wordWrap:!0,wordWrapWidth:e}}function ydt(t,e){if(!e||e==="none")return t;switch(e.toLowerCase()){case"uppercase":return t.toUpperCase();case"lowercase":return t.toLowerCase();case"capitalize":return t.replace(/\b\w/g,n=>n.toUpperCase());default:return t}}function vdt(t){return t?mt(t,void 0,0):0}function l7(t){const e=pdt(t);return{transform:e,fill:gdt(t),stroke:mdt(t),text:Adt(t,e.width),borderRadius:vdt(t?.borderRadius)}}function bdt(t){if(t==null)return null;if(typeof t=="number")return{top:t,right:t,bottom:t,left:t};const e=t.trim();if(!e)return null;const n=e.split(/\s+/).map(r=>mt(r,void 0,0));switch(n.length){case 1:return{top:n[0],right:n[0],bottom:n[0],left:n[0]};case 2:return{top:n[0],right:n[1],bottom:n[0],left:n[1]};case 3:return{top:n[0],right:n[1],bottom:n[2],left:n[1]};case 4:return{top:n[0],right:n[1],bottom:n[2],left:n[3]};default:return null}}function tC(t,e=0){if(!t)return{top:e,right:e,bottom:e,left:e};const r=bdt(t.padding)||{top:e,right:e,bottom:e,left:e};return{top:t.paddingTop!==void 0?mt(t.paddingTop,void 0,r.top):r.top,right:t.paddingRight!==void 0?mt(t.paddingRight,void 0,r.right):r.right,bottom:t.paddingBottom!==void 0?mt(t.paddingBottom,void 0,r.bottom):r.bottom,left:t.paddingLeft!==void 0?mt(t.paddingLeft,void 0,r.left):r.left}}function Zpe(t,e,n){return{x:n.left,y:n.top,width:Math.max(0,t-n.left-n.right),height:Math.max(0,e-n.top-n.bottom)}}function xdt(t){if(!t||t==="none")return"none";const e=t.toLowerCase();return e==="dashed"?"dashed":e==="dotted"?"dotted":e==="double"?"double":"solid"}function SM(t){if(!t||!t.borderWidth&&!t.borderColor)return null;const e=mt(t.borderWidth,void 0,0);return e<=0?null:{width:e,color:$r(t.borderColor,0),alpha:EM(t.borderColor),style:xdt(t.borderStyle),radius:mt(t.borderRadius,void 0,0)}}function Cdt(t){return t/2}function Edt(t,e){return Math.max(0,t-e)}function Sdt(t,e,n,r){const i=Cdt(n);return{x:i,y:i,width:Math.max(0,t-n),height:Math.max(0,e-n),radius:Edt(r,i)}}function wdt(t){return t!=null&&t.width>0&&t.style!=="none"}function vs(t,e){t.clear();const{width:n,height:r,backgroundColor:i=16777215,backgroundAlpha:s=1,borderRadius:o,border:a}=e,l=o??a?.radius??0;if(l>0?t.roundRect(0,0,n,r,l):t.rect(0,0,n,r),t.fill({color:i,alpha:s}),wdt(a)){const u=Sdt(n,r,a.width,l);_dt(t,n,r,u,a)}}function ege(t,e){const{x:n,y:r,radius:i,backgroundColor:s=16777215,backgroundAlpha:o=1,border:a}=e,l=a?.width??0,u=Math.max(0,i-l/2);t.circle(n,r,u),t.fill({color:s,alpha:o}),a&&l>0&&(t.circle(n,r,u),t.stroke({width:l,color:a.color,alpha:a.alpha??1}))}function _dt(t,e,n,r,i){switch(i.style){case"dashed":Bdt(t,r,i);break;case"dotted":Ddt(t,r,i);break;case"double":Tdt(t,e,n,i);break;default:Idt(t,r,i);break}}function Idt(t,e,n){e.radius>0?t.roundRect(e.x,e.y,e.width,e.height,e.radius):t.rect(e.x,e.y,e.width,e.height),t.stroke({width:n.width,color:n.color,alpha:n.alpha})}function Bdt(t,e,n){const r=Math.max(n.width*3,6),i=Math.max(n.width*2,4);if(t.setStrokeStyle({width:n.width,color:n.color,alpha:n.alpha}),e.radius>0){t.roundRect(e.x,e.y,e.width,e.height,e.radius),t.stroke();return}const{x:s,y:o,width:a,height:l}=e,u=s+a,c=o+l;for(let d=s;d<u;d+=r+i)t.moveTo(d,o),t.lineTo(Math.min(d+r,u),o);for(let d=o;d<c;d+=r+i)t.moveTo(u,d),t.lineTo(u,Math.min(d+r,c));for(let d=u;d>s;d-=r+i)t.moveTo(d,c),t.lineTo(Math.max(d-r,s),c);for(let d=c;d>o;d-=r+i)t.moveTo(s,d),t.lineTo(s,Math.max(d-r,o));t.stroke()}function Ddt(t,e,n){const r=n.width/2,i=n.width*2,{x:s,y:o,width:a,height:l}=e,u=s+a,c=o+l;for(let d=s+r;d<u-r;d+=i)t.circle(d,o,r);for(let d=o+r;d<c-r;d+=i)t.circle(u,d,r);for(let d=u-r;d>s+r;d-=i)t.circle(d,c,r);for(let d=c-r;d>o+r;d-=i)t.circle(s,d,r);t.fill({color:n.color,alpha:n.alpha})}function Tdt(t,e,n,r){const i=r.width/3,s=i/2,o=r.width-i/2,a=Math.max(0,r.radius-o);if(t.setStrokeStyle({width:i,color:r.color,alpha:r.alpha}),r.radius>0){const l=Math.max(0,r.radius-s);t.roundRect(s,s,e-i,n-i,l)}else t.rect(s,s,e-i,n-i);t.stroke(),a>0?t.roundRect(o,o,e-o*2,n-o*2,a):t.rect(o,o,e-o*2,n-o*2),t.stroke()}function Qt(t){return getComputedStyle(document.documentElement).getPropertyValue(t).trim()}function ls(t,e){return t?t.startsWith("color-mix")?Mdt(t,e):jue(t,e):e}function Mdt(t,e){try{const n=document.createElement("div");n.style.color=t,n.style.display="none",document.body.appendChild(n);const r=getComputedStyle(n).color;return document.body.removeChild(n),ls(r,e)}catch{return e}}function Yh(t,e){const n=e/100,r=Math.round((t>>16&255)*n),i=Math.round((t>>8&255)*n),s=Math.round((t&255)*n);return r<<16|i<<8|s}function sE(t,e){const n=e/100,r=1-n,i=Math.round((t>>16&255)*n+255*r),s=Math.round((t>>8&255)*n+255*r),o=Math.round((t&255)*n+255*r);return i<<16|s<<8|o}const ad={primary:6770852,onPrimary:16777215,secondary:6445937,onSecondary:16777215,tertiary:8213088,onTertiary:16777215,error:11740702,onError:16777215,surfaceContainerHigh:15525616,surfaceContainerHighest:15130857,onSurface:1907488,outline:7959678,outlineVariant:13288656},aW={sm:{fontSize:12,fontWeight:"500",color:3621201,fontFamily:"Inter, system-ui, sans-serif"},md:{fontSize:14,fontWeight:"500",color:3621201,fontFamily:"Inter, system-ui, sans-serif"},lg:{fontSize:16,fontWeight:"500",color:3621201,fontFamily:"Inter, system-ui, sans-serif"}};function B4(t="md"){const e=aW[t]||aW.md;try{const n=document.createElement("label");n.className="react-aria-Label",n.style.position="absolute",n.style.visibility="hidden",n.style.pointerEvents="none",document.body.appendChild(n);const r=getComputedStyle(n),i=parseFloat(r.fontSize)||e.fontSize,s=r.fontWeight||e.fontWeight,o=ls(r.color,e.color),a=r.fontFamily||e.fontFamily;return document.body.removeChild(n),{fontSize:i,fontWeight:s,color:o,fontFamily:a}}catch{return e}}const lW={sm:{fontSize:11,color:7041664,errorColor:15680580,fontFamily:"Inter, system-ui, sans-serif"},md:{fontSize:12,color:7041664,errorColor:15680580,fontFamily:"Inter, system-ui, sans-serif"},lg:{fontSize:14,color:7041664,errorColor:15680580,fontFamily:"Inter, system-ui, sans-serif"}};function tge(t="md"){const e=lW[t]||lW.md;try{const n=document.createElement("div");n.className="react-aria-TextField",n.style.position="absolute",n.style.visibility="hidden",n.style.pointerEvents="none";const r=document.createElement("div");r.slot="description",n.appendChild(r);const i=document.createElement("div");i.className="react-aria-FieldError",n.appendChild(i),document.body.appendChild(n);const s=getComputedStyle(r),o=getComputedStyle(i),a=parseFloat(s.fontSize)||e.fontSize,l=ls(s.color,e.color),u=ls(o.color,e.errorColor),c=s.fontFamily||e.fontFamily;return document.body.removeChild(n),{fontSize:a,color:l,errorColor:u,fontFamily:c}}catch{return e}}function uW(){const t=ls(Qt("--primary"),ad.primary),e=ls(Qt("--on-primary"),ad.onPrimary),n=ls(Qt("--secondary"),ad.secondary),r=ls(Qt("--on-secondary"),ad.onSecondary),i=ls(Qt("--tertiary"),ad.tertiary),s=ls(Qt("--on-tertiary"),ad.onTertiary),o=ls(Qt("--error"),ad.error),a=ls(Qt("--on-error"),ad.onError),l=ls(Qt("--surface-container-high"),ad.surfaceContainerHigh),u=ls(Qt("--surface-container-highest"),ad.surfaceContainerHighest),c=ls(Qt("--on-surface"),ad.onSurface),d=ls(Qt("--outline"),ad.outline),f=ls(Qt("--outline-variant"),ad.outlineVariant);return{defaultBg:l,defaultBgHover:Yh(l,92),defaultBgPressed:Yh(l,88),defaultText:c,defaultBorder:f,primaryBg:t,primaryBgHover:Yh(t,92),primaryBgPressed:Yh(t,88),primaryText:e,secondaryBg:n,secondaryBgHover:Yh(n,92),secondaryBgPressed:Yh(n,88),secondaryText:r,tertiaryBg:i,tertiaryBgHover:Yh(i,92),tertiaryBgPressed:Yh(i,88),tertiaryText:s,errorBg:o,errorBgHover:Yh(o,92),errorBgPressed:Yh(o,88),errorText:a,surfaceBg:u,surfaceBgHover:Yh(u,92),surfaceBgPressed:Yh(u,88),surfaceText:c,surfaceBorder:f,outlineBg:16777215,outlineBgHover:sE(t,8),outlineBgPressed:sE(t,12),outlineText:t,outlineBorder:d,ghostBg:16777215,ghostBgHover:sE(t,8),ghostBgPressed:sE(t,12),ghostText:t}}function kdt(){return ls(Qt("--outline-variant"),ad.outlineVariant)}function eF(t,e){switch(t){case"primary":return{bg:e.primaryBg,bgHover:e.primaryBgHover,bgPressed:e.primaryBgPressed,text:e.primaryText};case"secondary":return{bg:e.secondaryBg,bgHover:e.secondaryBgHover,bgPressed:e.secondaryBgPressed,text:e.secondaryText};case"tertiary":return{bg:e.tertiaryBg,bgHover:e.tertiaryBgHover,bgPressed:e.tertiaryBgPressed,text:e.tertiaryText};case"error":return{bg:e.errorBg,bgHover:e.errorBgHover,bgPressed:e.errorBgPressed,text:e.errorText};case"surface":return{bg:e.surfaceBg,bgHover:e.surfaceBgHover,bgPressed:e.surfaceBgPressed,text:e.surfaceText,border:e.surfaceBorder};case"outline":return{bg:e.outlineBg,bgHover:e.outlineBgHover,bgPressed:e.outlineBgPressed,text:e.outlineText,border:e.outlineBorder,bgAlpha:0};case"ghost":return{bg:e.ghostBg,bgHover:e.ghostBgHover,bgPressed:e.ghostBgPressed,text:e.ghostText,bgAlpha:0};default:return{bg:e.defaultBg,bgHover:e.defaultBgHover,bgPressed:e.defaultBgPressed,text:e.defaultText,border:e.defaultBorder}}}function nn(t,e){if(!t)return e;const n=t.trim();if(n.endsWith("px"))return parseFloat(n)||e;if(n.endsWith("rem")){const i=parseFloat(n);return i?i*16:e}const r=parseFloat(n);return isNaN(r)?e:r}const Pdt={xs:{fontSize:"--text-2xs",paddingY:"--spacing-2xs",paddingX:"--spacing-sm",borderRadius:"--radius-sm"},sm:{fontSize:"--text-sm",paddingY:"--spacing",paddingX:"--spacing-md",borderRadius:"--radius-sm"},md:{fontSize:"--text-base",paddingY:"--spacing-sm",paddingX:"--spacing-xl",borderRadius:"--radius-md"},lg:{fontSize:"--text-lg",paddingY:"--spacing-md",paddingX:"--spacing-2xl",borderRadius:"--radius-lg"},xl:{fontSize:"--text-xl",paddingY:"--spacing-lg",paddingX:"--spacing-3xl",borderRadius:"--radius-lg"}},cW={xs:{fontSize:10,paddingX:8,paddingY:2,borderRadius:4},sm:{fontSize:14,paddingX:12,paddingY:4,borderRadius:4},md:{fontSize:16,paddingX:24,paddingY:8,borderRadius:6},lg:{fontSize:18,paddingX:32,paddingY:12,borderRadius:8},xl:{fontSize:20,paddingX:40,paddingY:16,borderRadius:8}};function nge(t){const e=Pdt[t],n=cW[t]||cW.sm;if(!e)return n;const r=nn(Qt(e.fontSize),n.fontSize),i=nn(Qt(e.paddingX),n.paddingX),s=nn(Qt(e.paddingY),n.paddingY),o=nn(Qt(e.borderRadius),n.borderRadius);return{fontSize:r,paddingX:i,paddingY:s,borderRadius:o}}const Rdt={sm:{boxSize:"--spacing-lg",fontSize:"--text-sm"},md:{boxSize:"--spacing-xl",fontSize:"--text-sm"},lg:{boxSize:"--spacing-xl",fontSize:"--text-base"}},dW={sm:{boxSize:16,fontSize:14,gap:8},md:{boxSize:20,fontSize:14,gap:8},lg:{boxSize:24,fontSize:16,gap:8}};function Ndt(t){const e=Rdt[t],n=dW[t]||dW.md;if(!e)return n;const r=t==="md"?20:nn(Qt(e.boxSize),n.boxSize),i=nn(Qt(e.fontSize),n.fontSize),s=nn(Qt("--spacing-sm"),n.gap);return{boxSize:r,fontSize:i,gap:s}}const Ldt={sm:{thumbSize:"--text-xl"},md:{thumbSize:"--text-2xl"},lg:{thumbSize:"--text-3xl"}},hW={sm:{trackHeight:24,trackWidth:1,thumbSize:20},md:{trackHeight:30,trackWidth:2,thumbSize:24},lg:{trackHeight:36,trackWidth:3,thumbSize:30}};function Fdt(t){const e=Ldt[t],n=hW[t]||hW.md;if(!e)return n;const r=nn(Qt(e.thumbSize),n.thumbSize);return{trackHeight:n.trackHeight,trackWidth:n.trackWidth,thumbSize:r}}const $dt={sm:{radioSize:"--text-lg",fontSize:"--text-sm"},md:{radioSize:"--text-xl",fontSize:"--text-base"},lg:{radioSize:"--text-2xl",fontSize:"--text-lg"}},fW={sm:{radioSize:18,fontSize:14,selectedBorderWidth:5,gap:8},md:{radioSize:20,fontSize:16,selectedBorderWidth:6,gap:8},lg:{radioSize:24,fontSize:18,selectedBorderWidth:7,gap:10}};function u7(t){const e=$dt[t],n=fW[t]||fW.md;if(!e)return n;const r=nn(Qt(e.radioSize),n.radioSize),i=nn(Qt(e.fontSize),n.fontSize),s=nn(Qt("--spacing-sm"),n.gap);return{radioSize:r,fontSize:i,selectedBorderWidth:n.selectedBorderWidth,gap:s}}const zdt={sm:{fontSize:"--text-sm",borderRadius:"--radius-sm"},md:{fontSize:"--text-base",borderRadius:"--radius-md"},lg:{fontSize:"--text-lg",borderRadius:"--radius-lg"}},pW={sm:{width:200,barHeight:6,fontSize:14,borderRadius:4},md:{width:250,barHeight:10,fontSize:16,borderRadius:6},lg:{width:300,barHeight:14,fontSize:18,borderRadius:8}};function Odt(t){const e=zdt[t],n=pW[t]||pW.md;if(!e)return n;const r=nn(Qt(e.fontSize),n.fontSize),i=nn(Qt(e.borderRadius),n.borderRadius);return{width:n.width,barHeight:n.barHeight,fontSize:r,borderRadius:i}}const jdt={sm:{labelSize:"--text-xs",fontSize:"--text-xs",paddingY:"--spacing-sm",paddingX:"--spacing"},md:{labelSize:"--text-sm",fontSize:"--text-sm",paddingY:"--spacing",paddingX:"--spacing-md"},lg:{labelSize:"--text-base",fontSize:"--text-base",paddingY:"--spacing-md",paddingX:"--spacing-lg"}},gW={sm:{fontSize:12,labelSize:12,paddingX:8,paddingY:6,chevronSize:20,borderRadius:6},md:{fontSize:14,labelSize:14,paddingX:12,paddingY:8,chevronSize:24,borderRadius:6},lg:{fontSize:16,labelSize:16,paddingX:16,paddingY:12,chevronSize:28,borderRadius:6}};function Qdt(t){const e=jdt[t],n=gW[t]||gW.md;if(!e)return n;const r=nn(Qt(e.fontSize),n.fontSize),i=nn(Qt(e.labelSize),n.labelSize),s=nn(Qt(e.paddingX),n.paddingX),o=nn(Qt(e.paddingY),n.paddingY),a=nn(Qt("--border-radius"),n.borderRadius);return{fontSize:r,labelSize:i,paddingX:s,paddingY:o,chevronSize:n.chevronSize,borderRadius:a}}const Udt={sm:{fontSize:"--text-sm",paddingY:"--spacing",paddingX:"--spacing-md"},md:{fontSize:"--text-base",paddingY:"--spacing-sm",paddingX:"--spacing-xl"},lg:{fontSize:"--text-lg",paddingY:"--spacing-md",paddingX:"--spacing-2xl"}},mW={sm:{fontSize:14,paddingY:4,paddingX:12,borderRadius:6},md:{fontSize:16,paddingY:8,paddingX:20,borderRadius:8},lg:{fontSize:18,paddingY:12,paddingX:24,borderRadius:10}};function Hdt(t){const e=Udt[t],n=mW[t]||mW.md;if(!e)return n;const r=nn(Qt(e.fontSize),n.fontSize),i=nn(Qt(e.paddingY),n.paddingY),s=nn(Qt(e.paddingX),n.paddingX),o=nn(Qt("--radius-md"),n.borderRadius);return{fontSize:r,paddingY:i,paddingX:s,borderRadius:o}}const AW={default:{background:16777215,border:13751771,text:3621201,selectedBackground:3900150,selectedBorder:3900150,selectedText:16777215,hoverBackground:15987958,pressedBackground:15067115},primary:{background:16777215,border:13751771,text:3621201,selectedBackground:3900150,selectedBorder:3900150,selectedText:16777215,hoverBackground:14412542,pressedBackground:12573694},secondary:{background:16777215,border:13751771,text:3621201,selectedBackground:6514417,selectedBorder:6514417,selectedText:16777215,hoverBackground:14739455,pressedBackground:13095678},surface:{background:16777215,border:13751771,text:3621201,selectedBackground:7041664,selectedBorder:7041664,selectedText:16777215,hoverBackground:15987958,pressedBackground:15067115}};function Vdt(t){const e=AW[t]||AW.default;return{background:ls(Qt("--color-white"),e.background),border:ls(Qt("--color-gray-300"),e.border),text:ls(Qt("--color-gray-700"),e.text),selectedBackground:e.selectedBackground,selectedBorder:e.selectedBorder,selectedText:e.selectedText,hoverBackground:e.hoverBackground,pressedBackground:e.pressedBackground}}const Gdt={sm:{fontSize:"--text-xs",paddingY:"--spacing-sm",paddingX:"--spacing"},md:{fontSize:"--text-sm",paddingY:"--spacing",paddingX:"--spacing-md"},lg:{fontSize:"--text-base",paddingY:"--spacing-md",paddingX:"--spacing-lg"}},yW={sm:{fontSize:12,itemPaddingY:8,itemPaddingX:4,itemHeight:32,borderRadius:4,containerPadding:2,gap:2},md:{fontSize:14,itemPaddingY:4,itemPaddingX:12,itemHeight:40,borderRadius:8,containerPadding:4,gap:4},lg:{fontSize:16,itemPaddingY:12,itemPaddingX:16,itemHeight:48,borderRadius:8,containerPadding:8,gap:6}};function Kdt(t){const e=Gdt[t],n=yW[t]||yW.md;if(!e)return n;const r=nn(Qt(e.fontSize),n.fontSize),i=nn(Qt(e.paddingY),n.itemPaddingY),s=nn(Qt(e.paddingX),n.itemPaddingX),o=nn(Qt("--radius-xs"),n.borderRadius);return{fontSize:r,itemPaddingY:i,itemPaddingX:s,itemHeight:r+i*2+4,borderRadius:o,containerPadding:n.containerPadding,gap:n.gap}}const vW={primary:{containerBackground:16777215,containerBorder:15067115,itemBackground:16777215,itemHoverBackground:15987958,itemSelectedBackground:14412542,textColor:3621201,selectedTextColor:1982639},secondary:{containerBackground:16777215,containerBorder:15067115,itemBackground:16777215,itemHoverBackground:15987958,itemSelectedBackground:14739455,textColor:3621201,selectedTextColor:3616931},tertiary:{containerBackground:16777215,containerBorder:15067115,itemBackground:16777215,itemHoverBackground:15987958,itemSelectedBackground:16574451,textColor:3621201,selectedTextColor:10295117},error:{containerBackground:16777215,containerBorder:16557477,itemBackground:16777215,itemHoverBackground:16708338,itemSelectedBackground:16704226,textColor:3621201,selectedTextColor:12131356},filled:{containerBackground:15987958,containerBorder:15987958,itemBackground:15987958,itemHoverBackground:15067115,itemSelectedBackground:14412542,textColor:3621201,selectedTextColor:1982639},surface:{containerBackground:16777215,containerBorder:15067115,itemBackground:16777215,itemHoverBackground:15987958,itemSelectedBackground:15987958,textColor:3621201,selectedTextColor:1120295}};function Wdt(t){return vW[t]||vW.primary}const qdt={sm:{fontSize:"--text-sm",paddingX:"--spacing-md"},md:{fontSize:"--text-base",paddingX:"--spacing-md"},lg:{fontSize:"--text-lg",paddingX:"--spacing-lg"}},bW={sm:{fontSize:14,paddingY:2,paddingX:12,height:20,minWidth:20,dotSize:8},md:{fontSize:16,paddingY:8,paddingX:12,height:24,minWidth:24,dotSize:10},lg:{fontSize:18,paddingY:8,paddingX:16,height:28,minWidth:28,dotSize:12}};function Ydt(t){const e=qdt[t],n=bW[t]||bW.md;if(!e)return n;const r=nn(Qt(e.fontSize),n.fontSize),i=nn(Qt(e.paddingX),n.paddingX);return{fontSize:r,paddingY:n.paddingY,paddingX:i,height:n.height,minWidth:n.minWidth,dotSize:n.dotSize}}const xW={default:{background:15067115,text:7041664},primary:{background:3900150,text:16777215},secondary:{background:6514417,text:16777215},tertiary:{background:15485081,text:16777215},error:{background:15680580,text:16777215},surface:{background:15987958,text:3621201}};function Xdt(t){return xW[t]||xW.default}const Jdt={sm:{fontSize:"--text-sm",borderRadius:"--radius-sm"},md:{fontSize:"--text-base",borderRadius:"--radius-md"},lg:{fontSize:"--text-lg",borderRadius:"--radius-lg"}},CW={sm:{width:200,barHeight:6,borderRadius:4,fontSize:14,gap:4},md:{width:250,barHeight:10,borderRadius:8,fontSize:16,gap:4},lg:{width:300,barHeight:14,borderRadius:12,fontSize:18,gap:4}};function Zdt(t){const e=Jdt[t],n=CW[t]||CW.md;if(!e)return n;const r=nn(Qt(e.fontSize),n.fontSize),i=nn(Qt(e.borderRadius),n.borderRadius);return{width:n.width,barHeight:n.barHeight,borderRadius:i,fontSize:r,gap:n.gap}}const EW={default:{trackColor:15067115,fillColor:3900150,labelColor:3621201,valueColor:7041664},primary:{trackColor:15067115,fillColor:3900150,labelColor:3621201,valueColor:7041664},secondary:{trackColor:15067115,fillColor:6514417,labelColor:3621201,valueColor:7041664},tertiary:{trackColor:15067115,fillColor:15485081,labelColor:3621201,valueColor:7041664},error:{trackColor:15067115,fillColor:15680580,labelColor:3621201,valueColor:7041664},surface:{trackColor:15067115,fillColor:7041664,labelColor:3621201,valueColor:7041664}};function eht(t){return EW[t]||EW.primary}const tht={sm:{margin:"--spacing-2"},md:{margin:"--spacing-4"},lg:{margin:"--spacing-6"}},SW={sm:{thickness:1,margin:4},md:{thickness:1,margin:8},lg:{thickness:2,margin:12}};function nht(t){const e=tht[t],n=SW[t]||SW.md;if(!e)return n;const r=nn(Qt(e.margin),n.margin);return{thickness:n.thickness,margin:r}}const wW={default:{color:13292508},primary:{color:3900150},secondary:{color:6514417},surface:{color:10265519}};function rht(t){return wW[t]||wW.default}const iht={sm:{fontSize:"--text-sm"},md:{fontSize:"--text-base"},lg:{fontSize:"--text-lg"}},_W={sm:{fontSize:14},md:{fontSize:16},lg:{fontSize:18}};function sht(t){const e=iht[t],n=_W[t]||_W.md;return e?{fontSize:nn(Qt(e.fontSize),n.fontSize)}:n}const IW={default:{color:3900150,hoverColor:2450411,pressedColor:1920728},primary:{color:3900150,hoverColor:2450411,pressedColor:1920728},secondary:{color:6514417,hoverColor:5195493,pressedColor:4405450}};function oht(t){return IW[t]||IW.primary}const aht={sm:{fontSize:"--text-xs",gap:"--spacing-xs"},md:{fontSize:"--text-sm",gap:"--spacing"},lg:{fontSize:"--text-base",gap:"--spacing-sm"}},BW={sm:{fontSize:12,gap:4,padding:4},md:{fontSize:14,gap:8,padding:8},lg:{fontSize:16,gap:10,padding:12}};function lht(t){const e=aht[t],n=BW[t]||BW.md;if(!e)return n;const r=nn(Qt(e.fontSize),n.fontSize),i=nn(Qt(e.gap),n.gap);return{fontSize:r,gap:i,padding:n.padding}}const DW={default:{textColor:7041664,currentColor:3621201,separatorColor:10265519},primary:{textColor:7041664,currentColor:3900150,separatorColor:10265519},secondary:{textColor:7041664,currentColor:6514417,separatorColor:10265519},tertiary:{textColor:7041664,currentColor:15485081,separatorColor:10265519},error:{textColor:7041664,currentColor:15680580,separatorColor:10265519}};function uht(t){return DW[t]||DW.default}const cht={sm:{padding:"--spacing-sm",borderRadius:"--radius-md"},md:{padding:"--spacing-md",borderRadius:"--radius-lg"},lg:{padding:"--spacing-lg",borderRadius:"--radius-xl"}},TW={sm:{padding:8,borderRadius:8},md:{padding:12,borderRadius:12},lg:{padding:16,borderRadius:16}};function dht(t){const e=cht[t],n=TW[t]||TW.md;if(!e)return n;const r=nn(Qt(e.padding),n.padding),i=nn(Qt(e.borderRadius),n.borderRadius);return{padding:r,borderRadius:i}}const MW={default:{backgroundColor:15987958,borderColor:13292508,textColor:3621201,hoverBgColor:15067115},primary:{backgroundColor:3900150,borderColor:3900150,textColor:16777215,hoverBgColor:2450411},secondary:{backgroundColor:6514417,borderColor:6514417,textColor:16777215,hoverBgColor:5195493},surface:{backgroundColor:16382715,borderColor:13292508,textColor:3621201,hoverBgColor:15987958},elevated:{backgroundColor:16777215,borderColor:0,textColor:3621201,hoverBgColor:16382715},outlined:{backgroundColor:16777215,borderColor:10265519,textColor:3621201,hoverBgColor:16382715}};function hht(t){return MW[t]||MW.default}const fht={sm:{fontSize:"--text-xs",paddingX:"--spacing",paddingY:"--spacing-sm"},md:{fontSize:"--text-sm",paddingX:"--spacing-md",paddingY:"--spacing"},lg:{fontSize:"--text-base",paddingX:"--spacing-lg",paddingY:"--spacing-md"}},kW={sm:{fontSize:12,itemPaddingX:8,itemPaddingY:6,containerPadding:6,minWidth:120,borderRadius:6},md:{fontSize:14,itemPaddingX:12,itemPaddingY:8,containerPadding:8,minWidth:150,borderRadius:8},lg:{fontSize:16,itemPaddingX:16,itemPaddingY:12,containerPadding:12,minWidth:180,borderRadius:10}};function pht(t){const e=fht[t],n=kW[t]||kW.md;if(!e)return n;const r=nn(Qt(e.fontSize),n.fontSize),i=nn(Qt(e.paddingX),n.itemPaddingX),s=nn(Qt(e.paddingY),n.itemPaddingY);return{fontSize:r,itemPaddingX:i,itemPaddingY:s,containerPadding:n.containerPadding,minWidth:n.minWidth,borderRadius:n.borderRadius}}const PW={default:{backgroundColor:15987958,borderColor:13292508,textColor:3621201,hoverBgColor:14412542,hoverTextColor:1982639,separatorColor:13292508},primary:{backgroundColor:15987958,borderColor:3900150,textColor:3621201,hoverBgColor:14412542,hoverTextColor:1982639,separatorColor:3900150},secondary:{backgroundColor:15987958,borderColor:6514417,textColor:3621201,hoverBgColor:14739455,hoverTextColor:3616931,separatorColor:6514417},tertiary:{backgroundColor:15987958,borderColor:15485081,textColor:3621201,hoverBgColor:16574451,hoverTextColor:10295117,separatorColor:15485081},error:{backgroundColor:15987958,borderColor:15680580,textColor:3621201,hoverBgColor:16704226,hoverTextColor:10033947,separatorColor:15680580},filled:{backgroundColor:16382715,borderColor:0,textColor:3621201,hoverBgColor:15067115,hoverTextColor:3621201,separatorColor:10265519}};function ght(t){return PW[t]||PW.default}const mht={sm:{fontSize:"--text-xs",paddingX:"--spacing-md",paddingY:"--spacing-sm"},md:{fontSize:"--text-sm",paddingX:"--spacing-lg",paddingY:"--spacing"},lg:{fontSize:"--text-base",paddingX:"--spacing-xl",paddingY:"--spacing-md"}},RW={sm:{fontSize:12,tabPaddingX:12,tabPaddingY:6,indicatorHeight:2,panelPadding:12},md:{fontSize:14,tabPaddingX:16,tabPaddingY:8,indicatorHeight:3,panelPadding:16},lg:{fontSize:16,tabPaddingX:20,tabPaddingY:12,indicatorHeight:4,panelPadding:20}};function Aht(t){const e=mht[t],n=RW[t]||RW.md;if(!e)return n;const r=nn(Qt(e.fontSize),n.fontSize),i=nn(Qt(e.paddingX),n.tabPaddingX),s=nn(Qt(e.paddingY),n.tabPaddingY);return{fontSize:r,tabPaddingX:i,tabPaddingY:s,indicatorHeight:n.indicatorHeight,panelPadding:n.panelPadding}}const NW={default:{textColor:7041664,selectedTextColor:3621201,indicatorColor:3900150,hoverBgColor:20,borderColor:13292508},primary:{textColor:7041664,selectedTextColor:3900150,indicatorColor:3900150,hoverBgColor:998438420,borderColor:13292508},secondary:{textColor:7041664,selectedTextColor:6514417,indicatorColor:6514417,hoverBgColor:1667690772,borderColor:13292508},tertiary:{textColor:7041664,selectedTextColor:15485081,indicatorColor:15485081,hoverBgColor:3964180756,borderColor:13292508}};function yht(t){return NW[t]||NW.default}const vht={sm:{fontSize:"--text-xs",labelSize:"--text-xs",paddingY:"--spacing-sm",paddingX:"--spacing"},md:{fontSize:"--text-sm",labelSize:"--text-sm",paddingY:"--spacing",paddingX:"--spacing-md"},lg:{fontSize:"--text-base",labelSize:"--text-base",paddingY:"--spacing-md",paddingX:"--spacing-lg"}},LW={sm:{fontSize:12,labelFontSize:12,buttonWidth:28,inputWidth:80,paddingX:8,paddingY:6,borderRadius:6},md:{fontSize:14,labelFontSize:14,buttonWidth:32,inputWidth:120,paddingX:12,paddingY:8,borderRadius:6},lg:{fontSize:16,labelFontSize:16,buttonWidth:40,inputWidth:160,paddingX:16,paddingY:12,borderRadius:8}};function bht(t){const e=vht[t],n=LW[t]||LW.md;if(!e)return n;const r=nn(Qt(e.fontSize),n.fontSize),i=nn(Qt(e.labelSize),n.labelFontSize),s=nn(Qt(e.paddingX),n.paddingX),o=nn(Qt(e.paddingY),n.paddingY);return{fontSize:r,labelFontSize:i,buttonWidth:n.buttonWidth,inputWidth:n.inputWidth,paddingX:s,paddingY:o,borderRadius:n.borderRadius}}const FW={default:{backgroundColor:15987958,borderColor:13292508,textColor:3621201,labelColor:3621201,buttonBgColor:15067115,buttonHoverBgColor:13751771,focusColor:3900150},primary:{backgroundColor:15987958,borderColor:3900150,textColor:3621201,labelColor:3900150,buttonBgColor:14412542,buttonHoverBgColor:12573694,focusColor:3900150},secondary:{backgroundColor:15987958,borderColor:6514417,textColor:3621201,labelColor:6514417,buttonBgColor:14739455,buttonHoverBgColor:13095678,focusColor:6514417},tertiary:{backgroundColor:15987958,borderColor:15485081,textColor:3621201,labelColor:15485081,buttonBgColor:16574451,buttonHoverBgColor:16502760,focusColor:15485081},error:{backgroundColor:15987958,borderColor:15680580,textColor:3621201,labelColor:15680580,buttonBgColor:16704226,buttonHoverBgColor:16698058,focusColor:15680580},filled:{backgroundColor:16382715,borderColor:13292508,textColor:3621201,labelColor:3621201,buttonBgColor:15067115,buttonHoverBgColor:13751771,focusColor:3900150}};function xht(t){return FW[t]||FW.default}const Cht={sm:{fontSize:"--text-xs",labelSize:"--text-xs",paddingY:"--spacing-sm",paddingX:"--spacing"},md:{fontSize:"--text-sm",labelSize:"--text-sm",paddingY:"--spacing",paddingX:"--spacing-md"},lg:{fontSize:"--text-base",labelSize:"--text-base",paddingY:"--spacing-md",paddingX:"--spacing-lg"}},$W={sm:{fontSize:12,labelFontSize:12,inputWidth:160,paddingX:8,paddingY:6,clearButtonSize:20,borderRadius:6},md:{fontSize:14,labelFontSize:14,inputWidth:200,paddingX:12,paddingY:8,clearButtonSize:24,borderRadius:6},lg:{fontSize:16,labelFontSize:16,inputWidth:240,paddingX:16,paddingY:12,clearButtonSize:28,borderRadius:8}};function Eht(t){const e=Cht[t],n=$W[t]||$W.md;if(!e)return n;const r=nn(Qt(e.fontSize),n.fontSize),i=nn(Qt(e.labelSize),n.labelFontSize),s=nn(Qt(e.paddingX),n.paddingX),o=nn(Qt(e.paddingY),n.paddingY);return{fontSize:r,labelFontSize:i,inputWidth:n.inputWidth,paddingX:s,paddingY:o,clearButtonSize:n.clearButtonSize,borderRadius:n.borderRadius}}const zW={default:{backgroundColor:15987958,borderColor:13292508,textColor:3621201,labelColor:3621201,placeholderColor:10265519,clearButtonBgColor:15067115,clearButtonHoverBgColor:13751771,focusColor:3900150},primary:{backgroundColor:15987958,borderColor:3900150,textColor:3621201,labelColor:3900150,placeholderColor:10265519,clearButtonBgColor:14412542,clearButtonHoverBgColor:12573694,focusColor:3900150},secondary:{backgroundColor:15987958,borderColor:6514417,textColor:3621201,labelColor:6514417,placeholderColor:10265519,clearButtonBgColor:14739455,clearButtonHoverBgColor:13095678,focusColor:6514417},tertiary:{backgroundColor:15987958,borderColor:15485081,textColor:3621201,labelColor:15485081,placeholderColor:10265519,clearButtonBgColor:16574451,clearButtonHoverBgColor:16502760,focusColor:15485081},error:{backgroundColor:15987958,borderColor:15680580,textColor:3621201,labelColor:15680580,placeholderColor:10265519,clearButtonBgColor:16704226,clearButtonHoverBgColor:16698058,focusColor:15680580},filled:{backgroundColor:16382715,borderColor:13292508,textColor:3621201,labelColor:3621201,placeholderColor:10265519,clearButtonBgColor:15067115,clearButtonHoverBgColor:13751771,focusColor:3900150}};function Sht(t){return zW[t]||zW.default}const wht={sm:{fontSize:"--text-xs",labelSize:"--text-xs",paddingY:"--spacing-sm",paddingX:"--spacing",itemPaddingY:"--spacing-sm",itemPaddingX:"--spacing"},md:{fontSize:"--text-sm",labelSize:"--text-sm",paddingY:"--spacing",paddingX:"--spacing-md",itemPaddingY:"--spacing",itemPaddingX:"--spacing-md"},lg:{fontSize:"--text-base",labelSize:"--text-base",paddingY:"--spacing-md",paddingX:"--spacing-lg",itemPaddingY:"--spacing-md",itemPaddingX:"--spacing-lg"}},OW={sm:{fontSize:12,labelFontSize:12,inputWidth:160,paddingX:8,paddingY:6,buttonSize:20,itemPaddingX:8,itemPaddingY:6,borderRadius:6},md:{fontSize:14,labelFontSize:14,inputWidth:200,paddingX:12,paddingY:8,buttonSize:24,itemPaddingX:12,itemPaddingY:8,borderRadius:6},lg:{fontSize:16,labelFontSize:16,inputWidth:240,paddingX:16,paddingY:12,buttonSize:28,itemPaddingX:16,itemPaddingY:12,borderRadius:8}};function _ht(t){const e=wht[t],n=OW[t]||OW.md;if(!e)return n;const r=nn(Qt(e.fontSize),n.fontSize),i=nn(Qt(e.labelSize),n.labelFontSize),s=nn(Qt(e.paddingX),n.paddingX),o=nn(Qt(e.paddingY),n.paddingY),a=nn(Qt(e.itemPaddingX),n.itemPaddingX),l=nn(Qt(e.itemPaddingY),n.itemPaddingY);return{fontSize:r,labelFontSize:i,inputWidth:n.inputWidth,paddingX:s,paddingY:o,buttonSize:n.buttonSize,itemPaddingX:a,itemPaddingY:l,borderRadius:n.borderRadius}}const jW={default:{backgroundColor:15987958,borderColor:13292508,textColor:3621201,labelColor:3621201,placeholderColor:10265519,buttonBgColor:15067115,buttonHoverBgColor:13751771,dropdownBgColor:15987958,itemHoverBgColor:15067115,itemSelectedBgColor:14412542,itemSelectedTextColor:1982639,focusColor:3900150},primary:{backgroundColor:15987958,borderColor:3900150,textColor:3621201,labelColor:3900150,placeholderColor:10265519,buttonBgColor:14412542,buttonHoverBgColor:12573694,dropdownBgColor:15987958,itemHoverBgColor:14412542,itemSelectedBgColor:12573694,itemSelectedTextColor:1982639,focusColor:3900150},secondary:{backgroundColor:15987958,borderColor:6514417,textColor:3621201,labelColor:6514417,placeholderColor:10265519,buttonBgColor:14739455,buttonHoverBgColor:13095678,dropdownBgColor:15987958,itemHoverBgColor:14739455,itemSelectedBgColor:13095678,itemSelectedTextColor:3616931,focusColor:6514417},tertiary:{backgroundColor:15987958,borderColor:15485081,textColor:3621201,labelColor:15485081,placeholderColor:10265519,buttonBgColor:16574451,buttonHoverBgColor:16502760,dropdownBgColor:15987958,itemHoverBgColor:16574451,itemSelectedBgColor:16502760,itemSelectedTextColor:10295117,focusColor:15485081},error:{backgroundColor:15987958,borderColor:15680580,textColor:3621201,labelColor:15680580,placeholderColor:10265519,buttonBgColor:16704226,buttonHoverBgColor:16698058,dropdownBgColor:15987958,itemHoverBgColor:16704226,itemSelectedBgColor:16698058,itemSelectedTextColor:10033947,focusColor:15680580},filled:{backgroundColor:16382715,borderColor:13292508,textColor:3621201,labelColor:3621201,placeholderColor:10265519,buttonBgColor:15067115,buttonHoverBgColor:13751771,dropdownBgColor:16382715,itemHoverBgColor:15067115,itemSelectedBgColor:14412542,itemSelectedTextColor:1982639,focusColor:3900150}};function Iht(t){return jW[t]||jW.default}const Bht={sm:{fontSize:"--text-xs",itemPaddingY:"--spacing-sm",itemPaddingX:"--spacing",listPadding:"--spacing-2xs",listGap:"--spacing-3xs"},md:{fontSize:"--text-sm",itemPaddingY:"--spacing",itemPaddingX:"--spacing-md",listPadding:"--spacing-xs",listGap:"--spacing-2xs"},lg:{fontSize:"--text-base",itemPaddingY:"--spacing-md",itemPaddingX:"--spacing-lg",listPadding:"--spacing-sm",listGap:"--spacing-xs"}},QW={sm:{fontSize:12,itemMinHeight:32,itemPaddingX:8,itemPaddingY:6,listPadding:4,listGap:2,borderRadius:6},md:{fontSize:14,itemMinHeight:40,itemPaddingX:12,itemPaddingY:8,listPadding:6,listGap:4,borderRadius:6},lg:{fontSize:16,itemMinHeight:48,itemPaddingX:16,itemPaddingY:12,listPadding:8,listGap:6,borderRadius:8}};function Dht(t){const e=Bht[t],n=QW[t]||QW.md;if(!e)return n;const r=nn(Qt(e.fontSize),n.fontSize),i=nn(Qt(e.itemPaddingX),n.itemPaddingX),s=nn(Qt(e.itemPaddingY),n.itemPaddingY),o=nn(Qt(e.listPadding),n.listPadding),a=nn(Qt(e.listGap),n.listGap);return{fontSize:r,itemMinHeight:n.itemMinHeight,itemPaddingX:i,itemPaddingY:s,listPadding:o,listGap:a,borderRadius:n.borderRadius}}const UW={default:{backgroundColor:15987958,borderColor:13292508,textColor:3621201,itemHoverBgColor:15067115,itemSelectedBgColor:14412542,itemSelectedTextColor:1982639,focusColor:3900150},primary:{backgroundColor:15987958,borderColor:3900150,textColor:3621201,itemHoverBgColor:14412542,itemSelectedBgColor:12573694,itemSelectedTextColor:1982639,focusColor:3900150},secondary:{backgroundColor:15987958,borderColor:6514417,textColor:3621201,itemHoverBgColor:14739455,itemSelectedBgColor:13095678,itemSelectedTextColor:3616931,focusColor:6514417},tertiary:{backgroundColor:15987958,borderColor:15485081,textColor:3621201,itemHoverBgColor:16574451,itemSelectedBgColor:16502760,itemSelectedTextColor:10295117,focusColor:15485081},error:{backgroundColor:15987958,borderColor:15680580,textColor:3621201,itemHoverBgColor:16704226,itemSelectedBgColor:16698058,itemSelectedTextColor:10033947,focusColor:15680580},filled:{backgroundColor:16382715,borderColor:0,textColor:3621201,itemHoverBgColor:15067115,itemSelectedBgColor:14412542,itemSelectedTextColor:1982639,focusColor:3900150}};function Tht(t){return UW[t]||UW.default}const Mht={sm:{fontSize:"--text-sm",paddingY:"--spacing-2xs",paddingX:"--spacing-sm"},md:{fontSize:"--text-base",paddingY:"--spacing-xs",paddingX:"--spacing-md"},lg:{fontSize:"--text-lg",paddingY:"--spacing-sm",paddingX:"--spacing-lg"}},HW={sm:{fontSize:14,tagPaddingX:8,tagPaddingY:4,tagGap:4,borderRadius:4},md:{fontSize:16,tagPaddingX:12,tagPaddingY:6,tagGap:4,borderRadius:6},lg:{fontSize:18,tagPaddingX:16,tagPaddingY:8,tagGap:6,borderRadius:8}};function kht(t){const e=Mht[t],n=HW[t]||HW.md;if(!e)return n;const r=nn(Qt(e.fontSize),n.fontSize),i=nn(Qt(e.paddingX),n.tagPaddingX),s=nn(Qt(e.paddingY),n.tagPaddingY);return{fontSize:r,tagPaddingX:i,tagPaddingY:s,tagGap:n.tagGap,borderRadius:n.borderRadius}}const VW={default:{backgroundColor:15067115,borderColor:13292508,textColor:3621201,hoverBgColor:13751771,selectedBgColor:3900150,selectedTextColor:16777215,removeButtonColor:7041664},primary:{backgroundColor:3900150,borderColor:3900150,textColor:16777215,hoverBgColor:2450411,selectedBgColor:1920728,selectedTextColor:16777215,removeButtonColor:16777215},secondary:{backgroundColor:6514417,borderColor:6514417,textColor:16777215,hoverBgColor:5195493,selectedBgColor:4405450,selectedTextColor:16777215,removeButtonColor:16777215},tertiary:{backgroundColor:15485081,borderColor:15485081,textColor:16777215,hoverBgColor:14362487,selectedBgColor:12458077,selectedTextColor:16777215,removeButtonColor:16777215},error:{backgroundColor:15680580,borderColor:15680580,textColor:16777215,hoverBgColor:14427686,selectedBgColor:12131356,selectedTextColor:16777215,removeButtonColor:16777215},surface:{backgroundColor:16382715,borderColor:13292508,textColor:3621201,hoverBgColor:15067115,selectedBgColor:13751771,selectedTextColor:3621201,removeButtonColor:7041664}};function Pht(t){return VW[t]||VW.default}const Rht={sm:{fontSize:"--text-xs",itemPaddingY:"--spacing-2xs",itemPaddingX:"--spacing-xs",treePadding:"--spacing-sm"},md:{fontSize:"--text-sm",itemPaddingY:"--spacing-xs",itemPaddingX:"--spacing-sm",treePadding:"--spacing"},lg:{fontSize:"--text-base",itemPaddingY:"--spacing-sm",itemPaddingX:"--spacing",treePadding:"--spacing-md"}},GW={sm:{fontSize:12,itemMinHeight:28,itemPaddingX:6,itemPaddingY:4,treePadding:8,treeGap:1,chevronSize:12,indentSize:16,borderRadius:4},md:{fontSize:14,itemMinHeight:32,itemPaddingX:8,itemPaddingY:6,treePadding:8,treeGap:4,chevronSize:16,indentSize:20,borderRadius:4},lg:{fontSize:16,itemMinHeight:40,itemPaddingX:12,itemPaddingY:8,treePadding:12,treeGap:6,chevronSize:20,indentSize:24,borderRadius:6}};function Nht(t){const e=Rht[t],n=GW[t]||GW.md;if(!e)return n;const r=nn(Qt(e.fontSize),n.fontSize),i=nn(Qt(e.itemPaddingX),n.itemPaddingX),s=nn(Qt(e.itemPaddingY),n.itemPaddingY),o=nn(Qt(e.treePadding),n.treePadding);return{fontSize:r,itemMinHeight:n.itemMinHeight,itemPaddingX:i,itemPaddingY:s,treePadding:o,treeGap:n.treeGap,chevronSize:n.chevronSize,indentSize:n.indentSize,borderRadius:n.borderRadius}}const KW={default:{backgroundColor:15987958,borderColor:13292508,textColor:3621201,itemHoverBgColor:20,itemSelectedBgColor:14412542,itemSelectedTextColor:1982639,chevronColor:7041664,focusColor:3900150},primary:{backgroundColor:15987958,borderColor:13292508,textColor:3621201,itemHoverBgColor:20,itemSelectedBgColor:14412542,itemSelectedTextColor:1982639,chevronColor:7041664,focusColor:3900150},secondary:{backgroundColor:15987958,borderColor:13292508,textColor:3621201,itemHoverBgColor:20,itemSelectedBgColor:14739455,itemSelectedTextColor:3616931,chevronColor:7041664,focusColor:6514417},tertiary:{backgroundColor:15987958,borderColor:13292508,textColor:3621201,itemHoverBgColor:20,itemSelectedBgColor:16574451,itemSelectedTextColor:10295117,chevronColor:7041664,focusColor:15485081}};function Lht(t){return KW[t]||KW.default}const Fht={sm:{fontSize:"--text-xs",cellPaddingY:"--spacing-sm",cellPaddingX:"--spacing"},md:{fontSize:"--text-sm",cellPaddingY:"--spacing",cellPaddingX:"--spacing-md"},lg:{fontSize:"--text-base",cellPaddingY:"--spacing-md",cellPaddingX:"--spacing-lg"}},WW={sm:{fontSize:12,headerFontSize:12,cellPaddingX:8,cellPaddingY:6,rowMinHeight:32,borderRadius:6},md:{fontSize:14,headerFontSize:14,cellPaddingX:12,cellPaddingY:8,rowMinHeight:40,borderRadius:6},lg:{fontSize:16,headerFontSize:16,cellPaddingX:16,cellPaddingY:12,rowMinHeight:48,borderRadius:8}};function $ht(t){const e=Fht[t],n=WW[t]||WW.md;if(!e)return n;const r=nn(Qt(e.fontSize),n.fontSize),i=nn(Qt(e.cellPaddingX),n.cellPaddingX),s=nn(Qt(e.cellPaddingY),n.cellPaddingY);return{fontSize:r,headerFontSize:r,cellPaddingX:i,cellPaddingY:s,rowMinHeight:n.rowMinHeight,borderRadius:n.borderRadius}}const qW={default:{backgroundColor:15987958,borderColor:13292508,headerBgColor:15987958,headerTextColor:7041664,textColor:3621201,rowHoverBgColor:15067115,rowSelectedBgColor:14412542,rowSelectedTextColor:1982639,focusColor:3900150},primary:{backgroundColor:15987958,borderColor:3900150,headerBgColor:15987958,headerTextColor:7041664,textColor:3621201,rowHoverBgColor:15067115,rowSelectedBgColor:14412542,rowSelectedTextColor:1982639,focusColor:3900150},secondary:{backgroundColor:15987958,borderColor:6514417,headerBgColor:15987958,headerTextColor:7041664,textColor:3621201,rowHoverBgColor:15067115,rowSelectedBgColor:14739455,rowSelectedTextColor:3616931,focusColor:6514417},tertiary:{backgroundColor:15987958,borderColor:15485081,headerBgColor:15987958,headerTextColor:7041664,textColor:3621201,rowHoverBgColor:15067115,rowSelectedBgColor:16574451,rowSelectedTextColor:10295117,focusColor:15485081},error:{backgroundColor:15987958,borderColor:15680580,headerBgColor:15987958,headerTextColor:7041664,textColor:3621201,rowHoverBgColor:15067115,rowSelectedBgColor:16704226,rowSelectedTextColor:10033947,focusColor:15680580},filled:{backgroundColor:16382715,borderColor:0,headerBgColor:16382715,headerTextColor:7041664,textColor:3621201,rowHoverBgColor:15067115,rowSelectedBgColor:14412542,rowSelectedTextColor:1982639,focusColor:3900150}};function zht(t){return qW[t]||qW.default}const Oht={sm:{fontSize:"--text-sm",padding:"--spacing-xs",gap:"--spacing-xs"},md:{fontSize:"--text-base",padding:"--spacing-sm",gap:"--spacing-sm"},lg:{fontSize:"--text-lg",padding:"--spacing",gap:"--spacing"}},YW={sm:{fontSize:14,padding:4,gap:4,chevronSize:12,panelIndent:20,borderRadius:4},md:{fontSize:16,padding:8,gap:8,chevronSize:16,panelIndent:32,borderRadius:6},lg:{fontSize:18,padding:8,gap:8,chevronSize:20,panelIndent:44,borderRadius:8}};function rge(t){const e=Oht[t],n=YW[t]||YW.md;return e?{fontSize:nn(Qt(e.fontSize),n.fontSize),padding:nn(Qt(e.padding),n.padding),gap:nn(Qt(e.gap),n.gap),chevronSize:n.chevronSize,panelIndent:n.panelIndent,borderRadius:n.borderRadius}:n}const XW={default:{backgroundColor:15987958,borderColor:13292508,textColor:3621201,triggerHoverBgColor:20,expandedBgColor:15987958,panelTextColor:7041664,focusColor:3900150},primary:{backgroundColor:15987958,borderColor:3900150,textColor:3900150,triggerHoverBgColor:998438420,expandedBgColor:998438410,panelTextColor:7041664,focusColor:3900150},secondary:{backgroundColor:15987958,borderColor:6514417,textColor:6514417,triggerHoverBgColor:1667690772,expandedBgColor:1667690762,panelTextColor:7041664,focusColor:6514417}};function ige(t){return XW[t]||XW.default}const jht={sm:{fontSize:"--text-2xs",paddingX:"--spacing-xs",paddingY:"--spacing-2xs"},md:{fontSize:"--text-xs",paddingX:"--spacing",paddingY:"--spacing-xs"},lg:{fontSize:"--text-sm",paddingX:"--spacing-sm",paddingY:"--spacing-xs"}},JW={sm:{fontSize:10,paddingX:4,paddingY:2,maxWidth:120,borderRadius:4},md:{fontSize:12,paddingX:8,paddingY:4,maxWidth:150,borderRadius:4},lg:{fontSize:14,paddingX:8,paddingY:4,maxWidth:200,borderRadius:4}};function Qht(t){const e=jht[t],n=JW[t]||JW.md;return e?{fontSize:nn(Qt(e.fontSize),n.fontSize),paddingX:nn(Qt(e.paddingX),n.paddingX),paddingY:nn(Qt(e.paddingY),n.paddingY),maxWidth:n.maxWidth,borderRadius:n.borderRadius}:n}const ZW={default:{backgroundColor:3621201,textColor:16777215,arrowColor:3621201},primary:{backgroundColor:3900150,textColor:16777215,arrowColor:3900150},secondary:{backgroundColor:6514417,textColor:16777215,arrowColor:6514417},tertiary:{backgroundColor:15485081,textColor:16777215,arrowColor:15485081},error:{backgroundColor:15680580,textColor:16777215,arrowColor:15680580},filled:{backgroundColor:16382715,textColor:3621201,arrowColor:16382715}};function Uht(t){return ZW[t]||ZW.default}const Hht={sm:{fontSize:"--text-sm"},md:{fontSize:"--text-base"},lg:{fontSize:"--text-lg"}},eq={sm:{fontSize:14,maxWidth:200,borderRadius:8,padding:12},md:{fontSize:16,maxWidth:250,borderRadius:12,padding:16},lg:{fontSize:18,maxWidth:320,borderRadius:16,padding:20}};function Vht(t){const e=Hht[t],n=eq[t]||eq.md;return e?{fontSize:nn(Qt(e.fontSize),n.fontSize),maxWidth:n.maxWidth,borderRadius:n.borderRadius,padding:n.padding}:n}const tq={default:{backgroundColor:15987958,borderColor:13292508,textColor:3621201,arrowFillColor:15987958,arrowStrokeColor:13292508,shadowColor:38},primary:{backgroundColor:15987958,borderColor:3900150,textColor:3621201,arrowFillColor:15987958,arrowStrokeColor:3900150,shadowColor:38},secondary:{backgroundColor:15987958,borderColor:6514417,textColor:3621201,arrowFillColor:15987958,arrowStrokeColor:6514417,shadowColor:38},tertiary:{backgroundColor:15987958,borderColor:15485081,textColor:3621201,arrowFillColor:15987958,arrowStrokeColor:15485081,shadowColor:38},error:{backgroundColor:15987958,borderColor:15680580,textColor:3621201,arrowFillColor:15987958,arrowStrokeColor:15680580,shadowColor:38},filled:{backgroundColor:16382715,borderColor:0,textColor:3621201,arrowFillColor:16382715,arrowStrokeColor:0,shadowColor:38}};function Ght(t){return tq[t]||tq.default}const Kht={sm:{fontSize:"--text-sm",titleFontSize:"--text-lg",padding:"--spacing-md"},md:{fontSize:"--text-base",titleFontSize:"--text-xl",padding:"--spacing-lg"},lg:{fontSize:"--text-lg",titleFontSize:"--text-2xl",padding:"--spacing-xl"}},nq={sm:{fontSize:14,titleFontSize:18,padding:12,borderRadius:12,minWidth:280},md:{fontSize:16,titleFontSize:20,padding:16,borderRadius:16,minWidth:320},lg:{fontSize:18,titleFontSize:24,padding:24,borderRadius:20,minWidth:400}};function Wht(t){const e=Kht[t],n=nq[t]||nq.md;return e?{fontSize:nn(Qt(e.fontSize),n.fontSize),titleFontSize:nn(Qt(e.titleFontSize),n.titleFontSize),padding:nn(Qt(e.padding),n.padding),borderRadius:n.borderRadius,minWidth:n.minWidth}:n}const rq={default:{backgroundColor:15987958,borderColor:0,titleColor:3621201,textColor:3621201,backdropColor:128},primary:{backgroundColor:15987958,borderColor:3900150,titleColor:3900150,textColor:3621201,backdropColor:128},secondary:{backgroundColor:15987958,borderColor:6514417,titleColor:6514417,textColor:3621201,backdropColor:128},tertiary:{backgroundColor:15987958,borderColor:15485081,titleColor:15485081,textColor:3621201,backdropColor:128},error:{backgroundColor:15987958,borderColor:15680580,titleColor:15680580,textColor:3621201,backdropColor:128},filled:{backgroundColor:16382715,borderColor:0,titleColor:3621201,textColor:3621201,backdropColor:128}};function qht(t){return rq[t]||rq.default}const Yht={sm:{size:"--text-sm"},md:{size:"--text-lg"},lg:{size:"--text-2xl"}},iq={sm:{width:14,height:14,borderRadius:4,borderWidth:1},md:{width:18,height:18,borderRadius:6,borderWidth:1},lg:{width:24,height:24,borderRadius:8,borderWidth:2}};function Xht(t){const e=Yht[t],n=iq[t]||iq.md;if(!e)return n;const r=nn(Qt(e.size),n.width);return{width:r,height:r,borderRadius:n.borderRadius,borderWidth:n.borderWidth}}const sq={default:{borderColor:13292508,checkerColor:15067115,selectedBorderColor:3900150},primary:{borderColor:3900150,checkerColor:15067115,selectedBorderColor:3900150},secondary:{borderColor:6514417,checkerColor:15067115,selectedBorderColor:6514417},tertiary:{borderColor:15485081,checkerColor:15067115,selectedBorderColor:15485081},error:{borderColor:15680580,checkerColor:15067115,selectedBorderColor:15680580}};function Jht(t){return sq[t]||sq.default}const oq={sm:{trackWidth:160,trackHeight:20,thumbSize:16,thumbBorderWidth:2,borderRadius:10},md:{trackWidth:192,trackHeight:28,thumbSize:20,thumbBorderWidth:2,borderRadius:14},lg:{trackWidth:240,trackHeight:36,thumbSize:24,thumbBorderWidth:3,borderRadius:18}};function Zht(t){return oq[t]||oq.md}const aq={default:{thumbBorderColor:16777215,thumbInnerBorderColor:51,focusRingColor:3900150},primary:{thumbBorderColor:16777215,thumbInnerBorderColor:998438451,focusRingColor:3900150},secondary:{thumbBorderColor:16777215,thumbInnerBorderColor:1667690803,focusRingColor:6514417},tertiary:{thumbBorderColor:16777215,thumbInnerBorderColor:3964180787,focusRingColor:15485081},error:{thumbBorderColor:16777215,thumbInnerBorderColor:4014228531,focusRingColor:15680580}};function eft(t){return aq[t]||aq.default}const tft={sm:{fontSize:"--text-sm",height:"--spacing-xl",padding:"--spacing-xs"},md:{fontSize:"--text-base",height:"--spacing-2xl",padding:"--spacing-sm"},lg:{fontSize:"--text-lg",height:"--spacing-3xl",padding:"--spacing-md"}},lq={sm:{fontSize:14,height:32,padding:4,gap:2,borderRadius:6,segmentPadding:2},md:{fontSize:16,height:40,padding:8,gap:4,borderRadius:8,segmentPadding:4},lg:{fontSize:18,height:48,padding:12,gap:6,borderRadius:10,segmentPadding:6}};function nft(t){const e=tft[t],n=lq[t]||lq.md;return e?{fontSize:nn(Qt(e.fontSize),n.fontSize),height:nn(Qt(e.height),n.height),padding:nn(Qt(e.padding),n.padding),gap:n.gap,borderRadius:n.borderRadius,segmentPadding:n.segmentPadding}:n}const uq={default:{backgroundColor:16777215,borderColor:13292508,textColor:3621201,placeholderColor:10265519,focusBorderColor:3900150,segmentSelectedBg:3900150,segmentSelectedText:16777215},primary:{backgroundColor:16777215,borderColor:3900150,textColor:3621201,placeholderColor:10265519,focusBorderColor:3900150,segmentSelectedBg:3900150,segmentSelectedText:16777215},secondary:{backgroundColor:16777215,borderColor:6514417,textColor:3621201,placeholderColor:10265519,focusBorderColor:6514417,segmentSelectedBg:6514417,segmentSelectedText:16777215},tertiary:{backgroundColor:16777215,borderColor:15485081,textColor:3621201,placeholderColor:10265519,focusBorderColor:15485081,segmentSelectedBg:15485081,segmentSelectedText:16777215},error:{backgroundColor:16777215,borderColor:15680580,textColor:3621201,placeholderColor:10265519,focusBorderColor:15680580,segmentSelectedBg:15680580,segmentSelectedText:16777215},filled:{backgroundColor:15987958,borderColor:0,textColor:3621201,placeholderColor:10265519,focusBorderColor:3900150,segmentSelectedBg:3900150,segmentSelectedText:16777215}};function rft(t){return uq[t]||uq.default}const ift={sm:{fontSize:"--text-sm",height:"--spacing-xl",padding:"--spacing-xs"},md:{fontSize:"--text-base",height:"--spacing-2xl",padding:"--spacing-sm"},lg:{fontSize:"--text-lg",height:"--spacing-3xl",padding:"--spacing-md"}},cq={sm:{fontSize:14,height:32,padding:4,gap:2,borderRadius:6,segmentPadding:2},md:{fontSize:16,height:40,padding:8,gap:4,borderRadius:8,segmentPadding:4},lg:{fontSize:18,height:48,padding:12,gap:6,borderRadius:10,segmentPadding:6}};function sft(t){const e=ift[t],n=cq[t]||cq.md;return e?{fontSize:nn(Qt(e.fontSize),n.fontSize),height:nn(Qt(e.height),n.height),padding:nn(Qt(e.padding),n.padding),gap:n.gap,borderRadius:n.borderRadius,segmentPadding:n.segmentPadding}:n}const dq={default:{backgroundColor:16777215,borderColor:13292508,textColor:3621201,placeholderColor:10265519,focusBorderColor:3900150,segmentSelectedBg:3900150,segmentSelectedText:16777215},primary:{backgroundColor:16777215,borderColor:3900150,textColor:3621201,placeholderColor:10265519,focusBorderColor:3900150,segmentSelectedBg:3900150,segmentSelectedText:16777215},secondary:{backgroundColor:16777215,borderColor:6514417,textColor:3621201,placeholderColor:10265519,focusBorderColor:6514417,segmentSelectedBg:6514417,segmentSelectedText:16777215},tertiary:{backgroundColor:16777215,borderColor:15485081,textColor:3621201,placeholderColor:10265519,focusBorderColor:15485081,segmentSelectedBg:15485081,segmentSelectedText:16777215},error:{backgroundColor:16777215,borderColor:15680580,textColor:3621201,placeholderColor:10265519,focusBorderColor:15680580,segmentSelectedBg:15680580,segmentSelectedText:16777215},filled:{backgroundColor:15987958,borderColor:0,textColor:3621201,placeholderColor:10265519,focusBorderColor:3900150,segmentSelectedBg:3900150,segmentSelectedText:16777215}};function oft(t){return dq[t]||dq.default}const hq={sm:{width:144,height:144,thumbSize:16,thumbBorderWidth:2,borderRadius:8},md:{width:192,height:192,thumbSize:20,thumbBorderWidth:2,borderRadius:10},lg:{width:256,height:256,thumbSize:24,thumbBorderWidth:3,borderRadius:12}};function aft(t){return hq[t]||hq.md}const fq={default:{borderColor:13292508,thumbBorderColor:16777215,thumbInnerBorderColor:51,focusRingColor:3900150},primary:{borderColor:3900150,thumbBorderColor:16777215,thumbInnerBorderColor:998438451,focusRingColor:3900150},secondary:{borderColor:6514417,thumbBorderColor:16777215,thumbInnerBorderColor:1667690803,focusRingColor:6514417},tertiary:{borderColor:15485081,thumbBorderColor:16777215,thumbInnerBorderColor:3964180787,focusRingColor:15485081},error:{borderColor:15680580,thumbBorderColor:16777215,thumbInnerBorderColor:4014228531,focusRingColor:15680580}};function lft(t){return fq[t]||fq.default}const uft={sm:{fontSize:"--text-sm",headerFontSize:"--text-base"},md:{fontSize:"--text-base",headerFontSize:"--text-lg"},lg:{fontSize:"--text-lg",headerFontSize:"--text-xl"}},pq={sm:{fontSize:14,headerFontSize:16,cellSize:28,padding:8,gap:2,borderRadius:8,buttonSize:24},md:{fontSize:16,headerFontSize:18,cellSize:36,padding:12,gap:4,borderRadius:10,buttonSize:28},lg:{fontSize:18,headerFontSize:20,cellSize:44,padding:16,gap:6,borderRadius:12,buttonSize:32}};function c7(t){const e=uft[t],n=pq[t]||pq.md;return e?{fontSize:nn(Qt(e.fontSize),n.fontSize),headerFontSize:nn(Qt(e.headerFontSize),n.headerFontSize),cellSize:n.cellSize,padding:n.padding,gap:n.gap,borderRadius:n.borderRadius,buttonSize:n.buttonSize}:n}const gq={default:{backgroundColor:16777215,borderColor:13292508,headerColor:3621201,textColor:3621201,weekdayColor:7041664,disabledColor:13751771,todayBorderColor:3900150,selectedBgColor:3900150,selectedTextColor:16777215,hoverBgColor:15987958,outsideMonthColor:10265519},primary:{backgroundColor:16777215,borderColor:3900150,headerColor:3900150,textColor:3621201,weekdayColor:7041664,disabledColor:13751771,todayBorderColor:3900150,selectedBgColor:3900150,selectedTextColor:16777215,hoverBgColor:15726335,outsideMonthColor:10265519},secondary:{backgroundColor:16777215,borderColor:6514417,headerColor:6514417,textColor:3621201,weekdayColor:7041664,disabledColor:13751771,todayBorderColor:6514417,selectedBgColor:6514417,selectedTextColor:16777215,hoverBgColor:15659775,outsideMonthColor:10265519},tertiary:{backgroundColor:16777215,borderColor:15485081,headerColor:15485081,textColor:3621201,weekdayColor:7041664,disabledColor:13751771,todayBorderColor:15485081,selectedBgColor:15485081,selectedTextColor:16777215,hoverBgColor:16642808,outsideMonthColor:10265519},error:{backgroundColor:16777215,borderColor:15680580,headerColor:15680580,textColor:3621201,weekdayColor:7041664,disabledColor:13751771,todayBorderColor:15680580,selectedBgColor:15680580,selectedTextColor:16777215,hoverBgColor:16708338,outsideMonthColor:10265519},filled:{backgroundColor:16382715,borderColor:0,headerColor:3621201,textColor:3621201,weekdayColor:7041664,disabledColor:13751771,todayBorderColor:3900150,selectedBgColor:3900150,selectedTextColor:16777215,hoverBgColor:15987958,outsideMonthColor:10265519}};function d7(t){return gq[t]||gq.default}const mq={sm:{outerRadius:72,innerRadius:56,thumbSize:16,thumbBorderWidth:2},md:{outerRadius:96,innerRadius:72,thumbSize:20,thumbBorderWidth:2},lg:{outerRadius:128,innerRadius:96,thumbSize:24,thumbBorderWidth:3}};function cft(t){return mq[t]||mq.md}const Aq={default:{thumbBorderColor:16777215,thumbInnerBorderColor:51,focusRingColor:3900150},primary:{thumbBorderColor:16777215,thumbInnerBorderColor:998438451,focusRingColor:3900150},secondary:{thumbBorderColor:16777215,thumbInnerBorderColor:1667690803,focusRingColor:6514417},tertiary:{thumbBorderColor:16777215,thumbInnerBorderColor:3964180787,focusRingColor:15485081},error:{thumbBorderColor:16777215,thumbInnerBorderColor:4014228531,focusRingColor:15680580}};function dft(t){return Aq[t]||Aq.default}const hft={sm:{fontSize:"--text-sm"},md:{fontSize:"--text-base"},lg:{fontSize:"--text-lg"}},yq={sm:{fieldHeight:32,fieldPadding:8,fieldFontSize:14,fieldBorderRadius:6,buttonSize:28,calendarWidth:260,calendarCellSize:28,gap:8},md:{fieldHeight:40,fieldPadding:12,fieldFontSize:16,fieldBorderRadius:8,buttonSize:32,calendarWidth:300,calendarCellSize:36,gap:12},lg:{fieldHeight:48,fieldPadding:16,fieldFontSize:18,fieldBorderRadius:10,buttonSize:40,calendarWidth:360,calendarCellSize:44,gap:16}};function fft(t){const e=hft[t],n=yq[t]||yq.md;return e?{...n,fieldFontSize:nn(Qt(e.fontSize),n.fieldFontSize)}:n}const vq={default:{fieldBackgroundColor:16777215,fieldBorderColor:13292508,fieldTextColor:3621201,fieldPlaceholderColor:10265519,buttonBackgroundColor:15987958,buttonIconColor:3621201,focusBorderColor:3900150,popoverBackgroundColor:16777215,popoverBorderColor:13292508},primary:{fieldBackgroundColor:16777215,fieldBorderColor:3900150,fieldTextColor:3621201,fieldPlaceholderColor:10265519,buttonBackgroundColor:15726335,buttonIconColor:3900150,focusBorderColor:3900150,popoverBackgroundColor:16777215,popoverBorderColor:3900150},secondary:{fieldBackgroundColor:16777215,fieldBorderColor:6514417,fieldTextColor:3621201,fieldPlaceholderColor:10265519,buttonBackgroundColor:15659775,buttonIconColor:6514417,focusBorderColor:6514417,popoverBackgroundColor:16777215,popoverBorderColor:6514417},tertiary:{fieldBackgroundColor:16777215,fieldBorderColor:15485081,fieldTextColor:3621201,fieldPlaceholderColor:10265519,buttonBackgroundColor:16642808,buttonIconColor:15485081,focusBorderColor:15485081,popoverBackgroundColor:16777215,popoverBorderColor:15485081},error:{fieldBackgroundColor:16777215,fieldBorderColor:15680580,fieldTextColor:3621201,fieldPlaceholderColor:10265519,buttonBackgroundColor:16708338,buttonIconColor:15680580,focusBorderColor:15680580,popoverBackgroundColor:16777215,popoverBorderColor:15680580},filled:{fieldBackgroundColor:15987958,fieldBorderColor:0,fieldTextColor:3621201,fieldPlaceholderColor:10265519,buttonBackgroundColor:15067115,buttonIconColor:3621201,focusBorderColor:3900150,popoverBackgroundColor:16777215,popoverBorderColor:13292508}};function pft(t){return vq[t]||vq.default}const bq={sm:{areaSize:144,sliderWidth:144,sliderHeight:20,swatchSize:20,thumbSize:16,padding:8,gap:8,borderRadius:8},md:{areaSize:192,sliderWidth:192,sliderHeight:28,swatchSize:24,thumbSize:20,padding:12,gap:12,borderRadius:10},lg:{areaSize:256,sliderWidth:256,sliderHeight:36,swatchSize:32,thumbSize:24,padding:16,gap:16,borderRadius:12}};function gft(t){return bq[t]||bq.md}const xq={default:{backgroundColor:16777215,borderColor:13292508,thumbBorderColor:16777215,thumbInnerBorderColor:51,focusRingColor:3900150,labelColor:3621201},primary:{backgroundColor:16777215,borderColor:3900150,thumbBorderColor:16777215,thumbInnerBorderColor:998438451,focusRingColor:3900150,labelColor:3621201},secondary:{backgroundColor:16777215,borderColor:6514417,thumbBorderColor:16777215,thumbInnerBorderColor:1667690803,focusRingColor:6514417,labelColor:3621201},tertiary:{backgroundColor:16777215,borderColor:15485081,thumbBorderColor:16777215,thumbInnerBorderColor:3964180787,focusRingColor:15485081,labelColor:3621201},error:{backgroundColor:16777215,borderColor:15680580,thumbBorderColor:16777215,thumbInnerBorderColor:4014228531,focusRingColor:15680580,labelColor:3621201}};function mft(t){return xq[t]||xq.default}const Aft={sm:{fontSize:"--text-sm"},md:{fontSize:"--text-base"},lg:{fontSize:"--text-lg"}},Cq={sm:{fieldHeight:32,fieldPadding:8,fieldFontSize:14,fieldBorderRadius:6,buttonSize:28,calendarWidth:520,calendarCellSize:28,gap:8,separatorWidth:16},md:{fieldHeight:40,fieldPadding:12,fieldFontSize:16,fieldBorderRadius:8,buttonSize:32,calendarWidth:600,calendarCellSize:36,gap:12,separatorWidth:24},lg:{fieldHeight:48,fieldPadding:16,fieldFontSize:18,fieldBorderRadius:10,buttonSize:40,calendarWidth:720,calendarCellSize:44,gap:16,separatorWidth:32}};function yft(t){const e=Aft[t],n=Cq[t]||Cq.md;return e?{...n,fieldFontSize:nn(Qt(e.fontSize),n.fieldFontSize)}:n}const Eq={default:{fieldBackgroundColor:16777215,fieldBorderColor:13292508,fieldTextColor:3621201,fieldPlaceholderColor:10265519,buttonBackgroundColor:15987958,buttonIconColor:3621201,focusBorderColor:3900150,popoverBackgroundColor:16777215,popoverBorderColor:13292508,rangeBgColor:15726335,rangeTextColor:3621201,separatorColor:10265519},primary:{fieldBackgroundColor:16777215,fieldBorderColor:3900150,fieldTextColor:3621201,fieldPlaceholderColor:10265519,buttonBackgroundColor:15726335,buttonIconColor:3900150,focusBorderColor:3900150,popoverBackgroundColor:16777215,popoverBorderColor:3900150,rangeBgColor:15726335,rangeTextColor:3621201,separatorColor:3900150},secondary:{fieldBackgroundColor:16777215,fieldBorderColor:6514417,fieldTextColor:3621201,fieldPlaceholderColor:10265519,buttonBackgroundColor:15659775,buttonIconColor:6514417,focusBorderColor:6514417,popoverBackgroundColor:16777215,popoverBorderColor:6514417,rangeBgColor:15659775,rangeTextColor:3621201,separatorColor:6514417},tertiary:{fieldBackgroundColor:16777215,fieldBorderColor:15485081,fieldTextColor:3621201,fieldPlaceholderColor:10265519,buttonBackgroundColor:16642808,buttonIconColor:15485081,focusBorderColor:15485081,popoverBackgroundColor:16777215,popoverBorderColor:15485081,rangeBgColor:16642808,rangeTextColor:3621201,separatorColor:15485081},error:{fieldBackgroundColor:16777215,fieldBorderColor:15680580,fieldTextColor:3621201,fieldPlaceholderColor:10265519,buttonBackgroundColor:16708338,buttonIconColor:15680580,focusBorderColor:15680580,popoverBackgroundColor:16777215,popoverBorderColor:15680580,rangeBgColor:16708338,rangeTextColor:3621201,separatorColor:15680580},filled:{fieldBackgroundColor:15987958,fieldBorderColor:0,fieldTextColor:3621201,fieldPlaceholderColor:10265519,buttonBackgroundColor:15067115,buttonIconColor:3621201,focusBorderColor:3900150,popoverBackgroundColor:16777215,popoverBorderColor:13292508,rangeBgColor:15726335,rangeTextColor:3621201,separatorColor:10265519}};function vft(t){return Eq[t]||Eq.default}const Sq={sm:{fontSize:12,height:32,padding:6,paddingX:10,borderRadius:6,labelFontSize:12,descriptionFontSize:11,gap:4},md:{fontSize:14,height:40,padding:8,paddingX:12,borderRadius:8,labelFontSize:14,descriptionFontSize:12,gap:6},lg:{fontSize:16,height:48,padding:10,paddingX:14,borderRadius:10,labelFontSize:16,descriptionFontSize:14,gap:8}};function h7(t){const e=Sq[t]||Sq.md;try{const n=document.createElement("div");n.className=`react-aria-TextField ${t}`,n.style.position="absolute",n.style.visibility="hidden",n.style.pointerEvents="none";const r=document.createElement("label");r.className="react-aria-Label",n.appendChild(r);const i=document.createElement("input");i.className="react-aria-Input",n.appendChild(i);const s=document.createElement("div");s.slot="description",n.appendChild(s),document.body.appendChild(n);const o=getComputedStyle(n),a=getComputedStyle(r),l=getComputedStyle(i),u=getComputedStyle(s),c=parseFloat(l.fontSize)||e.fontSize,d=parseFloat(a.fontSize)||e.labelFontSize,f=parseFloat(u.fontSize)||e.descriptionFontSize,p=parseFloat(l.paddingTop)||e.padding,m=parseFloat(l.paddingLeft)||e.paddingX,v=parseFloat(l.borderRadius)||e.borderRadius,y=parseFloat(o.gap)||e.gap,A=parseFloat(l.lineHeight)||c*1.5,C=p*2+A;return document.body.removeChild(n),{fontSize:c,height:Math.round(C),padding:Math.round(p),paddingX:Math.round(m),borderRadius:Math.round(v),labelFontSize:d,descriptionFontSize:f,gap:Math.round(y)}}catch{return e}}const nT={default:{backgroundColor:16777215,borderColor:13292508,textColor:3621201,placeholderColor:10265519,labelColor:3621201,descriptionColor:7041664,focusBorderColor:3900150,errorBorderColor:15680580,errorTextColor:15680580,disabledBackgroundColor:15987958,disabledTextColor:10265519},primary:{backgroundColor:16777215,borderColor:3900150,textColor:3621201,placeholderColor:10265519,labelColor:3900150,descriptionColor:7041664,focusBorderColor:2450411,errorBorderColor:15680580,errorTextColor:15680580,disabledBackgroundColor:15987958,disabledTextColor:10265519},secondary:{backgroundColor:16777215,borderColor:6514417,textColor:3621201,placeholderColor:10265519,labelColor:6514417,descriptionColor:7041664,focusBorderColor:5195493,errorBorderColor:15680580,errorTextColor:15680580,disabledBackgroundColor:15987958,disabledTextColor:10265519},filled:{backgroundColor:15987958,borderColor:0,textColor:3621201,placeholderColor:10265519,labelColor:3621201,descriptionColor:7041664,focusBorderColor:3900150,errorBorderColor:15680580,errorTextColor:15680580,disabledBackgroundColor:15067115,disabledTextColor:10265519}};function sge(t){const e=nT[t]||nT.default;try{const n=document.createElement("div");n.className=`react-aria-TextField ${t}`,n.style.position="absolute",n.style.visibility="hidden",n.style.pointerEvents="none";const r=document.createElement("label");r.className="react-aria-Label",n.appendChild(r);const i=document.createElement("input");i.className="react-aria-Input",n.appendChild(i);const s=document.createElement("div");s.slot="description",n.appendChild(s);const o=document.createElement("div");o.className="react-aria-FieldError",n.appendChild(o),document.body.appendChild(n);const a=getComputedStyle(r),l=getComputedStyle(i),u=getComputedStyle(s),c=getComputedStyle(o),d=ls(l.backgroundColor,e.backgroundColor),f=ls(l.borderColor,e.borderColor),p=ls(l.color,e.textColor),m=ls(a.color,e.labelColor),v=ls(u.color,e.descriptionColor),y=ls(c.color,e.errorTextColor),A=ls(Qt("--primary")||Qt("--tf-accent"),e.focusBorderColor),C=ls(Qt("--error"),e.errorBorderColor),E=ls(Qt("--on-surface-variant"),e.placeholderColor),I=sE(d,4),D=sE(p,38);return document.body.removeChild(n),{backgroundColor:d,borderColor:f,textColor:p,placeholderColor:E,labelColor:m,descriptionColor:v,focusBorderColor:A,errorBorderColor:C,errorTextColor:y,disabledBackgroundColor:I,disabledTextColor:D}}catch{return e}}const wq={sm:{trackWidth:36,trackHeight:20,thumbSize:16,thumbOffset:2,borderRadius:10,labelFontSize:12,gap:8},md:{trackWidth:44,trackHeight:24,thumbSize:20,thumbOffset:2,borderRadius:12,labelFontSize:14,gap:10},lg:{trackWidth:52,trackHeight:28,thumbSize:24,thumbOffset:2,borderRadius:14,labelFontSize:16,gap:12}};function oge(t){return wq[t]||wq.md}const _q={default:{trackColor:15067115,trackSelectedColor:3900150,thumbColor:16777215,thumbBorderColor:13292508,labelColor:3621201,focusRingColor:3900150,disabledTrackColor:15987958,disabledThumbColor:15067115},primary:{trackColor:15067115,trackSelectedColor:3900150,thumbColor:16777215,thumbBorderColor:13292508,labelColor:3621201,focusRingColor:3900150,disabledTrackColor:15987958,disabledThumbColor:15067115},secondary:{trackColor:15067115,trackSelectedColor:6514417,thumbColor:16777215,thumbBorderColor:13292508,labelColor:3621201,focusRingColor:6514417,disabledTrackColor:15987958,disabledThumbColor:15067115},tertiary:{trackColor:15067115,trackSelectedColor:15485081,thumbColor:16777215,thumbBorderColor:13292508,labelColor:3621201,focusRingColor:15485081,disabledTrackColor:15987958,disabledThumbColor:15067115},error:{trackColor:15067115,trackSelectedColor:15680580,thumbColor:16777215,thumbBorderColor:13292508,labelColor:3621201,focusRingColor:15680580,disabledTrackColor:15987958,disabledThumbColor:15067115}};function bft(t){return _q[t]||_q.default}const Iq={sm:{fontSize:12,minHeight:64,padding:8,paddingX:10,borderRadius:6,labelFontSize:12,descriptionFontSize:11,gap:4,lineHeight:1.4},md:{fontSize:14,minHeight:80,padding:10,paddingX:12,borderRadius:8,labelFontSize:14,descriptionFontSize:12,gap:6,lineHeight:1.5},lg:{fontSize:16,minHeight:96,padding:12,paddingX:14,borderRadius:10,labelFontSize:16,descriptionFontSize:14,gap:8,lineHeight:1.6}};function xft(t){return Iq[t]||Iq.md}function Cft(t){return nT[t]||nT.default}const Bq={sm:{padding:12,gap:12,borderRadius:8,labelFontSize:12,sectionGap:16},md:{padding:16,gap:16,borderRadius:10,labelFontSize:14,sectionGap:24},lg:{padding:20,gap:20,borderRadius:12,labelFontSize:16,sectionGap:32}};function Eft(t){return Bq[t]||Bq.md}const Dq={default:{backgroundColor:16777215,borderColor:13292508,labelColor:3621201,separatorColor:15067115},primary:{backgroundColor:16777215,borderColor:3900150,labelColor:3900150,separatorColor:15726335},secondary:{backgroundColor:16777215,borderColor:6514417,labelColor:6514417,separatorColor:15659775},filled:{backgroundColor:16382715,borderColor:0,labelColor:3621201,separatorColor:15067115}};function Sft(t){return Dq[t]||Dq.default}const Tq={sm:{height:36,padding:6,gap:4,borderRadius:6,separatorWidth:1,separatorHeight:20},md:{height:44,padding:8,gap:6,borderRadius:8,separatorWidth:1,separatorHeight:24},lg:{height:52,padding:10,gap:8,borderRadius:10,separatorWidth:1,separatorHeight:28}};function wft(t){return Tq[t]||Tq.md}const Mq={default:{backgroundColor:16777215,borderColor:13292508,separatorColor:15067115,iconColor:3621201,hoverBackgroundColor:15987958},primary:{backgroundColor:15726335,borderColor:3900150,separatorColor:12573694,iconColor:3900150,hoverBackgroundColor:14412542},secondary:{backgroundColor:15659775,borderColor:6514417,separatorColor:13095678,iconColor:6514417,hoverBackgroundColor:14739455},filled:{backgroundColor:15987958,borderColor:0,separatorColor:15067115,iconColor:3621201,hoverBackgroundColor:15067115}};function _ft(t){return Mq[t]||Mq.default}const kq={sm:{fontSize:12,height:32,padding:6,paddingX:12,borderRadius:6,iconSize:14,gap:6},md:{fontSize:14,height:40,padding:8,paddingX:16,borderRadius:8,iconSize:16,gap:8},lg:{fontSize:16,height:48,padding:10,paddingX:20,borderRadius:10,iconSize:18,gap:10}};function Ift(t){return kq[t]||kq.md}const Pq={default:{backgroundColor:16777215,borderColor:13292508,textColor:3621201,iconColor:7041664,hoverBackgroundColor:15987958,focusRingColor:3900150},primary:{backgroundColor:3900150,borderColor:3900150,textColor:16777215,iconColor:16777215,hoverBackgroundColor:2450411,focusRingColor:3900150},secondary:{backgroundColor:6514417,borderColor:6514417,textColor:16777215,iconColor:16777215,hoverBackgroundColor:5195493,focusRingColor:6514417},surface:{backgroundColor:15987958,borderColor:0,textColor:3621201,iconColor:7041664,hoverBackgroundColor:15067115,focusRingColor:3900150}};function Bft(t){return Pq[t]||Pq.default}const Rq={sm:{minHeight:80,padding:16,borderRadius:8,borderWidth:2,iconSize:24,fontSize:12,labelFontSize:14,gap:8},md:{minHeight:120,padding:24,borderRadius:10,borderWidth:2,iconSize:32,fontSize:14,labelFontSize:16,gap:12},lg:{minHeight:160,padding:32,borderRadius:12,borderWidth:2,iconSize:40,fontSize:16,labelFontSize:18,gap:16}};function Dft(t){return Rq[t]||Rq.md}const Nq={default:{backgroundColor:16448250,borderColor:13292508,textColor:7041664,labelColor:3621201,iconColor:10265519,hoverBackgroundColor:15987958,hoverBorderColor:10265519,dropTargetBackgroundColor:15726335,dropTargetBorderColor:3900150},primary:{backgroundColor:15726335,borderColor:9684477,textColor:3900150,labelColor:1920728,iconColor:6333946,hoverBackgroundColor:14412542,hoverBorderColor:3900150,dropTargetBackgroundColor:14412542,dropTargetBorderColor:2450411},secondary:{backgroundColor:15659775,borderColor:10859772,textColor:6514417,labelColor:4405450,iconColor:8490232,hoverBackgroundColor:14739455,hoverBorderColor:6514417,dropTargetBackgroundColor:14739455,dropTargetBorderColor:5195493}};function Tft(t){return Nq[t]||Nq.default}const Lq={sm:{height:16,borderRadius:4,avatarSize:32,lineHeight:12,lineGap:8},md:{height:20,borderRadius:6,avatarSize:40,lineHeight:16,lineGap:10},lg:{height:24,borderRadius:8,avatarSize:48,lineHeight:20,lineGap:12}};function Mft(t){return Lq[t]||Lq.md}const Fq={default:{baseColor:15067115,shimmerColor:15987958,borderRadius:6},primary:{baseColor:14412542,shimmerColor:15726335,borderRadius:6},secondary:{baseColor:14739455,shimmerColor:15659775,borderRadius:6}};function kft(t){return Fq[t]||Fq.default}const $q={sm:{fontSize:12,padding:8,paddingX:12,borderRadius:6,iconSize:16,gap:8,maxWidth:320,dismissButtonSize:20},md:{fontSize:14,padding:10,paddingX:14,borderRadius:8,iconSize:18,gap:10,maxWidth:400,dismissButtonSize:24},lg:{fontSize:16,padding:12,paddingX:16,borderRadius:10,iconSize:20,gap:12,maxWidth:480,dismissButtonSize:28}};function Pft(t){return $q[t]||$q.md}const zq={info:{backgroundColor:16777215,borderColor:3900150,textColor:3621201,accentColor:3900150,iconColor:3900150,dismissButtonColor:7041664,shadowColor:0},success:{backgroundColor:16777215,borderColor:2278750,textColor:3621201,accentColor:2278750,iconColor:2278750,dismissButtonColor:7041664,shadowColor:0},warning:{backgroundColor:16777215,borderColor:15381256,textColor:3621201,accentColor:15381256,iconColor:15381256,dismissButtonColor:7041664,shadowColor:0},error:{backgroundColor:16777215,borderColor:15680580,textColor:3621201,accentColor:15680580,iconColor:15680580,dismissButtonColor:7041664,shadowColor:0}};function Rft(t){return zq[t]||zq.info}const Oq={sm:{fontSize:12,buttonSize:28,padding:4,gap:4,borderRadius:4},md:{fontSize:14,buttonSize:32,padding:6,gap:6,borderRadius:6},lg:{fontSize:16,buttonSize:40,padding:8,gap:8,borderRadius:8}};function Nft(t){return Oq[t]||Oq.md}const jq={default:{backgroundColor:15987958,textColor:3621201,currentBackgroundColor:3900150,currentTextColor:16777215,hoverBackgroundColor:15067115,disabledTextColor:10265519,borderColor:13292508,ellipsisColor:7041664},primary:{backgroundColor:15726335,textColor:3621201,currentBackgroundColor:3900150,currentTextColor:16777215,hoverBackgroundColor:14412542,disabledTextColor:10265519,borderColor:9684477,ellipsisColor:3900150},secondary:{backgroundColor:15659775,textColor:3621201,currentBackgroundColor:6514417,currentTextColor:16777215,hoverBackgroundColor:14739455,disabledTextColor:10265519,borderColor:10859772,ellipsisColor:6514417}};function Lft(t){return jq[t]||jq.default}const Qq={sm:{fontSize:12,height:28,padding:6,borderRadius:4,maxWidth:100,labelFontSize:11,gap:4},md:{fontSize:14,height:32,padding:8,borderRadius:6,maxWidth:120,labelFontSize:12,gap:6},lg:{fontSize:16,height:40,padding:10,borderRadius:8,maxWidth:140,labelFontSize:14,gap:8}};function Fft(t){return Qq[t]||Qq.md}const Uq={default:{backgroundColor:16777215,borderColor:13292508,textColor:3621201,labelColor:3621201,focusBorderColor:3900150,errorBorderColor:15680580,disabledBackgroundColor:15987958},primary:{backgroundColor:16777215,borderColor:3900150,textColor:3621201,labelColor:3900150,focusBorderColor:2450411,errorBorderColor:15680580,disabledBackgroundColor:15987958},secondary:{backgroundColor:16777215,borderColor:6514417,textColor:3621201,labelColor:6514417,focusBorderColor:5195493,errorBorderColor:15680580,disabledBackgroundColor:15987958},filled:{backgroundColor:15987958,borderColor:0,textColor:3621201,labelColor:3621201,focusBorderColor:3900150,errorBorderColor:15680580,disabledBackgroundColor:15067115}};function $ft(t){return Uq[t]||Uq.default}const Hq={sm:{swatchSize:24,gap:6,borderRadius:4,selectionBorderWidth:2},md:{swatchSize:32,gap:8,borderRadius:4,selectionBorderWidth:2},lg:{swatchSize:40,gap:10,borderRadius:6,selectionBorderWidth:3}};function zft(t){return Hq[t]||Hq.md}const Vq={default:{selectionOuterColor:0,selectionInnerColor:16777215,focusRingColor:3900150,disabledOpacity:.2},primary:{selectionOuterColor:3900150,selectionInnerColor:16777215,focusRingColor:3900150,disabledOpacity:.2},secondary:{selectionOuterColor:6514417,selectionInnerColor:16777215,focusRingColor:6514417,disabledOpacity:.2}};function Oft(t){return Vq[t]||Vq.default}const Gq={sm:{padding:8,gap:6,borderRadius:4,labelFontSize:10,labelPadding:4},md:{padding:12,gap:8,borderRadius:6,labelFontSize:12,labelPadding:6},lg:{padding:16,gap:10,borderRadius:8,labelFontSize:14,labelPadding:8}};function jft(t){return Gq[t]||Gq.md}const Kq={default:{borderColor:13292508,hoverBorderColor:998438528,focusBorderColor:3900150,labelBackgroundColor:16777215,labelTextColor:7041664,disabledOpacity:.5},primary:{borderColor:9684477,hoverBorderColor:3900150,focusBorderColor:2450411,labelBackgroundColor:16777215,labelTextColor:3900150,disabledOpacity:.5},secondary:{borderColor:10859772,hoverBorderColor:6514417,focusBorderColor:5195493,labelBackgroundColor:16777215,labelTextColor:6514417,disabledOpacity:.5}};function Qft(t){return Kq[t]||Kq.default}const Wq={sm:{minHeight:60,padding:12,borderWidth:2,borderRadius:6,iconSize:32,labelFontSize:12,descriptionFontSize:10,gap:8},md:{minHeight:80,padding:16,borderWidth:2,borderRadius:8,iconSize:48,labelFontSize:14,descriptionFontSize:12,gap:10},lg:{minHeight:100,padding:20,borderWidth:2,borderRadius:10,iconSize:56,labelFontSize:16,descriptionFontSize:14,gap:12}};function Uft(t){return Wq[t]||Wq.md}const qq={default:{backgroundColor:16448250,borderColor:13292508,emptyBorderColor:10265519,textColor:7041664,iconBackgroundColor:15067115,iconColor:10265519,hoverBorderColor:3900150,selectedBorderColor:3900150,requiredBorderColor:15381256,requiredBadgeBackgroundColor:16708551,requiredBadgeTextColor:11817737},primary:{backgroundColor:15726335,borderColor:9684477,emptyBorderColor:6333946,textColor:3900150,iconBackgroundColor:14412542,iconColor:6333946,hoverBorderColor:3900150,selectedBorderColor:2450411,requiredBorderColor:15381256,requiredBadgeBackgroundColor:16708551,requiredBadgeTextColor:11817737},secondary:{backgroundColor:15659775,borderColor:10859772,emptyBorderColor:8490232,textColor:6514417,iconBackgroundColor:14739455,iconColor:8490232,hoverBorderColor:6514417,selectedBorderColor:5195493,requiredBorderColor:15381256,requiredBadgeBackgroundColor:16708551,requiredBadgeTextColor:11817737}};function Hft(t){return qq[t]||qq.default}class Vft{frameCount=0;lastTime=0;frameTimes=[];rafId=null;config;constructor(e={}){this.config={sampleInterval:e.sampleInterval??1e3,sampleCount:e.sampleCount??60,autoUpdate:e.autoUpdate??!0}}start(){this.rafId===null&&(this.lastTime=performance.now(),this.frameCount=0,this.frameTimes=[],this.config.autoUpdate&&this.tick())}stop(){this.rafId!==null&&(cancelAnimationFrame(this.rafId),this.rafId=null)}tick=()=>{const e=performance.now(),n=e-this.lastTime;this.frameCount++,this.frameTimes.push(n),this.frameTimes.length>this.config.sampleCount&&this.frameTimes.shift(),(this.frameCount>=60||n>=this.config.sampleInterval)&&(this.updateMetrics(),this.frameCount=0),this.lastTime=e,this.rafId=requestAnimationFrame(this.tick)};updateMetrics(){const e=this.frameTimes.length>0?this.frameTimes.reduce((r,i)=>r+i,0)/this.frameTimes.length:16.67,n=1e3/e;ns.getState().updateGPUMetrics({lastFrameTime:e,averageFps:Math.min(60,Math.round(n))})}markFrame(){const e=performance.now(),n=e-this.lastTime;this.frameCount++,this.frameTimes.push(n),this.frameTimes.length>this.config.sampleCount&&this.frameTimes.shift(),this.lastTime=e}getFPS(){if(this.frameTimes.length===0)return 60;const e=this.frameTimes.reduce((n,r)=>n+r,0)/this.frameTimes.length;return Math.min(60,Math.round(1e3/e))}getFrameTime(){return this.frameTimes.length===0?16.67:this.frameTimes[this.frameTimes.length-1]}getAverageFrameTime(){return this.frameTimes.length===0?16.67:this.frameTimes.reduce((e,n)=>e+n,0)/this.frameTimes.length}}new Vft;const Yq=x.memo(function({element:e,onClick:n}){pn(fn);const r=e.props?.style,i=x.useMemo(()=>l7(r),[r]),{transform:s,fill:o,borderRadius:a}=i,l=x.useMemo(()=>SM(r),[r]),u=x.useMemo(()=>{const A=e.props,C=A?.children||A?.text||A?.label;return C?String(C):""},[e.props]),c=x.useMemo(()=>new Sn({fontFamily:r?.fontFamily||"Pretendard, sans-serif",fontSize:typeof r?.fontSize=="number"?r.fontSize:14,fontWeight:r?.fontWeight||"normal",fill:$r(r?.color,0),align:"center"}),[r]),d=x.useMemo(()=>tC(r),[r]),f=x.useCallback(A=>{vs(A,{width:s.width,height:s.height,backgroundColor:o.color,backgroundAlpha:o.alpha,borderRadius:typeof a=="number"?a:a?.[0]??0,border:l})},[s.width,s.height,o.color,o.alpha,a,l]),p=x.useCallback(A=>{const C=A,E=C?.metaKey??C?.nativeEvent?.metaKey??!1,I=C?.shiftKey??C?.nativeEvent?.shiftKey??!1,D=C?.ctrlKey??C?.nativeEvent?.ctrlKey??!1;n?.(e.id,{metaKey:E,shiftKey:I,ctrlKey:D})},[e.id,n]),m=x.useMemo(()=>Zpe(s.width,s.height,d),[s.width,s.height,d]),v=m.x+m.width/2,y=m.y+m.height/2;return h.jsxs("pixiContainer",{x:s.x,y:s.y,children:[h.jsx("pixiGraphics",{draw:f,eventMode:"static",cursor:"pointer",onPointerDown:p}),u&&h.jsx("pixiText",{text:u,style:c,x:v,y,anchor:.5})]})});function Gft(t){if(!t||t==="none")return{underline:!1,lineThrough:!1,overline:!1};const e=t.toLowerCase();return{underline:e.includes("underline"),lineThrough:e.includes("line-through"),overline:e.includes("overline")}}const Kft=x.memo(function({element:e,onClick:n,onDoubleClick:r}){pn(fn);const i=e.props?.style,s=x.useMemo(()=>l7(i),[i]),{transform:o,fill:a,text:l,borderRadius:u}=s,c=x.useMemo(()=>SM(i),[i]),d=x.useMemo(()=>{const P=e.props,k=String(P?.children||P?.text||P?.label||e.tag);return ydt(k,i?.textTransform)},[e.props,e.tag,i?.textTransform]),f=x.useMemo(()=>Gft(i?.textDecoration),[i?.textDecoration]),p=f.underline||f.lineThrough||f.overline,m=x.useRef(null),v=x.useMemo(()=>new Sn({fontFamily:l.fontFamily,fontSize:l.fontSize,fontWeight:l.fontWeight,fontStyle:l.fontStyle,fill:l.fill,align:l.align,letterSpacing:l.letterSpacing,leading:l.leading,wordWrap:l.wordWrap,wordWrapWidth:l.wordWrapWidth||o.width}),[l,o.width]),y=x.useCallback(P=>{if(P.clear(),!p||!m.current)return;const k=m.current.getBounds(),L=k.width,$=k.height,z=l.fontSize,j=l.fill,H=Math.max(1,Math.floor(z/12));if(P.setStrokeStyle({width:H,color:j,alpha:1}),f.underline){const W=$*.85;P.moveTo(0,W),P.lineTo(L,W),P.stroke()}if(f.lineThrough){const W=$*.45;P.moveTo(0,W),P.lineTo(L,W),P.stroke()}if(f.overline){const W=H;P.moveTo(0,W),P.lineTo(L,W),P.stroke()}},[p,l.fontSize,l.fill,f]),A=typeof u=="number"?u:u?.[0]??0,C=x.useCallback(P=>{if((!i?.backgroundColor||i.backgroundColor==="transparent")&&!c&&!A){P.clear();return}vs(P,{width:o.width,height:o.height,backgroundColor:a.color,backgroundAlpha:a.alpha,borderRadius:A,border:c})},[i,o,a,A,c]),E=x.useCallback(P=>{const k=P,L=k?.metaKey??k?.nativeEvent?.metaKey??!1,$=k?.shiftKey??k?.nativeEvent?.shiftKey??!1,z=k?.ctrlKey??k?.nativeEvent?.ctrlKey??!1;n?.(e.id,{metaKey:L,shiftKey:$,ctrlKey:z})},[e.id,n]),I=x.useRef(0),D=x.useCallback(P=>{const k=Date.now(),L=!!r&&k-I.current<300;I.current=k,E(P),L&&r?.(e.id)},[e.id,E,r]),T=x.useMemo(()=>tC(i),[i]),M=x.useCallback(P=>{m.current=P},[]);return h.jsxs("pixiContainer",{x:o.x,y:o.y,children:[h.jsx("pixiGraphics",{draw:C,eventMode:"static",cursor:"text",onPointerDown:D}),h.jsx("pixiText",{ref:M,text:d,style:v,x:T.left,y:T.top}),p&&h.jsx("pixiGraphics",{draw:y,x:T.left,y:T.top})]})}),Wft=15067115,qft=x.memo(function({element:e,onClick:n}){pn(fn);const r=e.props?.style,i=x.useMemo(()=>l7(r),[r]),{transform:s,borderRadius:o}=i,a=x.useMemo(()=>SM(r),[r]),l=typeof o=="number"?o:o?.[0]??0,u=x.useMemo(()=>tC(r),[r]),c=x.useMemo(()=>Zpe(s.width,s.height,u),[s.width,s.height,u]),d=x.useMemo(()=>{const T=e.props;return String(T?.src||T?.source||"")},[e.props]),[f,p]=x.useState(null),[m,v]=x.useState(null);x.useEffect(()=>{if(!d)return;let T=!1,M=null;return u_.load(d).then(P=>{if(T){P&&!P.destroyed&&P.destroy(!0);return}M=P,p({src:d,texture:P}),v(null)}).catch(P=>{T||(console.warn(`[ImageSprite] Failed to load: ${d}`,P),v(d),p(null))}),()=>{T=!0,M&&!M.destroyed&&(M.destroy(!1),M=null)}},[d]);const y=f?.src===d?f.texture:null,A=m===d,C=!!d&&!y&&!A,E=x.useCallback(T=>{vs(T,{width:s.width,height:s.height,backgroundColor:Wft,backgroundAlpha:1,borderRadius:l,border:a});const M=Math.min(c.width,c.height)*.3,P=c.x+(c.width-M)/2,k=c.y+(c.height-M)/2;A?(T.setStrokeStyle({width:3,color:15680580}),T.moveTo(P,k),T.lineTo(P+M,k+M),T.moveTo(P+M,k),T.lineTo(P,k+M),T.stroke()):(T.moveTo(P,k+M),T.lineTo(P+M*.3,k+M*.5),T.lineTo(P+M*.5,k+M*.7),T.lineTo(P+M*.7,k+M*.3),T.lineTo(P+M,k+M),T.closePath(),T.fill({color:10265519,alpha:1}),T.circle(P+M*.7,k+M*.25,M*.1),T.fill({color:10265519,alpha:1}))},[s.width,s.height,l,a,A,c]),I=x.useCallback(T=>{T.clear()},[]),D=x.useCallback(T=>{const M=T,P=M?.metaKey??M?.nativeEvent?.metaKey??!1,k=M?.shiftKey??M?.nativeEvent?.shiftKey??!1,L=M?.ctrlKey??M?.nativeEvent?.ctrlKey??!1;n?.(e.id,{metaKey:P,shiftKey:k,ctrlKey:L})},[e.id,n]);return h.jsxs("pixiContainer",{x:s.x,y:s.y,children:[y&&!A?h.jsxs(h.Fragment,{children:[h.jsx("pixiSprite",{texture:y,x:c.x,y:c.y,width:c.width,height:c.height,eventMode:"static",cursor:"pointer",onPointerDown:D}),h.jsx("pixiGraphics",{draw:I})]}):h.jsx("pixiGraphics",{draw:E,eventMode:"static",cursor:"pointer",onPointerDown:D}),C&&h.jsx("pixiGraphics",{draw:T=>{T.clear();const M=Math.min(c.width,c.height)*.2,P=c.x+c.width/2,k=c.y+c.height/2;T.circle(P,k,M),T.fill({color:3900150,alpha:.3})}})]})});function f7(){const[t,e]=x.useState(()=>uW()),n=x.useCallback(()=>{e(uW())},[]);return x.useEffect(()=>{const r=new MutationObserver(o=>{for(const a of o)if(a.type==="attributes"&&(a.attributeName==="data-theme"||a.attributeName==="data-builder-theme"||a.attributeName==="class")){requestAnimationFrame(()=>{n()});break}});r.observe(document.documentElement,{attributes:!0,attributeFilter:["data-theme","data-builder-theme","class"]}),r.observe(document.body,{attributes:!0,attributeFilter:["data-theme","data-builder-theme","class"]});const i=window.matchMedia("(prefers-color-scheme: dark)"),s=()=>{requestAnimationFrame(()=>{n()})};return i.addEventListener("change",s),()=>{r.disconnect(),i.removeEventListener("change",s)}},[n]),t}const Yft=32,Xft=24,Jft={fontSize:14,paddingX:12,paddingY:4,borderRadius:4};function Zft(t,e,n,r){const i=e.size||"sm",s=!!e.isDisabled,o=!!e.isLoading,a=nge(i)||Jft,l=mt(t?.fontSize,void 0,a.fontSize),u=t?.fontFamily||"Pretendard, sans-serif",c=mt(t?.paddingTop,void 0,a.paddingY),d=mt(t?.paddingRight,void 0,a.paddingX),f=mt(t?.paddingBottom,void 0,a.paddingY),p=mt(t?.paddingLeft,void 0,a.paddingX),m=mt(t?.borderRadius,void 0,a.borderRadius),v=t?.backgroundColor!==void 0,y=t?.color!==void 0,A=v?$r(t?.backgroundColor,r.bg):r.bg,C=r.bgAlpha!==void 0?r.bgAlpha:1,E=y?$r(t?.color,r.text):r.text;let I,D;v?(I=Math.min(A+1381653,16777215),D=Math.max(A-1381653,0)):(I=r.bgHover,D=r.bgPressed);const T=r.border??null,M=new Sn({fontSize:l,fontFamily:u}),P=ds.measureText(n,M),k=P.width,L=P.height,$=p+k+d,z=c+L+f,j=mt(t?.width,void 0,0),H=mt(t?.height,void 0,0),W=!t?.width||t?.width==="auto"||j<$,O=!t?.height||t?.height==="auto"||H<z;let G,q;return W?(G=$,G=Math.max(G,Yft)):G=j,O?(q=z,q=Math.max(q,Xft)):q=H,{left:mt(t?.left,void 0,0),top:mt(t?.top,void 0,0),width:G,height:q,backgroundColor:A,backgroundAlpha:C,hoverColor:I,pressedColor:D,textColor:E,borderColor:T,borderRadius:m,fontSize:l,fontFamily:u,isDisabled:s,isLoading:o}}function AN(t,e,n,r,i){const s=new Qi,o=i?.alpha??1,a=i?.borderColor,l=i?.borderWidth;return vs(s,{width:t,height:e,backgroundColor:n,backgroundAlpha:o,borderRadius:r,border:a!=null?{width:l,color:a,alpha:1,style:"solid",radius:r}:null}),s}function ept(t,e,n){const r=new Qi;return vs(r,{width:t,height:e,backgroundColor:16777215,backgroundAlpha:.5,borderRadius:n}),r}function tpt(t,e){const n=new Qi,r=3,i=8,s=t/2,o=e/2;for(let a=-1;a<=1;a++)n.circle(s+a*i,o,r);return n.fill({color:16777215,alpha:.8}),n}const npt=x.memo(function({element:e,onClick:n}){pn(fn);const r=e.props?.style,i=e.props,s=f7(),o=x.useMemo(()=>{const y=i?.variant||"default";return eF(y,s)},[i?.variant,s]),a=x.useMemo(()=>i?.isLoading?"":String(i?.children||i?.text||i?.label||"Button"),[i?.children,i?.text,i?.label,i?.isLoading]),l=x.useMemo(()=>Zft(r,i||{},a||"Button",o),[r,i,a,o]),u=x.useRef(null),c=x.useRef(null),d=x.useRef(null),f=x.useRef(null);x.useEffect(()=>{const y=u.current;if(!y)return;c.current&&(y.removeChild(c.current),c.current.destroy(),c.current=null),d.current&&(y.removeChild(d.current),d.current.destroy(),d.current=null),f.current&&(y.removeChild(f.current),f.current.destroy(),f.current=null);const A={alpha:l.backgroundAlpha,borderColor:l.borderColor,borderWidth:1},C=AN(l.width,l.height,l.backgroundColor,l.borderRadius,A),E=AN(l.width,l.height,l.hoverColor,l.borderRadius,A),I=AN(l.width,l.height,l.pressedColor,l.borderRadius,A),D=new Sn({fill:l.textColor,fontSize:l.fontSize,fontFamily:l.fontFamily,align:"center"}),T=new Cd({text:a,style:D}),M=new kx({defaultView:C,hoverView:E,pressedView:I,text:l.isLoading?void 0:T,anchor:.5,padding:0});if(M.x=l.width/2,M.y=l.height/2,M.eventMode="none",y.addChild(M),c.current=M,l.isDisabled||l.isLoading){const P=ept(l.width,l.height,l.borderRadius);y.addChild(P),d.current=P}if(l.isLoading){const P=tpt(l.width,l.height);y.addChild(P),f.current=P}return()=>{if(c.current){try{y.children.includes(c.current)&&y.removeChild(c.current),c.current.destroyed||c.current.destroy({children:!0})}catch{}c.current=null}if(d.current){try{y.children.includes(d.current)&&y.removeChild(d.current),d.current.destroyed||d.current.destroy(!0)}catch{}d.current=null}if(f.current){try{y.children.includes(f.current)&&y.removeChild(f.current),f.current.destroyed||f.current.destroy(!0)}catch{}f.current=null}}},[l,a]);const p=x.useCallback(y=>{y.clear(),y.rect(0,0,l.width,l.height),y.fill({color:16777215,alpha:0})},[l.width,l.height]),m=x.useCallback(y=>{if(l.isDisabled||l.isLoading)return;const A=y,C=A?.metaKey??A?.nativeEvent?.metaKey??!1,E=A?.shiftKey??A?.nativeEvent?.shiftKey??!1,I=A?.ctrlKey??A?.nativeEvent?.ctrlKey??!1;n?.(e.id,{metaKey:C,shiftKey:E,ctrlKey:I})},[e.id,n,l.isDisabled,l.isLoading]),v=l.isDisabled||l.isLoading?"not-allowed":"pointer";return h.jsx("pixiContainer",{x:l.left,y:l.top,ref:y=>{u.current=y},children:h.jsx("pixiGraphics",{draw:p,eventMode:"static",cursor:v,onPointerDown:m})})});function rpt(t){const e=(()=>{const r=t?.backgroundColor;return r?typeof r=="number"?r:typeof r=="string"&&r.startsWith("#")?parseInt(r.slice(1),16):3900150:3900150})(),n=(()=>{const r=t?.color;return r?typeof r=="number"?r:typeof r=="string"&&r.startsWith("#")?parseInt(r.slice(1),16):16777215:16777215})();return{x:mt(t?.left,void 0,0),y:mt(t?.top,void 0,0),width:mt(t?.width,void 0,120),height:mt(t?.height,void 0,40),backgroundColor:e,hoverColor:Xq(e,.9),pressedColor:Xq(e,.8),disabledColor:13421772,textColor:n,fontSize:mt(t?.fontSize,void 0,14),fontFamily:t?.fontFamily||"Pretendard, sans-serif",borderRadius:mt(t?.borderRadius,void 0,8),paddingLeft:mt(t?.paddingLeft||t?.padding,void 0,16),paddingRight:mt(t?.paddingRight||t?.padding,void 0,16),paddingTop:mt(t?.paddingTop||t?.padding,void 0,8),paddingBottom:mt(t?.paddingBottom||t?.padding,void 0,8)}}function Xq(t,e){const n=Math.floor((t>>16&255)*e),r=Math.floor((t>>8&255)*e),i=Math.floor((t&255)*e);return n<<16|r<<8|i}function aB(t,e,n,r){const i=new Qi;return i.roundRect(0,0,t,e,r),i.fill({color:n,alpha:1}),i}const ipt=x.memo(function({element:e,onClick:n}){pn(fn);const{app:r}=dm(),i=x.useRef(null),s=x.useRef(null),o=e.props?.style,a=e.props,l=x.useMemo(()=>rpt(o),[o]),u=x.useMemo(()=>String(a?.children||a?.text||a?.label||"FancyButton"),[a?.children,a?.text,a?.label]),c=x.useMemo(()=>!!a?.disabled,[a?.disabled]),d=x.useCallback(()=>{c||n?.(e.id)},[e.id,n,c]);return x.useEffect(()=>{if(!r?.stage)return;const f=new xr;f.x=l.x,f.y=l.y;const p=new Sn({fontSize:l.fontSize,fontFamily:l.fontFamily,fill:l.textColor}),m=aB(l.width,l.height,l.backgroundColor,l.borderRadius),v=aB(l.width,l.height,l.hoverColor,l.borderRadius),y=aB(l.width,l.height,l.pressedColor,l.borderRadius),A=aB(l.width,l.height,l.disabledColor,l.borderRadius),C=new Cd({text:u,style:p}),E=new kx({defaultView:m,hoverView:v,pressedView:y,disabledView:A,text:C,padding:l.paddingTop});return E.width=l.width,E.height=l.height,E.enabled=!c,E.onPress.connect(d),f.addChild(E),r.stage.addChild(f),i.current=f,s.current=E,()=>{try{E.onPress.disconnectAll()}catch{}try{r.stage.removeChild(f)}catch{}try{m.destroy(!0),v.destroy(!0),y.destroy(!0),A.destroy(!0),C.destroy(!0)}catch{}try{E.destroyed||E.destroy({children:!0}),f.destroyed||f.destroy({children:!0})}catch{}i.current=null,s.current=null}},[r,l,u,d,c]),null}),spt=4,opt=3900150,apt=13751771,lpt=3621201,upt=x.memo(function({element:e,onChange:n,onClick:r}){pn(fn);const i=e.props?.style,s=e.props,o=x.useMemo(()=>!!(s?.isSelected||s?.checked||s?.defaultSelected),[s]),a=x.useMemo(()=>String(s?.children||s?.label||s?.text||""),[s]),l=x.useMemo(()=>{const $=s?.size?String(s.size):"md";return Ndt($)},[s]),u=l.boxSize,c=mt(i?.borderRadius,void 0,spt),d=$r(i?.backgroundColor,opt),f=o?d:apt,p=o?d:16777215,m=$r(i?.color,lpt),v=mt(i?.fontSize,void 0,l.fontSize),y=mt(i?.left,void 0,0),A=mt(i?.top,void 0,0),C=x.useCallback($=>{if(vs($,{width:u,height:u,backgroundColor:p,backgroundAlpha:1,borderRadius:c,border:{width:2,color:f,alpha:1,style:"solid",radius:c}}),o){const z=u*.2,j=z,H=u*.5,W=u*.4,O=u-z,G=u-z,q=z;$.setStrokeStyle({width:2.5,color:16777215,cap:"round",join:"round"}),$.moveTo(j,H),$.lineTo(W,O),$.lineTo(G,q),$.stroke()}},[u,c,p,f,o]),E=x.useMemo(()=>new Sn({fontFamily:i?.fontFamily||"Pretendard, sans-serif",fontSize:v,fill:m}),[i,v,m]),I=x.useCallback(()=>{r?.(e.id),n?.(e.id,!o)},[e.id,r,n,o]),D=a?Math.max(a.length*v*.6,50):0,T=u+(a?8+D:0),M=Math.max(u,v+4),P=(M-u)/2,k=(M-v)/2,L=x.useCallback($=>{$.clear(),$.rect(0,0,T,M),$.fill({color:16777215,alpha:0})},[T,M]);return h.jsxs("pixiContainer",{x:y,y:A,children:[h.jsx("pixiGraphics",{draw:L,eventMode:"static",cursor:"pointer",onPointerDown:I}),h.jsx("pixiGraphics",{draw:C,y:P,eventMode:"none"}),a&&h.jsx("pixiText",{text:a,style:E,x:u+8,y:k,eventMode:"none"})]})}),cpt=20,dpt=4,hpt=3900150,fpt=13751771,ppt=3621201,Jq=12,gpt=8,mpt=[{value:"option1",label:"Option 1",checked:!1},{value:"option2",label:"Option 2",checked:!1}];function Apt(t){return t&&Array.isArray(t.options)&&t.options.length>0?t.options.map((e,n)=>{if(typeof e=="string")return{value:e,label:e,checked:!1};if(typeof e=="object"&&e!==null){const r=e;return{value:String(r.value||r.id||n),label:String(r.label||r.name||r.value||""),checked:!!(r.checked||r.isSelected||r.defaultSelected)}}return{value:String(n),label:String(e),checked:!1}}):null}function ypt(t){return t.length===0?null:t.sort((e,n)=>(e.order_num||0)-(n.order_num||0)).map((e,n)=>{const r=e.props;return{value:String(r?.value||r?.id||e.id||n),label:String(r?.children||r?.label||r?.text||`Option ${n+1}`),checked:!!(r?.isSelected||r?.checked||r?.defaultSelected)}})}const vpt=x.memo(function({option:e,isOptionChecked:n,x:r,y:i,checkboxSize:s,borderRadius:o,primaryColor:a,textColor:l,fontSize:u,fontFamily:c,onToggle:d}){const f=n?a:fpt,p=n?a:16777215,m=x.useCallback(A=>{if(A.clear(),vs(A,{width:s,height:s,backgroundColor:p,backgroundAlpha:1,borderRadius:o,border:{width:2,color:f,alpha:1,style:"solid",radius:o}}),n){const C=s*.2,E=C,I=s*.5,D=s*.4,T=s-C,M=s-C,P=C;A.setStrokeStyle({width:2.5,color:16777215,cap:"round",join:"round"}),A.moveTo(E,I),A.lineTo(D,T),A.lineTo(M,P),A.stroke()}},[s,o,p,f,n]),v=x.useMemo(()=>new Sn({fontFamily:c,fontSize:u,fill:l}),[c,u,l]),y=x.useCallback(()=>{d(e.value)},[e.value,d]);return h.jsxs("pixiContainer",{x:r,y:i,children:[h.jsx("pixiGraphics",{draw:m,eventMode:"static",cursor:"pointer",onPointerDown:y}),h.jsx("pixiText",{text:e.label,style:v,x:s+gpt,y:(s-u)/2,eventMode:"static",cursor:"pointer",onPointerDown:y})]})}),bpt=x.memo(function({element:e,onChange:n,onClick:r}){pn(fn);const i=e.props?.style,s=e.props,o=Pe(z=>z.elements),a=x.useMemo(()=>o.filter(z=>z.parent_id===e.id&&(z.tag==="Checkbox"||z.tag==="CheckBox")),[o,e.id]),l=x.useMemo(()=>{const z=ypt(a);if(z)return z;const j=Apt(s);return j||mpt},[a,s]),u=x.useMemo(()=>{const z=s?.value||s?.selectedValues||s?.defaultValue;if(Array.isArray(z)&&z.length>0)return z.map(String);const j=a.filter(H=>{const W=H.props;return!!(W?.isSelected||W?.checked||W?.defaultSelected)}).map(H=>{const W=H.props;return String(W?.value||H.id)});return j.length>0?j:l.filter(H=>H.checked).map(H=>H.value)},[s,a,l]),c=x.useMemo(()=>String(s?.label||s?.children||s?.text||""),[s]),d=x.useMemo(()=>{const z=s?.orientation;return z==="horizontal"?!0:z==="vertical"?!1:i?.flexDirection==="row"},[s?.orientation,i]),f=x.useMemo(()=>String(s?.size||"md"),[s?.size]),p=x.useMemo(()=>B4(f),[f]),m=cpt,v=dpt,y=$r(i?.backgroundColor,hpt),A=$r(i?.color,ppt),C=mt(i?.fontSize,void 0,p.fontSize),E=p.fontFamily,I=mt(i?.left,void 0,0),D=mt(i?.top,void 0,0),T=c?p.fontSize+8:0,M=x.useMemo(()=>{const z=l.length,j=120,H=m+Jq;return d?{width:z*j,height:T+m}:{width:j,height:T+z*H}},[l.length,m,T,d]),P=x.useCallback(z=>{z.clear(),z.rect(0,0,M.width,M.height),z.fill({color:16777215,alpha:0})},[M]),k=x.useMemo(()=>new Sn({fontFamily:p.fontFamily,fontSize:p.fontSize,fontWeight:p.fontWeight,fill:p.color}),[p]),L=x.useCallback(()=>{r?.(e.id)},[e.id,r]),$=x.useCallback(z=>{r?.(e.id);const j=u.includes(z)?u.filter(H=>H!==z):[...u,z];n?.(e.id,j)},[e.id,r,n,u]);return h.jsxs("pixiContainer",{x:I,y:D,children:[c&&h.jsx("pixiText",{text:c,style:k,x:0,y:0,eventMode:"none"}),l.map((z,j)=>{const H=u.includes(z.value),W=d?j*120:0,O=T+(d?0:j*(m+Jq));return h.jsx(vpt,{option:z,isOptionChecked:H,x:W,y:O,checkboxSize:m,borderRadius:v,primaryColor:y,textColor:A,fontSize:C,fontFamily:E,onToggle:$},`${z.value}-${j}`)}),h.jsx("pixiGraphics",{draw:P,eventMode:"static",cursor:"pointer",onPointerDown:L})]})}),xpt=20,Cpt=8,Ept=x.memo(function({element:e,onClick:n}){pn(fn);const r=e.props?.style,i=e.props,s=x.useMemo(()=>String(i?.children||i?.label||i?.text||""),[i]),o=xpt,a=mt(r?.fontSize,void 0,14),l=mt(r?.left,void 0,0),u=mt(r?.top,void 0,0),c=mt(r?.width,void 0,0),d=mt(r?.height,void 0,0),f=s?Math.max(s.length*a*.6,50):0,p=c>0?c:o+(s?Cpt+f:0),m=d>0?d:Math.max(o,a+4),v=x.useCallback(()=>{n?.(e.id)},[e.id,n]),y=x.useCallback(A=>{A.clear(),A.rect(0,0,p,m),A.fill({color:16777215,alpha:0})},[p,m]);return h.jsx("pixiContainer",{x:l,y:u,children:h.jsx("pixiGraphics",{draw:y,eventMode:"static",cursor:"pointer",onPointerDown:v})})}),Spt=3900150,wpt=13751771,_pt=3621201,Ipt=8,Bpt=[{value:"option1",label:"Option 1"},{value:"option2",label:"Option 2"}];function Dpt(t){return t&&Array.isArray(t.options)&&t.options.length>0?t.options.map((e,n)=>{if(typeof e=="string")return{value:e,label:e};if(typeof e=="object"&&e!==null){const r=e;return{value:String(r.value||r.id||n),label:String(r.label||r.name||r.value||"")}}return{value:String(n),label:String(e)}}):null}function Tpt(t){return t.length===0?null:t.sort((e,n)=>(e.order_num||0)-(n.order_num||0)).map((e,n)=>{const r=e.props;return{value:String(r?.value||r?.id||e.id||n),label:String(r?.children||r?.label||r?.text||`Option ${n+1}`)}})}const Mpt=x.memo(function({option:e,isOptionSelected:n,x:r,y:i,radioSize:s,primaryColor:o,textColor:a,fontSize:l,fontFamily:u,onSelect:c}){const d=n?o:wpt,f=n?o:16777215,p=x.useCallback(y=>{y.clear();const A=s/2,C=A,E=A;if(ege(y,{x:C,y:E,radius:A,backgroundColor:f,backgroundAlpha:1,border:{width:2,color:d,alpha:1}}),n){const I=s*.2;y.circle(C,E,I),y.fill({color:16777215,alpha:1})}},[s,f,d,n]),m=x.useMemo(()=>new Sn({fontFamily:u,fontSize:l,fill:a}),[u,l,a]),v=x.useCallback(()=>{c(e.value)},[e.value,c]);return h.jsxs("pixiContainer",{x:r,y:i,children:[h.jsx("pixiGraphics",{draw:p,eventMode:"static",cursor:"pointer",onPointerDown:v}),h.jsx("pixiText",{text:e.label,style:m,x:s+Ipt,y:(s-l)/2,eventMode:"static",cursor:"pointer",onPointerDown:v})]})}),kpt=x.memo(function({element:e,onChange:n,onClick:r}){pn(fn);const i=e.props?.style,s=e.props,o=Pe(j=>j.elements),a=x.useMemo(()=>o.filter(j=>j.parent_id===e.id&&j.tag==="Radio"),[o,e.id]),l=x.useMemo(()=>{const j=Tpt(a);if(j)return j;const H=Dpt(s);return H||Bpt},[a,s]),u=x.useMemo(()=>{if(s?.value||s?.selectedValue||s?.defaultValue)return String(s.value||s.selectedValue||s.defaultValue);const j=a.find(H=>{const W=H.props;return!!(W?.isSelected||W?.checked||W?.defaultSelected)});if(j){const H=j.props;return String(H?.value||j.id)}return""},[s,a]),c=x.useMemo(()=>String(s?.label||s?.children||s?.text||""),[s]),d=x.useMemo(()=>{const j=s?.orientation;return j==="horizontal"?!0:j==="vertical"?!1:i?.flexDirection==="row"},[s?.orientation,i]),f=x.useMemo(()=>String(s?.size||"md"),[s?.size]),p=x.useMemo(()=>u7(f),[f]),m=x.useMemo(()=>B4(f),[f]),v=p.radioSize,y=p.gap,A=$r(i?.backgroundColor,Spt),C=$r(i?.color,_pt),E=mt(i?.fontSize,void 0,m.fontSize),I=m.fontFamily,D=mt(i?.left,void 0,0),T=mt(i?.top,void 0,0),M=c?m.fontSize+8:0,P=x.useMemo(()=>{const j=l.length,H=120,W=v+y;return d?{width:j*H,height:M+v}:{width:H,height:M+j*W}},[l.length,v,y,M,d]),k=x.useCallback(j=>{j.clear(),j.rect(0,0,P.width,P.height),j.fill({color:16777215,alpha:0})},[P]),L=x.useMemo(()=>new Sn({fontFamily:m.fontFamily,fontSize:m.fontSize,fontWeight:m.fontWeight,fill:m.color}),[m]),$=x.useCallback(()=>{r?.(e.id)},[e.id,r]),z=x.useCallback(j=>{r?.(e.id),n?.(e.id,j)},[e.id,r,n]);return h.jsxs("pixiContainer",{x:D,y:T,children:[c&&h.jsx("pixiText",{text:c,style:L,x:0,y:0,eventMode:"none"}),l.map((j,H)=>{const W=j.value===u,O=d?H*120:0,G=M+(d?0:H*(v+y));return h.jsx(Mpt,{option:j,isOptionSelected:W,x:O,y:G,radioSize:v,primaryColor:A,textColor:C,fontSize:E,fontFamily:I,onSelect:z},`${j.value}-${H}`)}),h.jsx("pixiGraphics",{draw:k,eventMode:"static",cursor:"pointer",onPointerDown:$})]})}),Ppt=20,Rpt=8,Npt=x.memo(function({element:e,onClick:n}){pn(fn);const r=e.props?.style,i=e.props,s=x.useMemo(()=>String(i?.children||i?.label||i?.text||""),[i]),o=Ppt,a=mt(r?.fontSize,void 0,14),l=mt(r?.left,void 0,0),u=mt(r?.top,void 0,0),c=mt(r?.width,void 0,0),d=mt(r?.height,void 0,0),f=s?Math.max(s.length*a*.6,50):0,p=c>0?c:o+(s?Rpt+f:0),m=d>0?d:Math.max(o,a+4),v=x.useCallback(()=>{n?.(e.id)},[e.id,n]),y=x.useCallback(A=>{A.clear(),A.rect(0,0,p,m),A.fill({color:16777215,alpha:0})},[p,m]);return h.jsx("pixiContainer",{x:l,y:u,children:h.jsx("pixiGraphics",{draw:y,eventMode:"static",cursor:"pointer",onPointerDown:v})})});function Lpt(t,e){const n=$r(t?.backgroundColor,3900150),r=$r(t?.borderColor,15067115),i=Fdt(e);return{x:mt(t?.left,void 0,0),y:mt(t?.top,void 0,0),width:mt(t?.width,void 0,200),height:mt(t?.height,void 0,i.trackHeight),trackColor:r,fillColor:n,handleColor:n,trackHeight:i.trackWidth,handleSize:i.thumbSize}}function Fpt(t,e,n){const r=new Qi;return vs(r,{width:t,height:e,backgroundColor:n,backgroundAlpha:1,borderRadius:e/2}),r}function $pt(t,e,n){const r=new Qi;return vs(r,{width:t,height:e,backgroundColor:n,backgroundAlpha:1,borderRadius:e/2}),r}function zpt(t,e){const n=new Qi;return ege(n,{x:0,y:0,radius:t/2,backgroundColor:e,backgroundAlpha:1,border:{width:2,color:16777215,alpha:1}}),n}const Opt=x.memo(function({element:e,onClick:n,onChange:r}){pn(fn);const{app:i}=dm(),s=x.useRef(null),o=x.useRef(null),a=e.props?.style,l=e.props,u=x.useMemo(()=>String(l?.size||"md"),[l?.size]),c=x.useMemo(()=>Lpt(a,u),[a,u]),d=x.useMemo(()=>Number(l?.min??0),[l?.min]),f=x.useMemo(()=>Number(l?.max??100),[l?.max]),p=x.useMemo(()=>Number(l?.step??1),[l?.step]),m=x.useMemo(()=>Number(l?.value??50),[l?.value]),v=x.useCallback(A=>{r?.(e.id,A)},[e.id,r]),y=x.useCallback(()=>{n?.(e.id)},[e.id,n]);return x.useEffect(()=>{if(!i?.stage)return;const A=new xr;A.x=c.x,A.y=c.y,A.eventMode="static",A.cursor="pointer",A.on("pointerdown",y);const C=Fpt(c.width,c.trackHeight,c.trackColor),E=$pt(c.width,c.trackHeight,c.fillColor),I=zpt(c.handleSize,c.handleColor),D=new ddt({bg:C,fill:E,slider:I,min:d,max:f,step:p});return D.y=(c.height-c.trackHeight)/2,D.onUpdate.connect(v),A.addChild(D),i.stage.addChild(A),s.current=A,o.current=D,()=>{try{D.onUpdate.disconnectAll(),A.off("pointerdown",y)}catch{}try{i.stage.removeChild(A)}catch{}try{C.destroy(!0),E.destroy(!0),I.destroy(!0)}catch{}try{D.destroyed||D.destroy({children:!0}),A.destroyed||A.destroy({children:!0})}catch{}s.current=null,o.current=null}},[i,c,d,f,p,y,v]),x.useEffect(()=>{o.current&&o.current.value!==m&&(o.current.value=m)},[m]),null}),jpt=x.memo(function({element:e,isSelected:n=!1,onClick:r}){pn(fn);const i=e.props||{},s=i.style,o=i.variant||"default",a=i.size||"md",l=i.label||"",u=i.placeholder||"",c=i.value||i.defaultValue||"",d=i.description||"",f=i.isDisabled||!1,p=i.isInvalid||!1,m=i.errorMessage||"",v=mt(s?.left,void 0,0),y=mt(s?.top,void 0,0),A=x.useMemo(()=>h7(a),[a]),C=x.useMemo(()=>sge(o),[o]),E=x.useMemo(()=>B4(a),[a]),I=x.useMemo(()=>tge(a),[a]),T=x.useMemo(()=>{const de=s?.flexDirection;return de==="row"||de==="row-reverse"?"row":"column"},[s?.flexDirection])==="row",M=mt(s?.width,void 0,240),P=l?E.fontSize+A.gap:0,k=l?l.length*E.fontSize*.6+A.gap:0,L=c||u,$=!c&&u,z=p&&m?m:d,j=T?k+M:M,H=T?A.height+(z?I.fontSize+A.gap:0):P+A.height+(z?I.fontSize+A.gap:0),W=x.useRef(null),O=x.useCallback((de,ge=!1)=>{de.clear();let _e=C.backgroundColor;f?_e=C.disabledBackgroundColor:ge&&(_e=Math.max(0,C.backgroundColor-657930)),de.roundRect(0,0,M,A.height,A.borderRadius),de.fill({color:_e});let we=C.borderColor;p?we=C.errorBorderColor:(n||ge)&&(we=C.focusBorderColor),de.stroke({color:we,width:1}),n&&(de.roundRect(-2,-2,M+4,A.height+4,A.borderRadius+2),de.stroke({color:C.focusBorderColor,width:2}))},[M,A,C,n,f,p]),G=x.useMemo(()=>({fontSize:E.fontSize,fill:E.color,fontFamily:E.fontFamily,fontWeight:E.fontWeight}),[E]),q=x.useMemo(()=>({fontSize:A.fontSize,fill:f?C.disabledTextColor:$?C.placeholderColor:C.textColor,fontFamily:E.fontFamily}),[A,C,f,$,E.fontFamily]),J=x.useMemo(()=>({fontSize:I.fontSize,fill:p?I.errorColor:I.color,fontFamily:I.fontFamily}),[I,p]),te=x.useCallback(()=>{r?.(e.id)},[e.id,r]),Y=x.useCallback(()=>{W.current&&!f&&O(W.current,!0)},[O,f]),Z=x.useCallback(()=>{W.current&&O(W.current,!1)},[O]),ee=x.useCallback(de=>{de.clear(),de.rect(0,0,j,H),de.fill({color:16777215,alpha:0})},[j,H]),ie=x.useMemo(()=>T?{x:0,y:(A.height-E.fontSize)/2}:{x:0,y:0},[T,A.height,E.fontSize]),ue=x.useMemo(()=>T?{x:k,y:0}:{x:0,y:P},[T,k,P]),ae=x.useMemo(()=>T?{x:k,y:A.height+A.gap}:{x:0,y:P+A.height+A.gap},[T,k,P,A]);return h.jsxs("pixiContainer",{x:v,y,children:[l&&h.jsx("pixiText",{text:l,style:G,x:ie.x,y:ie.y}),h.jsxs("pixiContainer",{x:ue.x,y:ue.y,children:[h.jsx("pixiGraphics",{ref:W,draw:de=>O(de,!1)}),h.jsx("pixiText",{text:L,style:q,x:A.paddingX,y:(A.height-A.fontSize)/2})]}),z&&h.jsx("pixiText",{text:z,style:J,x:ae.x,y:ae.y}),h.jsx("pixiGraphics",{draw:ee,eventMode:"static",cursor:f?"not-allowed":"text",onPointerDown:te,onPointerOver:Y,onPointerOut:Z})]})});function Qpt(t,e){const n=Qdt(e),r=n.fontSize+n.paddingY*2+8;return{x:mt(t?.left,void 0,0),y:mt(t?.top,void 0,0),width:mt(t?.width,void 0,200),height:mt(t?.height,void 0,r),backgroundColor:$r(t?.backgroundColor,16777215),borderColor:$r(t?.borderColor,13751771),borderWidth:mt(t?.borderWidth,void 0,1),borderRadius:mt(t?.borderRadius,void 0,n.borderRadius),textColor:$r(t?.color,0),fontSize:mt(t?.fontSize,void 0,n.fontSize),fontFamily:t?.fontFamily||"Pretendard, sans-serif",paddingLeft:mt(t?.paddingLeft||t?.padding,void 0,n.paddingX),paddingRight:mt(t?.paddingRight||t?.padding,void 0,n.paddingX),chevronSize:n.chevronSize}}function Upt(t){return t?Array.isArray(t.options)?t.options.map((e,n)=>{if(typeof e=="string")return{value:e,label:e};if(typeof e=="object"&&e!==null){const r=e;return{value:String(r.value||r.id||n),label:String(r.label||r.name||r.value||"")}}return{value:String(n),label:String(e)}}):[]:[]}function Zq(t,e,n,r,i,s){const o=new Qi;return vs(o,{width:t,height:e,backgroundColor:n,backgroundAlpha:1,borderRadius:s,border:{width:i,color:r,alpha:1,style:"solid",radius:s}}),o}const Hpt=x.memo(function({element:e,onClick:n,onChange:r}){pn(fn);const{app:i}=dm(),s=x.useRef(null),o=x.useRef(null),a=e.props?.style,l=e.props,u=x.useMemo(()=>String(l?.size||"md"),[l?.size]),c=x.useMemo(()=>Qpt(a,u),[a,u]),d=x.useMemo(()=>Upt(l),[l]),f=x.useMemo(()=>String(l?.value||l?.selectedValue||l?.defaultValue||""),[l?.value,l?.selectedValue,l?.defaultValue]),p=x.useCallback((v,y)=>{r?.(e.id,y)},[e.id,r]),m=x.useCallback(()=>{n?.(e.id)},[e.id,n]);return x.useEffect(()=>{if(!i?.stage||d.length===0)return;const v=new xr;v.x=c.x,v.y=c.y,v.eventMode="static",v.cursor="pointer",v.on("pointerdown",m);const y=new Sn({fontSize:c.fontSize,fontFamily:c.fontFamily,fill:c.textColor}),A=new ldt({closedBG:Zq(c.width,c.height,c.backgroundColor,c.borderColor,c.borderWidth,c.borderRadius),openBG:Zq(c.width,c.height*(d.length+1),c.backgroundColor,c.borderColor,c.borderWidth,c.borderRadius),textStyle:y,items:{items:d.map(E=>E.label),backgroundColor:16382715,hoverColor:15067115,width:c.width,height:c.height},scrollBox:{width:c.width,height:c.height*Math.min(d.length,5)}}),C=d.findIndex(E=>E.value===f);return C>=0&&(A.value=C),A.onSelect.connect(p),v.addChild(A),i.stage.addChild(v),s.current=v,o.current=A,()=>{try{A.onSelect.disconnectAll(),v.off("pointerdown",m)}catch{}try{i.stage.removeChild(v)}catch{}try{A.destroyed||A.destroy({children:!0}),v.destroyed||v.destroy({children:!0})}catch{}s.current=null,o.current=null}},[i,c,d,f,m,p]),null});function Vpt(t,e){const n=$r(t?.backgroundColor,3900150),r=$r(t?.borderColor,15067115),i=Odt(e);return{x:mt(t?.left,void 0,0),y:mt(t?.top,void 0,0),width:mt(t?.width,void 0,i.width),height:mt(t?.height,void 0,i.barHeight),backgroundColor:r,fillColor:n,borderColor:r,borderWidth:0,borderRadius:mt(t?.borderRadius,void 0,i.borderRadius)}}function Gpt(t,e,n,r){const i=new Qi;return i.roundRect(0,0,t,e,r),i.fill({color:n,alpha:1}),i}function Kpt(t,e,n,r){const i=new Qi;return i.roundRect(0,0,t,e,r),i.fill({color:n,alpha:1}),i}const Wpt=x.memo(function({element:e,onClick:n}){pn(fn);const{app:r}=dm(),i=x.useRef(null),s=x.useRef(null),o=e.props?.style,a=e.props,l=x.useMemo(()=>String(a?.size||"md"),[a?.size]),u=x.useMemo(()=>Vpt(o,l),[o,l]),c=x.useMemo(()=>{const f=Number(a?.value??a?.progress??50);return Math.max(0,Math.min(100,f))},[a?.value,a?.progress]),d=x.useCallback(()=>{n?.(e.id)},[e.id,n]);return x.useEffect(()=>{if(!r?.stage)return;const f=new xr;f.x=u.x,f.y=u.y,f.eventMode="static",f.cursor="pointer",f.on("pointerdown",d);const p=Gpt(u.width,u.height,u.backgroundColor,u.borderRadius),m=Kpt(u.width,u.height,u.fillColor,u.borderRadius),v=new Xpe({bg:p,fill:m});return v.width=u.width,v.height=u.height,f.addChild(v),r.stage.addChild(f),i.current=f,s.current=v,()=>{try{f.off("pointerdown",d)}catch{}try{r.stage.removeChild(f)}catch{}try{p.destroy(!0),m.destroy(!0)}catch{}try{v.destroyed||v.destroy({children:!0}),f.destroyed||f.destroy({children:!0})}catch{}i.current=null,s.current=null}},[r,u,d]),x.useEffect(()=>{s.current&&(s.current.progress=c)},[c]),null});function qpt(t,e,n){const r=mt(t?.width,void 0,240),i=oge(n),s=i.trackHeight+8;return{x:mt(t?.left,void 0,0),y:mt(t?.top,void 0,0),width:r,height:mt(t?.height,void 0,s),backgroundColor:$r(t?.backgroundColor,15067115),activeColor:$r(t?.borderColor,3900150),textColor:$r(t?.color,7041664),activeTextColor:16777215,fontSize:mt(t?.fontSize,void 0,i.labelFontSize),fontFamily:t?.fontFamily||"Pretendard, sans-serif",borderRadius:mt(t?.borderRadius,void 0,i.trackHeight/2),itemWidth:e>0?r/e:r}}function Ypt(t){return t?Array.isArray(t.items)?t.items.map((e,n)=>{if(typeof e=="string")return{label:e,value:e};if(typeof e=="object"&&e!==null){const r=e;return{label:String(r.label||r.name||`Tab ${n+1}`),value:String(r.value||r.id||n)}}return{label:`Tab ${n+1}`,value:String(n)}}):Array.isArray(t.children)?t.children.map((e,n)=>typeof e=="string"?{label:e,value:e}:{label:`Tab ${n+1}`,value:String(n)}):[{label:"Tab 1"},{label:"Tab 2"}]:[{label:"Tab 1"},{label:"Tab 2"}]}function Xpt(t,e,n,r){const i=new Qi;return i.roundRect(0,0,t,e,r),i.fill({color:n,alpha:1}),i}function Jpt(t,e,n,r,i){const s=new xr,o=new Qi;o.roundRect(2,2,t-4,e-4,i.borderRadius-2),o.fill({color:r?i.activeColor:i.backgroundColor,alpha:r?1:0}),s.addChild(o);const a=new Sn({fontSize:i.fontSize,fontFamily:i.fontFamily,fill:r?i.activeTextColor:i.textColor}),l=new Cd({text:n,style:a});return l.x=(t-l.width)/2,l.y=(e-l.height)/2,s.addChild(l),s}const Zpt=x.memo(function({element:e,onClick:n,onChange:r}){pn(fn);const{app:i}=dm(),s=x.useRef(null),o=x.useRef(null),a=e.props?.style,l=e.props,u=x.useMemo(()=>Ypt(l),[l]),c=x.useMemo(()=>String(l?.size||"md"),[l?.size]),d=x.useMemo(()=>qpt(a,u.length,c),[a,u.length,c]),f=x.useMemo(()=>{const v=Number(l?.activeIndex??l?.value??0);return Math.max(0,Math.min(u.length-1,v))},[l?.activeIndex,l?.value,u.length]),p=x.useCallback(v=>{r?.(e.id,v)},[e.id,r]),m=x.useCallback(()=>{n?.(e.id)},[e.id,n]);return x.useEffect(()=>{if(!i?.stage||u.length===0)return;const v=new xr;v.x=d.x,v.y=d.y,v.eventMode="static",v.cursor="pointer",v.on("pointerdown",m);const y=Xpt(d.width,d.height,d.backgroundColor,d.borderRadius);v.addChild(y);const A=u.map((E,I)=>Jpt(d.itemWidth,d.height,E.label,I===f,d)),C=new Mct(A);return f>=0&&f<u.length&&C.selectView(f),A.forEach((E,I)=>{E.eventMode="static",E.cursor="pointer",E.on("pointerdown",D=>{D.stopPropagation(),C.selectView(I),p(I)})}),A.forEach((E,I)=>{E.x=I*d.itemWidth,v.addChild(E)}),i.stage.addChild(v),s.current=v,o.current=C,()=>{try{v.off("pointerdown",m),A.forEach(E=>{E.off("pointerdown"),E.children.forEach(I=>{"destroy"in I&&typeof I.destroy=="function"&&I.destroy(!0)})})}catch{}try{i.stage.removeChild(v)}catch{}try{y.destroy(!0)}catch{}try{C.destroyed||C.destroy(),v.destroyed||v.destroy({children:!0})}catch{}s.current=null,o.current=null}},[i,d,u,f,m,p]),null});function egt(t){return{x:mt(t?.left,void 0,0),y:mt(t?.top,void 0,0),width:mt(t?.width,void 0,300),height:mt(t?.height,void 0,200),backgroundColor:$r(t?.backgroundColor,16777215),borderColor:$r(t?.borderColor,15067115),borderWidth:mt(t?.borderWidth,void 0,1),borderRadius:mt(t?.borderRadius,void 0,8),scrollbarWidth:8,scrollbarColor:10265519,scrollbarBgColor:15067115}}function tgt(t,e,n,r,i,s){const o=new Qi;return vs(o,{width:t,height:e,backgroundColor:n,backgroundAlpha:1,borderRadius:s,border:i>0?{width:i,color:r,alpha:1,style:"solid",radius:s}:null}),o}function ngt(t,e){const n=new xr,r=new Sn({fontSize:14,fontFamily:"Pretendard, sans-serif",fill:3621201});for(let i=0;i<e;i++){const s=new Qi;s.roundRect(8,i*40+8,t-24,32,4),s.fill({color:i%2===0?15987958:16777215,alpha:1}),n.addChild(s);const o=new Cd({text:`Item ${i+1}`,style:r});o.x=16,o.y=i*40+14,n.addChild(o)}return n}const rgt=x.memo(function({element:e,onClick:n}){pn(fn);const{app:r}=dm(),i=x.useRef(null),s=x.useRef(null),o=e.props?.style,a=e.props,l=x.useMemo(()=>egt(o),[o]),u=x.useMemo(()=>{const d=Number(a?.itemCount??a?.count??10);return Math.max(1,d)},[a?.itemCount,a?.count]),c=x.useCallback(()=>{n?.(e.id)},[e.id,n]);return x.useEffect(()=>{if(!r?.stage)return;const d=new xr;d.x=l.x,d.y=l.y,d.eventMode="static",d.cursor="pointer",d.on("pointerdown",c);const f=tgt(l.width,l.height,l.backgroundColor,l.borderColor,l.borderWidth,l.borderRadius);d.addChild(f);const p=ngt(l.width,u),m=new Ype({width:l.width-l.borderWidth*2,height:l.height-l.borderWidth*2,elementsMargin:0,globalScroll:!1,type:"vertical",radius:l.borderRadius,padding:0});return m.addItem(p),m.x=l.borderWidth,m.y=l.borderWidth,d.addChild(m),r.stage.addChild(d),i.current=d,s.current=m,()=>{try{d.off("pointerdown",c)}catch{}try{r.stage.removeChild(d)}catch{}try{p.children.forEach(v=>{"destroy"in v&&typeof v.destroy=="function"&&v.destroy(!0)})}catch{}try{f.destroy(!0),p.destroyed||p.destroy({children:!0})}catch{}try{m.destroyed||m.destroy({children:!0}),d.destroyed||d.destroy({children:!0})}catch{}i.current=null,s.current=null}},[r,l,u,c]),null});function igt(t){return{x:mt(t?.left,void 0,0),y:mt(t?.top,void 0,0),width:mt(t?.width,void 0,200),height:mt(t?.height,void 0,250),backgroundColor:$r(t?.backgroundColor,16777215),itemBackgroundColor:15987958,itemHoverColor:15067115,textColor:$r(t?.color,3621201),fontSize:mt(t?.fontSize,void 0,14),fontFamily:t?.fontFamily||"Pretendard, sans-serif",borderRadius:mt(t?.borderRadius,void 0,8),itemHeight:40,gap:mt(t?.gap,void 0,4),padding:mt(t?.padding,void 0,8)}}function sgt(t){return t?Array.isArray(t.items)?t.items.map((e,n)=>{if(typeof e=="string")return{label:e,value:e};if(typeof e=="object"&&e!==null){const r=e;return{label:String(r.label||r.name||r.title||`Item ${n+1}`),value:String(r.value||r.id||n)}}return{label:`Item ${n+1}`,value:String(n)}}):[{label:"Item 1",value:"1"},{label:"Item 2",value:"2"},{label:"Item 3",value:"3"},{label:"Item 4",value:"4"},{label:"Item 5",value:"5"}]:[]}function ogt(t,e,n,r){const i=new xr,s=new Qi;vs(s,{width:t,height:e,backgroundColor:r.itemBackgroundColor,backgroundAlpha:1,borderRadius:4}),i.addChild(s);const o=new Sn({fontSize:r.fontSize,fontFamily:r.fontFamily,fill:r.textColor}),a=new Cd({text:n,style:o});return a.x=12,a.y=(e-a.height)/2,i.addChild(a),i.eventMode="static",i.cursor="pointer",i.on("pointerover",()=>{vs(s,{width:t,height:e,backgroundColor:r.itemHoverColor,backgroundAlpha:1,borderRadius:4})}),i.on("pointerout",()=>{vs(s,{width:t,height:e,backgroundColor:r.itemBackgroundColor,backgroundAlpha:1,borderRadius:4})}),i}function agt(t,e,n,r){const i=new Qi;return vs(i,{width:t,height:e,backgroundColor:n,backgroundAlpha:1,borderRadius:r,border:{width:1,color:15067115,alpha:1,style:"solid",radius:r}}),i}const lgt=x.memo(function({element:e,onClick:n,onItemClick:r}){pn(fn);const{app:i}=dm(),s=x.useRef(null),o=x.useRef(null),a=e.props?.style,l=e.props,u=x.useMemo(()=>igt(a),[a]),c=x.useMemo(()=>sgt(l),[l]),d=x.useMemo(()=>{const m=l?.direction||l?.orientation;return m==="horizontal"||m==="row"},[l?.direction,l?.orientation]),f=x.useCallback(()=>{n?.(e.id)},[e.id,n]),p=x.useCallback(m=>{r?.(e.id,m)},[e.id,r]);return x.useEffect(()=>{if(!i?.stage)return;const m=new xr;m.x=u.x,m.y=u.y,m.eventMode="static",m.cursor="pointer",m.on("pointerdown",f);const v=agt(u.width,u.height,u.backgroundColor,u.borderRadius);m.addChild(v);const y=d?(u.width-u.padding*2-u.gap*(c.length-1))/c.length:u.width-u.padding*2,A=u.itemHeight,C=c.map((I,D)=>{const T=ogt(y,A,I.label,u);return T.on("pointerdown",M=>{M.stopPropagation(),p(D)}),T}),E=new qpe({elementsMargin:u.gap,type:d?"horizontal":"vertical",children:C});return E.x=u.padding,E.y=u.padding,m.addChild(E),i.stage.addChild(m),s.current=m,o.current=E,()=>{try{m.off("pointerdown",f)}catch{}try{C.forEach(I=>{I.off("pointerdown"),I.off("pointerover"),I.off("pointerout"),I.children.forEach(D=>{"destroy"in D&&typeof D.destroy=="function"&&D.destroy(!0)})})}catch{}try{i.stage.removeChild(m)}catch{}try{v.destroy(!0)}catch{}try{E.destroyed||E.destroy({children:!0}),m.destroyed||m.destroy({children:!0})}catch{}s.current=null,o.current=null}},[i,u,c,d,f,p]),null});function ugt(t,e){let n="rounded";if(e?.maskShape){const r=String(e.maskShape).toLowerCase();r==="circle"?n="circle":r==="ellipse"?n="ellipse":r==="rectangle"||r==="rect"?n="rectangle":n="rounded"}else(t?.borderRadius==="50%"||t?.borderRadius==="100%")&&(n="circle");return{x:mt(t?.left,void 0,0),y:mt(t?.top,void 0,0),width:mt(t?.width,void 0,100),height:mt(t?.height,void 0,100),borderColor:$r(t?.borderColor,15067115),borderWidth:mt(t?.borderWidth,void 0,0),borderRadius:mt(t?.borderRadius,void 0,8),maskShape:n}}function cgt(t,e,n,r){const i=new Qi;switch(n){case"circle":{const s=Math.min(t,e)/2;i.circle(t/2,e/2,s);break}case"ellipse":{i.ellipse(t/2,e/2,t/2,e/2);break}case"rectangle":{i.rect(0,0,t,e);break}default:{i.roundRect(0,0,t,e,r);break}}return i.fill({color:16777215,alpha:1}),i}function dgt(t,e){const n=new Qi,r=10;for(let i=0;i<t;i+=r)for(let s=0;s<e;s+=r){const o=(i/r+s/r)%2===0;n.rect(i,s,r,r),n.fill({color:o?15987958:15067115,alpha:1})}return n}const hgt=x.memo(function({element:e,onClick:n}){pn(fn);const{app:r}=dm(),i=x.useRef(null),s=x.useRef(null),o=e.props?.style,a=e.props,l=x.useMemo(()=>ugt(o,a),[o,a]),u=x.useMemo(()=>String(a?.src||a?.image||a?.url||""),[a?.src,a?.image,a?.url]),c=x.useCallback(()=>{n?.(e.id)},[e.id,n]);return x.useEffect(()=>{if(!r?.stage)return;const d=new xr;d.x=l.x,d.y=l.y,d.eventMode="static",d.cursor="pointer",d.on("pointerdown",c);const f=cgt(l.width,l.height,l.maskShape,l.borderRadius);let p;if(u){const v=er.from(u);p=new Sf(v),p.width=l.width,p.height=l.height}else p=dgt(l.width,l.height);const m=new idt({target:p,mask:f,borderWidth:l.borderWidth,borderColor:l.borderColor});return d.addChild(m),r.stage.addChild(d),i.current=d,s.current=m,()=>{d.off("pointerdown",c),r.stage.removeChild(d),f.destroy(!0),p instanceof Sf?p.destroy({texture:!1}):p.destroy(!0),m.destroy({children:!0}),d.destroy({children:!0}),i.current=null,s.current=null}},[r,l,u,c]),null}),fgt=32,pgt=24,ggt={fontSize:14,paddingX:12,paddingY:8,borderRadius:6};function mgt(t,e,n,r,i){const s=e.size||"sm",o=!!e.isSelected,a=!!e.isDisabled,l=nge(s)||ggt,u=mt(t?.fontSize,void 0,l.fontSize),c=t?.fontFamily||"Pretendard, sans-serif",d=mt(t?.paddingTop,void 0,l.paddingY),f=mt(t?.paddingRight,void 0,l.paddingX),p=mt(t?.paddingBottom,void 0,l.paddingY),m=mt(t?.paddingLeft,void 0,l.paddingX),v=mt(t?.borderRadius,void 0,l.borderRadius),y=t?.backgroundColor!==void 0,A=t?.color!==void 0,C=y?$r(t?.backgroundColor,r.bg):r.bg,E=A?$r(t?.color,r.text):r.text,I=r.border??13751771;let D,T;y?(D=Math.min(C+1381653,16777215),T=Math.max(C-1381653,0)):(D=r.bgHover,T=r.bgPressed);const M=i.bg,P=i.text,k=i.border??i.bg,L=i.bgHover,$=i.bgPressed,z=new Sn({fontSize:u,fontFamily:c}),j=ds.measureText(n,z),H=j.width,W=j.height,O=m+H+f,G=d+W+p,q=mt(t?.width,void 0,0),J=mt(t?.height,void 0,0),te=!t?.width||t?.width==="auto"||q<O,Y=!t?.height||t?.height==="auto"||J<G;let Z,ee;return te?(Z=O,Z=Math.max(Z,fgt)):Z=q,Y?(ee=G,ee=Math.max(ee,pgt)):ee=J,{left:mt(t?.left,void 0,0),top:mt(t?.top,void 0,0),width:Z,height:ee,backgroundColor:C,hoverColor:D,pressedColor:T,textColor:E,borderColor:I,selectedBackgroundColor:M,selectedHoverColor:L,selectedPressedColor:$,selectedTextColor:P,selectedBorderColor:k,borderRadius:v,fontSize:u,fontFamily:c,isToggleSelected:o,isDisabled:a}}function yN(t,e,n,r,i){const s=new Qi;return vs(s,{width:t,height:e,backgroundColor:n,backgroundAlpha:1,borderRadius:i,border:{width:1,color:r,alpha:1,style:"solid",radius:i}}),s}function Agt(t,e,n){const r=new Qi;return vs(r,{width:t,height:e,backgroundColor:16777215,backgroundAlpha:.5,borderRadius:n}),r}const ygt=x.memo(function({element:e,onClick:n,onToggle:r}){pn(fn);const i=e.props?.style,s=e.props,o=f7(),a=x.useMemo(()=>eF("default",o),[o]),l=x.useMemo(()=>{const A=s?.variant||"primary";return eF(A,o)},[s?.variant,o]),u=x.useMemo(()=>String(s?.children||s?.text||s?.label||"Toggle"),[s?.children,s?.text,s?.label]),c=x.useMemo(()=>mgt(i,s||{},u,a,l),[i,s,u,a,l]),d=x.useRef(null),f=x.useRef(null),p=x.useRef(null);x.useEffect(()=>{const A=d.current;if(!A)return;f.current&&(A.removeChild(f.current),f.current.destroy(),f.current=null),p.current&&(A.removeChild(p.current),p.current.destroy(),p.current=null);const C=c.isToggleSelected?c.selectedBackgroundColor:c.backgroundColor,E=c.isToggleSelected?c.selectedHoverColor:c.hoverColor,I=c.isToggleSelected?c.selectedPressedColor:c.pressedColor,D=c.isToggleSelected?c.selectedBorderColor:c.borderColor,T=c.isToggleSelected?c.selectedTextColor:c.textColor,M=yN(c.width,c.height,C,D,c.borderRadius),P=yN(c.width,c.height,E,D,c.borderRadius),k=yN(c.width,c.height,I,D,c.borderRadius),L=new Sn({fill:T,fontSize:c.fontSize,fontFamily:c.fontFamily,align:"center"}),$=new Cd({text:u,style:L}),z=new kx({defaultView:M,hoverView:P,pressedView:k,text:$,anchor:.5,padding:0});if(z.x=c.width/2,z.y=c.height/2,z.eventMode="none",A.addChild(z),f.current=z,c.isDisabled){const j=Agt(c.width,c.height,c.borderRadius);A.addChild(j),p.current=j}return()=>{try{M.destroy(!0),P.destroy(!0),k.destroy(!0),$.destroy(!0)}catch{}if(f.current){try{A.children.includes(f.current)&&A.removeChild(f.current),f.current.destroyed||f.current.destroy({children:!0})}catch{}f.current=null}if(p.current){try{A.children.includes(p.current)&&A.removeChild(p.current),p.current.destroyed||p.current.destroy(!0)}catch{}p.current=null}}},[c.width,c.height,c.backgroundColor,c.hoverColor,c.pressedColor,c.textColor,c.borderColor,c.selectedBackgroundColor,c.selectedHoverColor,c.selectedPressedColor,c.selectedTextColor,c.selectedBorderColor,c.borderRadius,c.fontSize,c.fontFamily,c.isToggleSelected,c.isDisabled,u]);const m=x.useCallback(A=>{A.clear(),A.rect(0,0,c.width,c.height),A.fill({color:16777215,alpha:0})},[c.width,c.height]),v=x.useCallback(A=>{if(c.isDisabled)return;const C=A,E=C?.metaKey??C?.nativeEvent?.metaKey??!1,I=C?.shiftKey??C?.nativeEvent?.shiftKey??!1,D=C?.ctrlKey??C?.nativeEvent?.ctrlKey??!1;n?.(e.id,{metaKey:E,shiftKey:I,ctrlKey:D}),r?.(e.id,!c.isToggleSelected)},[e.id,n,r,c.isDisabled,c.isToggleSelected]),y=c.isDisabled?"not-allowed":"pointer";return h.jsx("pixiContainer",{x:c.left,y:c.top,ref:A=>{d.current=A},children:h.jsx("pixiGraphics",{draw:m,eventMode:"static",cursor:y,onPointerDown:v})})}),vgt=4,bgt=48;function xgt(t){return t.length===0?[]:t.sort((e,n)=>(e.order_num||0)-(n.order_num||0)).map((e,n)=>{const r=e.props;return{id:e.id,value:String(r?.value||r?.id||e.id||n),label:String(r?.children||r?.label||r?.text||`Button ${n+1}`),isDisabled:!!r?.isDisabled}})}function Cgt(t){return!t||!Array.isArray(t.items)||t.items.length===0?null:t.items.map((e,n)=>{if(typeof e=="string")return{id:String(n),value:e,label:e};if(typeof e=="object"&&e!==null){const r=e;return{id:String(r.id||n),value:String(r.value||r.id||n),label:String(r.label||r.name||r.text||`Button ${n+1}`),isDisabled:!!r.isDisabled}}return{id:String(n),value:String(n),label:String(e)}})}const Egt=x.memo(function({item:e,isItemSelected:n,x:r,y:i,width:s,height:o,sizePreset:a,colorPreset:l,onPress:u}){const c=n?l.selectedBackground:l.background,d=n?l.selectedBorder:l.border,f=n?l.selectedText:l.text,p=x.useCallback(D=>{D.clear(),vs(D,{width:s,height:o,backgroundColor:c,backgroundAlpha:1,borderRadius:a.borderRadius,border:{width:1,color:d,alpha:1,style:"solid",radius:a.borderRadius}})},[s,o,c,d,a.borderRadius]),m=x.useMemo(()=>new Sn({fontFamily:"Pretendard, sans-serif",fontSize:a.fontSize,fill:f,align:"center"}),[a.fontSize,f]),v=x.useCallback(()=>{e.isDisabled||u(e.value)},[e.value,e.isDisabled,u]),y=ds.measureText(e.label,m),A=(s-y.width)/2,C=(o-y.height)/2,E=e.isDisabled?"not-allowed":"pointer",I=e.isDisabled?.5:1;return h.jsxs("pixiContainer",{x:r,y:i,alpha:I,children:[h.jsx("pixiGraphics",{draw:p,eventMode:"static",cursor:E,onPointerDown:v}),h.jsx("pixiText",{text:e.label,style:m,x:A,y:C,eventMode:"static",cursor:E,onPointerDown:v})]})}),Sgt=x.memo(function({element:e,onClick:n,onChange:r}){pn(fn);const i=e.props?.style,s=e.props,o=Pe(L=>L.elements),a=x.useMemo(()=>o.filter(L=>L.parent_id===e.id&&L.tag==="ToggleButton"),[o,e.id]),l=x.useMemo(()=>{const L=xgt(a);if(L.length>0)return L;const $=Cgt(s);return $||[{id:"1",value:"option1",label:"Option 1"},{id:"2",value:"option2",label:"Option 2"}]},[a,s]),u=x.useMemo(()=>String(s?.variant||"default"),[s?.variant]),c=x.useMemo(()=>String(s?.size||"md"),[s?.size]),d=x.useMemo(()=>Hdt(c),[c]),f=x.useMemo(()=>Vdt(u),[u]),p=x.useMemo(()=>String(s?.selectionMode||"single"),[s?.selectionMode]),m=x.useMemo(()=>{const L=s?.selectedKeys||s?.value||s?.defaultSelectedKeys;if(Array.isArray(L))return L.map(String);if(typeof L=="string"||typeof L=="number")return[String(L)];const $=a.filter(z=>!!z.props?.isSelected).map(z=>{const j=z.props;return String(j?.value||z.id)});return $.length>0?$:[]},[s?.selectedKeys,s?.value,s?.defaultSelectedKeys,a]),v=x.useMemo(()=>{const L=String(s?.orientation||"horizontal"),$=i?.flexDirection;return L==="horizontal"||$==="row"},[s?.orientation,i]),y=mt(i?.gap,void 0,vgt),A=mt(i?.left,void 0,0),C=mt(i?.top,void 0,0),E=x.useMemo(()=>{const L=new Sn({fontFamily:"Pretendard, sans-serif",fontSize:d.fontSize});return l.map($=>{const z=ds.measureText($.label,L),j=Math.max(bgt,z.width+d.paddingX*2),H=z.height+d.paddingY*2;return{width:j,height:H}})},[l,d.fontSize,d.paddingX,d.paddingY]),I=x.useMemo(()=>v?E.reduce((L,$)=>L+$.width,0)+y*(l.length-1):Math.max(...E.map(L=>L.width)),[v,E,y,l.length]),D=x.useMemo(()=>v?Math.max(...E.map(L=>L.height)):E.reduce((L,$)=>L+$.height,0)+y*(l.length-1),[v,E,y,l.length]),T=x.useCallback(L=>{L.clear(),vs(L,{width:I,height:D,backgroundColor:f.background,backgroundAlpha:.3,borderRadius:d.borderRadius+2,border:{width:1,color:f.border,alpha:.5,style:"solid",radius:d.borderRadius+2}})},[I,D,f.background,f.border,d.borderRadius]),M=x.useCallback(()=>{n?.(e.id)},[e.id,n]),P=x.useCallback(L=>{n?.(e.id);let $;p==="multiple"?m.includes(L)?$=m.filter(z=>z!==L):$=[...m,L]:m.includes(L)?$=m:$=[L],r?.(e.id,$)},[e.id,n,r,p,m]),k=x.useMemo(()=>E.reduce((L,$,z)=>{if(z===0)return[0];const j=L[z-1],H=E[z-1],W=j+(v?H.width:H.height)+y;return[...L,W]},[]),[E,v,y]);return h.jsxs("pixiContainer",{x:A,y:C,eventMode:"static",onPointerDown:M,children:[h.jsx("pixiGraphics",{draw:T,eventMode:"none"}),l.map((L,$)=>{const z=m.includes(L.value),j=v?k[$]:0,H=v?0:k[$];return h.jsx(Egt,{item:L,isItemSelected:z,x:j,y:H,width:E[$].width,height:E[$].height,sizePreset:d,colorPreset:f,onPress:P},L.id)})]})});function wgt(t){return t.length===0?[]:t.sort((e,n)=>(e.order_num||0)-(n.order_num||0)).map((e,n)=>{const r=e.props;return{id:e.id,value:String(r?.value||r?.id||e.id||n),label:String(r?.children||r?.textValue||r?.label||r?.text||`Item ${n+1}`),isDisabled:!!r?.isDisabled}})}function _gt(t){return!t||!Array.isArray(t.items)||t.items.length===0?null:t.items.map((e,n)=>{if(typeof e=="string")return{id:String(n),value:e,label:e};if(typeof e=="object"&&e!==null){const r=e;return{id:String(r.id||n),value:String(r.value||r.id||n),label:String(r.label||r.name||r.text||`Item ${n+1}`),isDisabled:!!r.isDisabled}}return{id:String(n),value:String(n),label:String(e)}})}const Igt=x.memo(function({item:e,isItemSelected:n,x:r,y:i,width:s,height:o,sizePreset:a,colorPreset:l,onPress:u}){const c=n?l.itemSelectedBackground:l.itemBackground,d=n?l.selectedTextColor:l.textColor,f=x.useRef(!1),p=x.useRef(null),m=x.useCallback(M=>{p.current=M,M.clear();const P=f.current&&!n?l.itemHoverBackground:c;vs(M,{width:s,height:o,backgroundColor:P,backgroundAlpha:1,borderRadius:a.borderRadius})},[s,o,c,n,l.itemHoverBackground,a.borderRadius]),v=x.useMemo(()=>new Sn({fontFamily:"Pretendard, sans-serif",fontSize:a.fontSize,fill:d,fontWeight:n?"600":"400"}),[a.fontSize,d,n]),y=x.useCallback(()=>{e.isDisabled||u(e.value)},[e.value,e.isDisabled,u]),A=x.useCallback(()=>{if(!e.isDisabled&&p.current){f.current=!0;const M=p.current;M.clear(),vs(M,{width:s,height:o,backgroundColor:n?c:l.itemHoverBackground,backgroundAlpha:1,borderRadius:a.borderRadius})}},[e.isDisabled,n,c,l.itemHoverBackground,s,o,a.borderRadius]),C=x.useCallback(()=>{if(p.current){f.current=!1;const M=p.current;M.clear(),vs(M,{width:s,height:o,backgroundColor:c,backgroundAlpha:1,borderRadius:a.borderRadius})}},[c,s,o,a.borderRadius]),E=a.itemPaddingX,I=(o-a.fontSize)/2,D=e.isDisabled?"not-allowed":"pointer",T=e.isDisabled?.5:1;return h.jsxs("pixiContainer",{x:r,y:i,alpha:T,children:[h.jsx("pixiGraphics",{draw:m,eventMode:"static",cursor:D,onPointerDown:y,onPointerOver:A,onPointerOut:C}),h.jsx("pixiText",{text:e.label,style:v,x:E,y:I,eventMode:"static",cursor:D,onPointerDown:y}),n&&h.jsx("pixiText",{text:"",style:new Sn({fontFamily:"Pretendard, sans-serif",fontSize:a.fontSize,fill:d,fontWeight:"600"}),x:s-a.itemPaddingX-12,y:I,eventMode:"none"})]})}),Bgt=x.memo(function({element:e,onClick:n,onChange:r}){pn(fn);const i=e.props?.style,s=e.props,o=Pe(z=>z.elements),a=x.useMemo(()=>o.filter(z=>z.parent_id===e.id&&z.tag==="ListBoxItem"),[o,e.id]),l=x.useMemo(()=>{const z=wgt(a);if(z.length>0)return z;const j=_gt(s);return j||[{id:"1",value:"item1",label:"Item 1"},{id:"2",value:"item2",label:"Item 2"},{id:"3",value:"item3",label:"Item 3"}]},[a,s]),u=x.useMemo(()=>String(s?.variant||"primary"),[s?.variant]),c=x.useMemo(()=>String(s?.size||"md"),[s?.size]),d=x.useMemo(()=>Kdt(c),[c]),f=x.useMemo(()=>Wdt(u),[u]),p=x.useMemo(()=>String(s?.selectionMode||"single"),[s?.selectionMode]),m=x.useMemo(()=>{const z=s?.selectedKeys||s?.value||s?.defaultSelectedKeys;if(Array.isArray(z))return z.map(String);if(typeof z=="string"||typeof z=="number")return[String(z)];const j=a.filter(H=>!!H.props?.isSelected).map(H=>{const W=H.props;return String(W?.value||H.id)});return j.length>0?j:[]},[s?.selectedKeys,s?.value,s?.defaultSelectedKeys,a]),v=mt(i?.width,void 0,200),y=mt(i?.height,void 0,200),A=v-d.containerPadding*2,C=mt(i?.left,void 0,0),E=mt(i?.top,void 0,0),D=x.useMemo(()=>l.length*(d.itemHeight+d.gap)-d.gap,[l.length,d.itemHeight,d.gap])>y-d.containerPadding*2,T=x.useRef(null),M=x.useRef(null),P=x.useCallback(z=>{z.clear(),vs(z,{width:v,height:y,backgroundColor:f.containerBackground,backgroundAlpha:1,borderRadius:d.borderRadius+4,border:{width:1,color:f.containerBorder,alpha:1,style:"solid",radius:d.borderRadius+4}})},[v,y,f.containerBackground,f.containerBorder,d.borderRadius]),k=x.useCallback(()=>{n?.(e.id)},[e.id,n]),L=x.useCallback(z=>{n?.(e.id);let j;p==="multiple"?m.includes(z)?j=m.filter(H=>H!==z):j=[...m,z]:m.includes(z)?j=m:j=[z],r?.(e.id,j)},[e.id,n,r,p,m]);x.useEffect(()=>{if(!(!D||!M.current))return T.current&&(M.current.removeChild(T.current),T.current.destroy(),T.current=null),()=>{if(T.current){try{T.current.destroyed||T.current.destroy()}catch{}T.current=null}}},[D]);const $=x.useMemo(()=>l.map((z,j)=>j*(d.itemHeight+d.gap)),[l,d.itemHeight,d.gap]);return h.jsxs("pixiContainer",{x:C,y:E,eventMode:"static",onPointerDown:k,children:[h.jsx("pixiGraphics",{draw:P,eventMode:"none"}),h.jsxs("pixiContainer",{x:d.containerPadding,y:d.containerPadding,ref:z=>{M.current=z},children:[D&&h.jsx("pixiGraphics",{draw:z=>{z.clear(),z.rect(0,0,v-d.containerPadding*2,y-d.containerPadding*2),z.fill({color:16777215})},eventMode:"none"}),l.map((z,j)=>{const H=m.includes(z.value);return h.jsx(Igt,{item:z,isItemSelected:H,x:0,y:$[j],width:A,height:d.itemHeight,sizePreset:d,colorPreset:f,onPress:L},z.id)})]})]})}),Dgt=x.memo(function({element:e,onClick:n}){pn(fn);const r=e.props?.style,i=e.props,s=x.useMemo(()=>i?.dot?"":i?.count!==void 0?String(i.count):String(i?.children||i?.text||i?.label||""),[i?.children,i?.text,i?.label,i?.count,i?.dot]),o=x.useMemo(()=>String(i?.variant||"default"),[i?.variant]),a=x.useMemo(()=>String(i?.size||"md"),[i?.size]),l=!!i?.dot,u=!!i?.pulsing,c=x.useMemo(()=>Ydt(a),[a]),d=x.useMemo(()=>Xdt(o),[o]),f=x.useMemo(()=>r?.backgroundColor?$r(r.backgroundColor,d.background):d.background,[r,d]),p=x.useMemo(()=>r?.color?$r(r.color,d.text):d.text,[r,d]),m=x.useMemo(()=>{if(l)return{width:c.dotSize,height:c.dotSize};const P=new Sn({fontFamily:"Pretendard, sans-serif",fontSize:c.fontSize,fontWeight:"600"});if(s){const k=ds.measureText(s,P);return{width:Math.max(c.minWidth,k.width+c.paddingX*2),height:c.height}}return{width:c.minWidth,height:c.height}},[l,c,s]),v=mt(r?.left,void 0,0),y=mt(r?.top,void 0,0),A=x.useRef(null),C=x.useRef(null);x.useEffect(()=>{if(!u||!A.current){C.current&&(cancelAnimationFrame(C.current),C.current=null),A.current&&(A.current.alpha=1);return}let P=null;const k=2e3,L=$=>{P||(P=$);const j=($-P)%k/k;let H;j<.5?H=1-j*1:H=.5+(j-.5)*1,A.current&&(A.current.alpha=H),C.current=requestAnimationFrame(L)};return C.current=requestAnimationFrame(L),()=>{C.current&&(cancelAnimationFrame(C.current),C.current=null)}},[u]);const E=x.useCallback(P=>{if(P.clear(),l)P.circle(m.width/2,m.height/2,m.width/2),P.fill({color:f});else{const k=m.height/2;vs(P,{width:m.width,height:m.height,backgroundColor:f,backgroundAlpha:1,borderRadius:k})}},[l,m.width,m.height,f]),I=x.useCallback(()=>{n?.(e.id)},[e.id,n]),D=x.useMemo(()=>new Sn({fontFamily:"Pretendard, sans-serif",fontSize:c.fontSize,fill:p,fontWeight:"600",align:"center"}),[c.fontSize,p]),T=x.useMemo(()=>{if(l||!s)return{x:0,y:0};const P=ds.measureText(s,D);return{x:(m.width-P.width)/2,y:(m.height-P.height)/2}},[l,s,m.width,m.height,D]),M=x.useCallback(P=>{P.clear(),P.rect(0,0,m.width,m.height),P.fill({color:16777215,alpha:0})},[m.width,m.height]);return h.jsxs("pixiContainer",{x:v,y,ref:P=>{A.current=P},children:[h.jsx("pixiGraphics",{draw:E}),!l&&s&&h.jsx("pixiText",{text:s,style:D,x:T.x,y:T.y}),h.jsx("pixiGraphics",{draw:M,eventMode:"static",cursor:"pointer",onPointerDown:I})]})});function Tgt(t,e,n,r,i){const s=(t-e)/(n-e)*100;switch(r){case"percent":return`${Math.round(s)}%`;case"custom":return i?.style==="unit"&&i?.unit?`${t} ${i.unit}`:String(t);default:return String(t)}}const Mgt=x.memo(function({element:e,onClick:n}){pn(fn);const r=e.props?.style,i=e.props,s=x.useMemo(()=>{const j=Number(i?.value??50);return Math.max(i?.minValue??0,Math.min(i?.maxValue??100,j))},[i?.value,i?.minValue,i?.maxValue]),o=x.useMemo(()=>Number(i?.minValue??0),[i?.minValue]),a=x.useMemo(()=>Number(i?.maxValue??100),[i?.maxValue]),l=x.useMemo(()=>(s-o)/(a-o)*100,[s,o,a]),u=x.useMemo(()=>String(i?.variant||"primary"),[i?.variant]),c=x.useMemo(()=>String(i?.size||"md"),[i?.size]),d=x.useMemo(()=>Zdt(c),[c]),f=x.useMemo(()=>eht(u),[u]),p=x.useMemo(()=>String(i?.label||""),[i?.label]),m=i?.showValue!==!1,v=x.useMemo(()=>String(i?.valueFormat||"percent"),[i?.valueFormat]),y=x.useMemo(()=>Tgt(s,o,a,v,i?.formatOptions),[s,o,a,v,i?.formatOptions]),A=mt(r?.width,void 0,d.width),C=d.barHeight,E=A*l/100,I=p||m,D=I?d.fontSize+d.gap:0,T=mt(r?.left,void 0,0),M=mt(r?.top,void 0,0),P=x.useCallback(j=>{j.clear(),vs(j,{width:A,height:C,backgroundColor:f.trackColor,backgroundAlpha:1,borderRadius:d.borderRadius})},[A,C,f.trackColor,d.borderRadius]),k=x.useCallback(j=>{j.clear(),E>0&&vs(j,{width:E,height:C,backgroundColor:f.fillColor,backgroundAlpha:1,borderRadius:d.borderRadius})},[E,C,f.fillColor,d.borderRadius]),L=x.useCallback(()=>{n?.(e.id)},[e.id,n]),$=x.useMemo(()=>new Sn({fontFamily:"Pretendard, sans-serif",fontSize:d.fontSize,fill:f.labelColor}),[d.fontSize,f.labelColor]),z=x.useMemo(()=>new Sn({fontFamily:"Pretendard, sans-serif",fontSize:d.fontSize,fill:f.valueColor}),[d.fontSize,f.valueColor]);return h.jsxs("pixiContainer",{x:T,y:M,eventMode:"static",cursor:"pointer",onPointerDown:L,children:[I&&h.jsxs("pixiContainer",{x:0,y:0,children:[p&&h.jsx("pixiText",{text:p,style:$,x:0,y:0,eventMode:"none"}),m&&h.jsx("pixiText",{text:y,style:z,x:A-y.length*(d.fontSize*.6),y:0,eventMode:"none"})]}),h.jsxs("pixiContainer",{x:0,y:D,children:[h.jsx("pixiGraphics",{draw:P,eventMode:"none"}),h.jsx("pixiGraphics",{draw:k,eventMode:"none"})]})]})}),kgt=x.memo(function({element:e,onClick:n}){pn(fn);const r=e.props?.style,i=e.props,s=x.useMemo(()=>String(i?.variant||"default"),[i?.variant]),o=x.useMemo(()=>String(i?.size||"md"),[i?.size]),a=x.useMemo(()=>String(i?.orientation||"horizontal"),[i?.orientation]),l=x.useMemo(()=>String(i?.lineStyle||"solid"),[i?.lineStyle]),u=x.useMemo(()=>nht(o),[o]),c=x.useMemo(()=>rht(s),[s]),d=x.useMemo(()=>r?.backgroundColor?$r(r.backgroundColor,c.color):r?.borderColor?$r(r.borderColor,c.color):c.color,[r,c]),f=x.useMemo(()=>{if(a==="vertical"){const C=mt(r?.height,void 0,100);return{width:u.thickness,height:C}}return{width:mt(r?.width,void 0,200),height:u.thickness}},[a,r?.width,r?.height,u.thickness]),p=mt(r?.left,void 0,0),m=mt(r?.top,void 0,0),v=x.useCallback(A=>{A.clear();let C=[];if(l==="dashed"?C=[6,4]:l==="dotted"&&(C=[2,2]),l==="solid")A.rect(0,0,f.width,f.height),A.fill({color:d});else{if(A.setStrokeStyle({width:u.thickness,color:d}),a==="vertical"){let E=0,I=0;for(;E<f.height;){const D=C[I%C.length];I%2===0&&(A.moveTo(u.thickness/2,E),A.lineTo(u.thickness/2,Math.min(E+D,f.height))),E+=D,I++}}else{let E=0,I=0;for(;E<f.width;){const D=C[I%C.length];I%2===0&&(A.moveTo(E,u.thickness/2),A.lineTo(Math.min(E+D,f.width),u.thickness/2)),E+=D,I++}}A.stroke()}},[a,f.width,f.height,d,l,u.thickness]),y=x.useCallback(()=>{n?.(e.id)},[e.id,n]);return h.jsx("pixiContainer",{x:p,y:m,children:h.jsx("pixiGraphics",{draw:v,eventMode:"static",cursor:"pointer",onPointerDown:y})})}),Pgt=x.memo(function({element:e,onClick:n}){pn(fn);const r=e.props?.style,i=e.props,[s,o]=x.useState(!1),[a,l]=x.useState(!1),u=x.useMemo(()=>String(i?.children||i?.text||"Link"),[i?.children,i?.text]),c=x.useMemo(()=>String(i?.variant||"primary"),[i?.variant]),d=x.useMemo(()=>String(i?.size||"md"),[i?.size]),f=!!i?.isDisabled,p=x.useMemo(()=>sht(d),[d]),m=x.useMemo(()=>oht(c),[c]),v=x.useMemo(()=>f?10265519:a?m.pressedColor:s?m.hoverColor:r?.color?$r(r.color,m.color):m.color,[f,a,s,r,m]),y=x.useMemo(()=>new Sn({fontFamily:"Pretendard, sans-serif",fontSize:p.fontSize,fill:v,fontWeight:"500"}),[p,v]),A=x.useMemo(()=>{const k=ds.measureText(u,y);return{width:k.width,height:k.height}},[u,y]),C=mt(r?.left,void 0,0),E=mt(r?.top,void 0,0),I=x.useCallback(k=>{k.clear(),s&&!f&&(k.setStrokeStyle({width:2,color:v}),k.moveTo(0,A.height+2),k.lineTo(A.width,A.height+2),k.stroke())},[s,f,v,A.width,A.height]),D=x.useCallback(()=>{f||o(!0)},[f]),T=x.useCallback(()=>{o(!1),l(!1)},[]),M=x.useCallback(()=>{f||l(!0)},[f]),P=x.useCallback(()=>{l(!1),f||n?.(e.id)},[f,e.id,n]);return h.jsxs("pixiContainer",{x:C,y:E,children:[h.jsx("pixiText",{text:u,style:y,eventMode:"static",cursor:f?"not-allowed":"pointer",onPointerEnter:D,onPointerLeave:T,onPointerDown:M,onPointerUp:P}),h.jsx("pixiGraphics",{draw:I})]})}),Rgt=x.memo(function({element:e,onClick:n}){pn(fn);const r=e.props?.style,i=e.props,s=Pe(M=>M.elements),o=x.useMemo(()=>s.filter(M=>M.parent_id===e.id&&M.tag==="Breadcrumb").sort((M,P)=>(M.order_num||0)-(P.order_num||0)),[s,e.id]),a=x.useMemo(()=>String(i?.variant||"default"),[i?.variant]),l=x.useMemo(()=>String(i?.size||"md"),[i?.size]),u=x.useMemo(()=>String(i?.separator||""),[i?.separator]),c=x.useMemo(()=>lht(l),[l]),d=x.useMemo(()=>uht(a),[a]),f=x.useMemo(()=>r?.color?$r(r.color,d.textColor):d.textColor,[r,d]),p=mt(r?.left,void 0,0),m=mt(r?.top,void 0,0),[v,y]=x.useState(null),A=x.useCallback((M,P)=>new Sn({fontFamily:"Pretendard, sans-serif",fontSize:c.fontSize,fill:M||P?d.currentColor:f,fontWeight:M?"500":"400"}),[c.fontSize,d.currentColor,f]),C=x.useMemo(()=>new Sn({fontFamily:"Pretendard, sans-serif",fontSize:c.fontSize,fill:d.separatorColor,fontWeight:"400"}),[c.fontSize,d.separatorColor]),E=x.useMemo(()=>{let M=0;const P=[];return o.forEach((k,L)=>{const $=String(k.props?.children||k.props?.text||k.props?.title||"Item"),z=L===o.length-1,j=A(z,!1),H=ds.measureText($,j);if(P.push({type:"item",text:$,x:M,width:H.width,index:L}),M+=H.width,!z){const W=ds.measureText(u,C);P.push({type:"separator",text:u,x:M+c.gap,width:W.width}),M+=c.gap*2+W.width}}),P},[o,A,C,u,c.gap]),I=x.useCallback(M=>{const P=o[M];P&&n?.(P.id)},[o,n]),D=x.useCallback(M=>{if(M.clear(),a==="filled"){const P=E.length>0?E[E.length-1].x+E[E.length-1].width+c.padding*2:100;M.roundRect(0,0,P,c.fontSize+c.padding*2,8),M.fill({color:15987958})}},[a,E,c.fontSize,c.padding]),T=a==="filled"?c.padding:0;return h.jsxs("pixiContainer",{x:p,y:m,children:[h.jsx("pixiGraphics",{draw:D}),h.jsx("pixiContainer",{x:T,y:T,children:E.map((M,P)=>{if(M.type==="separator")return h.jsx("pixiText",{text:M.text,style:C,x:M.x,y:0},`sep-${P}`);const k=M.index,L=k===o.length-1,$=v===k;return h.jsx("pixiText",{text:M.text,style:A(L,$),x:M.x,y:0,eventMode:"static",cursor:L?"default":"pointer",onPointerEnter:()=>!L&&y(k),onPointerLeave:()=>y(null),onPointerDown:()=>!L&&I(k)},`item-${P}`)})})]})}),Ngt=x.memo(function({element:e,onClick:n}){pn(fn);const r=e.props?.style,i=e.props,[s,o]=x.useState(!1),a=x.useMemo(()=>String(i?.variant||"default"),[i?.variant]),l=x.useMemo(()=>String(i?.size||"md"),[i?.size]),u=x.useMemo(()=>dht(l),[l]),c=x.useMemo(()=>hht(a),[a]),d=x.useMemo(()=>r?.backgroundColor?$r(r.backgroundColor,c.backgroundColor):s?c.hoverBgColor:c.backgroundColor,[r,s,c]),f=x.useMemo(()=>r?.color?$r(r.color,c.textColor):c.textColor,[r,c]),p=x.useMemo(()=>r?.borderColor?$r(r.borderColor,c.borderColor):c.borderColor,[r,c]),m=mt(r?.width,void 0,200),v=mt(r?.height,void 0,120),y=mt(r?.left,void 0,0),A=mt(r?.top,void 0,0),C=x.useMemo(()=>String(i?.children||i?.title||""),[i?.children,i?.title]),E=x.useCallback(L=>{L.clear();const $=a==="outlined"?2:a==="elevated"?0:1;if(a==="elevated")for(let j=3;j>=1;j--){const H=.05*(4-j);L.roundRect(j*2,j*2,m,v,u.borderRadius),L.fill({color:0,alpha:H})}vs(L,{width:m,height:v,backgroundColor:d,backgroundAlpha:1,borderRadius:u.borderRadius,border:$>0?{width:$,color:p,alpha:1,style:"solid",radius:u.borderRadius}:void 0})},[a,m,v,u.borderRadius,d,p]),I=x.useMemo(()=>new Sn({fontFamily:"Pretendard, sans-serif",fontSize:14,fill:f,fontWeight:"400",wordWrap:!0,wordWrapWidth:m-u.padding*2}),[f,m,u.padding]),D=x.useMemo(()=>C?{x:u.padding,y:u.padding}:{x:0,y:0},[C,u.padding]),T=x.useCallback(()=>{o(!0)},[]),M=x.useCallback(()=>{o(!1)},[]),P=x.useCallback(()=>{n?.(e.id)},[e.id,n]),k=x.useCallback(L=>{L.clear(),L.rect(0,0,m,v),L.fill({color:16777215,alpha:0})},[m,v]);return h.jsxs("pixiContainer",{x:y,y:A,children:[h.jsx("pixiGraphics",{draw:E}),C&&h.jsx("pixiText",{text:C,style:I,x:D.x,y:D.y}),h.jsx("pixiGraphics",{draw:k,eventMode:"static",cursor:"pointer",onPointerEnter:T,onPointerLeave:M,onPointerDown:P})]})}),Lgt=x.memo(function({element:e,onClick:n}){pn(fn);const r=e.props?.style,i=e.props,s=Pe(M=>M.elements),o=x.useMemo(()=>s.filter(M=>M.parent_id===e.id&&(M.tag==="MenuItem"||M.tag==="MenuSeparator"||M.tag==="Separator")).sort((M,P)=>(M.order_num||0)-(P.order_num||0)),[s,e.id]),a=x.useMemo(()=>String(i?.variant||"default"),[i?.variant]),l=x.useMemo(()=>String(i?.size||"md"),[i?.size]),u=x.useMemo(()=>pht(l),[l]),c=x.useMemo(()=>ght(a),[a]),[d,f]=x.useState(null),p=x.useMemo(()=>r?.backgroundColor?$r(r.backgroundColor,c.backgroundColor):c.backgroundColor,[r,c]),m=x.useMemo(()=>r?.borderColor?$r(r.borderColor,c.borderColor):c.borderColor,[r,c]),v=mt(r?.left,void 0,0),y=mt(r?.top,void 0,0),A=x.useMemo(()=>{const M=[];let P=u.containerPadding,k=u.minWidth;const L=new Sn({fontFamily:"Pretendard, sans-serif",fontSize:u.fontSize,fontWeight:"600"});return o.forEach($=>{const z=$.tag==="MenuSeparator"||$.tag==="Separator",j=!!$.props?.isDisabled;if(z)M.push({id:$.id,text:"",isSeparator:!0,y:P,height:1+u.itemPaddingY*2}),P+=1+u.itemPaddingY*2;else{const H=String($.props?.children||$.props?.text||$.props?.title||"Menu Item"),W=$.props?.shortcut,O=ds.measureText(H,L),G=W?ds.measureText(W,L).width+20:0,q=u.itemPaddingX*2+O.width+G+20;k=Math.max(k,q);const J=u.fontSize+u.itemPaddingY*2;M.push({id:$.id,text:H,shortcut:W,isDisabled:j,y:P,height:J}),P+=J}}),{items:M,totalWidth:k+u.containerPadding*2,totalHeight:P+u.containerPadding}},[o,u]),C=x.useCallback(M=>{M.clear(),vs(M,{width:A.totalWidth,height:A.totalHeight,backgroundColor:p,backgroundAlpha:1,borderRadius:u.borderRadius,border:m!==0?{width:1,color:m,alpha:1,style:"solid",radius:u.borderRadius}:void 0})},[A.totalWidth,A.totalHeight,p,m,u.borderRadius]),E=x.useCallback((M,P,k)=>{M.clear(),P.isSeparator?(M.rect(u.containerPadding,0,A.totalWidth-u.containerPadding*2,1),M.fill({color:c.separatorColor,alpha:.3})):k&&!P.isDisabled&&(M.roundRect(u.containerPadding/2,0,A.totalWidth-u.containerPadding,P.height,4),M.fill({color:c.hoverBgColor}))},[A.totalWidth,u.containerPadding,c]),I=x.useCallback((M,P)=>new Sn({fontFamily:"Pretendard, sans-serif",fontSize:u.fontSize,fill:P?10265519:M?c.hoverTextColor:c.textColor,fontWeight:"600"}),[u,c]),D=x.useMemo(()=>new Sn({fontFamily:"monospace",fontSize:u.fontSize-2,fill:10265519,fontWeight:"400"}),[u.fontSize]),T=x.useCallback(M=>{!M.isSeparator&&!M.isDisabled&&n?.(M.id)},[n]);return h.jsxs("pixiContainer",{x:v,y,children:[h.jsx("pixiGraphics",{draw:C}),A.items.map((M,P)=>{const k=d===P;return h.jsxs("pixiContainer",{x:0,y:M.y,children:[h.jsx("pixiGraphics",{draw:L=>E(L,M,k),eventMode:"static",cursor:M.isSeparator||M.isDisabled?"default":"pointer",onPointerEnter:()=>!M.isSeparator&&f(P),onPointerLeave:()=>f(null),onPointerDown:()=>T(M)}),!M.isSeparator&&h.jsxs(h.Fragment,{children:[h.jsx("pixiText",{text:M.text,style:I(k,!!M.isDisabled),x:u.containerPadding+u.itemPaddingX,y:u.itemPaddingY,eventMode:"static",cursor:M.isDisabled?"default":"pointer",onPointerEnter:()=>f(P),onPointerLeave:()=>f(null),onPointerDown:()=>T(M)}),M.shortcut&&h.jsx("pixiText",{text:M.shortcut,style:D,x:A.totalWidth-u.containerPadding-u.itemPaddingX-40,y:u.itemPaddingY+1})]})]},M.id)})]})}),Fgt=x.memo(function({element:e,onClick:n}){pn(fn);const r=e.props?.style,i=e.props,s=Pe(k=>k.elements),o=x.useMemo(()=>s.filter(k=>k.parent_id===e.id&&k.tag==="Tab").sort((k,L)=>(k.order_num||0)-(L.order_num||0)),[s,e.id]),a=x.useMemo(()=>String(i?.variant||"default"),[i?.variant]),l=x.useMemo(()=>String(i?.size||"md"),[i?.size]),c=x.useMemo(()=>String(i?.orientation||"horizontal"),[i?.orientation])==="vertical",[d,f]=x.useState(()=>i?.selectedKey?i.selectedKey:o.length>0?o[0].props?.tabId||o[0].id:null),p=x.useMemo(()=>Aht(l),[l]),m=x.useMemo(()=>yht(a),[a]),[v,y]=x.useState(null),A=mt(r?.left,void 0,0),C=mt(r?.top,void 0,0),E=x.useMemo(()=>{const k=[];let L=0,$=0,z=0,j=0;const H=new Sn({fontFamily:"Pretendard, sans-serif",fontSize:p.fontSize,fontWeight:"500"});return o.forEach(W=>{const O=String(W.props?.children||W.props?.text||W.props?.title||"Tab"),G=W.props?.tabId||W.id,q=!!W.props?.isDisabled,te=ds.measureText(O,H).width+p.tabPaddingX*2,Y=p.fontSize+p.tabPaddingY*2;k.push({id:W.id,tabId:G,text:O,isDisabled:q,x:c?0:L,y:c?$:0,width:te,height:Y}),c?($+=Y,z=Math.max(z,te),j=$):(L+=te,z=L,j=Math.max(j,Y))}),{tabs:k,totalWidth:z,totalHeight:j}},[o,p,c]),I=x.useCallback(k=>{k.clear(),k.setStrokeStyle({width:1,color:m.borderColor}),c?(k.moveTo(E.totalWidth,0),k.lineTo(E.totalWidth,E.totalHeight)):(k.moveTo(0,E.totalHeight),k.lineTo(E.totalWidth,E.totalHeight)),k.stroke()},[c,E.totalWidth,E.totalHeight,m.borderColor]),D=x.useCallback((k,L)=>{k.clear(),L.tabId===d&&(k.rect(0,0,c?p.indicatorHeight:L.width,c?L.height:p.indicatorHeight),k.fill({color:m.indicatorColor}))},[d,c,p.indicatorHeight,m.indicatorColor]),T=x.useCallback((k,L,$)=>{k.clear(),$&&!L.isDisabled&&L.tabId!==d&&(k.rect(0,0,L.width,L.height),k.fill({color:m.hoverBgColor}))},[d,m.hoverBgColor]),M=x.useCallback((k,L,$)=>new Sn({fontFamily:"Pretendard, sans-serif",fontSize:p.fontSize,fill:$?10265519:k||L?m.selectedTextColor:m.textColor,fontWeight:"500"}),[p.fontSize,m]),P=x.useCallback(k=>{k.isDisabled||(f(k.tabId),n?.(k.id))},[n]);return h.jsxs("pixiContainer",{x:A,y:C,children:[h.jsx("pixiGraphics",{draw:I}),E.tabs.map((k,L)=>{const $=v===L,z=k.tabId===d,j=c?k.width-p.indicatorHeight:0,H=c?0:k.height-p.indicatorHeight;return h.jsxs("pixiContainer",{x:k.x,y:k.y,children:[h.jsx("pixiGraphics",{draw:W=>T(W,k,$),eventMode:"static",cursor:k.isDisabled?"not-allowed":"pointer",onPointerEnter:()=>!k.isDisabled&&y(L),onPointerLeave:()=>y(null),onPointerDown:()=>P(k)}),h.jsx("pixiText",{text:k.text,style:M(z,$,!!k.isDisabled),x:p.tabPaddingX,y:p.tabPaddingY,eventMode:"static",cursor:k.isDisabled?"not-allowed":"pointer",onPointerEnter:()=>!k.isDisabled&&y(L),onPointerLeave:()=>y(null),onPointerDown:()=>P(k)}),h.jsx("pixiContainer",{x:j,y:H,children:h.jsx("pixiGraphics",{draw:W=>D(W,k)})})]},k.id)})]})}),$gt=x.memo(function({element:e,onClick:n}){pn(fn);const r=e.props?.style,i=e.props,s=x.useMemo(()=>String(i?.variant||"default"),[i?.variant]),o=x.useMemo(()=>String(i?.size||"md"),[i?.size]),a=x.useMemo(()=>String(i?.label||""),[i?.label]),l=x.useMemo(()=>Number(i?.value??0),[i?.value]),u=!!i?.isDisabled,c=x.useMemo(()=>bht(o),[o]),d=x.useMemo(()=>xht(s),[s]),[f,p]=x.useState(null),m=mt(r?.left,void 0,0),v=mt(r?.top,void 0,0),y=c.paddingY*2+c.fontSize,A=a?c.labelFontSize+4:0,C=x.useCallback(k=>{k.clear();const $=u?17:f==="decrement"?d.buttonHoverBgColor:d.buttonBgColor;k.roundRect(0,0,c.buttonWidth,y,c.borderRadius),k.fill({color:$}),k.setStrokeStyle({width:1,color:d.borderColor}),k.stroke()},[f,u,d,c,y]),E=x.useCallback(k=>{k.clear();const $=u?17:f==="increment"?d.buttonHoverBgColor:d.buttonBgColor;k.roundRect(0,0,c.buttonWidth,y,c.borderRadius),k.fill({color:$}),k.setStrokeStyle({width:1,color:d.borderColor}),k.stroke()},[f,u,d,c,y]),I=x.useCallback(k=>{k.clear(),k.rect(0,0,c.inputWidth,y),k.fill({color:d.backgroundColor}),k.setStrokeStyle({width:1,color:d.borderColor}),k.stroke()},[d,c,y]),D=x.useMemo(()=>new Sn({fontFamily:"Pretendard, sans-serif",fontSize:c.fontSize,fill:u?10265519:d.textColor,fontWeight:"500"}),[c.fontSize,u,d.textColor]),T=x.useMemo(()=>new Sn({fontFamily:"Pretendard, sans-serif",fontSize:c.labelFontSize,fill:d.labelColor,fontWeight:"500"}),[c.labelFontSize,d.labelColor]),M=x.useMemo(()=>new Sn({fontFamily:"Pretendard, sans-serif",fontSize:c.fontSize,fill:u?10265519:d.textColor,fontWeight:"400"}),[c.fontSize,u,d.textColor]),P=x.useCallback(()=>{n?.(e.id)},[n,e.id]);return h.jsxs("pixiContainer",{x:m,y:v,children:[a&&h.jsx("pixiText",{text:a,style:T,x:0,y:0}),h.jsxs("pixiContainer",{y:A,children:[h.jsx("pixiGraphics",{draw:C,x:0,y:0,eventMode:"static",cursor:u?"not-allowed":"pointer",onPointerEnter:()=>!u&&p("decrement"),onPointerLeave:()=>p(null),onPointerDown:P}),h.jsx("pixiText",{text:"",style:D,x:c.buttonWidth/2,y:y/2,anchor:.5}),h.jsx("pixiGraphics",{draw:I,x:c.buttonWidth,y:0,eventMode:"static",cursor:"text",onPointerDown:P}),h.jsx("pixiText",{text:String(l),style:M,x:c.buttonWidth+c.inputWidth/2,y:y/2,anchor:.5}),h.jsx("pixiGraphics",{draw:E,x:c.buttonWidth+c.inputWidth,y:0,eventMode:"static",cursor:u?"not-allowed":"pointer",onPointerEnter:()=>!u&&p("increment"),onPointerLeave:()=>p(null),onPointerDown:P}),h.jsx("pixiText",{text:"+",style:D,x:c.buttonWidth+c.inputWidth+c.buttonWidth/2,y:y/2,anchor:.5})]})]})}),zgt=x.memo(function({element:e,onClick:n}){pn(fn);const r=e.props?.style,i=e.props,s=x.useMemo(()=>String(i?.variant||"default"),[i?.variant]),o=x.useMemo(()=>String(i?.size||"md"),[i?.size]),a=x.useMemo(()=>String(i?.label||""),[i?.label]),l=x.useMemo(()=>String(i?.value||""),[i?.value]),u=x.useMemo(()=>String(i?.placeholder||"Search..."),[i?.placeholder]),c=!!i?.isDisabled,d=l.length>0,f=x.useMemo(()=>Eht(o),[o]),p=x.useMemo(()=>Sht(s),[s]),[m,v]=x.useState(!1),y=mt(r?.left,void 0,0),A=mt(r?.top,void 0,0),C=f.paddingY*2+f.fontSize,E=a?f.labelFontSize+4:0,I=x.useCallback($=>{$.clear(),$.roundRect(0,0,f.inputWidth,C,f.borderRadius),$.fill({color:p.backgroundColor}),$.setStrokeStyle({width:1,color:p.borderColor}),$.stroke()},[p,f,C]),D=x.useCallback($=>{if($.clear(),!d)return;const z=f.clearButtonSize,j=m?p.clearButtonHoverBgColor:p.clearButtonBgColor;$.circle(z/2,z/2,z/2),$.fill({color:j});const H=z*.3;$.setStrokeStyle({width:2,color:p.textColor}),$.moveTo(H,H),$.lineTo(z-H,z-H),$.moveTo(z-H,H),$.lineTo(H,z-H),$.stroke()},[d,m,p,f.clearButtonSize]),T=x.useMemo(()=>new Sn({fontFamily:"Pretendard, sans-serif",fontSize:f.labelFontSize,fill:p.labelColor,fontWeight:"500"}),[f.labelFontSize,p.labelColor]),M=x.useMemo(()=>new Sn({fontFamily:"Pretendard, sans-serif",fontSize:f.fontSize,fill:c?10265519:d?p.textColor:p.placeholderColor,fontWeight:"400"}),[f.fontSize,c,d,p.textColor,p.placeholderColor]),P=x.useCallback(()=>{n?.(e.id)},[n,e.id]),k=f.inputWidth-f.clearButtonSize-f.paddingX,L=(C-f.clearButtonSize)/2;return h.jsxs("pixiContainer",{x:y,y:A,children:[a&&h.jsx("pixiText",{text:a,style:T,x:0,y:0}),h.jsxs("pixiContainer",{y:E,children:[h.jsx("pixiGraphics",{draw:I,eventMode:"static",cursor:"text",onPointerDown:P}),h.jsx("pixiText",{text:"",style:new Sn({fontFamily:"Pretendard, sans-serif",fontSize:f.fontSize-2,fill:p.placeholderColor}),x:f.paddingX,y:C/2,anchor:{x:0,y:.5}}),h.jsx("pixiText",{text:d?l:u,style:M,x:f.paddingX+f.fontSize+4,y:C/2,anchor:{x:0,y:.5}}),d&&h.jsx("pixiGraphics",{draw:D,x:k,y:L,eventMode:"static",cursor:"pointer",onPointerEnter:()=>v(!0),onPointerLeave:()=>v(!1),onPointerDown:P})]})]})}),Ogt=x.memo(function({element:e,onClick:n}){pn(fn);const r=e.props?.style,i=e.props,s=Pe(J=>J.elements),o=x.useMemo(()=>s.filter(J=>J.parent_id===e.id&&J.tag==="ComboBoxItem").sort((J,te)=>(J.order_num||0)-(te.order_num||0)),[s,e.id]),a=x.useMemo(()=>String(i?.variant||"default"),[i?.variant]),l=x.useMemo(()=>String(i?.size||"md"),[i?.size]),u=x.useMemo(()=>String(i?.label||""),[i?.label]),c=x.useMemo(()=>String(i?.value||""),[i?.value]),d=x.useMemo(()=>String(i?.placeholder||"Select..."),[i?.placeholder]),f=!!i?.isDisabled,p=!!i?.isOpen,m=x.useMemo(()=>_ht(l),[l]),v=x.useMemo(()=>Iht(a),[a]),y=mt(r?.left,void 0,0),A=mt(r?.top,void 0,0),C=m.paddingY*2+m.fontSize,E=u?m.labelFontSize+4:0,I=x.useMemo(()=>o.map(J=>({id:J.id,text:String(J.props?.children||J.props?.text||J.props?.textValue||"Item"),isSelected:!!J.props?.isSelected,isDisabled:!!J.props?.isDisabled})),[o]),D=x.useMemo(()=>{const J=m.itemPaddingY*2+m.fontSize;return Math.min(I.length,5)*J+m.paddingY*2},[I.length,m]),T=x.useCallback(J=>{J.clear(),J.roundRect(0,0,m.inputWidth,C,m.borderRadius),J.fill({color:v.backgroundColor}),J.setStrokeStyle({width:1,color:v.borderColor}),J.stroke()},[v,m,C]),M=x.useCallback(J=>{J.clear();const te=m.buttonSize,Y=v.buttonBgColor;J.roundRect(0,0,te,te,4),J.fill({color:Y});const Z=te*.4,ee=te/2,ie=te/2;J.setStrokeStyle({width:2,color:v.textColor}),J.moveTo(ee-Z/2,ie-Z/4),J.lineTo(ee,ie+Z/4),J.lineTo(ee+Z/2,ie-Z/4),J.stroke()},[v,m.buttonSize]),P=x.useCallback(J=>{J.clear(),p&&(J.roundRect(0,0,m.inputWidth,D,m.borderRadius),J.fill({color:v.dropdownBgColor}),J.setStrokeStyle({width:1,color:v.borderColor}),J.stroke())},[p,v,m,D]),k=x.useCallback((J,te)=>{J.clear();const Y=m.itemPaddingY*2+m.fontSize;let Z=0;te.isSelected&&(Z=v.itemSelectedBgColor),Z!==0&&(J.roundRect(m.paddingX/2,0,m.inputWidth-m.paddingX,Y,4),J.fill({color:Z}))},[v,m]),L=x.useMemo(()=>new Sn({fontFamily:"Pretendard, sans-serif",fontSize:m.labelFontSize,fill:v.labelColor,fontWeight:"500"}),[m.labelFontSize,v.labelColor]),$=x.useMemo(()=>new Sn({fontFamily:"Pretendard, sans-serif",fontSize:m.fontSize,fill:f?10265519:c?v.textColor:v.placeholderColor,fontWeight:"400"}),[m.fontSize,f,c,v.textColor,v.placeholderColor]),z=x.useCallback(J=>new Sn({fontFamily:"Pretendard, sans-serif",fontSize:m.fontSize,fill:J.isDisabled?10265519:J.isSelected?v.itemSelectedTextColor:v.textColor,fontWeight:J.isSelected?"500":"400"}),[m.fontSize,v]),j=x.useCallback(()=>{n?.(e.id)},[n,e.id]),H=E+C+(p?D+4:0),W=x.useCallback(J=>{J.clear(),J.rect(0,0,m.inputWidth,H),J.fill({color:16777215,alpha:0})},[m.inputWidth,H]),O=m.inputWidth-m.buttonSize-m.paddingX,G=(C-m.buttonSize)/2,q=m.itemPaddingY*2+m.fontSize;return h.jsxs("pixiContainer",{x:y,y:A,children:[u&&h.jsx("pixiText",{text:u,style:L,x:0,y:0}),h.jsxs("pixiContainer",{y:E,children:[h.jsx("pixiGraphics",{draw:T}),h.jsx("pixiText",{text:c||d,style:$,x:m.paddingX,y:C/2,anchor:{x:0,y:.5}}),h.jsx("pixiGraphics",{draw:M,x:O,y:G}),p&&h.jsxs("pixiContainer",{y:C+4,children:[h.jsx("pixiGraphics",{draw:P}),I.map((J,te)=>h.jsxs("pixiContainer",{x:0,y:m.paddingY+te*q,children:[h.jsx("pixiGraphics",{draw:Y=>k(Y,J)}),h.jsx("pixiText",{text:J.text,style:z(J),x:m.itemPaddingX,y:q/2,anchor:{x:0,y:.5}})]},J.id))]})]}),h.jsx("pixiGraphics",{draw:W,eventMode:"static",cursor:f?"not-allowed":"pointer",onPointerDown:j})]})});function jgt({element:t,isSelected:e=!1,onClick:n,onChange:r}){pn(fn);const i=t.props||{},s=i.variant||"default",o=i.size||"md",a=x.useMemo(()=>Dht(o),[o]),l=x.useMemo(()=>Tht(s),[s]),u=Pe(D=>D.elements),c=x.useMemo(()=>u.filter(D=>D.parent_id===t.id&&D.tag==="GridListItem").sort((D,T)=>(D.order_num||0)-(T.order_num||0)).map(D=>({id:D.id,text:D.props?.children||D.props?.textValue||"Item",isSelected:D.props?.isSelected||!1})),[u,t.id]),d=x.useRef(new Map),f=200,p=Math.min(300,a.listPadding*2+c.length*(a.itemMinHeight+a.listGap)-a.listGap),m=x.useMemo(()=>new Sn({fontSize:a.fontSize,fill:l.textColor,fontFamily:"Inter, system-ui, sans-serif"}),[a.fontSize,l.textColor]),v=x.useMemo(()=>new Sn({fontSize:a.fontSize,fill:l.itemSelectedTextColor,fontFamily:"Inter, system-ui, sans-serif",fontWeight:"500"}),[a.fontSize,l.itemSelectedTextColor]),y=x.useCallback(D=>{D.clear(),D.roundRect(0,0,f,p,a.borderRadius),D.fill(l.backgroundColor),D.stroke({width:1,color:l.borderColor}),e&&(D.roundRect(-2,-2,f+4,p+4,a.borderRadius+2),D.stroke({width:2,color:l.focusColor}))},[f,p,a.borderRadius,l,e]),A=x.useCallback((D,T,M,P,k)=>{D.clear();let L=l.backgroundColor;k?L=l.itemSelectedBgColor:P&&(L=l.itemHoverBgColor),D.roundRect(0,0,T,M,4),D.fill(L)},[l]),C=x.useCallback(D=>{r&&r(t.id,{selectedItemId:D})},[t.id,r]),E=x.useCallback(()=>{n&&n(t.id)},[t.id,n]),I=f-a.listPadding*2;return h.jsxs("pixiContainer",{eventMode:"static",cursor:"pointer",onPointerDown:E,children:[h.jsx("pixiGraphics",{draw:y}),c.map((D,T)=>{const M=a.listPadding+T*(a.itemMinHeight+a.listGap),P=D.isSelected;return h.jsxs("pixiContainer",{x:a.listPadding,y:M,eventMode:"static",cursor:"pointer",onPointerOver:()=>{const k=d.current.get(D.id);k&&A(k,I,a.itemMinHeight,!0,P)},onPointerOut:()=>{const k=d.current.get(D.id);k&&A(k,I,a.itemMinHeight,!1,P)},onPointerDown:k=>{k.stopPropagation(),C(D.id)},children:[h.jsx("pixiGraphics",{ref:k=>{k&&d.current.set(D.id,k)},draw:k=>A(k,I,a.itemMinHeight,!1,P)}),h.jsx("pixiText",{text:D.text,style:P?v:m,x:a.itemPaddingX,y:(a.itemMinHeight-a.fontSize)/2})]},D.id)}),c.length===0&&h.jsx("pixiText",{text:"No items",style:new Sn({fontSize:a.fontSize,fill:10265519,fontFamily:"Inter, system-ui, sans-serif",fontStyle:"italic"}),x:f/2,y:p/2,anchor:.5})]})}function Qgt({element:t,isSelected:e=!1,onClick:n,onChange:r}){pn(fn);const i=t.props||{},s=i.variant||"default",o=i.size||"md",a=i.label||"",l=x.useMemo(()=>kht(o),[o]),u=x.useMemo(()=>Pht(s),[s]),c=Pe(T=>T.elements),d=x.useMemo(()=>c.filter(T=>T.parent_id===t.id&&T.tag==="Tag").sort((T,M)=>(T.order_num||0)-(M.order_num||0)).map(T=>({id:T.id,text:T.props?.children||T.props?.textValue||"Tag",isSelected:T.props?.isSelected||!1,isRemovable:T.props?.isRemovable||!1})),[c,t.id]),f=x.useRef(new Map),p=x.useMemo(()=>{const T=[];let M=0,P=a?l.fontSize+8:0;const k=300;return d.forEach(L=>{const z=L.text.length*l.fontSize*.6+l.tagPaddingX*2+(L.isRemovable?20:0);M+z>k&&M>0&&(M=0,P+=l.fontSize+l.tagPaddingY*2+l.tagGap),T.push({x:M,y:P,width:z}),M+=z+l.tagGap}),T},[d,l,a]),m=x.useMemo(()=>p.length===0?40:p[p.length-1].y+l.fontSize+l.tagPaddingY*2+4,[p,l]),v=x.useMemo(()=>new Sn({fontSize:l.fontSize-2,fill:7041664,fontFamily:"Inter, system-ui, sans-serif"}),[l.fontSize]),y=x.useCallback(T=>{if(T.clear(),e){const M=Math.max(...p.map(P=>P.x+P.width),100);T.roundRect(-4,-4,M+8,m+8,4),T.stroke({width:2,color:3900150})}},[e,p,m]),A=x.useCallback((T,M,P,k)=>{T.clear();let L=u.backgroundColor;k?L=u.selectedBgColor:P&&(L=u.hoverBgColor);const $=l.fontSize+l.tagPaddingY*2;T.roundRect(0,0,M,$,l.borderRadius),T.fill(L),T.stroke({width:1,color:u.borderColor})},[l,u]),C=x.useCallback((T,M)=>{T.clear();const P=14;M&&(T.circle(P/2,P/2,P/2),T.fill(32)),T.moveTo(4,4),T.lineTo(P-4,P-4),T.moveTo(P-4,4),T.lineTo(4,P-4),T.stroke({width:1.5,color:u.removeButtonColor})},[u.removeButtonColor]),E=x.useCallback(T=>{r&&r(t.id,{selectedTagId:T})},[t.id,r]),I=x.useCallback((T,M)=>{M.stopPropagation(),r&&r(t.id,{removedTagId:T})},[t.id,r]),D=x.useCallback(()=>{n&&n(t.id)},[t.id,n]);return h.jsxs("pixiContainer",{eventMode:"static",cursor:"pointer",onPointerDown:D,children:[h.jsx("pixiGraphics",{draw:y}),a&&h.jsx("pixiText",{text:a,style:v,x:0,y:0}),d.map((T,M)=>{const P=p[M];if(!P)return null;const k=l.fontSize+l.tagPaddingY*2,L=T.isSelected||s!=="default"&&s!=="surface"?u.selectedTextColor:u.textColor;return h.jsxs("pixiContainer",{x:P.x,y:P.y,eventMode:"static",cursor:"pointer",onPointerOver:()=>{const $=f.current.get(T.id);$&&A($,P.width,!0,T.isSelected||!1)},onPointerOut:()=>{const $=f.current.get(T.id);$&&A($,P.width,!1,T.isSelected||!1)},onPointerDown:$=>{$.stopPropagation(),E(T.id)},children:[h.jsx("pixiGraphics",{ref:$=>{$&&f.current.set(T.id,$)},draw:$=>A($,P.width,!1,T.isSelected||!1)}),h.jsx("pixiText",{text:T.text,style:new Sn({fontSize:l.fontSize,fill:L,fontFamily:"Inter, system-ui, sans-serif"}),x:l.tagPaddingX,y:l.tagPaddingY}),T.isRemovable&&h.jsx("pixiContainer",{x:P.width-18,y:(k-14)/2,eventMode:"static",cursor:"pointer",onPointerDown:$=>I(T.id,$),children:h.jsx("pixiGraphics",{draw:$=>C($,!1)})})]},T.id)}),d.length===0&&h.jsx("pixiText",{text:"No tags",style:new Sn({fontSize:l.fontSize,fill:10265519,fontFamily:"Inter, system-ui, sans-serif",fontStyle:"italic"}),x:0,y:a?l.fontSize+8:0})]})}function Ugt({element:t,isSelected:e=!1,onClick:n,onChange:r}){pn(fn);const i=t.props||{},s=i.variant||"default",o=i.size||"md",a=x.useMemo(()=>Nht(o),[o]),l=x.useMemo(()=>Lht(s),[s]),[u,c]=x.useState(new Set),d=x.useRef(new Map),f=Pe(k=>k.elements),p=x.useMemo(()=>{const k=[],L=($,z)=>{f.filter(H=>H.parent_id===$&&H.tag==="TreeItem").sort((H,W)=>(H.order_num||0)-(W.order_num||0)).forEach(H=>{const O=f.filter(q=>q.parent_id===H.id&&q.tag==="TreeItem").length>0,G=u.has(H.id);k.push({id:H.id,text:H.props?.children||H.props?.textValue||"Item",depth:z,hasChildren:O,isExpanded:G,isSelected:H.props?.isSelected||!1,parentId:$}),O&&G&&L(H.id,z+1)})};return L(t.id,0),k},[f,t.id,u]),m=250,v=Math.max(80,a.treePadding*2+p.length*(a.itemMinHeight+a.treeGap)-(p.length>0?a.treeGap:0)),y=x.useMemo(()=>new Sn({fontSize:a.fontSize,fill:l.textColor,fontFamily:"Inter, system-ui, sans-serif"}),[a.fontSize,l.textColor]),A=x.useMemo(()=>new Sn({fontSize:a.fontSize,fill:l.itemSelectedTextColor,fontFamily:"Inter, system-ui, sans-serif",fontWeight:"500"}),[a.fontSize,l.itemSelectedTextColor]),C=x.useCallback(k=>{k.clear(),k.roundRect(0,0,m,v,a.borderRadius),k.fill(l.backgroundColor),k.stroke({width:1,color:l.borderColor}),e&&(k.roundRect(-2,-2,m+4,v+4,a.borderRadius+2),k.stroke({width:2,color:l.focusColor}))},[m,v,a.borderRadius,l,e]),E=x.useCallback((k,L,$,z,j)=>{k.clear();let H=4294967040;j?H=l.itemSelectedBgColor:z&&(H=l.itemHoverBgColor),H!==4294967040&&(k.roundRect(0,0,L,$,4),k.fill(H))},[l]),I=x.useCallback((k,L,$)=>{if(k.clear(),!$)return;const z=a.chevronSize,j=z/2,H=z/2;k.setTransform(j,H),L&&(k.rotation=Math.PI/2),k.moveTo(-3,-5),k.lineTo(3,0),k.lineTo(-3,5),k.stroke({width:2,color:l.chevronColor}),k.setTransform(0,0)},[a.chevronSize,l.chevronColor]),D=x.useCallback(k=>{c(L=>{const $=new Set(L);return $.has(k)?$.delete(k):$.add(k),$})},[]),T=x.useCallback(k=>{r&&r(t.id,{selectedItemId:k})},[t.id,r]),M=x.useCallback(()=>{n&&n(t.id)},[t.id,n]),P=m-a.treePadding*2;return h.jsxs("pixiContainer",{eventMode:"static",cursor:"pointer",onPointerDown:M,children:[h.jsx("pixiGraphics",{draw:C}),p.map((k,L)=>{const $=a.treePadding+L*(a.itemMinHeight+a.treeGap),z=k.depth*a.indentSize;return h.jsxs("pixiContainer",{x:a.treePadding,y:$,eventMode:"static",cursor:"pointer",onPointerOver:()=>{const j=d.current.get(k.id);j&&E(j,P,a.itemMinHeight,!0,k.isSelected||!1)},onPointerOut:()=>{const j=d.current.get(k.id);j&&E(j,P,a.itemMinHeight,!1,k.isSelected||!1)},onPointerDown:j=>{j.stopPropagation(),T(k.id)},children:[h.jsx("pixiGraphics",{ref:j=>{j&&d.current.set(k.id,j)},draw:j=>E(j,P,a.itemMinHeight,!1,k.isSelected||!1)}),k.hasChildren&&h.jsx("pixiContainer",{x:z,y:(a.itemMinHeight-a.chevronSize)/2,eventMode:"static",cursor:"pointer",onPointerDown:j=>{j.stopPropagation(),D(k.id)},children:h.jsx("pixiGraphics",{draw:j=>I(j,k.isExpanded,k.hasChildren)})}),h.jsx("pixiText",{text:k.text,style:k.isSelected?A:y,x:z+a.chevronSize+4,y:(a.itemMinHeight-a.fontSize)/2})]},k.id)}),p.length===0&&h.jsx("pixiText",{text:"No items",style:new Sn({fontSize:a.fontSize,fill:10265519,fontFamily:"Inter, system-ui, sans-serif",fontStyle:"italic"}),x:m/2,y:v/2,anchor:.5})]})}function Hgt({element:t,isSelected:e=!1,onClick:n,onChange:r}){pn(fn);const i=t.props||{},s=i.variant||"default",o=i.size||"md",a=x.useMemo(()=>$ht(o),[o]),l=x.useMemo(()=>zht(s),[s]),u=x.useRef(new Map),c=Pe(k=>k.elements),d=x.useMemo(()=>{const k=[],L=c.find($=>$.parent_id===t.id&&($.tag==="TableHeader"||$.tag==="ColumnGroup"));return L&&c.filter(z=>z.parent_id===L.id&&z.tag==="Column").sort((z,j)=>(z.order_num||0)-(j.order_num||0)).forEach(z=>{k.push({id:z.id,label:z.props?.children||z.props?.label||"Column",width:z.props?.width||100})}),k.length===0&&(k.push({id:"col1",label:"Column 1",width:100}),k.push({id:"col2",label:"Column 2",width:100})),k},[c,t.id]),f=x.useMemo(()=>{const k=[],$=c.find(j=>j.parent_id===t.id&&j.tag==="TableBody")?.id||t.id;return c.filter(j=>j.parent_id===$&&j.tag==="Row").sort((j,H)=>(j.order_num||0)-(H.order_num||0)).forEach(j=>{const W=c.filter(O=>O.parent_id===j.id&&O.tag==="Cell").sort((O,G)=>(O.order_num||0)-(G.order_num||0)).map(O=>({id:O.id,value:O.props?.children||O.props?.value||""}));for(;W.length<d.length;)W.push({id:`empty-${W.length}`,value:""});k.push({id:j.id,cells:W,isSelected:j.props?.isSelected||!1})}),k},[c,t.id,d.length]),p=d.reduce((k,L)=>k+L.width,0),m=a.rowMinHeight,v=m+f.length*a.rowMinHeight+(f.length>0?0:40),y=x.useMemo(()=>new Sn({fontSize:a.headerFontSize,fill:l.headerTextColor,fontFamily:"Inter, system-ui, sans-serif",fontWeight:"500"}),[a.headerFontSize,l.headerTextColor]),A=x.useMemo(()=>new Sn({fontSize:a.fontSize,fill:l.textColor,fontFamily:"Inter, system-ui, sans-serif"}),[a.fontSize,l.textColor]),C=x.useMemo(()=>new Sn({fontSize:a.fontSize,fill:l.rowSelectedTextColor,fontFamily:"Inter, system-ui, sans-serif"}),[a.fontSize,l.rowSelectedTextColor]),E=x.useCallback(k=>{k.clear(),k.roundRect(0,0,p,v,a.borderRadius),k.fill(l.backgroundColor),k.stroke({width:1,color:l.borderColor}),e&&(k.roundRect(-2,-2,p+4,v+4,a.borderRadius+2),k.stroke({width:2,color:l.focusColor}))},[p,v,a.borderRadius,l,e]),I=x.useCallback(k=>{k.clear(),k.roundRect(0,0,p,m,a.borderRadius),k.fill(l.headerBgColor),k.moveTo(0,m),k.lineTo(p,m),k.stroke({width:1,color:l.borderColor})},[p,m,a.borderRadius,l]),D=x.useCallback((k,L)=>{k.clear(),k.moveTo(0,0),k.lineTo(0,L),k.stroke({width:1,color:l.borderColor,alpha:.5})},[l.borderColor]),T=x.useCallback((k,L,$,z,j)=>{k.clear();let H=4294967040;j?H=l.rowSelectedBgColor:z&&(H=l.rowHoverBgColor),H!==4294967040&&(k.rect(0,0,L,$),k.fill(H)),k.moveTo(0,$),k.lineTo(L,$),k.stroke({width:1,color:l.borderColor,alpha:.3})},[l]),M=x.useCallback(k=>{r&&r(t.id,{selectedRowId:k})},[t.id,r]),P=x.useCallback(()=>{n&&n(t.id)},[t.id,n]);return h.jsxs("pixiContainer",{eventMode:"static",cursor:"pointer",onPointerDown:P,children:[h.jsx("pixiGraphics",{draw:E}),h.jsxs("pixiContainer",{y:0,children:[h.jsx("pixiGraphics",{draw:I}),d.map((k,L)=>{const $=d.slice(0,L).reduce((z,j)=>z+j.width,0);return h.jsxs("pixiContainer",{x:$,children:[L>0&&h.jsx("pixiGraphics",{draw:z=>D(z,m)}),h.jsx("pixiText",{text:k.label,style:y,x:a.cellPaddingX,y:(m-a.headerFontSize)/2})]},k.id)})]}),f.map((k,L)=>{const $=m+L*a.rowMinHeight;return h.jsxs("pixiContainer",{y:$,eventMode:"static",cursor:"pointer",onPointerOver:()=>{const z=u.current.get(k.id);z&&T(z,p,a.rowMinHeight,!0,k.isSelected||!1)},onPointerOut:()=>{const z=u.current.get(k.id);z&&T(z,p,a.rowMinHeight,!1,k.isSelected||!1)},onPointerDown:z=>{z.stopPropagation(),M(k.id)},children:[h.jsx("pixiGraphics",{ref:z=>{z&&u.current.set(k.id,z)},draw:z=>T(z,p,a.rowMinHeight,!1,k.isSelected||!1)}),d.map((z,j)=>{const H=d.slice(0,j).reduce((O,G)=>O+G.width,0),W=k.cells[j]?.value||"";return h.jsxs("pixiContainer",{x:H,children:[j>0&&h.jsx("pixiGraphics",{draw:O=>D(O,a.rowMinHeight)}),h.jsx("pixiText",{text:W,style:k.isSelected?C:A,x:a.cellPaddingX,y:(a.rowMinHeight-a.fontSize)/2})]},`${k.id}-${z.id}`)})]},k.id)}),f.length===0&&h.jsx("pixiText",{text:"No data",style:new Sn({fontSize:a.fontSize,fill:10265519,fontFamily:"Inter, system-ui, sans-serif",fontStyle:"italic"}),x:p/2,y:m+20,anchor:{x:.5,y:0}})]})}function Vgt({element:t,isSelected:e=!1,onClick:n,onChange:r}){pn(fn);const i=t.props||{},s=i.variant||"default",o=i.size||"md",a=i.title||i.label||"Disclosure",l=i.content||i.children||"Panel content",u=i.defaultExpanded||i.isExpanded||!1,[c,d]=x.useState(u),[f,p]=x.useState(!1),m=x.useMemo(()=>rge(o),[o]),v=x.useMemo(()=>ige(s),[s]),y=i.width||280,A=m.fontSize+m.padding*2+m.gap,C=c?m.fontSize*2+m.padding*2:0,E=A+(c?C+m.gap:0),I=x.useCallback(L=>{L.clear(),L.roundRect(0,0,y,E,m.borderRadius),L.fill({color:c?v.expandedBgColor:v.backgroundColor}),L.stroke({color:v.borderColor,width:1}),e&&(L.roundRect(-2,-2,y+4,E+4,m.borderRadius+2),L.stroke({color:v.focusColor,width:2}))},[y,E,m,v,e,c]),D=x.useCallback(L=>{L.clear(),f&&(L.roundRect(m.padding,m.padding,y-m.padding*2,A-m.padding,m.borderRadius-2),L.fill({color:v.triggerHoverBgColor}));const $=m.padding*2,z=A/2,j=m.chevronSize/2;L.moveTo($,z-j),c?(L.lineTo($+j,z+j/2),L.lineTo($-j,z+j/2)):(L.lineTo($+j,z),L.lineTo($,z+j)),L.closePath(),L.fill({color:v.textColor})},[y,A,m,v,f,c]),T=x.useCallback(L=>{L.clear(),c&&(L.moveTo(m.panelIndent,0),L.lineTo(y-m.padding,0),L.stroke({color:v.borderColor,width:1,alpha:.3}))},[y,m,v,c]),M=x.useMemo(()=>({fontSize:m.fontSize,fontWeight:"500",fill:v.textColor,fontFamily:"Inter, system-ui, sans-serif"}),[m,v]),P=x.useMemo(()=>({fontSize:m.fontSize*.9,fill:v.panelTextColor,fontFamily:"Inter, system-ui, sans-serif",wordWrap:!0,wordWrapWidth:y-m.panelIndent-m.padding*2}),[m,v,y]),k=x.useCallback(()=>{d(!c),n?.(t.id),r?.(t.id,!c)},[t.id,c,n,r]);return h.jsxs("pixiContainer",{eventMode:"static",cursor:"pointer",onPointerEnter:()=>p(!0),onPointerLeave:()=>p(!1),onPointerTap:k,children:[h.jsx("pixiGraphics",{draw:I}),h.jsx("pixiGraphics",{draw:D}),h.jsx("pixiText",{text:a,style:M,x:m.padding*2+m.chevronSize+m.gap,y:A/2-m.fontSize/2}),c&&h.jsxs("pixiContainer",{y:A+m.gap,children:[h.jsx("pixiGraphics",{draw:T}),h.jsx("pixiText",{text:l,style:P,x:m.panelIndent,y:m.padding})]})]})}function Ggt({element:t,isSelected:e=!1,onClick:n,onChange:r}){pn(fn);const i=t.props||{},s=i.variant||"default",o=i.size||"md",a=i.allowsMultipleExpanded||!1,l=Pe(L=>L.elements),u=x.useMemo(()=>l.filter(L=>L.parent_id===t.id).sort((L,$)=>(L.order_num||0)-($.order_num||0)).map(L=>({id:L.id,title:L.props?.title||L.props?.label||"Item",content:L.props?.content||L.props?.children||"Content",defaultExpanded:L.props?.defaultExpanded||!1})),[l,t.id]),[c,d]=x.useState(()=>{const L=new Set;return u.forEach($=>{$.defaultExpanded&&L.add($.id)}),L}),[f,p]=x.useState(null),m=x.useMemo(()=>rge(o),[o]),v=x.useMemo(()=>ige(s),[s]),y=i.width||280,A=m.gap,C=m.fontSize+m.padding*2+m.gap,E=m.fontSize*2+m.padding*2,I=x.useMemo(()=>{let L=m.padding*2;return u.forEach(($,z)=>{L+=C,c.has($.id)&&(L+=E+m.gap),z<u.length-1&&(L+=A)}),Math.max(L,50)},[u,c,C,E,m,A]),D=x.useCallback(L=>{d($=>{const z=new Set($);return z.has(L)?z.delete(L):(a||z.clear(),z.add(L)),z}),n?.(t.id),r?.(t.id,{expandedId:L})},[t.id,a,n,r]),T=x.useCallback(L=>{L.clear(),L.roundRect(0,0,y,I,m.borderRadius),L.fill({color:v.backgroundColor}),L.stroke({color:v.borderColor,width:1}),e&&(L.roundRect(-2,-2,y+4,I+4,m.borderRadius+2),L.stroke({color:v.focusColor,width:2}))},[y,I,m,v,e]),M=x.useMemo(()=>({fontSize:m.fontSize,fontWeight:"500",fill:v.textColor,fontFamily:"Inter, system-ui, sans-serif"}),[m,v]),P=x.useMemo(()=>({fontSize:m.fontSize*.9,fill:v.panelTextColor,fontFamily:"Inter, system-ui, sans-serif",wordWrap:!0,wordWrapWidth:y-m.panelIndent-m.padding*2}),[m,v,y]),k=x.useMemo(()=>u.length===0?[]:u.reduce((L,$,z)=>{let H=z===0?m.padding:L[z-1];if(z>0){const W=u[z-1],O=c.has(W.id);H+=C,O&&(H+=E+m.gap),H+=A}return[...L,H]},[]),[u,c,C,E,m.padding,m.gap,A]);if(u.length===0){const L={fontSize:m.fontSize,fill:10265519,fontFamily:"Inter, system-ui, sans-serif"};return h.jsxs("pixiContainer",{eventMode:"static",cursor:"pointer",onPointerTap:()=>n?.(t.id),children:[h.jsx("pixiGraphics",{draw:T}),h.jsx("pixiText",{text:"No items",style:L,x:y/2,y:I/2,anchor:.5})]})}return h.jsxs("pixiContainer",{children:[h.jsx("pixiGraphics",{draw:T}),u.map((L,$)=>{const z=k[$]??m.padding,j=c.has(L.id),H=f===L.id,W=O=>{O.clear(),H&&(O.roundRect(m.padding,0,y-m.padding*2,C,m.borderRadius-2),O.fill({color:v.triggerHoverBgColor})),j&&(O.roundRect(m.padding,0,y-m.padding*2,C+E+m.gap,m.borderRadius-2),O.fill({color:v.expandedBgColor}));const G=m.padding*2,q=C/2,J=m.chevronSize/2;O.moveTo(G,q-J),j?(O.lineTo(G+J,q+J/2),O.lineTo(G-J,q+J/2)):(O.lineTo(G+J,q),O.lineTo(G,q+J)),O.closePath(),O.fill({color:v.textColor}),$<u.length-1&&!j&&(O.moveTo(m.padding,C+A/2),O.lineTo(y-m.padding,C+A/2),O.stroke({color:v.borderColor,width:1,alpha:.3}))};return h.jsxs("pixiContainer",{y:z,eventMode:"static",cursor:"pointer",onPointerEnter:()=>p(L.id),onPointerLeave:()=>p(null),onPointerTap:()=>D(L.id),children:[h.jsx("pixiGraphics",{draw:W}),h.jsx("pixiText",{text:L.title,style:M,x:m.padding*2+m.chevronSize+m.gap,y:C/2-m.fontSize/2}),j&&h.jsx("pixiText",{text:L.content,style:P,x:m.panelIndent,y:C+m.gap})]},L.id)})]})}function Kgt({element:t,isSelected:e=!1,onClick:n}){pn(fn);const r=t.props||{},i=r.variant||"default",s=r.size||"md",o=r.placement||"top",a=r.content||r.children||"Tooltip",l=x.useMemo(()=>Qht(s),[s]),u=x.useMemo(()=>Uht(i),[i]),d=Math.min(a.length*l.fontSize*.6,l.maxWidth-l.paddingX*2)+l.paddingX*2,f=l.fontSize+l.paddingY*2,p=6,m=x.useCallback(y=>{y.clear(),y.roundRect(0,0,d,f,l.borderRadius),y.fill({color:u.backgroundColor});const A=d/2;switch(o){case"top":y.moveTo(A-p,f),y.lineTo(A,f+p),y.lineTo(A+p,f),y.closePath(),y.fill({color:u.arrowColor});break;case"bottom":y.moveTo(A-p,0),y.lineTo(A,-p),y.lineTo(A+p,0),y.closePath(),y.fill({color:u.arrowColor});break;case"left":y.moveTo(d,f/2-p),y.lineTo(d+p,f/2),y.lineTo(d,f/2+p),y.closePath(),y.fill({color:u.arrowColor});break;case"right":y.moveTo(0,f/2-p),y.lineTo(-p,f/2),y.lineTo(0,f/2+p),y.closePath(),y.fill({color:u.arrowColor});break}e&&(y.roundRect(-2,-2,d+4,f+4,l.borderRadius+2),y.stroke({color:3900150,width:2}))},[d,f,l,u,o,e,p]),v=x.useMemo(()=>({fontSize:l.fontSize,fill:u.textColor,fontFamily:"Inter, system-ui, sans-serif",wordWrap:!0,wordWrapWidth:l.maxWidth-l.paddingX*2}),[l,u]);return h.jsxs("pixiContainer",{eventMode:"static",cursor:"pointer",onPointerTap:()=>n?.(t.id),children:[h.jsx("pixiGraphics",{draw:m}),h.jsx("pixiText",{text:a,style:v,x:l.paddingX,y:l.paddingY})]})}function Wgt({element:t,isSelected:e=!1,onClick:n}){pn(fn);const r=t.props||{},i=r.variant||"default",s=r.size||"md",o=r.placement||"bottom",a=r.title||"",l=r.content||r.children||"Popover content",[u,c]=x.useState(!1),d=x.useMemo(()=>Vht(s),[s]),f=x.useMemo(()=>Ght(i),[i]),p=r.width||d.maxWidth,m=a?d.fontSize*1.5:0,v=Math.ceil(l.length*d.fontSize*.5/(p-d.padding*2)),y=Math.max(v,1)*d.fontSize*1.4,A=d.padding*2+m+y,C=8,E=x.useCallback(T=>{T.clear(),T.roundRect(2,2,p,A,d.borderRadius),T.fill({color:f.shadowColor}),T.roundRect(0,0,p,A,d.borderRadius),T.fill({color:f.backgroundColor}),f.borderColor!==0&&(T.roundRect(0,0,p,A,d.borderRadius),T.stroke({color:f.borderColor,width:1}));const M=p/2;switch(o){case"top":T.moveTo(M-C,A),T.lineTo(M,A+C),T.lineTo(M+C,A),T.closePath(),T.fill({color:f.arrowFillColor}),f.arrowStrokeColor!==0&&(T.moveTo(M-C,A),T.lineTo(M,A+C),T.lineTo(M+C,A),T.stroke({color:f.arrowStrokeColor,width:1}));break;case"bottom":T.moveTo(M-C,0),T.lineTo(M,-C),T.lineTo(M+C,0),T.closePath(),T.fill({color:f.arrowFillColor}),f.arrowStrokeColor!==0&&(T.moveTo(M-C,0),T.lineTo(M,-C),T.lineTo(M+C,0),T.stroke({color:f.arrowStrokeColor,width:1}));break;case"left":T.moveTo(p,A/2-C),T.lineTo(p+C,A/2),T.lineTo(p,A/2+C),T.closePath(),T.fill({color:f.arrowFillColor});break;case"right":T.moveTo(0,A/2-C),T.lineTo(-C,A/2),T.lineTo(0,A/2+C),T.closePath(),T.fill({color:f.arrowFillColor});break}e&&(T.roundRect(-2,-2,p+4,A+4,d.borderRadius+2),T.stroke({color:3900150,width:2})),u&&!e&&(T.roundRect(-1,-1,p+2,A+2,d.borderRadius+1),T.stroke({color:10265519,width:1}))},[p,A,d,f,o,e,u]),I=x.useMemo(()=>({fontSize:d.fontSize,fontWeight:"bold",fill:f.textColor,fontFamily:"Inter, system-ui, sans-serif"}),[d,f]),D=x.useMemo(()=>({fontSize:d.fontSize*.9,fill:f.textColor,fontFamily:"Inter, system-ui, sans-serif",wordWrap:!0,wordWrapWidth:p-d.padding*2}),[d,f,p]);return h.jsxs("pixiContainer",{eventMode:"static",cursor:"pointer",onPointerEnter:()=>c(!0),onPointerLeave:()=>c(!1),onPointerTap:()=>n?.(t.id),children:[h.jsx("pixiGraphics",{draw:E}),a&&h.jsx("pixiText",{text:a,style:I,x:d.padding,y:d.padding}),h.jsx("pixiText",{text:l,style:D,x:d.padding,y:d.padding+m})]})}function qgt({element:t,isSelected:e=!1,onClick:n}){pn(fn);const r=t.props||{},i=r.variant||"default",s=r.size||"md",o=r.title||"Dialog Title",a=r.content||r.children||"Dialog content goes here.",l=r.showBackdrop!==!1,[u,c]=x.useState(!1),d=x.useMemo(()=>Wht(s),[s]),f=x.useMemo(()=>qht(i),[i]),p=r.width||d.minWidth,m=d.titleFontSize+d.padding,v=Math.ceil(a.length*d.fontSize*.5/(p-d.padding*2)),y=Math.max(v,2)*d.fontSize*1.5,A=40+d.padding,C=d.padding*2+m+y+A,E=20,I=p+E*2,D=C+E*2,T=x.useCallback(q=>{q.clear(),l&&(q.rect(0,0,I,D),q.fill({color:f.backdropColor}))},[I,D,f,l]),M=x.useCallback(q=>{q.clear(),q.roundRect(4,4,p,C,d.borderRadius),q.fill({color:51}),q.roundRect(0,0,p,C,d.borderRadius),q.fill({color:f.backgroundColor}),f.borderColor!==0&&(q.roundRect(0,0,p,C,d.borderRadius),q.stroke({color:f.borderColor,width:1})),q.moveTo(d.padding,m+d.padding),q.lineTo(p-d.padding,m+d.padding),q.stroke({color:13292508,width:1});const J=C-A;q.moveTo(d.padding,J),q.lineTo(p-d.padding,J),q.stroke({color:13292508,width:1});const te=80,Y=32,Z=J+(A-Y)/2,ee=p-d.padding-te*2-8;q.roundRect(ee,Z,te,Y,6),q.stroke({color:10265519,width:1});const ie=p-d.padding-te;q.roundRect(ie,Z,te,Y,6),q.fill({color:f.titleColor!==3621201?f.titleColor:3900150}),e&&(q.roundRect(-2,-2,p+4,C+4,d.borderRadius+2),q.stroke({color:3900150,width:2})),u&&!e&&(q.roundRect(-1,-1,p+2,C+2,d.borderRadius+1),q.stroke({color:10265519,width:1}))},[p,C,m,A,d,f,e,u]),P=x.useMemo(()=>({fontSize:d.titleFontSize,fontWeight:"500",fill:f.titleColor,fontFamily:"Inter, system-ui, sans-serif"}),[d,f]),k=x.useMemo(()=>({fontSize:d.fontSize,fill:f.textColor,fontFamily:"Inter, system-ui, sans-serif",wordWrap:!0,wordWrapWidth:p-d.padding*2,lineHeight:d.fontSize*1.5}),[d,f,p]),L=x.useMemo(()=>({fontSize:14,fill:7041664,fontFamily:"Inter, system-ui, sans-serif"}),[]),$=x.useMemo(()=>({fontSize:14,fill:16777215,fontFamily:"Inter, system-ui, sans-serif"}),[]),z=80,j=32,W=C-A+(A-j)/2,O=p-d.padding-z*2-8,G=p-d.padding-z;return h.jsxs("pixiContainer",{eventMode:"static",cursor:"pointer",onPointerEnter:()=>c(!0),onPointerLeave:()=>c(!1),onPointerTap:()=>n?.(t.id),children:[l&&h.jsx("pixiGraphics",{draw:T}),h.jsxs("pixiContainer",{x:l?E:0,y:l?E:0,children:[h.jsx("pixiGraphics",{draw:M}),h.jsx("pixiText",{text:o,style:P,x:d.padding,y:d.padding}),h.jsx("pixiText",{text:a,style:k,x:d.padding,y:m+d.padding*1.5}),h.jsx("pixiText",{text:"Cancel",style:L,x:O+z/2,y:W+j/2,anchor:.5}),h.jsx("pixiText",{text:"Confirm",style:$,x:G+z/2,y:W+j/2,anchor:.5})]})]})}function Ygt(t){if(!t)return 3900150;if(t.startsWith("#"))return parseInt(t.slice(1),16);if(t.startsWith("rgb")){const e=t.match(/\d+/g);if(e&&e.length>=3){const[n,r,i]=e.map(Number);return n<<16|r<<8|i}}return 3900150}function Xgt({element:t,isSelected:e=!1,onClick:n}){pn(fn);const r=t.props||{},i=r.variant||"default",s=r.size||"md",o=r.color,a=x.useMemo(()=>Xht(s),[s]),l=x.useMemo(()=>Jht(i),[i]),u=x.useMemo(()=>Ygt(o),[o]),c=x.useCallback(d=>{d.clear();const f=4;for(let p=0;p<a.width;p+=f*2)for(let m=0;m<a.height;m+=f*2)d.rect(p,m,f,f),d.rect(p+f,m+f,f,f);d.fill({color:l.checkerColor}),d.roundRect(0,0,a.width,a.height,a.borderRadius),d.fill({color:u}),d.roundRect(0,0,a.width,a.height,a.borderRadius),d.stroke({color:e?l.selectedBorderColor:l.borderColor,width:a.borderWidth}),e&&(d.roundRect(-2,-2,a.width+4,a.height+4,a.borderRadius+2),d.stroke({color:l.selectedBorderColor,width:2}))},[a,l,u,e]);return h.jsx("pixiContainer",{eventMode:"static",cursor:"pointer",onPointerTap:()=>n?.(t.id),children:h.jsx("pixiGraphics",{draw:c})})}function Jgt({element:t,isSelected:e=!1,onClick:n}){pn(fn);const r=t.props||{},i=r.variant||"default",s=r.size||"md",o=r.channel||"hue",a=r.value??.5,l=x.useMemo(()=>Zht(s),[s]),u=x.useMemo(()=>eft(i),[i]),c=x.useMemo(()=>{const p=l.trackWidth-l.thumbSize;return l.thumbSize/2+a*p},[l,a]),d=x.useCallback(p=>{p.clear();const m=(l.trackHeight-l.trackHeight*.8)/2,v=l.trackHeight*.8,y=12,A=l.trackWidth/y;for(let C=0;C<y;C++){let E;if(o==="hue")E=jw(C/y,1,.5);else if(o==="saturation")E=jw(.6,C/y,.5);else if(o==="lightness"||o==="brightness"){const I=C/y;E=Math.floor(I*255)<<16|Math.floor(I*255)<<8|Math.floor(I*255)}else o==="alpha"?E=3900150:E=jw(C/y,1,.5);p.rect(C*A,m,A+1,v),p.fill({color:E})}p.roundRect(0,m,l.trackWidth,v,l.borderRadius/2),p.stroke({color:13292508,width:1}),e&&(p.roundRect(-2,m-2,l.trackWidth+4,v+4,l.borderRadius/2+2),p.stroke({color:u.focusRingColor,width:2}))},[l,u,o,e]),f=x.useCallback(p=>{p.clear();const m=l.trackHeight/2;p.circle(0,m,l.thumbSize/2),p.fill({color:u.thumbBorderColor}),p.circle(0,m,l.thumbSize/2-l.thumbBorderWidth),p.stroke({color:u.thumbInnerBorderColor,width:1});const v=o==="hue"?jw(a,1,.5):o==="saturation"?jw(.6,a,.5):Math.floor(a*255)<<16|Math.floor(a*255)<<8|Math.floor(a*255);p.circle(0,m,l.thumbSize/2-l.thumbBorderWidth-2),p.fill({color:v})},[l,u,o,a]);return h.jsxs("pixiContainer",{eventMode:"static",cursor:"pointer",onPointerTap:()=>n?.(t.id),children:[h.jsx("pixiGraphics",{draw:d}),h.jsx("pixiGraphics",{draw:f,x:c})]})}function jw(t,e,n){const r=(1-Math.abs(2*n-1))*e,i=r*(1-Math.abs(t*6%2-1)),s=n-r/2;let o=0,a=0,l=0;const u=t*6;u<1?(o=r,a=i,l=0):u<2?(o=i,a=r,l=0):u<3?(o=0,a=r,l=i):u<4?(o=0,a=i,l=r):u<5?(o=i,a=0,l=r):(o=r,a=0,l=i);const c=Math.floor((o+s)*255),d=Math.floor((a+s)*255),f=Math.floor((l+s)*255);return c<<16|d<<8|f}function Zgt({element:t,isSelected:e=!1,onClick:n}){pn(fn);const r=t.props||{},i=r.variant||"default",s=r.size||"md",o=r.value||"12:00",a=r.hourCycle||12,l=r.showSeconds??!1,u=x.useMemo(()=>nft(s),[s]),c=x.useMemo(()=>rft(i),[i]),d=x.useMemo(()=>{const[D,T]=o.split(" "),M=D.split(":");return{hour:M[0]||"12",minute:M[1]||"00",second:M[2]||"00",period:T||(a===12?"PM":"")}},[o,a]),f=u.fontSize*1.5,p=u.fontSize*.5,m=x.useMemo(()=>{let D=u.padding*2;return D+=f*2,D+=p,D+=f*2,l&&(D+=p,D+=f*2),a===12&&(D+=u.gap,D+=f*1.5),D},[u,f,p,l,a]),v=x.useCallback(D=>{D.clear(),D.roundRect(0,0,m,u.height,u.borderRadius),D.fill({color:c.backgroundColor}),D.stroke({color:e?c.focusBorderColor:c.borderColor,width:1}),e&&(D.roundRect(-2,-2,m+4,u.height+4,u.borderRadius+2),D.stroke({color:c.focusBorderColor,width:2}))},[m,u,c,e]),y=x.useMemo(()=>({fontSize:u.fontSize,fill:c.textColor,fontFamily:"monospace"}),[u,c]),A=x.useMemo(()=>({fontSize:u.fontSize,fill:c.placeholderColor,fontFamily:"monospace"}),[u,c]);let C=u.padding;const E=u.height/2-u.fontSize/2,I=[];return I.push({text:d.hour.padStart(2,"0"),x:C,isSeparator:!1}),C+=f*1.2,I.push({text:":",x:C,isSeparator:!0}),C+=p,I.push({text:d.minute.padStart(2,"0"),x:C,isSeparator:!1}),C+=f*1.2,l&&(I.push({text:":",x:C,isSeparator:!0}),C+=p,I.push({text:d.second.padStart(2,"0"),x:C,isSeparator:!1}),C+=f*1.2),a===12&&(C+=u.gap,I.push({text:d.period,x:C,isSeparator:!1})),h.jsxs("pixiContainer",{eventMode:"static",cursor:"text",onPointerTap:()=>n?.(t.id),children:[h.jsx("pixiGraphics",{draw:v}),I.map((D,T)=>h.jsx("pixiText",{text:D.text,style:D.isSeparator?A:y,x:D.x,y:E},T))]})}function emt({element:t,isSelected:e=!1,onClick:n}){pn(fn);const r=t.props||{},i=r.variant||"default",s=r.size||"md",o=r.value||"2024-01-15",a=x.useMemo(()=>sft(s),[s]),l=x.useMemo(()=>oft(i),[i]),u=x.useMemo(()=>{const E=o.split("-");return{year:E[0]||"2024",month:E[1]||"01",day:E[2]||"15"}},[o]),c=a.fontSize*1.2,d=a.fontSize*.6,f=x.useMemo(()=>{let E=a.padding*2;return E+=c*3,E+=d,E+=c*1.5,E+=d,E+=c*1.5,E},[a,c,d]),p=x.useCallback(E=>{E.clear(),E.roundRect(0,0,f,a.height,a.borderRadius),E.fill({color:l.backgroundColor}),E.stroke({color:e?l.focusBorderColor:l.borderColor,width:1}),e&&(E.roundRect(-2,-2,f+4,a.height+4,a.borderRadius+2),E.stroke({color:l.focusBorderColor,width:2}))},[f,a,l,e]),m=x.useMemo(()=>({fontSize:a.fontSize,fill:l.textColor,fontFamily:"monospace"}),[a,l]),v=x.useMemo(()=>({fontSize:a.fontSize,fill:l.placeholderColor,fontFamily:"monospace"}),[a,l]);let y=a.padding;const A=a.height/2-a.fontSize/2,C=[];return C.push({text:u.year,x:y,isSeparator:!1}),y+=c*2.5,C.push({text:"/",x:y,isSeparator:!0}),y+=d,C.push({text:u.month.padStart(2,"0"),x:y,isSeparator:!1}),y+=c*1.3,C.push({text:"/",x:y,isSeparator:!0}),y+=d,C.push({text:u.day.padStart(2,"0"),x:y,isSeparator:!1}),h.jsxs("pixiContainer",{eventMode:"static",cursor:"text",onPointerTap:()=>n?.(t.id),children:[h.jsx("pixiGraphics",{draw:p}),C.map((E,I)=>h.jsx("pixiText",{text:E.text,style:E.isSeparator?v:m,x:E.x,y:A},I))]})}function tmt({element:t,isSelected:e=!1,onClick:n}){pn(fn);const r=t.props||{},i=r.variant||"default",s=r.size||"md",o=r.hue??0,a=r.xValue??.7,l=r.yValue??.3,u=x.useMemo(()=>aft(s),[s]),c=x.useMemo(()=>lft(i),[i]),d=a*u.width,f=(1-l)*u.height,p=x.useCallback(v=>{v.clear();const y=8,A=u.width/y,C=u.height/y;for(let E=0;E<y;E++)for(let I=0;I<y;I++){const D=E/(y-1),T=1-I/(y-1),M=eY(o,D,T);v.rect(E*A,I*C,A+1,C+1),v.fill({color:M})}v.roundRect(0,0,u.width,u.height,u.borderRadius),v.stroke({color:c.borderColor,width:1}),e&&(v.roundRect(-2,-2,u.width+4,u.height+4,u.borderRadius+2),v.stroke({color:c.focusRingColor,width:2}))},[u,c,o,e]),m=x.useCallback(v=>{v.clear(),v.circle(0,0,u.thumbSize/2),v.fill({color:c.thumbBorderColor}),v.circle(0,0,u.thumbSize/2-u.thumbBorderWidth),v.stroke({color:c.thumbInnerBorderColor,width:1});const y=eY(o,a,l);v.circle(0,0,u.thumbSize/2-u.thumbBorderWidth-1),v.fill({color:y})},[u,c,o,a,l]);return h.jsxs("pixiContainer",{eventMode:"static",cursor:"crosshair",onPointerTap:()=>n?.(t.id),children:[h.jsx("pixiGraphics",{draw:p}),h.jsx("pixiGraphics",{draw:m,x:d,y:f})]})}function eY(t,e,n){const r=n*e,i=r*(1-Math.abs(t/60%2-1)),s=n-r;let o=0,a=0,l=0;const u=t%360;u<60?(o=r,a=i,l=0):u<120?(o=i,a=r,l=0):u<180?(o=0,a=r,l=i):u<240?(o=0,a=i,l=r):u<300?(o=i,a=0,l=r):(o=r,a=0,l=i);const c=Math.floor((o+s)*255),d=Math.floor((a+s)*255),f=Math.floor((l+s)*255);return c<<16|d<<8|f}const nmt=["S","M","T","W","T","F","S"],rmt=["January","February","March","April","May","June","July","August","September","October","November","December"];function imt({element:t,isSelected:e=!1,onClick:n}){pn(fn);const r=t.props||{},i=r.variant||"default",s=r.size||"md",o=r.value||"",a=x.useMemo(()=>c7(s),[s]),l=x.useMemo(()=>d7(i),[i]),u=x.useMemo(()=>new Date,[]),[c,d]=x.useState(()=>u.getFullYear()),[f,p]=x.useState(()=>u.getMonth()),m=x.useMemo(()=>{if(!o)return null;const H=o.split("-");return{year:parseInt(H[0]),month:parseInt(H[1])-1,day:parseInt(H[2])}},[o]),v=x.useMemo(()=>{const H=a.cellSize,W=a.buttonSize+a.gap,O=a.fontSize+a.gap,G=6,q=H*G+a.gap*(G-1);return{cellSize:H,calendarWidth:H*7+a.gap*6+a.padding*2,headerHeight:W,weekdayHeight:O,gridHeight:q,calendarHeight:a.padding*2+W+O+q}},[a]),{cellSize:y,calendarWidth:A,headerHeight:C,weekdayHeight:E,calendarHeight:I}=v,D=x.useMemo(()=>{const H=new Date(c,f,1).getDay(),W=new Date(c,f+1,0).getDate(),O=new Date(c,f,0).getDate(),G=[];for(let J=H-1;J>=0;J--)G.push({day:O-J,isCurrentMonth:!1,isToday:!1,isSelected:!1});for(let J=1;J<=W;J++){const te=J===u.getDate()&&f===u.getMonth()&&c===u.getFullYear(),Y=m&&J===m.day&&f===m.month&&c===m.year;G.push({day:J,isCurrentMonth:!0,isToday:te,isSelected:!!Y})}const q=42-G.length;for(let J=1;J<=q;J++)G.push({day:J,isCurrentMonth:!1,isToday:!1,isSelected:!1});return G},[c,f,m,u]),T=x.useCallback(H=>{H.clear(),H.roundRect(0,0,A,I,a.borderRadius),H.fill({color:l.backgroundColor}),H.stroke({color:l.borderColor,width:1}),e&&(H.roundRect(-2,-2,A+4,I+4,a.borderRadius+2),H.stroke({color:3900150,width:2}))},[A,I,a,l,e]),M=x.useCallback((H,W)=>{H.clear(),H.roundRect(0,0,a.buttonSize,a.buttonSize,4),H.fill({color:l.hoverBgColor});const O=a.buttonSize/2,G=a.buttonSize/2,q=a.buttonSize*.25;W?(H.moveTo(O+q/2,G-q),H.lineTo(O-q/2,G),H.lineTo(O+q/2,G+q)):(H.moveTo(O-q/2,G-q),H.lineTo(O+q/2,G),H.lineTo(O-q/2,G+q)),H.stroke({color:l.textColor,width:2})},[a,l]),P=x.useMemo(()=>({fontSize:a.headerFontSize,fontWeight:"600",fill:l.headerColor,fontFamily:"Inter, system-ui, sans-serif"}),[a,l]),k=x.useMemo(()=>({fontSize:a.fontSize*.85,fill:l.weekdayColor,fontFamily:"Inter, system-ui, sans-serif"}),[a,l]),L=x.useMemo(()=>({fontSize:a.fontSize,fill:l.textColor,fontFamily:"Inter, system-ui, sans-serif"}),[a,l]),$=x.useCallback(()=>{f===0?(p(11),d(c-1)):p(f-1)},[f,c,p,d]),z=x.useCallback(()=>{f===11?(p(0),d(c+1)):p(f+1)},[f,c,p,d]),j=D.map((H,W)=>{const O=W%7,G=Math.floor(W/7),q=a.padding+O*(y+a.gap)+y/2,J=a.padding+C+E+G*(y+a.gap)+y/2,te=Z=>{Z.clear(),H.isSelected?(Z.circle(0,0,y/2-2),Z.fill({color:l.selectedBgColor})):H.isToday&&(Z.circle(0,0,y/2-2),Z.stroke({color:l.todayBorderColor,width:2}))},Y=H.isSelected?l.selectedTextColor:H.isCurrentMonth?l.textColor:l.outsideMonthColor;return h.jsxs("pixiContainer",{x:q,y:J,children:[h.jsx("pixiGraphics",{draw:te}),h.jsx("pixiText",{text:String(H.day),style:{...L,fill:Y},anchor:.5})]},W)});return h.jsxs("pixiContainer",{eventMode:"static",cursor:"pointer",onPointerTap:()=>n?.(t.id),children:[h.jsx("pixiGraphics",{draw:T}),h.jsx("pixiContainer",{x:a.padding,y:a.padding,eventMode:"static",cursor:"pointer",onPointerTap:$,children:h.jsx("pixiGraphics",{draw:H=>M(H,!0)})}),h.jsx("pixiText",{text:`${rmt[f]} ${c}`,style:P,x:A/2,y:a.padding+a.buttonSize/2,anchor:.5}),h.jsx("pixiContainer",{x:A-a.padding-a.buttonSize,y:a.padding,eventMode:"static",cursor:"pointer",onPointerTap:z,children:h.jsx("pixiGraphics",{draw:H=>M(H,!1)})}),nmt.map((H,W)=>h.jsx("pixiText",{text:H,style:k,x:a.padding+W*(y+a.gap)+y/2,y:a.padding+C+a.fontSize/2,anchor:.5},H+W)),j]})}function smt({element:t,isSelected:e=!1,onClick:n}){pn(fn);const r=t.props||{},i=r.variant||"default",s=r.size||"md",o=r.hue??0,a=x.useMemo(()=>cft(s),[s]),l=x.useMemo(()=>dft(i),[i]),u=o*Math.PI/180,c=(a.outerRadius+a.innerRadius)/2,d=a.outerRadius+Math.cos(u-Math.PI/2)*c,f=a.outerRadius+Math.sin(u-Math.PI/2)*c,p=x.useCallback(v=>{v.clear();const y=a.outerRadius,A=a.outerRadius,C=60,E=Math.PI*2/C;for(let I=0;I<C;I++){const D=I*E-Math.PI/2,T=D+E+.01,M=I/C*360,P=tY(M/360,1,.5);v.moveTo(y+Math.cos(D)*a.innerRadius,A+Math.sin(D)*a.innerRadius),v.lineTo(y+Math.cos(D)*a.outerRadius,A+Math.sin(D)*a.outerRadius),v.arc(y,A,a.outerRadius,D,T),v.lineTo(y+Math.cos(T)*a.innerRadius,A+Math.sin(T)*a.innerRadius),v.arc(y,A,a.innerRadius,T,D,!0),v.closePath(),v.fill({color:P})}e&&(v.circle(y,A,a.outerRadius+4),v.stroke({color:l.focusRingColor,width:2}))},[a,l,e]),m=x.useCallback(v=>{v.clear(),v.circle(0,0,a.thumbSize/2),v.fill({color:l.thumbBorderColor}),v.circle(0,0,a.thumbSize/2-a.thumbBorderWidth),v.stroke({color:l.thumbInnerBorderColor,width:1});const y=tY(o/360,1,.5);v.circle(0,0,a.thumbSize/2-a.thumbBorderWidth-1),v.fill({color:y})},[a,l,o]);return h.jsxs("pixiContainer",{eventMode:"static",cursor:"pointer",onPointerTap:()=>n?.(t.id),children:[h.jsx("pixiGraphics",{draw:p}),h.jsx("pixiGraphics",{draw:m,x:d,y:f})]})}function tY(t,e,n){const r=(1-Math.abs(2*n-1))*e,i=r*(1-Math.abs(t*6%2-1)),s=n-r/2;let o=0,a=0,l=0;const u=t*6;u<1?(o=r,a=i,l=0):u<2?(o=i,a=r,l=0):u<3?(o=0,a=r,l=i):u<4?(o=0,a=i,l=r):u<5?(o=i,a=0,l=r):(o=r,a=0,l=i);const c=Math.floor((o+s)*255),d=Math.floor((a+s)*255),f=Math.floor((l+s)*255);return c<<16|d<<8|f}const omt=["S","M","T","W","T","F","S"],nY=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function amt({element:t,isSelected:e=!1,onClick:n}){pn(fn);const r=t.props||{},i=r.variant||"default",s=r.size||"md",o=r.value||"",a=r.isOpen??!0,l=x.useMemo(()=>fft(s),[s]),u=x.useMemo(()=>pft(i),[i]),c=x.useMemo(()=>c7(s),[s]),d=x.useMemo(()=>d7(i),[i]),f=x.useMemo(()=>new Date,[]),p=f.getFullYear(),m=f.getMonth(),v=x.useMemo(()=>{if(!o)return null;const j=o.split("-");return{year:parseInt(j[0]),month:parseInt(j[1])-1,day:parseInt(j[2])}},[o]),y=x.useMemo(()=>o?v?`${nY[v.month]} ${v.day}, ${v.year}`:o:"Select date",[o,v]),A=l.calendarWidth,C=l.calendarCellSize,E=C*7+c.gap*6+c.padding*2,I=c.buttonSize+c.gap,D=c.fontSize+c.gap,T=C*6+c.gap*5,M=c.padding*2+I+D+T,P=x.useMemo(()=>{const j=new Date(p,m,1).getDay(),H=new Date(p,m+1,0).getDate(),W=new Date(p,m,0).getDate(),O=[];for(let q=j-1;q>=0;q--)O.push({day:W-q,isCurrentMonth:!1,isToday:!1,isSelected:!1});for(let q=1;q<=H;q++){const J=q===f.getDate()&&m===f.getMonth()&&p===f.getFullYear(),te=v&&q===v.day&&m===v.month&&p===v.year;O.push({day:q,isCurrentMonth:!0,isToday:J,isSelected:!!te})}const G=42-O.length;for(let q=1;q<=G;q++)O.push({day:q,isCurrentMonth:!1,isToday:!1,isSelected:!1});return O},[p,m,v,f]),k=x.useCallback(j=>{j.clear(),j.roundRect(0,0,A,l.fieldHeight,l.fieldBorderRadius),j.fill({color:u.fieldBackgroundColor}),j.stroke({color:e?u.focusBorderColor:u.fieldBorderColor,width:1});const H=A-l.buttonSize-l.fieldPadding/2;j.roundRect(H,(l.fieldHeight-l.buttonSize)/2,l.buttonSize,l.buttonSize,4),j.fill({color:u.buttonBackgroundColor});const W=H+l.buttonSize/2,O=l.fieldHeight/2,G=l.buttonSize*.4;j.rect(W-G/2,O-G/2,G,G),j.stroke({color:u.buttonIconColor,width:1.5}),j.moveTo(W-G/2,O-G/4),j.lineTo(W+G/2,O-G/4),j.stroke({color:u.buttonIconColor,width:1}),e&&(j.roundRect(-2,-2,A+4,l.fieldHeight+4,l.fieldBorderRadius+2),j.stroke({color:u.focusBorderColor,width:2}))},[A,l,u,e]),L=x.useCallback(j=>{j.clear(),j.roundRect(2,2,E,M,c.borderRadius),j.fill({color:32}),j.roundRect(0,0,E,M,c.borderRadius),j.fill({color:d.backgroundColor}),j.stroke({color:u.popoverBorderColor,width:1})},[E,M,c,d,u]),$=x.useMemo(()=>({fontSize:l.fieldFontSize,fill:o?u.fieldTextColor:u.fieldPlaceholderColor,fontFamily:"Inter, system-ui, sans-serif"}),[l,u,o]),z=x.useMemo(()=>({fontSize:c.fontSize,fill:d.textColor,fontFamily:"Inter, system-ui, sans-serif"}),[c,d]);return h.jsxs("pixiContainer",{eventMode:"static",cursor:"pointer",onPointerTap:()=>n?.(t.id),children:[h.jsx("pixiGraphics",{draw:k}),h.jsx("pixiText",{text:y,style:$,x:l.fieldPadding,y:l.fieldHeight/2-l.fieldFontSize/2}),a&&h.jsxs("pixiContainer",{y:l.fieldHeight+l.gap,children:[h.jsx("pixiGraphics",{draw:L}),h.jsx("pixiText",{text:`${nY[m]} ${p}`,style:{...z,fontWeight:"600",fontSize:c.headerFontSize},x:E/2,y:c.padding+c.buttonSize/2,anchor:.5}),omt.map((j,H)=>h.jsx("pixiText",{text:j,style:{...z,fill:d.weekdayColor,fontSize:c.fontSize*.85},x:c.padding+H*(C+c.gap)+C/2,y:c.padding+I+c.fontSize/2,anchor:.5},j+H)),P.slice(0,35).map((j,H)=>{const W=H%7,O=Math.floor(H/7),G=c.padding+W*(C+c.gap)+C/2,q=c.padding+I+D+O*(C+c.gap)+C/2,J=Y=>{Y.clear(),j.isSelected?(Y.circle(0,0,C/2-2),Y.fill({color:d.selectedBgColor})):j.isToday&&(Y.circle(0,0,C/2-2),Y.stroke({color:d.todayBorderColor,width:2}))},te=j.isSelected?d.selectedTextColor:j.isCurrentMonth?d.textColor:d.outsideMonthColor;return h.jsxs("pixiContainer",{x:G,y:q,children:[h.jsx("pixiGraphics",{draw:J}),h.jsx("pixiText",{text:String(j.day),style:{...z,fill:te},anchor:.5})]},H)})]})]})}function lmt({element:t,isSelected:e=!1,onClick:n}){pn(fn);const r=t.props||{},i=r.variant||"default",s=r.size||"md",o=r.hue??0,a=r.saturation??.8,l=r.brightness??.7,u=r.alpha??1,c=x.useMemo(()=>gft(s),[s]),d=x.useMemo(()=>mft(i),[i]),f=c.areaSize+c.padding*2,p=c.areaSize+c.gap*2+c.sliderHeight*2+c.gap+c.swatchSize+c.padding*2,m=x.useMemo(()=>lB(o,a,l),[o,a,l]),v=x.useCallback(z=>{z.clear(),z.roundRect(0,0,f,p,c.borderRadius),z.fill({color:d.backgroundColor}),z.stroke({color:d.borderColor,width:1}),e&&(z.roundRect(-2,-2,f+4,p+4,c.borderRadius+2),z.stroke({color:d.focusRingColor,width:2}))},[f,p,c,d,e]),y=x.useCallback(z=>{z.clear();const j=8,H=c.areaSize/j,W=c.areaSize/j;for(let O=0;O<j;O++)for(let G=0;G<j;G++){const q=O/(j-1),J=1-G/(j-1),te=lB(o,q,J);z.rect(O*H,G*W,H+1,W+1),z.fill({color:te})}z.roundRect(0,0,c.areaSize,c.areaSize,4),z.stroke({color:13292508,width:1})},[c,o]),A=x.useCallback(z=>{z.clear(),z.circle(0,0,c.thumbSize/2),z.fill({color:d.thumbBorderColor}),z.circle(0,0,c.thumbSize/2-2),z.stroke({color:d.thumbInnerBorderColor,width:1}),z.circle(0,0,c.thumbSize/2-3),z.fill({color:m})},[c,d,m]),C=x.useCallback(z=>{z.clear();const j=12,H=c.sliderWidth/j;for(let W=0;W<j;W++){const O=lB(W/j,1,1);z.rect(W*H,0,H+1,c.sliderHeight),z.fill({color:O})}z.roundRect(0,0,c.sliderWidth,c.sliderHeight,4),z.stroke({color:13292508,width:1})},[c]),E=x.useCallback(z=>{z.clear();const j=4;for(let O=0;O<c.sliderWidth;O+=j*2)for(let G=0;G<c.sliderHeight;G+=j*2)z.rect(O,G,j,j),z.rect(O+j,G+j,j,j);z.fill({color:15067115});const H=8,W=c.sliderWidth/H;for(let O=0;O<H;O++){const G=O/(H-1);z.rect(O*W,0,W+1,c.sliderHeight),z.fill({color:m,alpha:G})}z.roundRect(0,0,c.sliderWidth,c.sliderHeight,4),z.stroke({color:13292508,width:1})},[c,m]),I=x.useCallback((z,j)=>{z.clear(),z.circle(0,c.sliderHeight/2,c.thumbSize/2),z.fill({color:d.thumbBorderColor}),z.circle(0,c.sliderHeight/2,c.thumbSize/2-2),z.fill({color:j})},[c,d]),D=x.useCallback(z=>{z.clear();const j=4;for(let H=0;H<c.swatchSize;H+=j*2)for(let W=0;W<c.swatchSize;W+=j*2)z.rect(H,W,j,j),z.rect(H+j,W+j,j,j);z.fill({color:15067115}),z.roundRect(0,0,c.swatchSize,c.swatchSize,4),z.fill({color:m,alpha:u}),z.roundRect(0,0,c.swatchSize,c.swatchSize,4),z.stroke({color:13292508,width:1})},[c,m,u]),T=x.useMemo(()=>({fontSize:11,fill:d.labelColor,fontFamily:"Inter, system-ui, sans-serif"}),[d]),M=c.padding,P=c.padding,k=P+c.areaSize+c.gap,L=k+c.sliderHeight+c.gap,$=L+c.sliderHeight+c.gap;return h.jsxs("pixiContainer",{eventMode:"static",cursor:"pointer",onPointerTap:()=>n?.(t.id),children:[h.jsx("pixiGraphics",{draw:v}),h.jsxs("pixiContainer",{x:M,y:P,children:[h.jsx("pixiGraphics",{draw:y}),h.jsx("pixiGraphics",{draw:A,x:a*c.areaSize,y:(1-l)*c.areaSize})]}),h.jsxs("pixiContainer",{x:M,y:k,children:[h.jsx("pixiGraphics",{draw:C}),h.jsx("pixiGraphics",{draw:z=>I(z,lB(o,1,1)),x:o/360*c.sliderWidth})]}),h.jsxs("pixiContainer",{x:M,y:L,children:[h.jsx("pixiGraphics",{draw:E}),h.jsx("pixiGraphics",{draw:z=>I(z,m),x:u*c.sliderWidth})]}),h.jsxs("pixiContainer",{x:M,y:$,children:[h.jsx("pixiGraphics",{draw:D}),h.jsx("pixiText",{text:`#${m.toString(16).padStart(6,"0").toUpperCase()}`,style:T,x:c.swatchSize+c.gap,y:c.swatchSize/2-6})]})]})}function lB(t,e,n){const r=t%360/360,i=n*e,s=i*(1-Math.abs(r*6%2-1)),o=n-i;let a=0,l=0,u=0;const c=r*6;c<1?(a=i,l=s,u=0):c<2?(a=s,l=i,u=0):c<3?(a=0,l=i,u=s):c<4?(a=0,l=s,u=i):c<5?(a=s,l=0,u=i):(a=i,l=0,u=s);const d=Math.floor((a+o)*255),f=Math.floor((l+o)*255),p=Math.floor((u+o)*255);return d<<16|f<<8|p}const rY=["S","M","T","W","T","F","S"],uB=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function umt({element:t,isSelected:e=!1,onClick:n}){pn(fn);const r=t.props||{},i=r.variant||"default",s=r.size||"md",o=r.startValue||r.start||"",a=r.endValue||r.end||"",l=r.isOpen??!0,u=x.useMemo(()=>yft(s),[s]),c=x.useMemo(()=>vft(i),[i]),d=x.useMemo(()=>c7(s),[s]),f=x.useMemo(()=>d7(i),[i]),p=x.useMemo(()=>new Date,[]),m=p.getFullYear(),v=p.getMonth(),y=x.useMemo(()=>{if(!o)return null;const ee=o.split("-");return{year:parseInt(ee[0]),month:parseInt(ee[1])-1,day:parseInt(ee[2])}},[o]),A=x.useMemo(()=>{if(!a)return null;const ee=a.split("-");return{year:parseInt(ee[0]),month:parseInt(ee[1])-1,day:parseInt(ee[2])}},[a]),C=y?`${uB[y.month]} ${y.day}`:"Start",E=A?`${uB[A.month]} ${A.day}`:"End",I=(u.calendarWidth-u.separatorWidth)/2-u.gap,D=I*2+u.separatorWidth+u.gap*2,T=u.calendarCellSize,M=T*7+d.gap*6+d.padding*2,P=d.buttonSize+d.gap,k=d.fontSize+d.gap,L=T*5+d.gap*4,$=d.padding*2+P+k+L,z=x.useCallback((ee,ie)=>{const ue=new Date(ee,ie,1).getDay(),ae=new Date(ee,ie+1,0).getDate(),de=new Date(ee,ie,0).getDate(),ge=[];for(let we=ue-1;we>=0;we--)ge.push({day:de-we,isCurrentMonth:!1,isToday:!1,isStart:!1,isEnd:!1,isInRange:!1});for(let we=1;we<=ae;we++){const ke=we===p.getDate()&&ie===p.getMonth()&&ee===p.getFullYear(),Fe=y&&we===y.day&&ie===y.month&&ee===y.year,Ee=A&&we===A.day&&ie===A.month&&ee===A.year;let Me=!1;if(y&&A){const Ue=new Date(ee,ie,we),Ge=new Date(y.year,y.month,y.day),ut=new Date(A.year,A.month,A.day);Me=Ue>Ge&&Ue<ut}ge.push({day:we,isCurrentMonth:!0,isToday:ke,isStart:!!Fe,isEnd:!!Ee,isInRange:Me})}const _e=35-ge.length;for(let we=1;we<=_e;we++)ge.push({day:we,isCurrentMonth:!1,isToday:!1,isStart:!1,isEnd:!1,isInRange:!1});return ge},[p,y,A]),j=x.useMemo(()=>z(m,v),[m,v,z]),H=v===11?0:v+1,W=v===11?m+1:m,O=x.useMemo(()=>z(W,H),[W,H,z]),G=x.useCallback((ee,ie)=>{ee.clear(),ee.roundRect(0,0,ie,u.fieldHeight,u.fieldBorderRadius),ee.fill({color:c.fieldBackgroundColor}),ee.stroke({color:e?c.focusBorderColor:c.fieldBorderColor,width:1})},[u,c,e]),q=x.useCallback(ee=>{ee.clear(),ee.roundRect(0,0,M*2+u.gap,$,d.borderRadius),ee.fill({color:f.backgroundColor}),ee.stroke({color:c.popoverBorderColor,width:1})},[M,$,d,f,c,u]),J=x.useMemo(()=>({fontSize:u.fieldFontSize,fill:c.fieldTextColor,fontFamily:"Inter, system-ui, sans-serif"}),[u,c]),te=x.useMemo(()=>({fontSize:u.fieldFontSize,fill:c.separatorColor,fontFamily:"Inter, system-ui, sans-serif"}),[u,c]),Y=x.useMemo(()=>({fontSize:d.fontSize,fill:f.textColor,fontFamily:"Inter, system-ui, sans-serif"}),[d,f]),Z=(ee,ie)=>ee.slice(0,35).map((ue,ae)=>{const de=ae%7,ge=Math.floor(ae/7),_e=ie+d.padding+de*(T+d.gap)+T/2,we=d.padding+P+k+ge*(T+d.gap)+T/2,ke=Ee=>{Ee.clear(),ue.isInRange&&ue.isCurrentMonth&&(Ee.rect(-T/2,-T/2+2,T,T-4),Ee.fill({color:c.rangeBgColor})),ue.isStart||ue.isEnd?(Ee.circle(0,0,T/2-2),Ee.fill({color:f.selectedBgColor})):ue.isToday&&(Ee.circle(0,0,T/2-2),Ee.stroke({color:f.todayBorderColor,width:2}))},Fe=ue.isStart||ue.isEnd?f.selectedTextColor:ue.isCurrentMonth?f.textColor:f.outsideMonthColor;return h.jsxs("pixiContainer",{x:_e,y:we,children:[h.jsx("pixiGraphics",{draw:ke}),h.jsx("pixiText",{text:String(ue.day),style:{...Y,fill:Fe},anchor:.5})]},ae)});return h.jsxs("pixiContainer",{eventMode:"static",cursor:"pointer",onPointerTap:()=>n?.(t.id),children:[h.jsx("pixiGraphics",{draw:ee=>G(ee,I)}),h.jsx("pixiText",{text:C,style:J,x:u.fieldPadding,y:u.fieldHeight/2-u.fieldFontSize/2}),h.jsx("pixiText",{text:"",style:te,x:I+u.gap+u.separatorWidth/2,y:u.fieldHeight/2,anchor:.5}),h.jsxs("pixiContainer",{x:I+u.separatorWidth+u.gap*2,children:[h.jsx("pixiGraphics",{draw:ee=>G(ee,I)}),h.jsx("pixiText",{text:E,style:J,x:u.fieldPadding,y:u.fieldHeight/2-u.fieldFontSize/2})]}),e&&h.jsx("pixiGraphics",{draw:ee=>{ee.clear(),ee.roundRect(-2,-2,D+4,u.fieldHeight+4,u.fieldBorderRadius+2),ee.stroke({color:c.focusBorderColor,width:2})}}),l&&h.jsxs("pixiContainer",{y:u.fieldHeight+u.gap,children:[h.jsx("pixiGraphics",{draw:q}),h.jsx("pixiText",{text:`${uB[v]} ${m}`,style:{...Y,fontWeight:"600",fontSize:d.headerFontSize},x:M/2,y:d.padding+d.buttonSize/2,anchor:.5}),h.jsx("pixiText",{text:`${uB[H]} ${W}`,style:{...Y,fontWeight:"600",fontSize:d.headerFontSize},x:M+u.gap+M/2,y:d.padding+d.buttonSize/2,anchor:.5}),rY.map((ee,ie)=>h.jsx("pixiText",{text:ee,style:{...Y,fill:f.weekdayColor,fontSize:d.fontSize*.85},x:d.padding+ie*(T+d.gap)+T/2,y:d.padding+P+d.fontSize/2,anchor:.5},`left-${ee}-${ie}`)),rY.map((ee,ie)=>h.jsx("pixiText",{text:ee,style:{...Y,fill:f.weekdayColor,fontSize:d.fontSize*.85},x:M+u.gap+d.padding+ie*(T+d.gap)+T/2,y:d.padding+P+d.fontSize/2,anchor:.5},`right-${ee}-${ie}`)),Z(j,0),Z(O,M+u.gap)]})]})}function cmt({element:t,isSelected:e=!1,onClick:n}){pn(fn);const r=t.props||{},i=r.style,s=r.variant||"default",o=r.size||"md",a=r.label||"",l=r.placeholder||"",u=r.value||"",c=r.description||"",d=r.isDisabled||!1,f=r.isInvalid||!1,p=r.errorMessage||"",m=mt(i?.left,void 0,0),v=mt(i?.top,void 0,0),y=x.useMemo(()=>h7(o),[o]),A=x.useMemo(()=>sge(s),[s]),C=x.useMemo(()=>B4(o),[o]),E=x.useMemo(()=>tge(o),[o]),D=x.useMemo(()=>{const Z=i?.flexDirection;return Z==="row"||Z==="row-reverse"?"row":"column"},[i?.flexDirection])==="row",T=r.width||240,M=a?C.fontSize+y.gap:0,P=a?a.length*C.fontSize*.6+y.gap:0,k=x.useCallback(Z=>{Z.clear();const ee=d?A.disabledBackgroundColor:A.backgroundColor;Z.roundRect(0,0,T,y.height,y.borderRadius),Z.fill({color:ee});const ie=f?A.errorBorderColor:e?A.focusBorderColor:A.borderColor;Z.stroke({color:ie,width:1}),e&&(Z.roundRect(-2,-2,T+4,y.height+4,y.borderRadius+2),Z.stroke({color:A.focusBorderColor,width:2}))},[T,y,A,e,d,f]),L=x.useMemo(()=>({fontSize:C.fontSize,fill:C.color,fontFamily:C.fontFamily,fontWeight:C.fontWeight}),[C]),$=x.useMemo(()=>({fontSize:y.fontSize,fill:d?A.disabledTextColor:u?A.textColor:A.placeholderColor,fontFamily:C.fontFamily}),[y,A,u,d,C.fontFamily]),z=x.useMemo(()=>({fontSize:E.fontSize,fill:f?E.errorColor:E.color,fontFamily:E.fontFamily}),[E,f]),j=u||l,H=f&&p?p:c,W=D?P+T:T,O=D?y.height+(H?E.fontSize+y.gap:0):M+y.height+(H?E.fontSize+y.gap:0),G=x.useCallback(Z=>{Z.clear(),Z.rect(0,0,W,O),Z.fill({color:16777215,alpha:0})},[W,O]),q=x.useCallback(()=>{n?.(t.id)},[t.id,n]),J=x.useMemo(()=>D?{x:0,y:(y.height-C.fontSize)/2}:{x:0,y:0},[D,y.height,C.fontSize]),te=x.useMemo(()=>D?{x:P,y:0}:{x:0,y:M},[D,P,M]),Y=x.useMemo(()=>D?{x:P,y:y.height+y.gap}:{x:0,y:M+y.height+y.gap},[D,P,M,y]);return h.jsxs("pixiContainer",{x:m,y:v,children:[a&&h.jsx("pixiText",{text:a,style:L,x:J.x,y:J.y}),h.jsxs("pixiContainer",{x:te.x,y:te.y,children:[h.jsx("pixiGraphics",{draw:k}),h.jsx("pixiText",{text:j,style:$,x:y.paddingX,y:(y.height-y.fontSize)/2})]}),H&&h.jsx("pixiText",{text:H,style:z,x:Y.x,y:Y.y}),h.jsx("pixiGraphics",{draw:G,eventMode:"static",cursor:"pointer",onPointerDown:q})]})}function dmt({element:t,isSelected:e=!1,onClick:n}){pn(fn);const r=t.props||{},i=r.style,s=r.variant||"default",o=r.size||"md",a=r.label||r.children||"",l=r.isSelected||r.checked||!1,u=r.isDisabled||!1,c=mt(i?.left,void 0,0),d=mt(i?.top,void 0,0),f=x.useMemo(()=>oge(o),[o]),p=x.useMemo(()=>bft(s),[s]),m=x.useMemo(()=>B4(o),[o]),v=l?f.trackWidth-f.thumbSize-f.thumbOffset:f.thumbOffset,y=(f.trackHeight-f.thumbSize)/2,A=x.useCallback(P=>{P.clear();const k=u?p.disabledTrackColor:l?p.trackSelectedColor:p.trackColor;P.roundRect(0,0,f.trackWidth,f.trackHeight,f.borderRadius),P.fill({color:k}),e&&(P.roundRect(-2,-2,f.trackWidth+4,f.trackHeight+4,f.borderRadius+2),P.stroke({color:p.focusRingColor,width:2}))},[f,p,l,u,e]),C=x.useCallback(P=>{P.clear();const k=u?p.disabledThumbColor:p.thumbColor,L=f.thumbSize/2;P.circle(L,L,L),P.fill({color:k}),u||(P.circle(L,L,L),P.stroke({color:p.thumbBorderColor,width:.5}))},[f,p,u]),E=x.useMemo(()=>({fontSize:m.fontSize,fill:u?p.disabledThumbColor:m.color,fontFamily:m.fontFamily}),[m,p,u]),I=a?f.trackWidth+f.gap+a.length*m.fontSize*.6:f.trackWidth,D=f.trackHeight,T=x.useCallback(P=>{P.clear(),P.rect(0,0,I,D),P.fill({color:16777215,alpha:0})},[I,D]),M=x.useCallback(()=>{u||n?.(t.id)},[t.id,n,u]);return h.jsxs("pixiContainer",{x:c,y:d,children:[h.jsx("pixiGraphics",{draw:A}),h.jsx("pixiGraphics",{draw:C,x:v,y}),a&&h.jsx("pixiText",{text:a,style:E,x:f.trackWidth+f.gap,y:(f.trackHeight-m.fontSize)/2}),h.jsx("pixiGraphics",{draw:T,eventMode:"static",cursor:u?"not-allowed":"pointer",onPointerDown:M})]})}function hmt({element:t,isSelected:e=!1,onClick:n}){pn(fn);const r=t.props||{},i=r.variant||"default",s=r.size||"md",o=r.label||"",a=r.placeholder||"",l=r.value||"",u=r.description||"",c=r.isDisabled||!1,d=r.isInvalid||!1,f=r.errorMessage||"",p=r.rows||3,m=x.useMemo(()=>xft(s),[s]),v=x.useMemo(()=>Cft(i),[i]),y=r.width||280,A=Math.max(m.minHeight,p*m.fontSize*m.lineHeight+m.padding*2),C=o?m.labelFontSize+m.gap:0,E=x.useCallback(k=>{k.clear();const L=c?v.disabledBackgroundColor:v.backgroundColor;k.roundRect(0,0,y,A,m.borderRadius),k.fill({color:L});const $=d?v.errorBorderColor:e?v.focusBorderColor:v.borderColor;k.stroke({color:$,width:1}),e&&(k.roundRect(-2,-2,y+4,A+4,m.borderRadius+2),k.stroke({color:v.focusBorderColor,width:2}))},[y,A,m,v,e,c,d]),I=x.useMemo(()=>({fontSize:m.labelFontSize,fill:v.labelColor,fontFamily:"Inter, system-ui, sans-serif",fontWeight:"500"}),[m,v]),D=x.useMemo(()=>({fontSize:m.fontSize,fill:c?v.disabledTextColor:l?v.textColor:v.placeholderColor,fontFamily:"Inter, system-ui, sans-serif",wordWrap:!0,wordWrapWidth:y-m.paddingX*2,lineHeight:m.fontSize*m.lineHeight}),[m,v,l,c,y]),T=x.useMemo(()=>({fontSize:m.descriptionFontSize,fill:d?v.errorTextColor:v.descriptionColor,fontFamily:"Inter, system-ui, sans-serif"}),[m,v,d]),M=l||a,P=d&&f?f:u;return h.jsxs("pixiContainer",{eventMode:"static",cursor:"pointer",onPointerTap:()=>n?.(t.id),children:[o&&h.jsx("pixiText",{text:o,style:I,x:0,y:0}),h.jsxs("pixiContainer",{y:C,children:[h.jsx("pixiGraphics",{draw:E}),h.jsx("pixiText",{text:M,style:D,x:m.paddingX,y:m.padding})]}),P&&h.jsx("pixiText",{text:P,style:T,x:0,y:C+A+m.gap})]})}function fmt({element:t,isSelected:e=!1,onClick:n}){pn(fn);const r=t.props||{},i=r.variant||"default",s=r.size||"md",o=r.showBorder??!0,a=x.useMemo(()=>Eft(s),[s]),l=x.useMemo(()=>Sft(i),[i]),u=r.width||320,c=r.height||200,d=x.useCallback(m=>{m.clear(),m.roundRect(0,0,u,c,a.borderRadius),m.fill({color:l.backgroundColor}),o&&m.stroke({color:l.borderColor,width:1}),e&&(m.roundRect(-2,-2,u+4,c+4,a.borderRadius+2),m.stroke({color:3900150,width:2}))},[u,c,a,l,o,e]),f=x.useCallback(m=>{m.clear();const v=u/2,y=c/2,A=60,C=8,E=16;for(let I=0;I<3;I++){const D=y-E+I*E;m.roundRect(v-A/2,D-C/2,A,C,4),m.fill({color:l.separatorColor})}},[u,c,l]),p=x.useMemo(()=>({fontSize:a.labelFontSize,fill:l.labelColor,fontFamily:"Inter, system-ui, sans-serif",fontWeight:"500"}),[a,l]);return h.jsxs("pixiContainer",{eventMode:"static",cursor:"pointer",onPointerTap:()=>n?.(t.id),children:[h.jsx("pixiGraphics",{draw:d}),h.jsx("pixiGraphics",{draw:f}),h.jsx("pixiText",{text:"Form",style:p,x:a.padding,y:a.padding,alpha:.5})]})}function pmt({element:t,isSelected:e=!1,onClick:n}){pn(fn);const r=t.props||{},i=r.variant||"default",s=r.size||"md",o=r.orientation||"horizontal",a=x.useMemo(()=>wft(s),[s]),l=x.useMemo(()=>_ft(i),[i]),u=o==="horizontal",c=u?r.width||200:a.height,d=u?a.height:r.height||200,f=x.useCallback(m=>{m.clear(),m.roundRect(0,0,c,d,a.borderRadius),m.fill({color:l.backgroundColor}),m.stroke({color:l.borderColor,width:1}),e&&(m.roundRect(-2,-2,c+4,d+4,a.borderRadius+2),m.stroke({color:3900150,width:2}))},[c,d,a,l,e]),p=x.useCallback(m=>{m.clear();const v=a.height-a.padding*2,y=4;for(let A=0;A<y;A++)if(u){const C=a.padding+A*(v+a.gap);A===2&&(m.rect(C-a.gap/2-a.separatorWidth/2,(d-a.separatorHeight)/2,a.separatorWidth,a.separatorHeight),m.fill({color:l.separatorColor})),m.roundRect(C,a.padding,v,v,4),m.fill({color:l.hoverBackgroundColor});const E=v*.5,I=C+(v-E)/2,D=a.padding+(v-E)/2;m.roundRect(I,D,E,E,2),m.fill({color:l.iconColor,alpha:.3})}else{const C=a.padding+A*(v+a.gap);A===2&&(m.rect((c-a.separatorHeight)/2,C-a.gap/2-a.separatorWidth/2,a.separatorHeight,a.separatorWidth),m.fill({color:l.separatorColor})),m.roundRect(a.padding,C,v,v,4),m.fill({color:l.hoverBackgroundColor});const E=v*.5,I=a.padding+(v-E)/2,D=C+(v-E)/2;m.roundRect(I,D,E,E,2),m.fill({color:l.iconColor,alpha:.3})}},[a,l,c,d,u]);return h.jsxs("pixiContainer",{eventMode:"static",cursor:"pointer",onPointerTap:()=>n?.(t.id),children:[h.jsx("pixiGraphics",{draw:f}),h.jsx("pixiGraphics",{draw:p})]})}function gmt({element:t,isSelected:e=!1,onClick:n}){pn(fn);const r=t.props||{},i=r.variant||"default",s=r.size||"md",o=r.label||r.children||"Choose file",a=x.useMemo(()=>Ift(s),[s]),l=x.useMemo(()=>Bft(i),[i]),u=r.width||140,c=x.useCallback(A=>{A.clear(),A.roundRect(0,0,u,a.height,a.borderRadius),A.fill({color:l.backgroundColor}),A.stroke({color:l.borderColor,width:1}),e&&(A.roundRect(-2,-2,u+4,a.height+4,a.borderRadius+2),A.stroke({color:l.focusRingColor,width:2}))},[u,a,l,e]),d=x.useCallback(A=>{A.clear();const C=a.iconSize,E=C/2,I=C/2,D=C*.5,T=C*.4;A.moveTo(E,I-T/2),A.lineTo(E-D/2,I),A.lineTo(E+D/2,I),A.closePath(),A.fill({color:l.iconColor}),A.rect(E-D/6,I-T/4,D/3,T*.6),A.fill({color:l.iconColor}),A.rect(E-D/2,I+T/3,D,2),A.fill({color:l.iconColor})},[a,l]),f=x.useMemo(()=>({fontSize:a.fontSize,fill:l.textColor,fontFamily:"Inter, system-ui, sans-serif"}),[a,l]),p=a.paddingX,m=(a.height-a.iconSize)/2,v=p+a.iconSize+a.gap,y=(a.height-a.fontSize)/2;return h.jsxs("pixiContainer",{eventMode:"static",cursor:"pointer",onPointerTap:()=>n?.(t.id),children:[h.jsx("pixiGraphics",{draw:c}),h.jsx("pixiGraphics",{draw:d,x:p,y:m}),h.jsx("pixiText",{text:o,style:f,x:v,y})]})}function mmt({element:t,isSelected:e=!1,onClick:n}){pn(fn);const r=t.props||{},i=r.variant||"default",s=r.size||"md",o=r.label||"Drop files here",a=r.description||"or click to browse",l=x.useMemo(()=>Dft(s),[s]),u=x.useMemo(()=>Tft(i),[i]),c=r.width||280,d=r.height||l.minHeight,f=x.useCallback(A=>{A.clear(),A.roundRect(0,0,c,d,l.borderRadius),A.fill({color:u.backgroundColor});const C=8,E=4,I=l.borderRadius;Amt(A,0,0,c,d,I,C,E,u.borderColor,l.borderWidth),e&&(A.roundRect(-2,-2,c+4,d+4,l.borderRadius+2),A.stroke({color:3900150,width:2}))},[c,d,l,u,e]),p=x.useCallback(A=>{A.clear();const C=l.iconSize,E=C/2,I=C/2,D=C*.8,T=C*.5;A.circle(E-D*.15,I,T*.4),A.circle(E+D*.15,I,T*.35),A.circle(E,I-T*.15,T*.45),A.fill({color:u.iconColor}),A.roundRect(E-D*.35,I,D*.7,T*.3,2),A.fill({color:u.iconColor});const M=C*.25;A.moveTo(E,I+T*.3),A.lineTo(E-M,I+T*.5+M),A.lineTo(E+M,I+T*.5+M),A.closePath(),A.fill({color:u.iconColor})},[l,u]),m=x.useMemo(()=>({fontSize:l.labelFontSize,fill:u.labelColor,fontFamily:"Inter, system-ui, sans-serif",fontWeight:"500"}),[l,u]),v=x.useMemo(()=>({fontSize:l.fontSize,fill:u.textColor,fontFamily:"Inter, system-ui, sans-serif"}),[l,u]),y=(d-l.iconSize-l.gap*2-l.labelFontSize-l.fontSize)/2;return h.jsxs("pixiContainer",{eventMode:"static",cursor:"pointer",onPointerTap:()=>n?.(t.id),children:[h.jsx("pixiGraphics",{draw:f}),h.jsx("pixiGraphics",{draw:p,x:(c-l.iconSize)/2,y}),h.jsx("pixiText",{text:o,style:m,x:c/2,y:y+l.iconSize+l.gap,anchor:{x:.5,y:0}}),h.jsx("pixiText",{text:a,style:v,x:c/2,y:y+l.iconSize+l.gap+l.labelFontSize+l.gap/2,anchor:{x:.5,y:0}})]})}function Amt(t,e,n,r,i,s,o,a,l,u){const c=o+a;let d=e+s;const f=n;for(;d<e+r-s;){const A=Math.min(d+o,e+r-s);t.moveTo(d,f),t.lineTo(A,f),d+=c}let p=n+s;const m=e+r;for(;p<n+i-s;){const A=Math.min(p+o,n+i-s);t.moveTo(m,p),t.lineTo(m,A),p+=c}d=e+r-s;const v=n+i;for(;d>e+s;){const A=Math.max(d-o,e+s);t.moveTo(d,v),t.lineTo(A,v),d-=c}p=n+i-s;const y=e;for(;p>n+s;){const A=Math.max(p-o,n+s);t.moveTo(y,p),t.lineTo(y,A),p-=c}t.arc(e+s,n+s,s,Math.PI,Math.PI*1.5),t.arc(e+r-s,n+s,s,Math.PI*1.5,0),t.arc(e+r-s,n+i-s,s,0,Math.PI*.5),t.arc(e+s,n+i-s,s,Math.PI*.5,Math.PI),t.stroke({color:l,width:u})}function ymt({element:t,isSelected:e=!1,onClick:n}){pn(fn);const r=t.props||{},i=r.variant||"default",s=r.size||"md",o=r.skeletonVariant||"text",a=x.useMemo(()=>Mft(s),[s]),l=x.useMemo(()=>kft(i),[i]),c=(()=>{switch(o){case"avatar":return{width:a.avatarSize,height:a.avatarSize,isCircle:!0};case"card":return{width:r.width||240,height:r.height||120,isCircle:!1};case"list":return{width:r.width||280,height:a.lineHeight*3+a.lineGap*2,isCircle:!1};default:return{width:r.width||200,height:a.height,isCircle:!1}}})(),d=x.useCallback(p=>{switch(p.clear(),o){case"avatar":p.circle(c.width/2,c.height/2,c.width/2),p.fill({color:l.baseColor});break;case"card":{p.roundRect(0,0,c.width,c.height,a.borderRadius),p.fill({color:l.baseColor});const m=c.height*.5;p.roundRect(0,0,c.width,m,a.borderRadius),p.fill({color:l.shimmerColor});const v=m+a.lineGap,y=12;p.roundRect(y,v,c.width*.7,a.lineHeight,4),p.fill({color:l.shimmerColor}),p.roundRect(y,v+a.lineHeight+a.lineGap/2,c.width*.5,a.lineHeight*.8,4),p.fill({color:l.shimmerColor});break}case"list":for(let m=0;m<3;m++){const v=m*(a.avatarSize+a.lineGap);p.circle(a.avatarSize/2,v+a.avatarSize/2,a.avatarSize/2),p.fill({color:l.baseColor});const y=a.avatarSize+a.lineGap;p.roundRect(y,v+4,c.width*.5,a.lineHeight,4),p.fill({color:l.baseColor}),p.roundRect(y,v+a.lineHeight+8,c.width*.3,a.lineHeight*.8,4),p.fill({color:l.shimmerColor})}break;default:p.roundRect(0,0,c.width,c.height,a.borderRadius),p.fill({color:l.baseColor});break}e&&(c.isCircle?(p.circle(c.width/2,c.height/2,c.width/2+4),p.stroke({color:3900150,width:2})):(p.roundRect(-2,-2,c.width+4,c.height+4,a.borderRadius+2),p.stroke({color:3900150,width:2})))},[c,a,l,o,e]),f=x.useCallback(p=>{p.clear();const m=c.width*.3;o==="avatar"?(p.arc(c.width/2,c.height/2,c.width/2,-.5,.5),p.fill({color:l.shimmerColor,alpha:.5})):o!=="list"&&(p.roundRect(c.width*.3,0,m,c.height,a.borderRadius),p.fill({color:l.shimmerColor,alpha:.5}))},[c,a,l,o]);return h.jsxs("pixiContainer",{eventMode:"static",cursor:"pointer",onPointerTap:()=>n?.(t.id),children:[h.jsx("pixiGraphics",{draw:d}),h.jsx("pixiGraphics",{draw:f})]})}function vmt({element:t,isSelected:e=!1,onClick:n}){pn(fn);const r=t.props||{},i=r.type||"info",s=r.size||"md",o=r.message||r.children||"Toast notification message",a=x.useMemo(()=>Pft(s),[s]),l=x.useMemo(()=>Rft(i),[i]),u=r.width||Math.min(a.maxWidth,300),c=a.padding*2+Math.max(a.iconSize,a.fontSize*1.4),d=x.useCallback(D=>{D.clear(),D.roundRect(2,2,u,c,a.borderRadius),D.fill({color:l.shadowColor,alpha:.1}),D.roundRect(0,0,u,c,a.borderRadius),D.fill({color:l.backgroundColor}),D.roundRect(0,0,u,c,a.borderRadius),D.stroke({color:l.borderColor,width:1}),D.roundRect(0,0,3,c,a.borderRadius),D.fill({color:l.accentColor}),e&&(D.roundRect(-2,-2,u+4,c+4,a.borderRadius+2),D.stroke({color:3900150,width:2}))},[u,c,a,l,e]),f=x.useCallback(D=>{D.clear();const T=a.iconSize,M=T/2,P=T/2,k=T*.4;switch(i){case"success":D.circle(M,P,k),D.fill({color:l.iconColor}),D.moveTo(M-k*.4,P),D.lineTo(M-k*.1,P+k*.3),D.lineTo(M+k*.4,P-k*.3),D.stroke({color:16777215,width:2});break;case"warning":D.moveTo(M,P-k),D.lineTo(M+k,P+k*.7),D.lineTo(M-k,P+k*.7),D.closePath(),D.fill({color:l.iconColor}),D.rect(M-1,P-k*.3,2,k*.5),D.fill({color:16777215}),D.circle(M,P+k*.3,1.5),D.fill({color:16777215});break;case"error":D.circle(M,P,k),D.fill({color:l.iconColor}),D.moveTo(M-k*.35,P-k*.35),D.lineTo(M+k*.35,P+k*.35),D.moveTo(M+k*.35,P-k*.35),D.lineTo(M-k*.35,P+k*.35),D.stroke({color:16777215,width:2});break;default:D.circle(M,P,k),D.fill({color:l.iconColor}),D.circle(M,P-k*.35,1.5),D.fill({color:16777215}),D.rect(M-1.5,P-k*.1,3,k*.6),D.fill({color:16777215});break}},[a,l,i]),p=x.useCallback(D=>{D.clear();const T=a.dismissButtonSize,M=T/2,P=T/2;D.roundRect(0,0,T,T,4),D.fill({color:l.dismissButtonColor,alpha:.1});const k=T*.25;D.moveTo(M-k,P-k),D.lineTo(M+k,P+k),D.moveTo(M+k,P-k),D.lineTo(M-k,P+k),D.stroke({color:l.dismissButtonColor,width:1.5})},[a,l]),m=x.useMemo(()=>({fontSize:a.fontSize,fill:l.textColor,fontFamily:"Inter, system-ui, sans-serif",wordWrap:!0,wordWrapWidth:u-a.paddingX*2-a.iconSize-a.dismissButtonSize-a.gap*2-10}),[a,l,u]),v=a.paddingX+4,y=(c-a.iconSize)/2,A=v+a.iconSize+a.gap,C=(c-a.fontSize)/2,E=u-a.paddingX-a.dismissButtonSize,I=(c-a.dismissButtonSize)/2;return h.jsxs("pixiContainer",{eventMode:"static",cursor:"pointer",onPointerTap:()=>n?.(t.id),children:[h.jsx("pixiGraphics",{draw:d}),h.jsx("pixiGraphics",{draw:f,x:v,y}),h.jsx("pixiText",{text:o,style:m,x:A,y:C}),h.jsx("pixiGraphics",{draw:p,x:E,y:I})]})}function bmt({element:t,isSelected:e=!1,onClick:n}){pn(fn);const r=t.props||{},i=r.variant||"default",s=r.size||"md",o=r.currentPage||1,a=r.totalPages||5,l=r.showInfo??!0,u=x.useMemo(()=>Nft(s),[s]),c=x.useMemo(()=>Lft(i),[i]),f=(()=>{const M=[];if(a<=7)for(let k=1;k<=a;k++)M.push(k);else{M.push(1),o>3&&M.push("...");const k=Math.max(2,o-1),L=Math.min(a-1,o+1);for(let $=k;$<=L;$++)M.push($);o<a-2&&M.push("..."),M.push(a)}return M})(),m=u.buttonSize*2+u.gap*(f.length+1)+u.buttonSize*f.length,v=u.buttonSize+(l?u.fontSize+u.gap:0),y=x.useCallback((M,P,k)=>{M.clear(),M.roundRect(0,0,u.buttonSize,u.buttonSize,u.borderRadius),M.fill({color:P?c.backgroundColor:c.hoverBackgroundColor,alpha:P?.5:1});const L=u.buttonSize/2,$=u.buttonSize/2,z=u.buttonSize*.2;k?(M.moveTo(L-z/2,$-z),M.lineTo(L+z/2,$),M.lineTo(L-z/2,$+z)):(M.moveTo(L+z/2,$-z),M.lineTo(L-z/2,$),M.lineTo(L+z/2,$+z)),M.stroke({color:P?c.disabledTextColor:c.textColor,width:2})},[u,c]),A=x.useCallback((M,P)=>{M.clear(),M.roundRect(0,0,u.buttonSize,u.buttonSize,u.borderRadius),M.fill({color:P?c.currentBackgroundColor:c.backgroundColor})},[u,c]),C=x.useCallback(M=>{M.clear(),e&&(M.roundRect(-2,-2,m+4,v+4,u.borderRadius+2),M.stroke({color:3900150,width:2}))},[m,v,u,e]),E=x.useCallback(M=>({fontSize:u.fontSize,fill:M?c.currentTextColor:c.textColor,fontFamily:"Inter, system-ui, sans-serif",fontWeight:M?"bold":"normal"}),[u,c]),I=x.useMemo(()=>({fontSize:u.fontSize,fill:c.ellipsisColor,fontFamily:"Inter, system-ui, sans-serif"}),[u,c]),D=x.useMemo(()=>({fontSize:u.fontSize*.85,fill:c.ellipsisColor,fontFamily:"Inter, system-ui, sans-serif"}),[u,c]);let T=0;return h.jsxs("pixiContainer",{eventMode:"static",cursor:"pointer",onPointerTap:()=>n?.(t.id),children:[h.jsx("pixiGraphics",{draw:C}),h.jsx("pixiGraphics",{draw:M=>y(M,o===1,!1),x:T,y:0}),(T+=u.buttonSize+u.gap,null),f.map((M,P)=>{const k=T;if(T+=(typeof M=="number"?u.buttonSize:u.buttonSize*.6)+u.gap,typeof M=="string")return h.jsx("pixiText",{text:"...",style:I,x:k+u.buttonSize*.2,y:(u.buttonSize-u.fontSize)/2},`ellipsis-${P}`);const L=M===o;return h.jsxs("pixiContainer",{x:k,y:0,children:[h.jsx("pixiGraphics",{draw:$=>A($,L)}),h.jsx("pixiText",{text:String(M),style:E(L),x:u.buttonSize/2,y:u.buttonSize/2,anchor:{x:.5,y:.5}})]},M)}),h.jsx("pixiGraphics",{draw:M=>y(M,o===a,!0),x:T,y:0}),l&&h.jsx("pixiText",{text:`Page ${o} of ${a}`,style:D,x:m/2,y:u.buttonSize+u.gap,anchor:{x:.5,y:0}})]})}function xmt({element:t,isSelected:e=!1,onClick:n}){pn(fn);const r=t.props||{},i=r.variant||"default",s=r.size||"md",o=r.label||"",a=r.value||"#3b82f6",l=r.isDisabled||!1,u=r.isInvalid||!1,c=x.useMemo(()=>Fft(s),[s]),d=x.useMemo(()=>$ft(i),[i]),f=x.useMemo(()=>{const P=a.replace("#","");return parseInt(P,16)||3900150},[a]),p=c.height-c.padding*2,m=c.maxWidth,v=o?c.labelFontSize+c.gap:0,y=x.useCallback(P=>{P.clear();const k=l?d.disabledBackgroundColor:d.backgroundColor;P.roundRect(0,0,m,c.height,c.borderRadius),P.fill({color:k});const L=u?d.errorBorderColor:e?d.focusBorderColor:d.borderColor;P.stroke({color:L,width:1}),e&&(P.roundRect(-2,-2,m+4,c.height+4,c.borderRadius+2),P.stroke({color:d.focusBorderColor,width:2}))},[m,c,d,e,l,u]),A=x.useCallback(P=>{P.clear(),P.roundRect(0,0,p,p,4),P.fill({color:15067115}),P.roundRect(0,0,p,p,4),P.fill({color:f}),P.stroke({color:13292508,width:.5})},[p,f]),C=x.useMemo(()=>({fontSize:c.labelFontSize,fill:d.labelColor,fontFamily:"Inter, system-ui, sans-serif",fontWeight:"500"}),[c,d]),E=x.useMemo(()=>({fontSize:c.fontSize,fill:l?d.disabledBackgroundColor:d.textColor,fontFamily:"monospace"}),[c,d,l]),I=c.padding,D=(c.height-p)/2,T=I+p+c.gap,M=(c.height-c.fontSize)/2;return h.jsxs("pixiContainer",{eventMode:"static",cursor:l?"not-allowed":"pointer",onPointerTap:()=>!l&&n?.(t.id),children:[o&&h.jsx("pixiText",{text:o,style:C,x:0,y:0}),h.jsxs("pixiContainer",{y:v,children:[h.jsx("pixiGraphics",{draw:y}),h.jsx("pixiGraphics",{draw:A,x:I,y:D}),h.jsx("pixiText",{text:a.toUpperCase(),style:E,x:T,y:M})]})]})}const Cmt=["#ef4444","#f97316","#eab308","#22c55e","#14b8a6","#3b82f6","#6366f1","#8b5cf6","#ec4899","#f43f5e"];function Emt({element:t,isSelected:e=!1,onClick:n}){pn(fn);const r=t.props||{},i=r.variant||"default",s=r.size||"md",o=r.colors||Cmt,a=r.value||r.selectedColor||"",l=r.layout||"grid",u=r.columns||5,c=x.useMemo(()=>zft(s),[s]),d=x.useMemo(()=>Oft(i),[i]),p=l==="stack"?1:Math.min(u,o.length),m=Math.ceil(o.length/p),v=p*c.swatchSize+(p-1)*c.gap,y=m*c.swatchSize+(m-1)*c.gap,A=x.useCallback(I=>{const D=I.replace("#","");return parseInt(D,16)||3900150},[]),C=x.useCallback(I=>{I.clear(),e&&(I.roundRect(-4,-4,v+8,y+8,c.borderRadius+2),I.stroke({color:d.focusRingColor,width:2}))},[v,y,c,d,e]),E=x.useCallback((I,D,T)=>{if(I.clear(),I.roundRect(0,0,c.swatchSize,c.swatchSize,c.borderRadius),I.fill({color:D}),T){I.roundRect(0,0,c.swatchSize,c.swatchSize,c.borderRadius),I.stroke({color:d.selectionOuterColor,width:c.selectionBorderWidth});const M=c.selectionBorderWidth+2;I.roundRect(M,M,c.swatchSize-M*2,c.swatchSize-M*2,Math.max(0,c.borderRadius-M)),I.stroke({color:d.selectionInnerColor,width:c.selectionBorderWidth})}},[c,d]);return h.jsxs("pixiContainer",{eventMode:"static",cursor:"pointer",onPointerTap:()=>n?.(t.id),children:[h.jsx("pixiGraphics",{draw:C}),o.map((I,D)=>{const T=D%p,M=Math.floor(D/p),P=T*(c.swatchSize+c.gap),k=M*(c.swatchSize+c.gap),L=A(I),$=I.toLowerCase()===a.toLowerCase();return h.jsx("pixiGraphics",{draw:z=>E(z,L,$),x:P,y:k},`swatch-${D}`)})]})}function Smt({element:t,isSelected:e=!1,onClick:n}){pn(fn);const r=t.props||{},i=r.variant||"default",s=r.size||"md",o=r.label||r["data-group-label"]||"",a=r.isDisabled||!1,l=x.useMemo(()=>jft(s),[s]),u=x.useMemo(()=>Qft(i),[i]),c=r.width||200,d=r.height||120,f=x.useCallback(y=>{y.clear();const A=6,C=4;let E=0;for(;E<c;){const T=Math.min(E+A,c);y.moveTo(E,0),y.lineTo(T,0),E+=A+C}let I=0;for(;I<d;){const T=Math.min(I+A,d);y.moveTo(c,I),y.lineTo(c,T),I+=A+C}for(E=c;E>0;){const T=Math.max(E-A,0);y.moveTo(E,d),y.lineTo(T,d),E-=A+C}for(I=d;I>0;){const T=Math.max(I-A,0);y.moveTo(0,I),y.lineTo(0,T),I-=A+C}const D=e?u.focusBorderColor:u.borderColor;y.stroke({color:D,width:1,alpha:a?u.disabledOpacity:1}),e&&(y.roundRect(-2,-2,c+4,d+4,l.borderRadius+2),y.stroke({color:u.focusBorderColor,width:2}))},[c,d,l,u,e,a]),p=x.useCallback((y,A)=>{y.clear();const C=A+l.labelPadding*2,E=l.labelFontSize+l.labelPadding;y.roundRect(0,0,C,E,4),y.fill({color:u.labelBackgroundColor}),y.stroke({color:u.borderColor,width:.5})},[l,u]),m=x.useMemo(()=>({fontSize:l.labelFontSize,fill:u.labelTextColor,fontFamily:"Inter, system-ui, sans-serif"}),[l,u]),v=o.length*l.labelFontSize*.6;return h.jsxs("pixiContainer",{eventMode:"static",cursor:"pointer",onPointerTap:()=>n?.(t.id),alpha:a?u.disabledOpacity:1,children:[h.jsx("pixiGraphics",{draw:f}),o&&h.jsxs("pixiContainer",{x:0,y:-l.labelFontSize-l.labelPadding-4,children:[h.jsx("pixiGraphics",{draw:y=>p(y,v)}),h.jsx("pixiText",{text:o,style:m,x:l.labelPadding,y:l.labelPadding/2})]})]})}function wmt({element:t,isSelected:e=!1,onClick:n}){pn(fn);const r=t.props||{},i=r.variant||"default",s=r.size||"md",o=r.name||"Content",a=r.description||"Drop content here",l=r.isRequired||r.required||!1,u=r.isEmpty??!0,c=x.useMemo(()=>Uft(s),[s]),d=x.useMemo(()=>Hft(i),[i]),f=r.width||280,p=r.height||c.minHeight,m=x.useCallback(T=>{if(T.clear(),u){const P=l?d.requiredBorderColor:d.backgroundColor;T.roundRect(0,0,f,p,c.borderRadius),T.fill({color:P,alpha:.05});const k=8;for(let L=-p;L<f+p;L+=k)T.moveTo(L,0),T.lineTo(L+p,p);T.stroke({color:d.borderColor,width:.5,alpha:.2})}const M=u?l?d.requiredBorderColor:d.emptyBorderColor:d.borderColor;_mt(T,0,0,f,p,c.borderRadius,M,c.borderWidth),e&&(T.roundRect(-2,-2,f+4,p+4,c.borderRadius+2),T.stroke({color:d.selectedBorderColor,width:2}))},[f,p,c,d,u,l,e]),v=x.useCallback(T=>{T.clear();const M=c.iconSize,P=M/2,k=M/2,L=M*.4;T.circle(P,k,L),T.fill({color:d.iconBackgroundColor});const $=L*.5;T.rect(P-$,k-1,$*2,2),T.rect(P-1,k-$,2,$*2),T.fill({color:d.iconColor})},[c,d]),y=x.useCallback(T=>{if(T.clear(),!l)return;T.roundRect(0,0,60,18,4),T.fill({color:d.requiredBadgeBackgroundColor})},[d,l]),A=x.useMemo(()=>({fontSize:c.labelFontSize,fill:d.textColor,fontFamily:"Inter, system-ui, sans-serif",fontWeight:"600"}),[c,d]),C=x.useMemo(()=>({fontSize:c.descriptionFontSize,fill:d.textColor,fontFamily:"Inter, system-ui, sans-serif",alpha:.7}),[c,d]),E=x.useMemo(()=>({fontSize:c.descriptionFontSize,fill:d.requiredBadgeTextColor,fontFamily:"Inter, system-ui, sans-serif",fontWeight:"500"}),[c,d]),I=c.iconSize+c.gap+c.labelFontSize+c.gap/2+c.descriptionFontSize,D=(p-I)/2;return h.jsxs("pixiContainer",{eventMode:"static",cursor:"pointer",onPointerTap:()=>n?.(t.id),children:[h.jsx("pixiGraphics",{draw:m}),u&&h.jsxs("pixiContainer",{children:[h.jsx("pixiGraphics",{draw:v,x:(f-c.iconSize)/2,y:D}),h.jsxs("pixiContainer",{y:D+c.iconSize+c.gap,children:[h.jsx("pixiText",{text:o,style:A,x:f/2,y:0,anchor:{x:.5,y:0}}),l&&h.jsxs("pixiContainer",{x:f/2+40,y:-2,children:[h.jsx("pixiGraphics",{draw:y}),h.jsx("pixiText",{text:"Required",style:E,x:8,y:2})]})]}),h.jsx("pixiText",{text:a,style:C,x:f/2,y:D+c.iconSize+c.gap+c.labelFontSize+c.gap/2,anchor:{x:.5,y:0}})]})]})}function _mt(t,e,n,r,i,s,o,a){let c=e+s;for(;c<e+r-s;){const f=Math.min(c+6,e+r-s);t.moveTo(c,n),t.lineTo(f,n),c+=10}let d=n+s;for(;d<n+i-s;){const f=Math.min(d+6,n+i-s);t.moveTo(e+r,d),t.lineTo(e+r,f),d+=10}for(c=e+r-s;c>e+s;){const f=Math.max(c-6,e+s);t.moveTo(c,n+i),t.lineTo(f,n+i),c-=10}for(d=n+i-s;d>n+s;){const f=Math.max(d-6,n+s);t.moveTo(e,d),t.lineTo(e,f),d-=10}t.arc(e+s,n+s,s,Math.PI,Math.PI*1.5),t.arc(e+r-s,n+s,s,Math.PI*1.5,0),t.arc(e+r-s,n+i-s,s,0,Math.PI*.5),t.arc(e+s,n+i-s,s,Math.PI*.5,Math.PI),t.stroke({color:o,width:a})}let age;function lge(){return age}function uge(t){age=t}let cge;function Imt(t){cge=t}function Bmt(){return cge}function rT(t,e){return t?typeof t=="number"?t:typeof t=="string"&&t.endsWith("%")?(e??(e=1),e*(parseFloat(t)/100)):Number.isNaN(parseFloat(t))?0:parseFloat(t):0}function bx(t){return typeof t=="number"?"number":t.endsWith("%")?"percentage":Number.isNaN(parseInt(t,10))?"keyword":"number"}function cB(t,e,n){return(e[t]-n[t])/2}function iY(t,e,n,r,i){const s=e==="percentage"?r[n]-i[n]:1;return rT(t)*s}function dge(t,e,n){const[r,i]=t,s=bx(r),o=bx(i),a={x:void 0,y:void 0};switch(r){case"top":a.y=0;break;case"bottom":a.y=e.height-n.height;break;case"center":i==="left"||i==="right"?a.y=cB("height",e,n):a.x=cB("width",e,n);break;case"left":a.x=0;break;case"right":a.x=e.width-n.width;break;default:{const l=i==="top"||i==="bottom"||o!=="keyword"?"width":"height",u=l==="width"?"x":"y";a[u]=iY(r,s,l,e,n)}}switch(i){case"top":a.y=0;break;case"bottom":a.y=e.height-n.height;break;case"center":a.y===void 0?a.y=cB("height",e,n):a.x=cB("width",e,n);break;case"left":a.x=0;break;case"right":a.x=e.width-n.width;break;default:{const l=a.y===void 0?"y":"x",u=l==="y"?"height":"width";a[l]=iY(i,o,u,e,n)}}return a}function dB(t,e,n,r){const i=t==="right"||t==="bottom",s=n==="percentage"?e*r:e;return i?-s:s}function Dmt(t,e,n){const[r,i,s,o]=t,a=bx(r),l=bx(i),u=bx(s),c=bx(o);if(l==="keyword"||c==="keyword")throw new Error("Invalid objectPosition value: second and fourth values must be numbers or percentages");if(a!=="keyword"||u!=="keyword")throw new Error("Invalid objectPosition value: first and third values must be keywords");const d=dge([r,s],e,n),f={...d},p=rT(i),m=rT(o);return r==="left"||r==="right"?f.x=d.x+dB(r,p,l,n.width):(r==="top"||r==="bottom")&&(f.y=d.y+dB(r,p,l,n.height)),s==="left"||s==="right"?f.x=d.x+dB(s,m,c,n.width):(s==="top"||s==="bottom")&&(f.y=d.y+dB(s,m,c,n.height)),f}function Tmt(t,e,n){const r=t[0],i={x:void 0,y:void 0};switch(r){case"top":i.y=0,i.x=(e.width-n.width)/2;break;case"bottom":i.y=e.height-n.height,i.x=(e.width-n.width)/2;break;case"left":i.x=0,i.y=(e.height-n.height)/2;break;case"right":i.x=e.width-n.width,i.y=(e.height-n.height)/2;break;case"center":i.x=(e.width-n.width)/2,i.y=(e.height-n.height)/2;break;default:{const o=bx(r)==="percentage"?e.width-n.width:1;i.x=rT(r)*o,i.y=(e.height-n.height)/2}}return i}function p7(t,e,n){if(!t)return{x:0,y:0};const r=typeof t=="string"?t.split(" "):[t];switch(r.length){case 1:return Tmt(r,e,n);case 2:return dge(r,e,n);case 4:return Dmt(r,e,n);default:throw new Error("Invalid objectPosition value: must have 1, 2, or 4 values")}}const vN={width:0,height:0};function hge(t){const e=t.target.getLocalBounds(),n=t.target.scale;return vN.width=Math.abs(e.width*n.x),vN.height=Math.abs(e.height*n.y),vN}function sY(t,e,n=.49){return Math.abs(t-e)<n}function Mmt(t,e=0,n={}){let r,i;const s=n.maxWait?n.maxWait:e;let o,a,l,u=0;const c=!!n.leading,d="maxWait"in n,f=n.trailing??!0,p=e!==0&&typeof globalThis.requestAnimationFrame=="function";if(typeof t!="function")throw new TypeError("Expected a function");function m(L){const $=r,z=i;return r=i=void 0,u=L,o=t.apply(z,$),o}function v(L,$){return p?(typeof a=="number"&&globalThis.cancelAnimationFrame(a),globalThis.requestAnimationFrame(L)):setTimeout(L,$)}function y(L){if(p){globalThis.cancelAnimationFrame(L);return}clearTimeout(L)}function A(L){return u=L,a=v(I,e),c?m(L):o}function C(L){const $=L-(l||0),z=L-u,j=e-$;return d?Math.min(j,s-z):j}function E(L){const $=L-(l||0),z=L-u;return l===void 0||$>=e||$<0||d&&z>=s}function I(){const L=Date.now();if(E(L))return D(L);a=v(I,C(L))}function D(L){return a=void 0,f&&r?m(L):(r=i=void 0,o)}function T(){a!==void 0&&y(a),u=0,r=l=i=a=void 0}function M(){return a===void 0?o:D(Date.now())}function P(){return a!==void 0}function k(...L){const $=Date.now(),z=E($);if(r=L,i=this,l=$,z){if(a===void 0)return A(l);if(d)return a=v(I,e),m(l)}return a===void 0&&(a=v(I,e)),o}return k.cancel=T,k.flush=M,k.pending=P,k}function kmt(t,e,n={}){const r=n.leading??!0,i=n.trailing??!0;if(typeof t!="function")throw new TypeError("Expected a function");return Mmt(t,e,{leading:r,trailing:i,maxWait:e})}var Pmt=Object.defineProperty,Rmt=(t,e,n)=>e in t?Pmt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Zb=(t,e,n)=>Rmt(t,typeof e!="symbol"?e+"":e,n);class fge{constructor(){Zb(this,"autoUpdate",!0),Zb(this,"_debugEnabled",!1),Zb(this,"_debugRenderer",null),Zb(this,"_throttledUpdateSize"),Zb(this,"_throttle",100),Zb(this,"_modificationCount",50)}async init(e){uge(await Upe()),Imt(lge().Config.create());const{layout:n}=e??{},{autoUpdate:r,enableDebug:i,throttle:s,debugModificationCount:o}=n??{};i&&this.enableDebug(!0),r!==void 0&&(this.autoUpdate=r),this._throttle=s??this._throttle,this._throttledUpdateSize=kmt(a=>this._updateSize(a),this._throttle,{leading:!0,trailing:!0}),this._modificationCount=o??this._modificationCount}async enableDebug(e=!this._debugEnabled){if(this._debugEnabled=e,!this._debugRenderer){const n=await en(()=>import("./DebugRenderer-Uo9jYnUq.js"),[]);this._debugRenderer=new n.DebugRenderer}this._debugEnabled||this._debugRenderer.reset()}update(e){this._debugEnabled&&this._debugRenderer&&(this._debugRenderer.reset(),e.addChild(this._debugRenderer.holder)),this._throttle===0?this._updateSize(e):this._throttledUpdateSize(e),this.updateLayout(e)}prerender({container:e}){this.autoUpdate&&this.update(e)}_updateSize(e){if(e.destroyed)return;const n=e._layout;if(n){const r=n.style;if(r.width==="intrinsic"||r.height==="intrinsic"){const i=hge(n);if(r.width==="intrinsic"){const s=n.yoga.getWidth().value;sY(s,i.width)||(n.yoga.setWidth(i.width),n.invalidateRoot())}if(r.height==="intrinsic"){const s=n.yoga.getHeight().value;sY(s,i.height)||(n.yoga.setHeight(i.height),n.invalidateRoot())}}if(!e.visible){n._onChildRemoved();return}}for(let r=0;r<e.children.length;r++)this._updateSize(e.children[r])}updateLayout(e){var n,r,i,s;const o=e._layout;if(e.visible){if(o){const a=o.yoga,l=o.style,u=(n=e.parent)==null?void 0:n.isOverflowContainer;if(!((r=e.parent)!=null&&r._layout)&&!u&&o._isDirty&&(o._isDirty=!1,a.calculateLayout(l.width,l.height,a.getDirection()??P0.LTR)),a.hasNewLayout()||o._forceUpdate){a.markLayoutSeen(),o._forceUpdate=!1,o._computedLayout=a.getComputedLayout();const d=p7(l.transformOrigin,o._computedLayout,{width:0,height:0});o._computedPixiLayout={...e.computeLayoutData(o._computedLayout),originX:d.x,originY:d.y},e.emit("layout",o),(i=e.onLayout)==null||i.call(e,o),e._onUpdate()}this._debugEnabled&&(o._styles.custom.debug||o._modificationCount>this._modificationCount&&o._styles.custom.debugHeat!==!1)&&((s=this._debugRenderer)==null||s.render(o))}for(let a=0;a<e.children.length;a++)this.updateLayout(e.children[a])}}destroy(){!this._debugEnabled&&this._debugRenderer&&this._debugRenderer.destroy()}}Zb(fge,"extension",{type:[Qn.WebGLSystem,Qn.WebGPUSystem],name:"layout"});const oY={"flex-start":Vr.FlexStart,"flex-end":Vr.FlexEnd,center:Vr.Center,stretch:Vr.Stretch,"space-between":Vr.SpaceBetween,"space-around":Vr.SpaceAround,"space-evenly":Vr.SpaceEvenly},aY={"flex-start":Vr.FlexStart,"flex-end":Vr.FlexEnd,center:Vr.Center,stretch:Vr.Stretch,baseline:Vr.Baseline},lY={auto:Vr.Auto,"flex-start":Vr.FlexStart,"flex-end":Vr.FlexEnd,center:Vr.Center,stretch:Vr.Stretch,baseline:Vr.Baseline},uY={"border-box":eC.BorderBox,"content-box":eC.ContentBox},cY={ltr:P0.LTR,rtl:P0.RTL},dY={none:Tx.None,flex:Tx.Flex,contents:Tx.Contents},hY={row:Ec.Row,column:Ec.Column,"row-reverse":Ec.RowReverse,"column-reverse":Ec.ColumnReverse},fY={wrap:rm.Wrap,nowrap:rm.NoWrap,"wrap-reverse":rm.WrapReverse},pY={"flex-start":La.FlexStart,"flex-end":La.FlexEnd,center:La.Center,"space-between":La.SpaceBetween,"space-around":La.SpaceAround,"space-evenly":La.SpaceEvenly},gY={visible:Mx.Visible,hidden:Mx.Hidden,scroll:Mx.Scroll},mY={absolute:Yy.Absolute,relative:Yy.Relative,static:Yy.Static},Nmt={alignContent:(t,e)=>t.setAlignContent(Lmt(e)),alignItems:(t,e)=>t.setAlignItems(Fmt(e)),alignSelf:(t,e)=>t.setAlignSelf($mt(e)),aspectRatio:(t,e)=>t.setAspectRatio(e),borderBottomWidth:(t,e)=>t.setBorder(Tn.Bottom,e),borderEndWidth:(t,e)=>t.setBorder(Tn.End,e),borderLeftWidth:(t,e)=>t.setBorder(Tn.Left,e),borderRightWidth:(t,e)=>t.setBorder(Tn.Right,e),borderStartWidth:(t,e)=>t.setBorder(Tn.Start,e),borderTopWidth:(t,e)=>t.setBorder(Tn.Top,e),borderWidth:(t,e)=>t.setBorder(Tn.All,e),borderInlineWidth:(t,e)=>t.setBorder(Tn.Horizontal,e),borderBlockWidth:(t,e)=>t.setBorder(Tn.Vertical,e),bottom:(t,e)=>t.setPosition(Tn.Bottom,e),boxSizing:(t,e)=>t.setBoxSizing(zmt(e)),direction:(t,e)=>t.setDirection(Omt(e)),display:(t,e)=>t.setDisplay(jmt(e)),end:(t,e)=>t.setPosition(Tn.End,e),flex:(t,e)=>t.setFlex(e),flexBasis:(t,e)=>t.setFlexBasis(e),flexDirection:(t,e)=>t.setFlexDirection(Qmt(e)),rowGap:(t,e)=>t.setGap(Op.Row,e),gap:(t,e)=>t.setGap(Op.All,e),columnGap:(t,e)=>t.setGap(Op.Column,e),flexGrow:(t,e)=>t.setFlexGrow(e),flexShrink:(t,e)=>t.setFlexShrink(e),flexWrap:(t,e)=>t.setFlexWrap(Umt(e)),height:(t,e)=>t.setHeight(e),justifyContent:(t,e)=>t.setJustifyContent(Hmt(e)),left:(t,e)=>t.setPosition(Tn.Left,e),margin:(t,e)=>t.setMargin(Tn.All,e),marginBottom:(t,e)=>t.setMargin(Tn.Bottom,e),marginEnd:(t,e)=>t.setMargin(Tn.End,e),marginLeft:(t,e)=>t.setMargin(Tn.Left,e),marginRight:(t,e)=>t.setMargin(Tn.Right,e),marginStart:(t,e)=>t.setMargin(Tn.Start,e),marginTop:(t,e)=>t.setMargin(Tn.Top,e),marginInline:(t,e)=>t.setMargin(Tn.Horizontal,e),marginBlock:(t,e)=>t.setMargin(Tn.Vertical,e),maxHeight:(t,e)=>t.setMaxHeight(e),maxWidth:(t,e)=>t.setMaxWidth(e),minHeight:(t,e)=>t.setMinHeight(e),minWidth:(t,e)=>t.setMinWidth(e),overflow:(t,e)=>t.setOverflow(Vmt(e)),padding:(t,e)=>t.setPadding(Tn.All,e),paddingBottom:(t,e)=>t.setPadding(Tn.Bottom,e),paddingEnd:(t,e)=>t.setPadding(Tn.End,e),paddingLeft:(t,e)=>t.setPadding(Tn.Left,e),paddingRight:(t,e)=>t.setPadding(Tn.Right,e),paddingStart:(t,e)=>t.setPadding(Tn.Start,e),paddingTop:(t,e)=>t.setPadding(Tn.Top,e),paddingInline:(t,e)=>t.setPadding(Tn.Horizontal,e),paddingBlock:(t,e)=>t.setPadding(Tn.Vertical,e),position:(t,e)=>t.setPositionType(Gmt(e)),right:(t,e)=>t.setPosition(Tn.Right,e),start:(t,e)=>t.setPosition(Tn.Start,e),top:(t,e)=>t.setPosition(Tn.Top,e),insetInline:(t,e)=>t.setPosition(Tn.Horizontal,e),insetBlock:(t,e)=>t.setPosition(Tn.Vertical,e),inset:(t,e)=>t.setPosition(Tn.All,e),width:(t,e)=>t.setWidth(e)};function Lmt(t){if(t in oY)return oY[t];throw new Error(`"${t}" is not a valid value for alignContent`)}function Fmt(t){if(t in aY)return aY[t];throw new Error(`"${t}" is not a valid value for alignItems`)}function $mt(t){if(t in lY)return lY[t];throw new Error(`"${t}" is not a valid value for alignSelf`)}function zmt(t){if(t in uY)return uY[t];throw new Error(`"${t}" is not a valid value for boxSizing`)}function Omt(t){if(t in cY)return cY[t];throw new Error(`"${t}" is not a valid value for direction`)}function jmt(t){if(t in dY)return dY[t];throw new Error(`"${t}" is not a valid value for display`)}function Qmt(t){if(t in hY)return hY[t];throw new Error(`"${t}" is not a valid value for flexDirection`)}function Umt(t){if(t in fY)return fY[t];throw new Error(`"${t}" is not a valid value for flexWrap`)}function Hmt(t){if(t in pY)return pY[t];throw new Error(`"${t}" is not a valid value for justifyContent`)}function Vmt(t){if(t in gY)return gY[t];throw new Error(`"${t}" is not a valid value for overflow`)}function Gmt(t){if(t in mY)return mY[t];throw new Error(`"${t}" is not a valid value for position`)}function Kmt(t,e={}){for(const[n,r]of Object.entries(e))try{const i=Nmt[n];i&&i(t,r)}catch{}if(e.width!==void 0){const n=e.left!==void 0&&e.right!==void 0?"auto":e.width;t.setWidth(n)}if(e.height!==void 0){const n=e.top!==void 0&&e.bottom!==void 0?"auto":e.height;t.setHeight(n)}}function Wmt(t,e){let r={...t._styles.custom,...e};r={...{...oE.defaultStyle.shared,...t.target instanceof fC||r.isLeaf||oE.defaultStyle.shared.isLeaf?oE.defaultStyle.leaf:oE.defaultStyle.container},...r};const s={...r},o=r.width==="intrinsic",a=r.height==="intrinsic";if(o||a){const{width:l,height:u}=hge(t);o&&(s.width=l),a&&(s.height=u)}return{custom:r,yoga:s}}function qmt(t,e){var n;let r=e.layout,i;if(!r&&e.isOverflowContainer&&(i=e,r=(n=i.parent)==null?void 0:n.layout,e=i.parent),!r)return!1;const s=t.yoga.getParent();s&&s.removeChild(t.yoga);const o=Ymt(t,e,i);return o===-1?!1:(o===r.yoga.getChildCount(),r.yoga.insertChild(t.yoga,o),!0)}function Ymt(t,e,n){const r=t.target;let i=0;if(n){for(const s of e.children){if(s===n){for(const o of n.children)if(!(!o.layout||!o.visible)){if(o===r)return i;i++}return-1}s.layout&&s.visible&&i++}return-1}for(const s of e.children)if(!(!s.layout||!s.visible)){if(s===r)return i;i++}return-1}function Xmt(t){const e=t.yoga.getParent();e&&e.removeChild(t.yoga)}var Jmt=Object.defineProperty,Zmt=(t,e,n)=>e in t?Jmt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Xh=(t,e,n)=>Zmt(t,typeof e!="symbol"?e+"":e,n);class oE{constructor({target:e}){Xh(this,"yoga"),Xh(this,"target"),Xh(this,"destroyed",!1),Xh(this,"_isDirty",!1),Xh(this,"_computedPixiLayout",{x:0,y:0,offsetX:0,offsetY:0,scaleX:1,scaleY:1,originX:0,originY:0}),Xh(this,"_computedLayout",{left:0,right:0,top:0,bottom:0,width:0,height:0}),Xh(this,"_styles",{custom:{},yoga:{}}),Xh(this,"_modificationCount",0),Xh(this,"_forceUpdate",!1),Xh(this,"hasParent",!1),Xh(this,"_trackedStyleKeys",["borderRadius","borderColor","backgroundColor","objectFit","objectPosition","transformOrigin","isLeaf"]),this.target=e,this.yoga=lge().Node.create(Bmt()),e.on("added",this._onChildAdded,this),e.on("removed",this._onChildRemoved,this),e.on("destroyed",this.destroy,this)}get style(){return this._styles.custom}get computedLayout(){return this._computedLayout}get computedPixiLayout(){return this._computedPixiLayout}get realX(){return this.target.localTransform.tx}get realY(){return this.target.localTransform.ty}get realScaleX(){return this.target.localTransform.a}get realScaleY(){return this.target.localTransform.d}setStyle(e){const n=Wmt(this,e),r=JSON.stringify(this._styles.custom)!==JSON.stringify(n.custom),i=JSON.stringify(this._styles.yoga)!==JSON.stringify(n.yoga),s=r||i,o=this._trackedStyleKeys.some(a=>n.custom[a]!==this._styles.custom[a]);this._styles=n,o&&(this._forceUpdate=!0),s&&(Kmt(this.yoga,this._styles.yoga),this.target._onUpdate(),this.invalidateRoot())}invalidateRoot(e){const n=this.getRoot(e);n.destroyed||(n._layout._isDirty=!0,n._onUpdate(),this._modificationCount++)}forceUpdate(){this._forceUpdate=!0}getRoot(e){var n,r;let i=e||this.target;for(;(n=i.parent)!=null&&n._layout||(r=i.parent)!=null&&r.isOverflowContainer;)i=i.parent,i.isOverflowContainer&&(i=i.parent);return i}_onChildAdded(e){this.hasParent||qmt(this,e)!==!1&&(this.hasParent=!0,this.invalidateRoot())}_onChildRemoved(e){this.hasParent&&(this.hasParent=!1,this.invalidateRoot(e),Xmt(this))}destroy(){this.destroyed||(this.destroyed=!0,this.invalidateRoot(),this.yoga.free(),this.target.off("added",this._onChildAdded,this),this.target.off("removed",this._onChildRemoved,this),this._styles=null,this._computedPixiLayout=null,this._computedLayout=null,this.target=null,this.hasParent=!1)}}Xh(oE,"defaultStyle",{leaf:{width:"intrinsic",height:"intrinsic"},container:{width:"auto",height:"auto"},shared:{transformOrigin:"50%",objectPosition:"center",flexShrink:1,flexDirection:"row",alignContent:"stretch",flexWrap:"nowrap",overflow:"visible"}});function pge(t,e,n){let r=1,i=1;switch(t){case"fill":r=e.width/n.width,i=e.height/n.height;break;case"contain":{const s=Math.min(e.width/n.width,e.height/n.height);r=s,i=s;break}case"cover":{const s=Math.max(e.width/n.width,e.height/n.height);r=s,i=s;break}case"none":r=1,i=1;break;case"scale-down":{const s=Math.min(1,e.width/n.width,e.height/n.height);r=s,i=s;break}}return{offsetScaleX:r,offsetScaleY:i}}function gge(t,e,n,r){const i=t.getLocalBounds(),s=t.layout.style.objectFit||n;let{offsetScaleX:o,offsetScaleY:a}=pge(s,e,i);const l={width:i.width*o,height:i.height*a};let{x:u,y:c}=p7(t.layout.style.objectPosition,e,l);r?(u+=i.width*o*r._x,c+=i.height*a*r._y):(u-=i.minX*o,c-=i.minY*a);const d=t.layout.style.applySizeDirectly;return(d===!0||d==null&&(t instanceof mlt||t instanceof vx))&&(t.width=i.width*o,t.height=i.height*a,o=1,a=1),{x:e.left,y:e.top,offsetX:u,offsetY:c,scaleX:o,scaleY:a}}const bN=Object.getOwnPropertyDescriptor(xr.prototype,"visible"),e0t={_layout:null,get layout(){return this._layout??null},set layout(t){if(t=t===!0?{}:t,!t){this._layout&&(this._layout.destroy(),this._layout=null,this.updateLocalTransform=xr.prototype.updateLocalTransform,Object.defineProperty(xr.prototype,"visible",bN));return}if(!this._layout){this._layout=new oE({target:this}),Object.defineProperty(xr.prototype,"visible",{...bN,set(e){bN.set.call(this,e),this.layout&&(e&&this.parent?this.layout._onChildAdded(this.parent):this.layout._onChildRemoved())}});for(const e of this.children)e.layout&&e.visible&&(e.layout._onChildRemoved(),e.layout._onChildAdded(this));this.parent&&this.visible&&this._layout._onChildAdded(this.parent)}this._layout.setStyle(t),this.updateLocalTransform=this.updateLocalTransformWithLayout,this._onUpdate()},updateLocalTransformWithLayout(){const t=this._didContainerChangeTick;if(this._didLocalTransformChangeId===t)return;this._didLocalTransformChangeId=t;const e=this._layout,{x:n,y:r,offsetX:i,offsetY:s,scaleX:o,scaleY:a,originX:l,originY:u}=e._computedPixiLayout,c=this.localTransform,{rotation:d,skew:f,scale:p,position:m}=this,v=d+f._y,y=d-f._x,A=Math.cos(v)*p._x,C=Math.sin(v)*p._x,E=-Math.sin(y)*p._y,I=Math.cos(y)*p._y,D=m._x+n-l*A-u*E,T=m._y+r-l*C-u*I;c.a=A*o,c.b=C*o,c.c=E*a,c.d=I*a,c.tx=D+(i*A+s*E)+l,c.ty=T+(i*C+s*I)+u},computeLayoutData(t){const e=this._layout,{isLeaf:n}=e._styles.custom;return n?gge(this,t,"fill"):{x:t.left,y:t.top,offsetX:0,offsetY:0,scaleX:1,scaleY:1}}};mo.mixin(xr,e0t);const AY=new oa(0,0),t0t={computeLayoutData(t){const e=this._style;AY.copyFrom(this.scale),this.scale=1,e.wordWrap&&(e.wordWrapWidth=t.width);let n=this.getLocalBounds();const r=this.layout.style.objectFit||"scale-down",{offsetScaleX:i,offsetScaleY:s}=pge(r,t,n);e.wordWrap&&(e.wordWrapWidth=t.width/Math.min(1,Math.max(i,s))),n=this.getLocalBounds();const o={width:n.width*i,height:n.height*s};let{x:a,y:l}=p7(this.layout.style.objectPosition,t,o);return a+=n.width*i*this.anchor._x,l+=n.height*s*this.anchor._y,this.layout.style.applySizeDirectly===!0&&(this.width=n.width*i,this.height=n.height*s),this.scale.copyFrom(AY),{x:t.left,y:t.top,offsetX:a,offsetY:l,scaleX:i,scaleY:s}}};mo.mixin(xM,t0t);const xN=Object.getOwnPropertyDescriptor(xM.prototype,"text");Object.defineProperty(xM.prototype,"text",{...xN,set(t){var e;const n=xN.get.call(this);xN.set.call(this,t),n!==t&&((e=this.layout)==null||e.forceUpdate())}});const n0t={computeLayoutData(t){return gge(this,t,"fill",this._anchor)}};mo.mixin(fC,n0t);mo.add(fge);let EE=null,hB=null;async function r0t(){return EE||(hB||(hB=en(()=>Promise.resolve().then(()=>jut),void 0).then(async t=>{const e=await t.loadYoga();return EE=e,uge(e),console.log("[LayoutEngine] Yoga initialized successfully (also set for @pixi/layout)"),e}).catch(t=>{throw console.error("[LayoutEngine] Failed to initialize Yoga:",t),hB=null,t})),hB)}function i0t(){if(!EE)throw new Error("Yoga not initialized. Call initYoga() first.");return EE}function mge(t){return typeof t=="string"&&t.trim().endsWith("%")}function Es(t,e=0){if(typeof t=="number")return t;if(typeof t=="string"){const n=parseFloat(t);return isNaN(n)?e:n}return e}function yY(t,e,n){if(n==null||n===""||n==="auto")return;const r=Es(n,0);r<=0||(mge(n)?e==="width"?t.setWidthPercent(r):t.setHeightPercent(r):e==="width"?t.setWidth(r):t.setHeight(r))}function fB(t,e,n){if(n==null||n==="")return;const r=Es(n,0);if(r<=0)return;const i=mge(n);switch(e){case"minWidth":i?t.setMinWidthPercent(r):t.setMinWidth(r);break;case"minHeight":i?t.setMinHeightPercent(r):t.setMinHeight(r);break;case"maxWidth":i?t.setMaxWidthPercent(r):t.setMaxWidth(r);break;case"maxHeight":i?t.setMaxHeightPercent(r):t.setMaxHeight(r);break}}const s0t=new Set(["Text","Heading","Label","Badge","h1","h2","h3","h4","h5","h6","p","span","Button","Link","a","Tab","Tag","Breadcrumb","Switch","ToggleButton"]),o0t=new Set(["Checkbox","CheckboxGroup","RadioGroup"]),D4={sm:{boxSize:16,gap:8},md:{boxSize:20,gap:8},lg:{boxSize:24,gap:8}},wM=D4.md,Age={xs:{fontSize:10,paddingX:8,paddingY:2},sm:{fontSize:14,paddingX:12,paddingY:4},md:{fontSize:16,paddingX:24,paddingY:8},lg:{fontSize:18,paddingX:32,paddingY:12},xl:{fontSize:20,paddingX:40,paddingY:16}},a0t=Age.sm;function l0t(t){return s0t.has(t.tag)}function u0t(t){const n=t.props?.size||"sm",r=Age[n]||a0t;return{paddingX:r.paddingX,paddingY:r.paddingY,fontSize:r.fontSize}}function c0t(t,e){const n=t.props,r=String(n?.children||n?.text||n?.label||"");if(!r)return null;const s=t.tag==="Button"||t.tag==="SubmitButton"||t.tag==="ToggleButton"?u0t(t):null,o=Es(e?.fontSize,s?.fontSize??16),a=new Sn({fontFamily:e?.fontFamily||"Arial",fontSize:o,fontWeight:e?.fontWeight||"normal",fontStyle:e?.fontStyle||"normal",letterSpacing:Es(e?.letterSpacing,0)}),l=ds.measureText(r,a);let u,c,d,f;if(s){const v=tC(e);e?.padding||e?.paddingTop||e?.paddingRight||e?.paddingBottom||e?.paddingLeft?(u=v.left,c=v.right,d=v.top,f=v.bottom):(u=s.paddingX,c=s.paddingX,d=s.paddingY,f=s.paddingY)}else{const v=tC(e);u=v.left,c=v.right,d=v.top,f=v.bottom}const p=l.width+u+c,m=l.height+d+f;return{width:Math.ceil(p),height:Math.ceil(m)}}function d0t(t,e){const n=t.props,r=n?.size||"md",i=D4[r]||wM,{boxSize:s,gap:o}=i,a=String(n?.children||n?.label||n?.text||"");if(!a)return{width:s,height:s};const l=Es(e?.fontSize,14),u=new Sn({fontFamily:e?.fontFamily||"Pretendard, sans-serif",fontSize:l,fontWeight:e?.fontWeight||"normal",fontStyle:e?.fontStyle||"normal",letterSpacing:Es(e?.letterSpacing,0)}),c=ds.measureText(a,u),d=s+o+c.width,f=Math.max(s,c.height);return{width:Math.ceil(d),height:Math.ceil(f)}}function h0t(t,e,n){const r=t.props,i=r?.size||"md",s=D4[i]||wM,{boxSize:o,gap:a}=s,l=Es(e?.fontSize,14),u=String(r?.label||r?.children||r?.text||""),c=u?l+8:0,d=r?.orientation,f=d==="horizontal"?!0:d==="vertical"?!1:e?.flexDirection==="row",p=n.filter(D=>D.parent_id===t.id&&(D.tag==="Checkbox"||D.tag==="CheckBox")).sort((D,T)=>(D.order_num||0)-(T.order_num||0)),m=[{value:"option1",label:"Option 1"},{value:"option2",label:"Option 2"}];let v;p.length>0?v=p.map(D=>{const T=D.props;return{value:String(T?.value||D.id),label:String(T?.children||T?.label||T?.text||"")}}):Array.isArray(r?.options)&&r.options.length>0?v=r.options:v=m;const y=12,A=120,C=new Sn({fontFamily:e?.fontFamily||"Pretendard, sans-serif",fontSize:l,fontWeight:e?.fontWeight||"normal",fontStyle:e?.fontStyle||"normal",letterSpacing:Es(e?.letterSpacing,0)});let E=0;u&&(E=ds.measureText(u,C).width);const I=v.map(D=>{const T=String(D.label||D.name||D.value||"");if(!T)return{width:o,height:o};const M=ds.measureText(T,C);return{width:o+a+M.width,height:Math.max(o,M.height)}});if(f){const D=I.length-1,T=D*A,M=I[D]?.width||o,P=T+M,k=Math.max(P,E),L=Math.max(...I.map($=>$.height),o);return{width:Math.ceil(k),height:Math.ceil(c+L)}}else{const D=Math.max(...I.map(P=>P.width),o),T=Math.max(D,E),M=v.length*(o+y)-y;return{width:Math.ceil(T),height:Math.ceil(c+M)}}}function f0t(t,e,n){const r=t.props,i=r?.size||"md",s=u7(i),o=s.radioSize,a=s.gap,l=Es(e?.fontSize,s.fontSize),u=String(r?.label||r?.children||r?.text||""),c=u?l+8:0,d=r?.orientation,f=d==="horizontal"?!0:d==="vertical"?!1:e?.flexDirection==="row",p=n.filter(D=>D.parent_id===t.id&&D.tag==="Radio").sort((D,T)=>(D.order_num||0)-(T.order_num||0)),m=[{value:"option1",label:"Option 1"},{value:"option2",label:"Option 2"}];let v;p.length>0?v=p.map(D=>{const T=D.props;return{value:String(T?.value||D.id),label:String(T?.children||T?.label||T?.text||"")}}):Array.isArray(r?.options)&&r.options.length>0?v=r.options:v=m;const y=12,A=120,C=new Sn({fontFamily:e?.fontFamily||"Pretendard, sans-serif",fontSize:l,fontWeight:e?.fontWeight||"normal",fontStyle:e?.fontStyle||"normal",letterSpacing:Es(e?.letterSpacing,0)});let E=0;u&&(E=ds.measureText(u,C).width);const I=v.map(D=>{const T=String(D.label||D.name||D.value||"");if(!T)return{width:o,height:o};const M=ds.measureText(T,C);return{width:o+a+M.width,height:Math.max(o,M.height)}});if(f){const D=I.length-1,T=D*A,M=I[D]?.width||o,P=T+M,k=Math.max(P,E),L=Math.max(...I.map($=>$.height),o);return{width:Math.ceil(k),height:Math.ceil(c+L)}}else{const D=Math.max(...I.map(P=>P.width),o),T=Math.max(D,E),M=v.length*(o+y)-y;return{width:Math.ceil(T),height:Math.ceil(c+M)}}}function p0t(t){return o0t.has(t.tag)}const g0t=new Set(["TextField","TextInput"]);function m0t(t){return g0t.has(t.tag)}function A0t(t,e){const n=t.props,r=n?.size||"md",i=h7(r),s=n?.width||240,a=n?.label||""?i.labelFontSize+i.gap:0,l=n?.description||"",u=n?.errorMessage||"",c=n?.isInvalid||!1,f=l||c&&u?i.descriptionFontSize+i.gap:0,p=a+i.height+f;return{width:s,height:p}}function y0t(t){return t.tag==="Radio"}function v0t(t,e){return t.tag!=="Checkbox"&&t.tag!=="CheckBox"?!1:e.find(r=>r.id===t.parent_id)?.tag==="CheckboxGroup"}function b0t(t,e){const n=t.props,r=n?.size||"md",i=D4[r]||wM,{boxSize:s,gap:o}=i,a=String(n?.children||n?.label||n?.text||"");if(!a)return{width:s,height:s};const l=Es(e?.fontSize,14),u=new Sn({fontFamily:e?.fontFamily||"Pretendard, sans-serif",fontSize:l}),c=ds.measureText(a,u);return{width:Math.ceil(s+o+c.width),height:Math.ceil(Math.max(s,c.height))}}function x0t(t,e){const n=t.props,r=n?.size||"md",i=D4[r]||wM,{boxSize:s,gap:o}=i,a=String(n?.children||n?.label||n?.text||"");if(!a)return{width:s,height:s};const l=Es(e?.fontSize,14),u=new Sn({fontFamily:e?.fontFamily||"Pretendard, sans-serif",fontSize:l}),c=ds.measureText(a,u);return{width:Math.ceil(s+o+c.width),height:Math.ceil(Math.max(s,c.height))}}function yge(t){switch(t){case"row":return Ec.Row;case"row-reverse":return Ec.RowReverse;case"column":return Ec.Column;case"column-reverse":return Ec.ColumnReverse;default:return Ec.Row}}function vge(t){switch(t){case"wrap":return rm.Wrap;case"wrap-reverse":return rm.WrapReverse;default:return rm.NoWrap}}function bge(t){switch(t){case"flex-start":return La.FlexStart;case"flex-end":return La.FlexEnd;case"center":return La.Center;case"space-between":return La.SpaceBetween;case"space-around":return La.SpaceAround;case"space-evenly":return La.SpaceEvenly;default:return La.FlexStart}}function tF(t){switch(t){case"flex-start":return Vr.FlexStart;case"flex-end":return Vr.FlexEnd;case"center":return Vr.Center;case"stretch":return Vr.Stretch;case"baseline":return Vr.Baseline;default:return Vr.Stretch}}function xge(t){switch(t){case"flex-start":return Vr.FlexStart;case"flex-end":return Vr.FlexEnd;case"center":return Vr.Center;case"stretch":return Vr.Stretch;case"space-between":return Vr.SpaceBetween;case"space-around":return Vr.SpaceAround;default:return Vr.Stretch}}function C0t(t,e,n){const r=t.Node.create(),i=e.props?.style,s=i?.width!==void 0&&i.width!==""&&i.width!=="auto",o=i?.height!==void 0&&i.height!==""&&i.height!=="auto";if(s&&yY(r,"width",i?.width),o&&yY(r,"height",i?.height),l0t(e)&&(!s||!o)){const l=c0t(e,i);l&&(s||r.setWidth(l.width),o||r.setHeight(l.height))}if(p0t(e)&&(!s||!o)){let l=null;e.tag==="Checkbox"?l=d0t(e,i):e.tag==="CheckboxGroup"?l=h0t(e,i,n):e.tag==="RadioGroup"&&(l=f0t(e,i,n)),l&&(s||r.setWidth(l.width),o||r.setHeight(l.height))}if(m0t(e)&&(!s||!o)){const l=A0t(e);l&&(s||r.setWidth(l.width),o||r.setHeight(l.height))}fB(r,"minWidth",i?.minWidth),fB(r,"minHeight",i?.minHeight),fB(r,"maxWidth",i?.maxWidth),fB(r,"maxHeight",i?.maxHeight),i?.marginTop&&r.setMargin(Tn.Top,Es(i.marginTop)),i?.marginRight&&r.setMargin(Tn.Right,Es(i.marginRight)),i?.marginBottom&&r.setMargin(Tn.Bottom,Es(i.marginBottom)),i?.marginLeft&&r.setMargin(Tn.Left,Es(i.marginLeft));const a=tC(i);return a.top>0&&r.setPadding(Tn.Top,a.top),a.right>0&&r.setPadding(Tn.Right,a.right),a.bottom>0&&r.setPadding(Tn.Bottom,a.bottom),a.left>0&&r.setPadding(Tn.Left,a.left),i?.display==="flex"&&(r.setFlexDirection(yge(i.flexDirection)),r.setFlexWrap(vge(i.flexWrap)),r.setJustifyContent(bge(i.justifyContent)),r.setAlignItems(tF(i.alignItems)),r.setAlignContent(xge(i.alignContent||"stretch")),i.gap&&r.setGap(Op.All,Es(i.gap)),i.rowGap&&r.setGap(Op.Row,Es(i.rowGap)),i.columnGap&&r.setGap(Op.Column,Es(i.columnGap))),r.setFlexShrink(i?.flexShrink!==void 0?i.flexShrink:1),i?.flex!==void 0&&r.setFlex(Es(i.flex,0)),i?.flexGrow!==void 0&&r.setFlexGrow(i.flexGrow),i?.flexBasis!==void 0&&r.setFlexBasis(Es(i.flexBasis)),i?.alignSelf&&r.setAlignSelf(tF(i.alignSelf)),i?.position==="absolute"&&(r.setPositionType(Yy.Absolute),i.left!==void 0&&r.setPosition(Tn.Left,Es(i.left)),i.top!==void 0&&r.setPosition(Tn.Top,Es(i.top))),r}function Cge(t,e,n,r,i,s,o,a){const l=e.filter(c=>c.parent_id===n).sort((c,d)=>(c.order_num||0)-(d.order_num||0));let u=0;for(let c=0;c<l.length;c++){const d=l[c];if(a.has(d.id)){console.warn("[LayoutEngine] Cyclic reference detected:",d.id);continue}if(y0t(d)){a.add(d.id);continue}if(v0t(d,e)){a.add(d.id);continue}a.add(d.id);const f=C0t(t,d,e);r.insertChild(f,u++),o.set(d.id,f);const p=d.props?.style,m=Es(p?.width,i),v=Es(p?.height,40);Cge(t,e,d.id,f,m,v,o,a)}}function E0t(t,e,n){const r=new Map;for(const[i,s]of t){const o=s.getComputedLayout(),l=n.find(f=>f.id===i)?.parent_id,u=l?e.get(l):{x:0,y:0},c=(u?.x||0)+o.left,d=(u?.y||0)+o.top;r.set(i,{x:c,y:d,width:o.width,height:o.height}),e.set(i,{x:c,y:d})}return r}function S0t(t,e){const n=t.filter(r=>r.tag==="RadioGroup");for(const r of n){const i=e.get(r.id);if(!i)continue;const s=t.filter(C=>C.parent_id===r.id&&C.tag==="Radio").sort((C,E)=>(C.order_num||0)-(E.order_num||0));if(s.length===0)continue;const o=r.props?.style,a=r.props,l=Es(o?.fontSize,14),c=String(a?.label||a?.children||a?.text||"")?l+8:0,d=a?.orientation,f=d==="horizontal"?!0:d==="vertical"?!1:o?.flexDirection==="row",p=a?.size||"md",m=u7(p),v=m.radioSize,y=m.gap,A=120;for(let C=0;C<s.length;C++){const E=s[C],I=E.props?.style,D=x0t(E,I),T=f?C*A:0,M=c+(f?0:C*(v+y));e.set(E.id,{x:i.x+T,y:i.y+M,width:D.width,height:D.height})}}}function w0t(t,e){const n=t.filter(r=>r.tag==="CheckboxGroup");for(const r of n){const i=e.get(r.id);if(!i)continue;const s=t.filter(y=>y.parent_id===r.id&&(y.tag==="Checkbox"||y.tag==="CheckBox")).sort((y,A)=>(y.order_num||0)-(A.order_num||0));if(s.length===0)continue;const o=r.props?.style,a=r.props,l=Es(o?.fontSize,14),c=String(a?.label||a?.children||a?.text||"")?l+8:0,d=a?.orientation,f=d==="horizontal"?!0:d==="vertical"?!1:o?.flexDirection==="row",p=12,m=120,v=20;for(let y=0;y<s.length;y++){const A=s[y],C=A.props?.style,E=b0t(A,C),I=f?y*m:0,D=c+(f?0:y*(v+p));e.set(A.id,{x:i.x+I,y:i.y+D,width:E.width,height:E.height})}}}function _0t(t,e,n,r){const i=new Map;if(!EE)return console.warn("[LayoutEngine] Yoga not initialized. Returning empty layout."),{positions:i};const s=i0t();if(!s.Node)return console.error("[LayoutEngine] Yoga.Node is not available"),{positions:i};const o=t.filter(v=>v.page_id===e),a=o.find(v=>v.tag.toLowerCase()==="body");if(!a)return{positions:i};const l=s.Node.create();l.setWidth(n),l.setHeight(r),l.setFlexDirection(Ec.Column);const u=a.props?.style;u?.display==="flex"&&(l.setFlexDirection(yge(u.flexDirection)),l.setFlexWrap(vge(u.flexWrap)),l.setJustifyContent(bge(u.justifyContent)),l.setAlignItems(tF(u.alignItems)),l.setAlignContent(xge(u.alignContent)),u.gap&&l.setGap(Op.All,Es(u.gap)));const c=tC(u);c.top>0&&l.setPadding(Tn.Top,c.top),c.right>0&&l.setPadding(Tn.Right,c.right),c.bottom>0&&l.setPadding(Tn.Bottom,c.bottom),c.left>0&&l.setPadding(Tn.Left,c.left);const d=new Map,f=new Set([a.id]);Cge(s,o,a.id,l,n,r,d,f),l.calculateLayout(n,r,P0.LTR),i.set(a.id,{x:0,y:0,width:n,height:r});const p=new Map;p.set(a.id,{x:0,y:0});const m=E0t(d,p,o);for(const[v,y]of m)i.set(v,y);return S0t(o,i),w0t(o,i),l.freeRecursive(),{positions:i}}function I0t(t){return t.props?.style?.display==="flex"}x.memo(function({element:e,children:n}){pn(fn);const r=e.props?.style,i=x.useMemo(()=>{const s=typeof r?.left=="number"?r.left:typeof r?.left=="string"?parseFloat(r.left):0,o=typeof r?.top=="number"?r.top:typeof r?.top=="string"?parseFloat(r.top):0;return{x:s,y:o}},[r?.left,r?.top]);return h.jsx("pixiContainer",{x:i.x,y:i.y,children:n})});function B0t(t){const n=t.props?.style?.display;return n==="grid"||n==="inline-grid"}const D0t=new Set(["Text","Heading","Label","Paragraph","Link","Strong","Em","Code","Pre","Blockquote","ListItem"]),T0t=new Set(["Image","Avatar","Logo","Icon","Thumbnail"]),M0t=new Set(["Button","SubmitButton"]),k0t=new Set(["FancyButton"]),P0t=new Set(["CheckboxGroup"]),R0t=new Set(["Checkbox","CheckBox","Switch","Toggle"]),N0t=new Set(["RadioGroup"]),L0t=new Set(["Radio"]),F0t=new Set(["Slider","RangeSlider"]),$0t=new Set(["Input","TextField","TextInput","SearchField"]),z0t=new Set(["Select","Dropdown","ComboBox"]),O0t=new Set(["ProgressBar","Progress","LoadingBar"]),j0t=new Set(["Switcher","SegmentedControl","TabBar"]),Q0t=new Set(["ScrollBox","ScrollContainer","ScrollView"]),U0t=new Set(["List","ItemList","VirtualList"]),H0t=new Set(["MaskedFrame","ClippedImage","MaskedImage","AvatarImage"]),V0t=new Set(["ToggleButton"]),G0t=new Set(["ToggleButtonGroup"]),K0t=new Set(["ListBox"]),W0t=new Set(["Badge","Tag","Chip"]),q0t=new Set(["Meter","Gauge"]),Y0t=new Set(["Separator","Divider","Hr"]),X0t=new Set(["Link","Anchor","A"]),J0t=new Set(["Breadcrumbs"]),Z0t=new Set(["Card","Panel","Box"]),eAt=new Set(["Menu","ContextMenu","DropdownMenu"]),tAt=new Set(["Tabs","TabList"]),nAt=new Set(["NumberField"]),rAt=new Set(["SearchField"]),iAt=new Set(["ComboBox"]),sAt=new Set(["GridList"]),oAt=new Set(["TagGroup","TagList"]),aAt=new Set(["Tree","TreeView"]),lAt=new Set(["Table","DataTable","DataGrid"]),uAt=new Set(["Disclosure"]),cAt=new Set(["DisclosureGroup","Accordion"]),dAt=new Set(["Tooltip"]),hAt=new Set(["Popover"]),fAt=new Set(["Dialog","Modal","AlertDialog"]),pAt=new Set(["ColorSwatch"]),gAt=new Set(["ColorSlider"]),mAt=new Set(["TimeField"]),AAt=new Set(["DateField"]),yAt=new Set(["ColorArea"]),vAt=new Set(["Calendar","RangeCalendar"]),bAt=new Set(["ColorWheel"]),xAt=new Set(["DatePicker"]),CAt=new Set(["ColorPicker"]),EAt=new Set(["DateRangePicker"]),SAt=new Set(["TextField","TextInput"]),wAt=new Set(["Switch"]),_At=new Set(["TextArea","Textarea"]),IAt=new Set(["Form"]),BAt=new Set(["Toolbar"]),DAt=new Set(["FileTrigger","FileUpload","FileInput"]),TAt=new Set(["DropZone","FileDropZone"]),MAt=new Set(["Skeleton","SkeletonLoader"]),kAt=new Set(["Toast"]),PAt=new Set(["Pagination"]),RAt=new Set(["ColorField"]),NAt=new Set(["ColorSwatchPicker"]),LAt=new Set(["Group"]),FAt=new Set(["Slot"]);function $At(t){const e=t.tag;return M0t.has(e)?"button":k0t.has(e)?"fancyButton":P0t.has(e)?"checkboxGroup":R0t.has(e)?"checkboxItem":N0t.has(e)?"radioGroup":L0t.has(e)?"radioItem":F0t.has(e)?"slider":$0t.has(e)?"input":z0t.has(e)?"select":O0t.has(e)?"progressBar":j0t.has(e)?"switcher":Q0t.has(e)?"scrollBox":U0t.has(e)?"list":H0t.has(e)?"maskedFrame":V0t.has(e)?"toggleButton":G0t.has(e)?"toggleButtonGroup":K0t.has(e)?"listBox":W0t.has(e)?"badge":q0t.has(e)?"meter":Y0t.has(e)?"separator":X0t.has(e)?"link":J0t.has(e)?"breadcrumbs":Z0t.has(e)?"card":eAt.has(e)?"menu":tAt.has(e)?"tabs":nAt.has(e)?"numberField":rAt.has(e)?"searchField":iAt.has(e)?"comboBox":sAt.has(e)?"gridList":oAt.has(e)?"tagGroup":aAt.has(e)?"tree":lAt.has(e)?"table":uAt.has(e)?"disclosure":cAt.has(e)?"disclosureGroup":dAt.has(e)?"tooltip":hAt.has(e)?"popover":fAt.has(e)?"dialog":pAt.has(e)?"colorSwatch":gAt.has(e)?"colorSlider":mAt.has(e)?"timeField":AAt.has(e)?"dateField":yAt.has(e)?"colorArea":vAt.has(e)?"calendar":bAt.has(e)?"colorWheel":xAt.has(e)?"datePicker":CAt.has(e)?"colorPicker":EAt.has(e)?"dateRangePicker":SAt.has(e)?"textField":wAt.has(e)?"switch":_At.has(e)?"textArea":IAt.has(e)?"form":BAt.has(e)?"toolbar":DAt.has(e)?"fileTrigger":TAt.has(e)?"dropZone":MAt.has(e)?"skeleton":kAt.has(e)?"toast":PAt.has(e)?"pagination":RAt.has(e)?"colorField":NAt.has(e)?"colorSwatchPicker":LAt.has(e)?"group":FAt.has(e)?"slot":I0t(t)?"flex":B0t(t)?"grid":D0t.has(e)?"text":T0t.has(e)?"image":"box"}const zAt=x.memo(function({element:e,isSelected:n,layoutPosition:r,onClick:i,onDoubleClick:s,onChange:o}){pn(fn);const a=e.id,l=Pe(p=>p.selectedElementIdsSet.has(a))??n??!1,u=Pe(p=>e.parent_id?p.elementsMap.get(e.parent_id)??null:null),c=x.useMemo(()=>{if(!r)return e;const p=e.props?.style||{};return{...e,props:{...e.props,style:{...p,left:r.x,top:r.y,width:r.width,height:r.height}}}},[e,r]),d=$At(c),f=d==="checkboxItem"&&u?.tag==="CheckboxGroup";switch(d){case"button":return h.jsx(npt,{element:c,isSelected:l,onClick:i});case"fancyButton":return h.jsx(ipt,{element:c,isSelected:l,onClick:i});case"checkboxGroup":return h.jsx(bpt,{element:c,isSelected:l,onClick:i,onChange:o?(p,m)=>o(p,m):void 0});case"checkboxItem":return f?h.jsx(Ept,{element:c,isSelected:l,onClick:i}):h.jsx(upt,{element:c,isSelected:l,onClick:i,onChange:o?(p,m)=>o(p,m):void 0});case"radioGroup":return h.jsx(kpt,{element:c,isSelected:l,onClick:i,onChange:o?(p,m)=>o(p,m):void 0});case"radioItem":return h.jsx(Npt,{element:c,isSelected:l,onClick:i});case"slider":return h.jsx(Opt,{element:c,isSelected:l,onClick:i,onChange:o?(p,m)=>o(p,m):void 0});case"input":return h.jsx(jpt,{element:c,isSelected:l,onClick:i,onChange:o?(p,m)=>o(p,m):void 0});case"select":return h.jsx(Hpt,{element:c,isSelected:l,onClick:i,onChange:o?(p,m)=>o(p,m):void 0});case"progressBar":return h.jsx(Wpt,{element:c,isSelected:l,onClick:i});case"switcher":return h.jsx(Zpt,{element:c,isSelected:l,onClick:i,onChange:o?(p,m)=>o(p,m):void 0});case"scrollBox":return h.jsx(rgt,{element:c,isSelected:l,onClick:i});case"list":return h.jsx(lgt,{element:c,isSelected:l,onClick:i});case"maskedFrame":return h.jsx(hgt,{element:c,isSelected:l,onClick:i});case"toggleButton":return h.jsx(ygt,{element:c,isSelected:l,onClick:i});case"toggleButtonGroup":return h.jsx(Sgt,{element:c,isSelected:l,onClick:i,onChange:o?(p,m)=>o(p,m):void 0});case"listBox":return h.jsx(Bgt,{element:c,isSelected:l,onClick:i,onChange:o?(p,m)=>o(p,m):void 0});case"badge":return h.jsx(Dgt,{element:c,isSelected:l,onClick:i});case"meter":return h.jsx(Mgt,{element:c,isSelected:l,onClick:i});case"separator":return h.jsx(kgt,{element:c,isSelected:l,onClick:i});case"link":return h.jsx(Pgt,{element:c,isSelected:l,onClick:i});case"breadcrumbs":return h.jsx(Rgt,{element:c,isSelected:l,onClick:i});case"card":return h.jsx(Ngt,{element:c,isSelected:l,onClick:i});case"menu":return h.jsx(Lgt,{element:c,isSelected:l,onClick:i});case"tabs":return h.jsx(Fgt,{element:c,isSelected:l,onClick:i});case"numberField":return h.jsx($gt,{element:c,isSelected:l,onClick:i});case"searchField":return h.jsx(zgt,{element:c,isSelected:l,onClick:i});case"comboBox":return h.jsx(Ogt,{element:c,isSelected:l,onClick:i,onChange:o?(p,m)=>o(p,m):void 0});case"gridList":return h.jsx(jgt,{element:c,isSelected:l,onClick:i,onChange:o?(p,m)=>o(p,m):void 0});case"tagGroup":return h.jsx(Qgt,{element:c,isSelected:l,onClick:i,onChange:o?(p,m)=>o(p,m):void 0});case"tree":return h.jsx(Ugt,{element:c,isSelected:l,onClick:i,onChange:o?(p,m)=>o(p,m):void 0});case"table":return h.jsx(Hgt,{element:c,isSelected:l,onClick:i,onChange:o?(p,m)=>o(p,m):void 0});case"disclosure":return h.jsx(Vgt,{element:c,isSelected:l,onClick:i,onChange:o?(p,m)=>o(p,m):void 0});case"disclosureGroup":return h.jsx(Ggt,{element:c,isSelected:l,onClick:i,onChange:o?(p,m)=>o(p,m):void 0});case"tooltip":return h.jsx(Kgt,{element:c,isSelected:l,onClick:i,onChange:o?(p,m)=>o(p,m):void 0});case"popover":return h.jsx(Wgt,{element:c,isSelected:l,onClick:i,onChange:o?(p,m)=>o(p,m):void 0});case"dialog":return h.jsx(qgt,{element:c,isSelected:l,onClick:i,onChange:o?(p,m)=>o(p,m):void 0});case"colorSwatch":return h.jsx(Xgt,{element:c,isSelected:l,onClick:i});case"colorSlider":return h.jsx(Jgt,{element:c,isSelected:l,onClick:i});case"timeField":return h.jsx(Zgt,{element:c,isSelected:l,onClick:i});case"dateField":return h.jsx(emt,{element:c,isSelected:l,onClick:i});case"colorArea":return h.jsx(tmt,{element:c,isSelected:l,onClick:i});case"calendar":return h.jsx(imt,{element:c,isSelected:l,onClick:i});case"colorWheel":return h.jsx(smt,{element:c,isSelected:l,onClick:i});case"datePicker":return h.jsx(amt,{element:c,isSelected:l,onClick:i});case"colorPicker":return h.jsx(lmt,{element:c,isSelected:l,onClick:i});case"dateRangePicker":return h.jsx(umt,{element:c,isSelected:l,onClick:i});case"textField":return h.jsx(cmt,{element:c,isSelected:l,onClick:i});case"switch":return h.jsx(dmt,{element:c,isSelected:l,onClick:i});case"textArea":return h.jsx(hmt,{element:c,isSelected:l,onClick:i});case"form":return h.jsx(fmt,{element:c,isSelected:l,onClick:i});case"toolbar":return h.jsx(pmt,{element:c,isSelected:l,onClick:i});case"fileTrigger":return h.jsx(gmt,{element:c,isSelected:l,onClick:i});case"dropZone":return h.jsx(mmt,{element:c,isSelected:l,onClick:i});case"skeleton":return h.jsx(ymt,{element:c,isSelected:l,onClick:i});case"toast":return h.jsx(vmt,{element:c,isSelected:l,onClick:i});case"pagination":return h.jsx(bmt,{element:c,isSelected:l,onClick:i,onChange:o?(p,m)=>o(p,m):void 0});case"colorField":return h.jsx(xmt,{element:c,isSelected:l,onClick:i});case"colorSwatchPicker":return h.jsx(Emt,{element:c,isSelected:l,onClick:i});case"group":return h.jsx(Smt,{element:c,isSelected:l,onClick:i});case"slot":return h.jsx(wmt,{element:c,isSelected:l,onClick:i});case"flex":case"grid":return h.jsx(Yq,{element:c,isSelected:l,onClick:i});case"text":return h.jsx(Kft,{element:c,isSelected:l,onClick:i,onDoubleClick:s});case"image":return h.jsx(qft,{element:c,isSelected:l,onClick:i});default:return h.jsx(Yq,{element:c,isSelected:l,onClick:i})}}),OAt=[{position:"top-left",cursor:"nw-resize",relativeX:0,relativeY:0},{position:"top-center",cursor:"n-resize",relativeX:.5,relativeY:0},{position:"top-right",cursor:"ne-resize",relativeX:1,relativeY:0},{position:"middle-right",cursor:"e-resize",relativeX:1,relativeY:.5},{position:"bottom-right",cursor:"se-resize",relativeX:1,relativeY:1},{position:"bottom-center",cursor:"s-resize",relativeX:.5,relativeY:1},{position:"bottom-left",cursor:"sw-resize",relativeX:0,relativeY:1},{position:"middle-left",cursor:"w-resize",relativeX:0,relativeY:.5}],jAt=6,vY=3900150,QAt=16777215,UAt=3900150,bY=3900150,HAt=.1;function pB(t,e=0){if(typeof t=="number")return t;if(typeof t=="string"){const n=parseFloat(t);return isNaN(n)?e:n}return e}function VAt(t){return{x:pB(t?.left,0),y:pB(t?.top,0),width:pB(t?.width,100),height:pB(t?.height,100)}}function GAt(t){if(t.length===0)return null;let e=1/0,n=1/0,r=-1/0,i=-1/0;for(const s of t)e=Math.min(e,s.x),n=Math.min(n,s.y),r=Math.max(r,s.x+s.width),i=Math.max(i,s.y+s.height);return{x:e,y:n,width:r-e,height:i-n}}function KAt(t,e){return t.x<e.x+e.width&&t.x+t.width>e.x&&t.y<e.y+e.height&&t.y+t.height>e.y}const WAt=x.memo(function({config:e,boundsX:n,boundsY:r,boundsWidth:i,boundsHeight:s,zoom:o=1,onDragStart:a,onHoverStart:l,onHoverEnd:u}){pn(fn);const c=jAt/o,d=1/o,f=n+i*e.relativeX-c/2,p=r+s*e.relativeY-c/2,m=x.useCallback(C=>{C.clear(),C.rect(0,0,c,c),C.fill({color:QAt,alpha:1}),C.setStrokeStyle({width:d,color:UAt,alpha:1}),C.rect(0,0,c,c),C.stroke()},[c,d]),v=x.useCallback(C=>{const E=C.global;E&&a?.(e.position,{x:E.x,y:E.y})},[e.position,a]),y=x.useCallback(()=>{l?.(e.cursor)},[e.cursor,l]),A=x.useCallback(()=>{u?.()},[u]);return h.jsx("pixiGraphics",{draw:m,x:f,y:p,eventMode:"static",cursor:e.cursor,onPointerDown:v,onPointerOver:y,onPointerOut:A})}),qAt=x.memo(x.forwardRef(function({bounds:e,showHandles:n=!0,enableMoveArea:r=!0,zoom:i=1,onDragStart:s,onMoveStart:o,onCursorChange:a},l){pn(fn);const u=x.useRef(null),c=x.useRef(null),d=x.useRef(null),f=x.useRef(e);x.useEffect(()=>{f.current=e},[e]);const p=Math.round(e.x),m=Math.round(e.y),v=Math.round(e.width),y=Math.round(e.height);x.useImperativeHandle(l,()=>({updatePosition:L=>{if(u.current){const $=f.current;u.current.position.set(Math.round($.x+L.x),Math.round($.y+L.y))}},updateBounds:L=>{u.current&&u.current.position.set(Math.round(L.x),Math.round(L.y));const $=Math.round(L.width),z=Math.round(L.height),j=1/i;if(c.current){const H=c.current;H.clear(),H.setStrokeStyle({width:j,color:vY,alpha:1}),H.rect(0,0,$,z),H.stroke()}if(d.current){const H=d.current;H.clear(),H.rect(0,0,$,z),H.fill({color:0,alpha:.001})}},resetPosition:()=>{if(u.current){const L=f.current;u.current.position.set(Math.round(L.x),Math.round(L.y))}}}),[i]);const A=1/i,C=x.useCallback(L=>{L.clear(),L.setStrokeStyle({width:A,color:vY,alpha:1}),L.rect(0,0,v,y),L.stroke()},[v,y,A]),E=x.useCallback(L=>{L.clear(),L.rect(0,0,v,y),L.fill({color:0,alpha:.001})},[v,y]),I=x.useCallback((L,$)=>{s?.(L,$)},[s]),D=x.useCallback(L=>{a?.(L)},[a]),T=x.useCallback(()=>{a?.("default")},[a]),M=x.useCallback(L=>{const $=L.global;$&&o?.({x:$.x,y:$.y})},[o]),P=x.useCallback(()=>{a?.("move")},[a]),k=x.useCallback(()=>{a?.("default")},[a]);return h.jsxs("pixiContainer",{ref:u,x:p,y:m,children:[r&&h.jsx("pixiGraphics",{ref:d,draw:E,eventMode:"static",cursor:"move",onPointerDown:M,onPointerOver:P,onPointerOut:k}),h.jsx("pixiGraphics",{ref:c,draw:C}),n&&OAt.map(L=>h.jsx(WAt,{config:L,boundsX:0,boundsY:0,boundsWidth:v,boundsHeight:y,zoom:i,onDragStart:I,onHoverStart:D,onHoverEnd:T},L.position))]})}));function Ege(t,e){const n=Math.min(t.x,e.x),r=Math.min(t.y,e.y),i=Math.abs(e.x-t.x),s=Math.abs(e.y-t.y);return{x:n,y:r,width:i,height:s}}const YAt=x.memo(function({start:e,current:n,zoom:r=1}){pn(fn);const i=Ege(e,n),s=1/r,o=x.useCallback(a=>{a.clear(),a.fill({color:bY,alpha:HAt}),a.rect(i.x,i.y,i.width,i.height),a.fill(),a.setStrokeStyle({width:s,color:bY,alpha:.8}),a.rect(i.x,i.y,i.width,i.height),a.stroke()},[i,s]);return h.jsx("pixiGraphics",{draw:o})}),Sge={DRAG_THROTTLE:16,IDLE_CALLBACK_TIMEOUT:50},XAt=x.memo(function({dragState:e,pageWidth:n=1920,pageHeight:r=1080,layoutResult:i,zoom:s=1,onResizeStart:o,onMoveStart:a,onCursorChange:l,selectionBoxRef:u}){pn(fn);const c=Pe(L=>L.selectedElementIds),d=Pe(L=>L.currentPageId),f=x.useCallback(()=>Pe.getState().elementsMap,[]),p=x.useMemo(()=>{if(!d||c.length===0)return[];const L=f(),$=[];for(const z of c){const j=L.get(z);j&&j.page_id===d&&$.push(j)}return $},[d,c,f]),m=x.useCallback(()=>Pe.getState().childrenMap,[]),v=x.useMemo(()=>{if(c.length===0)return new Set;const L=m(),$=new Set;for(const z of c){const j=L.get(z);j&&j.length>0&&$.add(z)}return $},[c,m]),y=x.useCallback(()=>{if(p.length===0)return null;const L=p.map($=>{if($.tag.toLowerCase()==="body")return{x:0,y:0,width:n,height:r};const z=i.positions.get($.id);return z?{x:z.x,y:z.y,width:z.width,height:z.height}:{x:0,y:0,width:100,height:40}});return GAt(L)},[p,n,r,i]),[A,C]=x.useState(null),E=x.useRef(null);x.useEffect(()=>{const L=y();return queueMicrotask(()=>C(L)),()=>{E.current!==null&&(cancelIdleCallback(E.current),E.current=null)}},[y]);const I=x.useRef(i);x.useEffect(()=>{I.current!==i&&(I.current=i,E.current!==null&&cancelIdleCallback(E.current),E.current=requestIdleCallback(()=>{C(y()),E.current=null},{timeout:Sge.IDLE_CALLBACK_TIMEOUT}))},[i,y]);const D=p.length===1,T=x.useMemo(()=>p.length===0?!1:p.some(L=>L.tag.toLowerCase()==="body"?!0:v.has(L.id)),[p,v]),M=x.useCallback((L,$)=>{if(!(!A||p.length===0)&&D){const z=p[0];o?.(z.id,L,A,$)}},[A,p,D,o]),P=x.useCallback(L=>{if(!A||p.length===0)return;const $=p[0];a?.($.id,A,L)},[A,p,a]),k=x.useCallback(L=>{l?.(L)},[l]);return h.jsxs("pixiContainer",{label:"SelectionLayer",children:[A&&h.jsx(qAt,{ref:u,bounds:A,showHandles:D,enableMoveArea:!T,zoom:s,onDragStart:M,onMoveStart:P,onCursorChange:k}),e.isDragging&&e.operation==="lasso"&&e.startPosition&&e.currentPosition&&h.jsx(YAt,{start:e.startPosition,current:e.currentPosition,zoom:s})]})});function JAt(t,e,n){const r=Ege(e,n);return t.filter(i=>{const s=VAt(i.props?.style);return KAt(r,s)}).map(i=>i.id)}function ZAt(){const t=x.useRef(null),e=x.useRef(null),n=x.useCallback(i=>{e.current=i,t.current===null&&(t.current=requestAnimationFrame(()=>{t.current=null,e.current?.(),e.current=null}))},[]),r=x.useCallback(()=>{t.current!==null&&(cancelAnimationFrame(t.current),t.current=null),e.current=null},[]);return x.useEffect(()=>()=>{t.current!==null&&cancelAnimationFrame(t.current)},[]),{schedule:n,cancel:r}}const F1={isDragging:!1,operation:null,startPosition:null,currentPosition:null,targetElementId:null,targetHandle:null,startBounds:null};function eyt(t={}){const{onMoveEnd:e,onResizeEnd:n,onLassoEnd:r,findElementsInLasso:i,onDragStart:s,onDragUpdate:o}=t,[a,l]=x.useState(F1),u=x.useRef(F1),c=x.useRef(0),{schedule:d,cancel:f}=ZAt(),p=x.useCallback((E,I,D)=>{s?.();const T={isDragging:!0,operation:"move",startPosition:D,currentPosition:D,targetElementId:E,targetHandle:null,startBounds:I};u.current=T,l(T)},[s]),m=x.useCallback((E,I,D,T)=>{s?.();const M={isDragging:!0,operation:"resize",startPosition:T,currentPosition:T,targetElementId:E,targetHandle:I,startBounds:D};u.current=M,l(M)},[s]),v=x.useCallback(E=>{s?.();const I={isDragging:!0,operation:"lasso",startPosition:E,currentPosition:E,targetElementId:null,targetHandle:null,startBounds:null};u.current=I,l(I)},[s]),y=x.useCallback(E=>{const I=u.current;if(!I.isDragging)return;const D=performance.now();if(D-c.current<Sge.DRAG_THROTTLE)return;c.current=D;const T={...I,currentPosition:E};if(u.current=T,o&&I.startPosition){const{operation:M,startPosition:P,startBounds:k,targetHandle:L}=I;switch(M){case"move":{const $={x:E.x-P.x,y:E.y-P.y};o("move",{delta:$});break}case"resize":{if(k&&L){const $=xY(k,L,P,E);o("resize",{newBounds:$})}break}case"lasso":{d(()=>{l(u.current)});break}}}else d(()=>{l(u.current)})},[o,d]),A=x.useCallback(()=>{f();const E=u.current;if(!E.isDragging)return;const{operation:I,startPosition:D,currentPosition:T,targetElementId:M,targetHandle:P,startBounds:k}=E;if(D&&T)switch(I){case"move":if(M){const L={x:T.x-D.x,y:T.y-D.y};e?.(M,L)}break;case"resize":if(M&&P&&k){const L=xY(k,P,D,T);n?.(M,P,L)}break;case"lasso":if(i){const L=i(D,T);r?.(L)}break}u.current=F1,l(F1)},[e,n,r,i,f]),C=x.useCallback(()=>{f(),u.current=F1,l(F1)},[f]);return{dragState:a,startMove:p,startResize:m,startLasso:v,updateDrag:y,endDrag:A,cancelDrag:C}}function xY(t,e,n,r){const i=r.x-n.x,s=r.y-n.y;let{x:o,y:a,width:l,height:u}=t;switch(e){case"top-left":o+=i,a+=s,l-=i,u-=s;break;case"top-center":a+=s,u-=s;break;case"top-right":a+=s,l+=i,u-=s;break;case"middle-right":l+=i;break;case"bottom-right":l+=i,u+=s;break;case"bottom-center":u+=s;break;case"bottom-left":o+=i,l-=i,u+=s;break;case"middle-left":o+=i,l-=i;break}const c=10;return l<c&&(e.includes("left")&&(o=t.x+t.width-c),l=c),u<c&&(e.includes("top")&&(a=t.y+t.height-c),u=c),{x:o,y:a,width:l,height:u}}const CY=14870768,EY=.5,SY=9741240,wY=.3,_Y=4674921,IY=.6,BY=1,tyt=3900150,nyt=.2;function ryt(t,e){return e<.25?t*4:e<.5?t*2:e>2?t/2:e>4?t/4:t}function iyt(t){return t*5}const syt=x.memo(function({zoom:e,showGrid:n=!0,showSnapGrid:r=!1,gridSize:i=20,snapSize:s=10}){pn(fn);const o=ns(f=>f.containerSize),{width:a,height:l}=o,u=x.useMemo(()=>ryt(i,e),[i,e]),c=x.useMemo(()=>iyt(u),[u]),d=x.useCallback(f=>{if(f.clear(),!n)return;const p=(m,v,y,A,C,E,I)=>{m===y?f.rect(m-C/2,Math.min(v,A),C,Math.abs(A-v)):f.rect(Math.min(m,y),v-C/2,Math.abs(y-m),C),f.fill({color:E,alpha:I})};for(let m=0;m<=a;m+=u)m%c!==0&&p(m,0,m,l,1,CY,EY);for(let m=0;m<=l;m+=u)m%c!==0&&p(0,m,a,m,1,CY,EY);for(let m=0;m<=a;m+=c)p(m,0,m,l,1,SY,wY);for(let m=0;m<=l;m+=c)p(0,m,a,m,1,SY,wY);if(p(a/2,0,a/2,l,BY,_Y,IY),p(0,l/2,a,l/2,BY,_Y,IY),r&&s!==u)for(let m=0;m<=a;m+=s)for(let v=0;v<=l;v+=s)f.circle(m,v,1),f.fill({color:tyt,alpha:nyt})},[a,l,u,c,n,r,s]);return h.jsx("pixiGraphics",{draw:d})});class oyt{container=null;options;currentState={x:0,y:0,scale:1};isPanning=!1;lastPanPoint=null;constructor(e={}){this.options={minZoom:e.minZoom??.1,maxZoom:e.maxZoom??5,onStateSync:e.onStateSync??(()=>{})}}attach(e){this.container=e,this.currentState={x:e.x,y:e.y,scale:e.scale.x}}detach(){this.container=null}isAttached(){return this.container!==null}startPan(e,n){this.isPanning=!0,this.lastPanPoint={x:e,y:n}}updatePan(e,n){if(!this.isPanning||!this.lastPanPoint||!this.container)return;const r=e-this.lastPanPoint.x,i=n-this.lastPanPoint.y;this.container.x+=r,this.container.y+=i,this.currentState.x=this.container.x,this.currentState.y=this.container.y,this.lastPanPoint={x:e,y:n}}endPan(){this.isPanning&&(this.isPanning=!1,this.lastPanPoint=null,this.syncToReactState())}zoomAtPoint(e,n,r,i,s=!0){if(!this.container)return;const{minZoom:o,maxZoom:a}=this.options,l=e-r.left,u=n-r.top,c=this.container.scale.x,d=Math.min(Math.max(c*(1+i),o),a);if(d===c)return;const f=d/c,p=l-(l-this.container.x)*f,m=u-(u-this.container.y)*f;this.container.x=p,this.container.y=m,this.container.scale.set(d),this.currentState={x:p,y:m,scale:d},s&&this.syncToReactState()}setPosition(e,n,r){this.container&&(this.container.x=e,this.container.y=n,this.container.scale.set(r),this.currentState={x:e,y:n,scale:r})}getState(){return{...this.currentState}}isPanningActive(){return this.isPanning}syncToReactState(){this.options.onStateSync(this.currentState)}}function ayt(t){const{cameraLabel:e="Camera",minZoom:n=.1,maxZoom:r=5,containerEl:i,onInteractionStart:s,onInteractionEnd:o}=t,{app:a}=dm(),l=x.useRef(!1),u=x.useRef(!1),c=x.useRef(null),d=x.useRef(!1),f=x.useRef(s),p=x.useRef(o);x.useEffect(()=>{f.current=s,p.current=o});const m=ns(T=>T.setZoom),v=ns(T=>T.setPanOffset),y=x.useCallback(T=>{m(T.scale),v({x:T.x,y:T.y})},[m,v]),A=x.useMemo(()=>a?.stage?new oyt({minZoom:n,maxZoom:r,onStateSync:y}):null,[a,n,r,y]),C=x.useRef(null);x.useEffect(()=>{C.current=i??null},[i]);const E=x.useRef(null),I=x.useCallback(T=>{if(E.current&&(E.current.remove(),E.current=null),T&&C.current){const M=document.createElement("style"),P=C.current.id||"viewport-container";C.current.id||(C.current.id=P),M.textContent=`#${P}, #${P} * { cursor: ${T} !important; }`,document.head.appendChild(M),E.current=M}},[]),D=x.useRef(I);return x.useEffect(()=>{D.current=I},[I]),x.useEffect(()=>()=>{E.current&&(E.current.remove(),E.current=null)},[]),x.useEffect(()=>{if(!a?.stage||!A)return;const T=a.stage.children.find(k=>k.label===e);if(!T){console.warn(`[useViewportControl] Camera container with label "${e}" not found`);return}A.attach(T);const{zoom:M,panOffset:P}=ns.getState();return A.setPosition(P.x,P.y,M),console.log("[useViewportControl] Initial position applied:",{x:P.x,y:P.y,scale:M}),()=>{A.detach()}},[a,e,A]),x.useEffect(()=>{if(!i||!A)return;const T=k=>{(u.current&&k.button===0||k.button===1)&&(k.preventDefault(),f.current?.(),A.startPan(k.clientX,k.clientY),l.current=!0,D.current("grabbing"))},M=k=>{A.isPanningActive()&&A.updatePan(k.clientX,k.clientY)},P=()=>{A.isPanningActive()&&(A.endPan(),l.current=!1,D.current(u.current?"grab":null),p.current?.())};return i.addEventListener("mousedown",T),window.addEventListener("mousemove",M),window.addEventListener("mouseup",P),()=>{i.removeEventListener("mousedown",T),window.removeEventListener("mousemove",M),window.removeEventListener("mouseup",P)}},[i,A]),x.useEffect(()=>{if(!i||!A)return;const T=M=>{if(M.ctrlKey||M.metaKey){M.preventDefault(),M.stopPropagation(),d.current||(d.current=!0,f.current?.()),c.current&&clearTimeout(c.current),c.current=setTimeout(()=>{d.current=!1,p.current?.(),c.current=null},150);const P=i.getBoundingClientRect(),k=-M.deltaY*.001;A.zoomAtPoint(M.clientX,M.clientY,P,k,!0)}else{M.preventDefault(),M.stopPropagation();const P=M.shiftKey?M.deltaY:M.deltaX,k=M.shiftKey?0:M.deltaY,{panOffset:L,zoom:$}=ns.getState(),z=L.x-P,j=L.y-k;A.setPosition(z,j,$),v({x:z,y:j})}};return i.addEventListener("wheel",T,{passive:!1,capture:!0}),()=>{i.removeEventListener("wheel",T,{capture:!0}),c.current&&(clearTimeout(c.current),c.current=null)}},[i,A,v]),x.useEffect(()=>{if(!A||A.isPanningActive())return;const{zoom:T,panOffset:M}=ns.getState();A.setPosition(M.x,M.y,T)},[A]),x.useEffect(()=>A?ns.subscribe((M,P)=>{!A||A.isPanningActive()||(M.zoom!==P.zoom||M.panOffset.x!==P.panOffset.x||M.panOffset.y!==P.panOffset.y)&&A.setPosition(M.panOffset.x,M.panOffset.y,M.zoom)}):void 0,[A]),Hx([{key:"Space",code:"Space",modifier:"none",preventDefault:!1,disabled:!i,handler:()=>{u.current||(u.current=!0,I("grab"))}}],[i,I]),Hx([{key:"Space",code:"Space",modifier:"none",preventDefault:!1,disabled:!i,handler:()=>{u.current=!1,l.current||I(null)}}],[i,I],{eventType:"keyup"}),{controller:A,isPanningRef:l}}function lyt({containerEl:t,cameraLabel:e="Camera",minZoom:n=.1,maxZoom:r=5,onInteractionStart:i,onInteractionEnd:s}){const{controller:o}=ayt({containerEl:t,cameraLabel:e,minZoom:n,maxZoom:r,onInteractionStart:i,onInteractionEnd:s});return x.useEffect(()=>()=>{},[o]),null}const uyt=x.memo(function({pageWidth:e,pageHeight:n,onClick:r}){pn(fn);const i=Pe(v=>v.elementsMap),s=Pe(v=>v.currentPageId),o=x.useMemo(()=>{for(const v of i.values())if(v.page_id===s&&v.tag.toLowerCase()==="body")return v},[i,s]),a=o?.props?.style,l=a?.backgroundColor,u=x.useMemo(()=>$r(l,16777215),[l]),c=x.useMemo(()=>l?EM(l):1,[l]),d=x.useMemo(()=>SM(a),[a]),f=x.useMemo(()=>mt(a?.borderRadius,void 0,0),[a?.borderRadius]),p=x.useCallback(v=>{vs(v,{width:e,height:n,backgroundColor:u,backgroundAlpha:c,borderRadius:f,border:d})},[e,n,u,c,f,d]),m=x.useCallback(v=>{if(o&&r){const y=v,A=y?.metaKey??y?.nativeEvent?.metaKey??!1,C=y?.shiftKey??y?.nativeEvent?.shiftKey??!1,E=y?.ctrlKey??y?.nativeEvent?.ctrlKey??!1;r(o.id,{metaKey:A,shiftKey:C,ctrlKey:E})}},[o,r]);return h.jsx("pixiGraphics",{label:"BodyLayer",draw:p,eventMode:"static",cursor:"default",onPointerDown:m})});function cyt({elementId:t,initialValue:e,position:n,size:r,zoom:i,panOffset:s,style:o={},onChange:a,onComplete:l,onCancel:u}){const c=x.useRef(null),[d,f]=x.useState(e),[p,m]=x.useState(!1),v={x:n.x*i+s.x,y:n.y*i+s.y},y={width:r.width*i,height:r.height*i};x.useEffect(()=>{c.current&&(c.current.focus(),c.current.select())},[]);const A=x.useCallback(M=>{const P=M.target.value;f(P),a?.(t,P)},[t,a]),C=x.useCallback(M=>{p||(M.key==="Enter"&&!M.shiftKey&&(M.preventDefault(),l?.(t)),M.key==="Escape"&&(M.preventDefault(),u?.(t)))},[t,p,l,u]),E=x.useCallback(()=>{l?.(t)},[t,l]),I=x.useCallback(()=>{m(!0)},[]),D=x.useCallback(()=>{m(!1)},[]),T={position:"absolute",left:v.x,top:v.y,width:y.width,height:y.height,minWidth:50,minHeight:20,padding:(o.padding||0)*i,margin:0,border:"2px solid #3b82f6",borderRadius:2,outline:"none",resize:"none",overflow:"hidden",backgroundColor:"white",boxSizing:"border-box",fontFamily:o.fontFamily||"Pretendard, sans-serif",fontSize:(o.fontSize||16)*i,fontWeight:o.fontWeight||"normal",color:o.color||"#000000",textAlign:o.textAlign||"left",lineHeight:o.lineHeight||1.4,transformOrigin:"top left",zIndex:1e3};return h.jsx("textarea",{ref:c,value:d,onChange:A,onKeyDown:C,onBlur:E,onCompositionStart:I,onCompositionEnd:D,style:T,spellCheck:!1,autoComplete:"off"})}const dyt=new Set(["Text","Heading","Label","Paragraph","Link","Button","Input","TextField","TextInput","SearchField","TextArea"]);function hyt(t){const e=t.props;return String(e?.value||e?.defaultValue||e?.children||e?.text||e?.label||"")}function fyt(t){const e=t.props?.style;return{fontFamily:String(e?.fontFamily||"Pretendard, sans-serif"),fontSize:Number(e?.fontSize)||16,fontWeight:e?.fontWeight,color:String(e?.color||"#000000"),textAlign:e?.textAlign||"left",lineHeight:e?.lineHeight,padding:Number(e?.padding||e?.paddingLeft||0)}}function pyt(t){const e=t.props?.style;return{x:Number(e?.left)||0,y:Number(e?.top)||0}}function gyt(t){const e=t.props?.style;return{width:Number(e?.width)||100,height:Number(e?.height)||50}}function myt(){const t=Pe(u=>u.elements),e=Pe(u=>u.updateElementProps),[n,r]=x.useState(null),i=x.useCallback((u,c)=>{const d=t.find(v=>v.id===u);if(!d)return;if(!dyt.has(d.tag)){console.warn(`[useTextEdit] Element ${d.tag} is not a text element`);return}const f=hyt(d),p=c?{x:c.x,y:c.y}:pyt(d),m=c?{width:c.width,height:c.height}:gyt(d);r({elementId:u,value:f,position:p,size:m,style:fyt(d)})},[t]),s=x.useCallback((u,c)=>{r(d=>!d||d.elementId!==u?d:{...d,value:c})},[]),o=x.useCallback(u=>{if(!n||n.elementId!==u)return;const c=t.find(p=>p.id===u);if(!c)return;const d=c.props,f={...d};"value"in(d||{})||"defaultValue"in(d||{})?f.value=n.value:"children"in(d||{})?f.children=n.value:"text"in(d||{})?f.text=n.value:"label"in(d||{})?f.label=n.value:["Input","TextField","TextInput","SearchField","TextArea"].includes(c.tag)?f.value=n.value:f.children=n.value,e(u,f),r(null)},[n,t,e]),a=x.useCallback(u=>{!n||n.elementId!==u||r(null)},[n]);return{editState:n,startEdit:i,updateText:s,completeEdit:o,cancelEdit:a,isEditing:n!==null}}const Ayt=100;function yyt(t,e,n,r,i=Ayt){const s=(-r.x-i)/n,o=(-r.y-i)/n,a=(t-r.x+i)/n,l=(e-r.y+i)/n;return{left:s,top:o,right:a,bottom:l,width:a-s,height:l-o}}function vyt(t,e){if(e)return{x:e.x,y:e.y,width:e.width,height:e.height};const n=t.props?.style;return{x:Number(n?.left)||0,y:Number(n?.top)||0,width:Number(n?.width)||100,height:Number(n?.height)||100}}function byt(t,e){return!(t.x+t.width<e.left||t.x>e.right||t.y+t.height<e.top||t.y>e.bottom)}function xyt({elements:t,layoutResult:e,zoom:n,panOffset:r,screenWidth:i=typeof window<"u"?window.innerWidth:1920,screenHeight:s=typeof window<"u"?window.innerHeight:1080,enabled:o=!0}){return x.useMemo(()=>{if(!o||t.length===0)return{visibleElements:t,culledCount:0,totalCount:t.length,cullingRatio:0};const a=yyt(i,s,n,r),l=t.filter(c=>{const d=e.positions.get(c.id),f=vyt(c,d);return byt(f,a)}),u=t.length-l.length;return{visibleElements:l,culledCount:u,totalCount:t.length,cullingRatio:t.length>0?u/t.length:0}},[t,e,n,r,i,s,o])}const Cyt=1920,Eyt=1080,Syt=16317180,wyt=4;function _yt(){return pn(fn),null}function Iyt({width:t,height:e,zoom:n=1}){pn(fn),f7();const r=Math.round(t),i=Math.round(e),s=1/n,o=x.useCallback(a=>{a.clear();const l=kdt();a.setStrokeStyle({width:s,color:l}),a.rect(0,0,r,i),a.stroke()},[r,i,s]);return h.jsx("pixiGraphics",{draw:o})}function Byt({onClick:t,onLassoStart:e,onLassoDrag:n,onLassoEnd:r,zoom:i,panOffset:s}){pn(fn);const{app:o}=dm();x.useEffect(()=>{if(!o||!o.renderer)return;let m=null;try{m=o.canvas}catch{return}if(!m)return;const v=A=>{A.key==="Shift"&&(m.style.cursor="crosshair")},y=A=>{A.key==="Shift"&&(m.style.cursor="default")};return window.addEventListener("keydown",v),window.addEventListener("keyup",y),()=>{window.removeEventListener("keydown",v),window.removeEventListener("keyup",y)}},[o]);const a=x.useCallback(m=>{m.clear(),m.rect(-5e3,-5e3,1e4,1e4),m.fill({color:16777215,alpha:0})},[]),l=x.useRef(!1),u=x.useRef(!1),c=x.useCallback((m,v)=>({x:(m-s.x)/i,y:(v-s.y)/i}),[i,s]),d=x.useCallback(m=>{u.current=!0,l.current=!0;const v=c(m.global.x,m.global.y);e?.(v)},[e,c]),f=x.useCallback(m=>{if(l.current){const v=c(m.global.x,m.global.y);n?.(v)}},[n,c]),p=x.useCallback(()=>{u.current&&(u.current=!1,l.current?(l.current=!1,r?.()):t?.())},[t,r]);return h.jsx("pixiGraphics",{draw:a,eventMode:"static",cursor:"default",onPointerDown:d,onGlobalPointerMove:f,onPointerUp:p,onPointerUpOutside:p})}const Dyt=x.memo(function({layoutResult:e,zoom:n,panOffset:r,onClick:i,onDoubleClick:s}){const o=Pe(p=>p.elements),a=Pe(p=>p.currentPageId),l=x.useMemo(()=>new Map(o.map(p=>[p.id,p])),[o]),u=x.useMemo(()=>{const p=new Map,m=v=>{if(!v)return 0;const y=p.get(v);if(y!==void 0)return y;const A=l.get(v);if(!A||A.tag.toLowerCase()==="body")return p.set(v,0),0;const C=1+m(A.parent_id);return p.set(v,C),C};return o.forEach(v=>{p.set(v.id,m(v.id))}),p},[o,l]),c=x.useMemo(()=>o.filter(p=>!(p.page_id!==a||p.tag.toLowerCase()==="body")),[o,a]),d=x.useMemo(()=>[...c].sort((p,m)=>{const v=u.get(p.id)??0,y=u.get(m.id)??0;return v!==y?v-y:(p.order_num||0)-(m.order_num||0)}),[c,u]),{visibleElements:f}=xyt({elements:d,layoutResult:e,zoom:n,panOffset:r,enabled:!0});return h.jsx("pixiContainer",{label:"ElementsLayer",eventMode:"static",interactiveChildren:!0,children:f.map(p=>h.jsx(zAt,{element:p,layoutPosition:e.positions.get(p.id),onClick:i,onDoubleClick:s},p.id))})});function DY({pageWidth:t=Cyt,pageHeight:e=Eyt,backgroundColor:n=Syt}){const r=x.useRef(null),i=x.useRef(null),s=x.useRef(null),[o,a]=x.useState(null),[l,u]=x.useState(!1),c=Jpe(),[d,f]=x.useState(!1),p=x.useMemo(()=>fdt(d),[d]);x.useEffect(()=>{r0t().then(()=>{u(!0)})},[]);const m=x.useCallback(le=>{r.current=le,a(le)},[]),v=Pe(le=>le.elements),y=Pe(le=>le.setSelectedElement),A=Pe(le=>le.setSelectedElements),C=Pe(le=>le.clearSelection),E=Pe(le=>le.updateElementProps),I=Pe(le=>le.batchUpdateElements),D=Pe(le=>le.currentPageId),T=Pe(le=>le.showGrid),M=Pe(le=>le.gridSize),P=ns(le=>le.zoom),k=ns(le=>le.panOffset),L=ns(le=>le.setCanvasReady),$=ns(le=>le.setContextLost),z=ns(le=>le.syncPixiVersion),j=ns(le=>le.renderVersion),H=x.useMemo(()=>!D||!l?{positions:new Map}:_0t(v,D,t,e),[v,D,t,e,l]),W=x.useMemo(()=>new Map(v.map(le=>[le.id,le])),[v]),O=x.useMemo(()=>{const le=new Map,se=Se=>{if(!Se)return 0;const De=le.get(Se);if(De!==void 0)return De;const Be=W.get(Se);if(!Be||Be.tag.toLowerCase()==="body")return le.set(Se,0),0;const ze=1+se(Be.parent_id);return le.set(Se,ze),ze};return v.forEach(Se=>{le.set(Se.id,se(Se.id))}),le},[v,W]),G=x.useMemo(()=>v.filter(le=>le.page_id===D&&le.tag!=="Body"),[v,D]),q=x.useCallback((le,se)=>JAt(G.map(Se=>{const De=H.positions.get(Se.id);return De?{id:Se.id,props:{style:{left:De.x,top:De.y,width:De.width,height:De.height}}}:{id:Se.id,props:{style:Se.props?.style}}}),le,se),[G,H]),J=x.useCallback(le=>({x:(le.x-k.x)/P,y:(le.y-k.y)/P}),[k.x,k.y,P]),te=x.useCallback(le=>{if(le.tag.toLowerCase()==="body")return{x:0,y:0,width:t,height:e};const se=H.positions.get(le.id);if(se)return{x:se.x,y:se.y,width:se.width,height:se.height};const Se=le.props?.style,De=Number(Se?.width),Be=Number(Se?.height);return!Number.isFinite(De)||!Number.isFinite(Be)?null:{x:Number(Se?.left)||0,y:Number(Se?.top)||0,width:De,height:Be}},[H.positions,t,e]),Y=x.useCallback(le=>{const se=Pe.getState().childrenMap,Se=new Set,De=[le];for(;De.length>0;){const Be=De.pop();if(!Be)continue;const ze=se.get(Be)??[];for(const kt of ze)Se.has(kt.id)||(Se.add(kt.id),De.push(kt.id))}return Se},[]),Z=x.useCallback((le,se)=>{const Se=W.get(se);if(!Se)return null;const De=Y(se);De.add(se);const Be=[];for(const Pt of v){if(Pt.deleted||Pt.page_id!==Se.page_id||Pt.layout_id!==Se.layout_id||De.has(Pt.id))continue;const wt=te(Pt);!wt||!(le.x>=wt.x&&le.x<=wt.x+wt.width&&le.y>=wt.y&&le.y<=wt.y+wt.height)||Be.push({element:Pt,bounds:wt,depth:O.get(Pt.id)??0})}if(Be.length===0)return null;Be.sort((Pt,wt)=>Pt.depth!==wt.depth?wt.depth-Pt.depth:(wt.element.order_num||0)-(Pt.element.order_num||0));const ze=Be[0],zt=(ze.element.parent_id!=null?W.get(ze.element.parent_id):null)?.props?.style?.flexDirection,Mt=zt==="row"||zt==="row-reverse";let at="on";const At=Mt?ze.bounds.width:ze.bounds.height;if(At>0&&ze.element.parent_id){const wt=(Mt?le.x-ze.bounds.x:le.y-ze.bounds.y)/At;wt<=.25?at="before":wt>=.75&&(at="after")}return ze.element.tag.toLowerCase()==="body"&&(at="on"),{targetId:ze.element.id,dropPosition:at}},[v,W,O,Y,te]),ee=x.useCallback((le,se,Se)=>{const De=W.get(le),Be=W.get(se);if(!De||!Be)return[];if(De.page_id!==Be.page_id||De.layout_id!==Be.layout_id)return[];const ze=De.parent_id??null,kt=Se==="on"?Be.id:Be.parent_id??null;if(ze===null&&kt===null&&Se!=="on")return[];const Et=(wt,Lt=!1)=>v.filter(un=>!(un.deleted||un.page_id!==De.page_id||un.layout_id!==De.layout_id||(un.parent_id??null)!==wt||!Lt&&un.id===le)).sort((un,Oe)=>(un.order_num||0)-(Oe.order_num||0)),Mt=Et(kt).map(wt=>wt.id);let at=Mt.length;if(Se!=="on"){const wt=Mt.indexOf(Be.id);wt>=0&&(at=Se==="before"?wt:wt+1)}const At=Mt.slice();if(At.splice(at,0,le),ze===kt){const wt=Et(ze,!0).map(Lt=>Lt.id);if(wt.length===At.length&&wt.every((un,Oe)=>un===At[Oe]))return[]}const Pt=At.map((wt,Lt)=>({elementId:wt,updates:{order_num:Lt,...wt===le&&{parent_id:kt}}}));return ze!==kt&&Et(ze).forEach((Lt,un)=>{Pt.push({elementId:Lt.id,updates:{order_num:un}})}),Pt},[v,W]),ie=x.useCallback(()=>{f(!0)},[]),ue=x.useCallback(()=>{f(!1)},[]),{dragState:ae,startMove:de,startResize:ge,startLasso:_e,updateDrag:we,endDrag:ke}=eyt({onDragStart:ie,onMoveEnd:x.useCallback((le,se)=>{ue();const Se=W.get(le);if(!Se)return;if(Math.hypot(se.x,se.y)<wyt){i.current?.resetPosition(),s.current=null;return}if(Se.tag.toLowerCase()==="body"){i.current?.resetPosition(),s.current=null;return}const Be=Se.props?.style,ze=Be?.position;if(ze!=="absolute"&&ze!=="fixed"&&s.current){const Mt=Z(s.current,le);if(Mt){const at=ee(le,Mt.targetId,Mt.dropPosition);at.length>0&&I(at)}i.current?.resetPosition(),s.current=null;return}const Et=Number(Be?.left)||0,zt=Number(Be?.top)||0;E(le,{style:{...Be,left:Et+se.x,top:zt+se.y}}),s.current=null},[I,ee,W,Z,ue,E]),onResizeEnd:x.useCallback((le,se,Se)=>{ue();const De=v.find(ze=>ze.id===le);if(!De)return;const Be=De.props?.style;E(le,{style:{...Be,left:Se.x,top:Se.y,width:Se.width,height:Se.height}}),s.current=null},[v,E,ue]),onLassoEnd:x.useCallback(le=>{ue(),le.length>0&&A(le)},[A,ue]),findElementsInLasso:q,onDragUpdate:x.useCallback((le,se)=>{if(i.current)switch(le){case"move":se.delta&&i.current.updatePosition(se.delta);break;case"resize":se.newBounds&&i.current.updateBounds(se.newBounds);break}},[])}),Fe=x.useCallback((le,se,Se,De)=>{const Be=J(De);s.current=Be,ge(le,se,Se,Be)},[J,ge]),Ee=x.useCallback((le,se,Se)=>{const De=J(Se);s.current=De,de(le,se,De)},[J,de]);x.useEffect(()=>{if(!o)return;const le=Se=>{if(!ae.isDragging||ae.operation==="lasso")return;const De=o.getBoundingClientRect(),Be={x:Se.clientX-De.left,y:Se.clientY-De.top},ze=J(Be);s.current=ze,we(ze)},se=()=>{!ae.isDragging||ae.operation==="lasso"||ke()};return window.addEventListener("pointermove",le),window.addEventListener("pointerup",se),()=>{window.removeEventListener("pointermove",le),window.removeEventListener("pointerup",se)}},[o,ae.isDragging,ae.operation,ke,J,we]);const Me=x.useCallback(le=>{r.current&&(r.current.style.cursor=le)},[]),{editState:Ue,startEdit:Ge,updateText:ut,completeEdit:ve,cancelEdit:$e,isEditing:gt}=myt(),it=x.useCallback((le,se)=>uX.measure("interaction.select:webgl-pointerdown",()=>{if(gt)return;const Se=se?.metaKey||se?.ctrlKey;x.startTransition(()=>{if(Se){const De=Pe.getState().selectedElementIds,Be=new Set(De);Be.has(le)?(Be.delete(le),Be.size>0?A(Array.from(Be)):C()):(Be.add(le),A(Array.from(Be)))}else y(le)})}),[y,A,C,gt]),ot=x.useCallback(le=>{const se=H.positions.get(le);Ge(le,se)},[Ge,H.positions]);return x.useEffect(()=>{const le=r.current?.querySelector("canvas");if(!le)return;const se=De=>{De.preventDefault(),$(!0)},Se=()=>{$(!1)};return le.addEventListener("webglcontextlost",se),le.addEventListener("webglcontextrestored",Se),()=>{le.removeEventListener("webglcontextlost",se),le.removeEventListener("webglcontextrestored",Se)}},[$]),x.useEffect(()=>{z(j)},[j,z]),x.useEffect(()=>(L(!0),()=>L(!1)),[L]),h.jsxs("div",{ref:m,className:"canvas-container",children:[o&&l&&h.jsxs(Fut,{resizeTo:o,background:n,antialias:!c,resolution:p,autoDensity:!0,roundPixels:!0,powerPreference:"high-performance",children:[h.jsx(_yt,{}),h.jsx(lyt,{containerEl:o,cameraLabel:"Camera",minZoom:.1,maxZoom:5,onInteractionStart:ie,onInteractionEnd:ue}),h.jsx(Byt,{onClick:C,onLassoStart:_e,onLassoDrag:we,onLassoEnd:ke,zoom:P,panOffset:k}),T&&h.jsx(syt,{zoom:P,showGrid:T,gridSize:M}),h.jsxs("pixiContainer",{label:"Camera",eventMode:"static",interactiveChildren:!0,children:[h.jsx(uyt,{pageWidth:t,pageHeight:e,onClick:it}),h.jsx(Iyt,{width:t,height:e,zoom:P}),h.jsx(Dyt,{layoutResult:H,zoom:P,panOffset:k,onClick:it,onDoubleClick:ot}),h.jsx(XAt,{dragState:ae,pageWidth:t,pageHeight:e,layoutResult:H,zoom:P,onResizeStart:Fe,onMoveStart:Ee,onCursorChange:Me,selectionBoxRef:i})]})]}),Ue&&Ue.elementId&&h.jsx(cyt,{elementId:Ue.elementId,initialValue:Ue.value,position:Ue.position,size:Ue.size,zoom:P,panOffset:k,style:Ue.style,onChange:ut,onComplete:ve,onCancel:$e})]})}function Tyt({breakpoint:t,breakpoints:e,fallbackCanvas:n}){const r=x.useRef(null),i=x.useRef({width:0,height:0}),[s,o]=x.useState({width:0,height:0}),a=x.useRef(!1),l=xd(),u=fh(),c=x.useMemo(()=>{if(!t||!e||e.length===0)return null;const T=Array.from(t)[0];return e.find(M=>M.id===T)??null},[t,e]),d=x.useMemo(()=>{if(!c)return!1;const T=String(c.max_width),M=String(c.max_height);return T.includes("%")||M.includes("%")},[c]);x.useEffect(()=>{a.current=d},[d]);const f=x.useMemo(()=>{if(!c)return{width:1920,height:1080};const T=(k,L)=>{if(typeof k=="number")return k;const $=String(k);if($.includes("%")){const j=parseFloat($)/100;return L>0?Math.floor(L*j):1920}const z=parseInt($,10);return isNaN(z)?1920:z},M=d?s:{width:0,height:0};return{width:T(c.max_width,M.width),height:T(c.max_height,M.height)}},[c,d,s]);x.useEffect(()=>{ns.getState().setCanvasSize(f)},[f]);const p=ns(T=>T.setZoom),m=ns(T=>T.setPanOffset),v=ns(T=>T.isCanvasReady),y=ns(T=>T.isContextLost),A=x.useRef(null),C=x.useRef(()=>!1),E=x.useRef(!0),I=x.useRef(!1),D=x.useCallback(()=>{const T=i.current;if(T.width<=0||T.height<=0)return!1;const M=T.width/f.width,P=T.height/f.height,k=Math.min(M,P)*.9;return p(k),m({x:(T.width-f.width*k)/2,y:(T.height-f.height*k)/2}),!0},[f.width,f.height,p,m]);return x.useEffect(()=>{C.current=D},[D]),x.useEffect(()=>{let T=Pe.getState().panelLayout.showLeft,M=Pe.getState().panelLayout.showRight;return Pe.subscribe(k=>{const{showLeft:L,showRight:$}=k.panelLayout;(L!==T||$!==M)&&(T=L,M=$,I.current=!0,setTimeout(()=>{I.current=!1},300))})},[]),x.useEffect(()=>{const T=c?`${c.id}:${c.max_width}x${c.max_height}`:null;A.current!==T&&D()&&(A.current=T)},[c,f.width,f.height,D]),x.useEffect(()=>{const T=r.current;if(!T)return;let M=null;const P=new ResizeObserver($=>{const z=$[0];if(!z)return;const{width:j,height:H}=z.contentRect;if(j<=0||H<=0)return;const W=i.current;W.width===j&&W.height===H||M===null&&(M=requestAnimationFrame(()=>{M=null;const O=i.current.width===0;i.current={width:j,height:H},!I.current&&(ns.getState().setContainerSize({width:j,height:H}),a.current&&o({width:j,height:H}),(O||E.current)&&C.current())}))});P.observe(T);const k=T.clientWidth,L=T.clientHeight;return k>0&&L>0&&(i.current={width:k,height:L},ns.getState().setContainerSize({width:k,height:L}),a.current&&o({width:k,height:L}),C.current()),()=>{M!==null&&cancelAnimationFrame(M),P.disconnect()}},[]),u&&n?h.jsxs("div",{ref:r,className:"workspace workspace--compare-mode",children:[h.jsxs("div",{className:"workspace-compare-panel workspace-compare-panel--left",children:[h.jsx("div",{className:"workspace-compare-label",children:"iframe Preview"}),h.jsx("div",{className:"workspace-compare-content",children:n})]}),h.jsxs("div",{className:"workspace-compare-panel workspace-compare-panel--right",children:[h.jsx("div",{className:"workspace-compare-label",children:"PixiJS Canvas"}),h.jsx("div",{className:"workspace-compare-content",children:h.jsx(DY,{pageWidth:f.width,pageHeight:f.height})})]}),(y||!v)&&h.jsx("div",{className:"workspace-status-indicator",children:y?" GPU   ...":"   ..."})]}):!l&&n?h.jsx("main",{ref:r,className:"workspace",children:n}):h.jsxs("main",{ref:r,className:"workspace",children:[h.jsx(DY,{pageWidth:f.width,pageHeight:f.height}),h.jsx("div",{className:"workspace-overlay"}),(y||!v)&&h.jsx("div",{className:"workspace-status-indicator",children:y?" GPU   ...":"   ..."})]})}function TY(t,e){if(!e)return t;if(!(typeof t!="object"||t===null))return e.split(".").reduce((n,r)=>{if(n&&typeof n=="object")return n[r]},t)}function Myt(t,e,n){const r=[...t],i=Array.isArray(e)?e:[e];for(const s of i){if(typeof s!="object"||s===null)continue;const o=s,a=o[n];if(a===void 0){r.push(o);continue}const l=r.findIndex(u=>u[n]===a);l>=0?r[l]={...r[l],...o}:r.push(o)}return r}function wge(t,e){if(typeof e!="object"||e===null)return t;const n={...t},r=e;for(const i of Object.keys(r)){const s=n[i],o=r[i];typeof s=="object"&&s!==null&&typeof o=="object"&&o!==null&&!Array.isArray(s)&&!Array.isArray(o)?n[i]=wge(s,o):n[i]=o}return n}function MY(t,e){const r=(Array.isArray(e)?e:[e]).filter(i=>typeof i=="object"&&i!==null);return[...t,...r]}function kyt(t,e){try{return JSON.parse(t)}catch{return e}}const Pyt=()=>{const{projectId:t}=nC(),[e,n]=x.useState(null),r=xd(),i=Pe(Ee=>Ee.currentPageId),s=Pe(Ee=>Ee.setSelectedElement),o=Pe(Ee=>Ee.historyInfo),a=t_(Ee=>Ee.themeMode),l=Pe(Ee=>Ee.setHistoryInfo),u=Pe(Ee=>Ee.viewMode),c=Pe(Ee=>Ee.toggleViewMode);x.useEffect(()=>{const Ee=()=>{const Ue=ys.getCurrentPageHistory();l(Ue)};return Ee(),ys.subscribe(Ee)},[l]),x.useEffect(()=>{const Ee=Me=>{document.documentElement.setAttribute("data-builder-theme",Me)};if(a==="auto"){const Me=window.matchMedia("(prefers-color-scheme: dark)"),Ue=Ge=>{Ee(Ge.matches?"dark":"light")};return Ue(Me),Me.addEventListener("change",Ue),()=>{Me.removeEventListener("change",Ue)}}else Ee(a)},[a]);const d=o.canUndo,f=o.canRedo,p=x.useCallback(async()=>{const{undo:Ee}=Pe.getState();await Ee()},[]),m=x.useCallback(async()=>{const{redo:Ee}=Pe.getState();await Ee()},[]),{error:v,isLoading:y,setError:A,setIsLoading:C,handleError:E,clearError:I}=Rue(),{handleIframeLoad:D,handleMessage:T,sendElementsToIframe:M,iframeReadyState:P,requestAutoSelectAfterUpdate:k}=HT(),{pages:L,fetchElements:$,initializeProject:z}=q$({requestAutoSelectAfterUpdate:k}),{applyThemeTokens:j,loadProjectTheme:H}=sQe(),{validateOrderNumbers:W}=uQe(),{sendThemeTokens:O}=bce(),{isLoading:G}=g$e();m$e();const{toasts:q,showToast:J,dismissToast:te}=xce();z$e(),aQe({onRecovery:x.useCallback(Ee=>{J("info",`   : ${Ee}`,8e3)},[J]),onWarning:x.useCallback(Ee=>{J("warning",` : Health ${Ee.healthScore}%`,5e3)},[J])});const[Y,Z]=x.useState(()=>{const Ee=localStorage.getItem("builder-breakpoint");if(Ee)try{return new Set([Ee])}catch(Me){return console.warn("Failed to parse saved breakpoint:",Me),new Set(["screen"])}return new Set(["screen"])}),[ee]=x.useState([{id:"screen",label:"Screen",max_width:"100%",max_height:"100%"},{id:"desktop",label:"Desktop",max_width:1280,max_height:1080},{id:"tablet",label:"Tablet",max_width:1024,max_height:800},{id:"mobile",label:"Mobile",max_width:390,max_height:844}]),ie=x.useCallback(Ee=>{Z(new Set([Ee])),localStorage.setItem("builder-breakpoint",String(Ee))},[]);x.useEffect(()=>{(async()=>{if(t)try{const Ue=await(await vn()).projects.getById(t);Ue?n(Ue):console.warn("[BuilderCore]    :",t)}catch(Me){console.error("[BuilderCore]    :",Me)}})()},[t]);const ue=x.useRef(!1),ae=x.useRef(null);x.useEffect(()=>((async()=>{if(!t||ue.current||ae.current===t)return;ue.current=!0,C(!0);const Me=await z(t);if(!Me.success){A(Me.error?.message||"  "),ue.current=!1;return}const Ue=rh.getState().mode,Ge=Fu.getState().currentLayoutId;if(Ue==="layout"&&Ge)try{const ve=await(await vn()).elements.getByLayout(Ge),{elements:$e,setElements:gt}=Pe.getState(),ot=[...$e.filter(se=>se.layout_id!==Ge),...ve];gt(ot);const{fetchLayouts:le}=Fu.getState();await le(t),await Oi.getState().initializeForProject(t)}catch(ut){console.error("[BuilderCore] Layout   :",ut)}C(!1),H(t),ae.current=t,ue.current=!1})(),()=>{Ta.clearIframeCache()}),[t,z,C,A,H]),x.useEffect(()=>{j()},[j]);const de=xe.useRef(O);xe.useEffect(()=>{de.current=O},[O]),x.useEffect(()=>{if(P!=="ready")return;const{tokens:Ee}=Ds.getState();Ee.length>0&&de.current(Ee);let Me=Ee.length;const Ue=Ds.subscribe(Ge=>{const ut=Ge.tokens.length;ut>0&&Me!==ut&&(de.current(Ge.tokens),Me=ut)});return()=>{Ue()}},[P]),x.useEffect(()=>{if(!i)return;const Ee=Pe.getState().elements;Ee.length>0&&W(Ee)},[i,W]);const ge=x.useRef([]),_e=x.useRef("page");x.useEffect(()=>{if(P!=="ready")return;const Ee=Pe.subscribe((Me,Ue)=>{if(Me.elements===Ue.elements)return;const Ge=rh.getState().mode,ut=Fu.getState().currentLayoutId;let ve=Me.elements;Ge==="layout"&&ut&&(ve=Me.elements.filter(it=>it.layout_id===ut));const $e=_e.current!==Ge,gt=ge.current!==ve;!$e&&!gt||(ge.current=ve,_e.current=Ge,M(ve))});return()=>{Ee()}},[P,M]),x.useEffect(()=>{const Ee=async Me=>{if(Me.data?.type!=="NAVIGATE_TO_PAGE")return;const{path:Ue}=Me.data.payload,Ge=Ue.startsWith("/")?Ue:`/${Ue}`,ut=L.find(ve=>{const $e=ve.slug||"/";return($e.startsWith("/")?$e:`/${$e}`)===Ge});if(ut){const ve=await $(ut.id);ve.success||E(ve.error||new Error("  ")," ")}else console.warn(`[BuilderCore] Page not found for path: ${Ue}`),E(new Error(`   : ${Ue}`)," ")};return window.addEventListener("message",Ee),()=>{window.removeEventListener("message",Ee)}},[L,$,E]),x.useEffect(()=>{const Ee=async ut=>{const{type:ve,payload:$e}=ut.data||{};switch(ve){case"LOAD_DATA_TABLE":await Me($e);break;case"SYNC_COMPONENT":await Ue($e);break;case"SAVE_TO_DATA_TABLE":await Ge($e);break}};async function Me(ut){const{dataTableName:ve,forceRefresh:$e}=ut,{dataTables:gt,loadDataTable:it,refreshDataTable:ot}=Mp.getState();let le=null;if(gt.forEach((se,Se)=>{se.name===ve&&(le=Se)}),!le){console.warn(`[BuilderCore] DataTable '${ve}' not found`);return}$e?await ot(le):await it(le)}async function Ue(ut){const{sourceId:ve,targetId:$e,syncMode:gt,dataPath:it}=ut,{elements:ot,updateElementProps:le}=Pe.getState(),se=ot.find(zt=>zt.customId===ve||zt.id===ve);if(!se){console.warn(`[BuilderCore] Source element '${ve}' not found`);return}const Se=ot.find(zt=>zt.customId===$e||zt.id===$e);if(!Se){console.warn(`[BuilderCore] Target element '${$e}' not found`);return}const De=se.props;let Be=De.selectedKeys||De.value||De.items;it&&Be&&(Be=TY(Be,it));const ze=Se.props,kt=ze.value||ze.items||[];let Et;switch(gt){case"replace":Et=Be;break;case"merge":typeof kt=="object"&&!Array.isArray(kt)?Et=wge(kt,Be):Et=Be;break;case"append":Array.isArray(kt)?Et=MY(kt,Be):Et=Be;break;default:Et=Be}await le(Se.id,{value:Et})}async function Ge(ut){const{dataTableName:ve,source:$e,sourcePath:gt,saveMode:it,keyField:ot,transform:le}=ut,{dataTables:se,dataTableStates:Se}=Mp.getState();let De=null,Be=null;if(se.forEach((Mt,at)=>{Mt.name===ve&&(De=at,Be=Mt)}),!De||!Be){console.warn(`[BuilderCore] DataTable '${ve}' not found`);return}let ze;switch($e){case"response":ze=void 0;break;case"variable":gt&&(ze=TY(Pe.getState(),gt));break;case"static":ze=kyt(gt||"[]",[]);break}if(le)try{ze=new Function("data",`return ${le}`)(ze)}catch(Mt){console.warn("[BuilderCore] Transform failed:",Mt)}const Et=Se.get(De)?.data||[];let zt;switch(it){case"replace":zt=Array.isArray(ze)?ze:[ze];break;case"merge":zt=Et.map((Mt,at)=>({...Mt,...Array.isArray(ze)?ze[at]:ze}));break;case"append":zt=MY(Et,ze);break;case"upsert":zt=Myt(Et,ze,ot||"id");break;default:zt=Et}Mp.setState(Mt=>{const at=new Map(Mt.dataTableStates),At=at.get(De);return At&&at.set(De,{...At,data:zt,lastLoadedAt:Date.now()}),{dataTableStates:at}})}return window.addEventListener("message",Ee),()=>{window.removeEventListener("message",Ee)}},[]);const we=x.useCallback(()=>{},[]),ke=x.useCallback(()=>{},[]),Fe=x.useCallback(()=>{},[]);return x.useEffect(()=>{const Ee=Me=>{const Ue=Me.target;if(Ue.closest(".selection-overlay")||Ue.closest(".sidebar")||Ue.closest(".inspector")||Ue.closest(".header")||Ue.closest(".footer")||Ue.closest("#previewFrame"))return;(Ue.classList.contains("workspace")||Ue.classList.contains("bg"))&&(s(null),xd()&&!fh()||Ta.clearOverlay())};return document.addEventListener("mousedown",Ee),()=>{document.removeEventListener("mousedown",Ee)}},[s]),h.jsxs(nrt,{children:[v&&h.jsxs("div",{className:"error-banner",children:[h.jsxs("span",{children:[" ",v]}),h.jsx("button",{onClick:I,children:""})]}),(y||G)&&h.jsx("div",{className:"loading-overlay",children:h.jsx("div",{className:"loading-spinner",children:y?"Initializing...":"Loading page..."})}),h.jsx(VWe,{projectId:t,projectName:e?.name,breakpoint:Y,breakpoints:ee,onBreakpointChange:ie,historyInfo:{current:o.currentIndex+1,total:o.totalEntries},canUndo:d,canRedo:f,onUndo:p,onRedo:m,onPreview:we,onPlay:ke,onPublish:Fe,viewMode:u,onViewModeToggle:c}),u==="canvas"?r?h.jsx(Tyt,{breakpoint:Y,breakpoints:ee,fallbackCanvas:h.jsx(eH,{projectId:t,breakpoint:new Set(Array.from(Y).map(String)),breakpoints:ee,onIframeLoad:D,onMessage:T,children:h.jsx(tG,{})})}):h.jsx(eH,{projectId:t,breakpoint:new Set(Array.from(Y).map(String)),breakpoints:ee,onIframeLoad:D,onMessage:T,children:h.jsx(tG,{})}):h.jsx(trt,{}),h.jsx("aside",{className:"sidebar",children:h.jsx(JU,{side:"left"})}),h.jsx("aside",{className:"inspector",children:h.jsx(JU,{side:"right"})}),h.jsx(UWe,{}),h.jsx(Tue,{toasts:q,onDismiss:te}),h.jsx(mQe,{})]})};function Ryt(){return h.jsx(Pyt,{})}const Nyt=()=>{const t=N3(),[e,n]=x.useState(!1),[r,i]=x.useState(""),[s,o]=x.useState(""),a=hf(async({email:m,password:v})=>{const{error:y}=await bi.auth.signUp({email:m,password:v});if(y)throw y;return" .  ."},{onSuccess:()=>{i(""),o("")}}),l=hf(async({email:m,password:v})=>{const{error:y}=await bi.auth.signInWithPassword({email:m,password:v});if(y)throw y},{onSuccess:()=>{t("/dashboard")}}),u=a.isLoading||l.isLoading,c=a.error||l.error,d=a.data,f=async m=>{m.preventDefault();const v={email:r,password:s};try{e?await a.execute(v):await l.execute(v)}catch(y){console.error("[Signin] Auth failed:",y)}},p=()=>{n(!e),a.reset(),l.reset(),i(""),o("")};return h.jsx("main",{className:"auth-container",children:h.jsxs("div",{className:"auth-card",children:[h.jsxs("div",{className:"auth-header",children:[h.jsx("h1",{className:"auth-title",children:e?"Sign Up":"Sign In"}),h.jsx("p",{className:"auth-subtitle",children:e?"Create a new account":"Log in to your account"})]}),h.jsxs("form",{onSubmit:f,className:"auth-form",children:[h.jsxs(br,{className:"auth-form-field",value:r,onChange:i,isRequired:!0,isInvalid:!!c,validationBehavior:"aria",children:[h.jsx(xn,{children:"Email Address"}),h.jsx(Br,{type:"email"}),c&&h.jsx(fD,{children:c.message})]}),h.jsxs(br,{className:"auth-form-field",value:s,onChange:o,isRequired:!0,children:[h.jsx(xn,{children:"Password"}),h.jsx(Br,{type:"password"}),e&&h.jsx(kE,{slot:"description",children:"Enter a secure password with at least 8 characters."}),!e&&h.jsx(kE,{slot:"description",children:"Enter your account password."})]}),d&&h.jsx("div",{className:"success-message",children:h.jsx("p",{className:"success-text",children:d})}),h.jsx(Yt,{type:"submit",className:"react-aria-Button",isDisabled:u,children:u?e?"Signing Up...":"Signing In...":e?"Sign Up":"Sign In"}),h.jsxs("div",{className:"helper-text",children:[h.jsx(Yt,{className:"react-aria-Button",onPress:p,children:e?"Log In":"Sign Up"}),e?null:h.jsx(Yt,{className:"react-aria-Button",onPress:()=>t("/forgot-password"),children:"Forgot Password?"})]})]})]})})},Cy={container:"ai-generator-container",form:"ai-generator-form",formGroup:"form-group",progressBar:"progress-bar",results:"generation-results"},kY={analyzing:"  ",colors:"   ",typography:"  ",spacing:"   ",radius:"Border radius  ",shadows:"Shadow  ",semantic:"Semantic   ",finalizing:"  ",complete:""};function Lyt({projectId:t,onThemeGenerated:e}){const[n,r]=x.useState(null),[i,s]=x.useState(""),[o,a]=x.useState("#3b82f6"),[l,u]=x.useState("modern"),[c,d]=x.useState(""),f=hf(async v=>{const y=BUe();let A=null;for await(const C of y.generateTheme(v))r(C),C.stage==="complete"&&C.data&&(A=C.data);return A},{onSuccess:v=>{e&&v.themeId&&e(v.themeId)}}),p=async()=>{if(!i.trim()){alert("  ");return}r(null);const v={projectId:t,themeName:i,brandColor:o,style:l,description:c||void 0,includeSemanticTokens:!0};try{await f.execute(v)}catch(y){console.error("[AIThemeGenerator] Generation failed:",y)}},m=()=>{r(null),f.reset(),s(""),a("#3b82f6"),u("modern"),d("")};return h.jsxs("div",{className:Cy.container,children:[h.jsx("h2",{children:"AI  "}),h.jsx("p",{className:"subtitle",children:"        "}),!f.isLoading&&!f.data&&h.jsxs("form",{className:Cy.form,onSubmit:v=>{v.preventDefault(),p()},children:[h.jsxs("div",{className:Cy.formGroup,children:[h.jsxs("label",{htmlFor:"theme-name",children:["  ",h.jsx("span",{className:"required",children:"*"})]}),h.jsx("input",{id:"theme-name",type:"text",value:i,onChange:v=>s(v.target.value),placeholder:": Modern SaaS Theme",required:!0})]}),h.jsxs("div",{className:Cy.formGroup,children:[h.jsx("label",{htmlFor:"brand-color",children:" "}),h.jsxs("div",{className:"color-input-group",children:[h.jsx("input",{id:"brand-color",type:"color",value:o,onChange:v=>a(v.target.value)}),h.jsx("input",{type:"text",value:o,onChange:v=>a(v.target.value),placeholder:"#3b82f6"})]}),h.jsx("p",{className:"field-hint",children:"      "})]}),h.jsxs("div",{className:Cy.formGroup,children:[h.jsx("label",{htmlFor:"theme-style",children:" "}),h.jsxs("select",{id:"theme-style",value:l,onChange:v=>u(v.target.value),children:[h.jsx("option",{value:"modern",children:"Modern -  "}),h.jsx("option",{value:"classic",children:"Classic -  "}),h.jsx("option",{value:"playful",children:"Playful -  "}),h.jsx("option",{value:"professional",children:"Professional -   "}),h.jsx("option",{value:"minimal",children:"Minimal -  "})]})]}),h.jsxs("div",{className:Cy.formGroup,children:[h.jsx("label",{htmlFor:"description",children:" ()"}),h.jsx("textarea",{id:"description",value:c,onChange:v=>d(v.target.value),placeholder:":   SaaS  ",rows:3})]}),h.jsx("button",{type:"submit",className:"generate-btn",children:"  "})]}),f.isLoading&&n&&h.jsxs("div",{className:"progress-container",children:[h.jsxs("div",{className:"progress-header",children:[h.jsx("h3",{children:kY[n.stage]}),h.jsxs("span",{className:"progress-percentage",children:[n.progress,"%"]})]}),h.jsx("div",{className:Cy.progressBar,children:h.jsx("div",{className:"progress-fill",style:{width:`${n.progress}%`}})}),h.jsx("p",{className:"progress-message",children:n.message}),h.jsx("div",{className:"stage-indicators",children:["analyzing","colors","typography","spacing","semantic","finalizing"].map(v=>h.jsxs("div",{className:`stage-indicator ${n.stage===v?"active":""} ${["analyzing","colors","typography","spacing","semantic","finalizing"].indexOf(n.stage)>["analyzing","colors","typography","spacing","semantic","finalizing"].indexOf(v)?"completed":""}`,children:[h.jsx("div",{className:"stage-icon"}),h.jsx("span",{className:"stage-label",children:kY[v]})]},v))})]}),f.data&&h.jsxs("div",{className:Cy.results,children:[h.jsxs("div",{className:"result-header",children:[h.jsx("h3",{children:"   !"}),h.jsx("button",{onClick:m,className:"new-theme-btn",children:"+   "})]}),h.jsxs("div",{className:"result-stats",children:[h.jsxs("div",{className:"stat-item",children:[h.jsx("span",{className:"stat-label",children:" "}),h.jsx("span",{className:"stat-value",children:f.data.themeName})]}),h.jsxs("div",{className:"stat-item",children:[h.jsx("span",{className:"stat-label",children:" "}),h.jsxs("span",{className:"stat-value",children:[f.data.metadata.tokenCount,""]})]}),h.jsxs("div",{className:"stat-item",children:[h.jsx("span",{className:"stat-label",children:" "}),h.jsx("span",{className:"stat-value",children:new Date(f.data.metadata.generatedAt).toLocaleString("ko-KR")})]})]}),h.jsxs("div",{className:"palette-preview",children:[h.jsx("h4",{children:" "}),h.jsx("div",{className:"color-grid",children:Object.entries(f.data.colorPalette).map(([v,y])=>h.jsxs("div",{className:"color-palette-item",children:[h.jsx("span",{className:"palette-name",children:v}),h.jsx("div",{className:"shade-grid",children:Object.entries(y).map(([A,C])=>h.jsx("div",{className:"shade-box",style:{background:`hsl(${C.h}, ${C.s}%, ${C.l}%)`},title:`${v}.${A}`},A))})]},v))})]})]}),f.error&&h.jsxs("div",{className:"error-message",children:[h.jsx("h3",{children:"  "}),h.jsx("p",{children:f.error.message}),h.jsx("button",{onClick:m,children:" "})]})]})}const zg={container:"hct-generator-container",form:"hct-generator-form",formGroup:"form-group",preview:"hct-preview-section",results:"generation-results"},PY={analyzing:"Analyzing source color",palettes:"Generating tonal palettes",schemes:"Creating color schemes",tokens:"Converting to tokens",saving:"Saving theme",complete:"Complete"},CN={tonalSpot:{name:"Tonal Spot",description:"Default Material 3 scheme. Balanced and versatile."},vibrant:{name:"Vibrant",description:"High chroma colors for bold, energetic designs."},expressive:{name:"Expressive",description:"Playful colors with shifted tertiary for creative apps."},neutral:{name:"Neutral",description:"Subtle colors. Content-focused, minimal UI."},monochrome:{name:"Monochrome",description:"Grayscale scheme. Professional and elegant."},fidelity:{name:"Fidelity",description:"Maximum chroma. True to source color."},content:{name:"Content",description:"Uses source color directly. Best for image-derived colors."}};function Fyt({projectId:t,onThemeGenerated:e}){const[n,r]=x.useState(""),[i,s]=x.useState("#6750A4"),[o,a]=x.useState("tonalSpot"),[l,u]=x.useState(0),[c,d]=x.useState(!0),[f,p]=x.useState(""),[m,v]=x.useState("light"),[y,A]=x.useState(null),C=x.useMemo(()=>YUe(i,o,m==="dark",l),[i,o,m,l]),E=x.useMemo(()=>XUe(i,o),[i,o]),I=hf(async M=>{const P=new qUe;let k=null;for await(const L of P.generateTheme(M))A(L),L.stage==="complete"&&L.data&&(k=L.data);return k},{onSuccess:M=>{e&&M.themeId&&e(M.themeId)}}),D=x.useCallback(async()=>{if(!n.trim()){alert("Please enter a theme name");return}A(null);const M={projectId:t,themeName:n,sourceColor:i,variant:o,contrastLevel:l,includeDarkMode:c,description:f||void 0};try{await I.execute(M)}catch(P){console.error("[HctThemeGenerator] Generation failed:",P)}},[n,t,i,o,l,c,f,I]),T=x.useCallback(()=>{A(null),I.reset(),r(""),s("#6750A4"),a("tonalSpot"),u(0),d(!0),p("")},[I]);return h.jsxs("div",{className:zg.container,children:[h.jsxs("div",{className:"hct-header",children:[h.jsx("h2",{children:"HCT Theme Generator"}),h.jsx("p",{className:"subtitle",children:"Generate Material 3 compliant themes using Google's HCT (Hue, Chroma, Tone) algorithm"})]}),h.jsxs("div",{className:"hct-content",children:[h.jsxs("div",{className:"hct-form-section",children:[!I.isLoading&&!I.data&&h.jsxs("form",{className:zg.form,onSubmit:M=>{M.preventDefault(),D()},children:[h.jsxs("div",{className:zg.formGroup,children:[h.jsxs("label",{htmlFor:"hct-theme-name",children:["Theme Name ",h.jsx("span",{className:"required",children:"*"})]}),h.jsx("input",{id:"hct-theme-name",type:"text",value:n,onChange:M=>r(M.target.value),placeholder:"e.g., Ocean Blue Theme",required:!0})]}),h.jsxs("div",{className:zg.formGroup,children:[h.jsx("label",{htmlFor:"hct-source-color",children:"Source Color"}),h.jsxs("div",{className:"color-input-group",children:[h.jsx("input",{id:"hct-source-color",type:"color",value:i,onChange:M=>s(M.target.value)}),h.jsx("input",{type:"text",value:i,onChange:M=>s(M.target.value),placeholder:"#6750A4",pattern:"^#[0-9A-Fa-f]{6}$"})]}),h.jsx("p",{className:"field-hint",children:"All colors will be derived from this source using HCT algorithm"})]}),h.jsxs("div",{className:zg.formGroup,children:[h.jsx("label",{htmlFor:"hct-variant",children:"Scheme Variant"}),h.jsx("select",{id:"hct-variant",value:o,onChange:M=>a(M.target.value),children:Object.entries(CN).map(([M,{name:P}])=>h.jsx("option",{value:M,children:P},M))}),h.jsx("p",{className:"field-hint variant-description",children:CN[o].description})]}),h.jsxs("div",{className:zg.formGroup,children:[h.jsxs("label",{htmlFor:"hct-contrast",children:["Contrast Level: ",l.toFixed(1)]}),h.jsx("input",{id:"hct-contrast",type:"range",min:"-1",max:"1",step:"0.1",value:l,onChange:M=>u(parseFloat(M.target.value))}),h.jsxs("div",{className:"contrast-labels",children:[h.jsx("span",{children:"Low"}),h.jsx("span",{children:"Normal"}),h.jsx("span",{children:"High"})]})]}),h.jsx("div",{className:zg.formGroup,children:h.jsxs("label",{className:"checkbox-label",children:[h.jsx("input",{type:"checkbox",checked:c,onChange:M=>d(M.target.checked)}),"Include Dark Mode Tokens"]})}),h.jsxs("div",{className:zg.formGroup,children:[h.jsx("label",{htmlFor:"hct-description",children:"Description (optional)"}),h.jsx("textarea",{id:"hct-description",value:f,onChange:M=>p(M.target.value),placeholder:"Describe your theme purpose...",rows:2})]}),h.jsx("button",{type:"submit",className:"generate-btn hct-generate-btn",children:"Generate Theme"})]}),I.isLoading&&y&&h.jsxs("div",{className:"progress-container",children:[h.jsxs("div",{className:"progress-header",children:[h.jsx("h3",{children:PY[y.stage]}),h.jsxs("span",{className:"progress-percentage",children:[y.progress,"%"]})]}),h.jsx("div",{className:"progress-bar",children:h.jsx("div",{className:"progress-fill",style:{width:`${y.progress}%`}})}),h.jsx("p",{className:"progress-message",children:y.message}),h.jsx("div",{className:"stage-indicators hct-stages",children:["analyzing","palettes","schemes","tokens","saving"].map(M=>{const P=["analyzing","palettes","schemes","tokens","saving"],k=P.indexOf(y.stage),L=P.indexOf(M);return h.jsxs("div",{className:`stage-indicator ${y.stage===M?"active":""} ${k>L?"completed":""}`,children:[h.jsx("div",{className:"stage-icon"}),h.jsx("span",{className:"stage-label",children:PY[M]})]},M)})})]}),I.data&&h.jsxs("div",{className:zg.results,children:[h.jsxs("div",{className:"result-header",children:[h.jsx("h3",{children:"Theme Generated!"}),h.jsx("button",{onClick:T,className:"new-theme-btn",children:"+ New Theme"})]}),h.jsxs("div",{className:"result-stats",children:[h.jsxs("div",{className:"stat-item",children:[h.jsx("span",{className:"stat-label",children:"Theme Name"}),h.jsx("span",{className:"stat-value",children:I.data.themeName})]}),h.jsxs("div",{className:"stat-item",children:[h.jsx("span",{className:"stat-label",children:"Algorithm"}),h.jsxs("span",{className:"stat-value",children:["HCT (",CN[I.data.variant].name,")"]})]}),h.jsxs("div",{className:"stat-item",children:[h.jsx("span",{className:"stat-label",children:"Tokens Generated"}),h.jsx("span",{className:"stat-value",children:I.data.metadata.tokenCount})]})]})]}),I.error&&h.jsxs("div",{className:"error-message",children:[h.jsx("h3",{children:"Error"}),h.jsx("p",{children:I.error.message}),h.jsx("button",{onClick:T,children:"Try Again"})]})]}),h.jsxs("div",{className:zg.preview,children:[h.jsxs("div",{className:"preview-header",children:[h.jsx("h3",{children:"Live Preview"}),h.jsxs("div",{className:"preview-mode-toggle",children:[h.jsx("button",{className:m==="light"?"active":"",onClick:()=>v("light"),children:"Light"}),h.jsx("button",{className:m==="dark"?"active":"",onClick:()=>v("dark"),children:"Dark"})]})]}),h.jsx("div",{className:"scheme-preview","data-mode":m,children:h.jsx($yt,{scheme:C})}),h.jsxs("div",{className:"palettes-preview",children:[h.jsx("h4",{children:"Tonal Palettes"}),h.jsx(zyt,{palettes:E})]})]})]})]})}function $yt({scheme:t}){const e=[{label:"Primary",colors:[{name:"Primary",value:t.primary,textColor:t.onPrimary},{name:"On Primary",value:t.onPrimary},{name:"Primary Container",value:t.primaryContainer,textColor:t.onPrimaryContainer},{name:"On Primary Container",value:t.onPrimaryContainer}]},{label:"Secondary",colors:[{name:"Secondary",value:t.secondary,textColor:t.onSecondary},{name:"On Secondary",value:t.onSecondary},{name:"Secondary Container",value:t.secondaryContainer,textColor:t.onSecondaryContainer},{name:"On Secondary Container",value:t.onSecondaryContainer}]},{label:"Tertiary",colors:[{name:"Tertiary",value:t.tertiary,textColor:t.onTertiary},{name:"On Tertiary",value:t.onTertiary},{name:"Tertiary Container",value:t.tertiaryContainer,textColor:t.onTertiaryContainer},{name:"On Tertiary Container",value:t.onTertiaryContainer}]},{label:"Error",colors:[{name:"Error",value:t.error,textColor:t.onError},{name:"On Error",value:t.onError},{name:"Error Container",value:t.errorContainer,textColor:t.onErrorContainer},{name:"On Error Container",value:t.onErrorContainer}]},{label:"Surface",colors:[{name:"Surface",value:t.surface,textColor:t.onSurface},{name:"On Surface",value:t.onSurface},{name:"Surface Variant",value:t.surfaceVariant,textColor:t.onSurfaceVariant},{name:"On Surface Variant",value:t.onSurfaceVariant}]},{label:"Container",colors:[{name:"Lowest",value:t.surfaceContainerLowest},{name:"Low",value:t.surfaceContainerLow},{name:"Default",value:t.surfaceContainer},{name:"High",value:t.surfaceContainerHigh},{name:"Highest",value:t.surfaceContainerHighest}]}];return h.jsx("div",{className:"scheme-color-grid",children:e.map(n=>h.jsxs("div",{className:"color-group",children:[h.jsx("span",{className:"group-label",children:n.label}),h.jsx("div",{className:"color-row",children:n.colors.map(r=>h.jsx("div",{className:"color-swatch",style:{backgroundColor:r.value,color:r.textColor||(Oyt(r.value)?"#000":"#fff")},title:`${r.name}
${r.value}`,children:h.jsx("span",{className:"swatch-name",children:r.name})},r.name))})]},n.label))})}function zyt({palettes:t}){const e=["primary","secondary","tertiary","neutral","neutralVariant","error"],n=[0,10,20,30,40,50,60,70,80,90,95,99,100];return h.jsx("div",{className:"tonal-palette-grid",children:e.map(r=>{const i=t[r];return h.jsxs("div",{className:"palette-row",children:[h.jsx("span",{className:"palette-name",children:jyt(r)}),h.jsx("div",{className:"tone-swatches",children:n.map(s=>{const o=i.tones[s];return o?h.jsx("div",{className:"tone-swatch",style:{backgroundColor:o},title:`Tone ${s}: ${o}`,children:h.jsx("span",{className:"tone-value",children:s})},s):null})})]},r)})})}function Oyt(t){const e=parseInt(t.slice(1,3),16),n=parseInt(t.slice(3,5),16),r=parseInt(t.slice(5,7),16);return(.299*e+.587*n+.114*r)/255>.5}function jyt(t){return t.replace(/([A-Z])/g," $1").replace(/^./,e=>e.toUpperCase()).trim()}const EN={container:"figma-importer-container",form:"figma-import-form",results:"import-results"};function Qyt({projectId:t,themeId:e,onImportComplete:n}){const[r,i]=x.useState(""),[s,o]=x.useState(""),[a,l]=x.useState(!0),[u,c]=x.useState(!0),[d,f]=x.useState(!0),[p,m]=x.useState(!0),[v,y]=x.useState("rename"),A=hf(async I=>await TUe(I.accessToken).importStyles(I),{onSuccess:I=>{n&&n(I)}}),C=async()=>{if(!r.trim()){alert("Figma   ");return}if(!s.trim()){alert("Figma Access Token ");return}const I={projectId:t,themeId:e,fileKey:r,accessToken:s,importColors:a,importTextStyles:u,importEffects:d,importVariables:p,conflictResolution:v};try{await A.execute(I)}catch(D){console.error("[FigmaImporter] Import failed:",D)}},E=()=>{A.reset(),i(""),o("")};return h.jsxs("div",{className:EN.container,children:[h.jsx("h2",{children:"Figma Import"}),h.jsx("p",{className:"subtitle",children:"Figma  , ,   "}),!A.isLoading&&!A.data&&h.jsxs("form",{className:EN.form,onSubmit:I=>{I.preventDefault(),C()},children:[h.jsxs("div",{className:"form-group",children:[h.jsxs("label",{htmlFor:"file-key",children:["Figma   ",h.jsx("span",{className:"required",children:"*"})]}),h.jsx("input",{id:"file-key",type:"text",value:r,onChange:I=>i(I.target.value),placeholder:": ABC123DEF456",required:!0}),h.jsxs("p",{className:"field-hint",children:["Figma URL : figma.com/file/",h.jsx("strong",{children:"FILE_KEY"}),"/..."]})]}),h.jsxs("div",{className:"form-group",children:[h.jsxs("label",{htmlFor:"access-token",children:["Figma Personal Access Token ",h.jsx("span",{className:"required",children:"*"})]}),h.jsx("input",{id:"access-token",type:"password",value:s,onChange:I=>o(I.target.value),placeholder:"figd_...",required:!0}),h.jsx("p",{className:"field-hint",children:"Figma Settings  Account  Personal Access Tokens "})]}),h.jsxs("div",{className:"form-group",children:[h.jsx("label",{children:"Import "}),h.jsxs("div",{className:"checkbox-group",children:[h.jsxs("label",{className:"checkbox-label",children:[h.jsx("input",{type:"checkbox",checked:a,onChange:I=>l(I.target.checked)})," "]}),h.jsxs("label",{className:"checkbox-label",children:[h.jsx("input",{type:"checkbox",checked:u,onChange:I=>c(I.target.checked)})," "]}),h.jsxs("label",{className:"checkbox-label",children:[h.jsx("input",{type:"checkbox",checked:d,onChange:I=>f(I.target.checked)}),"  (Shadow)"]}),h.jsxs("label",{className:"checkbox-label",children:[h.jsx("input",{type:"checkbox",checked:p,onChange:I=>m(I.target.checked)}),"Figma Variables ()"]})]})]}),h.jsxs("div",{className:"form-group",children:[h.jsx("label",{htmlFor:"conflict-resolution",children:"  "}),h.jsxs("select",{id:"conflict-resolution",value:v,onChange:I=>y(I.target.value),children:[h.jsx("option",{value:"skip",children:"Skip -   "}),h.jsx("option",{value:"overwrite",children:"Overwrite -   "}),h.jsx("option",{value:"rename",children:"Rename -    ()"})]}),h.jsx("p",{className:"field-hint",children:"      "})]}),h.jsx("button",{type:"submit",className:"import-btn",disabled:A.isLoading,children:A.isLoading?" Import ...":" Figma "})]}),A.isLoading&&h.jsxs("div",{className:"importing-state",children:[h.jsx("div",{className:"spinner"}),h.jsx("p",{children:"Figma   ..."})]}),A.data&&h.jsxs("div",{className:EN.results,children:[h.jsxs("div",{className:"result-header",children:[h.jsx("h3",{children:A.data.success?" Import !":" Import  ( )"}),h.jsx("button",{onClick:E,className:"reset-btn",children:" Import"})]}),h.jsxs("div",{className:"import-stats",children:[h.jsxs("div",{className:"stat-card",children:[h.jsx("span",{className:"stat-number",children:A.data.imported.colors}),h.jsx("span",{className:"stat-label",children:""})]}),h.jsxs("div",{className:"stat-card",children:[h.jsx("span",{className:"stat-number",children:A.data.imported.textStyles}),h.jsx("span",{className:"stat-label",children:""})]}),h.jsxs("div",{className:"stat-card",children:[h.jsx("span",{className:"stat-number",children:A.data.imported.effects}),h.jsx("span",{className:"stat-label",children:""})]}),h.jsxs("div",{className:"stat-card",children:[h.jsx("span",{className:"stat-number",children:A.data.imported.variables}),h.jsx("span",{className:"stat-label",children:""})]}),h.jsxs("div",{className:"stat-card total",children:[h.jsx("span",{className:"stat-number",children:A.data.imported.total}),h.jsx("span",{className:"stat-label",children:" "})]})]}),A.data.skipped>0&&h.jsx("div",{className:"skipped-notice",children:h.jsxs("span",{children:[" ",A.data.skipped,"   ()"]})}),A.data.errors.length>0&&h.jsxs("div",{className:"error-list",children:[h.jsxs("h4",{children:["  (",A.data.errors.length,")"]}),h.jsxs("ul",{children:[A.data.errors.slice(0,10).map((I,D)=>h.jsxs("li",{children:[h.jsx("strong",{children:I.styleName})," (",I.styleType,"): ",I.reason]},D)),A.data.errors.length>10&&h.jsxs("li",{children:["... ",A.data.errors.length-10,""]})]})]}),A.data.tokens.length>0&&h.jsxs("div",{className:"token-list-preview",children:[h.jsx("h4",{children:"   ( 10)"}),h.jsxs("ul",{children:[A.data.tokens.slice(0,10).map((I,D)=>h.jsxs("li",{children:[h.jsx("span",{className:"token-name",children:I.name}),h.jsx("span",{className:"token-type",children:I.type})]},D)),A.data.tokens.length>10&&h.jsxs("li",{className:"more",children:["... ",A.data.tokens.length-10,""]})]})]})]}),A.error&&h.jsxs("div",{className:"error-message",children:[h.jsx("h3",{children:"  "}),h.jsx("p",{children:A.error.message}),h.jsx("button",{onClick:E,children:" "})]})]})}const gB={container:"token-editor-container",sidebar:"token-editor-sidebar",main:"token-editor-main"};function Uyt({themeId:t,projectId:e}){const[n,r]=x.useState(null),[i,s]=x.useState("all"),[o,a]=x.useState("all"),[l,u]=x.useState(""),{tokens:c,loading:d,createToken:f,updateToken:p,deleteToken:m}=YT({themeId:t,filter:{category:i==="all"?void 0:i,scope:o==="all"?void 0:o,search:l||void 0},enableRealtime:!0}),{stats:v}=rHe({themeId:t}),y=x.useMemo(()=>{const M=new Set;return c.forEach(P=>{const k=qT(P.name);M.add(k.category)}),Array.from(M).sort()},[c]),A=x.useMemo(()=>c.find(M=>M.id===n)||null,[c,n]),C=async()=>{const M=prompt("  (: color.brand.primary):");if(!M)return;const k=prompt("  (color/typography/spacing/shadow):")||"color",L=prompt(" :");L&&await f({project_id:e,name:M,type:k,value:L,scope:"raw",css_variable:`--${M.replace(/\./g,"-")}`})},E=async M=>{n&&await p(n,M)},I=async()=>{n&&confirm(" ?")&&(await m(n),r(null))},D=async()=>{if(!A||A.type!=="color")return;if(!y0(A.value)){alert("HSL   .");return}if(A.name.endsWith(".dark")){alert("  .");return}const M=`${A.name}.dark`;if(c.find($=>$.name===M)){alert("   .");return}const k=A.value,L=Aze(k);await f({project_id:e,name:M,type:"color",value:L,scope:A.scope,css_variable:A.css_variable?`${A.css_variable.replace(/-dark$/,"")}`:`--${M.replace(/\./g,"-")}`}),console.log(`[TokenEditor] Generated dark variant: ${M}`)},T=x.useMemo(()=>{if(!A||A.type!=="color"||A.name.endsWith(".dark"))return!1;const M=`${A.name}.dark`;return!c.some(P=>P.name===M)},[A,c]);return d?h.jsx("div",{className:gB.container,children:h.jsxs("div",{className:"loading-state",children:[h.jsx("div",{className:"spinner"}),h.jsx("p",{children:"  ..."})]})}):h.jsxs("div",{className:gB.container,children:[h.jsxs("aside",{className:gB.sidebar,children:[h.jsxs("div",{className:"sidebar-header",children:[h.jsx("h3",{children:" "}),h.jsx("button",{className:"create-token-btn",onClick:C,children:"+  "})]}),h.jsx("div",{className:"search-box",children:h.jsx("input",{type:"text",placeholder:" ...",value:l,onChange:M=>u(M.target.value)})}),h.jsxs("div",{className:"filters",children:[h.jsxs("div",{className:"filter-group",children:[h.jsx("label",{children:""}),h.jsxs("select",{value:i,onChange:M=>s(M.target.value),children:[h.jsx("option",{value:"all",children:""}),y.map(M=>h.jsx("option",{value:M,children:M},M))]})]}),h.jsxs("div",{className:"filter-group",children:[h.jsx("label",{children:"Scope"}),h.jsxs("select",{value:o,onChange:M=>a(M.target.value),children:[h.jsx("option",{value:"all",children:""}),h.jsx("option",{value:"raw",children:"Raw"}),h.jsx("option",{value:"semantic",children:"Semantic"})]})]})]}),v&&h.jsxs("div",{className:"token-stats",children:[h.jsxs("div",{className:"stat-item",children:[h.jsx("span",{className:"stat-label",children:" "}),h.jsx("span",{className:"stat-value",children:v.total})]}),h.jsxs("div",{className:"stat-item",children:[h.jsx("span",{className:"stat-label",children:"Raw"}),h.jsx("span",{className:"stat-value",children:v.raw})]}),h.jsxs("div",{className:"stat-item",children:[h.jsx("span",{className:"stat-label",children:"Semantic"}),h.jsx("span",{className:"stat-value",children:v.semantic})]})]}),h.jsx("div",{className:"token-list",children:c.length===0?h.jsx("div",{className:"empty-state",children:h.jsx("p",{children:" "})}):c.map(M=>h.jsxs("div",{className:`token-item ${n===M.id?"active":""}`,onClick:()=>r(M.id),children:[h.jsxs("div",{className:"token-item-header",children:[h.jsx("span",{className:"token-name",children:M.name}),h.jsx("span",{className:`token-scope ${M.scope}`,children:M.scope})]}),h.jsxs("div",{className:"token-item-body",children:[h.jsx("span",{className:"token-type",children:M.type}),h.jsx("div",{className:"token-preview",children:M.type==="color"&&y0(M.value)&&h.jsx("div",{className:"color-preview-box",style:{background:`hsl(${M.value.h||0}, ${M.value.s||0}%, ${M.value.l||50}%)`}})})]})]},M.id))})]}),h.jsx("main",{className:gB.main,children:A?h.jsxs("div",{className:"token-detail",children:[h.jsxs("div",{className:"detail-header",children:[h.jsx("h2",{children:A.name}),h.jsxs("div",{className:"detail-header-actions",children:[T&&h.jsx("button",{className:"generate-dark-btn",onClick:D,title:"   ",children:"Generate Dark Variant"}),h.jsx("button",{className:"delete-btn",onClick:I,children:""})]})]}),h.jsxs("div",{className:"detail-body",children:[h.jsxs("div",{className:"form-group",children:[h.jsx("label",{children:" "}),h.jsx("input",{type:"text",value:A.name,onChange:M=>E({name:M.target.value})})]}),h.jsxs("div",{className:"form-group",children:[h.jsx("label",{children:""}),h.jsxs("select",{value:A.type,onChange:M=>E({type:M.target.value}),children:[h.jsx("option",{value:"color",children:"Color"}),h.jsx("option",{value:"typography",children:"Typography"}),h.jsx("option",{value:"spacing",children:"Spacing"}),h.jsx("option",{value:"shadow",children:"Shadow"}),h.jsx("option",{value:"border",children:"Border"}),h.jsx("option",{value:"radius",children:"Radius"})]})]}),h.jsxs("div",{className:"form-group",children:[h.jsx("label",{children:"Scope"}),h.jsxs("select",{value:A.scope,onChange:M=>E({scope:M.target.value}),children:[h.jsx("option",{value:"raw",children:"Raw"}),h.jsx("option",{value:"semantic",children:"Semantic"})]})]}),h.jsxs("div",{className:"form-group",children:[h.jsx("label",{children:""}),A.type==="color"&&y0(A.value)&&h.jsx("div",{className:"color-editor",children:h.jsxs("div",{className:"color-inputs",children:[h.jsx("input",{type:"number",placeholder:"H (0-360)",value:A.value.h||0,onChange:M=>E({value:Object.assign({},A.value,{h:parseInt(M.target.value)})})}),h.jsx("input",{type:"number",placeholder:"S (0-100)",value:A.value.s||0,onChange:M=>E({value:Object.assign({},A.value,{s:parseInt(M.target.value)})})}),h.jsx("input",{type:"number",placeholder:"L (0-100)",value:A.value.l||50,onChange:M=>E({value:Object.assign({},A.value,{l:parseInt(M.target.value)})})}),h.jsx("input",{type:"number",step:"0.1",placeholder:"A (0-1)",value:A.value.a||1,onChange:M=>E({value:Object.assign({},A.value,{a:parseFloat(M.target.value)})})})]})}),(A.type!=="color"||!y0(A.value))&&h.jsx("textarea",{value:JSON.stringify(A.value,null,2),onChange:M=>{try{const P=JSON.parse(M.target.value);E({value:P})}catch{}},rows:5})]}),h.jsxs("div",{className:"form-group",children:[h.jsx("label",{children:"CSS Variable"}),h.jsx("input",{type:"text",value:A.css_variable||"",onChange:M=>E({css_variable:M.target.value})})]})]}),h.jsxs("div",{className:"token-preview",children:[h.jsx("h3",{children:""}),A.type==="color"&&y0(A.value)&&h.jsxs("div",{className:"preview-content",children:[h.jsx("div",{className:"color-preview-large",style:{background:`hsl(${A.value.h||0}, ${A.value.s||0}%, ${A.value.l||50}%)`}}),h.jsxs("div",{className:"preview-info",children:[h.jsxs("p",{children:[h.jsx("strong",{children:"HSL:"})," hsl(",A.value.h||0,", ",A.value.s||0,"%,"," ",A.value.l||50,"%)"]}),h.jsxs("p",{children:[h.jsx("strong",{children:"CSS Variable:"})," ",A.css_variable||"N/A"]})]})]}),(A.type!=="color"||!y0(A.value))&&h.jsx("div",{className:"preview-content",children:h.jsx("pre",{children:JSON.stringify(A.value,null,2)})})]})]}):h.jsx("div",{className:"empty-selection",children:h.jsx("p",{children:" "})})})]})}const SN={container:"theme-exporter-container",form:"exporter-form",preview:"export-preview"};function Hyt({themeId:t}){const{tokens:e,loading:n}=YT({themeId:t,enableRealtime:!1}),[r,i]=x.useState("css"),[s,o]=x.useState(!0),[a,l]=x.useState(!0),[u,c]=x.useState(!1),d=hf(async v=>await IU.exportTokens(e,v)),f=async()=>{if(e.length===0){alert("Export  ");return}const v={format:r,includeComments:s,groupByCategory:a,minify:u};try{await d.execute(v)}catch(y){console.error("[ThemeExporter] Export failed:",y)}},p=()=>{d.data&&IU.downloadFile(d.data)},m=()=>{d.reset()};return h.jsxs("div",{className:SN.container,children:[h.jsx("h2",{children:"Export "}),h.jsx("p",{className:"subtitle",children:"  CSS, Tailwind, SCSS, JSON  "}),n&&h.jsxs("div",{className:"loading-state",children:[h.jsx("div",{className:"spinner"}),h.jsx("p",{children:"  ..."})]}),!n&&h.jsxs(h.Fragment,{children:[h.jsxs("form",{className:SN.form,onSubmit:v=>{v.preventDefault(),f()},children:[h.jsxs("div",{className:"form-group",children:[h.jsxs("label",{htmlFor:"export-format",children:["Export  ",h.jsx("span",{className:"required",children:"*"})]}),h.jsxs("select",{id:"export-format",value:r,onChange:v=>i(v.target.value),children:[h.jsx("option",{value:"css",children:"CSS Variables"}),h.jsx("option",{value:"tailwind",children:"Tailwind Config"}),h.jsx("option",{value:"scss",children:"SCSS Variables"}),h.jsx("option",{value:"json",children:"JSON"})]}),h.jsxs("p",{className:"field-hint",children:[r==="css"&&"CSS Custom Properties (:root)",r==="tailwind"&&"Tailwind Config (theme.extend)",r==="scss"&&"SCSS Variables ($variable)",r==="json"&&"JSON  (Design Token Format)"]})]}),h.jsxs("div",{className:"form-group",children:[h.jsx("label",{children:"Export "}),h.jsxs("div",{className:"checkbox-group",children:[h.jsxs("label",{className:"checkbox-label",children:[h.jsx("input",{type:"checkbox",checked:s,onChange:v=>o(v.target.checked)}),"  "]}),h.jsxs("label",{className:"checkbox-label",children:[h.jsx("input",{type:"checkbox",checked:a,onChange:v=>l(v.target.checked)})," "]}),h.jsxs("label",{className:"checkbox-label",children:[h.jsx("input",{type:"checkbox",checked:u,onChange:v=>c(v.target.checked)})," (Minify)"]})]})]}),h.jsxs("div",{className:"token-count-info",children:[h.jsx("span",{className:"info-label",children:"Export  "}),h.jsxs("span",{className:"info-value",children:[e.length,""]})]}),h.jsx("button",{type:"submit",className:"export-btn",children:" Export "})]}),d.data&&h.jsxs("div",{className:SN.preview,children:[h.jsxs("div",{className:"preview-header",children:[h.jsxs("div",{className:"preview-title",children:[h.jsx("h3",{children:"Export "}),h.jsx("span",{className:"file-name",children:d.data.filename})]}),h.jsxs("div",{className:"preview-actions",children:[h.jsx("button",{onClick:p,className:"download-btn",children:" "}),h.jsx("button",{onClick:m,className:"reset-btn",children:"  Export"})]})]}),h.jsxs("div",{className:"preview-stats",children:[h.jsxs("div",{className:"stat-item",children:[h.jsx("span",{className:"stat-label",children:""}),h.jsx("span",{className:"stat-value",children:d.data.format.toUpperCase()})]}),h.jsxs("div",{className:"stat-item",children:[h.jsx("span",{className:"stat-label",children:""}),h.jsx("span",{className:"stat-value",children:d.data.filename})]}),h.jsxs("div",{className:"stat-item",children:[h.jsx("span",{className:"stat-label",children:""}),h.jsxs("span",{className:"stat-value",children:[(d.data.content.length/1024).toFixed(2)," KB"]})]})]}),h.jsxs("div",{className:"preview-content",children:[h.jsxs("div",{className:"code-header",children:[h.jsx("span",{className:"code-label",children:""}),h.jsx("button",{onClick:()=>{navigator.clipboard.writeText(d.data.content),alert(" ")},className:"copy-btn",children:" "})]}),h.jsx("pre",{className:"code-block",children:h.jsx("code",{children:d.data.content})})]})]}),d.error&&h.jsxs("div",{className:"error-message",children:[h.jsx("h3",{children:"  "}),h.jsx("p",{children:d.error.message}),h.jsx("button",{onClick:m,children:" "})]})]})]})}const wN={container:"dark-mode-container",form:"dark-mode-form",preview:"dark-mode-preview"};function Vyt({themeId:t,projectId:e,onDarkThemeCreated:n}){const{tokens:r,loading:i}=YT({themeId:t,enableRealtime:!1}),{createTheme:s}=gz({projectId:e,enableRealtime:!1}),[o,a]=x.useState("default"),[l,u]=x.useState(II.PRESETS.default),[c,d]=x.useState(""),[f,p]=x.useState([]),[m,v]=x.useState(null),y=hf(async({themeName:P,options:k})=>(await II.generateDarkTheme(t,r,P,k),{themeId:(await s(P)).id}),{onSuccess:P=>{n&&n(P.themeId)}}),A=P=>{a(P),u(II.PRESETS[P])},C=(P,k)=>{u(L=>({...L,[P]:k}))},E=async()=>{v(null);try{const P=await II.convertToDarkMode(r,l);p(P)}catch(P){v(P instanceof Error?P.message:" "),console.error("[DarkModeGenerator] Preview failed:",P)}},I=async()=>{if(!c.trim()){alert("   ");return}try{await y.execute({themeName:c,options:l})}catch(P){console.error("[DarkModeGenerator] Generation failed:",P)}},D=()=>{p([]),y.reset(),d("")},T=r.filter(P=>P.type==="color"),M=f.filter(P=>P.type==="color");return h.jsxs("div",{className:wN.container,children:[h.jsx("h2",{children:"  "}),h.jsx("p",{className:"subtitle",children:"        "}),i&&h.jsxs("div",{className:"loading-state",children:[h.jsx("div",{className:"spinner"}),h.jsx("p",{children:"  ..."})]}),!i&&!y.isSuccess&&h.jsxs(h.Fragment,{children:[h.jsxs("form",{className:wN.form,onSubmit:P=>{P.preventDefault(),I()},children:[h.jsxs("div",{className:"form-group",children:[h.jsxs("label",{htmlFor:"dark-theme-name",children:["   ",h.jsx("span",{className:"required",children:"*"})]}),h.jsx("input",{id:"dark-theme-name",type:"text",value:c,onChange:P=>d(P.target.value),placeholder:": Dark Theme",required:!0})]}),h.jsxs("div",{className:"form-group",children:[h.jsx("label",{htmlFor:"preset",children:""}),h.jsxs("select",{id:"preset",value:o,onChange:P=>A(P.target.value),children:[h.jsx("option",{value:"default",children:" ( )"}),h.jsx("option",{value:"oled",children:"  (OLED )"}),h.jsx("option",{value:"soft",children:"  (  )"}),h.jsx("option",{value:"highContrast",children:" ( )"})]}),h.jsx("p",{className:"field-hint",children:"      "})]}),h.jsxs("div",{className:"options-panel",children:[h.jsx("h3",{children:" "}),h.jsxs("div",{className:"form-group",children:[h.jsxs("label",{htmlFor:"inversion-strength",children:[" : ",l.inversionStrength?.toFixed(1)]}),h.jsx("input",{id:"inversion-strength",type:"range",min:"0",max:"1",step:"0.1",value:l.inversionStrength||1,onChange:P=>C("inversionStrength",parseFloat(P.target.value))}),h.jsx("p",{className:"field-hint",children:"    (0 =  , 1 =  )"})]}),h.jsxs("div",{className:"form-group",children:[h.jsxs("label",{htmlFor:"saturation-adjustment",children:[" : ",l.saturationAdjustment,"%"]}),h.jsx("input",{id:"saturation-adjustment",type:"range",min:"-30",max:"30",step:"5",value:l.saturationAdjustment||0,onChange:P=>C("saturationAdjustment",parseInt(P.target.value))}),h.jsx("p",{className:"field-hint",children:"    "})]}),h.jsxs("div",{className:"form-group",children:[h.jsxs("label",{htmlFor:"lightness-offset",children:[" : ",l.lightnessOffset,"%"]}),h.jsx("input",{id:"lightness-offset",type:"range",min:"-20",max:"20",step:"5",value:l.lightnessOffset||0,onChange:P=>C("lightnessOffset",parseInt(P.target.value))}),h.jsx("p",{className:"field-hint",children:"  "})]}),h.jsxs("div",{className:"checkbox-group",children:[h.jsxs("label",{className:"checkbox-label",children:[h.jsx("input",{type:"checkbox",checked:l.adjustTextColors!==!1,onChange:P=>C("adjustTextColors",P.target.checked)}),"   "]}),h.jsxs("label",{className:"checkbox-label",children:[h.jsx("input",{type:"checkbox",checked:l.ensureContrast!==!1,onChange:P=>C("ensureContrast",P.target.checked)}),"   "]})]})]}),h.jsxs("div",{className:"token-count-info",children:[h.jsx("span",{className:"info-label",children:"   "}),h.jsxs("span",{className:"info-value",children:[T.length,""]})]}),h.jsxs("div",{className:"action-buttons",children:[h.jsx("button",{type:"button",onClick:E,className:"preview-btn",children:" "}),h.jsx("button",{type:"submit",className:"generate-btn",disabled:y.isLoading,children:y.isLoading?"  ...":"   "})]})]}),f.length>0&&h.jsxs("div",{className:wN.preview,children:[h.jsxs("div",{className:"preview-header",children:[h.jsx("h3",{children:" "}),h.jsxs("span",{className:"preview-count",children:[M.length," "]})]}),h.jsxs("div",{className:"comparison-grid",children:[h.jsxs("div",{className:"comparison-column",children:[h.jsx("h4",{children:" "}),h.jsx("div",{className:"color-list",children:T.slice(0,10).map(P=>{const k=P.value;return h.jsxs("div",{className:"color-item",children:[h.jsx("div",{className:"color-swatch",style:{background:`hsl(${k.h}, ${k.s}%, ${k.l}%)`}}),h.jsx("span",{className:"color-name",children:P.name}),h.jsxs("span",{className:"color-value",children:["HSL(",k.h,", ",k.s,"%, ",k.l,"%)"]})]},P.id)})})]}),h.jsxs("div",{className:"comparison-column dark-mode",children:[h.jsx("h4",{children:" "}),h.jsx("div",{className:"color-list",children:M.slice(0,10).map(P=>{const k=P.value;return h.jsxs("div",{className:"color-item",children:[h.jsx("div",{className:"color-swatch",style:{background:`hsl(${k.h}, ${k.s}%, ${k.l}%)`}}),h.jsx("span",{className:"color-name",children:P.name}),h.jsxs("span",{className:"color-value",children:["HSL(",k.h,", ",k.s,"%, ",k.l,"%)"]})]},P.id)})})]})]})]})]}),y.isSuccess&&h.jsxs("div",{className:"success-message",children:[h.jsx("h3",{children:"    !"}),h.jsxs("p",{children:['"',c,'"   .']}),h.jsx("button",{onClick:D,className:"reset-btn",children:"+   "})]}),y.error&&h.jsxs("div",{className:"error-message",children:[h.jsx("h3",{children:"  "}),h.jsx("p",{children:y.error.message}),h.jsx("button",{onClick:D,children:" "})]})]})}const _N={container:"figma-plugin-container",form:"figma-plugin-form",preview:"figma-plugin-preview"};function Gyt({themeId:t}){const{tokens:e,loading:n}=YT({themeId:t,enableRealtime:!1}),[r,i]=x.useState("XStudio Theme Import"),[s,o]=x.useState("Import design tokens from XStudio"),[a,l]=x.useState(!0),[u,c]=x.useState(!0),[d,f]=x.useState(!0),[p,m]=x.useState(!0),[v,y]=x.useState(!0),[A,C]=x.useState(!0),[E,I]=x.useState(null),D=hf(async L=>await BU.exportToFigmaPlugin(e,L),{onSuccess:L=>{const $=Object.keys(L.files)[0];$&&I($)}}),T=async()=>{if(!r.trim()){alert("Plugin  ");return}if(e.length===0){alert("Export  ");return}const L={pluginName:r,description:s||void 0,includeFiles:{manifest:a,code:u,ui:d},exportTargets:{colors:p,textStyles:v,effects:A}};try{await D.execute(L)}catch($){console.error("[FigmaPluginExporter] Export failed:",$)}},M=async()=>{D.data&&await BU.downloadPluginFiles(D.data)},P=(L,$)=>{const z=new Blob([$],{type:L.endsWith(".html")?"text/html":"text/plain"}),j=URL.createObjectURL(z),H=document.createElement("a");H.href=j,H.download=L,document.body.appendChild(H),H.click(),document.body.removeChild(H),URL.revokeObjectURL(j)},k=()=>{D.reset(),I(null)};return h.jsxs("div",{className:_N.container,children:[h.jsx("h2",{children:"Figma Plugin Export"}),h.jsx("p",{className:"subtitle",children:" Figma Plugin   Figma  Import  "}),n&&h.jsxs("div",{className:"loading-state",children:[h.jsx("div",{className:"spinner"}),h.jsx("p",{children:"  ..."})]}),!n&&!D.data&&h.jsxs("form",{className:_N.form,onSubmit:L=>{L.preventDefault(),T()},children:[h.jsxs("div",{className:"form-group",children:[h.jsxs("label",{htmlFor:"plugin-name",children:["Plugin  ",h.jsx("span",{className:"required",children:"*"})]}),h.jsx("input",{id:"plugin-name",type:"text",value:r,onChange:L=>i(L.target.value),placeholder:": XStudio Theme Import",required:!0})]}),h.jsxs("div",{className:"form-group",children:[h.jsx("label",{htmlFor:"description",children:" ()"}),h.jsx("textarea",{id:"description",value:s,onChange:L=>o(L.target.value),placeholder:"Plugin ",rows:2})]}),h.jsxs("div",{className:"form-group",children:[h.jsx("label",{children:" "}),h.jsxs("div",{className:"checkbox-group",children:[h.jsxs("label",{className:"checkbox-label",children:[h.jsx("input",{type:"checkbox",checked:a,onChange:L=>l(L.target.checked)}),"manifest.json (Plugin  )"]}),h.jsxs("label",{className:"checkbox-label",children:[h.jsx("input",{type:"checkbox",checked:u,onChange:L=>c(L.target.checked)}),"code.ts (Plugin )"]}),h.jsxs("label",{className:"checkbox-label",children:[h.jsx("input",{type:"checkbox",checked:d,onChange:L=>f(L.target.checked)}),"ui.html (Plugin UI)"]})]})]}),h.jsxs("div",{className:"form-group",children:[h.jsx("label",{children:"Export "}),h.jsxs("div",{className:"checkbox-group",children:[h.jsxs("label",{className:"checkbox-label",children:[h.jsx("input",{type:"checkbox",checked:p,onChange:L=>m(L.target.checked)})," "]}),h.jsxs("label",{className:"checkbox-label",children:[h.jsx("input",{type:"checkbox",checked:v,onChange:L=>y(L.target.checked)})," "]}),h.jsxs("label",{className:"checkbox-label",children:[h.jsx("input",{type:"checkbox",checked:A,onChange:L=>C(L.target.checked)}),"  (Shadow)"]})]})]}),h.jsxs("div",{className:"token-count-info",children:[h.jsx("span",{className:"info-label",children:"Export  "}),h.jsxs("span",{className:"info-value",children:[e.length,""]})]}),h.jsx("button",{type:"submit",className:"export-btn",children:" Figma Plugin "})]}),D.data&&h.jsxs("div",{className:_N.preview,children:[h.jsxs("div",{className:"preview-header",children:[h.jsxs("div",{className:"preview-title",children:[h.jsx("h3",{children:"Plugin   "}),h.jsxs("span",{className:"file-count",children:[Object.keys(D.data.files).length," "]})]}),h.jsxs("div",{className:"preview-actions",children:[h.jsx("button",{onClick:M,className:"download-all-btn",children:"  "}),h.jsx("button",{onClick:k,className:"reset-btn",children:"  "})]})]}),h.jsxs("div",{className:"preview-stats",children:[h.jsxs("div",{className:"stat-item",children:[h.jsx("span",{className:"stat-label",children:"Plugin "}),h.jsx("span",{className:"stat-value",children:D.data.metadata.pluginName})]}),h.jsxs("div",{className:"stat-item",children:[h.jsx("span",{className:"stat-label",children:" "}),h.jsxs("span",{className:"stat-value",children:[D.data.metadata.tokenCount,""]})]}),h.jsxs("div",{className:"stat-item",children:[h.jsx("span",{className:"stat-label",children:" "}),h.jsx("span",{className:"stat-value",children:new Date(D.data.metadata.generatedAt).toLocaleString("ko-KR")})]})]}),h.jsx("div",{className:"file-tabs",children:Object.keys(D.data.files).map(L=>h.jsxs("button",{className:`file-tab ${E===L?"active":""}`,onClick:()=>I(L),children:[" ",L]},L))}),E&&D.data.files[E]&&h.jsxs("div",{className:"file-content",children:[h.jsxs("div",{className:"file-header",children:[h.jsx("span",{className:"file-name",children:E}),h.jsxs("div",{className:"file-actions",children:[h.jsx("button",{onClick:()=>{navigator.clipboard.writeText(D.data.files[E]),alert(" ")},className:"copy-btn",children:" "}),h.jsx("button",{onClick:()=>P(E,D.data.files[E]),className:"download-btn",children:" "})]})]}),h.jsx("pre",{className:"code-block",children:h.jsx("code",{children:D.data.files[E]})})]}),h.jsxs("div",{className:"instructions",children:[h.jsx("h4",{children:" Figma Plugin  "}),h.jsxs("ol",{children:[h.jsx("li",{children:"Figma Desktop App "}),h.jsx("li",{children:"Menu  Plugins  Development  Import plugin from manifest..."}),h.jsx("li",{children:" manifest.json  "}),h.jsx("li",{children:"Plugin  Plugins    "})]})]})]}),D.error&&h.jsxs("div",{className:"error-message",children:[h.jsx("h3",{children:"  "}),h.jsx("p",{children:D.error.message}),h.jsx("button",{onClick:k,children:" "})]})]})}function Kyt(t,e,n){n/=100;const r=e*Math.min(n,1-n)/100,i=s=>{const o=(s+t/30)%12,a=n-r*Math.max(Math.min(o-3,9-o,1),-1);return Math.round(255*a).toString(16).padStart(2,"0")};return`#${i(0)}${i(8)}${i(4)}`}const Wyt=[{role:"primary",label:"Primary",lightShade:"primary-600",darkShade:"primary-400",category:"primary"},{role:"on-primary",label:"On Primary",lightShade:"white",darkShade:"primary-900",category:"primary"},{role:"primary-container",label:"Primary Container",lightShade:"primary-100",darkShade:"primary-800",category:"primary"},{role:"on-primary-container",label:"On Primary Container",lightShade:"primary-900",darkShade:"primary-100",category:"primary"},{role:"secondary",label:"Secondary",lightShade:"secondary-600",darkShade:"secondary-400",category:"secondary"},{role:"on-secondary",label:"On Secondary",lightShade:"white",darkShade:"secondary-900",category:"secondary"},{role:"secondary-container",label:"Secondary Container",lightShade:"secondary-100",darkShade:"secondary-800",category:"secondary"},{role:"on-secondary-container",label:"On Secondary Container",lightShade:"secondary-900",darkShade:"secondary-100",category:"secondary"},{role:"tertiary",label:"Tertiary",lightShade:"tertiary-600",darkShade:"tertiary-400",category:"tertiary"},{role:"on-tertiary",label:"On Tertiary",lightShade:"white",darkShade:"tertiary-900",category:"tertiary"},{role:"tertiary-container",label:"Tertiary Container",lightShade:"tertiary-100",darkShade:"tertiary-800",category:"tertiary"},{role:"on-tertiary-container",label:"On Tertiary Container",lightShade:"tertiary-900",darkShade:"tertiary-100",category:"tertiary"},{role:"error",label:"Error",lightShade:"error-600",darkShade:"error-400",category:"error"},{role:"on-error",label:"On Error",lightShade:"white",darkShade:"error-900",category:"error"},{role:"error-container",label:"Error Container",lightShade:"error-100",darkShade:"error-800",category:"error"},{role:"on-error-container",label:"On Error Container",lightShade:"error-900",darkShade:"error-100",category:"error"},{role:"surface",label:"Surface",lightShade:"surface-50",darkShade:"surface-900",category:"surface"},{role:"surface-container",label:"Surface Container",lightShade:"surface-100",darkShade:"surface-800",category:"surface"},{role:"surface-container-high",label:"Surface Container High",lightShade:"surface-200",darkShade:"surface-700",category:"surface"},{role:"surface-container-highest",label:"Surface Container Highest",lightShade:"surface-300",darkShade:"surface-600",category:"surface"}];function qyt({themeId:t,projectId:e,isDarkMode:n=!1}){const[r,i]=x.useState(new Map),[s,o]=x.useState(!0);x.useEffect(()=>{async function c(){try{const{getDB:d}=await en(async()=>{const{getDB:y}=await Promise.resolve().then(()=>h8);return{getDB:y}},void 0),m=(await(await d()).designTokens.getAll()).filter(y=>y.theme_id===t),v=new Map;m.forEach(y=>{if(y.type!=="color")return;let A=y.name;A.startsWith("color.")&&(A=A.replace("color.","")),A=A.replace(/\./g,"-");let C;if(typeof y.value=="string")C=y.value;else if(y.value&&typeof y.value=="object"){const E=y.value;if(typeof E.hex=="string")C=E.hex;else if(typeof E.h=="number"&&typeof E.s=="number"&&typeof E.l=="number")C=Kyt(E.h,E.s,E.l);else{console.warn("[M3ColorSystemGuide] Unknown value format:",A,y.value);return}}else return;v.set(A,C)}),v.has("white")||v.set("white","#FFFFFF"),v.has("black")||v.set("black","#000000"),i(v)}catch(d){console.error("[M3ColorSystemGuide] Failed to fetch tokens:",d)}finally{o(!1)}}c()},[t,e,n]);const a=c=>r.get(c)||"#CCCCCC",l=c=>{const d=c.replace("#",""),f=parseInt(d.substr(0,2),16),p=parseInt(d.substr(2,2),16),m=parseInt(d.substr(4,2),16);return(.299*f+.587*p+.114*m)/255>.5?"#000000":"#FFFFFF"};if(s)return h.jsx("div",{className:"m3-color-system-guide",children:h.jsxs("div",{className:"m3-guide-loading",children:[h.jsx("div",{className:"spinner"}),h.jsx("p",{children:"Loading M3 Color Roles..."})]})});const u=["primary","secondary","tertiary","error","surface"];return h.jsxs("div",{className:"m3-color-system-guide",children:[h.jsxs("div",{className:"m3-guide-header",children:[h.jsx("h3",{children:"Material Design 3 Color Roles"}),h.jsxs("p",{className:"m3-guide-description",children:[n?"Dark Mode":"Light Mode","  Current Theme Colors"]})]}),h.jsx("div",{className:"m3-roles-grid",children:u.map(c=>{const d=Wyt.filter(f=>f.category===c);return h.jsxs("div",{className:"m3-category",children:[h.jsx("h4",{className:"m3-category-title",children:c.charAt(0).toUpperCase()+c.slice(1)}),h.jsx("div",{className:"m3-role-list",children:d.map(f=>{const p=n?f.darkShade:f.lightShade,m=a(p),v=l(m);return h.jsxs("div",{className:"m3-role-item",style:{backgroundColor:m,color:v},children:[h.jsx("div",{className:"m3-role-label",children:f.label}),h.jsxs("div",{className:"m3-role-value",children:[h.jsx("div",{className:"m3-shade-name",children:p}),h.jsx("div",{className:"m3-color-hex",children:m})]})]},f.role)})})]},c)})}),h.jsxs("div",{className:"m3-guide-footer",children:[h.jsxs("div",{className:"m3-mapping-info",children:[h.jsx("h4",{children:"M3 Mapping Rules"}),h.jsxs("ul",{className:"m3-mapping-list",children:[h.jsxs("li",{children:[h.jsx("span",{className:"mapping-label",children:"Primary/Secondary/Tertiary:"}),h.jsx("span",{className:"mapping-value",children:n?"400 shade":"600 shade"})]}),h.jsxs("li",{children:[h.jsx("span",{className:"mapping-label",children:"Containers:"}),h.jsx("span",{className:"mapping-value",children:n?"800 shade":"100 shade"})]}),h.jsxs("li",{children:[h.jsx("span",{className:"mapping-label",children:"On-Colors:"}),h.jsx("span",{className:"mapping-value",children:n?"900 or 100":"White or 900"})]})]})]}),h.jsx("div",{className:"m3-guide-link",children:h.jsx("a",{href:"https://m3.material.io/styles/color/roles",target:"_blank",rel:"noopener noreferrer",className:"m3-docs-link",children:"View M3 Color Documentation "})})]})]})}const Qw={container:"themePanel",sidebar:"theme-studio-sidebar",main:"theme-studio-main",panel:"theme-studio-panel"};function Yyt({projectId:t}){const[e,n]=x.useState("tokens"),[r,i]=x.useState(!1),{themes:s,loading:o,createTheme:a,activateTheme:l,deleteTheme:u}=gz({projectId:t,enableRealtime:!0}),{activeTheme:c,loading:d,refetch:f}=IUe({projectId:t,enableRealtime:!0}),p=o||d;x.useEffect(()=>{const A=localStorage.getItem("themestudio-preview-dark-mode")==="dark";i(A)},[]);const m=async y=>{await l(y),await f()},v=()=>{const y=!r;i(y),localStorage.setItem("themestudio-preview-dark-mode",y?"dark":"light"),console.log("[ThemeStudio] Preview dark mode:",y?"enabled":"disabled")};return p?h.jsx("div",{className:Qw.container,children:h.jsxs("div",{className:"loading-state",children:[h.jsx("div",{className:"spinner"}),h.jsx("p",{children:"  ..."})]})}):h.jsxs("div",{className:Qw.container,"data-theme":r?"dark":void 0,children:[h.jsxs("div",{className:"panel-header",children:[h.jsx("h3",{className:"panel-title",children:"Theme"}),h.jsxs("div",{className:"header-actions",children:[h.jsx("select",{value:c?.id||"",onChange:y=>m(y.target.value),children:s.map(y=>h.jsx("option",{value:y.id,children:y.name},y.id))}),h.jsxs("button",{className:"iconButton preview-dark-mode-toggle",onClick:v,title:r?"Light  ":"Dark  ",children:[r?h.jsx(QN,{size:ce.size}):h.jsx(d_,{size:ce.size}),h.jsx("span",{children:r?"Light":"Dark"})]}),h.jsx("button",{className:e==="tokens"?"active":"",onClick:()=>n("tokens"),children:" "}),h.jsx("button",{className:e==="ai-generator"?"active":"",onClick:()=>n("ai-generator"),children:"AI "}),h.jsx("button",{className:e==="hct-generator"?"active":"",onClick:()=>n("hct-generator"),children:"HCT (M3)"}),h.jsx("button",{className:e==="figma-import"?"active":"",onClick:()=>n("figma-import"),children:"Figma Import"}),h.jsx("button",{className:e==="dark-mode"?"active":"",onClick:()=>n("dark-mode"),children:" "}),h.jsx("button",{className:e==="figma-plugin"?"active":"",onClick:()=>n("figma-plugin"),children:"Figma Plugin"}),h.jsx("button",{className:e==="settings"?"active":"",onClick:()=>n("settings"),children:""})]})]}),h.jsxs("div",{className:"studio-body",children:[h.jsxs("aside",{className:Qw.sidebar,children:[h.jsxs("div",{className:"sidebar-header",children:[h.jsx("h2",{children:""}),h.jsx("button",{className:"create-theme-btn",onClick:()=>{const y=prompt("  :");y&&a(y)},children:"+  "})]}),h.jsx("div",{className:"theme-list",children:s.map(y=>h.jsxs("div",{className:`theme-item ${c?.id===y.id?"active":""}`,children:[h.jsxs("div",{className:"theme-info",onClick:()=>m(y.id),children:[h.jsxs("div",{className:"theme-name-row",children:[h.jsx("span",{className:"theme-name",children:y.name}),(y.supports_dark_mode??!0)&&h.jsx(d_,{size:yn.size,className:"dark-mode-indicator"})]}),h.jsx("span",{className:"theme-status",children:y.status})]}),h.jsx("button",{className:"delete-theme-btn",onClick:A=>{A.stopPropagation(),confirm(`"${y.name}"  ?`)&&u(y.id)},title:" ",children:""})]},y.id))})]}),h.jsxs("main",{className:Qw.main,children:[e==="tokens"&&c&&h.jsx(Uyt,{themeId:c.id,projectId:t}),e==="ai-generator"&&h.jsx("div",{className:"ai-generator-view",children:h.jsx(Lyt,{projectId:t,onThemeGenerated:y=>{m(y),n("tokens")}})}),e==="hct-generator"&&h.jsx("div",{className:"hct-generator-view",children:h.jsx(Fyt,{projectId:t,onThemeGenerated:y=>{m(y),n("tokens")}})}),e==="figma-import"&&h.jsx("div",{className:"figma-import-view",children:h.jsx(Qyt,{projectId:t,themeId:c?.id||"",onImportComplete:y=>{console.log("Figma import complete:",y),n("tokens")}})}),e==="dark-mode"&&c&&h.jsx("div",{className:"dark-mode-view",children:h.jsx(Vyt,{projectId:t,themeId:c.id,onDarkThemeCreated:y=>{m(y),n("tokens")}})}),e==="figma-plugin"&&c&&h.jsx("div",{className:"figma-plugin-view",children:h.jsx(Gyt,{projectId:t,themeId:c.id})}),e==="settings"&&c&&h.jsxs("div",{className:"settings-view",children:[h.jsxs("div",{className:"theme-settings-section",children:[h.jsx("h3",{children:" "}),h.jsxs("div",{className:"setting-item",children:[h.jsxs("label",{htmlFor:"dark-mode-support",children:[h.jsx(d_,{size:ce.size}),h.jsx("span",{children:" "})]}),h.jsx("input",{type:"checkbox",id:"dark-mode-support",checked:c.supports_dark_mode??!0,onChange:async y=>{const A=y.target.checked;try{const{supabase:C}=await en(async()=>{const{supabase:E}=await Promise.resolve().then(()=>yNe);return{supabase:E}},void 0);await C.from("design_themes").update({supports_dark_mode:A}).eq("id",c.id),console.log("[ThemeStudio] Updated dark mode support:",A)}catch(C){console.error("[ThemeStudio] Failed to update dark mode support:",C)}}}),h.jsx("p",{className:"setting-description",children:"   Builder   ."})]})]}),h.jsx(Hyt,{themeId:c.id,projectId:t})]})]}),h.jsx("aside",{className:Qw.panel,children:c?h.jsx(qyt,{themeId:c.id,projectId:t,isDarkMode:r}):h.jsx("div",{className:"token-preview",children:h.jsx("p",{children:"  M3 Color Roles "})})})]})]})}const IN=({children:t})=>{const[e,n]=x.useState(null),[r,i]=x.useState(!0);return x.useEffect(()=>{(async()=>{const{data:{session:o}}=await bi.auth.getSession();n(o),i(!1)})()},[]),r?h.jsx("p",{children:"Loading..."}):e?t:h.jsx(Lme,{to:"/signin"})};function Xyt(){const{projectId:t}=nC();return t?h.jsx(Yyt,{projectId:t}):h.jsx("div",{children:"Project ID required"})}function Jyt(){const t=K0(),e=t.pathname==="/"||t.pathname==="/signin"||t.pathname==="/dashboard";return h.jsxs(h.Fragment,{children:[e&&h.jsx(X3e,{}),h.jsxs($me,{children:[h.jsx($1,{path:"/",element:h.jsx(DQe,{})}),h.jsx($1,{path:"/signin",element:h.jsx(Nyt,{})}),h.jsx($1,{path:"/dashboard",element:h.jsx(IN,{children:h.jsx(LQe,{})})}),h.jsx($1,{path:"/builder/:projectId",element:h.jsx(IN,{children:h.jsx(Ryt,{})})}),h.jsx($1,{path:"/theme/:projectId",element:h.jsx(IN,{children:h.jsx(Xyt,{})})})]})]})}const Zyt=new j0e({defaultOptions:{queries:{staleTime:300*1e3,gcTime:1800*1e3,retry:2,refetchOnWindowFocus:!1}}}),evt=document.getElementById("root"),tvt="/xstudio";Oge.createRoot(evt).render(h.jsxs(U0e,{client:Zyt,children:[h.jsx(l0e,{basename:tvt,children:h.jsx(Xxe,{children:h.jsx(Jyt,{})})}),!1]}));export{Fu as $,_y as A,$N as B,vX as C,et as D,js as E,AF as F,U_ as G,vF as H,nl as I,lvt as J,ZE as K,lT as L,bF as M,pF as N,DX as O,Sc as P,ho as Q,dbe as R,_c as S,EF as T,H_ as U,Bxe as V,xF as W,l5 as X,lve as Y,wve as Z,yB as _,avt as a,Mst as a$,oh as a0,Qy as a1,BX as a2,SX as a3,DAe as a4,vd as a5,yn as a6,Axe as a7,mX as a8,gve as a9,xr as aA,Qi as aB,Af as aC,fve as aD,wf as aE,ON as aF,Fi as aG,c4e as aH,xe as aI,u3 as aJ,sMe as aK,dle as aL,Kn as aM,Qu as aN,zy as aO,kL as aP,oa as aQ,Dx as aR,qrt as aS,Qn as aT,Yp as aU,to as aV,mo as aW,Git as aX,Bst as aY,VG as aZ,hs as a_,xbe as aa,im as ab,wAe as ac,sxe as ad,h_ as ae,vxe as af,jAe as ag,UN as ah,yd as ai,Rx as aj,N$ as ak,Eve as al,xx as am,q7 as an,Rxe as ao,_be as ap,axe as aq,zve as ar,md as as,Wve as at,ovt as au,Mp as av,Tn as aw,Vp as ax,rs as ay,Ec as az,Fa as b,ape as b$,$a as b0,qy as b1,jB as b2,Kz as b3,Ofe as b4,Gz as b5,Mf as b6,Pfe as b7,P3 as b8,mi as b9,VE as bA,Oa as bB,hit as bC,cfe as bD,Ufe as bE,Pr as bF,Ni as bG,Ast as bH,Jfe as bI,Rst as bJ,sot as bK,aot as bL,hot as bM,pot as bN,got as bO,ipe as bP,GG as bQ,HG as bR,k1 as bS,plt as bT,yK as bU,ds as bV,mat as bW,Os as bX,Nrt as bY,Sn as bZ,BK as b_,iot as ba,oot as bb,cot as bc,fot as bd,AM as be,er as bf,qz as bg,LL as bh,pC as bi,Rrt as bj,_4 as bk,Wz as bl,mot as bm,afe as bn,pfe as bo,mG as bp,Sf as bq,Fit as br,Wit as bs,w4 as bt,qo as bu,hst as bv,yG as bw,FR as bx,vG as by,pit as bz,Ug as c,rv as d,kl as e,Obe as f,RE as g,vn as h,ce as i,h as j,qAe as k,FX as l,XAe as m,SF as n,_X as o,ax as p,uT as q,x as r,Zve as s,Dbe as t,Pe as u,yX as v,N0 as w,bi as x,rbe as y,Sbe as z};
