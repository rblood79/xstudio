import{r as i,u as E,w as $,j as l,P as b,a as ce,b as h,f as J,F as he,l as W,d as x,n as be,R as ge,e as m,o as ue,x as Ce,T as re,H as K,E as me,S as Re,i as C,v as ve}from"./index-DeDvoCpU.js";import{P as n}from"./labels-C7QIhqP9.js";import{R as Se}from"./ratio-CgpKi9QM.js";import{B as Q}from"./binary-BwHcH8nk.js";import{C as Ae}from"./check-check-CDVZ6lmR.js";import{P as X}from"./pointer-off-CPJQi-Ad.js";import{P as Ee}from"./pen-off-B1fkf4FI.js";const _e=i.memo(function({elementId:t,currentProps:a,onUpdate:s}){const[A,R]=i.useState(null),{addElement:j,currentPageId:f,updateElementProps:u,setElements:I,elements:v}=E(),D=i.useMemo(()=>E.getState().elementsMap.get(t)?.customId||"",[t]);i.useEffect(()=>{R(null)},[t]);const N=i.useCallback(e=>{s({...a,label:e})},[a,s]),O=i.useCallback(e=>{s({...a,description:e})},[a,s]),_=i.useCallback(e=>{s({...a,errorMessage:e})},[a,s]),k=i.useCallback(e=>{s({...a,variant:e})},[a,s]),T=i.useCallback(e=>{s({...a,size:e})},[a,s]),y=i.useCallback(e=>{s({...a,orientation:e})},[a,s]),L=i.useCallback(e=>{s({...a,value:e})},[a,s]),M=i.useCallback(e=>{s({...a,defaultValue:e})},[a,s]),B=i.useCallback(e=>{s({...a,isRequired:e})},[a,s]),V=i.useCallback(e=>{s({...a,isInvalid:e})},[a,s]),z=i.useCallback(e=>{s({...a,isDisabled:e})},[a,s]),w=i.useCallback(e=>{s({...a,isReadOnly:e})},[a,s]),F=i.useCallback(e=>{s({...a,name:e||void 0})},[a,s]),q=i.useCallback(e=>{s({...a,"aria-label":e||void 0})},[a,s]),G=i.useCallback(e=>{s({...a,"aria-labelledby":e||void 0})},[a,s]),Y=i.useCallback(e=>{s({...a,"aria-describedby":e||void 0})},[a,s]),Z=i.useCallback(e=>{const o=E.getState().updateElement;o&&t&&o(t,{customId:e})},[t]),d=i.useMemo(()=>v.filter(e=>e.parent_id===t&&e.tag==="Radio").sort((e,o)=>(e.order_num||0)-(o.order_num||0)),[v,t]),p=i.useCallback((e,o)=>{const c=d.find(r=>r.id===e);if(!c)return;const g={...c.props,children:o};u(e,g)},[d,u]),U=i.useCallback((e,o)=>{const c=d.find(r=>r.id===e);if(!c)return;const g={...c.props,value:o};u(e,g)},[d,u]),P=i.useCallback((e,o)=>{const c=d.find(r=>r.id===e);if(!c)return;const g={...c.props,isDisabled:o};u(e,g)},[d,u]),ee=i.useCallback(async e=>{try{const{error:o}=await $.from("elements").delete().eq("id",e);if(o){console.error("Radio ì‚­ì œ ì—ëŸ¬:",o);return}const c=v.filter(g=>g.id!==e);I(c),R(null)}catch(o){console.error("Radio ì‚­ì œ ì¤‘ ì˜¤ë¥˜:",o)}},[v,I]),ae=i.useMemo(()=>l.jsx(b,{title:"Basic",children:l.jsx(ce,{label:"ID",value:D,elementId:t,onChange:Z,placeholder:"radiogroup_1"})}),[D,t,Z]),le=i.useMemo(()=>l.jsxs(b,{title:"Content",children:[l.jsx(h,{label:n.LABEL,value:String(a.label||""),onChange:N,icon:J}),l.jsx(h,{label:n.DESCRIPTION,value:String(a.description||""),onChange:O,icon:he}),l.jsx(h,{label:n.ERROR_MESSAGE,value:String(a.errorMessage||""),onChange:_,icon:W})]}),[a.label,a.description,a.errorMessage,N,O,_]),ie=i.useMemo(()=>l.jsxs(b,{title:"Design",children:[l.jsx(x,{label:n.VARIANT,value:String(a.variant||"default"),onChange:k,options:[{value:"default",label:n.RADIO_VARIANT_DEFAULT},{value:"primary",label:n.RADIO_VARIANT_PRIMARY},{value:"secondary",label:n.RADIO_VARIANT_SECONDARY},{value:"surface",label:n.RADIO_VARIANT_SURFACE}],icon:be}),l.jsx(x,{label:n.SIZE,value:String(a.size||"md"),onChange:T,options:[{value:"sm",label:n.SIZE_SM},{value:"md",label:n.SIZE_MD},{value:"lg",label:n.SIZE_LG}],icon:ge}),l.jsx(x,{label:n.ORIENTATION,value:String(a.orientation||"vertical"),options:[{value:"vertical",label:n.ORIENTATION_VERTICAL},{value:"horizontal",label:n.ORIENTATION_HORIZONTAL}],onChange:y,icon:Se})]}),[a.variant,a.size,a.orientation,k,T,y]),se=i.useMemo(()=>l.jsxs(b,{title:"State",children:[l.jsx(h,{label:n.VALUE,value:String(a.value||""),onChange:L,icon:Q}),l.jsx(h,{label:n.DEFAULT_VALUE,value:String(a.defaultValue||""),onChange:M,icon:Ae}),l.jsx(m,{label:n.REQUIRED,isSelected:!!a.isRequired,onChange:B,icon:ue}),l.jsx(m,{label:n.INVALID,isSelected:!!a.isInvalid,onChange:V,icon:W})]}),[a.value,a.defaultValue,a.isRequired,a.isInvalid,L,M,B,V]),ne=i.useMemo(()=>l.jsxs(b,{title:"Behavior",children:[l.jsx(m,{label:n.DISABLED,isSelected:!!a.isDisabled,onChange:z,icon:X}),l.jsx(m,{label:n.READONLY,isSelected:!!a.isReadOnly,onChange:w,icon:Ee})]}),[a.isDisabled,a.isReadOnly,z,w]),oe=i.useMemo(()=>l.jsx(b,{title:"Form Integration",children:l.jsx(h,{label:n.NAME,value:String(a.name||""),onChange:F,icon:Ce,placeholder:"radio-group-name"})}),[a.name,F]),te=i.useMemo(()=>l.jsxs(b,{title:"Accessibility",children:[l.jsx(h,{label:n.ARIA_LABEL,value:String(a["aria-label"]||""),onChange:q,icon:re,placeholder:"Radio group label for screen readers"}),l.jsx(h,{label:n.ARIA_LABELLEDBY,value:String(a["aria-labelledby"]||""),onChange:G,icon:K,placeholder:"label-element-id"}),l.jsx(h,{label:n.ARIA_DESCRIBEDBY,value:String(a["aria-describedby"]||""),onChange:Y,icon:K,placeholder:"description-element-id"})]}),[a,q,G,Y]),H=i.useCallback(async()=>{try{const e={id:me.generateId(),page_id:f||"1",tag:"Radio",props:{children:`Option ${(d.length||0)+1}`,value:`option${(d.length||0)+1}`,isDisabled:!1,style:{},className:""},parent_id:t,order_num:(d.length||0)+1},{data:o,error:c}=await $.from("elements").upsert(e,{onConflict:"id"}).select().single();if(c){console.error("Radio ì¶”ê°€ ì—ëŸ¬:",c);return}o&&(j(o),console.log("ìƒˆ Radio ì¶”ê°€ë¨:",o))}catch(e){console.error("Radio ì¶”ê°€ ì¤‘ ì˜¤ë¥˜:",e)}},[f,d.length,t,j]),de=i.useMemo(()=>l.jsxs(b,{title:n.RADIO_MANAGEMENT,children:[l.jsxs("div",{className:"tab-overview",children:[l.jsxs("p",{className:"tab-overview-text",children:["Total radio options: ",d.length||0]}),l.jsx("p",{className:"section-overview-help",children:"ðŸ’¡ Select individual radio options from list to edit label, value, and state"})]}),d.length>0&&l.jsx("div",{className:"tabs-list",children:d.map((e,o)=>l.jsxs("div",{className:"tab-list-item",children:[l.jsxs("span",{className:"tab-title",children:[String(e.props.children)||`Option ${o+1}`,a.value===e.props.value&&" âœ“"]}),l.jsx("button",{className:"tab-edit-button",onClick:()=>R({parentId:t,radioIndex:o}),children:"Edit"})]},e.id))}),l.jsx("div",{className:"tab-actions",children:l.jsxs("button",{className:"control-button add",onClick:H,children:[l.jsx(Re,{color:C.color,strokeWidth:C.stroke,size:C.size}),n.ADD_RADIO]})})]}),[d,a.value,t,H]);if(A&&A.parentId===t){const e=d[A.radioIndex];return e?l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"properties-aria",children:[l.jsx(h,{label:n.LABEL,value:String(e.props.children||""),onChange:o=>p(e.id,o),icon:J}),l.jsx(h,{label:n.VALUE,value:String(e.props.value||""),onChange:o=>U(e.id,o),icon:Q}),l.jsx(m,{label:n.DISABLED,isSelected:!!e.props.isDisabled,onChange:o=>P(e.id,o),icon:X}),l.jsx("div",{className:"tab-actions",children:l.jsxs("button",{className:"control-button delete",onClick:()=>ee(e.id),children:[l.jsx(ve,{color:C.color,strokeWidth:C.stroke,size:C.size}),n.DELETE_THIS_RADIO]})})]}),l.jsx("div",{className:"tab-actions",children:l.jsx("button",{className:"control-button secondary",onClick:()=>R(null),children:n.BACK_TO_RADIO_GROUP_SETTINGS})})]}):null}return l.jsxs(l.Fragment,{children:[ae,le,ie,se,ne,oe,te,de]})},(S,t)=>S.elementId===t.elementId&&JSON.stringify(S.currentProps)===JSON.stringify(t.currentProps));export{_e as RadioGroupEditor};
