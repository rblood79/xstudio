@layer builder-system {
  /* ========================================
   * Canvas Layout
   * Extracted from main/index.css
   * ======================================== */

  /* Main Content Area */
  .app main {
    grid-area: main;
    display: flex;
    flex-wrap: nowrap;
    flex-direction: column;
    position: relative;
    z-index: 1;

    align-items: center;
    justify-content: center;
  }

  /* Background Container */
  .app .bg {
    display: flex;
    justify-content: center;
    align-items: center;
    flex-grow: 1;
    position: relative;
    background-color: var(--surface-variant);
  }

  /* Canvas */
  .app .canvas {
    padding: 0;
    background: var(--background-color);
    border: 1px solid var(--outline-variant);
    will-change: transform;
  }

  .canvas .canvas_overlay {
    position: absolute;
    transform-origin: center;
    will-change: transform;
  }

  /* Canvas Width Label */
  .canvas::before {
    content: " " attr(data-max-width) "px ";
    display: block;
    width: auto;
    position: absolute;
    top: -24px;
    left: 50%;
    transform: translateX(-50%);
    font-family: var(--font-mono);
    font-size: var(--text-xs);
    font-weight: var(--font-weight-semibold);
    background-color: var(--primary);
    color: var(--on-primary);
    padding: 0 var(--spacing-sm);
    border-radius: var(--radius-xs);
    text-align: center;
  }

  /* Canvas Height Label */
  .canvas::after {
    transform-origin: center center;
    content: " " attr(data-max-height) "px ";
    display: block;
    width: auto;
    position: absolute;
    top: 50%;
    left: -16px;
    transform: translate(-50%, -50%) rotate(-90deg);
    font-size: var(--text-xs);
    font-weight: var(--font-weight-semibold);
    background-color: var(--primary);
    color: var(--on-primary);
    padding: 0 var(--spacing-sm);
    border-radius: var(--radius-xs);
    text-align: center;
  }

  /* ========================================
   * Sidebar
   * ======================================== */

  .app aside {
    z-index: 2;
  }

  .app aside.sidebar {
    grid-area: sidebar;
    height: 100%;
    display: flex;
    position: relative;
    overflow: auto;
  }

  /* Panel Header */
  .app aside .panel-header {
    height: var(--header-height);
    background-color: var(--surface-variant);
    border-bottom: 1px solid var(--outline-variant);
    display: flex;
    flex-direction: row;
    align-items: center;
    justify-content: space-between;
  }

  .panel-header .iconButton {
    border-width: 0px;
    padding: var(--spacing-sm);
  }

  .panel-header .panel-title {
    display: flex;
    align-items: center;
    gap: var(--spacing-sm);
    padding-left: var(--spacing-sm);
    border-bottom: 0px;
    line-height: var(--text-xs--line-height);
    font-size: var(--text-xs);
  }

  .panel-header .panel-icon {
    display: flex;
    align-items: center;
    justify-content: center;
    color: var(--on-surface-variant);
  }

  /* Component Search */
  .component-search .component-search-field .react-aria-Input {
    height: var(--header-height);
    border-width: 0px;
    border-radius: 0px;
    outline: none;
    background-color: var(--secondary-container);
    border-bottom: 1px solid var(--outline-variant);
  }

  /* Header Actions */
  .app aside .header-actions {
    display: flex;
    flex-direction: row;
  }

  /* Panel Content */
  .app aside .panel-content {
    padding: 0;
    display: flex;
    flex-direction: row;
    gap: 0px;
  }
}
