# Photoshop 벤치마크 기반 UI/UX 적용 계획

참고 자료: `docs/explanation/research/PHOTOSHOP_BENCHMARK.md`

## 1. 목적
- Photoshop Web의 사용자 편의성 패턴을 xstudio에 맞게 도입해 학습 부담을 줄이고 작업 속도를 높인다.
- 초기 단계에서는 이미 배치된 History 패널(우측)과 컨텍스트 도구 흐름을 우선 개선해 체감 효용을 만든다.

## 2. History 패널 보완 아이디어 (우선 적용)
### 2.1 UX/레이아웃
- **현재/미래 상태 시각 구분**: redo 구간은 투명도 50% 처리, 시작 상태는 이탤릭+보조 색상 강조.
- **항목 아이콘**: add/remove/update/batch 등 유형별 아이콘을 좌측에 배치해 일목요연한 스캔을 지원.
- **타임라인/날짜 라벨**: 시간단위 표시 외에 날짜 경계 시 구분선 추가.
- **키보드 네비게이션**: ↑/↓ 포커스, Enter로 복원, Cmd/Ctrl+Z(Undo), Cmd/Ctrl+Shift+Z 또는 Y(Redo).

### 2.2 기능
- **스냅샷/핀**: 특정 시점을 북마크로 고정하고 Clear 영향을 받지 않는 Snapshot 섹션 제공.
- **라벨 정규화**: 동일 요소 연속 업데이트는 하나의 “일괄 수정 (n)”으로 병합해 리스트 소음을 줄임.
- **썸네일(옵션)**: Canvas 미니 스크린샷을 지연 로딩으로 표시해 시각적 탐색 지원.
- **검색/필터**: 요소 ID/customId/tag 기준 필터 및 타입별 필터(추가/삭제/수정 등).

### 2.3 데이터/성능
- **대량 점프 최적화**: 반복 undo/redo 대신 targetIndex 기반 단일 복원 API를 제공해 긴 리스트 점프 시간을 단축.
- **History States limit 표기**: 최대 유지 개수와 현재 사용량을 헤더/툴팁에 노출해 삭제 정책을 투명하게 안내.
- **IDB 로딩 UX**: 초기 로딩 시 Skeleton과 “동기화 중” 상태를 표시하고 완료 후 현재 항목으로 자동 스크롤.

### 2.4 협업/버전
- **버전 히스토리 분리**: 세션 히스토리와 저장 버전을 탭으로 분리(Photoshop History vs Versions 패턴).
- **변경자 태그(확장)**: Supabase Realtime 메타 정보 연동 시 작성자/협업자 배지를 표시.

## 3. 기타 Photoshop UX 차용 대상
### 3.1 컨텍스트 액션 바 (Contextual Task Bar)
- **개념**: 선택한 요소/도구에 따라 플로팅 버튼 세트를 자동 전환, 위치 고정(Pin) 옵션 제공.
- **행동 예시**: Button 선택 시 텍스트/스타일/이벤트 빠른 편집, Image 선택 시 대체 텍스트·마스크·크기.
- **우선순위**: P0. SelectionOverlay 하단 플로팅으로 시작, 추후 드래그 가능/Pin 유지 추가.

### 3.2 Quick Actions 컨텍스트 메뉴
- **개념**: 우클릭 메뉴에 요소별 빠른 작업과 공통 작업(복사/붙여넣기/삭제) 노출.
- **우선순위**: P0. History 패널/컨텍스트 바와 동일한 액션 맵을 재사용해 유지 보수 비용 최소화.

### 3.3 Generative Workspace & AI 보조
- **생성 공간**: 별도 탭/패널에서 프롬프트당 여러 변형 생성, Variables(다중 슬롯) 지원.
- **반복 자동화**: 배경 제거/색상 변경/스타일 제안 등 프리셋 액션을 제공하고 캔버스 요소에 직접 적용.
- **모델 선택**: Firefly vs 기타 모델(예: Gemini/FLUX) 전환 UX 설계만 먼저 정의, 실제 모델 연동은 단계적 적용.
- **우선순위**: P1. MVP는 “프롬프트 → 요소 생성/스타일 제안 → 미리보기/적용” 흐름.

### 3.4 패널 시스템(플로팅/도킹)
- **개념**: 고정 3단 레이아웃을 보완해 패널을 플로팅/도킹/그룹화 가능하게 전환.
- **우선순위**: P1. History/Comments/AI 패널을 플로팅 파이럿으로 시작 후 전체 패널로 확장.

### 3.5 협업/코멘트
- **코멘트 패널**: 요소 단위 쓰레드, 해결/미해결 상태, 멘션, Supabase Realtime 연동.
- **Presence/커서**: 현재 작업자 표시 및 캔버스 커서 공유(라이트 모드로 시작).
- **우선순위**: P1. History 패널 옆 탭으로 시작해 학습 비용 최소화.

### 3.6 버전 히스토리/저장 상태
- **버전 히스토리**: 저장 지점별 상태, 주석, 썸네일, 복원 기능. 세션 히스토리와 탭 분리.
- **저장 상태 표시**: 헤더/Status 영역에 “저장됨/동기화 중/충돌” 상태 노출.
- **우선순위**: P1. History 패널 확장 시 병렬 설계.

### 3.7 디자인 시스템/아이콘
- **아이콘 톤 조정**: Lucide 기반을 굵고 둥근 톤으로 커스터마이즈(선 두께/라운드 조정)해 Spectrum 2 느낌 반영.
- **색상 대비 점검**: WCAG AA 대비 재확인, 토큰 기반 대비 스케일 정의.
- **우선순위**: P2. 기존 토큰 체계에 맞춰 단계적 치환.

## 4. 로드맵(제안)
| 단계 | 목표 | 범위 |
|------|------|------|
| P0 (즉시) | 히스토리 UX 강화 & 컨텍스트 액션 진입점 | History 패널 보완, 컨텍스트 액션 바 MVP, Quick Actions 컨텍스트 메뉴 |
| P1 (단기) | 협업/생성형 UX 토대 | Generative Workspace MVP, Comments 패널, 플로팅 패널 파이럿, 버전 히스토리 설계 |
| P2 (중기) | 안정화 및 디자인 시스템 조정 | 액션 맵 확장, AI 모델 스위칭, 아이콘/테마 정비, Presence/커서 공유 고도화 |

## 5. 성공 지표 예시
- 히스토리 패널: 목표 상태 복원까지 평균 클릭 수 30% 감소, redo 구간 이해도(설문) 4.0/5 이상.
- 컨텍스트 액션 바: 가장 많이 쓰는 편집 3건을 패널 이동 없이 수행한 비율 50% 이상.
- Generative Workspace: 프롬프트→적용까지 평균 시간 20% 단축, 생성 결과 활용률(적용/생성) 30% 이상.

## 6. 리스크/검증 포인트
- 플로팅/도킹 UI는 레이아웃 저장/복원 복잡도가 증가하므로 기존 panelLayout 스토어와 호환성 검증 필요.
- 썸네일 캡처는 퍼포먼스 비용이 커서 지연/배치 처리와 해상도 제한을 병행해야 함.
- AI 생성/스타일 제안은 모델 응답 지연과 품질 편차가 커서, 미리보기와 되돌리기(히스토리 연계) UX가 필수.
