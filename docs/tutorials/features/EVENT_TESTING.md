# Event System Testing Guide

> **Events Panel 상태**: ✅ Phase 5 완료 (2025-12-08)
> **문서 작성일**: 2025-12-07
> **기반 문서**: [EVENTS_PANEL_REDESIGN.md](./EVENTS_PANEL_REDESIGN.md)

---

## 목차

1. [개요](#1-개요)
2. [구현된 이벤트/액션 타입](#2-구현된-이벤트액션-타입)
3. [컴포넌트별 이벤트 테스트 가이드](#3-컴포넌트별-이벤트-테스트-가이드)
   - [Phase 1: 기본 인터랙션 컴포넌트](#phase-1-기본-인터랙션-컴포넌트)
   - [Phase 2: 폼 컴포넌트](#phase-2-폼-컴포넌트)
   - [Phase 3: 선택 컴포넌트](#phase-3-선택-컴포넌트)
   - [Phase 4: 컬렉션 컴포넌트](#phase-4-컬렉션-컴포넌트)
   - [Phase 5: 레이아웃/네비게이션 컴포넌트](#phase-5-레이아웃네비게이션-컴포넌트)
   - [Phase 6: 데이터 컴포넌트](#phase-6-데이터-컴포넌트)
4. [테스트 체크리스트](#4-테스트-체크리스트)
5. [문제 해결 가이드](#5-문제-해결-가이드)

---

## 1. 개요

### 1.1 Events Panel 완료 현황

| Phase | 상태 | 설명 |
|-------|------|------|
| Phase 0 | ✅ 완료 | 현행 버그 수정 (useActions 리셋, showAddAction 스코프) |
| Phase 1 | ✅ 완료 | 타입 시스템 + 블록 기본 구조 |
| Phase 2 | ✅ 완료 | 조건 시스템 + 선택기 UX |
| Phase 3 | ✅ 완료 | THEN/ELSE 분기 + Dataset 액션 |
| Phase 4 | ✅ 완료 | 변수 바인딩 시스템 |
| Phase 5 | ✅ 완료 | 블록 기반 UI (WHEN → IF → THEN/ELSE) |

### 1.2 테스트 목적

이 가이드는 다음을 목적으로 합니다:
- 각 컴포넌트별 지원 이벤트 타입 확인
- 이벤트 → 액션 흐름 검증
- WHEN → IF → THEN/ELSE 블록 UI 동작 확인
- 실제 사용 시나리오 기반 테스트

---

## 2. 구현된 이벤트/액션 타입

### 2.1 이벤트 타입 (9개)

| 카테고리 | 이벤트 | 설명 | 주요 컴포넌트 |
|---------|--------|------|--------------|
| **Mouse** | `onClick` | 클릭 | Button, Link, ListBoxItem |
| | `onMouseEnter` | 마우스 진입 | Card, Badge, Button |
| | `onMouseLeave` | 마우스 나감 | Card, Badge, Button |
| **Form** | `onChange` | 값 변경 | TextField, Select, ComboBox, Checkbox |
| | `onSubmit` | 폼 제출 | Form 컨테이너 |
| | `onFocus` | 포커스 | TextField, NumberField, Select |
| | `onBlur` | 포커스 해제 | TextField, NumberField, Select |
| **Keyboard** | `onKeyDown` | 키 누름 | TextField, ComboBox |
| | `onKeyUp` | 키 뗌 | TextField, ComboBox |

### 2.2 액션 타입 (32개)

| 카테고리 | 액션 | 설명 |
|---------|------|------|
| **Navigation** | `navigate` | 페이지 이동 |
| | `scrollTo` | 요소로 스크롤 |
| **UI Control** | `toggleVisibility` | 표시/숨김 토글 |
| | `showModal` | 모달 표시 |
| | `hideModal` | 모달 숨김 |
| | `showToast` | 토스트 알림 |
| **Data** | `setState` | 상태 설정 |
| | `updateState` | 상태 업데이트 |
| | `copyToClipboard` | 클립보드 복사 |
| **Form** | `validateForm` | 폼 검증 |
| | `resetForm` | 폼 리셋 |
| | `submitForm` | 폼 제출 |
| | `updateFormField` | 폼 필드 업데이트 |
| **Component** | `setComponentState` | 컴포넌트 상태 설정 |
| | `triggerComponentAction` | 컴포넌트 액션 트리거 |
| **Collection** | `filterCollection` | 컬렉션 필터링 |
| | `selectItem` | 항목 선택 |
| | `clearSelection` | 선택 해제 |
| **Data Panel** | `fetchDataTable` | DataTable 조회 |
| | `refreshDataTable` | DataTable 새로고침 |
| | `executeApi` | API 실행 |
| | `setVariable` | 변수 설정 |
| | `getVariable` | 변수 조회 |
| | `loadDataset` | Dataset 로드 |
| | `syncComponent` | 컴포넌트 동기화 |
| | `saveToDataset` | Dataset에 저장 |
| **Custom** | `customFunction` | 커스텀 JavaScript |
| | `apiCall` | API 호출 |

---

## 3. 컴포넌트별 이벤트 테스트 가이드

---

### Phase 1: 기본 인터랙션 컴포넌트

#### 1.1 Button

**지원 이벤트:**
- `onClick` (Primary)
- `onMouseEnter`
- `onMouseLeave`
- `onFocus`
- `onBlur`

**테스트 시나리오:**

```
┌─────────────────────────────────────────────────────┐
│ 시나리오 1: 기본 클릭 → 페이지 이동                    │
├─────────────────────────────────────────────────────┤
│ WHEN: onClick                                       │
│   └─ THEN: navigate → /about                       │
├─────────────────────────────────────────────────────┤
│ ✅ 검증: 버튼 클릭 시 /about 페이지로 이동            │
└─────────────────────────────────────────────────────┘
```

```
┌─────────────────────────────────────────────────────┐
│ 시나리오 2: 조건부 클릭 → 로그인 상태 확인             │
├─────────────────────────────────────────────────────┤
│ WHEN: onClick                                       │
│   │                                                 │
│   └─ IF: state.isLoggedIn === true                 │
│        │                                            │
│        ├─ THEN: navigate → /dashboard              │
│        │                                            │
│        └─ ELSE: showToast → "로그인이 필요합니다"     │
├─────────────────────────────────────────────────────┤
│ ✅ 검증:                                            │
│   - 로그인 상태: dashboard로 이동                    │
│   - 비로그인 상태: 토스트 메시지 표시                 │
└─────────────────────────────────────────────────────┘
```

```
┌─────────────────────────────────────────────────────┐
│ 시나리오 3: 호버 효과 → 툴팁 표시                     │
├─────────────────────────────────────────────────────┤
│ WHEN: onMouseEnter                                  │
│   └─ THEN: toggleVisibility → #tooltip (show)      │
│                                                     │
│ WHEN: onMouseLeave                                  │
│   └─ THEN: toggleVisibility → #tooltip (hide)      │
├─────────────────────────────────────────────────────┤
│ ✅ 검증: 마우스 진입/나감 시 툴팁 표시/숨김           │
└─────────────────────────────────────────────────────┘
```

**테스트 체크리스트:**
- [ ] onClick → navigate 동작 확인
- [ ] onClick → showToast 동작 확인
- [ ] onClick + IF 조건 분기 확인
- [ ] onClick + THEN/ELSE 분기 확인
- [ ] onMouseEnter/Leave → toggleVisibility 확인
- [ ] onFocus/onBlur 이벤트 발생 확인

---

#### 1.2 Link

**지원 이벤트:**
- `onClick` (Primary)
- `onMouseEnter`
- `onMouseLeave`

**테스트 시나리오:**

```
┌─────────────────────────────────────────────────────┐
│ 시나리오 1: 내부 네비게이션                          │
├─────────────────────────────────────────────────────┤
│ WHEN: onClick                                       │
│   └─ THEN: navigate → /page-2                      │
├─────────────────────────────────────────────────────┤
│ ✅ 검증: 링크 클릭 시 page-2로 이동                  │
│ ⚠️ 경로 정규화: "/page-2" 형식 자동 변환            │
└─────────────────────────────────────────────────────┘
```

```
┌─────────────────────────────────────────────────────┐
│ 시나리오 2: 외부 링크 + 분석 이벤트                   │
├─────────────────────────────────────────────────────┤
│ WHEN: onClick                                       │
│   ├─ THEN[1]: customFunction → analytics.track()   │
│   └─ THEN[2]: navigate → https://external.com      │
├─────────────────────────────────────────────────────┤
│ ✅ 검증:                                            │
│   - 순차 실행: analytics → navigate                 │
│   - 외부 URL 새 탭 열기                             │
└─────────────────────────────────────────────────────┘
```

**테스트 체크리스트:**
- [ ] 내부 경로 navigate 동작 확인
- [ ] 경로 정규화 ("page-2" → "/page-2") 확인
- [ ] 외부 URL navigate 확인
- [ ] 다중 액션 순차 실행 확인

---

#### 1.3 Badge

**지원 이벤트:**
- `onClick`
- `onMouseEnter`
- `onMouseLeave`

**테스트 시나리오:**

```
┌─────────────────────────────────────────────────────┐
│ 시나리오: 뱃지 클릭 → 상세 정보 표시                  │
├─────────────────────────────────────────────────────┤
│ WHEN: onClick                                       │
│   └─ THEN: showModal → #notification-detail        │
├─────────────────────────────────────────────────────┤
│ ✅ 검증: 뱃지 클릭 시 모달 표시                      │
└─────────────────────────────────────────────────────┘
```

**테스트 체크리스트:**
- [ ] onClick → showModal 동작 확인
- [ ] onMouseEnter/Leave 호버 효과 확인

---

#### 1.4 Card

**지원 이벤트:**
- `onClick`
- `onMouseEnter`
- `onMouseLeave`

**테스트 시나리오:**

```
┌─────────────────────────────────────────────────────┐
│ 시나리오 1: 카드 클릭 → 상세 페이지                   │
├─────────────────────────────────────────────────────┤
│ WHEN: onClick                                       │
│   └─ THEN: navigate → /products/{{item.id}}        │
├─────────────────────────────────────────────────────┤
│ ✅ 검증: 카드 클릭 시 동적 경로로 이동               │
│ 📝 변수 바인딩: {{item.id}} 치환                    │
└─────────────────────────────────────────────────────┘
```

```
┌─────────────────────────────────────────────────────┐
│ 시나리오 2: 호버 → 카드 확장 효과                    │
├─────────────────────────────────────────────────────┤
│ WHEN: onMouseEnter                                  │
│   └─ THEN: setComponentState → { isHovered: true } │
│                                                     │
│ WHEN: onMouseLeave                                  │
│   └─ THEN: setComponentState → { isHovered: false }│
├─────────────────────────────────────────────────────┤
│ ✅ 검증: CSS 스타일 연동 확인                        │
└─────────────────────────────────────────────────────┘
```

**테스트 체크리스트:**
- [ ] onClick → navigate with 변수 바인딩 확인
- [ ] onMouseEnter/Leave → setComponentState 확인
- [ ] 카드 내부 요소와 이벤트 버블링 확인

---

#### 1.5 ProgressBar

**지원 이벤트:**
- `onClick`
- `onMouseEnter`
- `onMouseLeave`

**테스트 시나리오:**

```
┌─────────────────────────────────────────────────────┐
│ 시나리오: 진행률 클릭 → 상세 표시                    │
├─────────────────────────────────────────────────────┤
│ WHEN: onClick                                       │
│   └─ THEN: showToast → "현재 진행률: {{value}}%"   │
├─────────────────────────────────────────────────────┤
│ ✅ 검증: 진행률 값 변수 바인딩 확인                  │
└─────────────────────────────────────────────────────┘
```

**테스트 체크리스트:**
- [ ] onClick → showToast with 변수 확인
- [ ] 비활성화 상태에서 이벤트 무시 확인

---

#### 1.6 Meter

**지원 이벤트:**
- `onClick`
- `onMouseEnter`
- `onMouseLeave`

**테스트 시나리오:**

```
┌─────────────────────────────────────────────────────┐
│ 시나리오: 미터 임계값 알림                           │
├─────────────────────────────────────────────────────┤
│ WHEN: onClick                                       │
│   │                                                 │
│   └─ IF: meter.value > 80                          │
│        │                                            │
│        ├─ THEN: showToast → "경고: 용량 부족"        │
│        │                                            │
│        └─ ELSE: showToast → "현재 상태: 정상"        │
├─────────────────────────────────────────────────────┤
│ ✅ 검증: 값 기반 조건 분기 확인                      │
└─────────────────────────────────────────────────────┘
```

**테스트 체크리스트:**
- [ ] onClick → 조건 분기 확인
- [ ] 값 기반 IF 조건 평가 확인

---

#### 1.7 Separator

**지원 이벤트:**
- (제한적) `onClick` - 일반적으로 사용하지 않음

**테스트 시나리오:**

```
┌─────────────────────────────────────────────────────┐
│ 시나리오: 리사이즈 핸들로 사용                       │
├─────────────────────────────────────────────────────┤
│ WHEN: onClick                                       │
│   └─ THEN: customFunction → togglePanelSize()      │
├─────────────────────────────────────────────────────┤
│ ⚠️ 참고: Separator는 주로 시각적 구분 용도          │
└─────────────────────────────────────────────────────┘
```

**테스트 체크리스트:**
- [ ] onClick 이벤트 바인딩 가능 여부 확인

---

### Phase 2: 폼 컴포넌트

#### 2.1 TextField

**지원 이벤트:**
- `onChange` (Primary)
- `onFocus`
- `onBlur`
- `onKeyDown`
- `onKeyUp`

**테스트 시나리오:**

```
┌─────────────────────────────────────────────────────┐
│ 시나리오 1: 입력값 실시간 동기화                     │
├─────────────────────────────────────────────────────┤
│ WHEN: onChange                                      │
│   └─ THEN: setState → { searchQuery: event.value } │
├─────────────────────────────────────────────────────┤
│ ✅ 검증: 타이핑마다 상태 업데이트                    │
└─────────────────────────────────────────────────────┘
```

```
┌─────────────────────────────────────────────────────┐
│ 시나리오 2: 디바운스 검색                            │
├─────────────────────────────────────────────────────┤
│ WHEN: onChange                                      │
│   ├─ ⏱️ Debounce: 300ms                            │
│   │                                                 │
│   └─ IF: event.value.length >= 2                   │
│        │                                            │
│        └─ THEN: apiCall → GET /search?q={{value}}  │
├─────────────────────────────────────────────────────┤
│ ✅ 검증:                                            │
│   - 300ms 입력 중지 후 API 호출                     │
│   - 2글자 미만 시 API 호출 안함                     │
└─────────────────────────────────────────────────────┘
```

```
┌─────────────────────────────────────────────────────┐
│ 시나리오 3: Enter 키로 제출                          │
├─────────────────────────────────────────────────────┤
│ WHEN: onKeyDown                                     │
│   │                                                 │
│   └─ IF: event.key === 'Enter'                     │
│        │                                            │
│        └─ THEN: submitForm → #search-form          │
├─────────────────────────────────────────────────────┤
│ ✅ 검증: Enter 키 입력 시 폼 제출                   │
└─────────────────────────────────────────────────────┘
```

```
┌─────────────────────────────────────────────────────┐
│ 시나리오 4: 유효성 검사                              │
├─────────────────────────────────────────────────────┤
│ WHEN: onBlur                                        │
│   │                                                 │
│   └─ IF: event.value === ''                        │
│        │                                            │
│        ├─ THEN: setComponentState →                │
│        │        { error: "필수 입력 항목입니다" }    │
│        │                                            │
│        └─ ELSE: setComponentState →                │
│                 { error: null }                     │
├─────────────────────────────────────────────────────┤
│ ✅ 검증: 포커스 해제 시 빈 값 검증                  │
└─────────────────────────────────────────────────────┘
```

**테스트 체크리스트:**
- [ ] onChange → setState 실시간 동기화 확인
- [ ] onChange + Debounce 타이밍 확인
- [ ] onChange + IF 조건 (입력 길이) 확인
- [ ] onKeyDown + event.key 조건 확인
- [ ] onBlur → 유효성 검사 확인
- [ ] onFocus → 포커스 스타일/상태 확인

---

#### 2.2 NumberField

**지원 이벤트:**
- `onChange` (Primary)
- `onFocus`
- `onBlur`
- `onKeyDown`
- `onKeyUp`

**테스트 시나리오:**

```
┌─────────────────────────────────────────────────────┐
│ 시나리오 1: 수량 변경 → 총액 계산                    │
├─────────────────────────────────────────────────────┤
│ WHEN: onChange                                      │
│   └─ THEN: customFunction →                        │
│           setState({ total: event.value * price }) │
├─────────────────────────────────────────────────────┤
│ ✅ 검증: 수량 변경 시 총액 자동 계산                 │
└─────────────────────────────────────────────────────┘
```

```
┌─────────────────────────────────────────────────────┐
│ 시나리오 2: 범위 검증                                │
├─────────────────────────────────────────────────────┤
│ WHEN: onChange                                      │
│   │                                                 │
│   └─ IF: event.value < 0 OR event.value > 100      │
│        │                                            │
│        └─ THEN: showToast → "0-100 사이 값 입력"    │
├─────────────────────────────────────────────────────┤
│ ✅ 검증: 범위 벗어난 값 입력 시 경고                 │
└─────────────────────────────────────────────────────┘
```

**테스트 체크리스트:**
- [ ] onChange → 숫자 값 변경 확인
- [ ] onChange + 범위 조건 검증 확인
- [ ] 증가/감소 버튼 클릭 시 onChange 발생 확인
- [ ] 키보드 화살표 키 입력 시 onChange 발생 확인

---

#### 2.3 SearchField

**지원 이벤트:**
- `onChange` (Primary)
- `onSubmit` (Enter/검색 버튼)
- `onFocus`
- `onBlur`

**테스트 시나리오:**

```
┌─────────────────────────────────────────────────────┐
│ 시나리오: 검색 자동완성                              │
├─────────────────────────────────────────────────────┤
│ WHEN: onChange                                      │
│   ├─ ⏱️ Debounce: 200ms                            │
│   │                                                 │
│   └─ IF: event.value.length >= 1                   │
│        │                                            │
│        ├─ THEN[1]: toggleVisibility →              │
│        │           #suggestions (show)             │
│        │                                            │
│        └─ THEN[2]: apiCall →                       │
│                   GET /autocomplete?q={{value}}    │
│                                                     │
│ WHEN: onSubmit                                      │
│   ├─ THEN[1]: toggleVisibility →                   │
│   │           #suggestions (hide)                  │
│   │                                                 │
│   └─ THEN[2]: navigate → /search?q={{value}}       │
├─────────────────────────────────────────────────────┤
│ ✅ 검증:                                            │
│   - 타이핑 시 자동완성 드롭다운 표시                 │
│   - 검색 제출 시 결과 페이지로 이동                  │
└─────────────────────────────────────────────────────┘
```

**테스트 체크리스트:**
- [ ] onChange → apiCall 자동완성 확인
- [ ] onSubmit → navigate 검색 결과 페이지 확인
- [ ] Clear 버튼 클릭 시 onChange (빈 값) 확인

---

#### 2.4 Checkbox

**지원 이벤트:**
- `onChange` (Primary)
- `onFocus`
- `onBlur`

**테스트 시나리오:**

```
┌─────────────────────────────────────────────────────┐
│ 시나리오 1: 단일 체크박스 토글                       │
├─────────────────────────────────────────────────────┤
│ WHEN: onChange                                      │
│   └─ THEN: setState → { agreeTerms: event.checked }│
├─────────────────────────────────────────────────────┤
│ ✅ 검증: 체크 상태 토글 시 상태 업데이트             │
└─────────────────────────────────────────────────────┘
```

```
┌─────────────────────────────────────────────────────┐
│ 시나리오 2: 전체 선택 → 하위 항목 제어               │
├─────────────────────────────────────────────────────┤
│ WHEN: onChange                                      │
│   │                                                 │
│   └─ IF: event.checked === true                    │
│        │                                            │
│        └─ THEN: customFunction →                   │
│                 selectAllItems()                    │
├─────────────────────────────────────────────────────┤
│ ✅ 검증: 전체 선택 체크 시 하위 항목 모두 선택       │
└─────────────────────────────────────────────────────┘
```

**테스트 체크리스트:**
- [ ] onChange → event.checked 값 확인 (true/false)
- [ ] 그룹 내 Checkbox onChange 독립 동작 확인
- [ ] 비활성화 상태에서 onChange 무시 확인

---

#### 2.5 CheckboxGroup

**지원 이벤트:**
- `onChange` (Primary - 그룹 전체)
- `onFocus`
- `onBlur`

**테스트 시나리오:**

```
┌─────────────────────────────────────────────────────┐
│ 시나리오: 다중 선택 필터                             │
├─────────────────────────────────────────────────────┤
│ WHEN: onChange                                      │
│   └─ THEN: filterCollection →                      │
│           { categories: event.value }              │
├─────────────────────────────────────────────────────┤
│ ✅ 검증:                                            │
│   - event.value: ["option1", "option2"] 형태       │
│   - 선택된 값들로 컬렉션 필터링                      │
└─────────────────────────────────────────────────────┘
```

**테스트 체크리스트:**
- [ ] onChange → event.value 배열 형태 확인
- [ ] 그룹 단위 onChange 발생 확인 (개별 Checkbox 변경 시)
- [ ] 선택 값 배열로 필터링 동작 확인

---

#### 2.6 Switch

**지원 이벤트:**
- `onChange` (Primary)
- `onFocus`
- `onBlur`

**테스트 시나리오:**

```
┌─────────────────────────────────────────────────────┐
│ 시나리오: 다크모드 토글                              │
├─────────────────────────────────────────────────────┤
│ WHEN: onChange                                      │
│   │                                                 │
│   └─ IF: event.checked === true                    │
│        │                                            │
│        ├─ THEN: setState → { theme: 'dark' }       │
│        │                                            │
│        └─ ELSE: setState → { theme: 'light' }      │
├─────────────────────────────────────────────────────┤
│ ✅ 검증: Switch 토글 시 테마 변경                   │
└─────────────────────────────────────────────────────┘
```

**테스트 체크리스트:**
- [ ] onChange → event.checked (boolean) 확인
- [ ] THEN/ELSE 분기 동작 확인

---

#### 2.7 Slider

**지원 이벤트:**
- `onChange` (Primary)
- `onFocus`
- `onBlur`

**테스트 시나리오:**

```
┌─────────────────────────────────────────────────────┐
│ 시나리오: 볼륨 조절                                  │
├─────────────────────────────────────────────────────┤
│ WHEN: onChange                                      │
│   ├─ ⏱️ Throttle: 100ms                            │
│   │                                                 │
│   └─ THEN: customFunction →                        │
│           audio.setVolume(event.value)             │
├─────────────────────────────────────────────────────┤
│ ✅ 검증:                                            │
│   - 드래그 중 Throttle로 성능 최적화               │
│   - 실시간 볼륨 변경                                │
└─────────────────────────────────────────────────────┘
```

**테스트 체크리스트:**
- [ ] onChange → 드래그 중 값 변경 확인
- [ ] onChange + Throttle 타이밍 확인
- [ ] 키보드 화살표 키로 값 변경 시 onChange 확인

---

### Phase 3: 선택 컴포넌트

#### 3.1 Select

**지원 이벤트:**
- `onChange` (Primary - 선택 변경)
- `onFocus`
- `onBlur`

**테스트 시나리오:**

```
┌─────────────────────────────────────────────────────┐
│ 시나리오 1: 기본 선택 → 상태 업데이트                │
├─────────────────────────────────────────────────────┤
│ WHEN: onChange                                      │
│   └─ THEN: setState → { country: event.key }       │
├─────────────────────────────────────────────────────┤
│ ✅ 검증:                                            │
│   - event.key: 선택된 항목의 key 값                 │
│   - 상태에 선택 값 저장                             │
└─────────────────────────────────────────────────────┘
```

```
┌─────────────────────────────────────────────────────┐
│ 시나리오 2: 연계 선택 (국가 → 도시)                  │
├─────────────────────────────────────────────────────┤
│ WHEN: onChange (국가 Select)                        │
│   ├─ THEN[1]: setState → { country: event.key }    │
│   │                                                 │
│   └─ THEN[2]: loadDataset →                        │
│              { endpoint: /cities?country={{key}} } │
├─────────────────────────────────────────────────────┤
│ ✅ 검증:                                            │
│   - 국가 선택 시 도시 목록 새로고침                  │
│   - 연계 데이터 로드 확인                           │
└─────────────────────────────────────────────────────┘
```

**테스트 체크리스트:**
- [ ] onChange → event.key 선택 값 확인
- [ ] 다중 액션 순차 실행 확인
- [ ] DataBinding 연동 Select 동작 확인

---

#### 3.2 ComboBox

**지원 이벤트:**
- `onChange` (Primary - 입력/선택 변경)
- `onFocus`
- `onBlur`
- `onKeyDown`
- `onKeyUp`

**테스트 시나리오:**

```
┌─────────────────────────────────────────────────────┐
│ 시나리오 1: 자동완성 검색                            │
├─────────────────────────────────────────────────────┤
│ WHEN: onChange (inputValue 변경)                    │
│   ├─ ⏱️ Debounce: 300ms                            │
│   │                                                 │
│   └─ IF: event.inputValue.length >= 2              │
│        │                                            │
│        └─ THEN: apiCall →                          │
│                GET /products/search?q={{inputValue}}│
├─────────────────────────────────────────────────────┤
│ ✅ 검증:                                            │
│   - 타이핑 디바운스 적용                            │
│   - 2글자 이상 시 API 검색 호출                     │
│   - textValue 필터링 동작                           │
└─────────────────────────────────────────────────────┘
```

```
┌─────────────────────────────────────────────────────┐
│ 시나리오 2: 항목 선택                                │
├─────────────────────────────────────────────────────┤
│ WHEN: onChange (selectedKey 변경)                   │
│   ├─ THEN[1]: setState → { productId: event.key }  │
│   │                                                 │
│   └─ THEN[2]: navigate → /products/{{key}}         │
├─────────────────────────────────────────────────────┤
│ ✅ 검증: 항목 선택 시 상세 페이지 이동              │
└─────────────────────────────────────────────────────┘
```

**테스트 체크리스트:**
- [ ] onChange (inputValue) → 타이핑 감지 확인
- [ ] onChange (selectedKey) → 항목 선택 감지 확인
- [ ] Debounce 적용 확인
- [ ] textValue 기반 필터링 동작 확인
- [ ] allowsCustomValue 설정에 따른 동작 확인

---

#### 3.3 RadioGroup

**지원 이벤트:**
- `onChange` (Primary)
- `onFocus`
- `onBlur`

**테스트 시나리오:**

```
┌─────────────────────────────────────────────────────┐
│ 시나리오: 결제 방법 선택                             │
├─────────────────────────────────────────────────────┤
│ WHEN: onChange                                      │
│   │                                                 │
│   └─ IF: event.value === 'credit_card'             │
│        │                                            │
│        ├─ THEN: toggleVisibility →                 │
│        │        #card-form (show)                  │
│        │                                            │
│        └─ ELSE: toggleVisibility →                 │
│                 #card-form (hide)                  │
├─────────────────────────────────────────────────────┤
│ ✅ 검증:                                            │
│   - event.value: 선택된 Radio 값                   │
│   - 선택에 따른 폼 영역 표시/숨김                   │
└─────────────────────────────────────────────────────┘
```

**테스트 체크리스트:**
- [ ] onChange → event.value (단일 값) 확인
- [ ] 그룹 내 Radio 선택 변경 시 onChange 발생 확인
- [ ] IF 조건 분기 동작 확인

---

### Phase 4: 컬렉션 컴포넌트

#### 4.1 ListBox

**지원 이벤트:**
- `onChange` (Primary - 선택 변경)
- `onFocus`
- `onBlur`

**테스트 시나리오:**

```
┌─────────────────────────────────────────────────────┐
│ 시나리오 1: 단일 선택                                │
├─────────────────────────────────────────────────────┤
│ WHEN: onChange (selectionMode: single)              │
│   └─ THEN: setState → { selectedItem: event.key }  │
├─────────────────────────────────────────────────────┤
│ ✅ 검증: event.key - 선택된 단일 키                 │
└─────────────────────────────────────────────────────┘
```

```
┌─────────────────────────────────────────────────────┐
│ 시나리오 2: 다중 선택                                │
├─────────────────────────────────────────────────────┤
│ WHEN: onChange (selectionMode: multiple)            │
│   └─ THEN: setState →                              │
│           { selectedItems: Array.from(event.keys) }│
├─────────────────────────────────────────────────────┤
│ ✅ 검증: event.keys - Set 형태의 선택 키들         │
└─────────────────────────────────────────────────────┘
```

```
┌─────────────────────────────────────────────────────┐
│ 시나리오 3: 마스터-디테일 패턴                       │
├─────────────────────────────────────────────────────┤
│ WHEN: onChange                                      │
│   ├─ THEN[1]: setState → { selectedId: event.key } │
│   │                                                 │
│   └─ THEN[2]: apiCall →                            │
│              GET /items/{{key}}/details            │
├─────────────────────────────────────────────────────┤
│ ✅ 검증: 목록 선택 → 상세 정보 로드                 │
└─────────────────────────────────────────────────────┘
```

**테스트 체크리스트:**
- [ ] selectionMode: single → event.key (단일 값) 확인
- [ ] selectionMode: multiple → event.keys (Set) 확인
- [ ] DataBinding 연동 ListBox 동작 확인
- [ ] Field 자식 요소 렌더링 확인

---

#### 4.2 GridList

**지원 이벤트:**
- `onChange` (Primary)
- `onFocus`
- `onBlur`

**테스트 시나리오:**

```
┌─────────────────────────────────────────────────────┐
│ 시나리오: 이미지 갤러리 선택                         │
├─────────────────────────────────────────────────────┤
│ WHEN: onChange                                      │
│   │                                                 │
│   └─ IF: event.keys.size > 0                       │
│        │                                            │
│        ├─ THEN: toggleVisibility →                 │
│        │        #bulk-actions (show)               │
│        │                                            │
│        └─ ELSE: toggleVisibility →                 │
│                 #bulk-actions (hide)               │
├─────────────────────────────────────────────────────┤
│ ✅ 검증: 선택 항목 유무에 따른 UI 토글              │
└─────────────────────────────────────────────────────┘
```

**테스트 체크리스트:**
- [ ] onChange → 그리드 아이템 선택 확인
- [ ] 다중 선택 모드 동작 확인
- [ ] IF 조건 (선택 개수) 확인

---

#### 4.3 TagGroup

**지원 이벤트:**
- `onChange` (Primary - 선택 변경)
- `onRemove` (태그 삭제 시)

**테스트 시나리오:**

```
┌─────────────────────────────────────────────────────┐
│ 시나리오 1: 태그 필터링                              │
├─────────────────────────────────────────────────────┤
│ WHEN: onChange                                      │
│   └─ THEN: filterCollection →                      │
│           { tags: Array.from(event.keys) }         │
├─────────────────────────────────────────────────────┤
│ ✅ 검증: 선택된 태그로 컬렉션 필터링                │
└─────────────────────────────────────────────────────┘
```

```
┌─────────────────────────────────────────────────────┐
│ 시나리오 2: 태그 삭제 (allowsRemoving: true)        │
├─────────────────────────────────────────────────────┤
│ WHEN: onRemove                                      │
│   ├─ THEN[1]: setState →                           │
│   │          { removedTags: [...state, event.key] }│
│   │                                                 │
│   └─ THEN[2]: showToast → "태그가 삭제되었습니다"   │
├─────────────────────────────────────────────────────┤
│ ✅ 검증:                                            │
│   - removedItemIds 배열 업데이트                    │
│   - 삭제 확인 토스트 표시                           │
└─────────────────────────────────────────────────────┘
```

**테스트 체크리스트:**
- [ ] onChange → 태그 선택/해제 확인
- [ ] onRemove → 태그 삭제 이벤트 확인 (allowsRemoving: true)
- [ ] removedItemIds 비파괴적 삭제 동작 확인
- [ ] 복원 기능 동작 확인

---

#### 4.4 Tree

**지원 이벤트:**
- `onChange` (Primary - 선택 변경)
- `onExpand` (노드 확장/축소)

**테스트 시나리오:**

```
┌─────────────────────────────────────────────────────┐
│ 시나리오 1: 파일 트리 네비게이션                     │
├─────────────────────────────────────────────────────┤
│ WHEN: onChange                                      │
│   │                                                 │
│   └─ IF: selectedItem.type === 'file'              │
│        │                                            │
│        └─ THEN: apiCall →                          │
│                GET /files/{{key}}/content          │
├─────────────────────────────────────────────────────┤
│ ✅ 검증: 파일 선택 시 내용 로드                     │
└─────────────────────────────────────────────────────┘
```

```
┌─────────────────────────────────────────────────────┐
│ 시나리오 2: 노드 확장 시 자식 로드                   │
├─────────────────────────────────────────────────────┤
│ WHEN: onExpand                                      │
│   │                                                 │
│   └─ IF: event.isExpanded === true                 │
│        │                                            │
│        └─ THEN: loadDataset →                      │
│                { endpoint: /tree/{{key}}/children }│
├─────────────────────────────────────────────────────┤
│ ✅ 검증: Lazy loading 구현                          │
└─────────────────────────────────────────────────────┘
```

**테스트 체크리스트:**
- [ ] onChange → TreeItem 선택 확인
- [ ] 계층 구조 DataBinding 동작 확인
- [ ] hasChildren: true 항목 확장 동작 확인

---

#### 4.5 Table

**지원 이벤트:**
- `onChange` (행 선택 변경)
- `onSort` (컬럼 정렬 변경)
- `onCellAction` (셀 클릭/편집)

**테스트 시나리오:**

```
┌─────────────────────────────────────────────────────┐
│ 시나리오 1: 행 선택 → 상세 패널                     │
├─────────────────────────────────────────────────────┤
│ WHEN: onChange (row selection)                      │
│   └─ THEN: setState → { selectedRow: event.key }   │
├─────────────────────────────────────────────────────┤
│ ✅ 검증: 테이블 행 선택 시 상태 업데이트            │
└─────────────────────────────────────────────────────┘
```

```
┌─────────────────────────────────────────────────────┐
│ 시나리오 2: 컬럼 정렬                                │
├─────────────────────────────────────────────────────┤
│ WHEN: onSort                                        │
│   └─ THEN: loadDataset →                           │
│           { endpoint: /data?sort={{column}}&order={{order}} }│
├─────────────────────────────────────────────────────┤
│ ✅ 검증: 정렬 변경 시 서버 측 정렬                  │
└─────────────────────────────────────────────────────┘
```

**테스트 체크리스트:**
- [ ] 행 선택 onChange 확인
- [ ] 컬럼 정렬 이벤트 확인
- [ ] DataBinding 연동 Table 동작 확인

---

#### 4.6 Menu

**지원 이벤트:**
- `onAction` (Primary - 메뉴 항목 선택)

**테스트 시나리오:**

```
┌─────────────────────────────────────────────────────┐
│ 시나리오: 컨텍스트 메뉴 액션                         │
├─────────────────────────────────────────────────────┤
│ WHEN: onAction                                      │
│   │                                                 │
│   └─ IF: event.key === 'delete'                    │
│        │                                            │
│        ├─ THEN: showModal → #confirm-delete        │
│        │                                            │
│   └─ ELSE IF: event.key === 'edit'                 │
│        │                                            │
│        └─ THEN: navigate → /edit/{{itemId}}        │
├─────────────────────────────────────────────────────┤
│ ✅ 검증: 메뉴 항목별 다른 액션 실행                 │
└─────────────────────────────────────────────────────┘
```

**테스트 체크리스트:**
- [ ] onAction → event.key 메뉴 항목 키 확인
- [ ] 조건부 액션 분기 확인

---

### Phase 5: 레이아웃/네비게이션 컴포넌트

#### 5.1 Tabs

**지원 이벤트:**
- `onChange` (Primary - 탭 변경)

**테스트 시나리오:**

```
┌─────────────────────────────────────────────────────┐
│ 시나리오 1: 탭 변경 → 컨텐츠 로드                   │
├─────────────────────────────────────────────────────┤
│ WHEN: onChange                                      │
│   └─ THEN: loadDataset →                           │
│           { endpoint: /tab-content/{{key}} }       │
├─────────────────────────────────────────────────────┤
│ ✅ 검증: 탭 전환 시 해당 컨텐츠 로드                │
└─────────────────────────────────────────────────────┘
```

```
┌─────────────────────────────────────────────────────┐
│ 시나리오 2: 탭 변경 시 URL 동기화                   │
├─────────────────────────────────────────────────────┤
│ WHEN: onChange                                      │
│   └─ THEN: navigate → ?tab={{key}} (query param)   │
├─────────────────────────────────────────────────────┤
│ ✅ 검증: URL 쿼리 파라미터 업데이트                 │
└─────────────────────────────────────────────────────┘
```

**테스트 체크리스트:**
- [ ] onChange → 탭 전환 확인
- [ ] event.key → 선택된 탭 ID (tabId) 확인
- [ ] Panel 컨텐츠 전환 확인

---

#### 5.2 Breadcrumbs

**지원 이벤트:**
- `onClick` (각 Breadcrumb 항목)

**테스트 시나리오:**

```
┌─────────────────────────────────────────────────────┐
│ 시나리오: 경로 탐색                                  │
├─────────────────────────────────────────────────────┤
│ WHEN: onClick (Breadcrumb)                          │
│   └─ THEN: navigate → {{href}}                     │
├─────────────────────────────────────────────────────┤
│ ✅ 검증: 브레드크럼 클릭 시 해당 경로로 이동        │
└─────────────────────────────────────────────────────┘
```

**테스트 체크리스트:**
- [ ] Breadcrumb onClick → navigate 확인
- [ ] 마지막 항목 (현재 페이지) 클릭 불가 확인

---

#### 5.3 ToggleButtonGroup

**지원 이벤트:**
- `onChange` (Primary - 선택 변경)

**테스트 시나리오:**

```
┌─────────────────────────────────────────────────────┐
│ 시나리오: 뷰 모드 전환                               │
├─────────────────────────────────────────────────────┤
│ WHEN: onChange                                      │
│   └─ THEN: setState → { viewMode: event.keys[0] }  │
├─────────────────────────────────────────────────────┤
│ ✅ 검증:                                            │
│   - selectionMode: single → 단일 선택              │
│   - event.keys: Set 형태                           │
└─────────────────────────────────────────────────────┘
```

**테스트 체크리스트:**
- [ ] onChange → 토글 버튼 선택 변경 확인
- [ ] selectionMode에 따른 event.keys 형태 확인
- [ ] Indicator 애니메이션 동작 확인

---

#### 5.4 Tooltip

**지원 이벤트:**
- (트리거 요소에서 처리)
- `onOpenChange` (열림/닫힘 상태 변경)

**테스트 시나리오:**

```
┌─────────────────────────────────────────────────────┐
│ 시나리오: 툴팁 표시 추적                             │
├─────────────────────────────────────────────────────┤
│ WHEN: onOpenChange                                  │
│   │                                                 │
│   └─ IF: event.isOpen === true                     │
│        │                                            │
│        └─ THEN: customFunction →                   │
│                analytics.track('tooltip_viewed')    │
├─────────────────────────────────────────────────────┤
│ ✅ 검증: 툴팁 열림 시 분석 이벤트 전송              │
└─────────────────────────────────────────────────────┘
```

**테스트 체크리스트:**
- [ ] 트리거 요소 호버 시 Tooltip 표시 확인
- [ ] onOpenChange 이벤트 발생 확인

---

### Phase 6: 데이터 컴포넌트

#### 6.1 Dataset

**지원 이벤트:**
- `onLoad` (데이터 로드 완료)
- `onError` (로드 실패)
- `onChange` (데이터 변경)

**테스트 시나리오:**

```
┌─────────────────────────────────────────────────────┐
│ 시나리오 1: 초기 데이터 로드                         │
├─────────────────────────────────────────────────────┤
│ WHEN: onLoad                                        │
│   ├─ THEN[1]: setState →                           │
│   │          { isLoading: false }                  │
│   │                                                 │
│   └─ THEN[2]: syncComponent →                      │
│              { target: '#product-list' }           │
├─────────────────────────────────────────────────────┤
│ ✅ 검증:                                            │
│   - autoLoad: true 시 자동 로드                    │
│   - 로드 완료 후 연결된 컴포넌트 동기화             │
└─────────────────────────────────────────────────────┘
```

```
┌─────────────────────────────────────────────────────┐
│ 시나리오 2: 에러 처리                                │
├─────────────────────────────────────────────────────┤
│ WHEN: onError                                       │
│   ├─ THEN[1]: setState →                           │
│   │          { error: event.error }                │
│   │                                                 │
│   └─ THEN[2]: showToast →                          │
│              "데이터 로드 실패: {{error.message}}"  │
├─────────────────────────────────────────────────────┤
│ ✅ 검증: API 오류 시 사용자 알림                    │
└─────────────────────────────────────────────────────┘
```

**테스트 체크리스트:**
- [ ] autoLoad: true → 자동 데이터 로드 확인
- [ ] onLoad → 로드 완료 이벤트 확인
- [ ] onError → 에러 핸들링 확인
- [ ] MOCK_DATA 엔드포인트 동작 확인

---

#### 6.2 Calendar

**지원 이벤트:**
- `onChange` (Primary - 날짜 선택)
- `onFocusChange` (포커스 날짜 변경)

**테스트 시나리오:**

```
┌─────────────────────────────────────────────────────┐
│ 시나리오: 예약 날짜 선택                             │
├─────────────────────────────────────────────────────┤
│ WHEN: onChange                                      │
│   │                                                 │
│   └─ IF: event.value >= today                      │
│        │                                            │
│        ├─ THEN: setState →                         │
│        │        { reservationDate: event.value }   │
│        │                                            │
│        └─ ELSE: showToast → "과거 날짜 선택 불가"   │
├─────────────────────────────────────────────────────┤
│ ✅ 검증: 유효한 날짜만 선택 가능                    │
└─────────────────────────────────────────────────────┘
```

**테스트 체크리스트:**
- [ ] onChange → 날짜 선택 이벤트 확인
- [ ] minDate/maxDate 범위 제한 동작 확인
- [ ] 타임존 설정 동작 확인

---

#### 6.3 DatePicker / DateRangePicker

**지원 이벤트:**
- `onChange` (Primary)
- `onOpenChange` (팝오버 열림/닫힘)

**테스트 시나리오:**

```
┌─────────────────────────────────────────────────────┐
│ 시나리오: 기간 필터링                                │
├─────────────────────────────────────────────────────┤
│ WHEN: onChange (DateRangePicker)                    │
│   └─ THEN: filterCollection →                      │
│           { startDate: event.start, endDate: event.end }│
├─────────────────────────────────────────────────────┤
│ ✅ 검증:                                            │
│   - event.start, event.end 범위 값                 │
│   - 날짜 범위로 컬렉션 필터링                       │
└─────────────────────────────────────────────────────┘
```

**테스트 체크리스트:**
- [ ] onChange → 날짜/범위 값 확인
- [ ] 팝오버 열림/닫힘 동작 확인

---

#### 6.4 TimeField

**지원 이벤트:**
- `onChange` (Primary)
- `onFocus`
- `onBlur`

**테스트 시나리오:**

```
┌─────────────────────────────────────────────────────┐
│ 시나리오: 시간 입력                                  │
├─────────────────────────────────────────────────────┤
│ WHEN: onChange                                      │
│   └─ THEN: setState →                              │
│           { appointmentTime: event.value }         │
├─────────────────────────────────────────────────────┤
│ ✅ 검증: 시간 값 저장                               │
└─────────────────────────────────────────────────────┘
```

**테스트 체크리스트:**
- [ ] onChange → 시간 값 변경 확인
- [ ] hourCycle 설정 (12h/24h) 동작 확인

---

## 4. 테스트 체크리스트

### 4.1 기본 이벤트 동작 확인

| 테스트 항목 | 확인 사항 | 상태 |
|------------|----------|------|
| WHEN 블록 | 이벤트 타입 선택 및 바인딩 | ☐ |
| IF 블록 | 조건 추가/삭제/편집 | ☐ |
| THEN 블록 | 액션 추가/삭제/순서 변경 | ☐ |
| ELSE 블록 | 조건 불만족 시 액션 실행 | ☐ |
| 다중 액션 | 순차 실행 순서 보장 | ☐ |
| Debounce | 지정 시간 후 실행 | ☐ |
| Throttle | 주기적 실행 제한 | ☐ |

### 4.2 액션별 동작 확인

| 액션 | 테스트 시나리오 | 상태 |
|------|---------------|------|
| navigate | 내부 페이지 이동 | ☐ |
| navigate | 외부 URL 이동 (새 탭) | ☐ |
| scrollTo | 요소로 스크롤 | ☐ |
| toggleVisibility | 요소 표시/숨김 | ☐ |
| showModal | 모달 표시 | ☐ |
| hideModal | 모달 숨김 | ☐ |
| showToast | 토스트 메시지 | ☐ |
| setState | 전역 상태 설정 | ☐ |
| updateState | 상태 병합 업데이트 | ☐ |
| copyToClipboard | 클립보드 복사 | ☐ |
| validateForm | 폼 유효성 검사 | ☐ |
| resetForm | 폼 초기화 | ☐ |
| submitForm | 폼 제출 | ☐ |
| apiCall | REST API 호출 | ☐ |
| loadDataset | Dataset 로드/갱신 | ☐ |
| customFunction | JavaScript 코드 실행 | ☐ |

### 4.3 변수 바인딩 확인

| 바인딩 유형 | 테스트 시나리오 | 상태 |
|------------|---------------|------|
| `{{event.value}}` | 이벤트 값 참조 | ☐ |
| `{{state.key}}` | 전역 상태 참조 | ☐ |
| `{{element.id.prop}}` | 요소 속성 참조 | ☐ |
| `{{dataset.name.field}}` | Dataset 필드 참조 | ☐ |

---

## 5. 문제 해결 가이드

### 5.1 일반적인 문제

| 문제 | 원인 | 해결 방법 |
|------|------|----------|
| 이벤트 발생 안함 | 요소에 이벤트 핸들러 미바인딩 | Events Panel에서 핸들러 추가 확인 |
| 액션 실행 안됨 | enabled: false 설정 | 액션의 enabled 속성 true 확인 |
| Navigate 동작 안함 | 경로 형식 오류 | "/" 접두사 확인 (자동 정규화됨) |
| 조건 분기 안됨 | IF 조건 평가 오류 | 조건 표현식 문법 확인 |
| 데이터 로드 실패 | API 엔드포인트 오류 | Network 탭에서 요청/응답 확인 |

### 5.2 디버깅 방법

1. **콘솔 로그 확인**
   - EventEngine 경고 메시지 확인
   - `[EventEngine] Skipping disabled action` 메시지 확인

2. **Elements Inspector**
   - 요소의 `events` 속성 확인
   - 핸들러 및 액션 배열 구조 확인

3. **Network 탭**
   - API 호출 요청/응답 확인
   - MOCK_DATA 엔드포인트 동작 확인

4. **Block UI 확인**
   - WHEN → IF → THEN/ELSE 연결 확인
   - 각 블록의 설정 값 확인

---

## 변경 이력

| 버전 | 날짜 | 변경 내용 |
|------|------|----------|
| 1.0.0 | 2025-12-07 | 초안 작성 - 컴포넌트별 이벤트 테스트 가이드 |

---

**문서 작성**: Claude Code
**기반 설계 문서**: [EVENTS_PANEL_REDESIGN.md](./EVENTS_PANEL_REDESIGN.md)
