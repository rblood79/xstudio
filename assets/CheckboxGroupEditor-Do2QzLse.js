import{r as x,u as h,j as a,b as r,T as v,c as j,d as b,t as g,w as L,i as p,x as A,P as c,a as y,F as P,l as I,e as S,q as M,R as H,y as K,H as R,f as w,E as V}from"./index-GOxkp0K_.js";import{P as s}from"./labels-C7QIhqP9.js";import{P as N}from"./pointer-off-C9IbEw1U.js";import{R as X}from"./ratio-qoUQNK1e.js";import{P as z}from"./pen-off-Ba2cGgfN.js";const W=x.memo(function({elementId:i,currentProps:o,onUpdate:f}){const[C,E]=x.useState(null),T=h(e=>e.addElement),_=h(e=>e.currentPageId),u=h(e=>e.updateElementProps),B=h(e=>e.setElements),m=h(e=>e.elements),O=x.useMemo(()=>h.getState().elementsMap.get(i)?.customId||"",[i]);x.useEffect(()=>{E(null)},[i]);const n=(e,l)=>{const t={...o,[e]:l};f(t)},k=e=>{const l=h.getState().updateElement;l&&i&&l(i,{customId:e})},d=x.useMemo(()=>m.filter(e=>e.parent_id===i&&e.tag==="Checkbox").sort((e,l)=>(e.order_num||0)-(l.order_num||0)),[m,i]);if(C&&C.parentId===i){const e=d[C.checkboxIndex];return e?a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"properties-aria",children:[a.jsx(r,{label:s.LABEL,value:String(e.props.children||""),onChange:l=>{const t={...e.props,children:l};u(e.id,t)},icon:v}),a.jsx(r,{label:s.VALUE,value:String(e.props.value||""),onChange:l=>{const t={...e.props,value:l};u(e.id,t)},icon:j}),a.jsx(b,{label:s.SELECTED,isSelected:!!e.props.isSelected,onChange:l=>{const t={...e.props,isSelected:l};u(e.id,t)},icon:g}),a.jsx(b,{label:s.DISABLED,isSelected:!!e.props.isDisabled,onChange:l=>{const t={...e.props,isDisabled:l};u(e.id,t)},icon:N}),a.jsx(b,{label:s.INDETERMINATE,isSelected:!!e.props.isIndeterminate,onChange:l=>{const t={...e.props,isIndeterminate:l};u(e.id,t)},icon:g}),a.jsx("div",{className:"tab-actions",children:a.jsxs("button",{className:"control-button delete",onClick:async()=>{try{const{error:l}=await A.from("elements").delete().eq("id",e.id);if(l){console.error("Checkbox ì‚­ì œ ì—ëŸ¬:",l);return}const t=m.filter(D=>D.id!==e.id);B(t),E(null)}catch(l){console.error("Checkbox ì‚­ì œ ì¤‘ ì˜¤ë¥˜:",l)}},children:[a.jsx(L,{color:p.color,strokeWidth:p.strokeWidth,size:p.size}),s.DELETE_THIS_CHECKBOX]})})]}),a.jsx("div",{className:"tab-actions",children:a.jsx("button",{className:"control-button secondary",onClick:()=>E(null),children:s.BACK_TO_CHECKBOX_GROUP_SETTINGS})})]}):null}return a.jsxs(a.Fragment,{children:[a.jsx(c,{title:"Basic",children:a.jsx(y,{label:"ID",value:O,elementId:i,onChange:k,placeholder:"checkboxgroup_1"})}),a.jsxs(c,{title:"Content",children:[a.jsx(r,{label:s.LABEL,value:String(o.label||""),onChange:e=>n("label",e),icon:v}),a.jsx(r,{label:s.DESCRIPTION,value:String(o.description||""),onChange:e=>n("description",e),icon:P}),a.jsx(r,{label:s.ERROR_MESSAGE,value:String(o.errorMessage||""),onChange:e=>n("errorMessage",e),icon:I})]}),a.jsxs(c,{title:"Design",children:[a.jsx(S,{label:s.VARIANT,value:String(o.variant||"default"),onChange:e=>n("variant",e),options:[{value:"default",label:s.CHECKBOX_VARIANT_DEFAULT},{value:"primary",label:s.CHECKBOX_VARIANT_PRIMARY},{value:"secondary",label:s.CHECKBOX_VARIANT_SECONDARY},{value:"surface",label:s.CHECKBOX_VARIANT_SURFACE}],icon:M}),a.jsx(S,{label:s.SIZE,value:String(o.size||"md"),onChange:e=>n("size",e),options:[{value:"sm",label:s.SIZE_SM},{value:"md",label:s.SIZE_MD},{value:"lg",label:s.SIZE_LG}],icon:H}),a.jsx(S,{label:s.ORIENTATION,value:String(o.orientation||"vertical"),onChange:e=>n("orientation",e),options:[{value:"horizontal",label:s.ORIENTATION_HORIZONTAL},{value:"vertical",label:s.ORIENTATION_VERTICAL}],icon:X})]}),a.jsxs(c,{title:"State",children:[a.jsx(b,{label:s.REQUIRED,isSelected:!!o.isRequired,onChange:e=>n("isRequired",e),icon:g}),a.jsx(b,{label:s.INVALID,isSelected:!!o.isInvalid,onChange:e=>n("isInvalid",e),icon:I})]}),a.jsxs(c,{title:"Behavior",children:[a.jsx(b,{label:s.DISABLED,isSelected:!!o.isDisabled,onChange:e=>n("isDisabled",e),icon:N}),a.jsx(b,{label:s.READONLY,isSelected:!!o.isReadOnly,onChange:e=>n("isReadOnly",e),icon:z})]}),a.jsx(c,{title:"Form Integration",children:a.jsx(r,{label:s.NAME,value:String(o.name||""),onChange:e=>n("name",e||void 0),icon:K,placeholder:"checkbox-group-name"})}),a.jsxs(c,{title:"Accessibility",children:[a.jsx(r,{label:s.ARIA_LABEL,value:String(o["aria-label"]||""),onChange:e=>n("aria-label",e||void 0),icon:j,placeholder:"Checkbox group label for screen readers"}),a.jsx(r,{label:s.ARIA_LABELLEDBY,value:String(o["aria-labelledby"]||""),onChange:e=>n("aria-labelledby",e||void 0),icon:R,placeholder:"label-element-id"}),a.jsx(r,{label:s.ARIA_DESCRIBEDBY,value:String(o["aria-describedby"]||""),onChange:e=>n("aria-describedby",e||void 0),icon:R,placeholder:"description-element-id"})]}),a.jsxs(c,{title:s.CHECKBOX_MANAGEMENT,children:[a.jsxs("div",{className:"tab-overview",children:[a.jsxs("p",{className:"tab-overview-text",children:["Total checkboxes: ",d.length||0]}),a.jsx("p",{className:"section-overview-help",children:"ğŸ’¡ Select individual checkboxes from list to edit label, value, and state"})]}),d.length>0&&a.jsx("div",{className:"tabs-list",children:d.map((e,l)=>a.jsxs("div",{className:"tab-list-item",children:[a.jsxs("span",{className:"tab-title",children:[String(e.props.children)||`Option ${l+1}`,!!e.props.isSelected&&" âœ“"]}),a.jsx("button",{className:"tab-edit-button",onClick:()=>E({parentId:i,checkboxIndex:l}),children:"Edit"})]},e.id))}),a.jsx("div",{className:"tab-actions",children:a.jsxs("button",{className:"control-button add",onClick:async()=>{try{const e={id:V.generateId(),page_id:_||"1",tag:"Checkbox",props:{children:`Option ${(d.length||0)+1}`,value:`option${(d.length||0)+1}`,isSelected:!1,isDisabled:!1,isIndeterminate:!1,style:{},className:""},parent_id:i,order_num:(d.length||0)+1},{data:l,error:t}=await A.from("elements").upsert(e,{onConflict:"id"}).select().single();if(t){console.error("Checkbox ì¶”ê°€ ì—ëŸ¬:",t);return}l&&(T(l),console.log("ìƒˆ Checkbox ì¶”ê°€ë¨:",l))}catch(e){console.error("Checkbox ì¶”ê°€ ì¤‘ ì˜¤ë¥˜:",e)}},children:[a.jsx(w,{color:p.color,strokeWidth:p.strokeWidth,size:p.size}),s.ADD_CHECKBOX]})})]})]})});export{W as CheckboxGroupEditor};
