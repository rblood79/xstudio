import{r as u,u as g,j as a,b as r,f as v,T as j,e as b,o as m,v as L,i as h,w as A,P as c,a as y,F as P,l as I,d as S,n as M,R as H,x as K,H as R,S as w,E as V}from"./index-CjM1KX21.js";import{P as l}from"./labels-C7QIhqP9.js";import{P as N}from"./pointer-off-B4YQNQDp.js";import{R as X}from"./ratio-DDLFXxf8.js";import{P as z}from"./pen-off-BlG9Xh6V.js";const $=u.memo(function({elementId:n,currentProps:t,onUpdate:f}){const[C,x]=u.useState(null),{addElement:T,currentPageId:_,updateElementProps:p,setElements:B,elements:E}=g(),O=u.useMemo(()=>g.getState().elementsMap.get(n)?.customId||"",[n]);u.useEffect(()=>{x(null)},[n]);const i=(e,s)=>{const o={...t,[e]:s};f(o)},k=e=>{const s=g.getState().updateElement;s&&n&&s(n,{customId:e})},d=u.useMemo(()=>E.filter(e=>e.parent_id===n&&e.tag==="Checkbox").sort((e,s)=>(e.order_num||0)-(s.order_num||0)),[E,n]);if(C&&C.parentId===n){const e=d[C.checkboxIndex];return e?a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"properties-aria",children:[a.jsx(r,{label:l.LABEL,value:String(e.props.children||""),onChange:s=>{const o={...e.props,children:s};p(e.id,o)},icon:v}),a.jsx(r,{label:l.VALUE,value:String(e.props.value||""),onChange:s=>{const o={...e.props,value:s};p(e.id,o)},icon:j}),a.jsx(b,{label:l.SELECTED,isSelected:!!e.props.isSelected,onChange:s=>{const o={...e.props,isSelected:s};p(e.id,o)},icon:m}),a.jsx(b,{label:l.DISABLED,isSelected:!!e.props.isDisabled,onChange:s=>{const o={...e.props,isDisabled:s};p(e.id,o)},icon:N}),a.jsx(b,{label:l.INDETERMINATE,isSelected:!!e.props.isIndeterminate,onChange:s=>{const o={...e.props,isIndeterminate:s};p(e.id,o)},icon:m}),a.jsx("div",{className:"tab-actions",children:a.jsxs("button",{className:"control-button delete",onClick:async()=>{try{const{error:s}=await A.from("elements").delete().eq("id",e.id);if(s){console.error("Checkbox ì‚­ì œ ì—ëŸ¬:",s);return}const o=E.filter(D=>D.id!==e.id);B(o),x(null)}catch(s){console.error("Checkbox ì‚­ì œ ì¤‘ ì˜¤ë¥˜:",s)}},children:[a.jsx(L,{color:h.color,strokeWidth:h.stroke,size:h.size}),l.DELETE_THIS_CHECKBOX]})})]}),a.jsx("div",{className:"tab-actions",children:a.jsx("button",{className:"control-button secondary",onClick:()=>x(null),children:l.BACK_TO_CHECKBOX_GROUP_SETTINGS})})]}):null}return a.jsxs(a.Fragment,{children:[a.jsx(c,{title:"Basic",children:a.jsx(y,{label:"ID",value:O,elementId:n,onChange:k,placeholder:"checkboxgroup_1"})}),a.jsxs(c,{title:"Content",children:[a.jsx(r,{label:l.LABEL,value:String(t.label||""),onChange:e=>i("label",e),icon:v}),a.jsx(r,{label:l.DESCRIPTION,value:String(t.description||""),onChange:e=>i("description",e),icon:P}),a.jsx(r,{label:l.ERROR_MESSAGE,value:String(t.errorMessage||""),onChange:e=>i("errorMessage",e),icon:I})]}),a.jsxs(c,{title:"Design",children:[a.jsx(S,{label:l.VARIANT,value:String(t.variant||"default"),onChange:e=>i("variant",e),options:[{value:"default",label:l.CHECKBOX_VARIANT_DEFAULT},{value:"primary",label:l.CHECKBOX_VARIANT_PRIMARY},{value:"secondary",label:l.CHECKBOX_VARIANT_SECONDARY},{value:"surface",label:l.CHECKBOX_VARIANT_SURFACE}],icon:M}),a.jsx(S,{label:l.SIZE,value:String(t.size||"md"),onChange:e=>i("size",e),options:[{value:"sm",label:l.SIZE_SM},{value:"md",label:l.SIZE_MD},{value:"lg",label:l.SIZE_LG}],icon:H}),a.jsx(S,{label:l.ORIENTATION,value:String(t.orientation||"vertical"),onChange:e=>i("orientation",e),options:[{value:"horizontal",label:l.ORIENTATION_HORIZONTAL},{value:"vertical",label:l.ORIENTATION_VERTICAL}],icon:X})]}),a.jsxs(c,{title:"State",children:[a.jsx(b,{label:l.REQUIRED,isSelected:!!t.isRequired,onChange:e=>i("isRequired",e),icon:m}),a.jsx(b,{label:l.INVALID,isSelected:!!t.isInvalid,onChange:e=>i("isInvalid",e),icon:I})]}),a.jsxs(c,{title:"Behavior",children:[a.jsx(b,{label:l.DISABLED,isSelected:!!t.isDisabled,onChange:e=>i("isDisabled",e),icon:N}),a.jsx(b,{label:l.READONLY,isSelected:!!t.isReadOnly,onChange:e=>i("isReadOnly",e),icon:z})]}),a.jsx(c,{title:"Form Integration",children:a.jsx(r,{label:l.NAME,value:String(t.name||""),onChange:e=>i("name",e||void 0),icon:K,placeholder:"checkbox-group-name"})}),a.jsxs(c,{title:"Accessibility",children:[a.jsx(r,{label:l.ARIA_LABEL,value:String(t["aria-label"]||""),onChange:e=>i("aria-label",e||void 0),icon:j,placeholder:"Checkbox group label for screen readers"}),a.jsx(r,{label:l.ARIA_LABELLEDBY,value:String(t["aria-labelledby"]||""),onChange:e=>i("aria-labelledby",e||void 0),icon:R,placeholder:"label-element-id"}),a.jsx(r,{label:l.ARIA_DESCRIBEDBY,value:String(t["aria-describedby"]||""),onChange:e=>i("aria-describedby",e||void 0),icon:R,placeholder:"description-element-id"})]}),a.jsxs(c,{title:l.CHECKBOX_MANAGEMENT,children:[a.jsxs("div",{className:"tab-overview",children:[a.jsxs("p",{className:"tab-overview-text",children:["Total checkboxes: ",d.length||0]}),a.jsx("p",{className:"section-overview-help",children:"ğŸ’¡ Select individual checkboxes from list to edit label, value, and state"})]}),d.length>0&&a.jsx("div",{className:"tabs-list",children:d.map((e,s)=>a.jsxs("div",{className:"tab-list-item",children:[a.jsxs("span",{className:"tab-title",children:[String(e.props.children)||`Option ${s+1}`,!!e.props.isSelected&&" âœ“"]}),a.jsx("button",{className:"tab-edit-button",onClick:()=>x({parentId:n,checkboxIndex:s}),children:"Edit"})]},e.id))}),a.jsx("div",{className:"tab-actions",children:a.jsxs("button",{className:"control-button add",onClick:async()=>{try{const e={id:V.generateId(),page_id:_||"1",tag:"Checkbox",props:{children:`Option ${(d.length||0)+1}`,value:`option${(d.length||0)+1}`,isSelected:!1,isDisabled:!1,isIndeterminate:!1,style:{},className:""},parent_id:n,order_num:(d.length||0)+1},{data:s,error:o}=await A.from("elements").upsert(e,{onConflict:"id"}).select().single();if(o){console.error("Checkbox ì¶”ê°€ ì—ëŸ¬:",o);return}s&&(T(s),console.log("ìƒˆ Checkbox ì¶”ê°€ë¨:",s))}catch(e){console.error("Checkbox ì¶”ê°€ ì¤‘ ì˜¤ë¥˜:",e)}},children:[a.jsx(w,{color:h.color,strokeWidth:h.stroke,size:h.size}),l.ADD_CHECKBOX]})})]})]})});export{$ as CheckboxGroupEditor};
