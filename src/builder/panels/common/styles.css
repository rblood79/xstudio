/**
 * React Aria Component Overrides for Inspector
 *
 * Purpose: Override Preview component styles to use Builder tokens
 * (--builder-inspector-*) instead of Preview tokens (--action-*)
 *
 * Used by: All Property* components in shared/ui/
 */

/* Import Section Structure Styles */
@import './section.css';

@layer builder-system {
  :root {
    /* Inspector 전용 크기 토큰 */
    --inspector-control-size: 27px;
    --inspector-label-width: 27px;
  }

  .inspector {
    /* ========================================
     * React Aria Component Overrides
     * ========================================
     * Override component styles to use Builder tokens
     * instead of Preview tokens, ensuring Inspector UI
     * remains independent of Preview theme changes
     * ======================================== */

    /* Button Component */
    .react-aria-Button {
      color: var(--builder-inspector-text-primary);
      background: var(--builder-inspector-control-bg);

      &[data-pressed] {
        background: var(--builder-inspector-hover-bg);
        border-color: var(--builder-inspector-border);
      }

      &[data-hovered] {
        background: var(--builder-inspector-hover-bg);
      }

      &[data-focus-visible] {
        outline: 2px solid var(--builder-inspector-focus-ring);
        outline-offset: 2px;
      }

      &[data-disabled] {
        border-color: var(--builder-inspector-border);
        color: var(--builder-inspector-text-secondary);
        opacity: 0.6;
      }

      /* Button variants in Inspector */
      &.primary {
        background: var(--builder-inspector-button-primary-bg);
        color: white;
        border-color: var(--builder-inspector-button-primary-bg);

        &[data-hovered] {
          background: var(--builder-inspector-button-primary-hover);
          border-color: var(--builder-inspector-button-primary-hover);
        }

        &[data-pressed] {
          background: var(--builder-inspector-button-primary-hover);
          border-color: var(--builder-inspector-button-primary-hover);
        }
      }

      &.secondary {
        background: var(--builder-inspector-button-secondary-bg);
        color: var(--builder-inspector-button-secondary-text);
        border-color: var(--builder-inspector-border);

        &[data-hovered] {
          background: var(--builder-inspector-button-secondary-hover-bg);
          border-color: var(--builder-inspector-button-secondary-hover-border);
        }

        &[data-pressed] {
          background: var(--builder-inspector-button-secondary-hover-bg);
          border-color: var(--builder-inspector-button-secondary-hover-border);
        }
      }
    }

    /* Select Component */
    .react-aria-Select {
      color: var(--builder-inspector-text-primary);

      .react-aria-Button {
        background: var(--builder-inspector-control-bg);
        border: 1px solid var(--builder-inspector-border);

        &[data-focus-visible],
        &[data-pressed] {
          outline: 2px solid var(--builder-inspector-focus-ring);
          outline-offset: -1px;
        }

        &[data-disabled] {
          border-color: var(--builder-inspector-border);
          color: var(--builder-inspector-text-secondary);
          opacity: 0.6;

          span[aria-hidden] {
            background: var(--builder-inspector-border);
            color: var(--builder-inspector-text-secondary);
          }

          .react-aria-SelectValue[data-placeholder] {
            color: var(--builder-inspector-text-secondary);
          }
        }
      }

      .react-aria-SelectValue {
        color: var(--builder-inspector-text-primary);

        &[data-placeholder] {
          color: var(--builder-inspector-text-secondary);
        }
      }

      span[aria-hidden] {
        background: var(--builder-inspector-focus-ring);
        color: var(--builder-inspector-tab-active);
      }
    }

    /* ComboBox Component */
    .react-aria-ComboBox {
      color: var(--builder-inspector-text-primary);

      .react-aria-Input {
        background: var(--builder-inspector-control-bg);
        color: var(--builder-inspector-text-primary);
        border: 1px solid var(--builder-inspector-border);

        &[data-focused] {
          outline: 2px solid var(--builder-inspector-focus-ring);
          outline-offset: -1px;
        }

        &[data-disabled] {
          border-color: var(--builder-inspector-border);
          opacity: 0.6;
        }

        &[data-invalid]:not([data-focused]) {
          border-color: var(--builder-inspector-error-text);
        }
      }

      .react-aria-Button {
        background: var(--builder-inspector-focus-ring);
        color: var(--builder-inspector-tab-active);

        &[data-pressed] {
          background: var(--builder-inspector-focus-ring);
        }

        &[data-disabled] {
          background: var(--builder-inspector-border);
          opacity: 0.6;
        }
      }
    }

    /* Checkbox Component */
    .react-aria-Checkbox {
      color: var(--builder-inspector-text-primary);

      .checkbox {
        border: 2px solid var(--builder-inspector-border);
        background: var(--builder-inspector-control-bg);
      }

      svg {
        stroke: var(--builder-inspector-tab-active);
      }

      &[data-pressed] .checkbox {
        border-color: var(--builder-inspector-border);
      }

      &[data-focus-visible] .checkbox {
        outline: 2px solid var(--builder-inspector-focus-ring);
        outline-offset: 2px;
      }

      &[data-selected],
      &[data-indeterminate] {
        .checkbox {
          border-color: var(--builder-inspector-focus-ring);
          background: var(--builder-inspector-focus-ring);
        }

        &[data-pressed] .checkbox {
          border-color: var(--builder-inspector-focus-ring);
          background: var(--builder-inspector-focus-ring);
        }
      }

      &[data-disabled] {
        color: var(--builder-inspector-text-secondary);
        opacity: 0.6;

        .checkbox {
          border-color: var(--builder-inspector-border);
        }
      }
    }

    /* CheckboxGroup Component */
    .react-aria-CheckboxGroup {
      background-color: var(--builder-inspector-control-bg);

      /* Override parent-controlled variants */
      &[data-checkbox-variant="primary"] .react-aria-Checkbox {
        &[data-selected],
        &[data-indeterminate] {
          .checkbox {
            border-color: var(--builder-inspector-button-primary-bg);
            background: var(--builder-inspector-button-primary-bg);
          }
        }
      }

      &[data-checkbox-variant="secondary"] .react-aria-Checkbox {
        &[data-selected],
        &[data-indeterminate] {
          .checkbox {
            border-color: var(--builder-inspector-button-secondary-hover-bg);
            background: var(--builder-inspector-button-secondary-hover-bg);
          }
        }
      }

      &[data-checkbox-variant="surface"] .react-aria-Checkbox {
        &[data-selected],
        &[data-indeterminate] {
          .checkbox {
            border-color: var(--builder-inspector-surface);
            background: var(--builder-inspector-surface);
          }
        }
      }
    }

    /* Switch Component */
    .react-aria-Switch {
      color: var(--builder-inspector-text-primary);

      &[data-focused],
      &[data-pressed] {
        outline: 2px solid var(--builder-inspector-focus-ring);
        /*outline-offset: 2px;*/
      }

      .react-aria-switch-indicator {
        background: var(--builder-inspector-border);
        border: 1px solid var(--builder-inspector-border);
      }

      &[data-selected] .react-aria-switch-indicator {
        background: var(--builder-inspector-focus-ring);
        border-color: var(--builder-inspector-focus-ring);
      }

      &[data-disabled] {
        color: var(--builder-inspector-text-secondary);
        opacity: 0.6;
      }
    }

    /* Tab Components */
    .react-aria-Tabs {
      .react-aria-TabList {
        border-bottom: 1px solid var(--builder-inspector-divider);

        .react-aria-Tab {
          color: var(--builder-inspector-text-secondary);
          border-bottom: 2px solid transparent;

          &:hover {
            color: var(--builder-inspector-text-primary);
            background: var(--builder-inspector-hover-bg);
          }

          &[data-selected] {
            border-bottom-color: var(--builder-inspector-tab-active);
            color: var(--builder-inspector-tab-active);
          }

          &[data-focus-visible] {
            outline: 2px solid var(--builder-inspector-focus-ring);
            outline-offset: -2px;
          }
        }
      }
    }

    /* ListBoxItem Component */
    .react-aria-ListBoxItem {
      color: var(--builder-inspector-text-primary);
      background: var(--builder-inspector-surface);

      &[data-hovered] {
        background: var(--builder-inspector-hover-bg);
      }

      &[data-selected] {
        background: var(--builder-inspector-focus-ring);
        color: var(--builder-inspector-tab-active);
      }

      &[data-focus-visible] {
        outline: 2px solid var(--builder-inspector-focus-ring);
        outline-offset: -2px;
      }
    }

    /* Group Component */
    .react-aria-Group {
      background-color: var(--builder-inspector-control-bg);
      border: 1px solid var(--builder-inspector-border);
    }

    /* UnitComboBox (custom component) */
    .react-aria-UnitComboBox {
      .react-aria-Input {
        background: var(--builder-inspector-control-bg);
        color: var(--builder-inspector-text-primary);
        border: 1px solid transparent;
      }

      .react-aria-Button {
        background: var(--builder-inspector-focus-ring);
        color: var(--builder-inspector-tab-active);
      }
    }
  }
}
