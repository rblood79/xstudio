import{c as L,r as b,u as x,j as l,b as r,f as S,e as u,v as D,i as g,h as v,P as c,a as y,F as f,l as j,d as T,n as M,R as G,aj as k,o as U,x as F,T as w,H as N,S as z,E as P}from"./index-DeDvoCpU.js";import{P as t}from"./labels-C7QIhqP9.js";import{P as I}from"./pointer-off-CPJQi-Ad.js";import{B as V}from"./binary-BwHcH8nk.js";import{F as Y}from"./focus-BKRKJwgE.js";const Z=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],q=L("target",Z),X=b.memo(function({elementId:i,currentProps:a,onUpdate:B}){const[E,h]=b.useState(null),{addElement:A,currentPageId:C,updateElementProps:m,setElements:_}=x(),p=x(e=>e.elements),R=b.useMemo(()=>x.getState().elementsMap.get(i)?.customId||"",[i]);b.useEffect(()=>{h(null)},[i]);const o=(e,s)=>{const n={...a,[e]:s};B(n)},d=b.useMemo(()=>p.filter(e=>e.parent_id===i&&e.tag==="ToggleButton").sort((e,s)=>(e.order_num||0)-(s.order_num||0)),[p,i]);if(E&&E.parentId===i){const e=d[E.buttonIndex];return e?l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"properties-aria",children:[l.jsx(r,{label:t.CHILDREN,value:String(e.props.children||""),onChange:s=>{const n={...e.props,children:s};m(e.id,n)},icon:S}),l.jsx(u,{label:t.DISABLED,isSelected:!!e.props.isDisabled,onChange:s=>{const n={...e.props,isDisabled:s};m(e.id,n)},icon:I}),l.jsx("div",{className:"tab-actions",children:l.jsxs("button",{className:"control-button delete",onClick:async()=>{try{await(await v()).elements.delete(e.id);const n=p.filter(O=>O.id!==e.id);_(n),h(null)}catch(s){console.error("ToggleButton ÏÇ≠Ï†ú Ï§ë Ïò§Î•ò:",s)}},children:[l.jsx(D,{color:g.color,strokeWidth:g.stroke,size:g.size}),"Delete This Button"]})})]}),l.jsx("div",{className:"tab-actions",children:l.jsx("button",{className:"control-button secondary",onClick:()=>h(null),children:"Back to ToggleButtonGroup Settings"})})]}):null}return l.jsxs(l.Fragment,{children:[l.jsx(c,{title:"Basic",children:l.jsx(y,{label:"ID",value:R,elementId:i,placeholder:"togglebuttongroup_1"})}),l.jsxs(c,{title:"Content",children:[l.jsx(r,{label:t.LABEL,value:String(a.label||""),onChange:e=>o("label",e),icon:S}),l.jsx(r,{label:t.DESCRIPTION,value:String(a.description||""),onChange:e=>o("description",e),icon:f}),l.jsx(r,{label:t.ERROR_MESSAGE,value:String(a.errorMessage||""),onChange:e=>o("errorMessage",e),icon:j})]}),l.jsxs(c,{title:"Design",children:[l.jsx(T,{label:t.VARIANT,value:String(a.variant||"default"),onChange:e=>o("variant",e),options:[{value:"default",label:t.TOGGLEBUTTON_VARIANT_DEFAULT},{value:"primary",label:t.TOGGLEBUTTON_VARIANT_PRIMARY},{value:"secondary",label:t.TOGGLEBUTTON_VARIANT_SECONDARY},{value:"surface",label:t.TOGGLEBUTTON_VARIANT_SURFACE}],icon:M}),l.jsx(T,{label:t.SIZE,value:String(a.size||"md"),onChange:e=>o("size",e),options:[{value:"sm",label:t.SIZE_SM},{value:"md",label:t.SIZE_MD},{value:"lg",label:t.SIZE_LG}],icon:G}),l.jsx(T,{label:t.ORIENTATION,value:String(a.orientation||"horizontal"),onChange:e=>o("orientation",e),options:[{value:"horizontal",label:t.ORIENTATION_HORIZONTAL},{value:"vertical",label:t.ORIENTATION_VERTICAL}],icon:k}),l.jsx(u,{label:t.INDICATOR,isSelected:a.indicator===!0,onChange:e=>{o("indicator",e)},icon:q})]}),l.jsxs(c,{title:"State",children:[l.jsx(T,{label:t.SELECTION_MODE,value:String(a.selectionMode||"single"),onChange:e=>o("selectionMode",e),options:[{value:"single",label:t.SELECTION_MODE_SINGLE},{value:"multiple",label:t.SELECTION_MODE_MULTIPLE}],icon:V}),l.jsx(u,{label:t.REQUIRED,isSelected:!!a.isRequired,onChange:e=>o("isRequired",e),icon:U}),l.jsx(u,{label:t.INVALID,isSelected:!!a.isInvalid,onChange:e=>o("isInvalid",e),icon:j})]}),l.jsxs(c,{title:"Behavior",children:[l.jsx(u,{label:t.DISABLED,isSelected:!!a.isDisabled,onChange:e=>o("isDisabled",e),icon:I}),l.jsx(u,{label:t.AUTO_FOCUS,isSelected:!!a.autoFocus,onChange:e=>o("autoFocus",e),icon:Y})]}),l.jsx(c,{title:"Form Integration",children:l.jsx(r,{label:t.NAME,value:String(a.name||""),onChange:e=>o("name",e||void 0),icon:F,placeholder:"togglebutton-group-name"})}),l.jsxs(c,{title:"Accessibility",children:[l.jsx(r,{label:t.ARIA_LABEL,value:String(a["aria-label"]||""),onChange:e=>o("aria-label",e||void 0),icon:w,placeholder:"Toggle button group label for screen readers"}),l.jsx(r,{label:t.ARIA_LABELLEDBY,value:String(a["aria-labelledby"]||""),onChange:e=>o("aria-labelledby",e||void 0),icon:N,placeholder:"label-element-id"}),l.jsx(r,{label:t.ARIA_DESCRIBEDBY,value:String(a["aria-describedby"]||""),onChange:e=>o("aria-describedby",e||void 0),icon:N,placeholder:"description-element-id"})]}),l.jsxs(c,{title:t.BUTTON_MANAGEMENT,children:[l.jsxs("div",{className:"tab-overview",children:[l.jsxs("p",{className:"tab-overview-text",children:["Total buttons: ",d.length||0]}),l.jsx("p",{className:"section-overview-help",children:"üí° Select individual buttons from list to edit text and state"})]}),d.length>0&&l.jsx("div",{className:"tabs-list",children:d.map((e,s)=>l.jsxs("div",{className:"tab-list-item",children:[l.jsx("span",{className:"tab-title",children:String(e.props.children||`Button ${s+1}`)}),l.jsx("button",{className:"tab-edit-button",onClick:()=>h({parentId:i,buttonIndex:s}),children:"Edit"})]},e.id))}),l.jsx("div",{className:"tab-actions",children:l.jsxs("button",{className:"control-button add",onClick:async()=>{try{const e={id:P.generateId(),page_id:C||"1",tag:"ToggleButton",props:{isSelected:!1,defaultSelected:!1,children:`Toggle ${(d.length||0)+1}`,style:{},className:""},parent_id:i,order_num:(d.length||0)+1},n=await(await v()).elements.insert(e);A(n),console.log("‚úÖ [IndexedDB] ÏÉà ToggleButton Ï∂îÍ∞ÄÎê®:",n)}catch(e){console.error("ToggleButton Ï∂îÍ∞Ä Ï§ë Ïò§Î•ò:",e)}},children:[l.jsx(z,{color:g.color,strokeWidth:g.stroke,size:g.size}),t.ADD_TOGGLE_BUTTON]})})]})]})});export{X as ToggleButtonGroupEditor};
