import{x as L,r as b,u as x,j as t,b as r,T as S,d as u,t as D,i as g,f as v,P as c,a as y,F as f,k as j,c as T,p as M,R as G,a3 as k,q as U,w as F,e as w,H as N,S as z,E as P}from"./index-BLyLime4.js";import{P as l}from"./labels-C7QIhqP9.js";import{P as I}from"./pointer-off-e6Q6rq12.js";import{B as V}from"./binary-CX-tmhiI.js";import{F as q}from"./focus-Ca_CDXVB.js";const Y=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],Z=L("target",Y),X=b.memo(function({elementId:i,currentProps:a,onUpdate:B}){const[E,h]=b.useState(null),{addElement:A,currentPageId:C,updateElementProps:m,setElements:_}=x(),p=x(e=>e.elements),R=b.useMemo(()=>x.getState().elementsMap.get(i)?.customId||"",[i]);b.useEffect(()=>{h(null)},[i]);const o=(e,s)=>{const n={...a,[e]:s};B(n)},d=b.useMemo(()=>p.filter(e=>e.parent_id===i&&e.tag==="ToggleButton").sort((e,s)=>(e.order_num||0)-(s.order_num||0)),[p,i]);if(E&&E.parentId===i){const e=d[E.buttonIndex];return e?t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"properties-aria",children:[t.jsx(r,{label:l.CHILDREN,value:String(e.props.children||""),onChange:s=>{const n={...e.props,children:s};m(e.id,n)},icon:S}),t.jsx(u,{label:l.DISABLED,isSelected:!!e.props.isDisabled,onChange:s=>{const n={...e.props,isDisabled:s};m(e.id,n)},icon:I}),t.jsx("div",{className:"tab-actions",children:t.jsxs("button",{className:"control-button delete",onClick:async()=>{try{await(await v()).elements.delete(e.id);const n=p.filter(O=>O.id!==e.id);_(n),h(null)}catch(s){console.error("ToggleButton ÏÇ≠Ï†ú Ï§ë Ïò§Î•ò:",s)}},children:[t.jsx(D,{color:g.color,strokeWidth:g.stroke,size:g.size}),"Delete This Button"]})})]}),t.jsx("div",{className:"tab-actions",children:t.jsx("button",{className:"control-button secondary",onClick:()=>h(null),children:"Back to ToggleButtonGroup Settings"})})]}):null}return t.jsxs(t.Fragment,{children:[t.jsx(c,{title:"Basic",children:t.jsx(y,{label:"ID",value:R,elementId:i,placeholder:"togglebuttongroup_1"})}),t.jsxs(c,{title:"Content",children:[t.jsx(r,{label:l.LABEL,value:String(a.label||""),onChange:e=>o("label",e),icon:S}),t.jsx(r,{label:l.DESCRIPTION,value:String(a.description||""),onChange:e=>o("description",e),icon:f}),t.jsx(r,{label:l.ERROR_MESSAGE,value:String(a.errorMessage||""),onChange:e=>o("errorMessage",e),icon:j})]}),t.jsxs(c,{title:"Design",children:[t.jsx(T,{label:l.VARIANT,value:String(a.variant||"default"),onChange:e=>o("variant",e),options:[{value:"default",label:l.TOGGLEBUTTON_VARIANT_DEFAULT},{value:"primary",label:l.TOGGLEBUTTON_VARIANT_PRIMARY},{value:"secondary",label:l.TOGGLEBUTTON_VARIANT_SECONDARY},{value:"surface",label:l.TOGGLEBUTTON_VARIANT_SURFACE}],icon:M}),t.jsx(T,{label:l.SIZE,value:String(a.size||"md"),onChange:e=>o("size",e),options:[{value:"sm",label:l.SIZE_SM},{value:"md",label:l.SIZE_MD},{value:"lg",label:l.SIZE_LG}],icon:G}),t.jsx(T,{label:l.ORIENTATION,value:String(a.orientation||"horizontal"),onChange:e=>o("orientation",e),options:[{value:"horizontal",label:l.ORIENTATION_HORIZONTAL},{value:"vertical",label:l.ORIENTATION_VERTICAL}],icon:k}),t.jsx(u,{label:l.INDICATOR,isSelected:a.indicator===!0,onChange:e=>{o("indicator",e)},icon:Z})]}),t.jsxs(c,{title:"State",children:[t.jsx(T,{label:l.SELECTION_MODE,value:String(a.selectionMode||"single"),onChange:e=>o("selectionMode",e),options:[{value:"single",label:l.SELECTION_MODE_SINGLE},{value:"multiple",label:l.SELECTION_MODE_MULTIPLE}],icon:V}),t.jsx(u,{label:l.REQUIRED,isSelected:!!a.isRequired,onChange:e=>o("isRequired",e),icon:U}),t.jsx(u,{label:l.INVALID,isSelected:!!a.isInvalid,onChange:e=>o("isInvalid",e),icon:j})]}),t.jsxs(c,{title:"Behavior",children:[t.jsx(u,{label:l.DISABLED,isSelected:!!a.isDisabled,onChange:e=>o("isDisabled",e),icon:I}),t.jsx(u,{label:l.AUTO_FOCUS,isSelected:!!a.autoFocus,onChange:e=>o("autoFocus",e),icon:q})]}),t.jsx(c,{title:"Form Integration",children:t.jsx(r,{label:l.NAME,value:String(a.name||""),onChange:e=>o("name",e||void 0),icon:F,placeholder:"togglebutton-group-name"})}),t.jsxs(c,{title:"Accessibility",children:[t.jsx(r,{label:l.ARIA_LABEL,value:String(a["aria-label"]||""),onChange:e=>o("aria-label",e||void 0),icon:w,placeholder:"Toggle button group label for screen readers"}),t.jsx(r,{label:l.ARIA_LABELLEDBY,value:String(a["aria-labelledby"]||""),onChange:e=>o("aria-labelledby",e||void 0),icon:N,placeholder:"label-element-id"}),t.jsx(r,{label:l.ARIA_DESCRIBEDBY,value:String(a["aria-describedby"]||""),onChange:e=>o("aria-describedby",e||void 0),icon:N,placeholder:"description-element-id"})]}),t.jsxs(c,{title:l.BUTTON_MANAGEMENT,children:[t.jsxs("div",{className:"tab-overview",children:[t.jsxs("p",{className:"tab-overview-text",children:["Total buttons: ",d.length||0]}),t.jsx("p",{className:"section-overview-help",children:"üí° Select individual buttons from list to edit text and state"})]}),d.length>0&&t.jsx("div",{className:"tabs-list",children:d.map((e,s)=>t.jsxs("div",{className:"tab-list-item",children:[t.jsx("span",{className:"tab-title",children:String(e.props.children||`Button ${s+1}`)}),t.jsx("button",{className:"tab-edit-button",onClick:()=>h({parentId:i,buttonIndex:s}),children:"Edit"})]},e.id))}),t.jsx("div",{className:"tab-actions",children:t.jsxs("button",{className:"control-button add",onClick:async()=>{try{const e={id:P.generateId(),page_id:C||"1",tag:"ToggleButton",props:{isSelected:!1,defaultSelected:!1,children:`Toggle ${(d.length||0)+1}`,style:{},className:""},parent_id:i,order_num:(d.length||0)+1},n=await(await v()).elements.insert(e);A(n),console.log("‚úÖ [IndexedDB] ÏÉà ToggleButton Ï∂îÍ∞ÄÎê®:",n)}catch(e){console.error("ToggleButton Ï∂îÍ∞Ä Ï§ë Ïò§Î•ò:",e)}},children:[t.jsx(z,{color:g.color,strokeWidth:g.stroke,size:g.size}),l.ADD_TOGGLE_BUTTON]})})]})]})});export{X as ToggleButtonGroupEditor};
